"use strict";(self.webpackChunkDawem=self.webpackChunkDawem||[]).push([[165],{3165:(q,p,r)=>{r.r(p),r.d(p,{AuthModule:()=>U});var m=r(6895),c=r(3060),a=r(4006),t=r(4650),f=r(6176),d=r(4463),h=r(3648),u=r(666),_=r(805),C=r(1740);function x(n,l){if(1&n&&(t.TgZ(0,"div",36),t._UZ(1,"img",37),t.TgZ(2,"div"),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Tol("flag flag-"+e.selectedCountry.code.toLowerCase()),t.xp6(2),t.Oqu(e.selectedCountry.name)}}function v(n,l){if(1&n&&t.YNc(0,x,4,3,"div",35),2&n){const e=t.oxw();t.Q6J("ngIf",e.selectedCountry)}}function M(n,l){if(1&n&&(t.TgZ(0,"div",36),t._UZ(1,"img",37),t.TgZ(2,"div"),t._uU(3),t.qZA()()),2&n){const e=l.$implicit;t.xp6(1),t.Tol("flag flag-"+e.code.toLowerCase()),t.xp6(2),t.Oqu(e.name)}}function Z(n,l){1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.EmailIsRequired")," "))}function w(n,l){1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.EmailIsIncorrect")," "))}function O(n,l){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,Z,3,3,"div",39),t.YNc(2,w,3,3,"div",39),t.qZA()),2&n){const e=t.oxw();let i,o;t.xp6(1),t.Q6J("ngIf",(null==(i=e.getControl("Email"))?null:i.hasError("required"))&&(null==(i=e.getControl("Email"))?null:i.dirty)),t.xp6(1),t.Q6J("ngIf",(null==(o=e.getControl("Email"))?null:o.hasError("pattern"))&&!(null!=(o=e.getControl("Email"))&&o.hasError("required")))}}function b(n,l){1&n&&t._UZ(0,"i",41)}function P(n,l){1&n&&t._UZ(0,"i",42)}function y(n,l){1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.PasswordRequired")," "))}function T(n,l){1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.TheMinimumNumberOfCharactersIsFive")," "))}function A(n,l){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,y,3,3,"div",39),t.YNc(2,T,3,3,"div",39),t.qZA()),2&n){const e=t.oxw();let i,o;t.xp6(1),t.Q6J("ngIf",(null==(i=e.getControl("password"))?null:i.hasError("required"))&&(null==(i=e.getControl("password"))?null:i.dirty)),t.xp6(1),t.Q6J("ngIf",(null==(o=e.getControl("password"))?null:o.hasError("minlength"))&&!(null!=(o=e.getControl("password"))&&o.hasError("required")))}}const L=[{path:"",component:(()=>{class n{constructor(e,i,o){this.fb=e,this.translate=i,this.toast=o,this.togglePassword=!0,this.FormGroup=this.fb.group({Email:["",[a.kI.required,a.kI.pattern(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/)]],password:["",[a.kI.required,a.kI.minLength(5)]]}),this.authService=(0,t.f3M)(f.e),this.currentLang=localStorage.getItem("lang"),this.loading=!0,this.router=(0,t.f3M)(c.F0),this.selectedCountry={name:"Egypt",code:"EG"}}ngOnInit(){this.countries=[{name:"Egypt",code:"EG"},{name:"United States",code:"US"},{name:"India",code:"IN"}],null==this.currentLang||"ar"==this.currentLang?(this.selectedCountry={name:"Egypt",code:"EG"},document.documentElement.setAttribute("lang","ar"),this.translate.use("ar")):"en"==this.currentLang?(this.selectedCountry={name:"United States",code:"US"},document.documentElement.setAttribute("lang","en"),this.translate.use("en")):"ind"==this.currentLang&&(this.selectedCountry={name:"India",code:"IN"},document.documentElement.setAttribute("lang","en"),this.translate.use("ind"))}changeLanguage(e){"US"===e.value.code?(document.documentElement.setAttribute("lang","en"),localStorage.setItem("lang","en"),this.translate.use("en")):"EG"==e.value.code?(document.documentElement.setAttribute("lang","ar"),localStorage.setItem("lang","ar"),this.translate.use("ar")):"IN"==e.value.code&&(document.documentElement.setAttribute("lang","en"),localStorage.setItem("lang","ind"),this.translate.use("ind"))}submit(){this.FormGroup.valid&&this.loading?(this.loading=!1,this.authService.login({Email:this.FormGroup.value.Email,Password:this.FormGroup.value.password,RememberMe:!0,ApplicationType:1}).subscribe({next:e=>{this.toast.success(e.message),this.authService.setToken(e.data.token),this.router.navigate(["/user/dashboard"]),this.loading=!0},error:e=>{this.toast.error(e.error.message),this.loading=!0}})):(this.FormGroup.get("Email")?.markAsDirty(),this.FormGroup.get("password")?.markAsDirty())}getControl(e){return this.FormGroup.get(e)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(a.qu),t.Y36(d.sK),t.Y36(h._W))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:57,vars:35,consts:[[1,"body-login"],[1,"row","m-0"],[1,"background-dawem","col-lg-4","d-none","d-md-none","d-lg-block"],[1,"container-login","d-flex","justify-content-between","align-items-center","col-lg-8","col-12","position-relative"],[1,"card","d-flex","justify-content-center","change-language"],["optionLabel","name","filterBy","name","placeholder","Select a Country",3,"options","ngModel","filter","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"content-login"],[1,"header","text-center"],[1,"title"],[1,"sub-text"],[1,"form"],[1,"w-100",3,"formGroup","submit"],[1,"section-field","mb-3"],[1,"mb-2","d-block","f-s-16","label-form"],[1,"color-red","ml-2"],[1,"content-input","position-relative"],[1,"p-input-icon-right","w-100"],[1,"pi","pi-envelope"],["type","text","formControlName","Email","pInputText","","placeholder","user@mail.com",1,"w-100"],["class","container-alerts mb-2",4,"ngIf"],[1,"section-field","c-f"],[1,"p-input-icon-right","w-100","field-password"],[1,"pi","pi-lock"],["formControlName","password","pInputText","",1,"w-100",3,"type","placeholder"],[3,"click"],["class"," pi pi-eye",4,"ngIf"],["class"," pi pi-eye-slash",4,"ngIf"],[1,"btn","btn-primary","w-100","button-submit"],[1,"footer-login","w-100"],[1,"row","align-items-center"],[1,"col-8","text-right"],[1,"col-4","d-flex","align-items-center","footer-info","text-left"],[1,"bi","bi-info-lg"],["class","d-flex align-items-center gap-2",4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],["src","https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png",2,"width","18px"],[1,"container-alerts","mb-2"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[1,"pi","pi-eye"],[1,"pi","pi-eye-slash"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"p-dropdown",5),t.NdJ("ngModelChange",function(g){return o.selectedCountry=g})("onChange",function(g){return o.changeLanguage(g)}),t.YNc(6,v,1,1,"ng-template",6),t.YNc(7,M,4,3,"ng-template",7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",9)(10,"h3",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"p",11),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",12)(17,"form",13),t.NdJ("submit",function(){return o.submit()}),t.TgZ(18,"div",14)(19,"label",15),t._uU(20),t.ALo(21,"translate"),t.TgZ(22,"span",16),t._uU(23,"*"),t.qZA()(),t.TgZ(24,"div",17)(25,"span",18),t._UZ(26,"i",19)(27,"input",20),t.qZA(),t.YNc(28,O,3,2,"div",21),t.qZA()(),t.TgZ(29,"div",22)(30,"label",15),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"span",16),t._uU(34,"*"),t.qZA()(),t.TgZ(35,"div",17)(36,"span",23),t._UZ(37,"i",24)(38,"input",25),t.ALo(39,"translate"),t.TgZ(40,"span",26),t.NdJ("click",function(){return o.togglePassword=!o.togglePassword}),t.YNc(41,b,1,0,"i",27),t.YNc(42,P,1,0,"i",28),t.qZA()(),t.YNc(43,A,3,2,"div",21),t.qZA()(),t.TgZ(44,"button",29),t._uU(45),t.ALo(46,"translate"),t.ALo(47,"translate"),t.qZA()()()(),t.TgZ(48,"div",30)(49,"div",31)(50,"div",32),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",33),t._UZ(54,"i",34),t._uU(55),t.ALo(56,"translate"),t.qZA()()()()()()),2&i){let s,g;t.xp6(5),t.Q6J("options",o.countries)("ngModel",o.selectedCountry)("filter",!0),t.xp6(6),t.Oqu(t.lcZ(12,17,"login.WelcomeFinallyExclusiveMember")),t.xp6(3),t.Oqu(t.lcZ(15,19,"login.LogInToContinue")),t.xp6(3),t.Q6J("formGroup",o.FormGroup),t.xp6(3),t.Oqu(t.lcZ(21,21,"login.email")),t.xp6(8),t.Q6J("ngIf",null==(s=o.getControl("Email"))?null:s.errors),t.xp6(3),t.Oqu(t.lcZ(32,23,"login.password")),t.xp6(7),t.Q6J("type",o.togglePassword?"password":"text")("placeholder",t.lcZ(39,25,"login.password")),t.xp6(3),t.Q6J("ngIf",o.togglePassword),t.xp6(1),t.Q6J("ngIf",!o.togglePassword),t.xp6(1),t.Q6J("ngIf",null==(g=o.getControl("password"))?null:g.errors),t.xp6(2),t.Oqu(o.loading?t.lcZ(46,27,"login.signIn"):t.lcZ(47,29,"login.loading")+"...."),t.xp6(6),t.Oqu(t.lcZ(52,31,"login.Copyrights")),t.xp6(4),t.hij(" ",t.lcZ(56,33,"login.WeNeedHelp")," \u061f")}},dependencies:[m.O5,u.Lt,_.jx,C.o,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.On,d.X$],styles:['.background-dawem[_ngcontent-%COMP%]{background-color:var(--color-blue)}.body-login[_ngcontent-%COMP%]{height:100vh}.body-login[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{min-height:100%}.container-login[_ngcontent-%COMP%]{flex-direction:column;background-color:var(--themeLight)}.container-login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-alerts[_ngcontent-%COMP%]{top:0;position:absolute;left:0;font-size:13px;margin:-10px 0 0;transform:translateY(-100%);-webkit-transform:translateY(-100%);-moz-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%)}.container-alerts[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:2px 5px;margin:0;border:0!important;border-radius:5px}.container-alerts[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]:before{content:"";border-width:10px 10px 10px 10px;border-color:#f8d7da transparent transparent transparent;border-style:solid;position:absolute;bottom:-18px;right:6px}.content-login[_ngcontent-%COMP%]{height:86%;max-width:442px;display:flex;flex-direction:column;justify-content:center}.button-submit[_ngcontent-%COMP%]{font-size:15px;padding-top:10px;padding-bottom:10px}.c-f[_ngcontent-%COMP%]{margin-bottom:30px!important}.header[_ngcontent-%COMP%]{margin-bottom:24px;margin-top:30px}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:23px;line-height:38px;font-weight:900;margin-bottom:13px}.header[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-size:12px;color:var(--grey-500);font-weight:600}.field-password[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-blue);cursor:pointer;width:42px;display:flex;justify-content:center;height:100%;align-items:center}.field-password[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{padding-left:40px}.field-password[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{font-size:15px;color:#a0a7ab}.footer-login[_ngcontent-%COMP%]{width:100%;height:45px}.footer-login[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:12px!important;padding:0 30px;color:#6c757d}[_nghost-%COMP%]     .p-dropdown-filter{margin:0!important}.change-language[_ngcontent-%COMP%]{position:absolute;right:30px;top:30px}.footer-info[_ngcontent-%COMP%]{justify-content:flex-end}.footer-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:23px}.background-dawem[_ngcontent-%COMP%]{background-image:url(right-section.f968a29e105e36f5.png);background-size:cover}@media (max-width: 991px){.header[_ngcontent-%COMP%]{margin-top:102px}}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 576px){.body-login[_ngcontent-%COMP%]{min-height:99%!important}.content-login[_ngcontent-%COMP%]{height:80%}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px}.footer-login[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 15px!important}}@media (max-width: 420px){.footer-login[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.footer-login[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%!important;text-align:right!important}.footer-login[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{margin-bottom:10px}}']})}return n})()}];let I=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(L),c.Bz]})}return n})();var E=r(7590);let U=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[m.ez,I,d.aw,u.kW,E.m]})}return n})()}}]);