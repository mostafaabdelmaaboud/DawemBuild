(self.webpackChunkDawem=self.webpackChunkDawem||[]).push([[179],{75646:(Ln,it,N)=>{"use strict";function z(ze,pe,B,_e){var $n,Xe=arguments.length,un=Xe<3?pe:null===_e?_e=Object.getOwnPropertyDescriptor(pe,B):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)un=Reflect.decorate(ze,pe,B,_e);else for(var ur=ze.length-1;ur>=0;ur--)($n=ze[ur])&&(un=(Xe<3?$n(un):Xe>3?$n(pe,B,un):$n(pe,B))||un);return Xe>3&&un&&Object.defineProperty(pe,B,un),un}function Qe(ze,pe){return function(B,_e){pe(B,_e,ze)}}function te(ze,pe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ze,pe)}function Ge(ze,pe,B,_e){return new(B||(B=Promise))(function(un,$n){function ur(vr){try{gr(_e.next(vr))}catch(ir){$n(ir)}}function kr(vr){try{gr(_e.throw(vr))}catch(ir){$n(ir)}}function gr(vr){vr.done?un(vr.value):function Xe(un){return un instanceof B?un:new B(function($n){$n(un)})}(vr.value).then(ur,kr)}gr((_e=_e.apply(ze,pe||[])).next())})}N.d(it,{uU:()=>Rn,su:()=>Gi,SA:()=>Cn,pt:()=>st});var f=N(94650),k=N(69751),T=N(61135),W=N(88996),J=N(5963),R=N(77579),ge=N(30576),Ke=N(83268);function Tn(ze,pe,B){return B?Tn(ze,pe).pipe((0,Ke.Z)(B)):new k.y(_e=>{const Xe=(...$n)=>_e.next(1===$n.length?$n[0]:$n),un=ze(Xe);return(0,ge.m)(pe)?()=>pe(Xe,un):void 0})}var He=N(56451),ct=N(4707),at=N(93532),ee=N(49468),ce=N(85363);class re extends R.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(pe){const{hasError:B,_hasValue:_e,_value:Xe,thrownError:un,isStopped:$n,_isComplete:ur}=this;B?pe.error(un):($n||ur)&&(_e&&pe.next(Xe),pe.complete())}next(pe){this.isStopped||(this._value=pe,this._hasValue=!0)}complete(){const{_hasValue:pe,_value:B,_isComplete:_e}=this;_e||(this._isComplete=!0,pe&&super.next(B),super.complete())}}function Ne(ze,pe,B,_e){if(B){if(!(0,at.K)(B))return function(...Xe){return Ne(ze,pe,_e).apply(this,Xe).pipe((0,Ke.Z)(B))};_e=B}return _e?function(...Xe){return Ne(ze,pe).apply(this,Xe).pipe((0,ee.R)(_e),(0,ce.Q)(_e))}:function(...Xe){const un=new re;let $n=!0;return new k.y(ur=>{const kr=un.subscribe(ur);if($n){$n=!1;let gr=!1,vr=!1;pe.apply(this,[...Xe,(...ir)=>{if(ze){const ar=ir.shift();if(null!=ar)return void un.error(ar)}un.next(1<ir.length?ir:ir[0]),vr=!0,gr&&un.complete()}]),vr&&un.complete(),gr=!0}return kr})}}function Ue(ze,pe,B){return Ne(!1,ze,pe,B)}var ht=N(39646),Et=N(62843);const _t=N(95577).z;var an=N(54482),ft=N(25032),Ut=N(25403),fn=N(63900),jn=N(54004),xn=N(34782),Nn=(N(71884),N(82722),N(68675)),Dr=N(35684),pn=N(94033),Oe=N(38421);const Bt={connector:()=>new R.x};var Je=N(36895);const Ee=["*"];let xt=(()=>{let ze=class{};return ze.\u0275fac=function(B){return new(B||ze)},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze})(),Rt=(()=>{let ze=class{constructor(B,_e){this._loader=B,this._zone=_e,this._map=new Promise(Xe=>{this._mapResolver=Xe})}createMap(B,_e){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const Xe=new google.maps.Map(B,_e);this._mapResolver(Xe)}))}setMapOptions(B){return this._zone.runOutsideAngular(()=>{this._map.then(_e=>{_e.setOptions(B)})})}createMarker(B={},_e=!0){return this._zone.runOutsideAngular(()=>this._map.then(Xe=>(_e&&(B.map=Xe),new google.maps.Marker(B))))}createInfoWindow(B){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(B)))}createCircle(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>("string"==typeof B.strokePosition&&(B.strokePosition=google.maps.StrokePosition[B.strokePosition]),B.map=_e,new google.maps.Circle(B))))}createRectangle(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>(B.map=_e,new google.maps.Rectangle(B))))}createPolyline(B){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(_e=>{let Xe=new google.maps.Polyline(B);return Xe.setMap(_e),Xe}))}createPolygon(B){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(_e=>{let Xe=new google.maps.Polygon(B);return Xe.setMap(_e),Xe}))}createDataLayer(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>{let Xe=new google.maps.Data(B);return Xe.setMap(_e),Xe}))}createTransitLayer(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>{let Xe=new google.maps.TransitLayer;return Xe.setMap(B.visible?_e:null),Xe}))}createBicyclingLayer(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>{let Xe=new google.maps.BicyclingLayer;return Xe.setMap(B.visible?_e:null),Xe}))}containsLocation(B,_e){return google.maps.geometry.poly.containsLocation(B,_e)}subscribeToMapEvent(B){return new k.y(_e=>{this._map.then(Xe=>{Xe.addListener(B,un=>{this._zone.run(()=>_e.next(un))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(B=>{google.maps.event.clearInstanceListeners(B)})})}setCenter(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>_e.setCenter(B)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(B=>B.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(B=>B.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(B=>B.getMapTypeId()))}setZoom(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>_e.setZoom(B)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(B=>B.getCenter()))}panTo(B){return this._zone.runOutsideAngular(()=>this._map.then(_e=>_e.panTo(B)))}panBy(B,_e){return this._zone.runOutsideAngular(()=>this._map.then(Xe=>Xe.panBy(B,_e)))}fitBounds(B,_e){return this._zone.runOutsideAngular(()=>this._map.then(Xe=>Xe.fitBounds(B,_e)))}panToBounds(B,_e){return this._zone.runOutsideAngular(()=>this._map.then(Xe=>Xe.panToBounds(B,_e)))}getNativeMap(){return this._map}triggerMapEvent(B){return this._map.then(_e=>google.maps.event.trigger(_e,B))}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(xt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[xt,f.R0b])],ze),ze})(),dt=(()=>{let ze=class{constructor(B){this._wrapper=B,this._layers=new Map}addTransitLayer(B,_e){const Xe=this._wrapper.createTransitLayer(_e);this._layers.set(B,Xe)}addBicyclingLayer(B,_e){const Xe=this._wrapper.createBicyclingLayer(_e);this._layers.set(B,Xe)}deleteLayer(B){return this._layers.get(B).then(_e=>{_e.setMap(null),this._layers.delete(B)})}toggleLayerVisibility(B,_e){return this._layers.get(B).then(Xe=>{if(_e.visible)return this._wrapper.getNativeMap().then(un=>{Xe.setMap(un)});Xe.setMap(null)})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt])],ze),ze})(),Wn=(()=>{let ze=class{constructor(B,_e){this._apiWrapper=B,this._zone=_e,this._circles=new Map}addCircle(B){this._circles.set(B,this._apiWrapper.createCircle({center:{lat:B.latitude,lng:B.longitude},clickable:B.clickable,draggable:B.draggable,editable:B.editable,fillColor:B.fillColor,fillOpacity:B.fillOpacity,radius:B.radius,strokeColor:B.strokeColor,strokeOpacity:B.strokeOpacity,strokePosition:B.strokePosition,strokeWeight:B.strokeWeight,visible:B.visible,zIndex:B.zIndex}))}removeCircle(B){return this._circles.get(B).then(_e=>{_e.setMap(null),this._circles.delete(B)})}setOptions(B,_e){return this._circles.get(B).then(Xe=>{"string"==typeof _e.strokePosition&&(_e.strokePosition=google.maps.StrokePosition[_e.strokePosition]),Xe.setOptions(_e)})}getBounds(B){return this._circles.get(B).then(_e=>_e.getBounds())}getCenter(B){return this._circles.get(B).then(_e=>_e.getCenter())}getRadius(B){return this._circles.get(B).then(_e=>_e.getRadius())}setCenter(B){return this._circles.get(B).then(_e=>_e.setCenter({lat:B.latitude,lng:B.longitude}))}setEditable(B){return this._circles.get(B).then(_e=>_e.setEditable(B.editable))}setDraggable(B){return this._circles.get(B).then(_e=>_e.setDraggable(B.draggable))}setVisible(B){return this._circles.get(B).then(_e=>_e.setVisible(B.visible))}setRadius(B){return this._circles.get(B).then(_e=>_e.setRadius(B.radius))}getNativeCircle(B){return this._circles.get(B)}createEventObservable(B,_e){return new k.y(Xe=>{let un=null;return this._circles.get(_e).then($n=>{un=$n.addListener(B,ur=>this._zone.run(()=>Xe.next(ur)))}),()=>{null!==un&&un.remove()}})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})();var kn;let Rn=kn=class{constructor(pe){this._manager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new f.vpe,this.circleClick=new f.vpe,this.circleDblClick=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.dragStart=new f.vpe,this.mouseDown=new f.vpe,this.mouseMove=new f.vpe,this.mouseOut=new f.vpe,this.mouseOver=new f.vpe,this.mouseUp=new f.vpe,this.radiusChange=new f.vpe,this.rightClick=new f.vpe,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(pe){this._circleAddedToManager&&((pe.latitude||pe.longitude)&&this._manager.setCenter(this),pe.editable&&this._manager.setEditable(this),pe.draggable&&this._manager.setDraggable(this),pe.visible&&this._manager.setVisible(this),pe.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(pe))}_updateCircleOptionsChanges(pe){let B={},_e=Object.keys(pe).filter(Xe=>-1!==kn._mapOptions.indexOf(Xe));_e.forEach(Xe=>{B[Xe]=pe[Xe].currentValue}),_e.length>0&&this._manager.setOptions(this,B)}_registerEventListeners(){let pe=new Map;pe.set("center_changed",this.centerChange),pe.set("click",this.circleClick),pe.set("dblclick",this.circleDblClick),pe.set("drag",this.drag),pe.set("dragend",this.dragEnd),pe.set("dragstart",this.dragStart),pe.set("mousedown",this.mouseDown),pe.set("mousemove",this.mouseMove),pe.set("mouseout",this.mouseOut),pe.set("mouseover",this.mouseOver),pe.set("mouseup",this.mouseUp),pe.set("radius_changed",this.radiusChange),pe.set("rightclick",this.rightClick),pe.forEach((B,_e)=>{this._eventSubscriptions.push(this._manager.createEventObservable(_e,this).subscribe(Xe=>{switch(_e){case"radius_changed":this._manager.getRadius(this).then(un=>B.emit(un));break;case"center_changed":this._manager.getCenter(this).then(un=>B.emit({lat:un.lat(),lng:un.lng()}));break;default:B.emit({coords:{lat:Xe.latLng.lat(),lng:Xe.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(pe){pe.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};Rn.\u0275fac=function(pe){return new(pe||Rn)(f.Y36(Wn))},Rn.\u0275dir=f.lG2({type:Rn,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[f.TTD]}),Rn._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Rn.ctorParameters=()=>[{type:Wn}],z([(0,f.IIB)(),te("design:type",Number)],Rn.prototype,"latitude",void 0),z([(0,f.IIB)(),te("design:type",Number)],Rn.prototype,"longitude",void 0),z([(0,f.IIB)(),te("design:type",Object)],Rn.prototype,"clickable",void 0),z([(0,f.IIB)("circleDraggable"),te("design:type",Object)],Rn.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",Object)],Rn.prototype,"editable",void 0),z([(0,f.IIB)(),te("design:type",String)],Rn.prototype,"fillColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],Rn.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),te("design:type",Object)],Rn.prototype,"radius",void 0),z([(0,f.IIB)(),te("design:type",String)],Rn.prototype,"strokeColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],Rn.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),te("design:type",String)],Rn.prototype,"strokePosition",void 0),z([(0,f.IIB)(),te("design:type",Object)],Rn.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),te("design:type",Object)],Rn.prototype,"visible",void 0),z([(0,f.IIB)(),te("design:type",Number)],Rn.prototype,"zIndex",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"centerChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"circleClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"circleDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"drag",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"dragEnd",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"dragStart",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"mouseDown",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"mouseMove",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"mouseOut",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"mouseOver",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"mouseUp",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"radiusChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Rn.prototype,"rightClick",void 0),Rn=kn=z([te("design:paramtypes",[Wn])],Rn);let nr=(()=>{let ze=class{constructor(B,_e){this._wrapper=B,this._zone=_e,this._layers=new Map}addDataLayer(B){const _e=this._wrapper.createDataLayer({style:B.style}).then(Xe=>(B.geoJson&&this.getDataFeatures(Xe,B.geoJson).then(un=>Xe.features=un),Xe));this._layers.set(B,_e)}deleteDataLayer(B){this._layers.get(B).then(_e=>{_e.setMap(null),this._layers.delete(B)})}updateGeoJson(B,_e){this._layers.get(B).then(Xe=>{Xe.forEach(function(un){Xe.remove(un);var $n=Xe.features.indexOf(un,0);$n>-1&&Xe.features.splice($n,1)}),this.getDataFeatures(Xe,_e).then(un=>Xe.features=un)})}setDataOptions(B,_e){this._layers.get(B).then(Xe=>{Xe.setControlPosition(_e.controlPosition),Xe.setControls(_e.controls),Xe.setDrawingMode(_e.drawingMode),Xe.setStyle(_e.style)})}createEventObservable(B,_e){return new k.y(Xe=>{this._layers.get(_e).then(un=>{un.addListener(B,$n=>this._zone.run(()=>Xe.next($n)))})})}getDataFeatures(B,_e){return new Promise((Xe,un)=>{if("object"==typeof _e)try{Xe(B.addGeoJson(_e))}catch($n){un($n)}else"string"==typeof _e?B.loadGeoJson(_e,null,Xe):un("Impossible to extract features from geoJson: wrong argument type")})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})();var xr;let hn=0,Pt=xr=class{constructor(pe){this._manager=pe,this._addedToManager=!1,this._id=(hn++).toString(),this._subscriptions=[],this.layerClick=new f.vpe,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:B=>this.layerClick.emit(B)}].forEach(B=>{const _e=this._manager.createEventObservable(B.name,this).subscribe(B.handler);this._subscriptions.push(_e)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}ngOnChanges(pe){if(!this._addedToManager)return;var B=pe.geoJson;B&&this._manager.updateGeoJson(this,B.currentValue);let _e={};xr._dataOptionsAttributes.forEach(Xe=>_e[Xe]=pe.hasOwnProperty(Xe)?pe[Xe].currentValue:this[Xe]),this._manager.setDataOptions(this,_e)}};Pt.\u0275fac=function(pe){return new(pe||Pt)(f.Y36(nr))},Pt.\u0275dir=f.lG2({type:Pt,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[f.TTD]}),Pt._dataOptionsAttributes=["style"],Pt.ctorParameters=()=>[{type:nr}],z([(0,f.r_U)(),te("design:type",f.vpe)],Pt.prototype,"layerClick",void 0),z([(0,f.IIB)(),te("design:type",Object)],Pt.prototype,"geoJson",void 0),z([(0,f.IIB)(),te("design:type",Function)],Pt.prototype,"style",void 0),Pt=xr=z([te("design:paramtypes",[nr])],Pt);class Vt{}let Te=(()=>{let ze=class{constructor(B){this._boundsChangeSampleTime$=new T.X(200),this._includeInBounds$=new T.X(new Map),this.bounds$=(0,W.D)(B.load()).pipe(_t(()=>this._includeInBounds$),function Xt(ze){return(0,an.e)((pe,B)=>{let _e=!1,Xe=null;pe.subscribe((0,Ut.x)(B,un=>{_e=!0,Xe=un})),ze.subscribe((0,Ut.x)(B,()=>{if(_e){_e=!1;const un=Xe;Xe=null,B.next(un)}},ft.Z))})}(this._boundsChangeSampleTime$.pipe((0,fn.w)(_e=>(0,J.H)(0,_e)))),(0,jn.U)(_e=>this._generateBounds(_e)),(0,xn.d)(1))}_generateBounds(B){const _e=new google.maps.LatLngBounds;return B.forEach(Xe=>_e.extend(Xe)),_e}addToBounds(B){const _e=this._createIdentifier(B);if(this._includeInBounds$.value.has(_e))return;const Xe=this._includeInBounds$.value;Xe.set(_e,B),this._includeInBounds$.next(Xe)}removeFromBounds(B){const _e=this._includeInBounds$.value;_e.delete(this._createIdentifier(B)),this._includeInBounds$.next(_e)}changeFitBoundsChangeSampleTime(B){this._boundsChangeSampleTime$.next(B)}getBounds$(){return this.bounds$}_createIdentifier(B){return`${B.lat}+${B.lng}`}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(xt))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[xt])],ze),ze})(),ae=(()=>{let ze=class{constructor(B,_e){this._mapsWrapper=B,this._zone=_e,this._markers=new Map}convertAnimation(B){return Ge(this,void 0,void 0,function*(){return null===B?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[B])})}deleteMarker(B){const _e=this._markers.get(B);return null==_e?Promise.resolve():_e.then(Xe=>this._zone.run(()=>{Xe.setMap(null),this._markers.delete(B)}))}updateMarkerPosition(B){return this._markers.get(B).then(_e=>_e.setPosition({lat:B.latitude,lng:B.longitude}))}updateTitle(B){return this._markers.get(B).then(_e=>_e.setTitle(B.title))}updateLabel(B){return this._markers.get(B).then(_e=>{_e.setLabel(B.label)})}updateDraggable(B){return this._markers.get(B).then(_e=>_e.setDraggable(B.draggable))}updateIcon(B){return this._markers.get(B).then(_e=>_e.setIcon(B.iconUrl))}updateOpacity(B){return this._markers.get(B).then(_e=>_e.setOpacity(B.opacity))}updateVisible(B){return this._markers.get(B).then(_e=>_e.setVisible(B.visible))}updateZIndex(B){return this._markers.get(B).then(_e=>_e.setZIndex(B.zIndex))}updateClickable(B){return this._markers.get(B).then(_e=>_e.setClickable(B.clickable))}updateAnimation(B){return Ge(this,void 0,void 0,function*(){(yield this._markers.get(B)).setAnimation(yield this.convertAnimation(B.animation))})}addMarker(B){const _e=new Promise(Xe=>Ge(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:B.latitude,lng:B.longitude},label:B.label,draggable:B.draggable,icon:B.iconUrl,opacity:B.opacity,visible:B.visible,zIndex:B.zIndex,title:B.title,clickable:B.clickable,animation:yield this.convertAnimation(B.animation)}).then(Xe)}));this._markers.set(B,_e)}getNativeMarker(B){return this._markers.get(B)}createEventObservable(B,_e){return new k.y(Xe=>{this._markers.get(_e).then(un=>{un.addListener(B,$n=>this._zone.run(()=>Xe.next($n)))})})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})(),rt=(()=>{let ze=class{constructor(B,_e,Xe){this._mapsWrapper=B,this._zone=_e,this._markerManager=Xe,this._infoWindows=new Map}deleteInfoWindow(B){const _e=this._infoWindows.get(B);return null==_e?Promise.resolve():_e.then(Xe=>this._zone.run(()=>{Xe.close(),this._infoWindows.delete(B)}))}setPosition(B){return this._infoWindows.get(B).then(_e=>_e.setPosition({lat:B.latitude,lng:B.longitude}))}setZIndex(B){return this._infoWindows.get(B).then(_e=>_e.setZIndex(B.zIndex))}open(B){return this._infoWindows.get(B).then(_e=>null!=B.hostMarker?this._markerManager.getNativeMarker(B.hostMarker).then(Xe=>this._mapsWrapper.getNativeMap().then(un=>_e.open(un,Xe))):this._mapsWrapper.getNativeMap().then(Xe=>_e.open(Xe)))}close(B){return this._infoWindows.get(B).then(_e=>_e.close())}setOptions(B,_e){return this._infoWindows.get(B).then(Xe=>Xe.setOptions(_e))}addInfoWindow(B){const _e={content:B.content,maxWidth:B.maxWidth,zIndex:B.zIndex,disableAutoPan:B.disableAutoPan};"number"==typeof B.latitude&&"number"==typeof B.longitude&&(_e.position={lat:B.latitude,lng:B.longitude});const Xe=this._mapsWrapper.createInfoWindow(_e);this._infoWindows.set(B,Xe)}createEventObservable(B,_e){return new k.y(Xe=>{this._infoWindows.get(_e).then(un=>{un.addListener(B,$n=>this._zone.run(()=>Xe.next($n)))})})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b),f.LFG(ae))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b,ae])],ze),ze})();var Tt;let bn=0,xe=Tt=class{constructor(pe,B){this._infoWindowManager=pe,this._el=B,this.isOpen=!1,this.infoWindowClose=new f.vpe,this._infoWindowAddedToManager=!1,this._id=(bn++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(pe){this._infoWindowAddedToManager&&((pe.latitude||pe.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),pe.zIndex&&this._infoWindowManager.setZIndex(this),pe.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(pe))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(pe){let B={};Object.keys(pe).filter(Xe=>-1!==Tt._infoWindowOptionsInputs.indexOf(Xe)).forEach(Xe=>{B[Xe]=pe[Xe].currentValue}),this._infoWindowManager.setOptions(this,B)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};xe.\u0275fac=function(pe){return new(pe||xe)(f.Y36(rt),f.Y36(f.SBq))},xe.\u0275cmp=f.Xpm({type:xe,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[f.TTD],ngContentSelectors:Ee,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(pe,B){1&pe&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},encapsulation:2}),xe._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],xe.ctorParameters=()=>[{type:rt},{type:f.SBq}],z([(0,f.IIB)(),te("design:type",Number)],xe.prototype,"latitude",void 0),z([(0,f.IIB)(),te("design:type",Number)],xe.prototype,"longitude",void 0),z([(0,f.IIB)(),te("design:type",Boolean)],xe.prototype,"disableAutoPan",void 0),z([(0,f.IIB)(),te("design:type",Number)],xe.prototype,"zIndex",void 0),z([(0,f.IIB)(),te("design:type",Number)],xe.prototype,"maxWidth",void 0),z([(0,f.IIB)(),te("design:type",Object)],xe.prototype,"isOpen",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],xe.prototype,"infoWindowClose",void 0),xe=Tt=z([te("design:paramtypes",[rt,f.SBq])],xe);let Ct=(()=>{let ze=class{constructor(B,_e){this._wrapper=B,this._zone=_e,this._layers=new Map}addKmlLayer(B){const _e=this._wrapper.getNativeMap().then(Xe=>new google.maps.KmlLayer({clickable:B.clickable,map:Xe,preserveViewport:B.preserveViewport,screenOverlays:B.screenOverlays,suppressInfoWindows:B.suppressInfoWindows,url:B.url,zIndex:B.zIndex}));this._layers.set(B,_e)}setOptions(B,_e){this._layers.get(B).then(Xe=>Xe.setOptions(_e))}deleteKmlLayer(B){this._layers.get(B).then(_e=>{_e.setMap(null),this._layers.delete(B)})}createEventObservable(B,_e){return new k.y(Xe=>{this._layers.get(_e).then(un=>{un.addListener(B,$n=>this._zone.run(()=>Xe.next($n)))})})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})();var Yt;let ln=0,qt=Yt=class{constructor(pe){this._manager=pe,this._addedToManager=!1,this._id=(ln++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new f.vpe,this.defaultViewportChange=new f.vpe,this.statusChange=new f.vpe}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(pe){this._addedToManager&&this._updatePolygonOptions(pe)}_updatePolygonOptions(pe){const B=Object.keys(pe).filter(_e=>-1!==Yt._kmlLayerOptions.indexOf(_e)).reduce((_e,Xe)=>(_e[Xe]=pe[Xe].currentValue,_e),{});Object.keys(B).length>0&&this._manager.setOptions(this,B)}_addEventListeners(){[{name:"click",handler:B=>this.layerClick.emit(B)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(B=>{const _e=this._manager.createEventObservable(B.name,this).subscribe(B.handler);this._subscriptions.push(_e)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}};function ot(ze){const pe=["insert_at","remove_at","set_at"];return Tn(B=>pe.map(_e=>ze.addListener(_e,(Xe,un)=>B.apply(ze,[{newArr:ze.getArray(),evName:_e,index:Xe,previous:un}]))),(B,_e)=>_e.forEach(Xe=>Xe.remove()))}qt.\u0275fac=function(pe){return new(pe||qt)(f.Y36(Ct))},qt.\u0275dir=f.lG2({type:qt,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[f.TTD]}),qt._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],qt.ctorParameters=()=>[{type:Ct}],z([(0,f.IIB)(),te("design:type",Object)],qt.prototype,"clickable",void 0),z([(0,f.IIB)(),te("design:type",Object)],qt.prototype,"preserveViewport",void 0),z([(0,f.IIB)(),te("design:type",Object)],qt.prototype,"screenOverlays",void 0),z([(0,f.IIB)(),te("design:type",Object)],qt.prototype,"suppressInfoWindows",void 0),z([(0,f.IIB)(),te("design:type",String)],qt.prototype,"url",void 0),z([(0,f.IIB)(),te("design:type",Number)],qt.prototype,"zIndex",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],qt.prototype,"layerClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],qt.prototype,"defaultViewportChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],qt.prototype,"statusChange",void 0),qt=Yt=z([te("design:paramtypes",[Ct])],qt);let De=(()=>{let ze=class{constructor(B,_e){this._mapsWrapper=B,this._zone=_e,this._polygons=new Map}addPolygon(B){const _e=this._mapsWrapper.createPolygon({clickable:B.clickable,draggable:B.draggable,editable:B.editable,fillColor:B.fillColor,fillOpacity:B.fillOpacity,geodesic:B.geodesic,paths:B.paths,strokeColor:B.strokeColor,strokeOpacity:B.strokeOpacity,strokeWeight:B.strokeWeight,visible:B.visible,zIndex:B.zIndex});this._polygons.set(B,_e)}updatePolygon(B){const _e=this._polygons.get(B);return null==_e?Promise.resolve():_e.then(Xe=>this._zone.run(()=>{Xe.setPaths(B.paths)}))}setPolygonOptions(B,_e){return this._polygons.get(B).then(Xe=>{Xe.setOptions(_e)})}deletePolygon(B){const _e=this._polygons.get(B);return null==_e?Promise.resolve():_e.then(Xe=>this._zone.run(()=>{Xe.setMap(null),this._polygons.delete(B)}))}getPath(B){return this._polygons.get(B).then(_e=>_e.getPath().getArray())}getPaths(B){return this._polygons.get(B).then(_e=>_e.getPaths().getArray().map(Xe=>Xe.getArray()))}createEventObservable(B,_e){return new k.y(Xe=>{this._polygons.get(_e).then(un=>{un.addListener(B,$n=>this._zone.run(()=>Xe.next($n)))})})}createPathEventObservable(B){return Ge(this,void 0,void 0,function*(){const Xe=(yield this._polygons.get(B)).getPaths();return ot(Xe).pipe((0,Nn.O)({newArr:Xe.getArray()}),(0,fn.w)($n=>(0,He.T)(...$n.newArr.map((ur,kr)=>ot(ur).pipe((0,jn.U)(gr=>({parentMVEvent:$n,chMVCEvent:gr,pathIndex:kr}))))).pipe((0,Nn.O)({parentMVEvent:$n,chMVCEvent:null,pathIndex:null}))),(0,Dr.T)(1),(0,jn.U)(({parentMVEvent:$n,chMVCEvent:ur,pathIndex:kr})=>{let gr;return ur?(gr={newArr:$n.newArr.map(vr=>vr.getArray().map(ir=>ir.toJSON())),pathIndex:kr,eventName:ur.evName,index:ur.index},ur.previous&&(gr.previous=ur.previous)):(gr={newArr:$n.newArr.map(vr=>vr.getArray().map(ir=>ir.toJSON())),eventName:$n.evName,index:$n.index},$n.previous&&(gr.previous=$n.previous.getArray())),gr}))})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})();var Dt;let Ft=Dt=class{constructor(pe,B){this._mapsWrapper=pe,this._zone=B,this._polylines=new Map}static _convertPoints(pe){return pe._getPoints().map(_e=>({lat:_e.latitude,lng:_e.longitude}))}static _convertPath(pe){const B=google.maps.SymbolPath[pe];return"number"==typeof B?B:pe}static _convertIcons(pe){const B=pe._getIcons().map(_e=>({fixedRotation:_e.fixedRotation,offset:_e.offset,repeat:_e.repeat,icon:{anchor:new google.maps.Point(_e.anchorX,_e.anchorY),fillColor:_e.fillColor,fillOpacity:_e.fillOpacity,path:Dt._convertPath(_e.path),rotation:_e.rotation,scale:_e.scale,strokeColor:_e.strokeColor,strokeOpacity:_e.strokeOpacity,strokeWeight:_e.strokeWeight}}));return B.forEach(_e=>{Object.entries(_e).forEach(([Xe,un])=>{typeof un>"u"&&delete _e[Xe]}),(typeof _e.icon.anchor.x>"u"||typeof _e.icon.anchor.y>"u")&&delete _e.icon.anchor}),B}addPolyline(pe){const B=this._mapsWrapper.getNativeMap().then(()=>[Dt._convertPoints(pe),Dt._convertIcons(pe)]).then(([_e,Xe])=>this._mapsWrapper.createPolyline({clickable:pe.clickable,draggable:pe.draggable,editable:pe.editable,geodesic:pe.geodesic,strokeColor:pe.strokeColor,strokeOpacity:pe.strokeOpacity,strokeWeight:pe.strokeWeight,visible:pe.visible,zIndex:pe.zIndex,path:_e,icons:Xe}));this._polylines.set(pe,B)}updatePolylinePoints(pe){const B=Dt._convertPoints(pe),_e=this._polylines.get(pe);return null==_e?Promise.resolve():_e.then(Xe=>this._zone.run(()=>{Xe.setPath(B)}))}updateIconSequences(pe){return Ge(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const B=Dt._convertIcons(pe),_e=this._polylines.get(pe);if(null!=_e)return _e.then(Xe=>this._zone.run(()=>Xe.setOptions({icons:B})))})}setPolylineOptions(pe,B){return this._polylines.get(pe).then(_e=>{_e.setOptions(B)})}deletePolyline(pe){const B=this._polylines.get(pe);return null==B?Promise.resolve():B.then(_e=>this._zone.run(()=>{_e.setMap(null),this._polylines.delete(pe)}))}getMVCPath(pe){return Ge(this,void 0,void 0,function*(){return(yield this._polylines.get(pe)).getPath()})}getPath(pe){return Ge(this,void 0,void 0,function*(){return(yield this.getMVCPath(pe)).getArray()})}createEventObservable(pe,B){return new k.y(_e=>{this._polylines.get(B).then(Xe=>{Xe.addListener(pe,un=>this._zone.run(()=>_e.next(un)))})})}createPathEventObservable(pe){return Ge(this,void 0,void 0,function*(){return ot(yield this.getMVCPath(pe))})}};Ft.\u0275fac=function(pe){return new(pe||Ft)(f.LFG(Rt),f.LFG(f.R0b))},Ft.\u0275prov=f.Yz7({token:Ft,factory:function(ze){return Ft.\u0275fac(ze)}}),Ft.ctorParameters=()=>[{type:Rt},{type:f.R0b}],Ft=Dt=z([te("design:paramtypes",[Rt,f.R0b])],Ft);let vn=(()=>{let ze=class{constructor(B,_e){this._apiWrapper=B,this._zone=_e,this._rectangles=new Map}addRectangle(B){this._rectangles.set(B,this._apiWrapper.createRectangle({bounds:{north:B.north,east:B.east,south:B.south,west:B.west},clickable:B.clickable,draggable:B.draggable,editable:B.editable,fillColor:B.fillColor,fillOpacity:B.fillOpacity,strokeColor:B.strokeColor,strokeOpacity:B.strokeOpacity,strokePosition:B.strokePosition,strokeWeight:B.strokeWeight,visible:B.visible,zIndex:B.zIndex}))}removeRectangle(B){return this._rectangles.get(B).then(_e=>{_e.setMap(null),this._rectangles.delete(B)})}setOptions(B,_e){return this._rectangles.get(B).then(Xe=>Xe.setOptions(_e))}getBounds(B){return this._rectangles.get(B).then(_e=>_e.getBounds())}setBounds(B){return this._rectangles.get(B).then(_e=>_e.setBounds({north:B.north,east:B.east,south:B.south,west:B.west}))}setEditable(B){return this._rectangles.get(B).then(_e=>_e.setEditable(B.editable))}setDraggable(B){return this._rectangles.get(B).then(_e=>_e.setDraggable(B.draggable))}setVisible(B){return this._rectangles.get(B).then(_e=>_e.setVisible(B.visible))}createEventObservable(B,_e){return k.y.create(Xe=>{let un=null;return this._rectangles.get(_e).then($n=>{un=$n.addListener(B,ur=>this._zone.run(()=>Xe.next(ur)))}),()=>{null!==un&&un.remove()}})}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(Rt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([te("design:paramtypes",[Rt,f.R0b])],ze),ze})();var Zn;let Cn=Zn=class{constructor(pe,B,_e,Xe,un){this._elem=pe,this._mapsWrapper=B,this._platformId=_e,this._fitBoundsService=Xe,this._zone=un,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new f.vpe,this.mapRightClick=new f.vpe,this.mapDblClick=new f.vpe,this.centerChange=new f.vpe,this.boundsChange=new f.vpe,this.mapTypeIdChange=new f.vpe,this.idle=new f.vpe,this.zoomChange=new f.vpe,this.mapReady=new f.vpe,this.tilesLoaded=new f.vpe}ngOnInit(){if((0,Je.PM)(this._platformId))return;const pe=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(pe)}_initMapInstance(pe){this._mapsWrapper.createMap(pe,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(B=>this.mapReady.emit(B)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(pe=>pe.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(pe){this._updateMapOptionsChanges(pe),this._updatePosition(pe)}_updateMapOptionsChanges(pe){let B={};Object.keys(pe).filter(Xe=>-1!==Zn._mapOptionsAttributes.indexOf(Xe)).forEach(Xe=>{B[Xe]=pe[Xe].currentValue}),this._mapsWrapper.setMapOptions(B)}triggerResize(pe=!0){return new Promise(B=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{pe&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),B()}))})}_updatePosition(pe){if(null!=pe.latitude||null!=pe.longitude||pe.fitBounds){if("fitBounds"in pe)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){let pe={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(pe):this._mapsWrapper.setCenter(pe)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(pe=>{this._zone.run(()=>this._updateBounds(pe,this.fitBoundsPadding))})})}_updateBounds(pe,B){if(pe){if(this._isLatLngBoundsLiteral(pe)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){const _e=new google.maps.LatLngBounds;_e.union(pe),pe=_e}if(this.usePanning)return void this._mapsWrapper.panToBounds(pe,B);this._mapsWrapper.fitBounds(pe,B)}}_isLatLngBoundsLiteral(pe){return null!=pe&&void 0===pe.extend}_handleMapCenterChange(){const pe=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(B=>{this.latitude=B.lat(),this.longitude=B.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(pe)}_handleBoundsChange(){const pe=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(B=>{this.boundsChange.emit(B)})});this._observableSubscriptions.push(pe)}_handleMapTypeIdChange(){const pe=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(B=>{this.mapTypeIdChange.emit(B)})});this._observableSubscriptions.push(pe)}_handleMapZoomChange(){const pe=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(B=>{this.zoom=B,this.zoomChange.emit(B)})});this._observableSubscriptions.push(pe)}_handleIdleEvent(){const pe=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(pe)}_handleTilesLoadedEvent(){const pe=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(pe)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(B=>{const _e=this._mapsWrapper.subscribeToMapEvent(B.name).subscribe(Xe=>{let un={coords:{lat:Xe.latLng.lat(),lng:Xe.latLng.lng()},placeId:Xe.placeId};un.placeId&&!this.showDefaultInfoWindow&&Xe.stop(),B.emitter.emit(un)});this._observableSubscriptions.push(_e)})}};var yr;Cn.\u0275fac=function(pe){return new(pe||Cn)(f.Y36(f.SBq),f.Y36(Rt),f.Y36(f.Lbi),f.Y36(Te),f.Y36(f.R0b))},Cn.\u0275cmp=f.Xpm({type:Cn,selectors:[["agm-map"]],hostVars:2,hostBindings:function(pe,B){2&pe&&f.ekj("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[f._Bn([Wn,nr,nr,Te,Rt,rt,Ct,dt,ae,De,Ft,vn]),f.TTD],ngContentSelectors:Ee,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(pe,B){1&pe&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),Cn._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],Cn.ctorParameters=()=>[{type:f.SBq},{type:Rt},{type:Object,decorators:[{type:f.tBr,args:[f.Lbi]}]},{type:Te},{type:f.R0b}],z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"longitude",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"latitude",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"zoom",void 0),z([(0,f.IIB)(),te("design:type",Number)],Cn.prototype,"minZoom",void 0),z([(0,f.IIB)(),te("design:type",Number)],Cn.prototype,"maxZoom",void 0),z([(0,f.IIB)(),te("design:type",Number)],Cn.prototype,"controlSize",void 0),z([(0,f.IIB)("mapDraggable"),te("design:type",Object)],Cn.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"disableDoubleClickZoom",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"disableDefaultUI",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"scrollwheel",void 0),z([(0,f.IIB)(),te("design:type",String)],Cn.prototype,"backgroundColor",void 0),z([(0,f.IIB)(),te("design:type",String)],Cn.prototype,"draggableCursor",void 0),z([(0,f.IIB)(),te("design:type",String)],Cn.prototype,"draggingCursor",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"keyboardShortcuts",void 0),z([(0,f.IIB)(),te("design:type",Boolean)],Cn.prototype,"zoomControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"zoomControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Array)],Cn.prototype,"styles",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"usePanning",void 0),z([(0,f.IIB)(),te("design:type",Boolean)],Cn.prototype,"streetViewControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"streetViewControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"fitBounds",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"fitBoundsPadding",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"scaleControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"scaleControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"mapTypeControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"mapTypeControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"panControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"panControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"rotateControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"rotateControlOptions",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"fullscreenControl",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"fullscreenControlOptions",void 0),z([(0,f.IIB)(),te("design:type",String)],Cn.prototype,"mapTypeId",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"clickableIcons",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"showDefaultInfoWindow",void 0),z([(0,f.IIB)(),te("design:type",String)],Cn.prototype,"gestureHandling",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"tilt",void 0),z([(0,f.IIB)(),te("design:type",Object)],Cn.prototype,"restriction",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"mapClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"mapRightClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"mapDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"centerChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"boundsChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"mapTypeIdChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"idle",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"zoomChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"mapReady",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Cn.prototype,"tilesLoaded",void 0),Cn=Zn=z([Qe(2,(0,f.tBr)(f.Lbi)),te("design:paramtypes",[f.SBq,Rt,Object,Te,f.R0b])],Cn);let ei=0,st=yr=class{constructor(pe){this._markerManager=pe,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new f.vpe,this.markerClick=new f.vpe,this.markerDblClick=new f.vpe,this.markerRightClick=new f.vpe,this.dragStart=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.mouseOver=new f.vpe,this.mouseOut=new f.vpe,this.infoWindow=new f.n_E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ct.t(1),this._id=(ei++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(pe=>{pe.hostMarker=this})}ngOnChanges(pe){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(pe.latitude||pe.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),pe.title&&this._markerManager.updateTitle(this),pe.label&&this._markerManager.updateLabel(this),pe.draggable&&this._markerManager.updateDraggable(this),pe.iconUrl&&this._markerManager.updateIcon(this),pe.opacity&&this._markerManager.updateOpacity(this),pe.visible&&this._markerManager.updateVisible(this),pe.zIndex&&this._markerManager.updateZIndex(this),pe.clickable&&this._markerManager.updateClickable(this),pe.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const pe=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(vr=>vr.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(pe);const B=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(B);const _e=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(_e);const Xe=this._markerManager.createEventObservable("dragstart",this).subscribe(vr=>{this.dragStart.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(Xe);const un=this._markerManager.createEventObservable("drag",this).subscribe(vr=>{this.drag.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(un);const $n=this._markerManager.createEventObservable("dragend",this).subscribe(vr=>{this.dragEnd.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push($n);const ur=this._markerManager.createEventObservable("mouseover",this).subscribe(vr=>{this.mouseOver.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(ur);const kr=this._markerManager.createEventObservable("mouseout",this).subscribe(vr=>{this.mouseOut.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(kr);const gr=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(gr)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(pe=>pe.unsubscribe())}};var pt;st.\u0275fac=function(pe){return new(pe||st)(f.Y36(ae))},st.\u0275dir=f.lG2({type:st,selectors:[["agm-marker"]],contentQueries:function(pe,B,_e){if(1&pe&&f.Suo(_e,xe,4),2&pe){let Xe;f.iGM(Xe=f.CRH())&&(B.infoWindow=Xe)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[f._Bn([{provide:Vt,useExisting:(0,f.Gpc)(()=>yr)}]),f.TTD]}),st.ctorParameters=()=>[{type:ae}],z([(0,f.IIB)(),te("design:type",Number)],st.prototype,"latitude",void 0),z([(0,f.IIB)(),te("design:type",Number)],st.prototype,"longitude",void 0),z([(0,f.IIB)(),te("design:type",String)],st.prototype,"title",void 0),z([(0,f.IIB)(),te("design:type",Object)],st.prototype,"label",void 0),z([(0,f.IIB)("markerDraggable"),te("design:type",Object)],st.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",String)],st.prototype,"iconUrl",void 0),z([(0,f.IIB)(),te("design:type",Object)],st.prototype,"visible",void 0),z([(0,f.IIB)(),te("design:type",Object)],st.prototype,"openInfoWindow",void 0),z([(0,f.IIB)(),te("design:type",Object)],st.prototype,"opacity",void 0),z([(0,f.IIB)(),te("design:type",Object)],st.prototype,"zIndex",void 0),z([(0,f.IIB)("markerClickable"),te("design:type",Object)],st.prototype,"clickable",void 0),z([(0,f.IIB)(),te("design:type",String)],st.prototype,"animation",void 0),z([(0,f.r_U)(),te("design:type",Object)],st.prototype,"animationChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"markerClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"markerDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"markerRightClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"dragStart",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"drag",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"dragEnd",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"mouseOver",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],st.prototype,"mouseOut",void 0),z([(0,f.AcB)(xe),te("design:type",f.n_E)],st.prototype,"infoWindow",void 0),st=yr=z([te("design:paramtypes",[ae])],st);let St=pt=class{constructor(pe){this._polygonManager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new f.vpe,this.polyDblClick=new f.vpe,this.polyDrag=new f.vpe,this.polyDragEnd=new f.vpe,this.polyDragStart=new f.vpe,this.polyMouseDown=new f.vpe,this.polyMouseMove=new f.vpe,this.polyMouseOut=new f.vpe,this.polyMouseOver=new f.vpe,this.polyMouseUp=new f.vpe,this.polyRightClick=new f.vpe,this.polyPathsChange=new f.vpe,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(pe){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(pe)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:B=>this.polyClick.emit(B)},{name:"dblclick",handler:B=>this.polyDblClick.emit(B)},{name:"drag",handler:B=>this.polyDrag.emit(B)},{name:"dragend",handler:B=>this.polyDragEnd.emit(B)},{name:"dragstart",handler:B=>this.polyDragStart.emit(B)},{name:"mousedown",handler:B=>this.polyMouseDown.emit(B)},{name:"mousemove",handler:B=>this.polyMouseMove.emit(B)},{name:"mouseout",handler:B=>this.polyMouseOut.emit(B)},{name:"mouseover",handler:B=>this.polyMouseOver.emit(B)},{name:"mouseup",handler:B=>this.polyMouseUp.emit(B)},{name:"rightclick",handler:B=>this.polyRightClick.emit(B)}].forEach(B=>{const _e=this._polygonManager.createEventObservable(B.name,this).subscribe(B.handler);this._subscriptions.push(_e)}),this._polygonManager.createPathEventObservable(this).then(B=>{const _e=B.subscribe(Xe=>this.polyPathsChange.emit(Xe));this._subscriptions.push(_e)})}_updatePolygonOptions(pe){return Object.keys(pe).filter(B=>-1!==pt._polygonOptionsAttributes.indexOf(B)).reduce((B,_e)=>(B[_e]=pe[_e].currentValue,B),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};St.\u0275fac=function(pe){return new(pe||St)(f.Y36(De))},St.\u0275dir=f.lG2({type:St,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[f.TTD]}),St._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],St.ctorParameters=()=>[{type:De}],z([(0,f.IIB)(),te("design:type",Object)],St.prototype,"clickable",void 0),z([(0,f.IIB)("polyDraggable"),te("design:type",Object)],St.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",Object)],St.prototype,"editable",void 0),z([(0,f.IIB)(),te("design:type",String)],St.prototype,"fillColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],St.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),te("design:type",Object)],St.prototype,"geodesic",void 0),z([(0,f.IIB)(),te("design:type",Array)],St.prototype,"paths",void 0),z([(0,f.IIB)(),te("design:type",String)],St.prototype,"strokeColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],St.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),te("design:type",Number)],St.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),te("design:type",Boolean)],St.prototype,"visible",void 0),z([(0,f.IIB)(),te("design:type",Number)],St.prototype,"zIndex",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyDrag",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyDragEnd",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyDragStart",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyMouseDown",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyMouseMove",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyMouseOut",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyMouseOver",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyMouseUp",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],St.prototype,"polyRightClick",void 0),z([(0,f.r_U)(),te("design:type",Object)],St.prototype,"polyPathsChange",void 0),St=pt=z([te("design:paramtypes",[De])],St);let zt=(()=>{let ze=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};return ze.\u0275fac=function(B){return new(B||ze)},ze.\u0275dir=f.lG2({type:ze,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),z([(0,f.IIB)(),te("design:type",Boolean)],ze.prototype,"fixedRotation",void 0),z([(0,f.IIB)(),te("design:type",String)],ze.prototype,"offset",void 0),z([(0,f.IIB)(),te("design:type",String)],ze.prototype,"repeat",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"anchorX",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"anchorY",void 0),z([(0,f.IIB)(),te("design:type",String)],ze.prototype,"fillColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),te("design:type",String)],ze.prototype,"path",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"rotation",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"scale",void 0),z([(0,f.IIB)(),te("design:type",String)],ze.prototype,"strokeColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),te("design:type",Number)],ze.prototype,"strokeWeight",void 0),ze})();var ke;let q=ke=class{constructor(){this.positionChanged=new f.vpe}ngOnChanges(pe){(pe.latitude||pe.longitude)&&this.positionChanged.emit({lat:pe.latitude?pe.latitude.currentValue:this.latitude,lng:pe.longitude?pe.longitude.currentValue:this.longitude})}getFitBoundsDetails$(){return this.positionChanged.pipe((0,Nn.O)({lat:this.latitude,lng:this.longitude}),(0,jn.U)(pe=>({latLng:pe})))}};var be;q.\u0275fac=function(pe){return new(pe||q)},q.\u0275dir=f.lG2({type:q,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[f._Bn([{provide:Vt,useExisting:(0,f.Gpc)(()=>ke)}]),f.TTD]}),z([(0,f.IIB)(),te("design:type",Number)],q.prototype,"latitude",void 0),z([(0,f.IIB)(),te("design:type",Number)],q.prototype,"longitude",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],q.prototype,"positionChanged",void 0),q=ke=z([te("design:paramtypes",[])],q);let $e=0,mt=be=class{constructor(pe){this._polylineManager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new f.vpe,this.lineDblClick=new f.vpe,this.lineDrag=new f.vpe,this.lineDragEnd=new f.vpe,this.lineDragStart=new f.vpe,this.lineMouseDown=new f.vpe,this.lineMouseMove=new f.vpe,this.lineMouseOut=new f.vpe,this.lineMouseOver=new f.vpe,this.lineMouseUp=new f.vpe,this.lineRightClick=new f.vpe,this.polyPathChange=new f.vpe,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=($e++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(_e=>{const Xe=_e.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(Xe)}),this._polylineAddedToManager||this._init();const pe=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(pe),this._polylineManager.updatePolylinePoints(this);const B=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(B)}ngOnChanges(pe){if(!this._polylineAddedToManager)return void this._init();let B={};Object.keys(pe).filter(Xe=>-1!==be._polylineOptionsAttributes.indexOf(Xe)).forEach(Xe=>B[Xe]=pe[Xe].currentValue),this._polylineManager.setPolylineOptions(this,B)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:B=>this.lineClick.emit(B)},{name:"dblclick",handler:B=>this.lineDblClick.emit(B)},{name:"drag",handler:B=>this.lineDrag.emit(B)},{name:"dragend",handler:B=>this.lineDragEnd.emit(B)},{name:"dragstart",handler:B=>this.lineDragStart.emit(B)},{name:"mousedown",handler:B=>this.lineMouseDown.emit(B)},{name:"mousemove",handler:B=>this.lineMouseMove.emit(B)},{name:"mouseout",handler:B=>this.lineMouseOut.emit(B)},{name:"mouseover",handler:B=>this.lineMouseOver.emit(B)},{name:"mouseup",handler:B=>this.lineMouseUp.emit(B)},{name:"rightclick",handler:B=>this.lineRightClick.emit(B)}].forEach(B=>{const _e=this._polylineManager.createEventObservable(B.name,this).subscribe(B.handler);this._subscriptions.push(_e)}),this._polylineManager.createPathEventObservable(this).then(B=>{const _e=B.subscribe(Xe=>this.polyPathChange.emit(Xe));this._subscriptions.push(_e)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}};var Mt;mt.\u0275fac=function(pe){return new(pe||mt)(f.Y36(Ft))},mt.\u0275dir=f.lG2({type:mt,selectors:[["agm-polyline"]],contentQueries:function(pe,B,_e){if(1&pe&&(f.Suo(_e,q,4),f.Suo(_e,zt,4)),2&pe){let Xe;f.iGM(Xe=f.CRH())&&(B.points=Xe),f.iGM(Xe=f.CRH())&&(B.iconSequences=Xe)}},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[f.TTD]}),mt._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],mt.ctorParameters=()=>[{type:Ft}],z([(0,f.IIB)(),te("design:type",Object)],mt.prototype,"clickable",void 0),z([(0,f.IIB)("polylineDraggable"),te("design:type",Object)],mt.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",Object)],mt.prototype,"editable",void 0),z([(0,f.IIB)(),te("design:type",Object)],mt.prototype,"geodesic",void 0),z([(0,f.IIB)(),te("design:type",String)],mt.prototype,"strokeColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],mt.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),te("design:type",Number)],mt.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),te("design:type",Object)],mt.prototype,"visible",void 0),z([(0,f.IIB)(),te("design:type",Number)],mt.prototype,"zIndex",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineDrag",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineDragEnd",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineDragStart",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineMouseDown",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineMouseMove",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineMouseOut",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineMouseOver",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineMouseUp",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],mt.prototype,"lineRightClick",void 0),z([(0,f.r_U)(),te("design:type",Object)],mt.prototype,"polyPathChange",void 0),z([(0,f.AcB)(q),te("design:type",f.n_E)],mt.prototype,"points",void 0),z([(0,f.AcB)(zt),te("design:type",f.n_E)],mt.prototype,"iconSequences",void 0),mt=be=z([te("design:paramtypes",[Ft])],mt);let Lt=Mt=class{constructor(pe){this._manager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new f.vpe,this.rectangleClick=new f.vpe,this.rectangleDblClick=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.dragStart=new f.vpe,this.mouseDown=new f.vpe,this.mouseMove=new f.vpe,this.mouseOut=new f.vpe,this.mouseOver=new f.vpe,this.mouseUp=new f.vpe,this.rightClick=new f.vpe,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(pe){this._rectangleAddedToManager&&((pe.north||pe.east||pe.south||pe.west)&&this._manager.setBounds(this),pe.editable&&this._manager.setEditable(this),pe.draggable&&this._manager.setDraggable(this),pe.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(pe))}_updateRectangleOptionsChanges(pe){let B={},_e=Object.keys(pe).filter(Xe=>-1!==Mt._mapOptions.indexOf(Xe));_e.forEach(Xe=>{B[Xe]=pe[Xe].currentValue}),_e.length>0&&this._manager.setOptions(this,B)}_registerEventListeners(){let pe=new Map;pe.set("bounds_changed",this.boundsChange),pe.set("click",this.rectangleClick),pe.set("dblclick",this.rectangleDblClick),pe.set("drag",this.drag),pe.set("dragend",this.dragEnd),pe.set("dragStart",this.dragStart),pe.set("mousedown",this.mouseDown),pe.set("mousemove",this.mouseMove),pe.set("mouseout",this.mouseOut),pe.set("mouseover",this.mouseOver),pe.set("mouseup",this.mouseUp),pe.set("rightclick",this.rightClick),pe.forEach((B,_e)=>{this._eventSubscriptions.push(this._manager.createEventObservable(_e,this).subscribe(Xe=>{"bounds_changed"===_e?this._manager.getBounds(this).then(un=>B.emit({north:un.getNorthEast().lat(),east:un.getNorthEast().lng(),south:un.getSouthWest().lat(),west:un.getSouthWest().lng()})):B.emit({coords:{lat:Xe.latLng.lat(),lng:Xe.latLng.lng()}})}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(pe){pe.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};Lt.\u0275fac=function(pe){return new(pe||Lt)(f.Y36(vn))},Lt.\u0275dir=f.lG2({type:Lt,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[f.TTD]}),Lt._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Lt.ctorParameters=()=>[{type:vn}],z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"north",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"east",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"south",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"west",void 0),z([(0,f.IIB)(),te("design:type",Object)],Lt.prototype,"clickable",void 0),z([(0,f.IIB)("rectangleDraggable"),te("design:type",Object)],Lt.prototype,"draggable",void 0),z([(0,f.IIB)(),te("design:type",Object)],Lt.prototype,"editable",void 0),z([(0,f.IIB)(),te("design:type",String)],Lt.prototype,"fillColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),te("design:type",String)],Lt.prototype,"strokeColor",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),te("design:type",String)],Lt.prototype,"strokePosition",void 0),z([(0,f.IIB)(),te("design:type",Object)],Lt.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),te("design:type",Object)],Lt.prototype,"visible",void 0),z([(0,f.IIB)(),te("design:type",Number)],Lt.prototype,"zIndex",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"boundsChange",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"rectangleClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"rectangleDblClick",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"drag",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"dragEnd",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"dragStart",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"mouseDown",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"mouseMove",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"mouseOut",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"mouseOver",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"mouseUp",void 0),z([(0,f.r_U)(),te("design:type",f.vpe)],Lt.prototype,"rightClick",void 0),Lt=Mt=z([te("design:paramtypes",[vn])],Lt);var di=(()=>{return(ze=di||(di={})).ERROR="ERROR",ze.INVALID_REQUEST="INVALID_REQUEST",ze.OK="OK",ze.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",ze.REQUEST_DENIED="REQUEST_DENIED",ze.UNKNOWN_ERROR="UNKNOWN_ERROR",ze.ZERO_RESULTS="ZERO_RESULTS",di;var ze})();let Mr=class{constructor(pe){const B=new k.y(_e=>{pe.load().then(()=>_e.next())}).pipe((0,jn.U)(()=>this._createGeocoder()),function mn(ze,pe){const B=(0,ge.m)(ze)?ze:()=>ze;return(0,ge.m)(pe)?function Qt(ze,pe=Bt){const{connector:B}=pe;return(0,an.e)((_e,Xe)=>{const un=B();(0,Oe.Xf)(ze(function vt(ze){return new k.y(pe=>ze.subscribe(pe))}(un))).subscribe(Xe),Xe.add(_e.subscribe(un))})}(pe,{connector:B}):_e=>new pn.c(_e,B)}(new ct.t(1)));B.connect(),this.geocoder$=B}geocode(pe){return this.geocoder$.pipe((0,fn.w)(B=>this._getGoogleResults(B,pe)))}_getGoogleResults(pe,B){return Ue(pe.geocode)(B).pipe((0,fn.w)(([Xe,un])=>un===di.OK?(0,ht.of)(Xe):(0,Et._)(un)))}_createGeocoder(){return new google.maps.Geocoder}};Mr.\u0275fac=function(pe){return new(pe||Mr)(f.LFG(xt))},Mr.\u0275prov=f.Yz7({token:Mr,factory:function(ze){return Mr.\u0275fac(ze)},providedIn:"root"}),Mr.ngInjectableDef=(0,f.Yz7)({factory:function(){return new Mr((0,f.LFG)(xt))},token:Mr,providedIn:"root"}),Mr=z([te("design:paramtypes",[xt])],Mr);class Bi{getNativeWindow(){return window}}class Ni{getNativeDocument(){return document}}const jr=[Bi,Ni];var Qi=(()=>{return(ze=Qi||(Qi={}))[ze.HTTP=1]="HTTP",ze[ze.HTTPS=2]="HTTPS",ze[ze.AUTO=3]="AUTO",Qi;var ze})();const ji=new f.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let io=(()=>{let ze=class extends xt{constructor(B=null,_e,Xe,un){super(),this.localeId=un,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=B||{},this._windowRef=_e,this._documentRef=Xe}load(){const B=this._windowRef.getNativeWindow();if(B.google&&B.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const _e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(_e)return this._assignScriptLoadingPromise(_e),this._scriptLoadingPromise;const Xe=this._documentRef.getNativeDocument().createElement("script");return Xe.type="text/javascript",Xe.async=!0,Xe.defer=!0,Xe.id=this._SCRIPT_ID,Xe.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(Xe),this._documentRef.getNativeDocument().body.appendChild(Xe),this._scriptLoadingPromise}_assignScriptLoadingPromise(B){this._scriptLoadingPromise=new Promise((_e,Xe)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{_e()},B.onerror=un=>{Xe(un)}})}_getScriptSrc(B){let Xe;switch(this._config&&this._config.protocol||Qi.HTTPS){case Qi.AUTO:Xe="";break;case Qi.HTTP:Xe="http:";break;case Qi.HTTPS:Xe="https:"}const $n={v:this._config.apiVersion||"quarterly",callback:B,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${Xe}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys($n).filter(kr=>null!=$n[kr]).filter(kr=>!Array.isArray($n[kr])||Array.isArray($n[kr])&&$n[kr].length>0).map(kr=>{let gr=$n[kr];return Array.isArray(gr)?{key:kr,value:gr.join(",")}:{key:kr,value:$n[kr]}}).map(kr=>`${kr.key}=${kr.value}`).join("&")}`}};return ze.\u0275fac=function(B){return new(B||ze)(f.LFG(ji,8),f.LFG(Bi),f.LFG(Ni),f.LFG(f.soG))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([Qe(0,(0,f.FiY)()),Qe(0,(0,f.tBr)(ji)),Qe(3,(0,f.tBr)(f.soG)),te("design:paramtypes",[Object,Bi,Ni,String])],ze),ze})();var Mi;let Gi=Mi=class{static forRoot(pe){return{ngModule:Mi,providers:[...jr,{provide:xt,useClass:io},{provide:ji,useValue:pe}]}}};Gi.\u0275fac=function(pe){return new(pe||Gi)},Gi.\u0275mod=f.oAB({type:Gi}),Gi.\u0275inj=f.cJS({})},20454:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{factory:()=>Te,getGlobalVars:()=>hn,registerAnalytics:()=>Tt,resetGlobalVars:()=>xr,settings:()=>Pt});var j=function(){return j=Object.assign||function(Ct){for(var Yt,ln=1,qt=arguments.length;ln<qt;ln++)for(var ot in Yt=arguments[ln])Object.prototype.hasOwnProperty.call(Yt,ot)&&(Ct[ot]=Yt[ot]);return Ct},j.apply(this,arguments)};function Ge(xe,Ct,Yt,ln){return new(Yt||(Yt=Promise))(function(ot,nt){function De(vn){try{Ft(ln.next(vn))}catch(Zn){nt(Zn)}}function Dt(vn){try{Ft(ln.throw(vn))}catch(Zn){nt(Zn)}}function Ft(vn){vn.done?ot(vn.value):function qt(ot){return ot instanceof Yt?ot:new Yt(function(nt){nt(ot)})}(vn.value).then(De,Dt)}Ft((ln=ln.apply(xe,Ct||[])).next())})}function ie(xe,Ct){var ln,qt,ot,nt,Yt={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return nt={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function De(Ft){return function(vn){return function Dt(Ft){if(ln)throw new TypeError("Generator is already executing.");for(;Yt;)try{if(ln=1,qt&&(ot=2&Ft[0]?qt.return:Ft[0]?qt.throw||((ot=qt.return)&&ot.call(qt),0):qt.next)&&!(ot=ot.call(qt,Ft[1])).done)return ot;switch(qt=0,ot&&(Ft=[2&Ft[0],ot.value]),Ft[0]){case 0:case 1:ot=Ft;break;case 4:return Yt.label++,{value:Ft[1],done:!1};case 5:Yt.label++,qt=Ft[1],Ft=[0];continue;case 7:Ft=Yt.ops.pop(),Yt.trys.pop();continue;default:if(!(ot=(ot=Yt.trys).length>0&&ot[ot.length-1])&&(6===Ft[0]||2===Ft[0])){Yt=0;continue}if(3===Ft[0]&&(!ot||Ft[1]>ot[0]&&Ft[1]<ot[3])){Yt.label=Ft[1];break}if(6===Ft[0]&&Yt.label<ot[1]){Yt.label=ot[1],ot=Ft;break}if(ot&&Yt.label<ot[2]){Yt.label=ot[2],Yt.ops.push(Ft);break}ot[2]&&Yt.ops.pop(),Yt.trys.pop();continue}Ft=Ct.call(xe,Yt)}catch(vn){Ft=[6,vn],qt=0}finally{ln=ot=0}if(5&Ft[0])throw Ft[1];return{value:Ft[0]?Ft[1]:void 0,done:!0}}([Ft,vn])}}}var f=N(39278),T=(N(78660),N(64003)),W=N(1270),J=N(46355),R="firebase_id",ge="origin",Ke=6e4,Tn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",He="https://www.googletagmanager.com/gtag/js",ct=(()=>{return(xe=ct||(ct={})).EVENT="event",xe.SET="set",xe.CONFIG="config",ct;var xe})(),at=(()=>{return(xe=at||(at={})).ADD_SHIPPING_INFO="add_shipping_info",xe.ADD_PAYMENT_INFO="add_payment_info",xe.ADD_TO_CART="add_to_cart",xe.ADD_TO_WISHLIST="add_to_wishlist",xe.BEGIN_CHECKOUT="begin_checkout",xe.CHECKOUT_PROGRESS="checkout_progress",xe.EXCEPTION="exception",xe.GENERATE_LEAD="generate_lead",xe.LOGIN="login",xe.PAGE_VIEW="page_view",xe.PURCHASE="purchase",xe.REFUND="refund",xe.REMOVE_FROM_CART="remove_from_cart",xe.SCREEN_VIEW="screen_view",xe.SEARCH="search",xe.SELECT_CONTENT="select_content",xe.SELECT_ITEM="select_item",xe.SELECT_PROMOTION="select_promotion",xe.SET_CHECKOUT_OPTION="set_checkout_option",xe.SHARE="share",xe.SIGN_UP="sign_up",xe.TIMING_COMPLETE="timing_complete",xe.VIEW_CART="view_cart",xe.VIEW_ITEM="view_item",xe.VIEW_ITEM_LIST="view_item_list",xe.VIEW_PROMOTION="view_promotion",xe.VIEW_SEARCH_RESULTS="view_search_results",at;var xe})(),ht=new T.Logger("@firebase/analytics");function _t(xe,Ct,Yt,ln,qt,ot){return Ge(this,void 0,void 0,function(){var nt,De,Dt,Ft;return ie(this,function(vn){switch(vn.label){case 0:nt=ln[qt],vn.label=1;case 1:return vn.trys.push([1,7,,8]),nt?[4,Ct[nt]]:[3,3];case 2:return vn.sent(),[3,6];case 3:return[4,Promise.all(Yt)];case 4:return De=vn.sent(),(Dt=De.find(function(Zn){return Zn.measurementId===qt}))?[4,Ct[Dt.appId]]:[3,6];case 5:vn.sent(),vn.label=6;case 6:return[3,8];case 7:return Ft=vn.sent(),ht.error(Ft),[3,8];case 8:return xe(ct.CONFIG,qt,ot),[2]}})})}function an(xe,Ct,Yt,ln,qt){return Ge(this,void 0,void 0,function(){var ot,nt,De,Dt,Ft,vn,yr;return ie(this,function(ei){switch(ei.label){case 0:return ei.trys.push([0,4,,5]),ot=[],qt&&qt.send_to?(nt=qt.send_to,Array.isArray(nt)||(nt=[nt]),[4,Promise.all(Yt)]):[3,2];case 1:for(De=ei.sent(),Dt=function(st){var pt=De.find(function(zt){return zt.measurementId===st}),St=pt&&Ct[pt.appId];if(!St)return ot=[],"break";ot.push(St)},Ft=0,vn=nt;Ft<vn.length&&"break"!==Dt(vn[Ft]);Ft++);ei.label=2;case 2:return 0===ot.length&&(ot=Object.values(Ct)),[4,Promise.all(ot)];case 3:return ei.sent(),xe(ct.EVENT,ln,qt||{}),[3,5];case 4:return yr=ei.sent(),ht.error(yr),[3,5];case 5:return[2]}})})}var fn,jn=((fn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",fn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",fn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",fn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",fn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",fn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',fn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',fn),xn=new W.ErrorFactory("analytics","Analytics",jn),er=30,Qn=1e3,Dr=new(function(){function xe(Ct,Yt){void 0===Ct&&(Ct={}),void 0===Yt&&(Yt=Qn),this.throttleMetadata=Ct,this.intervalMillis=Yt}return xe.prototype.getThrottleMetadata=function(Ct){return this.throttleMetadata[Ct]},xe.prototype.setThrottleMetadata=function(Ct,Yt){this.throttleMetadata[Ct]=Yt},xe.prototype.deleteThrottleMetadata=function(Ct){delete this.throttleMetadata[Ct]},xe}());function pn(xe){return new Headers({Accept:"application/json","x-goog-api-key":xe})}function Oe(xe){var Ct;return Ge(this,void 0,void 0,function(){var Yt,qt,ot,nt,De,Dt;return ie(this,function(vn){switch(vn.label){case 0:return Yt=xe.appId,qt={method:"GET",headers:pn(xe.apiKey)},ot=Tn.replace("{app-id}",Yt),[4,fetch(ot,qt)];case 1:if(200===(nt=vn.sent()).status||304===nt.status)return[3,6];De="",vn.label=2;case 2:return vn.trys.push([2,4,,5]),[4,nt.json()];case 3:return Dt=vn.sent(),!(null===(Ct=Dt.error)||void 0===Ct)&&Ct.message&&(De=Dt.error.message),[3,5];case 4:return vn.sent(),[3,5];case 5:throw xn.create("config-fetch-failed",{httpStatus:nt.status,responseMessage:De});case 6:return[2,nt.json()]}})})}function Bt(xe,Ct,Yt,ln){var qt=Ct.throttleEndTimeMillis,ot=Ct.backoffCount;return void 0===ln&&(ln=Dr),Ge(this,void 0,void 0,function(){var nt,De,Dt,Ft,vn,Zn,Cn;return ie(this,function(yr){switch(yr.label){case 0:nt=xe.appId,De=xe.measurementId,yr.label=1;case 1:return yr.trys.push([1,3,,4]),[4,Qt(Yt,qt)];case 2:return yr.sent(),[3,4];case 3:if(Dt=yr.sent(),De)return ht.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+De+' provided in the "measurementId" field in the local Firebase config. ['+Dt.message+"]"),[2,{appId:nt,measurementId:De}];throw Dt;case 4:return yr.trys.push([4,6,,7]),[4,Oe(xe)];case 5:return Ft=yr.sent(),ln.deleteThrottleMetadata(nt),[2,Ft];case 6:if(!function mn(xe){if(!(xe instanceof W.FirebaseError))return!1;var Ct=Number(xe.httpStatus);return 429===Ct||500===Ct||503===Ct||504===Ct}(vn=yr.sent())){if(ln.deleteThrottleMetadata(nt),De)return ht.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+De+' provided in the "measurementId" field in the local Firebase config. ['+vn.message+"]"),[2,{appId:nt,measurementId:De}];throw vn}return Zn=503===Number(vn.httpStatus)?(0,W.calculateBackoffMillis)(ot,ln.intervalMillis,er):(0,W.calculateBackoffMillis)(ot,ln.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+Zn,backoffCount:ot+1},ln.setThrottleMetadata(nt,Cn),ht.debug("Calling attemptFetch again in "+Zn+" millis"),[2,Bt(xe,Cn,Yt,ln)];case 7:return[2]}})})}function Qt(xe,Ct){return new Promise(function(Yt,ln){var qt=Math.max(Ct-Date.now(),0),ot=setTimeout(Yt,qt);xe.addEventListener(function(){clearTimeout(ot),ln(xn.create("fetch-throttle",{throttleEndTimeMillis:Ct}))})})}var Je=function(){function xe(){this.listeners=[]}return xe.prototype.addEventListener=function(Ct){this.listeners.push(Ct)},xe.prototype.abort=function(){this.listeners.forEach(function(Ct){return Ct()})},xe}();var kn,Rn,Rt={},dt=[],En={},On="dataLayer",Wn="gtag",nr=!1;function xr(xe,Ct,Yt){void 0===xe&&(xe=!1),void 0===Ct&&(Ct={}),void 0===Yt&&(Yt=[]),nr=xe,Rt=Ct,dt=Yt,On="dataLayer",Wn="gtag"}function hn(){return{initializationPromisesMap:Rt,dynamicConfigPromisesList:dt}}function Pt(xe){if(nr)throw xn.create("already-initialized");xe.dataLayerName&&(On=xe.dataLayerName),xe.gtagName&&(Wn=xe.gtagName)}function Te(xe,Ct){!function Vt(){var xe=[];if((0,W.isBrowserExtension)()&&xe.push("This is a browser extension environment."),(0,W.areCookiesEnabled)()||xe.push("Cookies are not available."),xe.length>0){var Ct=xe.map(function(ln,qt){return"("+(qt+1)+") "+ln}).join(" "),Yt=xn.create("invalid-analytics-context",{errorInfo:Ct});ht.warn(Yt.message)}}();var Yt=xe.options.appId;if(!Yt)throw xn.create("no-app-id");if(!xe.options.apiKey){if(!xe.options.measurementId)throw xn.create("no-api-key");ht.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+xe.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Rt[Yt])throw xn.create("already-exists",{id:Yt});if(!nr){(function Xt(){for(var xe=window.document.getElementsByTagName("script"),Ct=0,Yt=Object.values(xe);Ct<Yt.length;Ct++){var ln=Yt[Ct];if(ln.src&&ln.src.includes(He))return ln}return null})()||function Et(xe){var Ct=document.createElement("script");Ct.src=He+"?l="+xe,Ct.async=!0,document.head.appendChild(Ct)}(On),function gn(xe){var Ct=[];Array.isArray(window[xe])?Ct=window[xe]:window[xe]=Ct}(On);var ln=function Ut(xe,Ct,Yt,ln,qt){var ot=function(){for(var nt=[],De=0;De<arguments.length;De++)nt[De]=arguments[De];window[ln].push(arguments)};return window[qt]&&"function"==typeof window[qt]&&(ot=window[qt]),window[qt]=function ft(xe,Ct,Yt,ln){return function qt(ot,nt,De){return Ge(this,void 0,void 0,function(){var Dt;return ie(this,function(Ft){switch(Ft.label){case 0:return Ft.trys.push([0,6,,7]),ot!==ct.EVENT?[3,2]:[4,an(xe,Ct,Yt,nt,De)];case 1:return Ft.sent(),[3,5];case 2:return ot!==ct.CONFIG?[3,4]:[4,_t(xe,Ct,Yt,ln,nt,De)];case 3:return Ft.sent(),[3,5];case 4:xe(ct.SET,nt),Ft.label=5;case 5:return[3,7];case 6:return Dt=Ft.sent(),ht.error(Dt),[3,7];case 7:return[2]}})})}}(ot,xe,Ct,Yt),{gtagCore:ot,wrappedGtag:window[qt]}}(Rt,dt,En,On,Wn);Rn=ln.wrappedGtag,kn=ln.gtagCore,nr=!0}Rt[Yt]=function xt(xe,Ct,Yt,ln,qt){return Ge(this,void 0,void 0,function(){var ot,nt,De,Dt,Ft,vn,Zn;return ie(this,function(Cn){switch(Cn.label){case 0:return ot=function vt(xe,Ct,Yt){return void 0===Ct&&(Ct=Dr),Ge(this,void 0,void 0,function(){var ln,qt,ot,nt,De,Dt,Ft=this;return ie(this,function(vn){if(ot=(ln=xe.options).apiKey,nt=ln.measurementId,!(qt=ln.appId))throw xn.create("no-app-id");if(!ot){if(nt)return[2,{measurementId:nt,appId:qt}];throw xn.create("no-api-key")}return De=Ct.getThrottleMetadata(qt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Je,setTimeout(function(){return Ge(Ft,void 0,void 0,function(){return ie(this,function(Zn){return Dt.abort(),[2]})})},void 0!==Yt?Yt:Ke),[2,Bt({appId:qt,apiKey:ot,measurementId:nt},De,Dt,Ct)]})})}(xe),ot.then(function(yr){Yt[yr.measurementId]=yr.appId,xe.options.measurementId&&yr.measurementId!==xe.options.measurementId&&ht.warn("The measurement ID in the local Firebase config ("+xe.options.measurementId+") does not match the measurement ID fetched from the server ("+yr.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(yr){return ht.error(yr)}),Ct.push(ot),nt=function Ee(){return Ge(this,void 0,void 0,function(){var xe;return ie(this,function(Ct){switch(Ct.label){case 0:return(0,W.isIndexedDBAvailable)()?[3,1]:(ht.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return Ct.trys.push([1,3,,4]),[4,(0,W.validateIndexedDBOpenable)()];case 2:return Ct.sent(),[3,4];case 3:return xe=Ct.sent(),ht.warn(xn.create("indexeddb-unavailable",{errorInfo:xe}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(yr){if(yr)return ln.getId()}),[4,Promise.all([ot,nt])];case 1:return De=Cn.sent(),Dt=De[0],Ft=De[1],qt("js",new Date),(Zn={})[ge]="firebase",Zn.update=!0,vn=Zn,null!=Ft&&(vn[R]=Ft),qt(ct.CONFIG,Dt.measurementId,vn),[2,Dt.measurementId]}})})}(xe,dt,En,Ct,kn);var nt={app:xe,logEvent:function(De,Dt,Ft){(function ee(xe,Ct,Yt,ln,qt){return Ge(this,void 0,void 0,function(){var ot,nt;return ie(this,function(De){switch(De.label){case 0:return qt&&qt.global?(xe(ct.EVENT,Yt,ln),[2]):[3,1];case 1:return[4,Ct];case 2:ot=De.sent(),nt=j(j({},ln),{send_to:ot}),xe(ct.EVENT,Yt,nt),De.label=3;case 3:return[2]}})})})(Rn,Rt[Yt],De,Dt,Ft).catch(function(vn){return ht.error(vn)})},setCurrentScreen:function(De,Dt){(function ce(xe,Ct,Yt,ln){return Ge(this,void 0,void 0,function(){var qt;return ie(this,function(ot){switch(ot.label){case 0:return ln&&ln.global?(xe(ct.SET,{screen_name:Yt}),[2,Promise.resolve()]):[3,1];case 1:return[4,Ct];case 2:qt=ot.sent(),xe(ct.CONFIG,qt,{update:!0,screen_name:Yt}),ot.label=3;case 3:return[2]}})})})(Rn,Rt[Yt],De,Dt).catch(function(Ft){return ht.error(Ft)})},setUserId:function(De,Dt){(function re(xe,Ct,Yt,ln){return Ge(this,void 0,void 0,function(){var qt;return ie(this,function(ot){switch(ot.label){case 0:return ln&&ln.global?(xe(ct.SET,{user_id:Yt}),[2,Promise.resolve()]):[3,1];case 1:return[4,Ct];case 2:qt=ot.sent(),xe(ct.CONFIG,qt,{update:!0,user_id:Yt}),ot.label=3;case 3:return[2]}})})})(Rn,Rt[Yt],De,Dt).catch(function(Ft){return ht.error(Ft)})},setUserProperties:function(De,Dt){(function Ne(xe,Ct,Yt,ln){return Ge(this,void 0,void 0,function(){var qt,ot,nt,De,Dt;return ie(this,function(Ft){switch(Ft.label){case 0:if(!ln||!ln.global)return[3,1];for(qt={},ot=0,nt=Object.keys(Yt);ot<nt.length;ot++)qt["user_properties."+(De=nt[ot])]=Yt[De];return xe(ct.SET,qt),[2,Promise.resolve()];case 1:return[4,Ct];case 2:Dt=Ft.sent(),xe(ct.CONFIG,Dt,{update:!0,user_properties:Yt}),Ft.label=3;case 3:return[2]}})})})(Rn,Rt[Yt],De,Dt).catch(function(Ft){return ht.error(Ft)})},setAnalyticsCollectionEnabled:function(De){(function Ue(xe,Ct){return Ge(this,void 0,void 0,function(){var Yt;return ie(this,function(ln){switch(ln.label){case 0:return[4,xe];case 1:return Yt=ln.sent(),window["ga-disable-"+Yt]=!Ct,[2]}})})})(Rt[Yt],De).catch(function(Dt){return ht.error(Dt)})},INTERNAL:{delete:function(){return delete Rt[Yt],Promise.resolve()}}};return nt}var le="@firebase/analytics",ae="0.6.0",rt="analytics";function Tt(xe){xe.INTERNAL.registerComponent(new J.Component(rt,function(Yt){return Te(Yt.getProvider("app").getImmediate(),Yt.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Pt,EventName:at,isSupported:bn})),xe.INTERNAL.registerComponent(new J.Component("analytics-internal",function Ct(Yt){try{return{logEvent:Yt.getProvider(rt).getImmediate().logEvent}}catch(qt){throw xn.create("interop-component-reg-failed",{reason:qt})}},"PRIVATE")),xe.registerVersion(le,ae)}function bn(){return Ge(this,void 0,void 0,function(){return ie(this,function(Yt){switch(Yt.label){case 0:if((0,W.isBrowserExtension)())return[2,!1];if(!(0,W.areCookiesEnabled)())return[2,!1];if(!(0,W.isIndexedDBAvailable)())return[2,!1];Yt.label=1;case 1:return Yt.trys.push([1,3,,4]),[4,(0,W.validateIndexedDBOpenable)()];case 2:return[2,Yt.sent()];case 3:return Yt.sent(),[2,!1];case 4:return[2]}})})}Tt(f.default)},39278:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var z,Ot,y=N(99628),E=N(1270),j=N(46355),Pe=N(64003),Qe=((z={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",z["bad-app-name"]="Illegal App name: '{$appName}",z["duplicate-app"]="Firebase App named '{$appName}' already exists",z["app-deleted"]="Firebase App named '{$appName}' already deleted",z["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",z["invalid-log-argument"]="First argument to `onLog` must be null or a function.",z),te=new E.ErrorFactory("app","Firebase",Qe),Ge="@firebase/app",Le="[DEFAULT]",Me=((Ot={})[Ge]="fire-core",Ot["@firebase/analytics"]="fire-analytics",Ot["@firebase/auth"]="fire-auth",Ot["@firebase/database"]="fire-rtdb",Ot["@firebase/functions"]="fire-fn",Ot["@firebase/installations"]="fire-iid",Ot["@firebase/messaging"]="fire-fcm",Ot["@firebase/performance"]="fire-perf",Ot["@firebase/remote-config"]="fire-rc",Ot["@firebase/storage"]="fire-gcs",Ot["@firebase/firestore"]="fire-fst",Ot["fire-js"]="fire-js",Ot["firebase-wrapper"]="fire-js-all",Ot),tt=new Pe.Logger("@firebase/app"),f=function(){function at(ee,ce,re){var Ne,Ue,ht=this;this.firebase_=re,this.isDeleted_=!1,this.name_=ce.name,this.automaticDataCollectionEnabled_=ce.automaticDataCollectionEnabled||!1,this.options_=E.deepCopy(ee),this.container=new j.ComponentContainer(ce.name),this._addComponent(new j.Component("app",function(){return ht},"PUBLIC"));try{for(var Et=y.__values(this.firebase_.INTERNAL.components.values()),gn=Et.next();!gn.done;gn=Et.next())this._addComponent(gn.value)}catch(an){Ne={error:an}}finally{try{gn&&!gn.done&&(Ue=Et.return)&&Ue.call(Et)}finally{if(Ne)throw Ne.error}}}return Object.defineProperty(at.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(ee){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=ee},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),at.prototype.delete=function(){var ee=this;return new Promise(function(ce){ee.checkDestroyed_(),ce()}).then(function(){return ee.firebase_.INTERNAL.removeApp(ee.name_),Promise.all(ee.container.getProviders().map(function(ce){return ce.delete()}))}).then(function(){ee.isDeleted_=!0})},at.prototype._getService=function(ee,ce){return void 0===ce&&(ce=Le),this.checkDestroyed_(),this.container.getProvider(ee).getImmediate({identifier:ce})},at.prototype._removeServiceInstance=function(ee,ce){void 0===ce&&(ce=Le),this.container.getProvider(ee).clearInstance(ce)},at.prototype._addComponent=function(ee){try{this.container.addComponent(ee)}catch(ce){tt.debug("Component "+ee.name+" failed to register with FirebaseApp "+this.name,ce)}},at.prototype._addOrOverwriteComponent=function(ee){this.container.addOrOverwriteComponent(ee)},at.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw te.create("app-deleted",{appName:this.name_})},at}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var J=function W(){var at=function T(at){var ee={},ce=new Map,re={__esModule:!0,initializeApp:function ht(Ut,Xt){void 0===Xt&&(Xt={}),("object"!=typeof Xt||null===Xt)&&(Xt={name:Xt});var jn=Xt;void 0===jn.name&&(jn.name=Le);var xn=jn.name;if("string"!=typeof xn||!xn)throw te.create("bad-app-name",{appName:String(xn)});if(E.contains(ee,xn))throw te.create("duplicate-app",{appName:xn});var er=new at(Ut,jn,re);return ee[xn]=er,er},app:Ue,registerVersion:function _t(Ut,Xt,fn){var jn,xn=null!==(jn=Me[Ut])&&void 0!==jn?jn:Ut;fn&&(xn+="-"+fn);var er=xn.match(/\s|\//),Qn=Xt.match(/\s|\//);if(er||Qn){var Nn=['Unable to register library "'+xn+'" with version "'+Xt+'":'];return er&&Nn.push('library name "'+xn+'" contains illegal characters (whitespace or "/")'),er&&Qn&&Nn.push("and"),Qn&&Nn.push('version name "'+Xt+'" contains illegal characters (whitespace or "/")'),void tt.warn(Nn.join(" "))}gn(new j.Component(xn+"-version",function(){return{library:xn,version:Xt}},"VERSION"))},setLogLevel:Pe.setLogLevel,onLog:function an(Ut,Xt){if(null!==Ut&&"function"!=typeof Ut)throw te.create("invalid-log-argument",{appName:name});Pe.setUserLogHandler(Ut,Xt)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:gn,removeApp:function Ne(Ut){delete ee[Ut]},components:ce,useAsService:function ft(Ut,Xt){return"serverAuth"===Xt?null:Xt}}};function Ue(Ut){if(!E.contains(ee,Ut=Ut||Le))throw te.create("no-app",{appName:Ut});return ee[Ut]}function gn(Ut){var Xt,fn,jn=Ut.name;if(ce.has(jn))return tt.debug("There were multiple attempts to register component "+jn+"."),"PUBLIC"===Ut.type?re[jn]:null;if(ce.set(jn,Ut),"PUBLIC"===Ut.type){var xn=function(Dr){if(void 0===Dr&&(Dr=Ue()),"function"!=typeof Dr[jn])throw te.create("invalid-app-argument",{appName:jn});return Dr[jn]()};void 0!==Ut.serviceProps&&E.deepExtend(xn,Ut.serviceProps),re[jn]=xn,at.prototype[jn]=function(){for(var Dr=[],pn=0;pn<arguments.length;pn++)Dr[pn]=arguments[pn];return this._getService.bind(this,jn).apply(this,Ut.multipleInstances?Dr:[])}}try{for(var er=y.__values(Object.keys(ee)),Qn=er.next();!Qn.done;Qn=er.next())ee[Qn.value]._addComponent(Ut)}catch(Dr){Xt={error:Dr}}finally{try{Qn&&!Qn.done&&(fn=er.return)&&fn.call(er)}finally{if(Xt)throw Xt.error}}return"PUBLIC"===Ut.type?re[jn]:null}return re.default=re,Object.defineProperty(re,"apps",{get:function Et(){return Object.keys(ee).map(function(Ut){return ee[Ut]})}}),Ue.App=at,re}(f);return at.INTERNAL=y.__assign(y.__assign({},at.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function ee(ce){E.deepExtend(at,ce)},createSubscribe:E.createSubscribe,ErrorFactory:E.ErrorFactory,deepExtend:E.deepExtend}),at}(),R=function(){function at(ee){this.container=ee}return at.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ce){if(function ge(at){return"VERSION"===at.getComponent()?.type}(ce)){var re=ce.getImmediate();return re.library+"/"+re.version}return null}).filter(function(ce){return ce}).join(" ")},at}();if(E.isBrowser()&&void 0!==self.firebase){tt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tn=self.firebase.SDK_VERSION;Tn&&Tn.indexOf("LITE")>=0&&tt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var He=J.initializeApp;J.initializeApp=function(){for(var at=[],ee=0;ee<arguments.length;ee++)at[ee]=arguments[ee];return E.isNode()&&tt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),He.apply(void 0,at)};var ct=J;(function Ke(at,ee){at.INTERNAL.registerComponent(new j.Component("platform-logger",function(ce){return new R(ce)},"PRIVATE")),at.registerVersion(Ge,"0.6.11",ee),at.registerVersion("fire-js","")})(ct),it.default=ct,it.firebase=ct},92451:(Ln,it,N)=>{(function(){var E,y=N(39278).default,j="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,m){e!=Array.prototype&&e!=Object.prototype&&(e[a]=m.value)},z=function Pe(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var a=0;a<e.length;++a){var m=e[a];if(m&&m.Math==Math)return m}return globalThis}(this);function te(e){var a=0;return function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}}}function Ge(e){var a=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return a?a.call(e):{next:te(e)}}!function Qe(e,a){if(a){var m=z;e=e.split(".");for(var P=0;P<e.length-1;P++){var $=e[P];$ in m||(m[$]={}),m=m[$]}(a=a(P=m[e=e[e.length-1]]))!=P&&null!=a&&j(m,e,{configurable:!0,writable:!0,value:a})}}("Promise",function(e){function a(Ve){this.b=0,this.c=void 0,this.a=[];var Ht=this.f();try{Ve(Ht.resolve,Ht.reject)}catch(Bn){Ht.reject(Bn)}}function m(){this.a=null}function P(Ve){return Ve instanceof a?Ve:new a(function(Ht){Ht(Ve)})}if(e)return e;m.prototype.b=function(Ve){if(null==this.a){this.a=[];var Ht=this;this.c(function(){Ht.g()})}this.a.push(Ve)};var $=z.setTimeout;m.prototype.c=function(Ve){$(Ve,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var Ve=this.a;this.a=[];for(var Ht=0;Ht<Ve.length;++Ht){var Bn=Ve[Ht];Ve[Ht]=null;try{Bn()}catch(Jn){this.f(Jn)}}}this.a=null},m.prototype.f=function(Ve){this.c(function(){throw Ve})},a.prototype.f=function(){function Ve(Jn){return function(Jr){Bn||(Bn=!0,Jn.call(Ht,Jr))}}var Ht=this,Bn=!1;return{resolve:Ve(this.m),reject:Ve(this.g)}},a.prototype.m=function(Ve){if(Ve===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Ve instanceof a)this.s(Ve);else{e:switch(typeof Ve){case"object":var Ht=null!=Ve;break e;case"function":Ht=!0;break e;default:Ht=!1}Ht?this.u(Ve):this.h(Ve)}},a.prototype.u=function(Ve){var Ht=void 0;try{Ht=Ve.then}catch(Bn){return void this.g(Bn)}"function"==typeof Ht?this.w(Ht,Ve):this.h(Ve)},a.prototype.g=function(Ve){this.i(2,Ve)},a.prototype.h=function(Ve){this.i(1,Ve)},a.prototype.i=function(Ve,Ht){if(0!=this.b)throw Error("Cannot settle("+Ve+", "+Ht+"): Promise already settled in state"+this.b);this.b=Ve,this.c=Ht,this.l()},a.prototype.l=function(){if(null!=this.a){for(var Ve=0;Ve<this.a.length;++Ve)we.b(this.a[Ve]);this.a=null}};var we=new m;return a.prototype.s=function(Ve){var Ht=this.f();Ve.Oa(Ht.resolve,Ht.reject)},a.prototype.w=function(Ve,Ht){var Bn=this.f();try{Ve.call(Ht,Bn.resolve,Bn.reject)}catch(Jn){Bn.reject(Jn)}},a.prototype.then=function(Ve,Ht){function Bn(ro,Os){return"function"==typeof ro?function(cl){try{Jn(ro(cl))}catch(Xd){Jr(Xd)}}:Os}var Jn,Jr,Po=new a(function(ro,Os){Jn=ro,Jr=Os});return this.Oa(Bn(Ve,Jn),Bn(Ht,Jr)),Po},a.prototype.catch=function(Ve){return this.then(void 0,Ve)},a.prototype.Oa=function(Ve,Ht){function Bn(){switch(Jn.b){case 1:Ve(Jn.c);break;case 2:Ht(Jn.c);break;default:throw Error("Unexpected state: "+Jn.b)}}var Jn=this;null==this.a?we.b(Bn):this.a.push(Bn)},a.resolve=P,a.reject=function(Ve){return new a(function(Ht,Bn){Bn(Ve)})},a.race=function(Ve){return new a(function(Ht,Bn){for(var Jn=Ge(Ve),Jr=Jn.next();!Jr.done;Jr=Jn.next())P(Jr.value).Oa(Ht,Bn)})},a.all=function(Ve){var Ht=Ge(Ve),Bn=Ht.next();return Bn.done?P([]):new a(function(Jn,Jr){function Po(cl){return function(Xd){ro[cl]=Xd,0==--Os&&Jn(ro)}}var ro=[],Os=0;do{ro.push(void 0),Os++,P(Bn.value).Oa(Po(ro.length-1),Jr),Bn=Ht.next()}while(!Bn.done)})},a});var ie=ie||{},K=this||self,Ae=/^[\w+/_-]+[=]{0,2}$/,Se=null;function Fe(){}function bt(e){var a=typeof e;if("object"==a){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return a;var m=Object.prototype.toString.call(e);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof e.length&&typeof e.splice<"u"&&typeof e.propertyIsEnumerable<"u"&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||typeof e.call<"u"&&typeof e.propertyIsEnumerable<"u"&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==a&&typeof e.call>"u")return"object";return a}function Zt(e){var a=bt(e);return"array"==a||"object"==a&&"number"==typeof e.length}function Wt(e){return"function"==bt(e)}function ye(e){var a=typeof e;return"object"==a&&null!=e||"function"==a}function Nt(e){return Object.prototype.hasOwnProperty.call(e,yt)&&e[yt]||(e[yt]=++en)}var yt="closure_uid_"+(1e9*Math.random()>>>0),en=0;function Ot(e,a,m){return e.call.apply(e.bind,arguments)}function Le(e,a,m){if(!e)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,P),e.apply(a,$)}}return function(){return e.apply(a,arguments)}}function Me(e,a,m){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:Le).apply(null,arguments)}function tt(e,a){var m=Array.prototype.slice.call(arguments,1);return function(){var P=m.slice();return P.push.apply(P,arguments),e.apply(this,P)}}var f=Date.now||function(){return+new Date};function k(e,a){function m(){}m.prototype=a.prototype,e.Za=a.prototype,e.prototype=new m,e.prototype.constructor=e}function T(e,a,m){this.code=J+e,this.message=a||R[e]||"",this.a=m||null}function W(e){var a=e&&e.code;return a?new T(a.substring(J.length),e.message,e.serverResponse):null}k(T,Error),T.prototype.v=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.v()};var Tn,J="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ge={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ke(e){for(var a in ge)if(ge[a].id===e)return{firebaseEndpoint:(e=ge[a]).Ra,secureTokenEndpoint:e.Xa,identityPlatformEndpoint:e.Ua};return null}function He(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch{return!1}}function ct(e){if(Error.captureStackTrace)Error.captureStackTrace(this,ct);else{var a=Error().stack;a&&(this.stack=a)}e&&(this.message=String(e))}function at(e,a){for(var m="",P=(e=e.split("%s")).length-1,$=0;$<P;$++)m+=e[$]+($<a.length?a[$]:"%s");ct.call(this,m+e[P])}function ee(e,a){throw new at("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function ce(e,a){this.c=e,this.f=a,this.b=0,this.a=null}function re(e,a){e.f(a),100>e.b&&(e.b++,a.next=e.a,e.a=a)}function Ne(){this.b=this.a=null}Tn=Ke("__EID__")?"__EID__":void 0,k(ct,Error),ct.prototype.name="CustomError",k(at,ct),at.prototype.name="AssertionError",ce.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ue=new ce(function(){return new Et},function(e){e.reset()});function ht(){var e=B,a=null;return e.a&&(a=e.a,e.a=e.a.next,e.a||(e.b=null),a.next=null),a}function Et(){this.next=this.b=this.a=null}Ne.prototype.add=function(e,a){var m=Ue.get();m.set(e,a),this.b?this.b.next=m:this.a=m,this.b=m},Et.prototype.set=function(e,a){this.a=e,this.b=a,this.next=null},Et.prototype.reset=function(){this.next=this.b=this.a=null};var gn=Array.prototype.indexOf?function(e,a){return Array.prototype.indexOf.call(e,a,void 0)}:function(e,a){if("string"==typeof e)return"string"!=typeof a||1!=a.length?-1:e.indexOf(a,0);for(var m=0;m<e.length;m++)if(m in e&&e[m]===a)return m;return-1},_t=Array.prototype.forEach?function(e,a,m){Array.prototype.forEach.call(e,a,m)}:function(e,a,m){for(var P=e.length,$="string"==typeof e?e.split(""):e,we=0;we<P;we++)we in $&&a.call(m,$[we],we,e)},ft=Array.prototype.filter?function(e,a){return Array.prototype.filter.call(e,a,void 0)}:function(e,a){for(var m=e.length,P=[],$=0,we="string"==typeof e?e.split(""):e,Ve=0;Ve<m;Ve++)if(Ve in we){var Ht=we[Ve];a.call(void 0,Ht,Ve,e)&&(P[$++]=Ht)}return P},Ut=Array.prototype.map?function(e,a){return Array.prototype.map.call(e,a,void 0)}:function(e,a){for(var m=e.length,P=Array(m),$="string"==typeof e?e.split(""):e,we=0;we<m;we++)we in $&&(P[we]=a.call(void 0,$[we],we,e));return P},Xt=Array.prototype.some?function(e,a){return Array.prototype.some.call(e,a,void 0)}:function(e,a){for(var m=e.length,P="string"==typeof e?e.split(""):e,$=0;$<m;$++)if($ in P&&a.call(void 0,P[$],$,e))return!0;return!1};function jn(e,a){return 0<=gn(e,a)}function xn(e,a){var m;return(m=0<=(a=gn(e,a)))&&Array.prototype.splice.call(e,a,1),m}function er(e,a){!function an(e,a){for(var m="string"==typeof e?e.split(""):e,P=e.length-1;0<=P;--P)P in m&&a.call(void 0,m[P],P,e)}(e,function(P,$){a.call(void 0,P,$,e)&&Array.prototype.splice.call(e,$,1)})}function Qn(e){return Array.prototype.concat.apply([],arguments)}function Nn(e){var a=e.length;if(0<a){for(var m=Array(a),P=0;P<a;P++)m[P]=e[P];return m}return[]}var Rt,Dr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},pn=/&/g,Oe=/</g,vt=/>/g,Bt=/"/g,Qt=/'/g,mn=/\x00/g,Je=/[\x00&<>"']/;function Ee(e,a){return-1!=e.indexOf(a)}function xt(e,a){return e<a?-1:e>a?1:0}e:{var dt=K.navigator;if(dt){var En=dt.userAgent;if(En){Rt=En;break e}}Rt=""}function On(e){return Ee(Rt,e)}function Wn(e,a){for(var m in e)a.call(void 0,e[m],m,e)}function kn(e){for(var a in e)return!1;return!0}function Rn(e){var m,a={};for(m in e)a[m]=e[m];return a}var nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xr(e,a){for(var m,P,$=1;$<arguments.length;$++){for(m in P=arguments[$])e[m]=P[m];for(var we=0;we<nr.length;we++)m=nr[we],Object.prototype.hasOwnProperty.call(P,m)&&(e[m]=P[m])}}function hn(e,a){e:{try{var m=e&&e.ownerDocument,P=m&&(m.defaultView||m.parentWindow);if((P=P||K).Element&&P.Location){var $=P;break e}}catch{}$=null}if($&&typeof $[a]<"u"&&(!e||!(e instanceof $[a])&&(e instanceof $.Location||e instanceof $.Element))){if(ye(e))try{var we=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{we="<object could not be stringified>"}else we=void 0===e?"undefined":null===e?"null":typeof e;ee("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,we)}}function Pt(e,a){this.a=e===le&&a||"",this.b=Te}function Vt(e){return e instanceof Pt&&e.constructor===Pt&&e.b===Te?e.a:(ee("expected object of type Const, got '"+e+"'"),"type_error:Const")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a},Pt.prototype.toString=function(){return"Const{"+this.a+"}"};var Te={},le={},ae=new Pt(le,"");function rt(e,a){this.a=e===ln&&a||"",this.b=Yt}function Tt(e){return e instanceof rt&&e.constructor===rt&&e.b===Yt?e.a:(ee("expected object of type TrustedResourceUrl, got '"+e+"' of type "+bt(e)),"type_error:TrustedResourceUrl")}function bn(e,a){var m=Vt(e);if(!Ct.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return e=m.replace(xe,function(P,$){if(!Object.prototype.hasOwnProperty.call(a,$))throw Error('Found marker, "'+$+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(a));return(P=a[$])instanceof Pt?Vt(P):encodeURIComponent(String(P))}),new rt(ln,e)}rt.prototype.ra=!0,rt.prototype.qa=function(){return this.a.toString()},rt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Yt={},ln={};function qt(e,a){this.a=e===Ft&&a||"",this.b=Dt}function ot(e){return e instanceof qt&&e.constructor===qt&&e.b===Dt?e.a:(ee("expected object of type SafeUrl, got '"+e+"' of type "+bt(e)),"type_error:SafeUrl")}qt.prototype.ra=!0,qt.prototype.qa=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function De(e){return e instanceof qt?e:(e="object"==typeof e&&e.ra?e.qa():String(e),nt.test(e)||(e="about:invalid#zClosurez"),new qt(Ft,e))}var Dt={},Ft={};function vn(){this.a="",this.b=Cn}function Zn(e){return e instanceof vn&&e.constructor===vn&&e.b===Cn?e.a:(ee("expected object of type SafeHtml, got '"+e+"' of type "+bt(e)),"type_error:SafeHtml")}vn.prototype.ra=!0,vn.prototype.qa=function(){return this.a.toString()},vn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Cn={};function yr(e){var a=new vn;return a.a=e,a}yr("<!DOCTYPE html>");var ei=yr("");function St(e,a){for(var m=e.split("%s"),P="",$=Array.prototype.slice.call(arguments,1);$.length&&1<m.length;)P+=m.shift()+$.shift();return P+m.join("%s")}function zt(e){return Je.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(pn,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Oe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(vt,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Bt,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Qt,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(mn,"&#0;"))),e}function ke(e){return ke[" "](e),e}yr("<br>"),ke[" "]=Fe;var mr,e,be=On("Opera"),$e=On("Trident")||On("MSIE"),mt=On("Edge"),Mt=mt||$e,Lt=On("Gecko")&&!(Ee(Rt.toLowerCase(),"webkit")&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),Yn=Ee(Rt.toLowerCase(),"webkit")&&!On("Edge");function Kn(){var e=K.document;return e?e.documentMode:void 0}e:{var rr="",dn=(e=Rt,Lt?/rv:([^\);]+)(\)|;)/.exec(e):mt?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yn?/WebKit\/(\S+)/.exec(e):be?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(dn&&(rr=dn?dn[1]:""),$e){var sr=Kn();if(null!=sr&&sr>parseFloat(rr)){mr=String(sr);break e}}mr=rr}var Cr,fr={};function ai(e){return function q(e,a){var m=fr;return Object.prototype.hasOwnProperty.call(m,e)?m[e]:m[e]=a(e)}(e,function(){for(var a=0,m=Dr(String(mr)).split("."),P=Dr(String(e)).split("."),$=Math.max(m.length,P.length),we=0;0==a&&we<$;we++){var Ve=m[we]||"",Ht=P[we]||"";do{if(Ve=/(\d*)(\D*)(.*)/.exec(Ve)||["","","",""],Ht=/(\d*)(\D*)(.*)/.exec(Ht)||["","","",""],0==Ve[0].length&&0==Ht[0].length)break;a=xt(0==Ve[1].length?0:parseInt(Ve[1],10),0==Ht[1].length?0:parseInt(Ht[1],10))||xt(0==Ve[2].length,0==Ht[2].length)||xt(Ve[2],Ht[2]),Ve=Ve[3],Ht=Ht[3]}while(0==a)}return 0<=a})}Cr=K.document&&$e?Kn():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var xi=!$e||9<=Number(Cr);function di(e){var a=document;return"string"==typeof e?a.getElementById(e):e}function Mr(e,a){Wn(a,function(m,P){m&&"object"==typeof m&&m.ra&&(m=m.qa()),"style"==P?e.style.cssText=m:"class"==P?e.className=m:"for"==P?e.htmlFor=m:Bi.hasOwnProperty(P)?e.setAttribute(Bi[P],m):0==P.lastIndexOf("aria-",0)||0==P.lastIndexOf("data-",0)?e.setAttribute(P,m):e[P]=m})}var to,Gi,Bi={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Qi(e,a){return a=String(a),"application/xhtml+xml"===e.contentType&&(a=a.toLowerCase()),e.createElement(a)}function ji(e){if(e&&"number"==typeof e.length){if(ye(e))return"function"==typeof e.item||"string"==typeof e.item;if(Wt(e))return"function"==typeof e.item}return!1}function io(e){K.setTimeout(function(){throw e},0)}function No(e,a){Gi||function ze(){if(K.Promise&&K.Promise.resolve){var e=K.Promise.resolve(void 0);Gi=function(){e.then(_e)}}else Gi=function(){var a=_e;!Wt(K.setImmediate)||K.Window&&K.Window.prototype&&!On("Edge")&&K.Window.prototype.setImmediate==K.setImmediate?(to||(to=function Mi(){var e=K.MessageChannel;if(typeof e>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!On("Presto")&&(e=function(){var $=Qi(document,"IFRAME");$.style.display="none",function st(e){var a=new rt(ln,Vt(ae));hn(e,"HTMLIFrameElement"),e.src=Tt(a).toString()}($),document.documentElement.appendChild($);var we=$.contentWindow;($=we.document).open(),$.write(Zn(ei)),$.close();var Ve="callImmediate"+Math.random(),Ht="file:"==we.location.protocol?"*":we.location.protocol+"//"+we.location.host;$=Me(function(Bn){("*"==Ht||Bn.origin==Ht)&&Bn.data==Ve&&this.port1.onmessage()},this),we.addEventListener("message",$,!1),this.port1={},this.port2={postMessage:function(){we.postMessage(Ve,Ht)}}}),typeof e<"u"&&!On("Trident")&&!On("MSIE")){var a=new e,m={},P=m;return a.port1.onmessage=function(){if(void 0!==m.next){var $=(m=m.next).Db;m.Db=null,$()}},function($){P.next={Db:$},P=P.next,a.port2.postMessage(0)}}return function($){K.setTimeout($,0)}}()),to(a)):K.setImmediate(a)}}(),pe||(Gi(),pe=!0),B.add(e,a)}var pe=!1,B=new Ne;function _e(){for(var e;e=ht();){try{e.a.call(e.b)}catch(a){io(a)}re(Ue,e)}pe=!1}function Xe(e,a){if(this.a=un,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=Fe)try{var m=this;e.call(a,function(P){So(m,$n,P)},function(P){if(!(P instanceof Fo))try{throw P instanceof Error?P:Error("Promise rejected.")}catch{}So(m,ur,P)})}catch(P){So(this,ur,P)}}var un=0,$n=2,ur=3;function kr(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kr.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var gr=new ce(function(){return new kr},function(e){e.reset()});function vr(e,a,m){var P=gr.get();return P.g=e,P.b=a,P.f=m,P}function ir(e){if(e instanceof Xe)return e;var a=new Xe(Fe);return So(a,$n,e),a}function ar(e){return new Xe(function(a,m){m(e)})}function ki(e,a,m){$i(e,a,m,null)||No(tt(a,e))}function Oi(e){return new Xe(function(a){var m=e.length,P=[];if(m)for(var $=function(Ht,Bn,Jn){m--,P[Ht]=Bn?{Mb:!0,value:Jn}:{Mb:!1,reason:Jn},0==m&&a(P)},we=0;we<e.length;we++)ki(e[we],tt($,we,!0),tt($,we,!1));else a(P)})}function Ki(e,a){if(e.a==un)if(e.c){var m=e.c;if(m.b){for(var P=0,$=null,we=null,Ve=m.b;Ve&&(Ve.c||(P++,Ve.a==e&&($=Ve),!($&&1<P)));Ve=Ve.next)$||(we=Ve);$&&(m.a==un&&1==P?Ki(m,a):(we?((P=we).next==m.f&&(m.f=P),P.next=P.next.next):Ko(m),cs(m,$,ur,a)))}e.c=null}else So(e,ur,a)}function Ai(e,a){e.b||e.a!=$n&&e.a!=ur||Ts(e),e.f?e.f.next=a:e.b=a,e.f=a}function Gr(e,a,m,P){var $=vr(null,null,null);return $.a=new Xe(function(we,Ve){$.g=a?function(Ht){try{var Bn=a.call(P,Ht);we(Bn)}catch(Jn){Ve(Jn)}}:we,$.b=m?function(Ht){try{var Bn=m.call(P,Ht);void 0===Bn&&Ht instanceof Fo?Ve(Ht):we(Bn)}catch(Jn){Ve(Jn)}}:Ve}),$.a.c=e,Ai(e,$),$.a}function So(e,a,m){e.a==un&&(e===m&&(a=ur,m=new TypeError("Promise cannot resolve to itself")),e.a=1,$i(m,e.Yc,e.Zc,e)||(e.i=m,e.a=a,e.c=null,Ts(e),a!=ur||m instanceof Fo||function mi(e,a){e.g=!0,No(function(){e.g&&Ds.call(null,a)})}(e,m)))}function $i(e,a,m,P){if(e instanceof Xe)return Ai(e,vr(a||Fe,m||null,P)),!0;if(He(e))return e.then(a,m,P),!0;if(ye(e))try{var $=e.then;if(Wt($))return function oo(e,a,m,P,$){function we(Bn){Ht||(Ht=!0,P.call($,Bn))}var Ht=!1;try{a.call(e,function Ve(Bn){Ht||(Ht=!0,m.call($,Bn))},we)}catch(Bn){we(Bn)}}(e,$,a,m,P),!0}catch(we){return m.call(P,we),!0}return!1}function Ts(e){e.h||(e.h=!0,No(e.ec,e))}function Ko(e){var a=null;return e.b&&(e.b=(a=e.b).next,a.next=null),e.b||(e.f=null),a}function cs(e,a,m,P){if(m==ur&&a.b&&!a.c)for(;e&&e.g;e=e.c)e.g=!1;if(a.a)a.a.c=null,Ns(a,m,P);else try{a.c?a.g.call(a.f):Ns(a,m,P)}catch($){Ds.call(null,$)}re(gr,a)}function Ns(e,a,m){a==$n?e.g.call(e.f,m):e.b&&e.b.call(e.f,m)}Xe.prototype.then=function(e,a,m){return Gr(this,Wt(e)?e:null,Wt(a)?a:null,m)},Xe.prototype.$goog_Thenable=!0,(E=Xe.prototype).ma=function(e,a){return(e=vr(e,e,a)).c=!0,Ai(this,e),this},E.o=function(e,a){return Gr(this,null,e,a)},E.cancel=function(e){if(this.a==un){var a=new Fo(e);No(function(){Ki(this,a)},this)}},E.Yc=function(e){this.a=un,So(this,$n,e)},E.Zc=function(e){this.a=un,So(this,ur,e)},E.ec=function(){for(var e;e=Ko(this);)cs(this,e,this.a,this.i);this.h=!1};var Ds=io;function Fo(e){ct.call(this,e)}function ds(){0!=lo&&(oe[Nt(this)]=this),this.wa=this.wa,this.na=this.na}k(Fo,ct),Fo.prototype.name="cancel";var lo=0,oe={};function ne(e){if(!e.wa&&(e.wa=!0,e.Ba(),0!=lo)){var a=Nt(e);if(0!=lo&&e.na&&0<e.na.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete oe[a]}}ds.prototype.wa=!1,ds.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(e){return e},wt=!$e||9<=Number(Cr),jt=$e&&!ai("9"),Jt=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var e=!1,a=Object.defineProperty({},"passive",{get:function(){e=!0}});try{K.addEventListener("test",Fe,a),K.removeEventListener("test",Fe,a)}catch{}return e}();function Sn(e,a){this.type=e,this.b=this.target=a,this.defaultPrevented=!1}function Hn(e,a){if(Sn.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var m=this.type=e.type,P=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=a,a=e.relatedTarget){if(Lt){e:{try{ke(a.nodeName);var $=!0;break e}catch{}$=!1}$||(a=null)}}else"mouseover"==m?a=e.fromElement:"mouseout"==m&&(a=e.toElement);this.relatedTarget=a,P?(this.clientX=void 0!==P.clientX?P.clientX:P.pageX,this.clientY=void 0!==P.clientY?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Mn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Sn.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Hn,Sn);var Mn=Be({2:"touch",3:"pen",4:"mouse"});Hn.prototype.preventDefault=function(){Hn.Za.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,jt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}},Hn.prototype.f=function(){return this.a};var qn="closure_listenable_"+(1e6*Math.random()|0),or=0;function Kr(e,a,m,P,$){this.listener=e,this.proxy=null,this.src=a,this.type=m,this.capture=!!P,this.Ta=$,this.key=++or,this.ua=this.Na=!1}function Ar(e){e.ua=!0,e.listener=null,e.proxy=null,e.src=null,e.Ta=null}function gi(e){this.src=e,this.a={},this.b=0}function $r(e,a){var m=a.type;m in e.a&&xn(e.a[m],a)&&(Ar(a),0==e.a[m].length&&(delete e.a[m],e.b--))}function Ri(e,a,m,P){for(var $=0;$<e.length;++$){var we=e[$];if(!we.ua&&we.listener==a&&we.capture==!!m&&we.Ta==P)return $}return-1}gi.prototype.add=function(e,a,m,P,$){var we=e.toString();(e=this.a[we])||(e=this.a[we]=[],this.b++);var Ve=Ri(e,a,P,$);return-1<Ve?(a=e[Ve],m||(a.Na=!1)):((a=new Kr(a,this.src,we,!!P,$)).Na=m,e.push(a)),a};var vi="closure_lm_"+(1e6*Math.random()|0),mo={};function Ur(e,a,m,P,$){if(P&&P.once)Ti(e,a,m,P,$);else if(Array.isArray(a))for(var we=0;we<a.length;we++)Ur(e,a[we],m,P,$);else m=Ui(m),e&&e[qn]?Xi(e,a,m,ye(P)?!!P.capture:!!P,$):go(e,a,m,!1,P,$)}function go(e,a,m,P,$,we){if(!a)throw Error("Invalid event type");var Ve=ye($)?!!$.capture:!!$,Ht=ti(e);if(Ht||(e[vi]=Ht=new gi(e)),!(m=Ht.add(a,m,P,Ve,we)).proxy)if(P=function Si(){var e=Fs,a=wt?function(m){return e.call(a.src,a.listener,m)}:function(m){if(!(m=e.call(a.src,a.listener,m)))return m};return a}(),m.proxy=P,P.src=e,P.listener=m,e.addEventListener)Jt||($=Ve),void 0===$&&($=!1),e.addEventListener(a.toString(),P,$);else if(e.attachEvent)e.attachEvent(Yi(a.toString()),P);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(P)}}function Ti(e,a,m,P,$){if(Array.isArray(a))for(var we=0;we<a.length;we++)Ti(e,a[we],m,P,$);else m=Ui(m),e&&e[qn]?is(e,a,m,ye(P)?!!P.capture:!!P,$):go(e,a,m,!0,P,$)}function yi(e,a,m,P,$){if(Array.isArray(a))for(var we=0;we<a.length;we++)yi(e,a[we],m,P,$);else P=ye(P)?!!P.capture:!!P,m=Ui(m),e&&e[qn]?(e=e.u,(a=String(a).toString())in e.a&&-1<(m=Ri(we=e.a[a],m,P,$))&&(Ar(we[m]),Array.prototype.splice.call(we,m,1),0==we.length&&(delete e.a[a],e.b--))):e&&(e=ti(e))&&(a=e.a[a.toString()],e=-1,a&&(e=Ri(a,m,P,$)),(m=-1<e?a[e]:null)&&hi(m))}function hi(e){if("number"!=typeof e&&e&&!e.ua){var a=e.src;if(a&&a[qn])$r(a.u,e);else{var m=e.type,P=e.proxy;a.removeEventListener?a.removeEventListener(m,P,e.capture):a.detachEvent?a.detachEvent(Yi(m),P):a.addListener&&a.removeListener&&a.removeListener(P),(m=ti(a))?($r(m,e),0==m.b&&(m.src=null,a[vi]=null)):Ar(e)}}}function Yi(e){return e in mo?mo[e]:mo[e]="on"+e}function Vo(e,a,m,P){var $=!0;if((e=ti(e))&&(a=e.a[a.toString()]))for(a=a.concat(),e=0;e<a.length;e++){var we=a[e];we&&we.capture==m&&!we.ua&&(we=$o(we,P),$=$&&!1!==we)}return $}function $o(e,a){var m=e.listener,P=e.Ta||e.src;return e.Na&&hi(e),m.call(P,a)}function Fs(e,a){if(e.ua)return!0;if(!wt){if(!a)e:{a=["window","event"];for(var m=K,P=0;P<a.length;P++)if(null==(m=m[a[P]])){a=null;break e}a=m}if(a=new Hn(P=a,this),m=!0,!(0>P.keyCode||null!=P.returnValue)){e:{var $=!1;if(0==P.keyCode)try{P.keyCode=-1;break e}catch{$=!0}($||null==P.returnValue)&&(P.returnValue=!0)}for(P=[],$=a.b;$;$=$.parentNode)P.push($);for(e=e.type,$=P.length-1;0<=$;$--){a.b=P[$];var we=Vo(P[$],e,!0,a);m=m&&we}for($=0;$<P.length;$++)a.b=P[$],we=Vo(P[$],e,!1,a),m=m&&we}return m}return $o(e,new Hn(a,this))}function ti(e){return(e=e[vi])instanceof gi?e:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(e){return Wt(e)?e:(e[Qr]||(e[Qr]=function(a){return e.handleEvent(a)}),e[Qr])}function uo(){ds.call(this),this.u=new gi(this),this.Yb=this,this.eb=null}function Xi(e,a,m,P,$){e.u.add(String(a),m,!1,P,$)}function is(e,a,m,P,$){e.u.add(String(a),m,!0,P,$)}function Vi(e,a,m,P){if(!(a=e.u.a[String(a)]))return!0;a=a.concat();for(var $=!0,we=0;we<a.length;++we){var Ve=a[we];if(Ve&&!Ve.ua&&Ve.capture==m){var Ht=Ve.listener,Bn=Ve.Ta||Ve.src;Ve.Na&&$r(e.u,Ve),$=!1!==Ht.call(Bn,P)&&$}}return $&&!P.defaultPrevented}function Or(e,a,m){if(Wt(e))m&&(e=Me(e,m));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Me(e.handleEvent,e)}return 2147483647<Number(a)?-1:K.setTimeout(e,a||0)}function _o(e){var a=null;return new Xe(function(m,P){-1==(a=Or(function(){m(void 0)},e))&&P(Error("Failed to schedule timer."))}).o(function(m){throw K.clearTimeout(a),m})}function hs(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(Zt(e)){for(var a=[],m=e.length,P=0;P<m;P++)a.push(e[P]);return a}for(P in a=[],m=0,e)a[m++]=e[P];return a}function Ls(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.V||"function"!=typeof e.V){if(Zt(e)||"string"==typeof e){var a=[];e=e.length;for(var m=0;m<e;m++)a.push(m);return a}for(var P in a=[],m=0,e)a[m++]=P;return a}}function To(e,a){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var P=0;P<m;P+=2)this.set(arguments[P],arguments[P+1])}else if(e)if(e instanceof To)for(m=e.X(),P=0;P<m.length;P++)this.set(m[P],e.get(m[P]));else for(P in e)this.set(P,e[P])}function Hi(e){if(e.c!=e.a.length){for(var a=0,m=0;a<e.a.length;){var P=e.a[a];es(e.b,P)&&(e.a[m++]=P),a++}e.a.length=m}if(e.c!=e.a.length){var $={};for(m=a=0;a<e.a.length;)es($,P=e.a[a])||(e.a[m++]=P,$[P]=1),a++;e.a.length=m}}function es(e,a){return Object.prototype.hasOwnProperty.call(e,a)}k(uo,ds),uo.prototype[qn]=!0,uo.prototype.addEventListener=function(e,a,m,P){Ur(this,e,a,m,P)},uo.prototype.removeEventListener=function(e,a,m,P){yi(this,e,a,m,P)},uo.prototype.dispatchEvent=function(e){var a,m=this.eb;if(m)for(a=[];m;m=m.eb)a.push(m);m=this.Yb;var P=e.type||e;if("string"==typeof e)e=new Sn(e,m);else if(e instanceof Sn)e.target=e.target||m;else{var $=e;xr(e=new Sn(P,m),$)}if($=!0,a)for(var we=a.length-1;0<=we;we--){var Ve=e.b=a[we];$=Vi(Ve,P,!0,e)&&$}if($=Vi(Ve=e.b=m,P,!0,e)&&$,$=Vi(Ve,P,!1,e)&&$,a)for(we=0;we<a.length;we++)$=Vi(Ve=e.b=a[we],P,!1,e)&&$;return $},uo.prototype.Ba=function(){if(uo.Za.Ba.call(this),this.u){var m,e=this.u;for(m in e.a){for(var P=e.a[m],$=0;$<P.length;$++)Ar(P[$]);delete e.a[m],e.b--}}this.eb=null},(E=To.prototype).V=function(){Hi(this);for(var e=[],a=0;a<this.a.length;a++)e.push(this.b[this.a[a]]);return e},E.X=function(){return Hi(this),this.a.concat()},E.clear=function(){this.b={},this.c=this.a.length=0},E.get=function(e,a){return es(this.b,e)?this.b[e]:a},E.set=function(e,a){es(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=a},E.forEach=function(e,a){for(var m=this.X(),P=0;P<m.length;P++){var $=m[P],we=this.get($);e.call(a,we,$,this)}};var Ks=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vr(e,a){var m;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof Vr?(this.h=void 0!==a?a:e.h,fs(this,e.f),this.i=e.i,this.b=e.b,qo(this,e.l),this.c=e.c,oi(this,Cs(e.a)),this.g=e.g):e&&(m=String(e).match(Ks))?(this.h=!!a,fs(this,m[1]||"",!0),this.i=ts(m[2]||""),this.b=ts(m[3]||"",!0),qo(this,m[4]),this.c=ts(m[5]||"",!0),oi(this,m[6]||"",!0),this.g=ts(m[7]||"")):(this.h=!!a,this.a=new vo(null,this.h))}function fs(e,a,m){e.f=m?ts(a,!0):a,e.f&&(e.f=e.f.replace(/:$/,""))}function qo(e,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);e.l=a}else e.l=null}function oi(e,a,m){a instanceof vo?(e.a=a,function Ci(e,a){a&&!e.f&&(Ho(e),e.c=null,e.a.forEach(function(m,P){var $=P.toLowerCase();P!=$&&(Qo(this,P),fi(this,$,m))},e)),e.f=a}(e.a,e.h)):(m||(a=ps(a,xo)),e.a=new vo(a,e.h))}function Zi(e,a,m){e.a.set(a,m)}function Di(e,a){return e.a.get(a)}function Ji(e){return e instanceof Vr?new Vr(e):new Vr(e,void 0)}function Bs(e,a){var m=new Vr(null,void 0);return fs(m,"https"),e&&(m.b=e),a&&(m.c=a),m}function ts(e,a){return e?a?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ps(e,a,m){return"string"==typeof e?(e=encodeURI(e).replace(a,$s),m&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $s(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vr.prototype.toString=function(){var e=[],a=this.f;a&&e.push(ps(a,Hs,!0),":");var m=this.b;return(m||"file"==a)&&(e.push("//"),(a=this.i)&&e.push(ps(a,Hs,!0),"@"),e.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.l)&&e.push(":",String(m))),(m=this.c)&&(this.b&&"/"!=m.charAt(0)&&e.push("/"),e.push(ps(m,"/"==m.charAt(0)?Lo:co,!0))),(m=this.a.toString())&&e.push("?",m),(m=this.g)&&e.push("#",ps(m,Do)),e.join("")},Vr.prototype.resolve=function(e){var a=new Vr(this),m=!!e.f;m?fs(a,e.f):m=!!e.i,m?a.i=e.i:m=!!e.b,m?a.b=e.b:m=null!=e.l;var P=e.c;if(m)qo(a,e.l);else if(m=!!e.c){if("/"!=P.charAt(0))if(this.b&&!this.c)P="/"+P;else{var $=a.c.lastIndexOf("/");-1!=$&&(P=a.c.substr(0,$+1)+P)}if(".."==($=P)||"."==$)P="";else if(Ee($,"./")||Ee($,"/.")){P=0==$.lastIndexOf("/",0),$=$.split("/");for(var we=[],Ve=0;Ve<$.length;){var Ht=$[Ve++];"."==Ht?P&&Ve==$.length&&we.push(""):".."==Ht?((1<we.length||1==we.length&&""!=we[0])&&we.pop(),P&&Ve==$.length&&we.push("")):(we.push(Ht),P=!0)}P=we.join("/")}else P=$}return m?a.c=P:m=""!==e.a.toString(),m?oi(a,Cs(e.a)):m=!!e.g,m&&(a.g=e.g),a};var Hs=/[#\/\?@]/g,co=/[#\?:]/g,Lo=/[#\?]/g,xo=/[#\?@]/g,Do=/#/g;function vo(e,a){this.b=this.a=null,this.c=e||null,this.f=!!a}function Ho(e){e.a||(e.a=new To,e.b=0,e.c&&function Pn(e,a){if(e){e=e.split("&");for(var m=0;m<e.length;m++){var P=e[m].indexOf("="),$=null;if(0<=P){var we=e[m].substring(0,P);$=e[m].substring(P+1)}else we=e[m];a(we,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}(e.c,function(a,m){e.add(decodeURIComponent(a.replace(/\+/g," ")),m)}))}function Bo(e){var a=Ls(e);if(typeof a>"u")throw Error("Keys are undefined");var m=new vo(null,void 0);e=hs(e);for(var P=0;P<a.length;P++){var $=a[P],we=e[P];Array.isArray(we)?fi(m,$,we):m.add($,we)}return m}function Qo(e,a){Ho(e),a=Xn(e,a),es(e.a.b,a)&&(e.c=null,e.b-=e.a.get(a).length,es((e=e.a).b,a)&&(delete e.b[a],e.c--,e.a.length>2*e.c&&Hi(e)))}function js(e,a){return Ho(e),a=Xn(e,a),es(e.a.b,a)}function fi(e,a,m){Qo(e,a),0<m.length&&(e.c=null,e.a.set(Xn(e,a),Nn(m)),e.b+=m.length)}function Cs(e){var a=new vo;return a.c=e.c,e.a&&(a.a=new To(e.a),a.b=e.b),a}function Xn(e,a){return a=String(a),e.f&&(a=a.toLowerCase()),a}function vs(e){var a=[];return zo(new ys,e,a),a.join("")}function ys(){}function zo(e,a,m){if(null==a)m.push("null");else{if("object"==typeof a){if(Array.isArray(a)){var P=a;a=P.length,m.push("[");for(var $="",we=0;we<a;we++)m.push($),zo(e,P[we],m),$=",";return void m.push("]")}if(!(a instanceof String||a instanceof Number||a instanceof Boolean)){for(P in m.push("{"),$="",a)Object.prototype.hasOwnProperty.call(a,P)&&"function"!=typeof(we=a[P])&&(m.push($),ms(P,m),m.push(":"),zo(e,we,m),$=",");return void m.push("}")}a=a.valueOf()}switch(typeof a){case"string":ms(a,m);break;case"number":m.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":m.push(String(a));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}(E=vo.prototype).add=function(e,a){Ho(this),this.c=null,e=Xn(this,e);var m=this.a.get(e);return m||this.a.set(e,m=[]),m.push(a),this.b+=1,this},E.clear=function(){this.a=this.c=null,this.b=0},E.forEach=function(e,a){Ho(this),this.a.forEach(function(m,P){_t(m,function($){e.call(a,$,P,this)},this)},this)},E.X=function(){Ho(this);for(var e=this.a.V(),a=this.a.X(),m=[],P=0;P<a.length;P++)for(var $=e[P],we=0;we<$.length;we++)m.push(a[P]);return m},E.V=function(e){Ho(this);var a=[];if("string"==typeof e)js(this,e)&&(a=Qn(a,this.a.get(Xn(this,e))));else{e=this.a.V();for(var m=0;m<e.length;m++)a=Qn(a,e[m])}return a},E.set=function(e,a){return Ho(this),this.c=null,js(this,e=Xn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[a]),this.b+=1,this},E.get=function(e,a){return e&&0<(e=this.V(e)).length?String(e[0]):a},E.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],a=this.a.X(),m=0;m<a.length;m++){var P=a[m],$=encodeURIComponent(String(P));P=this.V(P);for(var we=0;we<P.length;we++){var Ve=$;""!==P[we]&&(Ve+="="+encodeURIComponent(String(P[we]))),e.push(Ve)}}return this.c=e.join("&")};var bo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ys=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ms(e,a){a.push('"',e.replace(Ys,function(m){var P=bo[m];return P||(P="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),bo[m]=P),P}),'"')}function Ii(){var e=qr();return $e&&!!Cr&&11==Cr||/Edge\/\d+/.test(e)}function _(){return K.window&&K.window.location.href||self&&self.location&&self.location.href||""}function H(e,a){a=a||K.window;var m="about:blank";e&&(m=ot(De(e))),a.location.href=m}function fe(e,a){var P,m=[];for(P in e)P in a?typeof e[P]!=typeof a[P]?m.push(P):"object"==typeof e[P]&&null!=e[P]&&null!=a[P]?0<fe(e[P],a[P]).length&&m.push(P):e[P]!==a[P]&&m.push(P):m.push(P);for(P in a)P in e||m.push(P);return m}function Gt(e){return!!((e=(e||qr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function sn(e){e=e||K.window;try{e.close()}catch{}}function dr(e,a,m){var P=Math.floor(1e9*Math.random()).toString();a=a||500,m=m||600;var $=(window.screen.availHeight-m)/2,we=(window.screen.availWidth-a)/2;for(Ve in a={width:a,height:m,top:0<$?$:0,left:0<we?we:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=qr().toLowerCase(),P&&(a.target=P,Ee(m,"crios/")&&(a.target="_blank")),wn(qr())==Re&&(e=e||"http://localhost",a.scrollbars=!0),m=e||"",(e=a)||(e={}),P=window,a=m instanceof qt?m:De(typeof m.href<"u"?m.href:String(m)),m=e.target||m.target,$=[],e)switch(Ve){case"width":case"height":case"top":case"left":$.push(Ve+"="+e[Ve]);break;case"target":case"noopener":case"noreferrer":break;default:$.push(Ve+"="+(e[Ve]?1:0))}var Ve=$.join(",");if((On("iPhone")&&!On("iPod")&&!On("iPad")||On("iPad")||On("iPod"))&&P.navigator&&P.navigator.standalone&&m&&"_self"!=m?(hn(Ve=Qi(document,"A"),"HTMLAnchorElement"),a instanceof qt||a instanceof qt||(a="object"==typeof a&&a.ra?a.qa():String(a),nt.test(a)||(a="about:invalid#zClosurez"),a=new qt(Ft,a)),Ve.href=ot(a),Ve.setAttribute("target",m),e.noreferrer&&Ve.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,P,1),Ve.dispatchEvent(e),Ve={}):e.noreferrer?(Ve=P.open("",m,Ve),e=ot(a),Ve&&(Mt&&Ee(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),Ve.opener=null,e=yr('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(e)+'">'),P=Ve.document)&&(P.write(Zn(e)),P.close())):(Ve=P.open(ot(a),m,Ve))&&e.noopener&&(Ve.opener=null),Ve)try{Ve.focus()}catch{}return Ve}var Xr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^[^@]+@[^@]+$/;function Xo(){var e=null;return new Xe(function(a){"complete"==K.document.readyState?a():(e=function(){a()},Ti(window,"load",e))}).o(function(a){throw yi(window,"load",e),a})}function ss(e){return e=e||qr(),!("file:"!==l()&&"ionic:"!==l()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zo(){var e=K.window;try{return!(!e||e==e.top)}catch{return!1}}function bi(){return typeof K.WorkerGlobalScope<"u"&&"function"==typeof K.importScripts}function Y(){return y.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":y.INTERNAL.hasOwnProperty("node")?"Node":bi()?"Worker":"Browser"}function me(){var e=Y();return"ReactNative"===e||"Node"===e}var Re="Firefox",At="Chrome";function wn(e){var a=e.toLowerCase();return Ee(a,"opera/")||Ee(a,"opr/")||Ee(a,"opios/")?"Opera":Ee(a,"iemobile")?"IEMobile":Ee(a,"msie")||Ee(a,"trident/")?"IE":Ee(a,"edge/")?"Edge":Ee(a,"firefox/")?Re:Ee(a,"silk/")?"Silk":Ee(a,"blackberry")?"Blackberry":Ee(a,"webos")?"Webos":!Ee(a,"safari/")||Ee(a,"chrome/")||Ee(a,"crios/")||Ee(a,"android")?!Ee(a,"chrome/")&&!Ee(a,"crios/")||Ee(a,"edge/")?Ee(a,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":At:"Safari"}var Fn={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function br(e,a){a=a||[];var $,m=[],P={};for($ in Fn)P[Fn[$]]=!0;for($=0;$<a.length;$++)typeof P[a[$]]<"u"&&(delete P[a[$]],m.push(a[$]));return m.sort(),(a=m).length||(a=["FirebaseCore-web"]),"Browser"===(m=Y())?m=wn(P=qr()):"Worker"===m&&(m=wn(P=qr())+"-"+m),m+"/JsCore/"+e+"/"+a.join(",")}function qr(){return K.navigator&&K.navigator.userAgent||""}function Nr(e,a){e=e.split("."),a=a||K;for(var m=0;m<e.length&&"object"==typeof a&&null!=a;m++)a=a[e[m]];return m!=e.length&&(a=void 0),a}function li(){try{var e=K.localStorage,a=de();if(e)return e.setItem(a,"1"),e.removeItem(a),!Ii()||!!K.indexedDB}catch{return bi()&&!!K.indexedDB}return!1}function Hr(){return(g()||"chrome-extension:"===l()||ss())&&!me()&&li()&&!bi()}function g(){return"http:"===l()||"https:"===l()}function l(){return K.location&&K.location.protocol||null}function d(e){return!(Gt(e=e||qr())||wn(e)==Re)}function b(e){return typeof e>"u"?null:vs(e)}function A(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&null!=e[m]&&(a[m]=e[m]);return a}function U(e){if(null!==e)return JSON.parse(e)}function de(e){return e||Math.floor(1e9*Math.random()).toString()}function Ce(e){return!("Safari"==wn(e=e||qr())||e.toLowerCase().match(/iphone|ipad|ipod/))}function ut(){var e=K.___jsl;if(e&&e.H)for(var a in e.H)if(e.H[a].r=e.H[a].r||[],e.H[a].L=e.H[a].L||[],e.H[a].r=e.H[a].L.concat(),e.CP)for(var m=0;m<e.CP.length;m++)e.CP[m]=null}function et(e,a){if(e>a)throw Error("Short delay should be less than long delay!");this.a=e,this.c=a,e=qr(),a=Y(),this.b=Gt(e)||"ReactNative"===a}function tn(){var e=K.document;return!(e&&typeof e.visibilityState<"u")||"visible"==e.visibilityState}function In(e){try{var a=new Date(parseInt(e,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(e))return a.toUTCString()}catch{}return null}function Gn(){return!(!Nr("fireauth.oauthhelper",K)&&!Nr("fireauth.iframe",K))}et.prototype.get=function(){var e=K.navigator;return e&&"boolean"==typeof e.onLine&&(g()||"chrome-extension:"===l()||typeof e.connection<"u")&&!e.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var ue,S={};function L(e){S[e]||(S[e]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(e))}try{var Ye={};Object.defineProperty(Ye,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ye,"abcd",{configurable:!0,enumerable:!0,value:2}),ue=2==Ye.abcd}catch{ue=!1}function lt(e,a,m){ue?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,value:m}):e[a]=m}function kt(e,a){if(a)for(var m in a)a.hasOwnProperty(m)&&lt(e,m,a[m])}function rn(e){var a={};return kt(a,e),a}function _r(e){var a=e;if("object"==typeof e&&null!=e)for(var m in a="length"in e?[]:{},e)lt(a,m,_r(e[m]));return a}function ui(e){var a=e&&(e[Fi]?"phone":null);if(!(a&&e&&e[si]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");lt(this,"uid",e[si]),lt(this,"displayName",e[zr]||null);var m=null;e[Yr]&&(m=new Date(e[Yr]).toUTCString()),lt(this,"enrollmentTime",m),lt(this,"factorId",a)}function Zr(e){try{var a=new yo(e)}catch{a=null}return a}ui.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var zr="displayName",Yr="enrolledAt",si="mfaEnrollmentId",Fi="phoneInfo";function yo(e){ui.call(this,e),lt(this,"phoneNumber",e[Fi])}function eo(e){var a={},m=e[Ao],P=e[_s],$=e[zs];if(e=Zr(e[as]),!$||$!=Mo&&$!=rs&&!m||$==rs&&!P||$==ho&&!e)throw Error("Invalid checkActionCode response!");$==rs?(a[Co]=m||null,a[qi]=m||null,a[la]=P):(a[Co]=P||null,a[qi]=P||null,a[la]=m||null),a[jo]=e||null,lt(this,Ir,$),lt(this,ko,_r(a))}k(yo,ui),yo.prototype.v=function(){var e=yo.Za.v.call(this);return e.phoneNumber=this.phoneNumber,e};var ho="REVERT_SECOND_FACTOR_ADDITION",Mo="EMAIL_SIGNIN",rs="VERIFY_AND_CHANGE_EMAIL",Ao="email",as="mfaInfo",_s="newEmail",zs="requestType",la="email",Co="fromEmail",jo="multiFactorInfo",qi="previousEmail",ko="data",Ir="operation";function Fr(e){var a=Di(e=Ji(e),wr)||null,m=Di(e,Sr)||null,P=Di(e,po)||null;if(P=P&&no[P]||null,!a||!m||!P)throw new T("argument-error",wr+", "+Sr+"and "+po+" are required in a valid action code URL.");kt(this,{apiKey:a,operation:P,code:m,continueUrl:Di(e,zi)||null,languageCode:Di(e,fo)||null,tenantId:Di(e,Is)||null})}var wr="apiKey",Sr="oobCode",zi="continueUrl",fo="languageCode",po="mode",Is="tenantId",no={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ho,signIn:Mo,verifyAndChangeEmail:rs,verifyEmail:"VERIFY_EMAIL"};function Zs(e){try{return new Fr(e)}catch{return null}}function qa(e){var a=e[qs];if(typeof a>"u")throw new T("missing-continue-uri");if("string"!=typeof a||"string"==typeof a&&!a.length)throw new T("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var m=e[Oo];if(m&&"object"==typeof m){a=m[Ps];var P=m[Ia];if(m=m[ua],"string"==typeof a&&a.length){if(this.a=a,typeof P<"u"&&"boolean"!=typeof P)throw new T("argument-error",Ia+" property must be a boolean when specified.");if(this.g=!!P,typeof m<"u"&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new T("argument-error",ua+" property must be a non empty string when specified.");this.b=m||null}else{if(typeof a<"u")throw new T("argument-error",Ps+" property must be a non empty string when specified.");if(typeof P<"u"||typeof m<"u")throw new T("missing-android-pkg-name")}}else if(typeof m<"u")throw new T("argument-error",Oo+" property must be a non null object when specified.");if(this.f=null,(a=e[Eo])&&"object"==typeof a){if("string"==typeof(a=a[Js])&&a.length)this.f=a;else if(typeof a<"u")throw new T("argument-error",Js+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new T("argument-error",Eo+" property must be a non null object when specified.");if(typeof(a=e[ls])<"u"&&"boolean"!=typeof a)throw new T("argument-error",ls+" property must be a boolean when specified.");if(this.c=!!a,typeof(e=e[na])<"u"&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new T("argument-error",na+" property must be a non empty string when specified.");this.i=e||null}var Oo="android",na="dynamicLinkDomain",ls="handleCodeInApp",Eo="iOS",qs="url",Ia="installApp",ua="minimumVersion",Ps="packageName",Js="bundleId";function bs(e){var a={};for(var m in a.continueUrl=e.h,a.canHandleCodeInApp=e.c,(a.androidPackageName=e.a)&&(a.androidMinimumVersion=e.b,a.androidInstallApp=e.g),a.iOSBundleId=e.f,a.dynamicLinkDomain=e.i,a)null===a[m]&&delete a[m];return a}var M=null;function se(e){var a=Ze(e);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.g=e,this.c=a.exp,this.h=a.sub,f(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function Ie(e){try{return new se(e)}catch{return null}}function Ze(e){if(!e||3!=(e=e.split(".")).length)return null;for(var a=(4-(e=e[1]).length%4)%4,m=0;m<a;m++)e+=".";try{return JSON.parse(function O(e){var a="";return function C(e,a){function m(Bn){for(;P<e.length;){var Jn=e.charAt(P++),Jr=M[Jn];if(null!=Jr)return Jr;if(!/^[\s\xa0]*$/.test(Jn))throw Error("Unknown base64 encoding at char: "+Jn)}return Bn}!function V(){if(!M){M={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var P=e.concat(a[m].split("")),$=0;$<P.length;$++){var we=P[$];void 0===M[we]&&(M[we]=$)}}}();for(var P=0;;){var $=m(-1),we=m(0),Ve=m(64),Ht=m(64);if(64===Ht&&-1===$)break;a($<<2|we>>4),64!=Ve&&(a(we<<4&240|Ve>>2),64!=Ht&&a(Ve<<6&192|Ht))}}(e,function(m){a+=String.fromCharCode(m)}),a}(e))}catch{}return null}se.prototype.S=function(){return this.f},se.prototype.i=function(){return this.b},se.prototype.toString=function(){return this.g};var on="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Un=["client_id","response_type","scope","redirect_uri","state"],hr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Un},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Un},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Un},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:on},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function pr(e){for(var a in hr)if(hr[a].ea==e)return hr[a];return null}function wi(e){var a={};a["facebook.com"]=ws,a["google.com"]=xa,a["github.com"]=Go,a["twitter.com"]=Ma;var m=e&&e[ca];try{if(m)return a[m]?new a[m](e):new Yo(e);if(typeof e[Wo]<"u")return new ea(e)}catch{}return null}var Wo="idToken",ca="providerId";function ea(e){var a=e[ca];if(!a&&e[Wo]){var m=Ie(e[Wo]);m&&m.a&&(a=m.a)}if(!a)throw Error("Invalid additional user info!");("anonymous"==a||"custom"==a)&&(a=null),m=!1,typeof e.isNewUser<"u"?m=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(m=!0),lt(this,"providerId",a),lt(this,"isNewUser",m)}function Yo(e){ea.call(this,e),lt(this,"profile",_r((e=U(e.rawUserInfo||"{}"))||{}))}function ws(e){if(Yo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Go(e){if(Yo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");lt(this,"username",this.profile&&this.profile.login||null)}function xa(e){if(Yo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ma(e){if(Yo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");lt(this,"username",e.screenName||null)}function Nu(e){var a=Ji(e),m=Di(a,"link"),P=Di(Ji(m),"link");return a=Di(a,"deep_link_id"),Di(Ji(a),"link")||a||P||m||e}function Qa(e,a){if(!e&&!a)throw new T("internal-error","Internal assert: no raw session string available");if(e&&a)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=a||null,this.type=this.a?iu:Vl}k(Yo,ea),k(ws,Yo),k(Go,Yo),k(xa,Yo),k(Ma,Yo);var iu="enroll",Vl="signin";function _a(){}function Aa(e,a){return e.then(function(m){if(m[Xs]){var P=Ie(m[Xs]);if(!P||a!=P.h)throw new T("user-mismatch");return m}throw new T("user-mismatch")}).o(function(m){throw m&&m.code&&m.code==J+"user-not-found"?new T("user-mismatch"):m})}function Xa(e,a){if(!a)throw new T("internal-error","failed to construct a credential");this.a=a,lt(this,"providerId",e),lt(this,"signInMethod",e)}function Tc(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ih(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Xa(e.providerId,e.pendingToken)}catch{}return null}function Es(e,a,m){if(this.a=null,a.idToken||a.accessToken)a.idToken&&lt(this,"idToken",a.idToken),a.accessToken&&lt(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&lt(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else{if(!a.oauthToken||!a.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");lt(this,"accessToken",a.oauthToken),lt(this,"secret",a.oauthTokenSecret)}lt(this,"providerId",e),lt(this,"signInMethod",m)}function ra(e){var a={};return e.idToken&&(a.id_token=e.idToken),e.accessToken&&(a.access_token=e.accessToken),e.secret&&(a.oauth_token_secret=e.secret),a.providerId=e.providerId,e.nonce&&!e.a&&(a.nonce=e.nonce),a={postBody:Bo(a).toString(),requestUri:"http://localhost"},e.a&&(delete a.postBody,a.pendingToken=e.a),a}function dd(e){if(e&&e.providerId&&e.signInMethod){var a={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Es(e.providerId,a,e.signInMethod)}catch{}}return null}function ka(e,a){this.Oc=a||[],kt(this,{providerId:e,isOAuthProvider:!0}),this.Fb={},this.lb=(pr(e)||{}).Ha||null,this.kb=null}function hl(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');ka.call(this,e,[])}function Ws(e){ka.call(this,e,Un),this.a=[]}function fl(){Ws.call(this,"facebook.com")}function Fu(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return ye(e)&&(a=e.accessToken),(new fl).credential({accessToken:a})}function Oa(){Ws.call(this,"github.com")}function Ra(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return ye(e)&&(a=e.accessToken),(new Oa).credential({accessToken:a})}function da(){Ws.call(this,"google.com"),this.Aa("profile")}function Dc(e,a){var m=e;return ye(e)&&(m=e.idToken,a=e.accessToken),(new da).credential({idToken:m,accessToken:a})}function Hl(){ka.call(this,"twitter.com",on)}function Cc(e,a){var m=e;if(ye(m)||(m={oauthToken:e,oauthTokenSecret:a}),!m.oauthToken||!m.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Es("twitter.com",m,"twitter.com")}function ba(e,a,m){this.a=e,this.f=a,lt(this,"providerId","password"),lt(this,"signInMethod",m===Us.EMAIL_LINK_SIGN_IN_METHOD?Us.EMAIL_LINK_SIGN_IN_METHOD:Us.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ic(e){return e&&e.email&&e.password?new ba(e.email,e.password,e.signInMethod):null}function Us(){kt(this,{providerId:"password",isOAuthProvider:!1})}function Pc(e,a){if(!(a=Lu(a)))throw new T("argument-error","Invalid email link!");return new ba(e,a.code,Us.EMAIL_LINK_SIGN_IN_METHOD)}function Lu(e){return(e=Zs(e=Nu(e)))&&e.operation===Mo?e:null}function wa(e){if(!(e.bb&&e.ab||e.Ja&&e.da))throw new T("internal-error");this.a=e,lt(this,"providerId","phone"),this.ea="phone",lt(this,"signInMethod","phone")}function bf(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var a={};return _t(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){e[m]&&(a[m]=e[m])}),new wa(a)}return null}function Bu(e){return e.a.Ja&&e.a.da?{temporaryProof:e.a.Ja,phoneNumber:e.a.da}:{sessionInfo:e.a.bb,code:e.a.ab}}function ha(e){try{this.a=e||y.auth()}catch{throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}kt(this,{providerId:"phone",isOAuthProvider:!1})}function xc(e,a){if(!e)throw new T("missing-verification-id");if(!a)throw new T("missing-verification-code");return new wa({bb:e,ab:a})}function pl(e){if(e.temporaryProof&&e.phoneNumber)return new wa({Ja:e.temporaryProof,da:e.phoneNumber});var a=e&&e.providerId;if(!a||"password"===a)return null;var m=e&&e.oauthAccessToken,P=e&&e.oauthTokenSecret,$=e&&e.nonce,we=e&&e.oauthIdToken,Ve=e&&e.pendingToken;try{switch(a){case"google.com":return Dc(we,m);case"facebook.com":return Fu(m);case"github.com":return Ra(m);case"twitter.com":return Cc(m,P);default:return m||P||we||Ve?Ve?0==a.indexOf("saml.")?new Xa(a,Ve):new Es(a,{pendingToken:Ve,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},a):new Ws(a).credential({idToken:we,accessToken:m,rawNonce:$}):null}}catch{return null}}function Na(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function fa(e,a,m,P,$,we,Ve){if(this.c=e,this.b=a||null,this.g=m||null,this.f=P||null,this.i=we||null,this.h=Ve||null,this.a=$||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function hd(e){return(e=e||{}).type?new fa(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&W(e.error),e.postBody,e.tenantId):null}function fd(){this.b=null,this.a=[]}Qa.prototype.Fa=function(){return ir(this.a?this.a:this.b)},Qa.prototype.v=function(){return this.type==iu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},_a.prototype.ia=function(){},_a.prototype.b=function(){},_a.prototype.c=function(){},_a.prototype.v=function(){},Xa.prototype.ia=function(e){return Cl(e,Tc(this))},Xa.prototype.b=function(e,a){var m=Tc(this);return m.idToken=a,Jl(e,m)},Xa.prototype.c=function(e,a){return Aa(bu(e,Tc(this)),a)},Xa.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Es.prototype.ia=function(e){return Cl(e,ra(this))},Es.prototype.b=function(e,a){var m=ra(this);return m.idToken=a,Jl(e,m)},Es.prototype.c=function(e,a){return Aa(bu(e,ra(this)),a)},Es.prototype.v=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ka.prototype.Ia=function(e){return this.Fb=Rn(e),this},k(hl,ka),k(Ws,ka),Ws.prototype.Aa=function(e){return jn(this.a,e)||this.a.push(e),this},Ws.prototype.Nb=function(){return Nn(this.a)},Ws.prototype.credential=function(e,a){var m;if(!(m=ye(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:a||null}).idToken&&!m.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new Es(this.providerId,m,this.providerId)},k(fl,Ws),lt(fl,"PROVIDER_ID","facebook.com"),lt(fl,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Oa,Ws),lt(Oa,"PROVIDER_ID","github.com"),lt(Oa,"GITHUB_SIGN_IN_METHOD","github.com"),k(da,Ws),lt(da,"PROVIDER_ID","google.com"),lt(da,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Hl,ka),lt(Hl,"PROVIDER_ID","twitter.com"),lt(Hl,"TWITTER_SIGN_IN_METHOD","twitter.com"),ba.prototype.ia=function(e){return this.signInMethod==Us.EMAIL_LINK_SIGN_IN_METHOD?Rr(e,Ya,{email:this.a,oobCode:this.f}):Rr(e,Pr,{email:this.a,password:this.f})},ba.prototype.b=function(e,a){return this.signInMethod==Us.EMAIL_LINK_SIGN_IN_METHOD?Rr(e,Ua,{idToken:a,email:this.a,oobCode:this.f}):Rr(e,he,{idToken:a,email:this.a,password:this.f})},ba.prototype.c=function(e,a){return Aa(this.ia(e),a)},ba.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},kt(Us,{PROVIDER_ID:"password"}),kt(Us,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),kt(Us,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),wa.prototype.ia=function(e){return e.cb(Bu(this))},wa.prototype.b=function(e,a){var m=Bu(this);return m.idToken=a,Rr(e,Wr,m)},wa.prototype.c=function(e,a){var m=Bu(this);return m.operation="REAUTH",Aa(e=Rr(e,pi,m),a)},wa.prototype.v=function(){var e={providerId:"phone"};return this.a.bb&&(e.verificationId=this.a.bb),this.a.ab&&(e.verificationCode=this.a.ab),this.a.Ja&&(e.temporaryProof=this.a.Ja),this.a.da&&(e.phoneNumber=this.a.da),e},ha.prototype.cb=function(e,a){var m=this.a.b;return ir(a.verify()).then(function(P){if("string"!=typeof P)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===a.type){var Ve,$=ye(e)?e.session:null,we=ye(e)?e.phoneNumber:e;return Ve=$&&$.type==iu?$.Fa().then(function(Ht){return function yd(e,a){return Rr(e,gt,a).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:Ht,phoneEnrollmentInfo:{phoneNumber:we,recaptchaToken:P}})}):$&&$.type==Vl?$.Fa().then(function(Ht){return function uh(e,a){return Rr(e,Kt,a).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:Ht,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:P}})}):function Sl(e,a){return Rr(e,x,a)}(m,{phoneNumber:we,recaptchaToken:P}),Ve.then(function(Ht){return"function"==typeof a.reset&&a.reset(),Ht},function(Ht){throw"function"==typeof a.reset&&a.reset(),Ht})}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},kt(ha,{PROVIDER_ID:"phone"}),kt(ha,{PHONE_SIGN_IN_METHOD:"phone"}),fa.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},fa.prototype.S=function(){return this.h},fa.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Uu,ju=null;function Yu(e){var a="unauthorized-domain",m=void 0,P=Ji(e);e=P.b,"chrome-extension"==(P=P.f)?m=St("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==P||"https"==P?m=St("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):a="operation-not-supported-in-this-environment",T.call(this,a,m)}function zl(e,a,m){T.call(this,e,m),(e=a||{}).Gb&&lt(this,"email",e.Gb),e.da&&lt(this,"phoneNumber",e.da),e.credential&&lt(this,"credential",e.credential),e.Wb&&lt(this,"tenantId",e.Wb)}function ml(e){if(e.code){var a=e.code||"";0==a.indexOf(J)&&(a=a.substring(J.length));var m={credential:pl(e),Wb:e.tenantId};if(e.email)m.Gb=e.email;else if(e.phoneNumber)m.da=e.phoneNumber;else if(!m.credential)return new T(a,e.message||void 0);return new zl(a,m,e.message)}return null}function Qs(){}function Vu(){}function kc(e){if(!e.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<a.length;m++){var P=a[m];try{return new ActiveXObject(P),e.f=P}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Wl(){}function Hu(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Me(this.oc,this),this.a.onerror=Me(this.Pb,this),this.a.onprogress=Me(this.pc,this),this.a.ontimeout=Me(this.tc,this)}function ou(e,a){e.readyState=a,e.onreadystatechange&&e.onreadystatechange()}function Za(e,a,m){this.reset(e,a,m,void 0,void 0)}function su(e){this.f=e,this.b=this.c=this.a=null}function au(e,a){this.name=e,this.value=a}k(Yu,T),k(zl,T),zl.prototype.v=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var a=this.credential&&this.credential.v();return a&&xr(e,a),e},zl.prototype.toJSON=function(){return this.v()},Qs.prototype.c=null,k(Vu,Qs),Vu.prototype.a=function(){var e=kc(this);return e?new ActiveXObject(e):new XMLHttpRequest},Vu.prototype.b=function(){var e={};return kc(this)&&(e[0]=!0,e[1]=!0),e},Uu=new Vu,k(Wl,Qs),Wl.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if(typeof XDomainRequest<"u")return new Hu;throw Error("Unsupported browser")},Wl.prototype.b=function(){return{}},(E=Hu.prototype).open=function(e,a,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(e,a)},E.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},E.abort=function(){this.a.abort()},E.setRequestHeader=function(){},E.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},E.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ou(this,4)},E.Pb=function(){this.status=500,this.response=this.responseText="",ou(this,4)},E.tc=function(){this.Pb()},E.pc=function(){this.status=200,ou(this,1)},E.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Za.prototype.a=null,Za.prototype.reset=function(e,a,m,P,$){P||f(),delete this.a},au.prototype.toString=function(){return this.name};var xs=new au("SEVERE",1e3),pa=new au("WARNING",900),pd=new au("CONFIG",700),Rc=new au("FINE",500);function Ms(e){return e.c?e.c:e.a?Ms(e.a):(ee("Root logger has no level set."),null)}su.prototype.log=function(e,a,m){if(e.value>=Ms(this).value)for(Wt(a)&&(a=a()),e=new Za(e,String(a),this.f),m&&(e.a=m),m=this;m;)m=m.a};var gl={},lu=null;function uu(e){var a;if(lu||(lu=new su(""),gl[""]=lu,lu.c=pd),!(a=gl[e])){a=new su(e);var m=e.lastIndexOf("."),P=e.substr(m+1);(m=uu(e.substr(0,m))).b||(m.b={}),m.b[P]=a,a.a=m,gl[e]=a}return a}function ta(e,a){e&&e.log(Rc,a,void 0)}function cu(e){this.f=e}function Nc(e){uo.call(this),this.s=e,this.readyState=zu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=uu("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(cu,Qs),cu.prototype.a=function(){return new Nc(this.f)},cu.prototype.b=function(e){return function(){return e}}({}),k(Nc,uo);var zu=0;function Wu(e){e.c.read().then(e.nc.bind(e)).catch(e.Sa.bind(e))}function Ja(e,a){a&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,du(e)}function du(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function hu(e){uo.call(this),this.headers=new To,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=Gu,this.w=this.R=!1}(E=Nc.prototype).open=function(e,a){if(this.readyState!=zu)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=a,this.readyState=1,du(this)},E.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(a.body=e),this.s.fetch(new Request(this.g,a)).then(this.sc.bind(this),this.Sa.bind(this))},E.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ja(this,!1)),this.readyState=zu},E.sc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,du(this)),this.a&&(this.readyState=3,du(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):typeof K.ReadableStream<"u"&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Wu(this)):e.text().then(this.rc.bind(this),this.Sa.bind(this)))))},E.nc=function(e){if(this.a){var a=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});a&&(this.response=this.responseText+=a),e.done?Ja(this,!0):du(this),3==this.readyState&&Wu(this)}},E.rc=function(e){this.a&&(this.response=this.responseText=e,Ja(this,!0))},E.qc=function(e){this.a&&(this.response=e,Ja(this,!0))},E.Sa=function(e){var a=this.h;a&&a.log(pa,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Ja(this,!0)},E.setRequestHeader=function(e,a){this.i.append(e,a)},E.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(pa,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},E.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(pa,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var a=this.b.entries(),m=a.next();!m.done;)e.push((m=m.value)[0]+": "+m[1]),m=a.next();return e.join("\r\n")},k(hu,uo);var Gu="";hu.prototype.b=uu("goog.net.XhrIo");var Fc=/^https?$/i,oh=["POST","PUT"];function ah(e){return"content-type"==e.toLowerCase()}function Ku(e,a){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=a,$u(e),Ea(e)}function $u(e){e.N||(e.N=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Lc(e){if(e.c&&typeof ie<"u")if(e.B[1]&&4==el(e)&&2==pu(e))ta(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==el(e))Or(e.Sb,0,e);else if(e.dispatchEvent("readystatechange"),4==el(e)){ta(e.b,Fa(e,"Request complete")),e.c=!1;try{var P,a=pu(e);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(P=m)){var $;if($=0===a){var we=String(e.l).match(Ks)[1]||null;if(!we&&K.self&&K.self.location){var Ve=K.self.location.protocol;we=Ve.substr(0,Ve.length-1)}$=!Fc.test(we?we.toLowerCase():"")}P=$}if(P)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var Ht=2<el(e)?e.a.statusText:""}catch(Bn){ta(e.b,"Can not get status: "+Bn.message),Ht=""}e.h=Ht+" ["+pu(e)+"]",$u(e)}}finally{Ea(e)}}}function Ea(e,a){if(e.a){qu(e);var m=e.a,P=e.B[0]?Fe:null;e.a=null,e.B=null,a||e.dispatchEvent("ready");try{m.onreadystatechange=P}catch($){(e=e.b)&&e.log(xs,"Problem encountered resetting onreadystatechange: "+$.message,void 0)}}}function qu(e){e.a&&e.w&&(e.a.ontimeout=null),e.s&&(K.clearTimeout(e.s),e.s=null)}function el(e){return e.a?e.a.readyState:0}function pu(e){try{return 2<el(e)?e.a.status:-1}catch{return-1}}function Fa(e,a){return a+" ["+e.P+" "+e.l+" "+pu(e)+"]"}function Sa(e){var a=Ta;this.g=[],this.w=a,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function tl(e,a,m){e.a=!0,e.c=m,e.f=!a,nl(e)}function Kl(e){if(e.a){if(!e.u)throw new $l(e);e.u=!1}}function Bc(e,a,m,P){e.g.push([a,m,P]),e.a&&nl(e)}function La(e){return Xt(e.g,function(a){return Wt(a[1])})}function nl(e){if(e.h&&e.a&&La(e)){var a=e.h,m=Qu[a];m&&(K.clearTimeout(m.a),delete Qu[a]),e.h=0}e.b&&(e.b.l--,delete e.b),a=e.c;for(var P=m=!1;e.g.length&&!e.i;){var $=e.g.shift(),we=$[0],Ve=$[1];if($=$[2],we=e.f?Ve:we)try{var Ht=we.call($||e.s,a);void 0!==Ht&&(e.f=e.f&&(Ht==a||Ht instanceof Error),e.c=a=Ht),(He(a)||"function"==typeof K.Promise&&a instanceof K.Promise)&&(P=!0,e.i=!0)}catch(Bn){a=Bn,e.f=!0,La(e)||(m=!0)}}e.c=a,P&&(Ht=Me(e.m,e,!0),P=Me(e.m,e,!1),a instanceof Sa?(Bc(a,Ht,P),a.B=!0):a.then(Ht,P)),m&&(a=new md(a),Qu[a.a]=a,e.h=a.a)}function $l(){ct.call(this)}function yl(){ct.call(this)}function md(e){this.a=K.setTimeout(Me(this.c,this),0),this.b=e}(E=hu.prototype).Ka=function(){typeof ie<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ta(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},E.abort=function(){this.a&&this.c&&(ta(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},E.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),hu.Za.Ba.call(this)},E.Sb=function(){this.wa||(this.O||this.i||this.f?Lc(this):this.Hc())},E.Hc=function(){Lc(this)},E.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Gu:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(xs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return ta(this.b,"Can not get response: "+a.message),null}},Sa.prototype.cancel=function(e){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,e?a.cancel(e):(a.l--,0>=a.l&&a.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(e=new yl(this),Kl(this),tl(this,!1,e))}},Sa.prototype.m=function(e,a){this.i=!1,tl(this,e,a)},Sa.prototype.then=function(e,a,m){var P,$,we=new Xe(function(Ve,Ht){P=Ve,$=Ht});return Bc(this,P,function(Ve){Ve instanceof yl?we.cancel():$(Ve)}),we.then(e,a,m)},Sa.prototype.$goog_Thenable=!0,k($l,ct),$l.prototype.message="Deferred has already fired",$l.prototype.name="AlreadyCalledError",k(yl,ct),yl.prototype.message="Deferred was canceled",yl.prototype.name="CanceledError",md.prototype.c=function(){throw delete Qu[this.a],this.b};var Qu={};function Xu(e){var a={},m=a.document||document,P=Tt(e).toString(),$=Qi(document,"SCRIPT"),we={Tb:$,Ka:void 0},Ve=new Sa(we),Ht=null,Bn=null!=a.timeout?a.timeout:5e3;return 0<Bn&&(Ht=window.setTimeout(function(){gu($,!0);var Jn=new jc(lh,"Timeout reached for loading script "+P);Kl(Ve),tl(Ve,!1,Jn)},Bn),we.Ka=Ht),$.onload=$.onreadystatechange=function(){$.readyState&&"loaded"!=$.readyState&&"complete"!=$.readyState||(gu($,a.ud||!1,Ht),Kl(Ve),tl(Ve,!0,null))},$.onerror=function(){gu($,!0,Ht);var Jn=new jc(ql,"Error while loading script "+P);Kl(Ve),tl(Ve,!1,Jn)},xr(we=a.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Mr($,we),function pt(e,a){hn(e,"HTMLScriptElement"),e.src=Tt(a),null===Se&&(Se=(a=(a=K.document).querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&Ae.test(a)?a:""),(a=Se)&&e.setAttribute("nonce",a)}($,e),function mu(e){var a;return(a=(e||document).getElementsByTagName("HEAD"))&&0!=a.length?a[0]:e.documentElement}(m).appendChild($),Ve}function Ta(){if(this&&this.Tb){var e=this.Tb;e&&"SCRIPT"==e.tagName&&gu(e,!0,this.Ka)}}function gu(e,a,m){null!=m&&K.clearTimeout(m),e.onload=Fe,e.onerror=Fe,e.onreadystatechange=Fe,a&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var ql=0,lh=1;function jc(e,a){var m="Jsloader error (code #"+e+")";a&&(m+=": "+a),ct.call(this,m),this.code=e}function rl(e){this.f=e}function ia(e,a,m){if(this.c=e,this.u=(e=a||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ju,this.g=Rn(e.secureTokenHeaders||vu),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=e.firebaseTimeout||Yc,this.a=Rn(e.firebaseHeaders||Da),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==Y(),!(m=K.XMLHttpRequest||m&&y.INTERNAL.node&&y.INTERNAL.node.XMLHttpRequest)&&!bi())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=bi()?new cu(self):me()?new rl(m):new Wl,this.b=null}k(jc,ct),k(rl,Qs),rl.prototype.a=function(){return new this.f},rl.prototype.b=function(){return{}};var Zu,Xs="idToken",Ju=new et(3e4,6e4),vu={"Content-Type":"application/x-www-form-urlencoded"},Yc=new et(3e4,6e4),Da={"Content-Type":"application/json"};function Ql(e,a){a?e.a["X-Firebase-Locale"]=a:delete e.a["X-Firebase-Locale"]}function ec(e,a){a?(e.a["X-Client-Version"]=a,e.g["X-Client-Version"]=a):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Xl(e,a,m,P,$,we,Ve){(function qe(){var e=qr();return!((e=wn(e)!=At?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||$e&&Cr&&!(9<Cr))})()||bi()?e=Me(e.w,e):(Zu||(Zu=new Xe(function(Ht,Bn){!function bl(e,a){((window.gapi||{}).client||{}).request?e():(K[Zl]=function(){((window.gapi||{}).client||{}).request?e():a(Error("CORS_UNSUPPORTED"))},function vl(e,a){Bc(e,null,a,void 0)}(Xu(bn(_l,{onload:Zl})),function(){a(Error("CORS_UNSUPPORTED"))}))}(Ht,Bn)})),e=Me(e.s,e)),e(a,m,P,$,we,Ve)}ia.prototype.S=function(){return this.b},ia.prototype.w=function(e,a,m,P,$,we){if(bi()&&(typeof K.fetch>"u"||typeof K.Headers>"u"||typeof K.Request>"u"))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Ve=new hu(this.f);if(we){Ve.g=Math.max(0,we);var Ht=setTimeout(function(){Ve.dispatchEvent("timeout")},we)}Xi(Ve,"complete",function(){Ht&&clearTimeout(Ht);var Bn=null;try{Bn=JSON.parse(function Gl(e){try{return e.a?e.a.responseText:""}catch(a){return ta(e.b,"Can not get responseText: "+a.message),""}}(this))||null}catch{Bn=null}a&&a(Bn)}),is(Ve,"ready",function(){Ht&&clearTimeout(Ht),ne(this)}),is(Ve,"timeout",function(){Ht&&clearTimeout(Ht),ne(this),a&&a(null)}),function fu(e,a,m,P,$){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+a);m=m?m.toUpperCase():"GET",e.l=a,e.h="",e.P=m,e.N=!1,e.c=!0,e.a=e.D?e.D.a():Uu.a(),e.B=function Ac(e){return e.c||(e.c=e.b())}(e.D?e.D:Uu),e.a.onreadystatechange=Me(e.Sb,e);try{ta(e.b,Fa(e,"Opening Xhr")),e.O=!0,e.a.open(m,String(a),!0),e.O=!1}catch(Ve){return ta(e.b,Fa(e,"Error opening Xhr: "+Ve.message)),void Ku(e,Ve)}a=P||"";var we=new To(e.headers);$&&function os(e,a){if(e.forEach&&"function"==typeof e.forEach)e.forEach(a,void 0);else if(Zt(e)||"string"==typeof e)_t(e,a,void 0);else for(var m=Ls(e),P=hs(e),$=P.length,we=0;we<$;we++)a.call(void 0,P[we],m&&m[we],e)}($,function(Ve,Ht){we.set(Ht,Ve)}),$=function fn(e){e:{for(var a=ah,m=e.length,P="string"==typeof e?e.split(""):e,$=0;$<m;$++)if($ in P&&a.call(void 0,P[$],$,e)){a=$;break e}a=-1}return 0>a?null:"string"==typeof e?e.charAt(a):e[a]}(we.X()),P=K.FormData&&a instanceof K.FormData,!jn(oh,m)||$||P||we.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),we.forEach(function(Ve,Ht){this.a.setRequestHeader(Ht,Ve)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{qu(e),0<e.g&&(e.w=function sh(e){return $e&&ai(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ta(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.w)),e.w?(e.a.timeout=e.g,e.a.ontimeout=Me(e.Ka,e)):e.s=Or(e.Ka,e.g,e)),ta(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(a),e.i=!1}catch(Ve){ta(e.b,Fa(e,"Send error: "+Ve.message)),Ku(e,Ve)}}(Ve,e,m,P,$)};var _l=new Pt(le,"https://apis.google.com/js/client.js?onload=%{onload}"),Zl="__fcb"+Math.floor(1e6*Math.random()).toString();function wl(e){if("string"!=typeof(e=e.email)||!wo.test(e))throw new T("invalid-email")}function vd(e){"email"in e&&wl(e)}function Vs(e){if(!e[Xs])throw e.mfaPendingCredential?new T("multi-factor-auth-required",null,Rn(e)):new T("internal-error")}function El(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}ia.prototype.s=function(e,a,m,P,$){var we=this;Zu.then(function(){window.gapi.client.setApiKey(we.c);var Ve=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:m,body:P,headers:$,authType:"none",callback:function(Ht){window.gapi.auth.setToken(Ve),a&&a(Ht)}})}).o(function(Ve){a&&a({error:{message:Ve&&Ve.message||"CORS_UNSUPPORTED"}})})},ia.prototype.vb=function(){return Rr(this,je,{})},ia.prototype.xb=function(e,a){return Rr(this,G,{idToken:e,email:a})},ia.prototype.yb=function(e,a){return Rr(this,he,{idToken:e,password:a})};var _u={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ba(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function Dl(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function Hc(e,a){return a.oauthIdToken&&a.providerId&&0==a.providerId.indexOf("oidc.")&&!a.pendingToken&&(e.sessionId?a.nonce=e.sessionId:e.postBody&&js(e=new vo(e.postBody),"nonce")&&(a.nonce=e.get("nonce"))),a}function zc(e){var a=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",a=ml(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",a=ml(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",a=ml(e)):e.errorMessage&&(a=Io(e.errorMessage)),a)throw a;Vs(e)}function Cl(e,a){return a.returnIdpCredential=!0,Rr(e,$t,a)}function Jl(e,a){return a.returnIdpCredential=!0,Rr(e,Dn,a)}function bu(e,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Rr(e,cn,a)}function wu(e){if(!e.oobCode)throw new T("invalid-action-code")}(E=ia.prototype).zb=function(e,a){var m={idToken:e},P=[];return Wn(_u,function($,we){var Ve=a[we];null===Ve?P.push($):we in a&&(m[we]=Ve)}),P.length&&(m.deleteAttribute=P),Rr(this,G,m)},E.rb=function(e,a){return xr(e={requestType:"PASSWORD_RESET",email:e},a),Rr(this,o,e)},E.sb=function(e,a){return xr(e={requestType:"EMAIL_SIGNIN",email:e},a),Rr(this,wd,e)},E.qb=function(e,a){return xr(e={requestType:"VERIFY_EMAIL",idToken:e},a),Rr(this,s,e)},E.Ab=function(e,a,m){return xr(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:a},m),Rr(this,n,e)},E.cb=function(e){return Rr(this,Er,e)},E.jb=function(e,a){return Rr(this,w,{oobCode:e,newPassword:a})},E.Pa=function(e){return Rr(this,ja,{oobCode:e})},E.fb=function(e){return Rr(this,Eu,{oobCode:e})};var Eu={endpoint:"setAccountInfo",A:wu,Y:"email",C:!0},ja={endpoint:"resetPassword",A:wu,G:function(e){var a=e.requestType;if(!a||!e.email&&"EMAIL_SIGNIN"!=a&&"VERIFY_AND_CHANGE_EMAIL"!=a)throw new T("internal-error")},C:!0},tc={endpoint:"signupNewUser",A:function(e){if(wl(e),!e.password)throw new T("weak-password")},G:Vs,U:!0,C:!0},Wc={endpoint:"createAuthUri",C:!0},_d={endpoint:"deleteAccount",M:["idToken"]},bd={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(e){if("array"!=bt(e.deleteProvider))throw new T("internal-error")}},Ya={endpoint:"emailLinkSignin",M:["email","oobCode"],A:wl,G:Vs,U:!0,C:!0},Ua={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:wl,G:Vs,U:!0},il={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:Ba,G:Vs,C:!0,La:!0},ch={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:Ba,G:Vs,C:!0,La:!0},dh={endpoint:"getAccountInfo"},wd={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");wl(e)},Y:"email",C:!0},s={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Y:"email",C:!0},n={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Y:"email",C:!0},o={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");wl(e)},Y:"email",C:!0},c={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},p={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},w={endpoint:"resetPassword",A:wu,Y:"email",C:!0},x={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},G={endpoint:"setAccountInfo",M:["idToken"],A:vd,U:!0},he={endpoint:"setAccountInfo",M:["idToken"],A:function(e){if(vd(e),!e.password)throw new T("weak-password")},G:Vs,U:!0},je={endpoint:"signupNewUser",G:Vs,U:!0,C:!0},gt={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,La:!0},Kt={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,La:!0},$t={endpoint:"verifyAssertion",A:Dl,Wa:Hc,G:zc,U:!0,C:!0},cn={endpoint:"verifyAssertion",A:Dl,Wa:Hc,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw Io(e.errorMessage);Vs(e)},U:!0,C:!0},Dn={endpoint:"verifyAssertion",A:function(e){if(Dl(e),!e.idToken)throw new T("internal-error")},Wa:Hc,G:zc,U:!0},Vn={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:Vs,U:!0,C:!0},Pr={endpoint:"verifyPassword",A:function(e){if(wl(e),!e.password)throw new T("wrong-password")},G:Vs,U:!0,C:!0},Er={endpoint:"verifyPhoneNumber",A:El,G:Vs,C:!0},Wr={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");El(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ml(e);Vs(e)}},pi={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:El,G:Vs,C:!0},Li={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xs]^!!e.refreshToken)throw new T("internal-error")},C:!0,La:!0};function Rr(e,a,m){if(!function lr(e,a){if(!a||!a.length)return!0;if(!e)return!1;for(var m=0;m<a.length;m++){var P=e[a[m]];if(null==P||""===P)return!1}return!0}(m,a.M))return ar(new T("internal-error"));var we,P=!!a.La,$=a.Rb||"POST";return ir(m).then(a.A).then(function(){return a.U&&(m.returnSecureToken=!0),a.C&&e.b&&typeof m.tenantId>"u"&&(m.tenantId=e.b),function Uc(e,a,m,P,$,we,Ve){var Ht=Ji(a+m);Zi(Ht,"key",e.c),Ve&&Zi(Ht,"cb",f().toString());var Bn="GET"==P;if(Bn)for(var Jn in $)$.hasOwnProperty(Jn)&&Zi(Ht,Jn,$[Jn]);return new Xe(function(Jr,Po){Xl(e,Ht.toString(),function(ro){ro?ro.error?Po(oa(ro,we||{})):Jr(ro):Po(new T("network-request-failed"))},P,Bn?void 0:vs(A($)),e.a,e.i.get())})}(e,P?e.l:e.h,a.endpoint,$,m,a.Eb,a.hb||!1)}).then(function(Ve){return we=Ve,a.Wa?a.Wa(m,we):we}).then(a.G).then(function(){if(!a.Y)return we;if(!(a.Y in we))throw new T("internal-error");return we[a.Y]})}function Io(e){return oa({error:{errors:[{message:e}],code:400,message:e}})}function oa(e,a){var m=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",P={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=P[m]?new T(P[m]):null)return m;for(var $ in m=e.error&&e.error.message||"",xr(P={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},a||{}),a=(a=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0,P)if(0===m.indexOf($))return new T(P[$],a);return!a&&e&&(a=b(e)),new T("internal-error",a)}function Va(e){this.b=e,this.a=null,this.nb=function eu(e){return function sa(){return Uo||(Uo=new Xe(function(e,a){function m(){ut(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){ut(),a(Error("Network Error"))},timeout:Tu.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))m();else{var P="__iframefcb"+Math.floor(1e6*Math.random()).toString();K[P]=function(){Nr("gapi.load")?m():a(Error("Network Error"))},ir(Xu(P=bn(Il,{onload:P}))).o(function(){a(Error("Network Error"))})}}).o(function(e){throw Uo=null,e}))}().then(function(){return new Xe(function(a,m){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(P){function $(){clearTimeout(we),a()}e.a=P,e.a.restyle({setHideOnLeave:!1});var we=setTimeout(function(){m(Error("Network Error"))},Gc.get());P.ping($).then($,function(){m(Error("Network Error"))})})})})}(this)}var Il=new Pt(le,"https://apis.google.com/js/api.js?onload=%{onload}"),Tu=new et(3e4,6e4),Gc=new et(5e3,15e3),Uo=null;function Ha(e,a,m){this.i=e,this.g=a,this.h=m,this.f=null,this.a=Bs(this.i,"/__/auth/iframe"),Zi(this.a,"apiKey",this.g),Zi(this.a,"appName",this.h),this.b=null,this.c=[]}function Kc(e,a,m,P,$){this.s=e,this.m=a,this.c=m,this.u=P,this.i=this.g=this.l=null,this.a=$,this.h=this.f=null}function Ed(e){try{return y.app(e).auth().Ea()}catch{return[]}}function wf(e,a,m,P,$){this.u=e,this.f=a,this.b=m,this.c=P||null,this.h=$||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function Ef(e){var a=_();return function Vc(e){return Rr(e,c,{}).then(function(a){return a.authorizedDomains||[]})}(e).then(function(m){e:{var P=Ji(a),$=P.f;P=P.b;for(var we=0;we<m.length;we++){var Ve=m[we],Ht=P,Bn=$;if(0==Ve.indexOf("chrome-extension://")?Ht=Ji(Ve).b==Ht&&"chrome-extension"==Bn:"http"!=Bn&&"https"!=Bn?Ht=!1:Xr.test(Ve)?Ht=Ht==Ve:(Ve=Ve.split(".").join("\\."),Ht=new RegExp("^(.+\\."+Ve+"|"+Ve+")$","i").test(Ht)),Ht){m=!0;break e}}m=!1}if(!m)throw new Yu(_())})}function Sf(e){return e.l||(e.l=Xo().then(function(){if(!e.s){var a=e.c,m=e.h,P=Ed(e.b),$=new Ha(e.u,e.f,e.b);$.f=a,$.b=m,$.c=Nn(P||[]),e.s=$.toString()}e.i=new Va(e.s),function Tg(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function ol(e,a){e.nb.then(function(){e.a.register("authEvent",a,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.i,function(a){var m={};if(a&&a.authEvent){var P=!1;for(a=hd(a.authEvent),m=0;m<e.g.length;m++)P=e.g[m](a)||P;return(m={}).status=P?"ACK":"ERROR",ir(m)}return m.status="ERROR",ir(m)})}(e)})),e.l}function Tf(e){return e.m||(e.w=e.c?br(e.c,Ed(e.b)):null,e.m=new ia(e.f,Ke(e.h),e.w)),e.m}function nc(e,a,m,P,$,we,Ve,Ht,Bn,Jn,Jr){return(e=new Kc(e,a,m,P,$)).l=we,e.g=Ve,e.i=Ht,e.b=Rn(Bn||null),e.f=Jn,e.ub(Jr).toString()}function rc(e){if(this.a=e||y.INTERNAL.reactNative&&y.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Sd(e){this.b=e,this.a={},this.f=Me(this.c,this)}Ha.prototype.toString=function(){return this.f?Zi(this.a,"v",this.f):Qo(this.a.a,"v"),this.b?Zi(this.a,"eid",this.b):Qo(this.a.a,"eid"),this.c.length?Zi(this.a,"fw",this.c.join(",")):Qo(this.a.a,"fw"),this.a.toString()},Kc.prototype.ub=function(e){return this.h=e,this},Kc.prototype.toString=function(){var e=Bs(this.s,"/__/auth/handler");if(Zi(e,"apiKey",this.m),Zi(e,"appName",this.c),Zi(e,"authType",this.u),this.a.isOAuthProvider){var a=this.a;try{var m=y.app(this.c).auth().ja()}catch{m=null}for(var P in a.kb=m,Zi(e,"providerId",this.a.providerId),m=A((a=this.a).Fb))m[P]=m[P].toString();P=a.Oc,m=Rn(m);for(var $=0;$<P.length;$++){var we=P[$];we in m&&delete m[we]}a.lb&&a.kb&&!m[a.lb]&&(m[a.lb]=a.kb),kn(m)||Zi(e,"customParameters",b(m))}if("function"==typeof this.a.Nb&&(a=this.a.Nb()).length&&Zi(e,"scopes",a.join(",")),this.l?Zi(e,"redirectUrl",this.l):Qo(e.a,"redirectUrl"),this.g?Zi(e,"eventId",this.g):Qo(e.a,"eventId"),this.i?Zi(e,"v",this.i):Qo(e.a,"v"),this.b)for(var Ve in this.b)this.b.hasOwnProperty(Ve)&&!Di(e,Ve)&&Zi(e,Ve,this.b[Ve]);return this.h?Zi(e,"tid",this.h):Qo(e.a,"tid"),this.f?Zi(e,"eid",this.f):Qo(e.a,"eid"),(Ve=Ed(this.c)).length&&Zi(e,"fw",Ve.join(",")),e.toString()},(E=wf.prototype).Lb=function(e,a,m){var P=new T("popup-closed-by-user"),$=new T("web-storage-unsupported"),we=this,Ve=!1;return this.ka().then(function(){(function Dg(e){var a={type:"webStorageSupport"};return Sf(e).then(function(){return function Su(e,a){return e.nb.then(function(){return new Xe(function(m){e.a.send(a.type,a,m,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.i,a)}).then(function(m){if(m&&m.length&&typeof m[0].webStorageSupport<"u")return m[0].webStorageSupport;throw Error()})})(we).then(function(Ht){Ht||(e&&sn(e),a($),Ve=!0)})}).o(function(){}).then(function(){if(!Ve)return function ri(e){return new Xe(function(a){return function m(){_o(2e3).then(function(){if(e&&!e.closed)return m();a()})}()})}(e)}).then(function(){if(!Ve)return _o(m).then(function(){a(P)})})},E.Ub=function(){var e=qr();return!d(e)&&!Ce(e)},E.Qb=function(){return!1},E.Jb=function(e,a,m,P,$,we,Ve,Ht){if(!e)return ar(new T("popup-blocked"));if(Ve&&!d())return this.ka().o(function(Jn){sn(e),$(Jn)}),P(),ir();this.a||(this.a=Ef(Tf(this)));var Bn=this;return this.a.then(function(){var Jn=Bn.ka().o(function(Jr){throw sn(e),$(Jr),Jr});return P(),Jn}).then(function(){Na(m),Ve||H(nc(Bn.u,Bn.f,Bn.b,a,m,null,we,Bn.c,void 0,Bn.h,Ht),e)}).o(function(Jn){throw"auth/network-request-failed"==Jn.code&&(Bn.a=null),Jn})},E.Kb=function(e,a,m,P){this.a||(this.a=Ef(Tf(this)));var $=this;return this.a.then(function(){Na(a),H(nc($.u,$.f,$.b,e,a,_(),m,$.c,void 0,$.h,P))}).o(function(we){throw"auth/network-request-failed"==we.code&&($.a=null),we})},E.ka=function(){var e=this;return Sf(this).then(function(){return e.i.nb}).o(function(){throw e.a=null,new T("network-request-failed")})},E.Xb=function(){return!0},E.Ca=function(e){this.g.push(e)},E.Qa=function(e){er(this.g,function(a){return a==e})},(E=rc.prototype).get=function(e){return ir(this.a.getItem(e)).then(function(a){return a&&U(a)})},E.set=function(e,a){return ir(this.a.setItem(e,b(a)))},E.T=function(e){return ir(this.a.removeItem(e))},E.ba=function(){},E.ha=function(){};var Pf,hh=[];function fh(e,a,m){kn(e.a)&&e.b.addEventListener("message",e.f),typeof e.a[a]>"u"&&(e.a[a]=[]),e.a[a].push(m)}function Cf(e){this.a=e}function If(e){this.c=e,this.b=!1,this.a=[]}function ph(e,a,m,P){var $,Ve,Ht,Bn,we=m||{},Jn=null;if(e.b)return ar(Error("connection_unavailable"));var Jr=P?800:50,Po=typeof MessageChannel<"u"?new MessageChannel:null;return new Xe(function(ro,Os){Po?($=Math.floor(Math.random()*Math.pow(10,20)).toString(),Po.port1.start(),Ht=setTimeout(function(){Os(Error("unsupported_event"))},Jr),e.a.push(Jn={messageChannel:Po,onMessage:Ve=function(cl){cl.data.eventId===$&&("ack"===cl.data.status?(clearTimeout(Ht),Bn=setTimeout(function(){Os(Error("timeout"))},3e3)):"done"===cl.data.status?(clearTimeout(Bn),typeof cl.data.response<"u"?ro(cl.data.response):Os(Error("unknown_error"))):(clearTimeout(Ht),clearTimeout(Bn),Os(Error("invalid_response"))))}}),Po.port1.addEventListener("message",Ve),e.c.postMessage({eventType:a,eventId:$,data:we},[Po.port2])):Os(Error("connection_unavailable"))}).then(function(ro){return Td(e,Jn),ro}).o(function(ro){throw Td(e,Jn),ro})}function Td(e,a){if(a){var m=a.messageChannel;m&&(m.port1.removeEventListener("message",a.onMessage),m.port1.close()),er(e.a,function($){return $==a})}}function Dd(){if(!Cd())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=K.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var e=this;bi()&&self?(this.l=function Df(){var e=bi()?self:null;if(_t(hh,function(m){m.b==e&&(a=m)}),!a){var a=new Sd(e);hh.push(a)}return a}(),fh(this.l,"keyChanged",function(a,m){return $c(e).then(function(P){return 0<P.length&&_t(e.a,function($){$(P)}),{keyProcessed:jn(P,m.key)}})}),fh(this.l,"ping",function(){return ir(["keyChanged"])})):function D(){var e=K.navigator;return e&&e.serviceWorker?ir().then(function(){return e.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):ir(null)}().then(function(a){(e.h=a)&&(e.g=new If(new Cf(a)),ph(e.g,"ping",null,!0).then(function(m){m[0].fulfilled&&jn(m[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function xf(e){return new Xe(function(a,m){var P=e.u.open("firebaseLocalStorageDb",1);P.onerror=function($){try{$.preventDefault()}catch{}m(Error($.target.error))},P.onupgradeneeded=function($){$=$.target.result;try{$.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(we){m(we)}},P.onsuccess=function($){($=$.target.result).objectStoreNames.contains("firebaseLocalStorage")?a($):function mh(e){return new Xe(function(a,m){var P=e.u.deleteDatabase("firebaseLocalStorageDb");P.onsuccess=function(){a()},P.onerror=function($){m(Error($.target.error))}})}(e).then(function(){return xf(e)}).then(function(we){a(we)}).o(function(we){m(we)})}})}function ic(e){return e.m||(e.m=xf(e)),e.m}function Cd(){try{return!!K.indexedDB}catch{return!1}}function oc(e){return e.objectStore("firebaseLocalStorage")}function za(e,a){return e.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function sc(e){return new Xe(function(a,m){e.onsuccess=function(P){P&&P.target?a(P.target.result):a()},e.onerror=function(P){m(P.target.error)}})}function Id(e,a){return e.g&&e.h&&function X(){var e=K.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ph(e.g,"keyChanged",{key:a},e.s).then(function(){}).o(function(){}):ir()}function $c(e){return ic(e).then(function(a){var m=oc(za(a,!1));return m.getAll?sc(m.getAll()):new Xe(function(P,$){var we=[],Ve=m.openCursor();Ve.onsuccess=function(Ht){(Ht=Ht.target.result)?(we.push(Ht.value),Ht.continue()):P(we)},Ve.onerror=function(Ht){$(Ht.target.error)}})}).then(function(a){var m={},P=[];if(0==e.b){for(P=0;P<a.length;P++)m[a[P].fbase_key]=a[P].value;P=fe(e.c,m),e.c=m}return P})}function Pd(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function qc(e){var a=this,m=null;this.a=[],this.type="indexedDB",this.c=e,this.b=ir().then(function(){if(Cd()){var P=de(),$="__sak"+P;return Pf||(Pf=new Dd),(m=Pf).set($,P).then(function(){return m.get($)}).then(function(we){if(we!==P)throw Error("indexedDB not supported!");return m.T($)}).then(function(){return m}).o(function(){return a.c})}return a.c}).then(function(P){return a.type=P.type,P.ba(function($){_t(a.a,function(we){we($)})}),P})}function Wa(){this.a={},this.type="inMemory"}function Qc(){if(!function Vp(){var e="Node"==Y();if(!(e=xd()||e&&y.INTERNAL.node&&y.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Y()?new T("internal-error","The LocalStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=xd()||y.INTERNAL.node.localStorage,this.type="localStorage"}function xd(){try{var e=K.localStorage,a=de();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch{return null}}function gh(){this.type="nullStorage"}function Md(){if(!function Hp(){var e="Node"==Y();if(!(e=Du()||e&&y.INTERNAL.node&&y.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Y()?new T("internal-error","The SessionStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Du()||y.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Du(){try{var e=K.sessionStorage,a=de();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch{return null}}function zp(){var e={};e.Browser=yh,e.Node=Wp,e.ReactNative=Mf,e.Worker=Gp,this.a=e[Y()]}Sd.prototype.c=function(e){var a=e.data.eventType,m=e.data.eventId,P=this.a[a];if(P&&0<P.length){e.ports[0].postMessage({status:"ack",eventId:m,eventType:a,response:null});var $=[];_t(P,function(we){$.push(ir().then(function(){return we(e.origin,e.data.data)}))}),Oi($).then(function(we){var Ve=[];_t(we,function(Ht){Ve.push({fulfilled:Ht.Mb,value:Ht.value,reason:Ht.reason?Ht.reason.message:void 0})}),_t(Ve,function(Ht){for(var Bn in Ht)typeof Ht[Bn]>"u"&&delete Ht[Bn]}),e.ports[0].postMessage({status:"done",eventId:m,eventType:a,response:Ve})})}},Cf.prototype.postMessage=function(e,a){this.a.postMessage(e,a)},If.prototype.close=function(){for(;0<this.a.length;)Td(this,this.a[0]);this.b=!0},(E=Dd.prototype).set=function(e,a){var P,m=!1,$=this;return ic(this).then(function(we){return sc((we=oc(za(P=we,!0))).get(e))}).then(function(we){var Ve=oc(za(P,!0));return we?(we.value=a,sc(Ve.put(we))):($.b++,m=!0,(we={}).fbase_key=e,we.value=a,sc(Ve.add(we)))}).then(function(){return $.c[e]=a,Id($,e)}).ma(function(){m&&$.b--})},E.get=function(e){return ic(this).then(function(a){return sc(oc(za(a,!1)).get(e))}).then(function(a){return a&&a.value})},E.T=function(e){var a=!1,m=this;return ic(this).then(function(P){return a=!0,m.b++,sc(oc(za(P,!0)).delete(e))}).then(function(){return delete m.c[e],Id(m,e)}).ma(function(){a&&m.b--})},E.ba=function(e){0==this.a.length&&function Up(e){Pd(e),function a(){e.f=setTimeout(function(){e.i=$c(e).then(function(m){0<m.length&&_t(e.a,function(P){P(m)})}).then(function(){a()}).o(function(m){"STOP_EVENT"!=m.message&&a()})},800)}()}(this),this.a.push(e)},E.ha=function(e){er(this.a,function(a){return a==e}),0==this.a.length&&Pd(this)},(E=qc.prototype).get=function(e){return this.b.then(function(a){return a.get(e)})},E.set=function(e,a){return this.b.then(function(m){return m.set(e,a)})},E.T=function(e){return this.b.then(function(a){return a.T(e)})},E.ba=function(e){this.a.push(e)},E.ha=function(e){er(this.a,function(a){return a==e})},(E=Wa.prototype).get=function(e){return ir(this.a[e])},E.set=function(e,a){return this.a[e]=a,ir()},E.T=function(e){return delete this.a[e],ir()},E.ba=function(){},E.ha=function(){},(E=Qc.prototype).get=function(e){var a=this;return ir().then(function(){return U(a.a.getItem(e))})},E.set=function(e,a){var m=this;return ir().then(function(){var P=b(a);null===P?m.T(e):m.a.setItem(e,P)})},E.T=function(e){var a=this;return ir().then(function(){a.a.removeItem(e)})},E.ba=function(e){K.window&&Ur(K.window,"storage",e)},E.ha=function(e){K.window&&yi(K.window,"storage",e)},(E=gh.prototype).get=function(){return ir(null)},E.set=function(){return ir()},E.T=function(){return ir()},E.ba=function(){},E.ha=function(){},(E=Md.prototype).get=function(e){var a=this;return ir().then(function(){return U(a.a.getItem(e))})},E.set=function(e,a){var m=this;return ir().then(function(){var P=b(a);null===P?m.T(e):m.a.setItem(e,P)})},E.T=function(e){var a=this;return ir().then(function(){a.a.removeItem(e)})},E.ba=function(){},E.ha=function(){};var vh,Iu,yh={F:Qc,$a:Md},Wp={F:Qc,$a:Md},Mf={F:rc,$a:gh},Gp={F:Qc,$a:gh},Cu={od:"local",NONE:"none",qd:"session"};function Af(){var e=!(Ce(qr())||!Zo()),a=d(),m=li();this.m=e,this.h=a,this.l=m,this.a={},vh||(vh=new zp),e=vh;try{this.g=!Ii()&&Gn()||!K.indexedDB?new e.a.F:new qc(bi()?new Wa:new e.a.F)}catch{this.g=new Wa,this.h=!0}try{this.i=new e.a.$a}catch{this.i=new Wa}this.u=new Wa,this.f=Me(this.Vb,this),this.b={}}function Xc(){return Iu||(Iu=new Af),Iu}function Ca(e,a){switch(a){case"session":return e.i;case"none":return e.u;default:return e.g}}function sl(e,a){return"firebase:"+e.name+(a?":"+a:"")}function Pu(e,a,m){return m=sl(a,m),"local"==a.F&&(e.b[m]=null),Ca(e,a.F).T(m)}function _h(e){e.c&&(clearInterval(e.c),e.c=null)}function qp(e){this.a=e,this.b=Xc()}(E=Af.prototype).get=function(e,a){return Ca(this,e.F).get(sl(e,a))},E.set=function(e,a,m){var P=sl(e,m),$=this,we=Ca(this,e.F);return we.set(P,a).then(function(){return we.get(P)}).then(function(Ve){"local"==e.F&&($.b[P]=Ve)})},E.addListener=function(e,a,m){e=sl(e,a),this.l&&(this.b[e]=K.localStorage.getItem(e)),kn(this.a)&&(Ca(this,"local").ba(this.f),this.h||(Ii()||!Gn())&&K.indexedDB||!this.l||function $p(e){_h(e),e.c=setInterval(function(){for(var a in e.a){var m=K.localStorage.getItem(a),P=e.b[a];m!=P&&(e.b[a]=m,m=new Hn({type:"storage",key:a,target:window,oldValue:P,newValue:m,a:!0}),e.Vb(m))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(m)},E.removeListener=function(e,a,m){e=sl(e,a),this.a[e]&&(er(this.a[e],function(P){return P==m}),0==this.a[e].length&&delete this.a[e]),kn(this.a)&&(Ca(this,"local").ha(this.f),_h(this))},E.Vb=function(e){if(e&&e.f){var a=e.a.key;if(null==a)for(var m in this.a){var P=this.b[m];typeof P>"u"&&(P=null);var $=K.localStorage.getItem(m);$!==P&&(this.b[m]=$,this.ib(m))}else if(0==a.indexOf("firebase:")&&this.a[a]){if(typeof e.a.a<"u"?Ca(this,"local").ha(this.f):_h(this),this.m)if(m=K.localStorage.getItem(a),(P=e.a.newValue)!==m)null!==P?K.localStorage.setItem(a,P):K.localStorage.removeItem(a);else if(this.b[a]===P&&typeof e.a.a>"u")return;var we=this;m=function(){(typeof e.a.a<"u"||we.b[a]!==K.localStorage.getItem(a))&&(we.b[a]=K.localStorage.getItem(a),we.ib(a))},$e&&Cr&&10==Cr&&K.localStorage.getItem(a)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(m,10):m()}}else _t(e,Me(this.ib,this))},E.ib=function(e){this.a[e]&&_t(this.a[e],function(a){a()})};var ac,Ad={name:"authEvent",F:"local"};function bh(){this.a=Xc()}function kd(e,a){this.b=lc,this.f=K.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=a,this.l=K.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=K.Int32Array?new Int32Array(Rf):Rf),this.reset()}k(kd,function wh(){this.b=-1});for(var lc=64,Xp=lc-1,kf=[],Eh=0;Eh<Xp;Eh++)kf[Eh]=0;var Of=Qn(128,kf);function Sh(e){for(var a=e.f,m=e.l,P=0,$=0;$<a.length;)m[P++]=a[$]<<24|a[$+1]<<16|a[$+2]<<8|a[$+3],$=4*P;for(a=16;64>a;a++){var we=(0|m[a-16])+((($=0|m[a-15])>>>7|$<<25)^($>>>18|$<<14)^$>>>3)|0,Ve=(0|m[a-7])+(((P=0|m[a-2])>>>17|P<<15)^(P>>>19|P<<13)^P>>>10)|0;m[a]=we+Ve|0}P=0|e.a[0],$=0|e.a[1];var Ht=0|e.a[2],Bn=0|e.a[3],Jn=0|e.a[4],Jr=0|e.a[5],Po=0|e.a[6];for(we=0|e.a[7],a=0;64>a;a++){var ro=((P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10))+(P&$^P&Ht^$&Ht)|0;Ve=(we=we+((Jn>>>6|Jn<<26)^(Jn>>>11|Jn<<21)^(Jn>>>25|Jn<<7))|0)+((Ve=(Ve=Jn&Jr^~Jn&Po)+(0|ac[a])|0)+(0|m[a])|0)|0,we=Po,Po=Jr,Jr=Jn,Jn=Bn+Ve|0,Bn=Ht,Ht=$,$=P,P=Ve+ro|0}e.a[0]=e.a[0]+P|0,e.a[1]=e.a[1]+$|0,e.a[2]=e.a[2]+Ht|0,e.a[3]=e.a[3]+Bn|0,e.a[4]=e.a[4]+Jn|0,e.a[5]=e.a[5]+Jr|0,e.a[6]=e.a[6]+Po|0,e.a[7]=e.a[7]+we|0}function Od(e,a,m){void 0===m&&(m=a.length);var P=0,$=e.c;if("string"==typeof a)for(;P<m;)e.f[$++]=a.charCodeAt(P++),$==e.b&&(Sh(e),$=0);else{if(!Zt(a))throw Error("message must be string or array");for(;P<m;){var we=a[P++];if(!("number"==typeof we&&0<=we&&255>=we&&we==(0|we)))throw Error("message must be a byte array");e.f[$++]=we,$==e.b&&(Sh(e),$=0)}}e.c=$,e.g+=m}kd.prototype.reset=function(){this.g=this.c=0,this.a=K.Int32Array?new Int32Array(this.h):Nn(this.h)};var Rf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xu(){kd.call(this,8,Pl)}k(xu,kd);var Pl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nf(e,a,m,P,$){this.u=e,this.i=a,this.l=m,this.m=P||null,this.s=$||null,this.h=a+":"+m,this.w=new bh,this.g=new qp(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rd(e){return new T("invalid-cordova-configuration",e)}function Zp(e,a){for(var m=0;m<e.b.length;m++)try{e.b[m](a)}catch{}}function Th(e){return e.f||(e.f=e.ka().then(function(){return new Xe(function(a){e.Ca(function m(P){return a(P),e.Qa(m),!1}),function Jp(e){function a(Ve){P=!0,$&&$.cancel(),Nd(e).then(function(Ht){var Bn=m;if(Ht&&Ve&&Ve.url){var Jn=null;-1!=(Bn=Nu(Ve.url)).indexOf("/__/auth/callback")&&(Jn=(Jn="object"==typeof(Jn=U(Di(Jn=Ji(Bn),"firebaseError")||null))?W(Jn):null)?new fa(Ht.c,Ht.b,null,null,Jn,null,Ht.S()):new fa(Ht.c,Ht.b,Bn,Ht.f,null,null,Ht.S())),Bn=Jn||m}Zp(e,Bn)})}var m=new fa("unknown",null,null,null,new T("no-auth-event")),P=!1,$=_o(500).then(function(){return Nd(e).then(function(){P||Zp(e,m)})}),we=K.handleOpenURL;K.handleOpenURL=function(Ve){if(0==Ve.toLowerCase().indexOf(Nr("BuildInfo.packageName",K).toLowerCase()+"://")&&a({url:Ve}),"function"==typeof we)try{we(Ve)}catch(Ht){console.error(Ht)}},ju||(ju=new fd),function Mc(e){var a=ju;a.a.push(e),a.b||(a.b=function(m){for(var P=0;P<a.a.length;P++)a.a[P](m)},"function"==typeof(e=Nr("universalLinks.subscribe",K))&&e(null,a.b))}(a)}(e)})})),e.f}function Nd(e){var a=null;return function Qp(e){return e.b.get(Ad,e.a).then(function(a){return hd(a)})}(e.g).then(function(m){return a=m,Pu((m=e.g).b,Ad,m.a)}).then(function(){return a})}function Lf(e){this.a=e,this.b=Xc()}(E=Nf.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=function ns(){return ss(void 0)?Xo().then(function(){return new Xe(function(e,a){var m=K.document,P=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(P),e()},!1)})}):ar(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Nr("universalLinks.subscribe",K))throw Rd("cordova-universal-links-plugin-fix is not installed");if(typeof Nr("BuildInfo.packageName",K)>"u")throw Rd("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",K))throw Rd("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",K))throw Rd("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},E.Lb=function(e,a){return a(new T("operation-not-supported-in-this-environment")),ir()},E.Jb=function(){return ar(new T("operation-not-supported-in-this-environment"))},E.Xb=function(){return!1},E.Ub=function(){return!0},E.Qb=function(){return!0},E.Kb=function(e,a,m,P){if(this.c)return ar(new T("redirect-operation-pending"));var $=this,we=K.document,Ve=null,Ht=null,Bn=null,Jn=null;return this.c=ir().then(function(){return Na(a),Th($)}).then(function(){return function Ff(e,a,m,P,$){var we=function Ig(){for(var e=20,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}(),Ve=new fa(a,P,null,we,new T("no-auth-event"),null,$),Ht=Nr("BuildInfo.packageName",K);if("string"!=typeof Ht)throw new T("invalid-cordova-configuration");var Bn=Nr("BuildInfo.displayName",K),Jn={};if(qr().toLowerCase().match(/iphone|ipad|ipod/))Jn.ibi=Ht;else{if(!qr().toLowerCase().match(/android/))return ar(new T("operation-not-supported-in-this-environment"));Jn.apn=Ht}Bn&&(Jn.appDisplayName=Bn),we=function Pg(e){var a=new xu;Od(a,e),e=[];var m=8*a.g;Od(a,Of,56>a.c?56-a.c:a.b-(a.c-56));for(var P=63;56<=P;P--)a.f[P]=255&m,m/=256;for(Sh(a),P=m=0;P<a.i;P++)for(var $=24;0<=$;$-=8)e[m++]=a.a[P]>>$&255;return function Pa(e){return Ut(e,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}(e)}(we),Jn.sessionId=we;var Jr=nc(e.u,e.i,e.l,a,m,null,P,e.m,Jn,e.s,$);return e.ka().then(function(){var Po=e.h;return e.w.a.set(Ad,Ve.v(),Po)}).then(function(){var Po=Nr("cordova.plugins.browsertab.isAvailable",K);if("function"!=typeof Po)throw new T("invalid-cordova-configuration");var ro=null;Po(function(Os){if(Os){if("function"!=typeof(ro=Nr("cordova.plugins.browsertab.openUrl",K)))throw new T("invalid-cordova-configuration");ro(Jr)}else{if("function"!=typeof(ro=Nr("cordova.InAppBrowser.open",K)))throw new T("invalid-cordova-configuration");Os=qr(),e.a=ro(Jr,Os.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Os.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}($,e,a,m,P)}).then(function(){return new Xe(function(Jr,Po){Ht=function(){var ro=Nr("cordova.plugins.browsertab.close",K);return Jr(),"function"==typeof ro&&ro(),$.a&&"function"==typeof $.a.close&&($.a.close(),$.a=null),!1},$.Ca(Ht),Jn=function(){tn()&&Bn()},we.addEventListener("resume",Bn=function(){Ve||(Ve=_o(2e3).then(function(){Po(new T("redirect-cancelled-by-user"))}))},!1),qr().toLowerCase().match(/android/)||we.addEventListener("visibilitychange",Jn,!1)}).o(function(Jr){return Nd($).then(function(){throw Jr})})}).ma(function(){Bn&&we.removeEventListener("resume",Bn,!1),Jn&&we.removeEventListener("visibilitychange",Jn,!1),Ve&&Ve.cancel(),Ht&&$.Qa(Ht),$.c=null})},E.Ca=function(e){this.b.push(e),Th(this).o(function(a){"auth/invalid-cordova-configuration"===a.code&&(a=new fa("unknown",null,null,null,new T("no-auth-event")),e(a))})},E.Qa=function(e){er(this.b,function(a){return a==e})};var Dh={name:"pendingRedirect",F:"session"};function ma(e){return Pu(e.b,Dh,e.a)}function Zc(e,a,m){this.i={},this.w=0,this.D=e,this.u=a,this.m=m,this.h=[],this.f=!1,this.l=Me(this.s,this),this.b=new Ld,this.B=new Ah,this.g=new Lf(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Bf(this.D,this.u,this.m,Tn)}function Bf(e,a,m,P){var $=y.SDK_VERSION||null;return ss()?new Nf(e,a,m,$,P):new wf(e,a,m,$,P)}function jf(e){e.f||(e.f=!0,e.a.Ca(e.l));var a=e.a;return e.a.ka().o(function(m){throw e.a==a&&e.reset(),m})}function Yf(e){e.a.Ub()&&jf(e).o(function(a){var m=new fa("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));ci(a)&&e.s(m)}),e.a.Qb()||Mh(e.b)}function Ch(e,a){jn(e.h,a)||e.h.push(a),e.f||function tm(e){return e.b.get(Dh,e.a).then(function(a){return"pending"==a})}(e.g).then(function(m){m?ma(e.g).then(function(){jf(e).o(function(P){var $=new fa("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));ci(P)&&e.s($)})}):Yf(e)}).o(function(){Yf(e)})}function Ih(e,a){er(e.h,function(m){return m==a})}Zc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Bf(this.D,this.u,this.m),this.i={}},Zc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=f()-this.w&&(this.i={},this.w=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var a=!1,m=0;m<this.h.length;m++){var P=this.h[m];if(P.Cb(e.c,e.b)){(a=this.c[e.c])&&(a.h(e,P),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.w=f())),a=!0;break}}return Mh(this.b),a};var nm=new et(2e3,1e4),rm=new et(3e4,6e4);function Uf(e,a,m,P,$,we,Ve){return e.a.Jb(a,m,P,function(){e.f||(e.f=!0,e.a.Ca(e.l))},function(){e.reset()},$,we,Ve)}function ci(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ph(e,a,m,P,$){var we;return function em(e){return e.b.set(Dh,"pending",e.a)}(e.g).then(function(){return e.a.Kb(a,m,P,$).o(function(Ve){if(ci(Ve))throw new T("operation-not-supported-in-this-environment");return we=Ve,ma(e.g).then(function(){throw we})}).then(function(){return e.a.Xb()?new Xe(function(){}):ma(e.g).then(function(){return e.pa()}).then(function(){}).o(function(){})})})}function xh(e,a,m,P,$){return e.a.Lb(P,function(we){a.la(m,null,we,$)},nm.get())}Zc.prototype.pa=function(){return this.b.pa()};var Fd={};function Vf(e,a,m){var P=a+":"+m;return Fd[P]||(Fd[P]=new Zc(e,a,m)),Fd[P]}function Ld(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mh(e){e.g||(e.g=!0,uc(e,!1,null,null))}function Bd(e){e.g&&!e.i&&uc(e,!1,null,null)}function zf(e,a){if(e.b=function(){return ir(a)},e.f.length)for(var m=0;m<e.f.length;m++)e.f[m](a)}function uc(e,a,m,P){a?P?function im(e,a){if(e.b=function(){return ar(a)},e.c.length)for(var m=0;m<e.c.length;m++)e.c[m](a)}(e,P):zf(e,m):zf(e,{user:null}),e.f=[],e.c=[]}function Ah(){}function Gf(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(e){this.Bb=e},enumerable:!1})}function Jc(e,a){this.a=a,lt(this,"verificationId",e)}function ed(e,a,m,P){return new ha(e).cb(a,m).then(function($){return new Jc($,P)})}function om(e){var a=Ze(e);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");kt(this,{token:e,expirationTime:In(1e3*a.exp),authTime:In(1e3*a.auth_time),issuedAtTime:In(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Kf(e,a,m){var P=a&&a[am];if(!P)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=Rn(a),this.g=m,this.c=new Qa(null,P),this.b=[];var $=this;_t(a[sm]||[],function(we){(we=Zr(we))&&$.b.push(we)}),lt(this,"auth",this.a),lt(this,"session",this.c),lt(this,"hints",this.b)}Ld.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ld.prototype.h=function(e,a){if(e){this.reset(),this.g=!0;var m=e.c,P=e.b,$=e.a&&"auth/web-storage-unsupported"==e.a.code,we=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!$&&!we),"unknown"!=m||$||we?e.a?(uc(this,!0,null,e.a),ir()):a.Da(m,P)?function Hf(e,a,m){m=m.Da(a.c,a.b);var P=a.g,$=a.f,we=a.i,Ve=a.S(),Ht=!!a.c.match(/Redirect$/);m(P,$,Ve,we).then(function(Bn){uc(e,Ht,Bn,null)}).o(function(Bn){uc(e,Ht,null,Bn)})}(this,e,a):ar(new T("invalid-auth-event")):(uc(this,!1,null,null),ir())}else ar(new T("invalid-auth-event"))},Ld.prototype.pa=function(){var e=this;return new Xe(function(a,m){e.b?e.b().then(a,m):(e.f.push(a),e.c.push(m),function Wf(e){var a=new T("timeout");e.a&&e.a.cancel(),e.a=_o(rm.get()).then(function(){e.b||(e.g=!0,uc(e,!0,null,a))})}(e))})},Ah.prototype.h=function(e,a){if(e){var m=e.c,P=e.b;e.a?(a.la(e.c,null,e.a,e.b),ir()):a.Da(m,P)?function Mu(e,a){var m=e.b,P=e.c;a.Da(P,m)(e.g,e.f,e.S(),e.i).then(function($){a.la(P,$,null,m)}).o(function($){a.la(P,null,$,m)})}(e,a):ar(new T("invalid-auth-event"))}else ar(new T("invalid-auth-event"))},Jc.prototype.confirm=function(e){return e=xc(this.verificationId,e),this.a(e)};var sm="mfaInfo",am="mfaPendingCredential";function kh(e,a,m,P){T.call(this,"multi-factor-auth-required",P,a),this.b=new Kf(e,a,m),lt(this,"resolver",this.b)}function Oh(e,a,m){if(e&&ye(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new kh(a,e.serverResponse,m,e.message)}catch{}return null}function lm(){}function Rh(e){lt(this,"factorId",e.ea),this.a=e}function Nh(e){if(Rh.call(this,e),this.a.ea!=ha.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function xl(e,a){for(var m in Sn.call(this,e),a)this[m]=a[m]}function Fh(e,a){this.a=e,this.b=[],this.c=Me(this.wc,this),Ur(this.a,"userReloaded",this.c);var m=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&_t(a.multiFactor.enrolledFactors,function(P){var $=null,we={};if(P){P.uid&&(we[si]=P.uid),P.displayName&&(we[zr]=P.displayName),P.enrollmentTime&&(we[Yr]=new Date(P.enrollmentTime).toISOString()),P.phoneNumber&&(we[Fi]=P.phoneNumber);try{$=new yo(we)}catch{}P=$}else P=null;P&&m.push(P)}),jd(this,m)}function jd(e,a){e.b=a,lt(e,"enrolledFactors",a)}function Lh(e,a,m){if(this.h=e,this.i=a,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Bh(e,a){e.stop(),e.b=_o(function cm(e,a){return a?(e.a=e.c,e.g()):(a=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),a)}(e,a)).then(function(){return function yn(){var e=K.document,a=null;return tn()||!e?ir():new Xe(function(m){a=function(){tn()&&(e.removeEventListener("visibilitychange",a,!1),m())},e.addEventListener("visibilitychange",a,!1)}).o(function(m){throw e.removeEventListener("visibilitychange",a,!1),m})}()}).then(function(){return e.h()}).then(function(){Bh(e,!0)}).o(function(m){e.i(m)&&Bh(e,!1)})}function jh(e){this.c=e,this.b=this.a=null}function Yd(e){return e.b&&1e3*e.b.c||0}function qf(e,a){var m=a.refreshToken;e.b=Ie(a[Xs]||""),e.a=m}function dc(e,a){this.a=e||null,this.b=a||null,kt(this,{lastSignInTime:In(a||null),creationTime:In(e||null)})}function Yh(e,a,m,P,$,we){kt(this,{uid:e,displayName:P||null,photoURL:$||null,email:m||null,phoneNumber:we||null,providerId:a})}function ga(e,a,m){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null,e=y.SDK_VERSION?br(y.SDK_VERSION):null,this.a=new ia(this.l,Ke(Tn),e),this.b=new jh(this.a),hc(this,a[Xs]),qf(this.b,a),lt(this,"refreshToken",this.b.a),Vd(this,m||{}),uo.call(this),this.P=!1,this.s&&Hr()&&(this.i=Vf(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function Jf(e){return new Lh(function(){return e.I(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var a=Yd(e.b)-f()-3e5;return 0<a?a:0})}(this),this.Z=Me(this.Ma,this);var P=this;this.oa=null,this.za=function($){P.va($.g)},this.aa=null,this.W=[],this.ya=function($){al(P,$.c)},this.$=null,this.O=new Fh(this,m),lt(this,"multiFactor",this.O)}function Zf(e,a){e.aa&&yi(e.aa,"languageCodeChanged",e.za),(e.aa=a)&&Ur(a,"languageCodeChanged",e.za)}function al(e,a){e.W=a,ec(e.a,y.SDK_VERSION?br(y.SDK_VERSION,e.W):null)}function Ud(e,a){e.$&&yi(e.$,"frameworkChanged",e.ya),(e.$=a)&&Ur(a,"frameworkChanged",e.ya)}function Uh(e){try{return y.app(e.m).auth()}catch{throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ep(e){e.D||e.B.b||(e.B.start(),yi(e,"tokenChanged",e.Z),Ur(e,"tokenChanged",e.Z))}function Vh(e){yi(e,"tokenChanged",e.Z),e.B.stop()}function hc(e,a){e.xa=a,lt(e,"_lat",a)}function Ml(e){for(var a=[],m=0;m<e.R.length;m++)a.push(e.R[m](e));return Oi(a).then(function(){return e})}function Al(e){e.i&&!e.P&&(e.P=!0,Ch(e.i,e))}function Vd(e,a){kt(e,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new dc(a.createdAt,a.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function td(){}function Hd(e){return ir().then(function(){if(e.D)throw new T("app-deleted")})}function nd(e){return Ut(e.providerData,function(a){return a.providerId})}function rd(e,a){a&&(zd(e,a.providerId),e.providerData.push(a))}function zd(e,a){er(e.providerData,function(m){return m.providerId==a})}function kl(e,a,m){("uid"!=a||m)&&e.hasOwnProperty(a)&&lt(e,a,m)}function pc(e,a){e!=a&&(kt(e,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),lt(e,"metadata",a.metadata?function xg(e){return new dc(e.a,e.b)}(a.metadata):new dc),_t(a.providerData,function(m){rd(e,m)}),function Qf(e,a){e.b=a.b,e.a=a.a}(e.b,a.b),lt(e,"refreshToken",e.b.a),jd(e.O,a.O.b))}function Hh(e){return e.I().then(function(a){var m=e.isAnonymous;return function tp(e,a){return Rr(e.a,dh,{idToken:a}).then(Me(e.Ic,e))}(e,a).then(function(){return m||kl(e,"isAnonymous",!1),a})})}function ll(e,a){a[Xs]&&e.xa!=a[Xs]&&(qf(e.b,a),e.dispatchEvent(new xl("tokenChanged")),hc(e,a[Xs]),kl(e,"refreshToken",e.b.a))}function id(e,a){return Hh(e).then(function(){if(jn(nd(e),a))return Ml(e).then(function(){throw new T("provider-already-linked")})})}function mc(e,a,m){return rn({user:e,credential:pl(a),additionalUserInfo:a=wi(a),operationType:m})}function np(e,a){return ll(e,a),e.reload().then(function(){return e})}function rp(e,a,m,P,$){if(!Hr())return ar(new T("operation-not-supported-in-this-environment"));if(e.h&&!$)return ar(e.h);var we=pr(m.providerId),Ve=de(e.uid+":::"),Ht=null;(!d()||Zo())&&e.s&&m.isOAuthProvider&&(Ht=nc(e.s,e.l,e.m,a,m,null,Ve,y.SDK_VERSION||null,null,null,e.tenantId));var Bn=dr(Ht,we&&we.ta,we&&we.sa);return P=P().then(function(){if(ip(e),!$)return e.I().then(function(){})}).then(function(){return Uf(e.i,Bn,a,m,Ve,!!Ht,e.tenantId)}).then(function(){return new Xe(function(Jn,Jr){e.la(a,null,new T("cancelled-popup-request"),e.g||null),e.f=Jn,e.w=Jr,e.g=Ve,e.c=xh(e.i,e,a,Bn,Ve)})}).then(function(Jn){return Bn&&sn(Bn),Jn?rn(Jn):null}).o(function(Jn){throw Bn&&sn(Bn),Jn}),As(e,P,$)}function aa(e,a,m,P,$){if(!Hr())return ar(new T("operation-not-supported-in-this-environment"));if(e.h&&!$)return ar(e.h);var we=null,Ve=de(e.uid+":::");return P=P().then(function(){if(ip(e),!$)return e.I().then(function(){})}).then(function(){return e.fa=Ve,Ml(e)}).then(function(Ht){return e.ga&&(Ht=(Ht=e.ga).b.set(zh,e.v(),Ht.a)),Ht}).then(function(){return Ph(e.i,a,m,Ve,e.tenantId)}).o(function(Ht){if(we=Ht,e.ga)return Wh(e.ga);throw we}).then(function(){if(we)throw we}),As(e,P,$)}function ip(e){if(!e.i||!e.P)throw new T(e.i&&!e.P?"internal-error":"auth-domain-config-required")}function As(e,a,m){var P=function Mg(e,a,m){return e.h&&!m?(a.cancel(),ar(e.h)):a.o(function(P){throw!P||"auth/user-disabled"!=P.code&&"auth/user-token-expired"!=P.code||(e.h||e.dispatchEvent(new xl("userInvalidated")),e.h=P),P})}(e,a,m);return e.N.push(P),P.ma(function(){xn(e.N,P)}),P.o(function($){var we=null;throw $&&"auth/multi-factor-auth-required"===$.code&&(we=Oh($.v(),Uh(e),Me(e.hc,e))),we||$})}function Wd(e){if(!e.apiKey)return null;var a={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},m={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;m[Xs]=e.stsTokenManager.accessToken,m.refreshToken=e.stsTokenManager.refreshToken||null;var P=new ga(a,m,e);return e.providerData&&_t(e.providerData,function($){$&&rd(P,rn($))}),e.redirectEventId&&(P.fa=e.redirectEventId),P}function fm(e){this.a=e,this.b=Xc()}Kf.prototype.Pc=function(e){var a=this;return e.ob(this.a.b,this.c).then(function(m){var P=Rn(a.f);return delete P[sm],delete P[am],xr(P,m),a.g(P)})},k(kh,T),lm.prototype.ob=function(e,a,m){return a.type==iu?function um(e,a,m,P){return m.Fa().then(function($){return $={idToken:$},typeof P<"u"&&($.displayName=P),xr($,{phoneVerificationInfo:Bu(e.a)}),Rr(a,il,$)})}(this,e,a,m):function cc(e,a,m){return m.Fa().then(function(P){return xr(P={mfaPendingCredential:P},{phoneVerificationInfo:Bu(e.a)}),Rr(a,ch,P)})}(this,e,a)},k(Rh,lm),k(Nh,Rh),k(xl,Sn),(E=Fh.prototype).wc=function(e){jd(this,function $f(e){var a=[];return _t(e.mfaInfo||[],function(m){(m=Zr(m))&&a.push(m)}),a}(e.ed))},E.Ob=function(){return this.a.I().then(function(e){return new Qa(e,null)})},E.dc=function(e,a){var m=this,P=this.a.a;return this.Ob().then(function($){return e.ob(P,$,a)}).then(function($){return ll(m.a,$),m.a.reload()})},E.$c=function(e){var a=this,m="string"==typeof e?e:e.uid,P=this.a.a;return this.a.I().then(function($){return Rr(P,Li,{idToken:$,mfaEnrollmentId:m})}).then(function($){var we=ft(a.b,function(Ve){return Ve.uid!=m});return jd(a,we),ll(a.a,$),a.a.reload().o(function(Ve){if("auth/user-token-expired"!=Ve.code)throw Ve})})},E.v=function(){return{multiFactor:{enrolledFactors:Ut(this.b,function(e){return e.v()})}}},Lh.prototype.start=function(){this.a=this.c,Bh(this,!0)},Lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},jh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Yd(this)}},jh.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?ar(new T("user-token-expired")):e||!this.b||f()>Yd(this)-3e4?this.a?function Xf(e,a){return function gd(e,a){return new Xe(function(m,P){"refresh_token"==a.grant_type&&a.refresh_token||"authorization_code"==a.grant_type&&a.code?Xl(e,e.u+"?key="+encodeURIComponent(e.c),function($){$?$.error?P(oa($)):$.access_token&&$.refresh_token?m($):P(new T("internal-error")):P(new T("network-request-failed"))},"POST",Bo(a).toString(),e.g,e.m.get()):P(new T("internal-error"))})}(e.c,a).then(function(m){return e.b=Ie(m.access_token),e.a=m.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(m){throw"auth/user-token-expired"==m.code&&(e.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ir(null):ir({accessToken:this.b.toString(),refreshToken:this.a})},dc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(ga,uo),ga.prototype.va=function(e){this.oa=e,Ql(this.a,e)},ga.prototype.ja=function(){return this.oa},ga.prototype.Ea=function(){return Nn(this.W)},ga.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},lt(ga.prototype,"providerId","firebase"),(E=ga.prototype).reload=function(){var e=this;return As(this,Hd(this).then(function(){return Hh(e).then(function(){return Ml(e)}).then(td)}))},E.mc=function(e){return this.I(e).then(function(a){return new om(a)})},E.I=function(e){var a=this;return As(this,Hd(this).then(function(){return a.b.getToken(e)}).then(function(m){if(!m)throw new T("internal-error");return m.accessToken!=a.xa&&(hc(a,m.accessToken),a.dispatchEvent(new xl("tokenChanged"))),kl(a,"refreshToken",m.refreshToken),m.accessToken}))},E.Ic=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Vd(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var a=function dm(e){return(e=e.providerUserInfo)&&e.length?Ut(e,function(a){return new Yh(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}(e),m=0;m<a.length;m++)rd(this,a[m]);kl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new xl("userReloaded",{ed:e}))},E.Jc=function(e){return L("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(e)},E.pb=function(e){var a=this,m=null;return As(this,e.c(this.a,this.uid).then(function(P){return ll(a,P),m=mc(a,P,"reauthenticate"),a.h=null,a.reload()}).then(function(){return m}),!0)},E.Ac=function(e){return L("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(e)},E.mb=function(e){var a=this,m=null;return As(this,id(this,e.providerId).then(function(){return a.I()}).then(function(P){return e.b(a.a,P)}).then(function(P){return m=mc(a,P,"link"),np(a,P)}).then(function(){return m}))},E.Bc=function(e,a){var m=this;return As(this,id(this,"phone").then(function(){return ed(Uh(m),e,a,Me(m.mb,m))}))},E.Kc=function(e,a){var m=this;return As(this,ir().then(function(){return ed(Uh(m),e,a,Me(m.pb,m))}),!0)},E.xb=function(e){var a=this;return As(this,this.I().then(function(m){return a.a.xb(m,e)}).then(function(m){return ll(a,m),a.reload()}))},E.cd=function(e){var a=this;return As(this,this.I().then(function(m){return e.b(a.a,m)}).then(function(m){return ll(a,m),a.reload()}))},E.yb=function(e){var a=this;return As(this,this.I().then(function(m){return a.a.yb(m,e)}).then(function(m){return ll(a,m),a.reload()}))},E.zb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Hd(this);var a=this;return As(this,this.I().then(function(m){return a.a.zb(m,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(m){return ll(a,m),kl(a,"displayName",m.displayName||null),kl(a,"photoURL",m.photoUrl||null),_t(a.providerData,function(P){"password"===P.providerId&&(lt(P,"displayName",a.displayName),lt(P,"photoURL",a.photoURL))}),Ml(a)}).then(td))},E.ad=function(e){var a=this;return As(this,Hh(this).then(function(m){return jn(nd(a),e)?function Tl(e,a,m){return Rr(e,bd,{idToken:a,deleteProvider:m})}(a.a,m,[e]).then(function(P){var $={};return _t(P.providerUserInfo||[],function(we){$[we.providerId]=!0}),_t(nd(a),function(we){$[we]||zd(a,we)}),$[ha.PROVIDER_ID]||lt(a,"phoneNumber",null),Ml(a)}):Ml(a).then(function(){throw new T("no-such-provider")})}))},E.delete=function(){var e=this;return As(this,this.I().then(function(a){return Rr(e.a,_d,{idToken:a})}).then(function(){e.dispatchEvent(new xl("userDeleted"))})).then(function(){for(var a=0;a<e.N.length;a++)e.N[a].cancel("app-deleted");Zf(e,null),Ud(e,null),e.N=[],e.D=!0,Vh(e),lt(e,"refreshToken",null),e.i&&Ih(e.i,e)})},E.Cb=function(e,a){return!!("linkViaPopup"==e&&(this.g||null)==a&&this.f||"reauthViaPopup"==e&&(this.g||null)==a&&this.f||"linkViaRedirect"==e&&(this.fa||null)==a||"reauthViaRedirect"==e&&(this.fa||null)==a)},E.la=function(e,a,m,P){"linkViaPopup"!=e&&"reauthViaPopup"!=e||P!=(this.g||null)||(m&&this.w?this.w(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},E.Da=function(e,a){return"linkViaPopup"==e&&a==(this.g||null)?Me(this.Hb,this):"reauthViaPopup"==e&&a==(this.g||null)?Me(this.Ib,this):"linkViaRedirect"==e&&(this.fa||null)==a?Me(this.Hb,this):"reauthViaRedirect"==e&&(this.fa||null)==a?Me(this.Ib,this):null},E.Cc=function(e){var a=this;return rp(this,"linkViaPopup",e,function(){return id(a,e.providerId).then(function(){return Ml(a)})},!1)},E.Lc=function(e){return rp(this,"reauthViaPopup",e,function(){return ir()},!0)},E.Dc=function(e){var a=this;return aa(this,"linkViaRedirect",e,function(){return id(a,e.providerId)},!1)},E.Mc=function(e){return aa(this,"reauthViaRedirect",e,function(){return ir()},!0)},E.Hb=function(e,a,m,P){var $=this;this.c&&(this.c.cancel(),this.c=null);var we=null;return As(this,this.I().then(function(Ve){return Jl($.a,{requestUri:e,postBody:P,sessionId:a,idToken:Ve})}).then(function(Ve){return we=mc($,Ve,"link"),np($,Ve)}).then(function(){return we}))},E.Ib=function(e,a,m,P){var $=this;this.c&&(this.c.cancel(),this.c=null);var we=null;return As(this,ir().then(function(){return Aa(bu($.a,{requestUri:e,sessionId:a,postBody:P,tenantId:m}),$.uid)}).then(function(Ht){return we=mc($,Ht,"reauthenticate"),ll($,Ht),$.h=null,$.reload()}).then(function(){return we}),!0)},E.qb=function(e){var a=this,m=null;return As(this,this.I().then(function(P){return m=P,typeof e>"u"||kn(e)?{}:bs(new qa(e))}).then(function(P){return a.a.qb(m,P)}).then(function(P){if(a.email!=P)return a.reload()}).then(function(){}))},E.Ab=function(e,a){var m=this,P=null;return As(this,this.I().then(function($){return P=$,typeof a>"u"||kn(a)?{}:bs(new qa(a))}).then(function($){return m.a.Ab(P,e,$)}).then(function($){if(m.email!=$)return m.reload()}).then(function(){}))},E.hc=function(e){var a=null,m=this;return As(this,e=Aa(ir(e),m.uid).then(function(P){return a=mc(m,P,"reauthenticate"),ll(m,P),m.h=null,m.reload()}).then(function(){return a}),!0)},E.toJSON=function(){return this.v()},E.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&xr(e,this.metadata.v()),_t(this.providerData,function(a){e.providerData.push(function An(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&(a[m]=e[m]);return a}(a))}),xr(e,this.O.v()),e};var zh={name:"redirectUser",F:"session"};function Wh(e){return Pu(e.b,zh,e.a)}function Gh(e){this.a=e,this.b=Xc(),this.c=null,this.f=function mm(e){var a=ul("local"),m=ul("session"),P=ul("none");return function Kp(e,a,m){var P=sl(a,m),$=Ca(e,a.F);return e.get(a,m).then(function(we){var Ve=null;try{Ve=U(K.localStorage.getItem(P))}catch{}if(Ve&&!we)return K.localStorage.removeItem(P),e.set(a,Ve,m);Ve&&we&&"localStorage"!=$.type&&K.localStorage.removeItem(P)})}(e.b,a,e.a).then(function(){return e.b.get(m,e.a)}).then(function($){return $?m:e.b.get(P,e.a).then(function(we){return we?P:e.b.get(a,e.a).then(function(Ve){return Ve?a:e.b.get(Kh,e.a).then(function(Ht){return Ht?ul(Ht):a})})})}).then(function($){return e.c=$,od(e,$.F)}).o(function(){e.c||(e.c=a)})}(this),this.b.addListener(ul("local"),this.a,Me(this.g,this))}function od(e,a){var P,m=[];for(P in Cu)Cu[P]!==a&&m.push(Pu(e.b,ul(Cu[P]),e.a));return m.push(Pu(e.b,Kh,e.a)),function ao(e){return new Xe(function(a,m){var P=e.length,$=[];if(P)for(var we=function(Jn,Jr){P--,$[Jn]=Jr,0==P&&a($)},Ve=function(Jn){m(Jn)},Ht=0;Ht<e.length;Ht++)ki(e[Ht],tt(we,Ht),Ve);else a($)})}(m)}Gh.prototype.g=function(){var e=this,a=ul("local");gc(this,function(){return ir().then(function(){return e.c&&"local"!=e.c.F?e.b.get(a,e.a):null}).then(function(m){if(m)return od(e,"local").then(function(){e.c=a})})})};var Kh={name:"persistence",F:"session"};function ul(e){return{name:"authUser",F:e}}function sp(e,a){return gc(e,function(){return e.b.set(e.c,a.v(),e.a)})}function Ga(e){return gc(e,function(){return Pu(e.b,e.c,e.a)})}function Gd(e,a){return gc(e,function(){return e.b.get(e.c,e.a).then(function(m){return m&&a&&(m.authDomain=a),Wd(m||{})})})}function gc(e,a){return e.f=e.f.then(a,a),e.f}function Ka(e){if(this.l=!1,lt(this,"settings",new Gf),lt(this,"app",e),!Ro(this).options||!Ro(this).options.apiKey)throw new T("invalid-api-key");e=y.SDK_VERSION?br(y.SDK_VERSION):null,this.b=new ia(Ro(this).options&&Ro(this).options.apiKey,Ke(Tn),e),this.P=[],this.m=[],this.O=[],this.$b=y.INTERNAL.createSubscribe(Me(this.xc,this)),this.W=void 0,this.ac=y.INTERNAL.createSubscribe(Me(this.yc,this)),Ol(this,null),this.i=new Gh(Ro(this).options.apiKey+":"+Ro(this).name),this.B=new fm(Ro(this).options.apiKey+":"+Ro(this).name),this.Z=Jo(this,function $d(e){var a=Ro(e).options.authDomain,m=function Kd(e){var a=function pm(e,a){return e.b.get(zh,e.a).then(function(m){return m&&a&&(m.authDomain=a),Wd(m||{})})}(e.B,Ro(e).options.authDomain).then(function(m){return(e.D=m)&&(m.ga=e.B),Wh(e.B)});return Jo(e,a)}(e).then(function(){return Gd(e.i,a)}).then(function(P){return P?(P.ga=e.B,e.D&&(e.D.fa||null)==(P.fa||null)?P:P.reload().then(function(){return sp(e.i,P).then(function(){return P})}).o(function($){return"auth/network-request-failed"==$.code?P:Ga(e.i)})):null}).then(function(P){Ol(e,P||null)});return Jo(e,m)}(this)),this.h=Jo(this,function Ag(e){return e.Z.then(function(){return lp(e)}).o(function(){}).then(function(){if(!e.l)return e.oa()}).o(function(){}).then(function(){if(!e.l){e.aa=!0;var a=e.i;a.b.addListener(ul("local"),a.a,e.oa)}})}(this)),this.aa=!1,this.oa=Me(this.Xc,this),this.Ma=Me(this.ca,this),this.xa=Me(this.jc,this),this.ya=Me(this.uc,this),this.za=Me(this.vc,this),this.a=null,function Qh(e){var a=Ro(e).options.authDomain,m=Ro(e).options.apiKey;a&&Hr()&&(e.Zb=e.Z.then(function(){if(!e.l){if(e.a=Vf(a,m,Ro(e).name),Ch(e.a,e),Ei(e)&&Al(Ei(e)),e.D){Al(e.D);var P=e.D;P.va(e.ja()),Zf(P,e),al(P=e.D,e.N),Ud(P,e),e.D=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Me(this.delete,this),this.INTERNAL.logFramework=Me(this.Ec,this),this.s=0,uo.call(this),function vm(e){Object.defineProperty(e,"lc",{get:function(){return this.ja()},set:function(a){this.va(a)},enumerable:!1}),e.$=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(a){this.ub(a)},enumerable:!1}),e.R=null}(this),this.N=[]}function $h(e){Sn.call(this,"languageCodeChanged"),this.g=e}function ap(e){Sn.call(this,"frameworkChanged"),this.c=e}function qh(e){return e.Zb||ar(new T("auth-domain-config-required"))}function lp(e){if(!Hr())return ar(new T("operation-not-supported-in-this-environment"));var a=qh(e).then(function(){return e.a.pa()}).then(function(m){return m?rn(m):null});return Jo(e,a)}function Ol(e,a){Ei(e)&&(function fc(e,a){er(e.R,function(m){return m==a})}(Ei(e),e.Ma),yi(Ei(e),"tokenChanged",e.xa),yi(Ei(e),"userDeleted",e.ya),yi(Ei(e),"userInvalidated",e.za),Vh(Ei(e))),a&&(a.R.push(e.Ma),Ur(a,"tokenChanged",e.xa),Ur(a,"userDeleted",e.ya),Ur(a,"userInvalidated",e.za),0<e.s&&ep(a)),lt(e,"currentUser",a),a&&(a.va(e.ja()),Zf(a,e),al(a,e.N),Ud(a,e))}function Rl(e,a){var m=null,P=null;return Jo(e,a.then(function($){return m=pl($),P=wi($),function ym(e,a){var m={};return m.apiKey=Ro(e).options.apiKey,m.authDomain=Ro(e).options.authDomain,m.appName=Ro(e).name,e.Z.then(function(){return function op(e,a,m,P){var $=new ga(e,a);return m&&($.ga=m),P&&al($,P),$.reload().then(function(){return $})}(m,a,e.B,e.Ea())}).then(function(P){return Ei(e)&&P.uid==Ei(e).uid?(pc(Ei(e),P),e.ca(P)):(Ol(e,P),Al(P),e.ca(P))}).then(function(){vc(e)})}(e,$)},function($){var we=null;throw $&&"auth/multi-factor-auth-required"===$.code&&(we=Oh($.v(),e,Me(e.ic,e))),we||$}).then(function(){return rn({user:Ei(e),credential:m,additionalUserInfo:P,operationType:"signIn"})}))}function Ro(e){return e.app}function Ei(e){return e.currentUser}function sd(e){return Ei(e)&&Ei(e)._lat||null}function vc(e){if(e.aa){for(var a=0;a<e.m.length;a++)e.m[a]&&e.m[a](sd(e));if(e.W!==e.getUid()&&e.O.length)for(e.W=e.getUid(),a=0;a<e.O.length;a++)e.O[a]&&e.O[a](sd(e))}}function Jo(e,a){return e.P.push(a),a.ma(function(){xn(e.P,a)}),a}function va(){}function Nl(){this.a={},this.b=1e12}Gh.prototype.tb=function(e){var a=null,m=this;return function Cg(e){var a=new T("invalid-persistence-type"),m=new T("unsupported-persistence-type");e:{for(P in Cu)if(Cu[P]==e){var P=!0;break e}P=!1}if(!P||"string"!=typeof e)throw a;switch(Y()){case"ReactNative":if("session"===e)throw m;break;case"Node":if("none"!==e)throw m;break;case"Worker":if("session"===e||!Cd()&&"none"!==e)throw m;break;default:if(!li()&&"none"!==e)throw m}}(e),gc(this,function(){return e!=m.c.F?m.b.get(m.c,m.a).then(function(P){return a=P,od(m,e)}).then(function(){if(m.c=ul(e),a)return m.b.set(m.c,a,m.a)}):ir()})},k(Ka,uo),k($h,Sn),k(ap,Sn),(E=Ka.prototype).tb=function(e){return Jo(this,e=this.i.tb(e))},E.va=function(e){this.$===e||this.l||(this.$=e,Ql(this.b,this.$),this.dispatchEvent(new $h(this.ja())))},E.ja=function(){return this.$},E.dd=function(){var e=K.navigator;this.va(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},E.Ec=function(e){this.N.push(e),ec(this.b,y.SDK_VERSION?br(y.SDK_VERSION,this.N):null),this.dispatchEvent(new ap(this.N))},E.Ea=function(){return Nn(this.N)},E.ub=function(e){this.R===e||this.l||(this.R=e,this.b.b=this.R)},E.S=function(){return this.R},E.toJSON=function(){return{apiKey:Ro(this).options.apiKey,authDomain:Ro(this).options.authDomain,appName:Ro(this).name,currentUser:Ei(this)&&Ei(this).v()}},E.Cb=function(e,a){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},E.la=function(e,a,m,P){"signInViaPopup"==e&&this.g==P&&(m&&this.w?this.w(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},E.Da=function(e,a){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==a&&this.f?Me(this.gc,this):null},E.gc=function(e,a,m,P){var $=this,we={requestUri:e,postBody:P,sessionId:a,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),$.Z.then(function(){return Rl($,Cl($.b,we))})},E.Vc=function(e){if(!Hr())return ar(new T("operation-not-supported-in-this-environment"));var a=this,m=pr(e.providerId),P=de(),$=null;(!d()||Zo())&&Ro(this).options.authDomain&&e.isOAuthProvider&&($=nc(Ro(this).options.authDomain,Ro(this).options.apiKey,Ro(this).name,"signInViaPopup",e,null,P,y.SDK_VERSION||null,null,null,this.S()));var we=dr($,m&&m.ta,m&&m.sa);return Jo(this,m=qh(this).then(function(Ve){return Uf(Ve,we,"signInViaPopup",e,P,!!$,a.S())}).then(function(){return new Xe(function(Ve,Ht){a.la("signInViaPopup",null,new T("cancelled-popup-request"),a.g),a.f=Ve,a.w=Ht,a.g=P,a.c=xh(a.a,a,"signInViaPopup",we,P)})}).then(function(Ve){return we&&sn(we),Ve?rn(Ve):null}).o(function(Ve){throw we&&sn(we),Ve}))},E.Wc=function(e){if(!Hr())return ar(new T("operation-not-supported-in-this-environment"));var a=this,m=qh(this).then(function(){return function gm(e){return gc(e,function(){return e.b.set(Kh,e.c.F,e.a)})}(a.i)}).then(function(){return Ph(a.a,"signInViaRedirect",e,void 0,a.S())});return Jo(this,m)},E.pa=function(){var e=this;return lp(this).then(function(a){return e.a&&Bd(e.a.b),a}).o(function(a){throw e.a&&Bd(e.a.b),a})},E.bd=function(e){if(!e)return ar(new T("null-user"));if(this.R!=e.tenantId)return ar(new T("tenant-id-mismatch"));var a=this,m={};m.apiKey=Ro(this).options.apiKey,m.authDomain=Ro(this).options.authDomain,m.appName=Ro(this).name;var P=function hm(e,a,m,P){var $=e.b,we={};return we[Xs]=$.b&&$.b.toString(),we.refreshToken=$.a,a=new ga(a||{apiKey:e.l,authDomain:e.s,appName:e.m},we),m&&(a.ga=m),P&&al(a,P),pc(a,e),a}(e,m,a.B,a.Ea());return Jo(this,this.h.then(function(){if(Ro(a).options.apiKey!=e.l)return P.reload()}).then(function(){return Ei(a)&&e.uid==Ei(a).uid?(pc(Ei(a),e),a.ca(e)):(Ol(a,P),Al(P),a.ca(P))}).then(function(){vc(a)}))},E.wb=function(){var e=this;return Jo(this,this.h.then(function(){return e.a&&Bd(e.a.b),Ei(e)?(Ol(e,null),Ga(e.i).then(function(){vc(e)})):ir()}))},E.Xc=function(){var e=this;return Gd(this.i,Ro(this).options.authDomain).then(function(a){if(!e.l){var m;if(m=Ei(e)&&a){m=Ei(e).uid;var P=a.uid;m=null!=m&&""!==m&&null!=P&&""!==P&&m==P}if(m)return pc(Ei(e),a),Ei(e).I();(Ei(e)||a)&&(Ol(e,a),a&&(Al(a),a.ga=e.B),e.a&&Ch(e.a,e),vc(e))}})},E.ca=function(e){return sp(this.i,e)},E.jc=function(){vc(this),this.ca(Ei(this))},E.uc=function(){this.wb()},E.vc=function(){this.wb()},E.ic=function(e){var a=this;return this.h.then(function(){return Rl(a,ir(e))})},E.xc=function(e){var a=this;this.addAuthTokenListener(function(){e.next(Ei(a))})},E.yc=function(e){var a=this;!function up(e,a){e.O.push(a),Jo(e,e.h.then(function(){!e.l&&jn(e.O,a)&&e.W!==e.getUid()&&(e.W=e.getUid(),a(sd(e)))}))}(this,function(){e.next(Ei(a))})},E.Gc=function(e,a,m){var P=this;return this.aa&&Promise.resolve().then(function(){"function"==typeof e?e(Ei(P)):"function"==typeof e.next&&e.next(Ei(P))}),this.$b(e,a,m)},E.Fc=function(e,a,m){var P=this;return this.aa&&Promise.resolve().then(function(){P.W=P.getUid(),"function"==typeof e?e(Ei(P)):"function"==typeof e.next&&e.next(Ei(P))}),this.ac(e,a,m)},E.kc=function(e){var a=this;return Jo(this,this.h.then(function(){return Ei(a)?Ei(a).I(e).then(function(P){return{accessToken:P}}):null}))},E.Rc=function(e){var a=this;return this.h.then(function(){return Rl(a,Rr(a.b,Vn,{token:e}))}).then(function(m){var P=m.user;return kl(P,"isAnonymous",!1),a.ca(P),m})},E.Sc=function(e,a){var m=this;return this.h.then(function(){return Rl(m,Rr(m.b,Pr,{email:e,password:a}))})},E.cc=function(e,a){var m=this;return this.h.then(function(){return Rl(m,Rr(m.b,tc,{email:e,password:a}))})},E.Ya=function(e){var a=this;return this.h.then(function(){return Rl(a,e.ia(a.b))})},E.Qc=function(e){return L("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(e)},E.vb=function(){var e=this;return this.h.then(function(){var a=Ei(e);if(a&&a.isAnonymous){var m=rn({providerId:null,isNewUser:!1});return rn({user:a,credential:null,additionalUserInfo:m,operationType:"signIn"})}return Rl(e,e.b.vb()).then(function(P){var $=P.user;return kl($,"isAnonymous",!0),e.ca($),P})})},E.getUid=function(){return Ei(this)&&Ei(this).uid||null},E.bc=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&Ei(this)&&ep(Ei(this))},E.Nc=function(e){var a=this;_t(this.m,function(m){m==e&&a.s--}),0>this.s&&(this.s=0),0==this.s&&Ei(this)&&Vh(Ei(this)),this.removeAuthTokenListener(e)},E.addAuthTokenListener=function(e){var a=this;this.m.push(e),Jo(this,this.h.then(function(){a.l||jn(a.m,e)&&e(sd(a))}))},E.removeAuthTokenListener=function(e){er(this.m,function(a){return a==e})},E.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ul("local"),e.a,this.oa),this.a&&(Ih(this.a,this),Bd(this.a.b)),Promise.resolve()},E.fc=function(e){return Jo(this,function yu(e,a){return Rr(e,Wc,{identifier:a,continueUri:g()?_():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.b,e))},E.zc=function(e){return!!Lu(e)},E.sb=function(e,a){var m=this;return Jo(this,ir().then(function(){var P=new qa(a);if(!P.c)throw new T("argument-error",ls+" must be true when sending sign in link to email");return bs(P)}).then(function(P){return m.b.sb(e,P)}).then(function(){}))},E.fd=function(e){return this.Pa(e).then(function(a){return a.data.email})},E.jb=function(e,a){return Jo(this,this.b.jb(e,a).then(function(){}))},E.Pa=function(e){return Jo(this,this.b.Pa(e).then(function(a){return new eo(a)}))},E.fb=function(e){return Jo(this,this.b.fb(e).then(function(){}))},E.rb=function(e,a){var m=this;return Jo(this,ir().then(function(){return typeof a>"u"||kn(a)?{}:bs(new qa(a))}).then(function(P){return m.b.rb(e,P)}).then(function(){}))},E.Uc=function(e,a){return Jo(this,ed(this,e,a,Me(this.Ya,this)))},E.Tc=function(e,a){var m=this;return Jo(this,ir().then(function(){var P=a||_(),$=Pc(e,P);if(!(P=Lu(P)))throw new T("argument-error","Invalid email link!");if(P.tenantId!==m.S())throw new T("tenant-id-mismatch");return m.Ya($)}))},va.prototype.render=function(){},va.prototype.reset=function(){},va.prototype.getResponse=function(){},va.prototype.execute=function(){};var yc=null;function Au(e,a){return(a=cp(a))&&e.a[a]||null}function cp(e){return(e=typeof e>"u"?1e12:e)?e.toString():null}function ad(e,a){this.g=!1,this.c=a,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=di(e);var m=this;this.i=function(){m.execute()},this.h?this.execute():Ur(this.f,"click",this.i)}function qd(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Xh(){}function Zh(){}Nl.prototype.render=function(e,a){return this.a[this.b.toString()]=new ad(e,a),this.b++},Nl.prototype.reset=function(e){var a=Au(this,e);e=cp(e),a&&e&&(a.delete(),delete this.a[e])},Nl.prototype.getResponse=function(e){return(e=Au(this,e))?e.getResponse():null},Nl.prototype.execute=function(e){(e=Au(this,e))&&e.execute()},ad.prototype.getResponse=function(){return qd(this),this.b},ad.prototype.execute=function(){qd(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function Z(){for(var e=50,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}();var a=e.c.callback,m=e.c["expired-callback"];if(a)try{a(e.b)}catch{}e.a=setTimeout(function(){if(e.a=null,e.b=null,m)try{m()}catch{}e.h&&e.execute()},6e4)},500))},ad.prototype.delete=function(){qd(this),this.g=!0,clearTimeout(this.a),this.a=null,yi(this.f,"click",this.i)},lt(Xh,"FACTOR_ID","phone"),Zh.prototype.g=function(){return yc||(yc=new Nl),ir(yc)},Zh.prototype.c=function(){};var ku=null;function Jh(){this.b=K.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kg=new Pt(le,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_m=new et(3e4,6e4);Jh.prototype.g=function(e){var a=this;return new Xe(function(m,P){var $=setTimeout(function(){P(new T("network-request-failed"))},_m.get());!K.grecaptcha||e!==a.f&&!a.b?(K[a.a]=function(){if(K.grecaptcha){a.f=e;var Ve=K.grecaptcha.render;K.grecaptcha.render=function(Ht,Bn){return Ht=Ve(Ht,Bn),a.b++,Ht},clearTimeout($),m(K.grecaptcha)}else clearTimeout($),P(new T("internal-error"));delete K[a.a]},ir(Xu(bn(kg,{onload:a.a,hl:e||""}))).o(function(){clearTimeout($),P(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout($),m(K.grecaptcha))})},Jh.prototype.c=function(){this.b--};var ef=null;function tf(e,a,m,P,$,we,Ve){if(lt(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=a,this.g=null,Ve?(ku||(ku=new Zh),Ve=ku):(ef||(ef=new Jh),Ve=ef),this.m=Ve,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[fp])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bm],!K.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!di(a)||!this.i&&di(a).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ia(e,we||null,$||null),this.w=P||function(){return null};var Ht=this;this.l=[];var Bn=this.a[dp];this.a[dp]=function(Jr){if(nf(Ht,Jr),"function"==typeof Bn)Bn(Jr);else if("string"==typeof Bn){var Po=Nr(Bn,K);"function"==typeof Po&&Po(Jr)}};var Jn=this.a[hp];this.a[hp]=function(){if(nf(Ht,null),"function"==typeof Jn)Jn();else if("string"==typeof Jn){var Jr=Nr(Jn,K);"function"==typeof Jr&&Jr()}}}var dp="callback",hp="expired-callback",fp="sitekey",bm="size";function nf(e,a){for(var m=0;m<e.l.length;m++)try{e.l[m](a)}catch{}}function sf(e,a){return e.h.push(a),a.ma(function(){xn(e.h,a)}),a}function _c(e){if(e.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function af(e,a,m){var P=!1;try{this.b=m||y.app()}catch{throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");m=this.b.options.apiKey;var $=this,we=null;try{we=this.b.auth().Ea()}catch{}try{P=this.b.auth().settings.appVerificationDisabledForTesting}catch{}we=y.SDK_VERSION?br(y.SDK_VERSION,we):null,tf.call(this,m,e,a,function(){try{var Ve=$.b.auth().ja()}catch{Ve=null}return Ve},we,Ke(Tn),P)}function pp(e,a,m,P){e:{m=Array.prototype.slice.call(m);for(var $=0,we=!1,Ve=0;Ve<a.length;Ve++)if(a[Ve].optional)we=!0;else{if(we)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");$++}if(we=a.length,m.length<$||we<m.length)P="Expected "+($==we?1==$?"1 argument":$+" arguments":$+"-"+we+" arguments")+" but got "+m.length+".";else{for($=0;$<m.length;$++)if(we=a[$].optional&&void 0===m[$],!a[$].K(m[$])&&!we){if(a=a[$],0>$||$>=mp.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");m=mp[$],P=(P?"":m+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.J+".";break e}P=null}}if(P)throw new T("argument-error",e+" failed: "+P)}(E=tf.prototype).Ga=function(){var e=this;return this.f?this.f:this.f=sf(this,ir().then(function(){if(g()&&!bi())return Xo();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.w())}).then(function(a){return e.g=a,Rr(e.s,p,{})}).then(function(a){e.a[fp]=a.recaptchaSiteKey}).o(function(a){throw e.f=null,a}))},E.render=function(){_c(this);var e=this;return sf(this,this.Ga().then(function(){if(null===e.c){var a=e.u;if(!e.i){var m=di(a);a=function Ni(e,a,m){var P=arguments,$=document,we=String(P[0]),Ve=P[1];if(!xi&&Ve&&(Ve.name||Ve.type)){if(we=["<",we],Ve.name&&we.push(' name="',zt(Ve.name),'"'),Ve.type){we.push(' type="',zt(Ve.type),'"');var Ht={};xr(Ht,Ve),delete Ht.type,Ve=Ht}we.push(">"),we=we.join("")}return we=Qi($,we),Ve&&("string"==typeof Ve?we.className=Ve:Array.isArray(Ve)?we.className=Ve.join(" "):Mr(we,Ve)),2<P.length&&function jr(e,a,m){function P(Ve){Ve&&a.appendChild("string"==typeof Ve?e.createTextNode(Ve):Ve)}for(var $=2;$<m.length;$++){var we=m[$];!Zt(we)||ye(we)&&0<we.nodeType?P(we):_t(ji(we)?Nn(we):we,P)}}($,we,P),we}("DIV"),m.appendChild(a)}e.c=e.g.render(a,e.a)}return e.c}))},E.verify=function(){_c(this);var e=this;return sf(this,this.render().then(function(a){return new Xe(function(m){var P=e.g.getResponse(a);if(P)m(P);else{var $=function(we){we&&(function rf(e,a){er(e.l,function(m){return m==a})}(e,$),m(we))};e.l.push($),e.i&&e.g.execute(e.c)}})}))},E.reset=function(){_c(this),null!==this.c&&this.g.reset(this.c)},E.clear=function(){_c(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=di(this.u);for(var a;a=e.firstChild;)e.removeChild(a)}},k(af,tf);var mp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lr(e,a){return{name:e||"",J:"a valid string",optional:!!a,K:function(m){return"string"==typeof m}}}function lf(e,a){return{name:e||"",J:"a boolean",optional:!!a,K:function(m){return"boolean"==typeof m}}}function ks(e,a){return{name:e||"",J:"a valid object",optional:!!a,K:ye}}function Ou(e,a){return{name:e||"",J:"a function",optional:!!a,K:function(m){return"function"==typeof m}}}function $a(e,a){return{name:e||"",J:"null",optional:!!a,K:function(m){return null===m}}}function Fl(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(a){return!!a&&!(!a.ia||e&&a.providerId!==e)}}}function uf(e,a){return ye(e)&&"string"==typeof e.type&&e.type===a&&"function"==typeof e.Fa}function vp(e){return ye(e)&&"string"==typeof e.uid}function gs(e,a,m,P){return{name:m||"",J:e.J+" or "+a.J,optional:!!P,K:function($){return e.K($)||a.K($)}}}function so(e,a){for(var m in a){var P=a[m].name;e[P]=tu(P,e[m],a[m].j)}}function wc(e,a){for(var m in a){var P=a[m].name;P!==m&&Object.defineProperty(e,P,{get:tt(function($){return this[$]},m),set:tt(function($,we,Ve,Ht){pp($,[Ve],[Ht],!0),this[we]=Ht},P,m,a[m].gb),enumerable:!0})}}function Wi(e,a,m,P){e[a]=tu(a,m,P)}function tu(e,a,m){function P(){var Ve=Array.prototype.slice.call(arguments);return pp($,m,Ve),a.apply(this,Ve)}if(!m)return a;var we,$=function Qd(e){return(e=e.split("."))[e.length-1]}(e);for(we in a)P[we]=a[we];for(we in a.prototype)P.prototype[we]=a.prototype[we];return P}so(Ka.prototype,{fb:{name:"applyActionCode",j:[Lr("code")]},Pa:{name:"checkActionCode",j:[Lr("code")]},jb:{name:"confirmPasswordReset",j:[Lr("code"),Lr("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Lr("email"),Lr("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Lr("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Lr("emailLink")]},Fc:{name:"onAuthStateChanged",j:[gs(ks(),Ou(),"nextOrObserver"),Ou("opt_error",!0),Ou("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[gs(ks(),Ou(),"nextOrObserver"),Ou("opt_error",!0),Ou("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Lr("email"),gs(ks("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Lr("email"),ks("actionCodeSettings")]},tb:{name:"setPersistence",j:[Lr("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Fl()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Fl()]},Rc:{name:"signInWithCustomToken",j:[Lr("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Lr("email"),Lr("password")]},Tc:{name:"signInWithEmailLink",j:[Lr("email"),Lr("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Lr("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[gs({name:"user",J:"an instance of Firebase User",optional:!1,K:function(a){return!!(a&&a instanceof ga)}},$a(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lr(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Lr("code")]}}),wc(Ka.prototype,{lc:{name:"languageCode",gb:gs(Lr(),$a(),"languageCode")},ti:{name:"tenantId",gb:gs(Lr(),$a(),"tenantId")}}),(Ka.Persistence=Cu).LOCAL="local",Ka.Persistence.SESSION="session",Ka.Persistence.NONE="none",so(ga.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[lf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[lf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Fl()]},mb:{name:"linkWithCredential",j:[Fl()]},Bc:{name:"linkWithPhoneNumber",j:[Lr("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fl()]},pb:{name:"reauthenticateWithCredential",j:[Fl()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Lr("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[gs(ks("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lr(null,!0)]},ad:{name:"unlink",j:[Lr("provider")]},xb:{name:"updateEmail",j:[Lr("email")]},yb:{name:"updatePassword",j:[Lr("password")]},cd:{name:"updatePhoneNumber",j:[Fl("phone")]},zb:{name:"updateProfile",j:[ks("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Lr("email"),gs(ks("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]}}),so(Nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),so(va.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),so(Xe.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),wc(Gf.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:lf("appVerificationDisabledForTesting")}}),so(Jc.prototype,{confirm:{name:"confirm",j:[Lr("verificationCode")]}}),Wi(_a,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var a,m=[dd,Ic,bf,ih],P=0;P<m.length;P++)if(a=m[P](e))return a;return null},[gs(Lr(),ks(),"json")]),Wi(Us,"credential",function(e,a){return new ba(e,a)},[Lr("email"),Lr("password")]),so(ba.prototype,{v:{name:"toJSON",j:[Lr(null,!0)]}}),so(fl.prototype,{Aa:{name:"addScope",j:[Lr("scope")]},Ia:{name:"setCustomParameters",j:[ks("customOAuthParameters")]}}),Wi(fl,"credential",Fu,[gs(Lr(),ks(),"token")]),Wi(Us,"credentialWithLink",Pc,[Lr("email"),Lr("emailLink")]),so(Oa.prototype,{Aa:{name:"addScope",j:[Lr("scope")]},Ia:{name:"setCustomParameters",j:[ks("customOAuthParameters")]}}),Wi(Oa,"credential",Ra,[gs(Lr(),ks(),"token")]),so(da.prototype,{Aa:{name:"addScope",j:[Lr("scope")]},Ia:{name:"setCustomParameters",j:[ks("customOAuthParameters")]}}),Wi(da,"credential",Dc,[gs(Lr(),gs(ks(),$a()),"idToken"),gs(Lr(),$a(),"accessToken",!0)]),so(Hl.prototype,{Ia:{name:"setCustomParameters",j:[ks("customOAuthParameters")]}}),Wi(Hl,"credential",Cc,[gs(Lr(),ks(),"token"),Lr("secret",!0)]),so(Ws.prototype,{Aa:{name:"addScope",j:[Lr("scope")]},credential:{name:"credential",j:[gs(Lr(),gs(ks(),$a()),"optionsOrIdToken"),gs(Lr(),$a(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[ks("customOAuthParameters")]}}),so(Es.prototype,{v:{name:"toJSON",j:[Lr(null,!0)]}}),so(Xa.prototype,{v:{name:"toJSON",j:[Lr(null,!0)]}}),Wi(ha,"credential",xc,[Lr("verificationId"),Lr("verificationCode")]),so(ha.prototype,{cb:{name:"verifyPhoneNumber",j:[gs(Lr(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(m){return!!m&&(m.session&&m.phoneNumber?uf(m.session,iu)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?uf(m.session,Vl)&&vp(m.multiFactorHint):m.session&&m.multiFactorUid?uf(m.session,Vl)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),so(wa.prototype,{v:{name:"toJSON",j:[Lr(null,!0)]}}),so(T.prototype,{toJSON:{name:"toJSON",j:[Lr(null,!0)]}}),so(zl.prototype,{toJSON:{name:"toJSON",j:[Lr(null,!0)]}}),so(Yu.prototype,{toJSON:{name:"toJSON",j:[Lr(null,!0)]}}),so(kh.prototype,{toJSON:{name:"toJSON",j:[Lr(null,!0)]}}),so(Kf.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}}]}}),so(Fh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}},Lr("displayName",!0)]},$c:{name:"unenroll",j:[gs({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:vp},Lr(),"multiFactorInfoIdentifier")]}}),so(af.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wi(Fr,"parseLink",Zs,[Lr("link")]),Wi(Xh,"assertion",function(e){return new Nh(e)},[Fl("phone")]),function(){if(!(typeof y<"u"&&y.INTERNAL&&y.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Mo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ho,VERIFY_AND_CHANGE_EMAIL:rs,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ka,AuthCredential:_a,Error:T};Wi(e,"EmailAuthProvider",Us,[]),Wi(e,"FacebookAuthProvider",fl,[]),Wi(e,"GithubAuthProvider",Oa,[]),Wi(e,"GoogleAuthProvider",da,[]),Wi(e,"TwitterAuthProvider",Hl,[]),Wi(e,"OAuthProvider",Ws,[Lr("providerId")]),Wi(e,"SAMLAuthProvider",hl,[Lr("providerId")]),Wi(e,"PhoneAuthProvider",ha,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof Ka)}}]),Wi(e,"RecaptchaVerifier",af,[gs(Lr(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ks("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof y.app.App)}}]),Wi(e,"ActionCodeURL",Fr,[]),Wi(e,"PhoneMultiFactorGenerator",Xh,[]),y.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return new Ka(a=a.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),y.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return{getUid:Me((a=a.getProvider("auth").getImmediate()).getUid,a),getToken:Me(a.kc,a),addAuthTokenListener:Me(a.bc,a),removeAuthTokenListener:Me(a.Nc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),y.registerVersion("@firebase/auth","0.14.9"),y.INTERNAL.extendNamespace({User:ga})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},46355:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(77754),E=N(1270),j=function(){function ie(K,Ae,Se){this.name=K,this.instanceFactory=Ae,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return ie.prototype.setInstantiationMode=function(K){return this.instantiationMode=K,this},ie.prototype.setMultipleInstances=function(K){return this.multipleInstances=K,this},ie.prototype.setServiceProps=function(K){return this.serviceProps=K,this},ie}(),Pe="[DEFAULT]",z=function(){function ie(K,Ae){this.name=K,this.container=Ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return ie.prototype.get=function(K){void 0===K&&(K=Pe);var Ae=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Ae)){var Se=new E.Deferred;this.instancesDeferred.set(Ae,Se);try{var Fe=this.getOrInitializeService(Ae);Fe&&Se.resolve(Fe)}catch{}}return this.instancesDeferred.get(Ae).promise},ie.prototype.getImmediate=function(K){var Ae=y.__assign({identifier:Pe,optional:!1},K),Fe=Ae.optional,bt=this.normalizeInstanceIdentifier(Ae.identifier);try{var Zt=this.getOrInitializeService(bt);if(!Zt){if(Fe)return null;throw Error("Service "+this.name+" is not available")}return Zt}catch(Wt){if(Fe)return null;throw Wt}},ie.prototype.getComponent=function(){return this.component},ie.prototype.setComponent=function(K){var Ae,Se;if(K.name!==this.name)throw Error("Mismatching Component "+K.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=K,function te(ie){return"EAGER"===ie.instantiationMode}(K))try{this.getOrInitializeService(Pe)}catch{}try{for(var Fe=y.__values(this.instancesDeferred.entries()),bt=Fe.next();!bt.done;bt=Fe.next()){var Zt=y.__read(bt.value,2),ye=Zt[1],Nt=this.normalizeInstanceIdentifier(Zt[0]);try{var yt=this.getOrInitializeService(Nt);ye.resolve(yt)}catch{}}}catch(en){Ae={error:en}}finally{try{bt&&!bt.done&&(Se=Fe.return)&&Se.call(Fe)}finally{if(Ae)throw Ae.error}}},ie.prototype.clearInstance=function(K){void 0===K&&(K=Pe),this.instancesDeferred.delete(K),this.instances.delete(K)},ie.prototype.delete=function(){return y.__awaiter(this,void 0,void 0,function(){var K;return y.__generator(this,function(Ae){switch(Ae.label){case 0:return K=Array.from(this.instances.values()),[4,Promise.all(y.__spread(K.filter(function(Se){return"INTERNAL"in Se}).map(function(Se){return Se.INTERNAL.delete()}),K.filter(function(Se){return"_delete"in Se}).map(function(Se){return Se._delete()})))];case 1:return Ae.sent(),[2]}})})},ie.prototype.isComponentSet=function(){return null!=this.component},ie.prototype.getOrInitializeService=function(K){var Ae=this.instances.get(K);return!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,function Qe(ie){return ie===Pe?void 0:ie}(K)),this.instances.set(K,Ae)),Ae||null},ie.prototype.normalizeInstanceIdentifier=function(K){return this.component?this.component.multipleInstances?K:Pe:K},ie}(),Ge=function(){function ie(K){this.name=K,this.providers=new Map}return ie.prototype.addComponent=function(K){var Ae=this.getProvider(K.name);if(Ae.isComponentSet())throw new Error("Component "+K.name+" has already been registered with "+this.name);Ae.setComponent(K)},ie.prototype.addOrOverwriteComponent=function(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)},ie.prototype.getProvider=function(K){if(this.providers.has(K))return this.providers.get(K);var Ae=new z(K,this);return this.providers.set(K,Ae),Ae},ie.prototype.getProviders=function(){return Array.from(this.providers.values())},ie}();it.Component=j,it.ComponentContainer=Ge,it.Provider=z},61925:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(39278),E=N(44255),j=N(1270),Pe=N(64003),z=N(46355);function Qe(g){return g&&"object"==typeof g&&"default"in g?g:{default:g}}var g,te=Qe(y),Ge=function(){function g(l){this.domStorage_=l,this.prefix_="firebase:"}return g.prototype.set=function(l,d){null==d?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),j.stringify(d))},g.prototype.get=function(l){var d=this.domStorage_.getItem(this.prefixedName_(l));return null==d?null:j.jsonEval(d)},g.prototype.remove=function(l){this.domStorage_.removeItem(this.prefixedName_(l))},g.prototype.prefixedName_=function(l){return this.prefix_+l},g.prototype.toString=function(){return this.domStorage_.toString()},g}(),ie=function(){function g(){this.cache_={},this.isInMemoryStorage=!0}return g.prototype.set=function(l,d){null==d?delete this.cache_[l]:this.cache_[l]=d},g.prototype.get=function(l){return j.contains(this.cache_,l)?this.cache_[l]:null},g.prototype.remove=function(l){delete this.cache_[l]},g}(),K=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){var l=window[g];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new Ge(l)}}catch{}return new ie},Ae=K("localStorage"),Se=K("sessionStorage"),Fe=new Pe.Logger("@firebase/database"),bt=(g=1,function(){return g++}),Zt=function(g){var l=j.stringToByteArray(g),d=new j.Sha1;d.update(l);var b=d.digest();return j.base64.encodeByteArray(b)},Wt=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];for(var d="",b=0;b<g.length;b++){var A=g[b];Array.isArray(A)||A&&"object"==typeof A&&"number"==typeof A.length?d+=Wt.apply(null,A):d+="object"==typeof A?j.stringify(A):A,d+=" "}return d},ye=null,Nt=!0,yt=function(g,l){j.assert(!l||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(Fe.logLevel=Pe.LogLevel.VERBOSE,ye=Fe.log.bind(Fe),l&&Se.set("logging_enabled",!0)):"function"==typeof g?ye=g:(ye=null,Se.remove("logging_enabled"))},en=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];if(!0===Nt&&(Nt=!1,null===ye&&!0===Se.get("logging_enabled")&&yt(!0)),ye){var d=Wt.apply(null,g);ye(d)}},Ot=function(g){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];en.apply(void 0,E.__spread([g],l))}},Le=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE INTERNAL ERROR: "+Wt.apply(void 0,E.__spread(g));Fe.error(d)},Me=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE FATAL ERROR: "+Wt.apply(void 0,E.__spread(g));throw Fe.error(d),new Error(d)},tt=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE WARNING: "+Wt.apply(void 0,E.__spread(g));Fe.warn(d)},k=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},W="[MIN_NAME]",J="[MAX_NAME]",R=function(g,l){if(g===l)return 0;if(g===W||l===J)return-1;if(l===W||g===J)return 1;var d=Ue(g),b=Ue(l);return null!==d?null!==b?d-b==0?g.length-l.length:d-b:-1:null!==b?1:g<l?-1:1},ge=function(g,l){return g===l?0:g<l?-1:1},Ke=function(g,l){if(l&&g in l)return l[g];throw new Error("Missing required key ("+g+") in object: "+j.stringify(l))},Tn=function(g){if("object"!=typeof g||null===g)return j.stringify(g);var l=[];for(var d in g)l.push(d);l.sort();for(var b="{",A=0;A<l.length;A++)0!==A&&(b+=","),b+=j.stringify(l[A]),b+=":",b+=Tn(g[l[A]]);return b+"}"},He=function(g,l){var d=g.length;if(d<=l)return[g];for(var b=[],A=0;A<d;A+=l)b.push(g.substring(A,A+l>d?d:A+l));return b};function ct(g,l){for(var d in g)g.hasOwnProperty(d)&&l(d,g[d])}var Yt,ot,Ft,Zn,Cn,Mt,at=function(g){j.assert(!k(g),"Invalid JSON number");var A,U,de,Ce,ut,b=1023;0===g?(U=0,de=0,A=1/g==-1/0?1:0):(A=g<0,(g=Math.abs(g))>=Math.pow(2,1-b)?(U=(Ce=Math.min(Math.floor(Math.log(g)/Math.LN2),b))+b,de=Math.round(g*Math.pow(2,52-Ce)-Math.pow(2,52))):(U=0,de=Math.round(g/Math.pow(2,-1074))));var et=[];for(ut=52;ut;ut-=1)et.push(de%2?1:0),de=Math.floor(de/2);for(ut=11;ut;ut-=1)et.push(U%2?1:0),U=Math.floor(U/2);et.push(A?1:0),et.reverse();var tn=et.join(""),yn="";for(ut=0;ut<64;ut+=8){var In=parseInt(tn.substr(ut,8),2).toString(16);1===In.length&&(In="0"+In),yn+=In}return yn.toLowerCase()},Ne=new RegExp("^-?(0*)\\d{1,10}$"),Ue=function(g){if(Ne.test(g)){var l=Number(g);if(l>=-2147483648&&l<=2147483647)return l}return null},ht=function(g){try{g()}catch(l){setTimeout(function(){throw tt("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Et=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gn=function(g,l){var d=setTimeout(g,l);return"object"==typeof d&&d.unref&&d.unref(),d},_t=function(){function g(l,d){if(void 0===d){this.pieces_=l.split("/");for(var b=0,A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[b]=this.pieces_[A],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=d}return Object.defineProperty(g,"Empty",{get:function(){return new g("")},enumerable:!1,configurable:!0}),g.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},g.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},g.prototype.popFront=function(){var l=this.pieceNum_;return l<this.pieces_.length&&l++,new g(this.pieces_,l)},g.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},g.prototype.toString=function(){for(var l="",d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(l+="/"+this.pieces_[d]);return l||"/"},g.prototype.toUrlEncodedString=function(){for(var l="",d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(l+="/"+encodeURIComponent(String(this.pieces_[d])));return l||"/"},g.prototype.slice=function(l){return void 0===l&&(l=0),this.pieces_.slice(this.pieceNum_+l)},g.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var l=[],d=this.pieceNum_;d<this.pieces_.length-1;d++)l.push(this.pieces_[d]);return new g(l,0)},g.prototype.child=function(l){for(var d=[],b=this.pieceNum_;b<this.pieces_.length;b++)d.push(this.pieces_[b]);if(l instanceof g)for(b=l.pieceNum_;b<l.pieces_.length;b++)d.push(l.pieces_[b]);else{var A=l.split("/");for(b=0;b<A.length;b++)A[b].length>0&&d.push(A[b])}return new g(d,0)},g.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},g.relativePath=function(l,d){var b=l.getFront(),A=d.getFront();if(null===b)return d;if(b===A)return g.relativePath(l.popFront(),d.popFront());throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+l+")")},g.comparePaths=function(l,d){for(var b=l.slice(),A=d.slice(),U=0;U<b.length&&U<A.length;U++){var de=R(b[U],A[U]);if(0!==de)return de}return b.length===A.length?0:b.length<A.length?-1:1},g.prototype.equals=function(l){if(this.getLength()!==l.getLength())return!1;for(var d=this.pieceNum_,b=l.pieceNum_;d<=this.pieces_.length;d++,b++)if(this.pieces_[d]!==l.pieces_[b])return!1;return!0},g.prototype.contains=function(l){var d=this.pieceNum_,b=l.pieceNum_;if(this.getLength()>l.getLength())return!1;for(;d<this.pieces_.length;){if(this.pieces_[d]!==l.pieces_[b])return!1;++d,++b}return!0},g}(),an=function(){function g(l,d){this.errorPrefix_=d,this.parts_=l.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=j.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(g,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(g,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),g.prototype.push=function(l){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(l),this.byteLength_+=j.stringLength(l),this.checkValid_()},g.prototype.pop=function(){var l=this.parts_.pop();this.byteLength_-=j.stringLength(l),this.parts_.length>0&&(this.byteLength_-=1)},g.prototype.checkValid_=function(){if(this.byteLength_>g.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+g.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>g.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},g.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},g}(),xn="firebaseio.com",Nn="websocket",Dr="long_polling",pn=function(){function g(l,d,b,A,U,de,Ce){void 0===U&&(U=!1),void 0===de&&(de=""),void 0===Ce&&(Ce=!1),this.secure=d,this.namespace=b,this.webSocketOnly=A,this.nodeAdmin=U,this.persistenceKey=de,this.includeNamespaceInQueryParams=Ce,this.host=l.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Ae.get("host:"+l)||this.host}return g.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},g.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},g.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},g.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},g.prototype.updateHost=function(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&Ae.set("host:"+this.host,this.internalHost))},g.prototype.connectionURL=function(l,d){var b;if(j.assert("string"==typeof l,"typeof type must == string"),j.assert("object"==typeof d,"typeof params must == object"),l===Nn)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(l!==Dr)throw new Error("Unknown connection type: "+l);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(d.ns=this.namespace);var A=[];return ct(d,function(U,de){A.push(U+"="+de)}),b+A.join("&")},g.prototype.toString=function(){var l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l},g.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},g}(),Bt=function(g,l){var d=Qt(g),b=d.namespace;return"firebase.com"===d.domain&&Me(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==d.domain&&Me("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pn(d.host,d.secure,b,l,"ws"===d.scheme||"wss"===d.scheme,"",b!==d.subdomain),path:new _t(d.pathString)}},Qt=function(g){var l="",d="",b="",A="",U="",de=!0,Ce="https",ut=443;if("string"==typeof g){var et=g.indexOf("//");et>=0&&(Ce=g.substring(0,et-1),g=g.substring(et+2));var tn=g.indexOf("/");-1===tn&&(tn=g.length);var yn=g.indexOf("?");-1===yn&&(yn=g.length),l=g.substring(0,Math.min(tn,yn)),tn<yn&&(A=function Oe(g){for(var l="",d=g.split("/"),b=0;b<d.length;b++)if(d[b].length>0){var A=d[b];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch{}l+="/"+A}return l}(g.substring(tn,yn)));var In=function vt(g){var l,d,b={};"?"===g.charAt(0)&&(g=g.substring(1));try{for(var A=E.__values(g.split("&")),U=A.next();!U.done;U=A.next()){var de=U.value;if(0!==de.length){var Ce=de.split("=");2===Ce.length?b[decodeURIComponent(Ce[0])]=decodeURIComponent(Ce[1]):tt("Invalid query segment '"+de+"' in query '"+g+"'")}}}catch(ut){l={error:ut}}finally{try{U&&!U.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}return b}(g.substring(Math.min(g.length,yn)));(et=l.indexOf(":"))>=0?(de="https"===Ce||"wss"===Ce,ut=parseInt(l.substring(et+1),10)):et=l.length;var Gn=l.slice(0,et);if("localhost"===Gn.toLowerCase())d="localhost";else if(Gn.split(".").length<=2)d=Gn;else{var X=l.indexOf(".");b=l.substring(0,X).toLowerCase(),d=l.substring(X+1),U=b}"ns"in In&&(U=In.ns)}return{host:l,port:ut,domain:d,subdomain:b,secure:de,scheme:Ce,pathString:A,namespace:U}},mn=/[\[\].#$\/\u0000-\u001F\u007F]/,Je=/[\[\].#$\u0000-\u001F\u007F]/,Ee=10485760,xt=function(g){return"string"==typeof g&&0!==g.length&&!mn.test(g)},Rt=function(g){return"string"==typeof g&&0!==g.length&&!Je.test(g)},En=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!k(g)||g&&"object"==typeof g&&j.contains(g,".sv")},On=function(g,l,d,b,A){A&&void 0===d||Wn(j.errorPrefix(g,l,A),d,b)},Wn=function(g,l,d){var b=d instanceof _t?new an(d,g):d;if(void 0===l)throw new Error(g+"contains undefined "+b.toErrorString());if("function"==typeof l)throw new Error(g+"contains a function "+b.toErrorString()+" with contents = "+l.toString());if(k(l))throw new Error(g+"contains "+l.toString()+" "+b.toErrorString());if("string"==typeof l&&l.length>Ee/3&&j.stringLength(l)>Ee)throw new Error(g+"contains a string greater than "+Ee+" utf8 bytes "+b.toErrorString()+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){var A=!1,U=!1;if(ct(l,function(de,Ce){if(".value"===de)A=!0;else if(".priority"!==de&&".sv"!==de&&(U=!0,!xt(de)))throw new Error(g+" contains an invalid key ("+de+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(de),Wn(g,Ce,b),b.pop()}),A&&U)throw new Error(g+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},Rn=function(g,l,d,b,A){if(!A||void 0!==d){var U=j.errorPrefix(g,l,A);if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(U+" must be an object containing the children to replace.");var de=[];ct(d,function(Ce,ut){var et=new _t(Ce);if(Wn(U,ut,b.child(et)),".priority"===et.getBack()&&!En(ut))throw new Error(U+"contains an invalid value for '"+et.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");de.push(et)}),function(g,l){var d,b;for(d=0;d<l.length;d++)for(var A=(b=l[d]).slice(),U=0;U<A.length;U++)if((".priority"!==A[U]||U!==A.length-1)&&!xt(A[U]))throw new Error(g+"contains an invalid key ("+A[U]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.sort(_t.comparePaths);var de=null;for(d=0;d<l.length;d++){if(b=l[d],null!==de&&de.contains(b))throw new Error(g+"contains a path "+de.toString()+" that is ancestor of another path "+b.toString());de=b}}(U,de)}},nr=function(g,l,d,b){if(!b||void 0!==d){if(k(d))throw new Error(j.errorPrefix(g,l,b)+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!En(d))throw new Error(j.errorPrefix(g,l,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xr=function(g,l,d,b){if(!b||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(j.errorPrefix(g,l,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},hn=function(g,l,d,b){if(!(b&&void 0===d||xt(d)))throw new Error(j.errorPrefix(g,l,b)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pt=function(g,l,d,b){if(!(b&&void 0===d||Rt(d)))throw new Error(j.errorPrefix(g,l,b)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vt=function(g,l,d,b){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Pt(g,l,d,b)},Te=function(g,l){if(".info"===l.getFront())throw new Error(g+" failed = Can't modify data under /.info/")},le=function(g,l,d){var b=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!xt(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==b.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Rt(g)}(b))throw new Error(j.errorPrefix(g,l,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ae=function(g,l,d,b){if((!b||void 0!==d)&&"boolean"!=typeof d)throw new Error(j.errorPrefix(g,l,b)+"must be a boolean.")},rt=function(){function g(l,d){this.repo_=l,this.path_=d}return g.prototype.cancel=function(l){j.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),j.validateCallback("OnDisconnect.cancel",1,l,!0);var d=new j.Deferred;return this.repo_.onDisconnectCancel(this.path_,d.wrapCallback(l)),d.promise},g.prototype.remove=function(l){j.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Te("OnDisconnect.remove",this.path_),j.validateCallback("OnDisconnect.remove",1,l,!0);var d=new j.Deferred;return this.repo_.onDisconnectSet(this.path_,null,d.wrapCallback(l)),d.promise},g.prototype.set=function(l,d){j.validateArgCount("OnDisconnect.set",1,2,arguments.length),Te("OnDisconnect.set",this.path_),On("OnDisconnect.set",1,l,this.path_,!1),j.validateCallback("OnDisconnect.set",2,d,!0);var b=new j.Deferred;return this.repo_.onDisconnectSet(this.path_,l,b.wrapCallback(d)),b.promise},g.prototype.setWithPriority=function(l,d,b){j.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Te("OnDisconnect.setWithPriority",this.path_),On("OnDisconnect.setWithPriority",1,l,this.path_,!1),nr("OnDisconnect.setWithPriority",2,d,!1),j.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var A=new j.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,l,d,A.wrapCallback(b)),A.promise},g.prototype.update=function(l,d){if(j.validateArgCount("OnDisconnect.update",1,2,arguments.length),Te("OnDisconnect.update",this.path_),Array.isArray(l)){for(var b={},A=0;A<l.length;++A)b[""+A]=l[A];l=b,tt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rn("OnDisconnect.update",1,l,this.path_,!1),j.validateCallback("OnDisconnect.update",2,d,!0);var U=new j.Deferred;return this.repo_.onDisconnectUpdate(this.path_,l,U.wrapCallback(d)),U.promise},g}(),Tt=function(){function g(l,d){this.committed=l,this.snapshot=d}return g.prototype.toJSON=function(){return j.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}(),bn=function(){var g="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",l=0,d=[];return function(b){var A=b===l;l=b;var U,de=new Array(8);for(U=7;U>=0;U--)de[U]=g.charAt(b%64),b=Math.floor(b/64);j.assert(0===b,"Cannot push at time == 0");var Ce=de.join("");if(A){for(U=11;U>=0&&63===d[U];U--)d[U]=0;d[U]++}else for(U=0;U<12;U++)d[U]=Math.floor(64*Math.random());for(U=0;U<12;U++)Ce+=g.charAt(d[U]);return j.assert(20===Ce.length,"nextPushId: Length should be 20."),Ce}}(),xe=function(){function g(l,d){this.name=l,this.node=d}return g.Wrap=function(l,d){return new g(l,d)},g}(),Ct=function(){function g(){}return g.prototype.getCompare=function(){return this.compare.bind(this)},g.prototype.indexedValueChanged=function(l,d){var b=new xe(W,l),A=new xe(W,d);return 0!==this.compare(b,A)},g.prototype.minPost=function(){return xe.MIN},g}(),ln=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return E.__extends(l,g),Object.defineProperty(l,"__EMPTY_NODE",{get:function(){return Yt},set:function(d){Yt=d},enumerable:!1,configurable:!0}),l.prototype.compare=function(d,b){return R(d.name,b.name)},l.prototype.isDefinedOn=function(d){throw j.assertionError("KeyIndex.isDefinedOn not expected to be called.")},l.prototype.indexedValueChanged=function(d,b){return!1},l.prototype.minPost=function(){return xe.MIN},l.prototype.maxPost=function(){return new xe(J,Yt)},l.prototype.makePost=function(d,b){return j.assert("string"==typeof d,"KeyIndex indexValue must always be a string."),new xe(d,Yt)},l.prototype.toString=function(){return".key"},l}(Ct),qt=new ln,De=function(g){return"number"==typeof g?"number:"+at(g):"string:"+g},Dt=function(g){if(g.isLeafNode()){var l=g.val();j.assert("string"==typeof l||"number"==typeof l||"object"==typeof l&&j.contains(l,".sv"),"Priority must be a string or number.")}else j.assert(g===ot||g.isEmpty(),"priority of unexpected type.");j.assert(g===ot||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vn=function(){function g(l,d){void 0===d&&(d=g.__childrenNodeConstructor.EMPTY_NODE),this.value_=l,this.priorityNode_=d,this.lazyHash_=null,j.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Dt(this.priorityNode_)}return Object.defineProperty(g,"__childrenNodeConstructor",{get:function(){return Ft},set:function(l){Ft=l},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!0},g.prototype.getPriority=function(){return this.priorityNode_},g.prototype.updatePriority=function(l){return new g(this.value_,l)},g.prototype.getImmediateChild=function(l){return".priority"===l?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.getChild=function(l){return l.isEmpty()?this:".priority"===l.getFront()?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.hasChild=function(){return!1},g.prototype.getPredecessorChildName=function(l,d){return null},g.prototype.updateImmediateChild=function(l,d){return".priority"===l?this.updatePriority(d):d.isEmpty()&&".priority"!==l?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,d).updatePriority(this.priorityNode_)},g.prototype.updateChild=function(l,d){var b=l.getFront();return null===b?d:d.isEmpty()&&".priority"!==b?this:(j.assert(".priority"!==b||1===l.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(l.popFront(),d)))},g.prototype.isEmpty=function(){return!1},g.prototype.numChildren=function(){return 0},g.prototype.forEachChild=function(l,d){return!1},g.prototype.val=function(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},g.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.priorityNode_.isEmpty()||(l+="priority:"+De(this.priorityNode_.val())+":");var d=typeof this.value_;l+=d+":",l+="number"===d?at(this.value_):this.value_,this.lazyHash_=Zt(l)}return this.lazyHash_},g.prototype.getValue=function(){return this.value_},g.prototype.compareTo=function(l){return l===g.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof g.__childrenNodeConstructor?-1:(j.assert(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))},g.prototype.compareToLeafNode_=function(l){var d=typeof l.value_,b=typeof this.value_,A=g.VALUE_TYPE_ORDER.indexOf(d),U=g.VALUE_TYPE_ORDER.indexOf(b);return j.assert(A>=0,"Unknown leaf type: "+d),j.assert(U>=0,"Unknown leaf type: "+b),A===U?"object"===b?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:U-A},g.prototype.withIndex=function(){return this},g.prototype.isIndexed=function(){return!0},g.prototype.equals=function(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))},g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g}(),st=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return E.__extends(l,g),l.prototype.compare=function(d,b){var A=d.node.getPriority(),U=b.node.getPriority(),de=A.compareTo(U);return 0===de?R(d.name,b.name):de},l.prototype.isDefinedOn=function(d){return!d.getPriority().isEmpty()},l.prototype.indexedValueChanged=function(d,b){return!d.getPriority().equals(b.getPriority())},l.prototype.minPost=function(){return xe.MIN},l.prototype.maxPost=function(){return new xe(J,new vn("[PRIORITY-POST]",Cn))},l.prototype.makePost=function(d,b){var A=Zn(d);return new xe(b,new vn("[PRIORITY-POST]",A))},l.prototype.toString=function(){return".priority"},l}(Ct),pt=new st,St=function(){function g(l,d,b,A,U){void 0===U&&(U=null),this.isReverse_=A,this.resultGenerator_=U,this.nodeStack_=[];for(var de=1;!l.isEmpty();)if(de=d?b(l.key,d):1,A&&(de*=-1),de<0)l=this.isReverse_?l.left:l.right;else{if(0===de){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}return g.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var d,l=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return d},g.prototype.hasNext=function(){return this.nodeStack_.length>0},g.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}},g}(),zt=function(){function g(l,d,b,A,U){this.key=l,this.value=d,this.color=b??g.RED,this.left=A??q.EMPTY_NODE,this.right=U??q.EMPTY_NODE}return g.prototype.copy=function(l,d,b,A,U){return new g(l??this.key,d??this.value,b??this.color,A??this.left,U??this.right)},g.prototype.count=function(){return this.left.count()+1+this.right.count()},g.prototype.isEmpty=function(){return!1},g.prototype.inorderTraversal=function(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)},g.prototype.reverseTraversal=function(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)},g.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},g.prototype.minKey=function(){return this.min_().key},g.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},g.prototype.insert=function(l,d,b){var A=this,U=b(l,A.key);return(A=U<0?A.copy(null,null,null,A.left.insert(l,d,b),null):0===U?A.copy(null,d,null,null,null):A.copy(null,null,null,null,A.right.insert(l,d,b))).fixUp_()},g.prototype.removeMin_=function(){if(this.left.isEmpty())return q.EMPTY_NODE;var l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),(l=l.copy(null,null,null,l.left.removeMin_(),null)).fixUp_()},g.prototype.remove=function(l,d){var b,A;if(d(l,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(l,d),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===d(l,b.key)){if(b.right.isEmpty())return q.EMPTY_NODE;A=b.right.min_(),b=b.copy(A.key,A.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(l,d))}return b.fixUp_()},g.prototype.isRed_=function(){return this.color},g.prototype.fixUp_=function(){var l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l},g.prototype.moveRedLeft_=function(){var l=this.colorFlip_();return l.right.left.isRed_()&&(l=(l=(l=l.copy(null,null,null,null,l.right.rotateRight_())).rotateLeft_()).colorFlip_()),l},g.prototype.moveRedRight_=function(){var l=this.colorFlip_();return l.left.left.isRed_()&&(l=(l=l.rotateRight_()).colorFlip_()),l},g.prototype.rotateLeft_=function(){var l=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},g.prototype.rotateRight_=function(){var l=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},g.prototype.colorFlip_=function(){var l=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,d)},g.prototype.checkMaxDepth_=function(){var l=this.check_();return Math.pow(2,l)<=this.count()+1},g.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)},g.RED=!0,g.BLACK=!1,g}(),ke=function(){function g(){}return g.prototype.copy=function(l,d,b,A,U){return this},g.prototype.insert=function(l,d,b){return new zt(l,d,null)},g.prototype.remove=function(l,d){return this},g.prototype.count=function(){return 0},g.prototype.isEmpty=function(){return!0},g.prototype.inorderTraversal=function(l){return!1},g.prototype.reverseTraversal=function(l){return!1},g.prototype.minKey=function(){return null},g.prototype.maxKey=function(){return null},g.prototype.check_=function(){return 0},g.prototype.isRed_=function(){return!1},g}(),q=function(){function g(l,d){void 0===d&&(d=g.EMPTY_NODE),this.comparator_=l,this.root_=d}return g.prototype.insert=function(l,d){return new g(this.comparator_,this.root_.insert(l,d,this.comparator_).copy(null,null,zt.BLACK,null,null))},g.prototype.remove=function(l){return new g(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,zt.BLACK,null,null))},g.prototype.get=function(l){for(var d,b=this.root_;!b.isEmpty();){if(0===(d=this.comparator_(l,b.key)))return b.value;d<0?b=b.left:d>0&&(b=b.right)}return null},g.prototype.getPredecessorKey=function(l){for(var d,b=this.root_,A=null;!b.isEmpty();){if(0===(d=this.comparator_(l,b.key))){if(b.left.isEmpty())return A?A.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}d<0?b=b.left:d>0&&(A=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},g.prototype.isEmpty=function(){return this.root_.isEmpty()},g.prototype.count=function(){return this.root_.count()},g.prototype.minKey=function(){return this.root_.minKey()},g.prototype.maxKey=function(){return this.root_.maxKey()},g.prototype.inorderTraversal=function(l){return this.root_.inorderTraversal(l)},g.prototype.reverseTraversal=function(l){return this.root_.reverseTraversal(l)},g.prototype.getIterator=function(l){return new St(this.root_,null,this.comparator_,!1,l)},g.prototype.getIteratorFrom=function(l,d){return new St(this.root_,l,this.comparator_,!1,d)},g.prototype.getReverseIteratorFrom=function(l,d){return new St(this.root_,l,this.comparator_,!0,d)},g.prototype.getReverseIterator=function(l){return new St(this.root_,null,this.comparator_,!0,l)},g.EMPTY_NODE=new ke,g}(),be=Math.log(2),$e=function(){function g(l){this.count=parseInt(Math.log(l+1)/be,10),this.current_=this.count-1;var A=parseInt(Array(this.count+1).join("1"),2);this.bits_=l+1&A}return g.prototype.nextBitIsOne=function(){var l=!(this.bits_&1<<this.current_);return this.current_--,l},g}(),mt=function(g,l,d,b){g.sort(l);var A=function(ut,et){var yn,In,tn=et-ut;if(0===tn)return null;if(1===tn)return yn=g[ut],In=d?d(yn):yn,new zt(In,yn.node,zt.BLACK,null,null);var Gn=parseInt(tn/2,10)+ut,X=A(ut,Gn),D=A(Gn+1,et);return yn=g[Gn],In=d?d(yn):yn,new zt(In,yn.node,zt.BLACK,X,D)},Ce=function(ut){for(var et=null,tn=null,yn=g.length,In=function(L,ue){var Ye=yn-L,lt=yn;yn-=L;var kt=A(Ye+1,lt),rn=g[Ye],An=d?d(rn):rn;Gn(new zt(An,rn.node,ue,null,kt))},Gn=function(L){et?(et.left=L,et=L):(tn=L,et=L)},X=0;X<ut.count;++X){var D=ut.nextBitIsOne(),S=Math.pow(2,ut.count-(X+1));D?In(S,zt.BLACK):(In(S,zt.BLACK),In(S,zt.RED))}return tn}(new $e(g.length));return new q(b||l,Ce)},Lt={},Yn=function(){function g(l,d){this.indexes_=l,this.indexSet_=d}return Object.defineProperty(g,"Default",{get:function(){return j.assert(Lt&&pt,"ChildrenNode.ts has not been loaded"),Mt=Mt||new g({".priority":Lt},{".priority":pt})},enumerable:!1,configurable:!0}),g.prototype.get=function(l){var d=j.safeGet(this.indexes_,l);if(!d)throw new Error("No index defined for "+l);return d instanceof q?d:null},g.prototype.hasIndex=function(l){return j.contains(this.indexSet_,l.toString())},g.prototype.addIndex=function(l,d){j.assert(l!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],A=!1,U=d.getIterator(xe.Wrap),de=U.getNext();de;)A=A||l.isDefinedOn(de.node),b.push(de),de=U.getNext();var Ce;Ce=A?mt(b,l.getCompare()):Lt;var ut=l.toString(),et=E.__assign({},this.indexSet_);et[ut]=l;var tn=E.__assign({},this.indexes_);return tn[ut]=Ce,new g(tn,et)},g.prototype.addToIndexes=function(l,d){var b=this;return new g(j.map(this.indexes_,function(U,de){var Ce=j.safeGet(b.indexSet_,de);if(j.assert(Ce,"Missing index implementation for "+de),U===Lt){if(Ce.isDefinedOn(l.node)){for(var ut=[],et=d.getIterator(xe.Wrap),tn=et.getNext();tn;)tn.name!==l.name&&ut.push(tn),tn=et.getNext();return ut.push(l),mt(ut,Ce.getCompare())}return Lt}var yn=d.get(l.name),In=U;return yn&&(In=In.remove(new xe(l.name,yn))),In.insert(l,l.node)}),this.indexSet_)},g.prototype.removeFromIndexes=function(l,d){return new g(j.map(this.indexes_,function(A){if(A===Lt)return A;var U=d.get(l.name);return U?A.remove(new xe(l.name,U)):A}),this.indexSet_)},g}();function Kn(g,l){return R(g.name,l.name)}function mr(g,l){return R(g,l)}var rr,dn=function(){function g(l,d,b){this.children_=l,this.priorityNode_=d,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&Dt(this.priorityNode_),this.children_.isEmpty()&&j.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(g,"EMPTY_NODE",{get:function(){return rr||(rr=new g(new q(mr),null,Yn.Default))},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!1},g.prototype.getPriority=function(){return this.priorityNode_||rr},g.prototype.updatePriority=function(l){return this.children_.isEmpty()?this:new g(this.children_,l,this.indexMap_)},g.prototype.getImmediateChild=function(l){if(".priority"===l)return this.getPriority();var d=this.children_.get(l);return null===d?rr:d},g.prototype.getChild=function(l){var d=l.getFront();return null===d?this:this.getImmediateChild(d).getChild(l.popFront())},g.prototype.hasChild=function(l){return null!==this.children_.get(l)},g.prototype.updateImmediateChild=function(l,d){if(j.assert(d,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(d);var b=new xe(l,d),A=void 0,U=void 0;d.isEmpty()?(A=this.children_.remove(l),U=this.indexMap_.removeFromIndexes(b,this.children_)):(A=this.children_.insert(l,d),U=this.indexMap_.addToIndexes(b,this.children_));var de=A.isEmpty()?rr:this.priorityNode_;return new g(A,de,U)},g.prototype.updateChild=function(l,d){var b=l.getFront();if(null===b)return d;j.assert(".priority"!==l.getFront()||1===l.getLength(),".priority must be the last token in a path");var A=this.getImmediateChild(b).updateChild(l.popFront(),d);return this.updateImmediateChild(b,A)},g.prototype.isEmpty=function(){return this.children_.isEmpty()},g.prototype.numChildren=function(){return this.children_.count()},g.prototype.val=function(l){if(this.isEmpty())return null;var d={},b=0,A=0,U=!0;if(this.forEachChild(pt,function(ut,et){d[ut]=et.val(l),b++,U&&g.INTEGER_REGEXP_.test(ut)?A=Math.max(A,Number(ut)):U=!1}),!l&&U&&A<2*b){var de=[];for(var Ce in d)de[Ce]=d[Ce];return de}return l&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d},g.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.getPriority().isEmpty()||(l+="priority:"+De(this.getPriority().val())+":"),this.forEachChild(pt,function(d,b){var A=b.hash();""!==A&&(l+=":"+d+":"+A)}),this.lazyHash_=""===l?"":Zt(l)}return this.lazyHash_},g.prototype.getPredecessorChildName=function(l,d,b){var A=this.resolveIndex_(b);if(A){var U=A.getPredecessorKey(new xe(l,d));return U?U.name:null}return this.children_.getPredecessorKey(l)},g.prototype.getFirstChildName=function(l){var d=this.resolveIndex_(l);if(d){var b=d.minKey();return b&&b.name}return this.children_.minKey()},g.prototype.getFirstChild=function(l){var d=this.getFirstChildName(l);return d?new xe(d,this.children_.get(d)):null},g.prototype.getLastChildName=function(l){var d=this.resolveIndex_(l);if(d){var b=d.maxKey();return b&&b.name}return this.children_.maxKey()},g.prototype.getLastChild=function(l){var d=this.getLastChildName(l);return d?new xe(d,this.children_.get(d)):null},g.prototype.forEachChild=function(l,d){var b=this.resolveIndex_(l);return b?b.inorderTraversal(function(A){return d(A.name,A.node)}):this.children_.inorderTraversal(d)},g.prototype.getIterator=function(l){return this.getIteratorFrom(l.minPost(),l)},g.prototype.getIteratorFrom=function(l,d){var b=this.resolveIndex_(d);if(b)return b.getIteratorFrom(l,function(de){return de});for(var A=this.children_.getIteratorFrom(l.name,xe.Wrap),U=A.peek();null!=U&&d.compare(U,l)<0;)A.getNext(),U=A.peek();return A},g.prototype.getReverseIterator=function(l){return this.getReverseIteratorFrom(l.maxPost(),l)},g.prototype.getReverseIteratorFrom=function(l,d){var b=this.resolveIndex_(d);if(b)return b.getReverseIteratorFrom(l,function(de){return de});for(var A=this.children_.getReverseIteratorFrom(l.name,xe.Wrap),U=A.peek();null!=U&&d.compare(U,l)>0;)A.getNext(),U=A.peek();return A},g.prototype.compareTo=function(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===fr?-1:0},g.prototype.withIndex=function(l){if(l===qt||this.indexMap_.hasIndex(l))return this;var d=this.indexMap_.addIndex(l,this.children_);return new g(this.children_,this.priorityNode_,d)},g.prototype.isIndexed=function(l){return l===qt||this.indexMap_.hasIndex(l)},g.prototype.equals=function(l){if(l===this)return!0;if(l.isLeafNode())return!1;var d=l;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){for(var b=this.getIterator(pt),A=d.getIterator(pt),U=b.getNext(),de=A.getNext();U&&de;){if(U.name!==de.name||!U.node.equals(de.node))return!1;U=b.getNext(),de=A.getNext()}return null===U&&null===de}return!1}return!1},g.prototype.resolveIndex_=function(l){return l===qt?null:this.indexMap_.get(l.toString())},g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g}(),sr=function(g){function l(){return g.call(this,new q(mr),dn.EMPTY_NODE,Yn.Default)||this}return E.__extends(l,g),l.prototype.compareTo=function(d){return d===this?0:1},l.prototype.equals=function(d){return d===this},l.prototype.getPriority=function(){return this},l.prototype.getImmediateChild=function(d){return dn.EMPTY_NODE},l.prototype.isEmpty=function(){return!1},l}(dn),fr=new sr;Object.defineProperties(xe,{MIN:{value:new xe(W,dn.EMPTY_NODE)},MAX:{value:new xe(J,fr)}}),ln.__EMPTY_NODE=dn.EMPTY_NODE,vn.__childrenNodeConstructor=dn,function nt(g){ot=g}(fr),function ei(g){Cn=g}(fr);var ai=!0;function Cr(g,l){if(void 0===l&&(l=null),null===g)return dn.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(l=g[".priority"]),j.assert(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new vn(g,Cr(l));if(g instanceof Array||!ai){var ut=dn.EMPTY_NODE;return ct(g,function(et,tn){if(j.contains(g,et)&&"."!==et.substring(0,1)){var yn=Cr(tn);(yn.isLeafNode()||!yn.isEmpty())&&(ut=ut.updateImmediateChild(et,yn))}}),ut.updatePriority(Cr(l))}var b=[],A=!1;if(ct(g,function(et,tn){if("."!==et.substring(0,1)){var yn=Cr(tn);yn.isEmpty()||(A=A||!yn.getPriority().isEmpty(),b.push(new xe(et,yn)))}}),0===b.length)return dn.EMPTY_NODE;var de=mt(b,Kn,function(et){return et.name},mr);if(A){var Ce=mt(b,pt.getCompare());return new dn(de,Cr(l),new Yn({".priority":Ce},{".priority":pt}))}return new dn(de,Cr(l),Yn.Default)}!function yr(g){Zn=g}(Cr);var io,xi=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return E.__extends(l,g),l.prototype.compare=function(d,b){var A=d.node.compareTo(b.node);return 0===A?R(d.name,b.name):A},l.prototype.isDefinedOn=function(d){return!0},l.prototype.indexedValueChanged=function(d,b){return!d.equals(b)},l.prototype.minPost=function(){return xe.MIN},l.prototype.maxPost=function(){return xe.MAX},l.prototype.makePost=function(d,b){var A=Cr(d);return new xe(b,A)},l.prototype.toString=function(){return".value"},l}(Ct),di=new xi,Mr=function(g){function l(d){var b=g.call(this)||this;return b.indexPath_=d,j.assert(!d.isEmpty()&&".priority"!==d.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return E.__extends(l,g),l.prototype.extractChild=function(d){return d.getChild(this.indexPath_)},l.prototype.isDefinedOn=function(d){return!d.getChild(this.indexPath_).isEmpty()},l.prototype.compare=function(d,b){var A=this.extractChild(d.node),U=this.extractChild(b.node),de=A.compareTo(U);return 0===de?R(d.name,b.name):de},l.prototype.makePost=function(d,b){var A=Cr(d),U=dn.EMPTY_NODE.updateChild(this.indexPath_,A);return new xe(b,U)},l.prototype.maxPost=function(){var d=dn.EMPTY_NODE.updateChild(this.indexPath_,fr);return new xe(J,d)},l.prototype.toString=function(){return this.indexPath_.slice().join("/")},l}(Ct),Bi=function(){function g(l,d,b){this.node_=l,this.ref_=d,this.index_=b}return g.prototype.val=function(){return j.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},g.prototype.exportVal=function(){return j.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},g.prototype.toJSON=function(){return j.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},g.prototype.exists=function(){return j.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},g.prototype.child=function(l){j.validateArgCount("DataSnapshot.child",0,1,arguments.length),l=String(l),Pt("DataSnapshot.child",1,l,!1);var d=new _t(l),b=this.ref_.child(d);return new g(this.node_.getChild(d),b,pt)},g.prototype.hasChild=function(l){j.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Pt("DataSnapshot.hasChild",1,l,!1);var d=new _t(l);return!this.node_.getChild(d).isEmpty()},g.prototype.getPriority=function(){return j.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},g.prototype.forEach=function(l){var d=this;return j.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),j.validateCallback("DataSnapshot.forEach",1,l,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(A,U){return l(new g(U,d.ref_.child(A),pt))})},g.prototype.hasChildren=function(){return j.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(g.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),g.prototype.numChildren=function(){return j.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},g.prototype.getRef=function(){return j.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Ni=function(){function g(l,d,b,A){this.eventType=l,this.eventRegistration=d,this.snapshot=b,this.prevName=A}return g.prototype.getPath=function(){var l=this.snapshot.getRef();return"value"===this.eventType?l.path:l.getParent().path},g.prototype.getEventType=function(){return this.eventType},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+j.stringify(this.snapshot.exportVal())},g}(),jr=function(){function g(l,d,b){this.eventRegistration=l,this.error=d,this.path=b}return g.prototype.getPath=function(){return this.path},g.prototype.getEventType=function(){return"cancel"},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.path.toString()+":cancel"},g}(),Qi=function(){function g(l,d,b){this.callback_=l,this.cancelCallback_=d,this.context_=b}return g.prototype.respondsTo=function(l){return"value"===l},g.prototype.createEvent=function(l,d){var b=d.getQueryParams().getIndex();return new Ni("value",this,new Bi(l.snapshotNode,d.getRef(),b))},g.prototype.getEventRunner=function(l){var d=this.context_;if("cancel"===l.getEventType()){j.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(d,l.error)}}var A=this.callback_;return function(){A.call(d,l.snapshot)}},g.prototype.createCancelEvent=function(l,d){return this.cancelCallback_?new jr(this,l,d):null},g.prototype.matches=function(l){return l instanceof g&&(!l.callback_||!this.callback_||l.callback_===this.callback_&&l.context_===this.context_)},g.prototype.hasAnyCallback=function(){return null!==this.callback_},g}(),ji=function(){function g(l,d,b){this.callbacks_=l,this.cancelCallback_=d,this.context_=b}return g.prototype.respondsTo=function(l){var d="children_added"===l?"child_added":l;return j.contains(this.callbacks_,d="children_removed"===d?"child_removed":d)},g.prototype.createCancelEvent=function(l,d){return this.cancelCallback_?new jr(this,l,d):null},g.prototype.createEvent=function(l,d){j.assert(null!=l.childName,"Child events should have a childName.");var b=d.getRef().child(l.childName),A=d.getQueryParams().getIndex();return new Ni(l.type,this,new Bi(l.snapshotNode,b,A),l.prevName)},g.prototype.getEventRunner=function(l){var d=this.context_;if("cancel"===l.getEventType()){j.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(d,l.error)}}var A=this.callbacks_[l.eventType];return function(){A.call(d,l.snapshot,l.prevName)}},g.prototype.matches=function(l){var d=this;if(l instanceof g){if(!this.callbacks_||!l.callbacks_)return!0;if(this.context_===l.context_){var b=Object.keys(l.callbacks_),A=Object.keys(this.callbacks_),U=b.length;if(U===A.length){if(1===U){var Ce=b[0],ut=A[0];return!(ut!==Ce||l.callbacks_[Ce]&&this.callbacks_[ut]&&l.callbacks_[Ce]!==this.callbacks_[ut])}return A.every(function(et){return l.callbacks_[et]===d.callbacks_[et]})}}}return!1},g.prototype.hasAnyCallback=function(){return null!==this.callbacks_},g}(),to=function(){function g(l,d,b,A){this.repo=l,this.path=d,this.queryParams_=b,this.orderByCalled_=A}return Object.defineProperty(g,"__referenceConstructor",{get:function(){return j.assert(io,"Reference.ts has not been loaded"),io},set:function(l){io=l},enumerable:!1,configurable:!0}),g.validateQueryEndpoints_=function(l){var d=null,b=null;if(l.hasStart()&&(d=l.getIndexStartValue()),l.hasEnd()&&(b=l.getIndexEndValue()),l.getIndex()===qt){var A="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",U="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(l.hasStart()){if(l.getIndexStartName()!==W)throw new Error(A);if("string"!=typeof d)throw new Error(U)}if(l.hasEnd()){if(l.getIndexEndName()!==J)throw new Error(A);if("string"!=typeof b)throw new Error(U)}}else if(l.getIndex()===pt){if(null!=d&&!En(d)||null!=b&&!En(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(j.assert(l.getIndex()instanceof Mr||l.getIndex()===di,"unknown index type."),null!=d&&"object"==typeof d||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},g.validateLimit_=function(l){if(l.hasStart()&&l.hasEnd()&&l.hasLimit()&&!l.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},g.prototype.validateNoPreviousOrderByCall_=function(l){if(!0===this.orderByCalled_)throw new Error(l+": You can't combine multiple orderBy calls.")},g.prototype.getQueryParams=function(){return this.queryParams_},g.prototype.getRef=function(){return j.validateArgCount("Query.ref",0,0,arguments.length),new g.__referenceConstructor(this.repo,this.path)},g.prototype.on=function(l,d,b,A){j.validateArgCount("Query.on",2,4,arguments.length),xr("Query.on",1,l,!1),j.validateCallback("Query.on",2,d,!1);var U=g.getCancelAndContextArgs_("Query.on",b,A);if("value"===l)this.onValueEvent(d,U.cancel,U.context);else{var de={};de[l]=d,this.onChildEvent(de,U.cancel,U.context)}return d},g.prototype.onValueEvent=function(l,d,b){var A=new Qi(l,d||null,b||null);this.repo.addEventCallbackForQuery(this,A)},g.prototype.onChildEvent=function(l,d,b){var A=new ji(l,d,b);this.repo.addEventCallbackForQuery(this,A)},g.prototype.off=function(l,d,b){j.validateArgCount("Query.off",0,3,arguments.length),xr("Query.off",1,l,!0),j.validateCallback("Query.off",2,d,!0),j.validateContextObject("Query.off",3,b,!0);var A=null,U=null;"value"===l?A=new Qi(d||null,null,b||null):l&&(d&&((U={})[l]=d),A=new ji(U,null,b||null)),this.repo.removeEventCallbackForQuery(this,A)},g.prototype.once=function(l,d,b,A){var U=this;j.validateArgCount("Query.once",1,4,arguments.length),xr("Query.once",1,l,!1),j.validateCallback("Query.once",2,d,!0);var de=g.getCancelAndContextArgs_("Query.once",b,A),Ce=!0,ut=new j.Deferred;ut.promise.catch(function(){});var et=function(tn){Ce&&(Ce=!1,U.off(l,et),d&&d.bind(de.context)(tn),ut.resolve(tn))};return this.on(l,et,function(tn){U.off(l,et),de.cancel&&de.cancel.bind(de.context)(tn),ut.reject(tn)}),ut.promise},g.prototype.limitToFirst=function(l){if(j.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new g(this.repo,this.path,this.queryParams_.limitToFirst(l),this.orderByCalled_)},g.prototype.limitToLast=function(l){if(j.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new g(this.repo,this.path,this.queryParams_.limitToLast(l),this.orderByCalled_)},g.prototype.orderByChild=function(l){if(j.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===l)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===l)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===l)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pt("Query.orderByChild",1,l,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var d=new _t(l);if(d.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new Mr(d),A=this.queryParams_.orderBy(b);return g.validateQueryEndpoints_(A),new g(this.repo,this.path,A,!0)},g.prototype.orderByKey=function(){j.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var l=this.queryParams_.orderBy(qt);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.orderByPriority=function(){j.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var l=this.queryParams_.orderBy(pt);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.orderByValue=function(){j.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var l=this.queryParams_.orderBy(di);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.startAt=function(l,d){void 0===l&&(l=null),j.validateArgCount("Query.startAt",0,2,arguments.length),On("Query.startAt",1,l,this.path,!0),hn("Query.startAt",2,d,!0);var b=this.queryParams_.startAt(l,d);if(g.validateLimit_(b),g.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===l&&(l=null,d=null),new g(this.repo,this.path,b,this.orderByCalled_)},g.prototype.endAt=function(l,d){void 0===l&&(l=null),j.validateArgCount("Query.endAt",0,2,arguments.length),On("Query.endAt",1,l,this.path,!0),hn("Query.endAt",2,d,!0);var b=this.queryParams_.endAt(l,d);if(g.validateLimit_(b),g.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new g(this.repo,this.path,b,this.orderByCalled_)},g.prototype.equalTo=function(l,d){if(j.validateArgCount("Query.equalTo",1,2,arguments.length),On("Query.equalTo",1,l,this.path,!1),hn("Query.equalTo",2,d,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(l,d).endAt(l,d)},g.prototype.toString=function(){return j.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},g.prototype.toJSON=function(){return j.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},g.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},g.prototype.queryIdentifier=function(){var l=this.queryObject(),d=Tn(l);return"{}"===d?"default":d},g.prototype.isEqual=function(l){if(j.validateArgCount("Query.isEqual",1,1,arguments.length),!(l instanceof g))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var b=this.repo===l.repo,A=this.path.equals(l.path),U=this.queryIdentifier()===l.queryIdentifier();return b&&A&&U},g.getCancelAndContextArgs_=function(l,d,b){var A={cancel:null,context:null};if(d&&b)A.cancel=d,j.validateCallback(l,3,A.cancel,!0),A.context=b,j.validateContextObject(l,4,A.context,!0);else if(d)if("object"==typeof d&&null!==d)A.context=d;else{if("function"!=typeof d)throw new Error(j.errorPrefix(l,3,!0)+" must either be a cancel callback or a context object.");A.cancel=d}return A},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Mi=function(){function g(l){this.node_=l}return g.prototype.getImmediateChild=function(l){return new g(this.node_.getImmediateChild(l))},g.prototype.node=function(){return this.node_},g}(),No=function(){function g(l,d){this.syncTree_=l,this.path_=d}return g.prototype.getImmediateChild=function(l){var d=this.path_.child(l);return new g(this.syncTree_,d)},g.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},g}(),ze=function(g,l,d){return g&&"object"==typeof g?(j.assert(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?pe(g[".sv"],l,d):"object"==typeof g[".sv"]?B(g[".sv"],l):void j.assert(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},pe=function(g,l,d){if("timestamp"===g)return d.timestamp;j.assert(!1,"Unexpected server value: "+g)},B=function(g,l,d){g.hasOwnProperty("increment")||j.assert(!1,"Unexpected server value: "+JSON.stringify(g,null,2));var b=g.increment;"number"!=typeof b&&j.assert(!1,"Unexpected increment value: "+b);var A=l.node();if(j.assert(null!==A&&typeof A<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return b;var de=A.getValue();return"number"!=typeof de?b:de+b},_e=function(g,l,d,b){return un(l,new No(d,g),b)},Xe=function(g,l,d){return un(g,new Mi(l),d)};function un(g,l,d){var U,b=g.getPriority().val(),A=ze(b,l.getImmediateChild(".priority"),d);if(g.isLeafNode()){var de=g,Ce=ze(de.getValue(),l,d);return Ce!==de.getValue()||A!==de.getPriority().val()?new vn(Ce,Cr(A)):g}var ut=g;return U=ut,A!==ut.getPriority().val()&&(U=U.updatePriority(new vn(A))),ut.forEachChild(pt,function(et,tn){var yn=un(tn,l.getImmediateChild(et),d);yn!==tn&&(U=U.updateImmediateChild(et,yn))}),U}var vr,Fo,$n=function(){function g(){this.value=null,this.children=new Map}return g.prototype.find=function(l){if(null!=this.value)return this.value.getChild(l);if(!l.isEmpty()&&this.children.size>0){var d=l.getFront();return l=l.popFront(),this.children.has(d)?this.children.get(d).find(l):null}return null},g.prototype.remember=function(l,d){if(l.isEmpty())this.value=d,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(l,d);else{var b=l.getFront();this.children.has(b)||this.children.set(b,new g);var A=this.children.get(b);l=l.popFront(),A.remember(l,d)}},g.prototype.forget=function(l){if(l.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var d=this.value;this.value=null;var b=this;return d.forEachChild(pt,function(de,Ce){b.remember(new _t(de),Ce)}),this.forget(l)}if(this.children.size>0){var A=l.getFront();return l=l.popFront(),this.children.has(A)&&this.children.get(A).forget(l)&&this.children.delete(A),0===this.children.size}return!0},g.prototype.forEachTree=function(l,d){null!==this.value?d(l,this.value):this.forEachChild(function(b,A){var U=new _t(l.toString()+"/"+b);A.forEachTree(U,d)})},g.prototype.forEachChild=function(l){this.children.forEach(function(d,b){l(b,d)})},g}(),ur=(()=>(function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ur||(ur={})),ur))(),kr=function(){function g(l,d,b,A){this.fromUser=l,this.fromServer=d,this.queryId=b,this.tagged=A,j.assert(!A||d,"Tagged queries must be from server.")}return g.User=new g(!0,!1,null,!1),g.Server=new g(!1,!0,null,!1),g.forServerTaggedQuery=function(l){return new g(!1,!0,l,!0)},g}(),gr=function(){function g(l,d,b){this.path=l,this.affectedTree=d,this.revert=b,this.type=ur.ACK_USER_WRITE,this.source=kr.User}return g.prototype.operationForChild=function(l){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return j.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var d=this.affectedTree.subtree(new _t(l));return new g(_t.Empty,d,this.revert)}return j.assert(this.path.getFront()===l,"operationForChild called for unrelated child."),new g(this.path.popFront(),this.affectedTree,this.revert)},g}(),ir=function(){return vr||(vr=new q(ge)),vr},ar=function(){function g(l,d){void 0===d&&(d=ir()),this.value=l,this.children=d}return g.fromObject=function(l){var d=g.Empty;return ct(l,function(b,A){d=d.set(new _t(b),A)}),d},g.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},g.prototype.findRootMostMatchingPathAndValue=function(l,d){if(null!=this.value&&d(this.value))return{path:_t.Empty,value:this.value};if(l.isEmpty())return null;var b=l.getFront(),A=this.children.get(b);if(null!==A){var U=A.findRootMostMatchingPathAndValue(l.popFront(),d);return null!=U?{path:new _t(b).child(U.path),value:U.value}:null}return null},g.prototype.findRootMostValueAndPath=function(l){return this.findRootMostMatchingPathAndValue(l,function(){return!0})},g.prototype.subtree=function(l){if(l.isEmpty())return this;var d=l.getFront(),b=this.children.get(d);return null!==b?b.subtree(l.popFront()):g.Empty},g.prototype.set=function(l,d){if(l.isEmpty())return new g(d,this.children);var b=l.getFront(),U=(this.children.get(b)||g.Empty).set(l.popFront(),d),de=this.children.insert(b,U);return new g(this.value,de)},g.prototype.remove=function(l){if(l.isEmpty())return this.children.isEmpty()?g.Empty:new g(null,this.children);var d=l.getFront(),b=this.children.get(d);if(b){var A=b.remove(l.popFront()),U=void 0;return U=A.isEmpty()?this.children.remove(d):this.children.insert(d,A),null===this.value&&U.isEmpty()?g.Empty:new g(this.value,U)}return this},g.prototype.get=function(l){if(l.isEmpty())return this.value;var d=l.getFront(),b=this.children.get(d);return b?b.get(l.popFront()):null},g.prototype.setTree=function(l,d){if(l.isEmpty())return d;var de,b=l.getFront(),U=(this.children.get(b)||g.Empty).setTree(l.popFront(),d);return de=U.isEmpty()?this.children.remove(b):this.children.insert(b,U),new g(this.value,de)},g.prototype.fold=function(l){return this.fold_(_t.Empty,l)},g.prototype.fold_=function(l,d){var b={};return this.children.inorderTraversal(function(A,U){b[A]=U.fold_(l.child(A),d)}),d(l,this.value,b)},g.prototype.findOnPath=function(l,d){return this.findOnPath_(l,_t.Empty,d)},g.prototype.findOnPath_=function(l,d,b){var A=!!this.value&&b(d,this.value);if(A)return A;if(l.isEmpty())return null;var U=l.getFront(),de=this.children.get(U);return de?de.findOnPath_(l.popFront(),d.child(U),b):null},g.prototype.foreachOnPath=function(l,d){return this.foreachOnPath_(l,_t.Empty,d)},g.prototype.foreachOnPath_=function(l,d,b){if(l.isEmpty())return this;this.value&&b(d,this.value);var A=l.getFront(),U=this.children.get(A);return U?U.foreachOnPath_(l.popFront(),d.child(A),b):g.Empty},g.prototype.foreach=function(l){this.foreach_(_t.Empty,l)},g.prototype.foreach_=function(l,d){this.children.inorderTraversal(function(b,A){A.foreach_(l.child(b),d)}),this.value&&d(l,this.value)},g.prototype.foreachChild=function(l){this.children.inorderTraversal(function(d,b){b.value&&l(d,b.value)})},g.Empty=new g(null),g}(),ki=function(){function g(l,d){this.source=l,this.path=d,this.type=ur.LISTEN_COMPLETE}return g.prototype.operationForChild=function(l){return this.path.isEmpty()?new g(this.source,_t.Empty):new g(this.source,this.path.popFront())},g}(),ao=function(){function g(l,d,b){this.source=l,this.path=d,this.snap=b,this.type=ur.OVERWRITE}return g.prototype.operationForChild=function(l){return this.path.isEmpty()?new g(this.source,_t.Empty,this.snap.getImmediateChild(l)):new g(this.source,this.path.popFront(),this.snap)},g}(),Oi=function(){function g(l,d,b){this.source=l,this.path=d,this.children=b,this.type=ur.MERGE}return g.prototype.operationForChild=function(l){if(this.path.isEmpty()){var d=this.children.subtree(new _t(l));return d.isEmpty()?null:d.value?new ao(this.source,_t.Empty,d.value):new g(this.source,_t.Empty,d)}return j.assert(this.path.getFront()===l,"Can't get a merge for a child not on the path of the operation"),new g(this.source,this.path.popFront(),this.children)},g.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g}(),Ki=function(){function g(l,d,b){this.node_=l,this.fullyInitialized_=d,this.filtered_=b}return g.prototype.isFullyInitialized=function(){return this.fullyInitialized_},g.prototype.isFiltered=function(){return this.filtered_},g.prototype.isCompleteForPath=function(l){if(l.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var d=l.getFront();return this.isCompleteForChild(d)},g.prototype.isCompleteForChild=function(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)},g.prototype.getNode=function(){return this.node_},g}(),Ai=function(){function g(l,d){this.eventCache_=l,this.serverCache_=d}return g.prototype.updateEventSnap=function(l,d,b){return new g(new Ki(l,d,b),this.serverCache_)},g.prototype.updateServerSnap=function(l,d,b){return new g(this.eventCache_,new Ki(l,d,b))},g.prototype.getEventCache=function(){return this.eventCache_},g.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},g.prototype.getServerCache=function(){return this.serverCache_},g.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},g.Empty=new g(new Ki(dn.EMPTY_NODE,!1,!1),new Ki(dn.EMPTY_NODE,!1,!1)),g}(),Gr=function(){function g(l,d,b,A,U){this.type=l,this.snapshotNode=d,this.childName=b,this.oldSnap=A,this.prevName=U}return g.valueChange=function(l){return new g(g.VALUE,l)},g.childAddedChange=function(l,d){return new g(g.CHILD_ADDED,d,l)},g.childRemovedChange=function(l,d){return new g(g.CHILD_REMOVED,d,l)},g.childChangedChange=function(l,d,b){return new g(g.CHILD_CHANGED,d,l,b)},g.childMovedChange=function(l,d){return new g(g.CHILD_MOVED,d,l)},g.CHILD_ADDED="child_added",g.CHILD_REMOVED="child_removed",g.CHILD_CHANGED="child_changed",g.CHILD_MOVED="child_moved",g.VALUE="value",g}(),So=function(){function g(l){this.index_=l}return g.prototype.updateChild=function(l,d,b,A,U,de){j.assert(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Ce=l.getImmediateChild(d);return Ce.getChild(A).equals(b.getChild(A))&&Ce.isEmpty()===b.isEmpty()||(null!=de&&(b.isEmpty()?l.hasChild(d)?de.trackChildChange(Gr.childRemovedChange(d,Ce)):j.assert(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ce.isEmpty()?de.trackChildChange(Gr.childAddedChange(d,b)):de.trackChildChange(Gr.childChangedChange(d,b,Ce))),l.isLeafNode()&&b.isEmpty())?l:l.updateImmediateChild(d,b).withIndex(this.index_)},g.prototype.updateFullNode=function(l,d,b){return null!=b&&(l.isLeafNode()||l.forEachChild(pt,function(A,U){d.hasChild(A)||b.trackChildChange(Gr.childRemovedChange(A,U))}),d.isLeafNode()||d.forEachChild(pt,function(A,U){if(l.hasChild(A)){var de=l.getImmediateChild(A);de.equals(U)||b.trackChildChange(Gr.childChangedChange(A,U,de))}else b.trackChildChange(Gr.childAddedChange(A,U))})),d.withIndex(this.index_)},g.prototype.updatePriority=function(l,d){return l.isEmpty()?dn.EMPTY_NODE:l.updatePriority(d)},g.prototype.filtersNodes=function(){return!1},g.prototype.getIndexedFilter=function(){return this},g.prototype.getIndex=function(){return this.index_},g}(),$i=function(){function g(){this.changeMap=new Map}return g.prototype.trackChildChange=function(l){var d=l.type,b=l.childName;j.assert(d===Gr.CHILD_ADDED||d===Gr.CHILD_CHANGED||d===Gr.CHILD_REMOVED,"Only child changes supported for tracking"),j.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var A=this.changeMap.get(b);if(A){var U=A.type;if(d===Gr.CHILD_ADDED&&U===Gr.CHILD_REMOVED)this.changeMap.set(b,Gr.childChangedChange(b,l.snapshotNode,A.snapshotNode));else if(d===Gr.CHILD_REMOVED&&U===Gr.CHILD_ADDED)this.changeMap.delete(b);else if(d===Gr.CHILD_REMOVED&&U===Gr.CHILD_CHANGED)this.changeMap.set(b,Gr.childRemovedChange(b,A.oldSnap));else if(d===Gr.CHILD_CHANGED&&U===Gr.CHILD_ADDED)this.changeMap.set(b,Gr.childAddedChange(b,l.snapshotNode));else{if(d!==Gr.CHILD_CHANGED||U!==Gr.CHILD_CHANGED)throw j.assertionError("Illegal combination of changes: "+l+" occurred after "+A);this.changeMap.set(b,Gr.childChangedChange(b,l.snapshotNode,A.oldSnap))}}else this.changeMap.set(b,l)},g.prototype.getChanges=function(){return Array.from(this.changeMap.values())},g}(),oo=function(){function g(){}return g.prototype.getCompleteChild=function(l){return null},g.prototype.getChildAfterChild=function(l,d,b){return null},g}(),Ts=new oo,Ko=function(){function g(l,d,b){void 0===b&&(b=null),this.writes_=l,this.viewCache_=d,this.optCompleteServerCache_=b}return g.prototype.getCompleteChild=function(l){var d=this.viewCache_.getEventCache();if(d.isCompleteForChild(l))return d.getNode().getImmediateChild(l);var b=null!=this.optCompleteServerCache_?new Ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(l,b)},g.prototype.getChildAfterChild=function(l,d,b){var A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),U=this.writes_.calcIndexedSlice(A,d,1,b,l);return 0===U.length?null:U[0]},g}(),cs=function g(l,d){this.viewCache=l,this.changes=d},Ns=function(){function g(l){this.filter_=l}return g.prototype.assertIndexed=function(l){j.assert(l.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),j.assert(l.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},g.prototype.applyOperation=function(l,d,b,A){var de,Ce,U=new $i;if(d.type===ur.OVERWRITE){var ut=d;ut.source.fromUser?de=this.applyUserOverwrite_(l,ut.path,ut.snap,b,A,U):(j.assert(ut.source.fromServer,"Unknown source."),Ce=ut.source.tagged||l.getServerCache().isFiltered()&&!ut.path.isEmpty(),de=this.applyServerOverwrite_(l,ut.path,ut.snap,b,A,Ce,U))}else if(d.type===ur.MERGE){var et=d;et.source.fromUser?de=this.applyUserMerge_(l,et.path,et.children,b,A,U):(j.assert(et.source.fromServer,"Unknown source."),Ce=et.source.tagged||l.getServerCache().isFiltered(),de=this.applyServerMerge_(l,et.path,et.children,b,A,Ce,U))}else if(d.type===ur.ACK_USER_WRITE){var tn=d;de=tn.revert?this.revertUserWrite_(l,tn.path,b,A,U):this.ackUserWrite_(l,tn.path,tn.affectedTree,b,A,U)}else{if(d.type!==ur.LISTEN_COMPLETE)throw j.assertionError("Unknown operation type: "+d.type);de=this.listenComplete_(l,d.path,b,U)}var yn=U.getChanges();return g.maybeAddValueEvent_(l,de,yn),new cs(de,yn)},g.maybeAddValueEvent_=function(l,d,b){var A=d.getEventCache();if(A.isFullyInitialized()){var U=A.getNode().isLeafNode()||A.getNode().isEmpty(),de=l.getCompleteEventSnap();(b.length>0||!l.getEventCache().isFullyInitialized()||U&&!A.getNode().equals(de)||!A.getNode().getPriority().equals(de.getPriority()))&&b.push(Gr.valueChange(d.getCompleteEventSnap()))}},g.prototype.generateEventCacheAfterServerEvent_=function(l,d,b,A,U){var de=l.getEventCache();if(null!=b.shadowingWrite(d))return l;var Ce=void 0,ut=void 0;if(d.isEmpty())if(j.assert(l.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),l.getServerCache().isFiltered()){var et=l.getCompleteServerSnap(),yn=b.calcCompleteEventChildren(et instanceof dn?et:dn.EMPTY_NODE);Ce=this.filter_.updateFullNode(l.getEventCache().getNode(),yn,U)}else{var In=b.calcCompleteEventCache(l.getCompleteServerSnap());Ce=this.filter_.updateFullNode(l.getEventCache().getNode(),In,U)}else{var Gn=d.getFront();if(".priority"===Gn){j.assert(1===d.getLength(),"Can't have a priority with additional path components");var X=de.getNode();ut=l.getServerCache().getNode();var D=b.calcEventCacheAfterServerOverwrite(d,X,ut);Ce=null!=D?this.filter_.updatePriority(X,D):de.getNode()}else{var S=d.popFront(),L=void 0;if(de.isCompleteForChild(Gn)){ut=l.getServerCache().getNode();var ue=b.calcEventCacheAfterServerOverwrite(d,de.getNode(),ut);L=null!=ue?de.getNode().getImmediateChild(Gn).updateChild(S,ue):de.getNode().getImmediateChild(Gn)}else L=b.calcCompleteChild(Gn,l.getServerCache());Ce=null!=L?this.filter_.updateChild(de.getNode(),Gn,L,S,A,U):de.getNode()}}return l.updateEventSnap(Ce,de.isFullyInitialized()||d.isEmpty(),this.filter_.filtersNodes())},g.prototype.applyServerOverwrite_=function(l,d,b,A,U,de,Ce){var et,ut=l.getServerCache(),tn=de?this.filter_:this.filter_.getIndexedFilter();if(d.isEmpty())et=tn.updateFullNode(ut.getNode(),b,null);else if(tn.filtersNodes()&&!ut.isFiltered()){var yn=ut.getNode().updateChild(d,b);et=tn.updateFullNode(ut.getNode(),yn,null)}else{var In=d.getFront();if(!ut.isCompleteForPath(d)&&d.getLength()>1)return l;var Gn=d.popFront(),D=ut.getNode().getImmediateChild(In).updateChild(Gn,b);et=".priority"===In?tn.updatePriority(ut.getNode(),D):tn.updateChild(ut.getNode(),In,D,Gn,Ts,null)}var S=l.updateServerSnap(et,ut.isFullyInitialized()||d.isEmpty(),tn.filtersNodes()),L=new Ko(A,S,U);return this.generateEventCacheAfterServerEvent_(S,d,A,L,Ce)},g.prototype.applyUserOverwrite_=function(l,d,b,A,U,de){var ut,et,Ce=l.getEventCache(),tn=new Ko(A,l,U);if(d.isEmpty())et=this.filter_.updateFullNode(l.getEventCache().getNode(),b,de),ut=l.updateEventSnap(et,!0,this.filter_.filtersNodes());else{var yn=d.getFront();if(".priority"===yn)et=this.filter_.updatePriority(l.getEventCache().getNode(),b),ut=l.updateEventSnap(et,Ce.isFullyInitialized(),Ce.isFiltered());else{var In=d.popFront(),Gn=Ce.getNode().getImmediateChild(yn),X=void 0;if(In.isEmpty())X=b;else{var D=tn.getCompleteChild(yn);X=null!=D?".priority"===In.getBack()&&D.getChild(In.parent()).isEmpty()?D:D.updateChild(In,b):dn.EMPTY_NODE}if(Gn.equals(X))ut=l;else{var S=this.filter_.updateChild(Ce.getNode(),yn,X,In,tn,de);ut=l.updateEventSnap(S,Ce.isFullyInitialized(),this.filter_.filtersNodes())}}}return ut},g.cacheHasChild_=function(l,d){return l.getEventCache().isCompleteForChild(d)},g.prototype.applyUserMerge_=function(l,d,b,A,U,de){var Ce=this,ut=l;return b.foreach(function(et,tn){var yn=d.child(et);g.cacheHasChild_(l,yn.getFront())&&(ut=Ce.applyUserOverwrite_(ut,yn,tn,A,U,de))}),b.foreach(function(et,tn){var yn=d.child(et);g.cacheHasChild_(l,yn.getFront())||(ut=Ce.applyUserOverwrite_(ut,yn,tn,A,U,de))}),ut},g.prototype.applyMerge_=function(l,d){return d.foreach(function(b,A){l=l.updateChild(b,A)}),l},g.prototype.applyServerMerge_=function(l,d,b,A,U,de,Ce){var ut=this;if(l.getServerCache().getNode().isEmpty()&&!l.getServerCache().isFullyInitialized())return l;var tn,et=l;tn=d.isEmpty()?b:ar.Empty.setTree(d,b);var yn=l.getServerCache().getNode();return tn.children.inorderTraversal(function(In,Gn){if(yn.hasChild(In)){var X=l.getServerCache().getNode().getImmediateChild(In),D=ut.applyMerge_(X,Gn);et=ut.applyServerOverwrite_(et,new _t(In),D,A,U,de,Ce)}}),tn.children.inorderTraversal(function(In,Gn){var X=!l.getServerCache().isCompleteForChild(In)&&null==Gn.value;if(!yn.hasChild(In)&&!X){var D=l.getServerCache().getNode().getImmediateChild(In),S=ut.applyMerge_(D,Gn);et=ut.applyServerOverwrite_(et,new _t(In),S,A,U,de,Ce)}}),et},g.prototype.ackUserWrite_=function(l,d,b,A,U,de){if(null!=A.shadowingWrite(d))return l;var Ce=l.getServerCache().isFiltered(),ut=l.getServerCache();if(null!=b.value){if(d.isEmpty()&&ut.isFullyInitialized()||ut.isCompleteForPath(d))return this.applyServerOverwrite_(l,d,ut.getNode().getChild(d),A,U,Ce,de);if(d.isEmpty()){var et=ar.Empty;return ut.getNode().forEachChild(qt,function(yn,In){et=et.set(new _t(yn),In)}),this.applyServerMerge_(l,d,et,A,U,Ce,de)}return l}var tn=ar.Empty;return b.foreach(function(yn,In){var Gn=d.child(yn);ut.isCompleteForPath(Gn)&&(tn=tn.set(yn,ut.getNode().getChild(Gn)))}),this.applyServerMerge_(l,d,tn,A,U,Ce,de)},g.prototype.listenComplete_=function(l,d,b,A){var U=l.getServerCache(),de=l.updateServerSnap(U.getNode(),U.isFullyInitialized()||d.isEmpty(),U.isFiltered());return this.generateEventCacheAfterServerEvent_(de,d,b,Ts,A)},g.prototype.revertUserWrite_=function(l,d,b,A,U){var de;if(null!=b.shadowingWrite(d))return l;var Ce=new Ko(b,l,A),ut=l.getEventCache().getNode(),et=void 0;if(d.isEmpty()||".priority"===d.getFront()){var tn=void 0;if(l.getServerCache().isFullyInitialized())tn=b.calcCompleteEventCache(l.getCompleteServerSnap());else{var yn=l.getServerCache().getNode();j.assert(yn instanceof dn,"serverChildren would be complete if leaf node"),tn=b.calcCompleteEventChildren(yn)}et=this.filter_.updateFullNode(ut,tn,U)}else{var In=d.getFront(),Gn=b.calcCompleteChild(In,l.getServerCache());null==Gn&&l.getServerCache().isCompleteForChild(In)&&(Gn=ut.getImmediateChild(In)),(et=null!=Gn?this.filter_.updateChild(ut,In,Gn,d.popFront(),Ce,U):l.getEventCache().getNode().hasChild(In)?this.filter_.updateChild(ut,In,dn.EMPTY_NODE,d.popFront(),Ce,U):ut).isEmpty()&&l.getServerCache().isFullyInitialized()&&(de=b.calcCompleteEventCache(l.getCompleteServerSnap())).isLeafNode()&&(et=this.filter_.updateFullNode(et,de,U))}return de=l.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(_t.Empty),l.updateEventSnap(et,de,this.filter_.filtersNodes())},g}(),mi=function(){function g(l){this.query_=l,this.index_=this.query_.getQueryParams().getIndex()}return g.prototype.generateEventsForChanges=function(l,d,b){var A=this,U=[],de=[];return l.forEach(function(Ce){Ce.type===Gr.CHILD_CHANGED&&A.index_.indexedValueChanged(Ce.oldSnap,Ce.snapshotNode)&&de.push(Gr.childMovedChange(Ce.childName,Ce.snapshotNode))}),this.generateEventsForType_(U,Gr.CHILD_REMOVED,l,b,d),this.generateEventsForType_(U,Gr.CHILD_ADDED,l,b,d),this.generateEventsForType_(U,Gr.CHILD_MOVED,de,b,d),this.generateEventsForType_(U,Gr.CHILD_CHANGED,l,b,d),this.generateEventsForType_(U,Gr.VALUE,l,b,d),U},g.prototype.generateEventsForType_=function(l,d,b,A,U){var de=this,Ce=b.filter(function(ut){return ut.type===d});Ce.sort(this.compareChanges_.bind(this)),Ce.forEach(function(ut){var et=de.materializeSingleChange_(ut,U);A.forEach(function(tn){tn.respondsTo(ut.type)&&l.push(tn.createEvent(et,de.query_))})})},g.prototype.materializeSingleChange_=function(l,d){return"value"===l.type||"child_removed"===l.type||(l.prevName=d.getPredecessorChildName(l.childName,l.snapshotNode,this.index_)),l},g.prototype.compareChanges_=function(l,d){if(null==l.childName||null==d.childName)throw j.assertionError("Should only compare child_ events.");var b=new xe(l.childName,l.snapshotNode),A=new xe(d.childName,d.snapshotNode);return this.index_.compare(b,A)},g}(),Ds=function(){function g(l,d){this.query_=l,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),A=new So(b.getIndex()),U=b.getNodeFilter();this.processor_=new Ns(U);var de=d.getServerCache(),Ce=d.getEventCache(),ut=A.updateFullNode(dn.EMPTY_NODE,de.getNode(),null),et=U.updateFullNode(dn.EMPTY_NODE,Ce.getNode(),null),tn=new Ki(ut,de.isFullyInitialized(),A.filtersNodes()),yn=new Ki(et,Ce.isFullyInitialized(),U.filtersNodes());this.viewCache_=new Ai(yn,tn),this.eventGenerator_=new mi(this.query_)}return g.prototype.getQuery=function(){return this.query_},g.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},g.prototype.getCompleteServerCache=function(l){var d=this.viewCache_.getCompleteServerSnap();return d&&(this.query_.getQueryParams().loadsAllData()||!l.isEmpty()&&!d.getImmediateChild(l.getFront()).isEmpty())?d.getChild(l):null},g.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},g.prototype.addEventRegistration=function(l){this.eventRegistrations_.push(l)},g.prototype.removeEventRegistration=function(l,d){var b=[];if(d){j.assert(null==l,"A cancel should cancel all event registrations.");var A=this.query_.path;this.eventRegistrations_.forEach(function(ut){var et=ut.createCancelEvent(d,A);et&&b.push(et)})}if(l){for(var U=[],de=0;de<this.eventRegistrations_.length;++de){var Ce=this.eventRegistrations_[de];if(Ce.matches(l)){if(l.hasAnyCallback()){U=U.concat(this.eventRegistrations_.slice(de+1));break}}else U.push(Ce)}this.eventRegistrations_=U}else this.eventRegistrations_=[];return b},g.prototype.applyOperation=function(l,d,b){l.type===ur.MERGE&&null!==l.source.queryId&&(j.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),j.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var A=this.viewCache_,U=this.processor_.applyOperation(A,l,d,b);return this.processor_.assertIndexed(U.viewCache),j.assert(U.viewCache.getServerCache().isFullyInitialized()||!A.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=U.viewCache,this.generateEventsForChanges_(U.changes,U.viewCache.getEventCache().getNode(),null)},g.prototype.getInitialEvents=function(l){var d=this.viewCache_.getEventCache(),b=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(pt,function(U,de){b.push(Gr.childAddedChange(U,de))}),d.isFullyInitialized()&&b.push(Gr.valueChange(d.getNode())),this.generateEventsForChanges_(b,d.getNode(),l)},g.prototype.generateEventsForChanges_=function(l,d,b){return this.eventGenerator_.generateEventsForChanges(l,d,b?[b]:this.eventRegistrations_)},g}(),ds=function(){function g(){this.views=new Map}return Object.defineProperty(g,"__referenceConstructor",{get:function(){return j.assert(Fo,"Reference.ts has not been loaded"),Fo},set:function(l){j.assert(!Fo,"__referenceConstructor has already been defined"),Fo=l},enumerable:!1,configurable:!0}),g.prototype.isEmpty=function(){return 0===this.views.size},g.prototype.applyOperation=function(l,d,b){var A,U,de=l.source.queryId;if(null!==de){var Ce=this.views.get(de);return j.assert(null!=Ce,"SyncTree gave us an op for an invalid query."),Ce.applyOperation(l,d,b)}var ut=[];try{for(var et=E.__values(this.views.values()),tn=et.next();!tn.done;tn=et.next())ut=ut.concat((Ce=tn.value).applyOperation(l,d,b))}catch(yn){A={error:yn}}finally{try{tn&&!tn.done&&(U=et.return)&&U.call(et)}finally{if(A)throw A.error}}return ut},g.prototype.addEventRegistration=function(l,d,b,A,U){var de=l.queryIdentifier(),Ce=this.views.get(de);if(!Ce){var ut=b.calcCompleteEventCache(U?A:null),et=!1;ut?et=!0:A instanceof dn?(ut=b.calcCompleteEventChildren(A),et=!1):(ut=dn.EMPTY_NODE,et=!1);var tn=new Ai(new Ki(ut,et,!1),new Ki(A,U,!1));Ce=new Ds(l,tn),this.views.set(de,Ce)}return Ce.addEventRegistration(d),Ce.getInitialEvents(d)},g.prototype.removeEventRegistration=function(l,d,b){var A,U,de=l.queryIdentifier(),Ce=[],ut=[],et=this.hasCompleteView();if("default"===de)try{for(var tn=E.__values(this.views.entries()),yn=tn.next();!yn.done;yn=tn.next()){var X,In=E.__read(yn.value,2),Gn=In[0];ut=ut.concat((X=In[1]).removeEventRegistration(d,b)),X.isEmpty()&&(this.views.delete(Gn),X.getQuery().getQueryParams().loadsAllData()||Ce.push(X.getQuery()))}}catch(D){A={error:D}}finally{try{yn&&!yn.done&&(U=tn.return)&&U.call(tn)}finally{if(A)throw A.error}}else(X=this.views.get(de))&&(ut=ut.concat(X.removeEventRegistration(d,b)),X.isEmpty()&&(this.views.delete(de),X.getQuery().getQueryParams().loadsAllData()||Ce.push(X.getQuery())));return et&&!this.hasCompleteView()&&Ce.push(new g.__referenceConstructor(l.repo,l.path)),{removed:Ce,events:ut}},g.prototype.getQueryViews=function(){var l,d,b=[];try{for(var A=E.__values(this.views.values()),U=A.next();!U.done;U=A.next()){var de=U.value;de.getQuery().getQueryParams().loadsAllData()||b.push(de)}}catch(Ce){l={error:Ce}}finally{try{U&&!U.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}return b},g.prototype.getCompleteServerCache=function(l){var d,b,A=null;try{for(var U=E.__values(this.views.values()),de=U.next();!de.done;de=U.next())A=A||de.value.getCompleteServerCache(l)}catch(ut){d={error:ut}}finally{try{de&&!de.done&&(b=U.return)&&b.call(U)}finally{if(d)throw d.error}}return A},g.prototype.viewForQuery=function(l){if(l.getQueryParams().loadsAllData())return this.getCompleteView();var b=l.queryIdentifier();return this.views.get(b)},g.prototype.viewExistsForQuery=function(l){return null!=this.viewForQuery(l)},g.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},g.prototype.getCompleteView=function(){var l,d;try{for(var b=E.__values(this.views.values()),A=b.next();!A.done;A=b.next()){var U=A.value;if(U.getQuery().getQueryParams().loadsAllData())return U}}catch(de){l={error:de}}finally{try{A&&!A.done&&(d=b.return)&&d.call(b)}finally{if(l)throw l.error}}return null},g}(),lo=function(){function g(l){this.writeTree_=l}return g.prototype.addWrite=function(l,d){if(l.isEmpty())return new g(new ar(d));var b=this.writeTree_.findRootMostValueAndPath(l);if(null!=b){var A=b.path,U=b.value,de=_t.relativePath(A,l);return U=U.updateChild(de,d),new g(this.writeTree_.set(A,U))}var Ce=new ar(d);return new g(this.writeTree_.setTree(l,Ce))},g.prototype.addWrites=function(l,d){var b=this;return ct(d,function(A,U){b=b.addWrite(l.child(A),U)}),b},g.prototype.removeWrite=function(l){return l.isEmpty()?g.Empty:new g(this.writeTree_.setTree(l,ar.Empty))},g.prototype.hasCompleteWrite=function(l){return null!=this.getCompleteNode(l)},g.prototype.getCompleteNode=function(l){var d=this.writeTree_.findRootMostValueAndPath(l);return null!=d?this.writeTree_.get(d.path).getChild(_t.relativePath(d.path,l)):null},g.prototype.getCompleteChildren=function(){var l=[],d=this.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(pt,function(b,A){l.push(new xe(b,A))}):this.writeTree_.children.inorderTraversal(function(b,A){null!=A.value&&l.push(new xe(b,A.value))}),l},g.prototype.childCompoundWrite=function(l){if(l.isEmpty())return this;var d=this.getCompleteNode(l);return new g(null!=d?new ar(d):this.writeTree_.subtree(l))},g.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},g.prototype.apply=function(l){return oe(_t.Empty,this.writeTree_,l)},g.Empty=new g(new ar(null)),g}();function oe(g,l,d){if(null!=l.value)return d.updateChild(g,l.value);var b=null;return l.children.inorderTraversal(function(A,U){".priority"===A?(j.assert(null!==U.value,"Priority writes must always be leaf nodes"),b=U.value):d=oe(g.child(A),U,d)}),!d.getChild(g).isEmpty()&&null!==b&&(d=d.updateChild(g.child(".priority"),b)),d}var ne=function(){function g(){this.visibleWrites_=lo.Empty,this.allWrites_=[],this.lastWriteId_=-1}return g.prototype.childWrites=function(l){return new Be(l,this)},g.prototype.addOverwrite=function(l,d,b,A){j.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),this.allWrites_.push({path:l,snap:d,writeId:b,visible:A}),A&&(this.visibleWrites_=this.visibleWrites_.addWrite(l,d)),this.lastWriteId_=b},g.prototype.addMerge=function(l,d,b){j.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:l,children:d,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(l,d),this.lastWriteId_=b},g.prototype.getWrite=function(l){for(var d=0;d<this.allWrites_.length;d++){var b=this.allWrites_[d];if(b.writeId===l)return b}return null},g.prototype.removeWrite=function(l){var d=this,b=this.allWrites_.findIndex(function(tn){return tn.writeId===l});j.assert(b>=0,"removeWrite called with nonexistent writeId.");var A=this.allWrites_[b];this.allWrites_.splice(b,1);for(var U=A.visible,de=!1,Ce=this.allWrites_.length-1;U&&Ce>=0;){var ut=this.allWrites_[Ce];ut.visible&&(Ce>=b&&this.recordContainsPath_(ut,A.path)?U=!1:A.path.contains(ut.path)&&(de=!0)),Ce--}return!!U&&(de?(this.resetTree_(),!0):(A.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(A.path):ct(A.children,function(tn){d.visibleWrites_=d.visibleWrites_.removeWrite(A.path.child(tn))}),!0))},g.prototype.getCompleteWriteData=function(l){return this.visibleWrites_.getCompleteNode(l)},g.prototype.calcCompleteEventCache=function(l,d,b,A){if(b||A){var ut=this.visibleWrites_.childCompoundWrite(l);return!A&&ut.isEmpty()?d:A||null!=d||ut.hasCompleteWrite(_t.Empty)?g.layerTree_(this.allWrites_,function(In){return(In.visible||A)&&(!b||!~b.indexOf(In.writeId))&&(In.path.contains(l)||l.contains(In.path))},l).apply(d||dn.EMPTY_NODE):null}var U=this.visibleWrites_.getCompleteNode(l);if(null!=U)return U;var de=this.visibleWrites_.childCompoundWrite(l);return de.isEmpty()?d:null!=d||de.hasCompleteWrite(_t.Empty)?de.apply(d||dn.EMPTY_NODE):null},g.prototype.calcCompleteEventChildren=function(l,d){var b=dn.EMPTY_NODE,A=this.visibleWrites_.getCompleteNode(l);if(A)return A.isLeafNode()||A.forEachChild(pt,function(Ce,ut){b=b.updateImmediateChild(Ce,ut)}),b;if(d){var U=this.visibleWrites_.childCompoundWrite(l);return d.forEachChild(pt,function(Ce,ut){var et=U.childCompoundWrite(new _t(Ce)).apply(ut);b=b.updateImmediateChild(Ce,et)}),U.getCompleteChildren().forEach(function(Ce){b=b.updateImmediateChild(Ce.name,Ce.node)}),b}return this.visibleWrites_.childCompoundWrite(l).getCompleteChildren().forEach(function(Ce){b=b.updateImmediateChild(Ce.name,Ce.node)}),b},g.prototype.calcEventCacheAfterServerOverwrite=function(l,d,b,A){j.assert(b||A,"Either existingEventSnap or existingServerSnap must exist");var U=l.child(d);if(this.visibleWrites_.hasCompleteWrite(U))return null;var de=this.visibleWrites_.childCompoundWrite(U);return de.isEmpty()?A.getChild(d):de.apply(A.getChild(d))},g.prototype.calcCompleteChild=function(l,d,b){var A=l.child(d),U=this.visibleWrites_.getCompleteNode(A);return null!=U?U:b.isCompleteForChild(d)?this.visibleWrites_.childCompoundWrite(A).apply(b.getNode().getImmediateChild(d)):null},g.prototype.shadowingWrite=function(l){return this.visibleWrites_.getCompleteNode(l)},g.prototype.calcIndexedSlice=function(l,d,b,A,U,de){var Ce,ut=this.visibleWrites_.childCompoundWrite(l),et=ut.getCompleteNode(_t.Empty);if(null!=et)Ce=et;else{if(null==d)return[];Ce=ut.apply(d)}if((Ce=Ce.withIndex(de)).isEmpty()||Ce.isLeafNode())return[];for(var tn=[],yn=de.getCompare(),In=U?Ce.getReverseIteratorFrom(b,de):Ce.getIteratorFrom(b,de),Gn=In.getNext();Gn&&tn.length<A;)0!==yn(Gn,b)&&tn.push(Gn),Gn=In.getNext();return tn},g.prototype.recordContainsPath_=function(l,d){if(l.snap)return l.path.contains(d);for(var b in l.children)if(l.children.hasOwnProperty(b)&&l.path.child(b).contains(d))return!0;return!1},g.prototype.resetTree_=function(){this.visibleWrites_=g.layerTree_(this.allWrites_,g.DefaultFilter_,_t.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},g.DefaultFilter_=function(l){return l.visible},g.layerTree_=function(l,d,b){for(var A=lo.Empty,U=0;U<l.length;++U){var de=l[U];if(d(de)){var Ce=de.path,ut=void 0;if(de.snap)b.contains(Ce)?(ut=_t.relativePath(b,Ce),A=A.addWrite(ut,de.snap)):Ce.contains(b)&&(ut=_t.relativePath(Ce,b),A=A.addWrite(_t.Empty,de.snap.getChild(ut)));else{if(!de.children)throw j.assertionError("WriteRecord should have .snap or .children");if(b.contains(Ce))ut=_t.relativePath(b,Ce),A=A.addWrites(ut,de.children);else if(Ce.contains(b))if((ut=_t.relativePath(Ce,b)).isEmpty())A=A.addWrites(_t.Empty,de.children);else{var et=j.safeGet(de.children,ut.getFront());if(et){var tn=et.getChild(ut.popFront());A=A.addWrite(_t.Empty,tn)}}}}}return A},g}(),Be=function(){function g(l,d){this.treePath_=l,this.writeTree_=d}return g.prototype.calcCompleteEventCache=function(l,d,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,l,d,b)},g.prototype.calcCompleteEventChildren=function(l){return this.writeTree_.calcCompleteEventChildren(this.treePath_,l)},g.prototype.calcEventCacheAfterServerOverwrite=function(l,d,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,l,d,b)},g.prototype.shadowingWrite=function(l){return this.writeTree_.shadowingWrite(this.treePath_.child(l))},g.prototype.calcIndexedSlice=function(l,d,b,A,U){return this.writeTree_.calcIndexedSlice(this.treePath_,l,d,b,A,U)},g.prototype.calcCompleteChild=function(l,d){return this.writeTree_.calcCompleteChild(this.treePath_,l,d)},g.prototype.child=function(l){return new g(this.treePath_.child(l),this.writeTree_)},g}(),wt=function(){function g(l){this.listenProvider_=l,this.syncPointTree_=ar.Empty,this.pendingWriteTree_=new ne,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return g.prototype.applyUserOverwrite=function(l,d,b,A){return this.pendingWriteTree_.addOverwrite(l,d,b,A),A?this.applyOperationToSyncPoints_(new ao(kr.User,l,d)):[]},g.prototype.applyUserMerge=function(l,d,b){this.pendingWriteTree_.addMerge(l,d,b);var A=ar.fromObject(d);return this.applyOperationToSyncPoints_(new Oi(kr.User,l,A))},g.prototype.ackUserWrite=function(l,d){void 0===d&&(d=!1);var b=this.pendingWriteTree_.getWrite(l);if(this.pendingWriteTree_.removeWrite(l)){var U=ar.Empty;return null!=b.snap?U=U.set(_t.Empty,!0):ct(b.children,function(de,Ce){U=U.set(new _t(de),Ce)}),this.applyOperationToSyncPoints_(new gr(b.path,U,d))}return[]},g.prototype.applyServerOverwrite=function(l,d){return this.applyOperationToSyncPoints_(new ao(kr.Server,l,d))},g.prototype.applyServerMerge=function(l,d){var b=ar.fromObject(d);return this.applyOperationToSyncPoints_(new Oi(kr.Server,l,b))},g.prototype.applyListenComplete=function(l){return this.applyOperationToSyncPoints_(new ki(kr.Server,l))},g.prototype.applyTaggedQueryOverwrite=function(l,d,b){var A=this.queryKeyForTag_(b);if(null!=A){var U=g.parseQueryKey_(A),de=U.path,Ce=U.queryId,ut=_t.relativePath(de,l),et=new ao(kr.forServerTaggedQuery(Ce),ut,d);return this.applyTaggedOperation_(de,et)}return[]},g.prototype.applyTaggedQueryMerge=function(l,d,b){var A=this.queryKeyForTag_(b);if(A){var U=g.parseQueryKey_(A),de=U.path,Ce=U.queryId,ut=_t.relativePath(de,l),et=ar.fromObject(d),tn=new Oi(kr.forServerTaggedQuery(Ce),ut,et);return this.applyTaggedOperation_(de,tn)}return[]},g.prototype.applyTaggedListenComplete=function(l,d){var b=this.queryKeyForTag_(d);if(b){var A=g.parseQueryKey_(b),U=A.path,de=A.queryId,Ce=_t.relativePath(U,l),ut=new ki(kr.forServerTaggedQuery(de),Ce);return this.applyTaggedOperation_(U,ut)}return[]},g.prototype.addEventRegistration=function(l,d){var b=l.path,A=null,U=!1;this.syncPointTree_.foreachOnPath(b,function(D,S){var L=_t.relativePath(D,b);A=A||S.getCompleteServerCache(L),U=U||S.hasCompleteView()});var Ce,de=this.syncPointTree_.get(b);de?(U=U||de.hasCompleteView(),A=A||de.getCompleteServerCache(_t.Empty)):(de=new ds,this.syncPointTree_=this.syncPointTree_.set(b,de)),null!=A?Ce=!0:(Ce=!1,A=dn.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(D,S){var L=S.getCompleteServerCache(_t.Empty);L&&(A=A.updateImmediateChild(D,L))}));var et=de.viewExistsForQuery(l);if(!et&&!l.getQueryParams().loadsAllData()){var tn=g.makeQueryKey_(l);j.assert(!this.queryToTagMap.has(tn),"View does not exist, but we have a tag");var yn=g.getNextQueryTag_();this.queryToTagMap.set(tn,yn),this.tagToQueryMap.set(yn,tn)}var In=this.pendingWriteTree_.childWrites(b),Gn=de.addEventRegistration(l,d,In,A,Ce);if(!et&&!U){var X=de.viewForQuery(l);Gn=Gn.concat(this.setupListener_(l,X))}return Gn},g.prototype.removeEventRegistration=function(l,d,b){var A=this,U=l.path,de=this.syncPointTree_.get(U),Ce=[];if(de&&("default"===l.queryIdentifier()||de.viewExistsForQuery(l))){var ut=de.removeEventRegistration(l,d,b);de.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(U));var et=ut.removed;Ce=ut.events;var tn=-1!==et.findIndex(function(Ye){return Ye.getQueryParams().loadsAllData()}),yn=this.syncPointTree_.findOnPath(U,function(Ye,lt){return lt.hasCompleteView()});if(tn&&!yn){var In=this.syncPointTree_.subtree(U);if(!In.isEmpty())for(var Gn=this.collectDistinctViewsForSubTree_(In),X=0;X<Gn.length;++X){var D=Gn[X],S=D.getQuery(),L=this.createListenerForView_(D);this.listenProvider_.startListening(g.queryForListening_(S),this.tagForQuery_(S),L.hashFn,L.onComplete)}}!yn&&et.length>0&&!b&&(tn?this.listenProvider_.stopListening(g.queryForListening_(l),null):et.forEach(function(Ye){var lt=A.queryToTagMap.get(g.makeQueryKey_(Ye));A.listenProvider_.stopListening(g.queryForListening_(Ye),lt)})),this.removeTags_(et)}return Ce},g.prototype.calcCompleteEventCache=function(l,d){var A=this.pendingWriteTree_,U=this.syncPointTree_.findOnPath(l,function(de,Ce){var ut=_t.relativePath(de,l),et=Ce.getCompleteServerCache(ut);if(et)return et});return A.calcCompleteEventCache(l,U,d,!0)},g.prototype.collectDistinctViewsForSubTree_=function(l){return l.fold(function(d,b,A){if(b&&b.hasCompleteView())return[b.getCompleteView()];var de=[];return b&&(de=b.getQueryViews()),ct(A,function(Ce,ut){de=de.concat(ut)}),de})},g.prototype.removeTags_=function(l){for(var d=0;d<l.length;++d){var b=l[d];if(!b.getQueryParams().loadsAllData()){var A=g.makeQueryKey_(b),U=this.queryToTagMap.get(A);this.queryToTagMap.delete(A),this.tagToQueryMap.delete(U)}}},g.queryForListening_=function(l){return l.getQueryParams().loadsAllData()&&!l.getQueryParams().isDefault()?l.getRef():l},g.prototype.setupListener_=function(l,d){var b=l.path,A=this.tagForQuery_(l),U=this.createListenerForView_(d),de=this.listenProvider_.startListening(g.queryForListening_(l),A,U.hashFn,U.onComplete),Ce=this.syncPointTree_.subtree(b);if(A)j.assert(!Ce.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var ut=Ce.fold(function(yn,In,Gn){if(!yn.isEmpty()&&In&&In.hasCompleteView())return[In.getCompleteView().getQuery()];var X=[];return In&&(X=X.concat(In.getQueryViews().map(function(D){return D.getQuery()}))),ct(Gn,function(D,S){X=X.concat(S)}),X}),et=0;et<ut.length;++et){var tn=ut[et];this.listenProvider_.stopListening(g.queryForListening_(tn),this.tagForQuery_(tn))}return de},g.prototype.createListenerForView_=function(l){var d=this,b=l.getQuery(),A=this.tagForQuery_(b);return{hashFn:function(){return(l.getServerCache()||dn.EMPTY_NODE).hash()},onComplete:function(U){if("ok"===U)return A?d.applyTaggedListenComplete(b.path,A):d.applyListenComplete(b.path);var de=function(g,l){var d="Unknown Error";"too_big"===g?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?d="Client doesn't have permission to access the desired data.":"unavailable"===g&&(d="The service is unavailable");var b=new Error(g+" at "+l.path.toString()+": "+d);return b.code=g.toUpperCase(),b}(U,b);return d.removeEventRegistration(b,null,de)}}},g.makeQueryKey_=function(l){return l.path.toString()+"$"+l.queryIdentifier()},g.parseQueryKey_=function(l){var d=l.indexOf("$");return j.assert(-1!==d&&d<l.length-1,"Bad queryKey."),{queryId:l.substr(d+1),path:new _t(l.substr(0,d))}},g.prototype.queryKeyForTag_=function(l){return this.tagToQueryMap.get(l)},g.prototype.tagForQuery_=function(l){var d=g.makeQueryKey_(l);return this.queryToTagMap.get(d)},g.getNextQueryTag_=function(){return g.nextQueryTag_++},g.prototype.applyTaggedOperation_=function(l,d){var b=this.syncPointTree_.get(l);j.assert(b,"Missing sync point for query tag that we're tracking");var A=this.pendingWriteTree_.childWrites(l);return b.applyOperation(d,A,null)},g.prototype.applyOperationToSyncPoints_=function(l){return this.applyOperationHelper_(l,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(_t.Empty))},g.prototype.applyOperationHelper_=function(l,d,b,A){if(l.path.isEmpty())return this.applyOperationDescendantsHelper_(l,d,b,A);var U=d.get(_t.Empty);null==b&&null!=U&&(b=U.getCompleteServerCache(_t.Empty));var de=[],Ce=l.path.getFront(),ut=l.operationForChild(Ce),et=d.children.get(Ce);if(et&&ut){var tn=b?b.getImmediateChild(Ce):null,yn=A.child(Ce);de=de.concat(this.applyOperationHelper_(ut,et,tn,yn))}return U&&(de=de.concat(U.applyOperation(l,A,b))),de},g.prototype.applyOperationDescendantsHelper_=function(l,d,b,A){var U=this,de=d.get(_t.Empty);null==b&&null!=de&&(b=de.getCompleteServerCache(_t.Empty));var Ce=[];return d.children.inorderTraversal(function(ut,et){var tn=b?b.getImmediateChild(ut):null,yn=A.child(ut),In=l.operationForChild(ut);In&&(Ce=Ce.concat(U.applyOperationDescendantsHelper_(In,et,tn,yn)))}),de&&(Ce=Ce.concat(de.applyOperation(l,A,b))),Ce},g.nextQueryTag_=1,g}(),jt=function(){function g(){this.rootNode_=dn.EMPTY_NODE}return g.prototype.getNode=function(l){return this.rootNode_.getChild(l)},g.prototype.updateSnapshot=function(l,d){this.rootNode_=this.rootNode_.updateChild(l,d)},g}(),Jt=function(){function g(){this.counters_={}}return g.prototype.incrementCounter=function(l,d){void 0===d&&(d=1),j.contains(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=d},g.prototype.get=function(){return j.deepCopy(this.counters_)},g}(),Sn=function(){function g(){}return g.getCollection=function(l){var d=l.toString();return this.collections_[d]||(this.collections_[d]=new Jt),this.collections_[d]},g.getOrCreateReporter=function(l,d){var b=l.toString();return this.reporters_[b]||(this.reporters_[b]=d()),this.reporters_[b]},g.collections_={},g.reporters_={},g}(),Hn=function(){function g(l){this.collection_=l,this.last_=null}return g.prototype.get=function(){var l=this.collection_.get(),d=E.__assign({},l);return this.last_&&ct(this.last_,function(b,A){d[b]=d[b]-A}),this.last_=l,d},g}(),Mn=1e4,qn=3e4,Kr=function(){function g(l,d){this.server_=d,this.statsToReport_={},this.statsListener_=new Hn(l);var b=Mn+(qn-Mn)*Math.random();gn(this.reportStats_.bind(this),Math.floor(b))}return g.prototype.includeStat=function(l){this.statsToReport_[l]=!0},g.prototype.reportStats_=function(){var l=this,d=this.statsListener_.get(),b={},A=!1;ct(d,function(U,de){de>0&&j.contains(l.statsToReport_,U)&&(b[U]=de,A=!0)}),A&&this.server_.reportStats(b),gn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},g}(),Ar=function(){function g(){this.eventLists_=[],this.recursionDepth_=0}return g.prototype.queueEvents=function(l){for(var d=null,b=0;b<l.length;b++){var A=l[b],U=A.getPath();null!==d&&!U.equals(d.getPath())&&(this.eventLists_.push(d),d=null),null===d&&(d=new gi(U)),d.add(A)}d&&this.eventLists_.push(d)},g.prototype.raiseEventsAtPath=function(l,d){this.queueEvents(d),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(l)})},g.prototype.raiseEventsForChangedPath=function(l,d){this.queueEvents(d),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(l)||l.contains(b)})},g.prototype.raiseQueuedEventsMatchingPredicate_=function(l){this.recursionDepth_++;for(var d=!0,b=0;b<this.eventLists_.length;b++){var A=this.eventLists_[b];A&&(l(A.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):d=!1)}d&&(this.eventLists_=[]),this.recursionDepth_--},g}(),gi=function(){function g(l){this.path_=l,this.events_=[]}return g.prototype.add=function(l){this.events_.push(l)},g.prototype.raise=function(){for(var l=0;l<this.events_.length;l++){var d=this.events_[l];if(null!==d){this.events_[l]=null;var b=d.getEventRunner();ye&&en("event: "+d.toString()),ht(b)}}},g.prototype.getPath=function(){return this.path_},g}(),$r=function(){function g(l){this.allowedEvents_=l,this.listeners_={},j.assert(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}return g.prototype.trigger=function(l){for(var d=[],b=1;b<arguments.length;b++)d[b-1]=arguments[b];if(Array.isArray(this.listeners_[l]))for(var A=E.__spread(this.listeners_[l]),U=0;U<A.length;U++)A[U].callback.apply(A[U].context,d)},g.prototype.on=function(l,d,b){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:d,context:b});var A=this.getInitialEvent(l);A&&d.apply(b,A)},g.prototype.off=function(l,d,b){this.validateEventType_(l);for(var A=this.listeners_[l]||[],U=0;U<A.length;U++)if(A[U].callback===d&&(!b||b===A[U].context))return void A.splice(U,1)},g.prototype.validateEventType_=function(l){j.assert(this.allowedEvents_.find(function(d){return d===l}),"Unknown event: "+l)},g}(),Ri=function(g){function l(){var b,A,d=g.call(this,["visible"])||this;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(A="visibilitychange",b="hidden"):typeof document.mozHidden<"u"?(A="mozvisibilitychange",b="mozHidden"):typeof document.msHidden<"u"?(A="msvisibilitychange",b="msHidden"):typeof document.webkitHidden<"u"&&(A="webkitvisibilitychange",b="webkitHidden")),d.visible_=!0,A&&document.addEventListener(A,function(){var U=!document[b];U!==d.visible_&&(d.visible_=U,d.trigger("visible",U))},!1),d}return E.__extends(l,g),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(d){return j.assert("visible"===d,"Unknown event type: "+d),[this.visible_]},l}($r),vi=function(g){function l(){var d=g.call(this,["online"])||this;return d.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!j.isMobileCordova()&&(window.addEventListener("online",function(){d.online_||(d.online_=!0,d.trigger("online",!0))},!1),window.addEventListener("offline",function(){d.online_&&(d.online_=!1,d.trigger("online",!1))},!1)),d}return E.__extends(l,g),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(d){return j.assert("online"===d,"Unknown event type: "+d),[this.online_]},l.prototype.currentlyOnline=function(){return this.online_},l}($r),mo=function(){function g(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g.prototype.closeAfter=function(l,d){this.closeAfterResponse=l,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},g.prototype.handleResponse=function(l,d){var b=this;this.pendingResponses[l]=d;for(var A=function(){var Ce=U.pendingResponses[U.currentResponseNum];delete U.pendingResponses[U.currentResponseNum];for(var ut=function(tn){Ce[tn]&&ht(function(){b.onMessage_(Ce[tn])})},et=0;et<Ce.length;++et)ut(et);if(U.currentResponseNum===U.closeAfterResponse)return U.onClose&&(U.onClose(),U.onClose=null),"break";U.currentResponseNum++},U=this;this.pendingResponses[this.currentResponseNum]&&"break"!==A(););},g}(),Pi="start",Ur="close",go="pLPCommand",Si="pRTLPCB",Vi=function(){function g(l,d,b,A,U){this.connId=l,this.repoInfo=d,this.applicationId=b,this.transportSessionId=A,this.lastSessionId=U,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ot(l),this.stats_=Sn.getCollection(d),this.urlFn=function(de){return d.connectionURL(Dr,de)}}return g.prototype.open=function(l,d){var b=this;this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new mo(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if(j.isNodeSdk()||"complete"===document.readyState)g();else{var l=!1,d=function(){document.body?l||(l=!0,g()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Or(function(){for(var de=[],Ce=0;Ce<arguments.length;Ce++)de[Ce]=arguments[Ce];var ut=E.__read(de,5),et=ut[0],tn=ut[1],yn=ut[2];if(b.incrementIncomingBytes_(de),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,et===Pi)b.id=tn,b.password=yn;else{if(et!==Ur)throw new Error("Unrecognized command received: "+et);tn?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(tn,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var de=[],Ce=0;Ce<arguments.length;Ce++)de[Ce]=arguments[Ce];var ut=E.__read(de,2),et=ut[0],tn=ut[1];b.incrementIncomingBytes_(de),b.myPacketOrderer.handleResponse(et,tn)},function(){b.onClosed_()},b.urlFn);var A={};A[Pi]="t",A.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(A.cb=b.scriptTagHolder.uniqueCallbackIdentifier),A.v="5",b.transportSessionId&&(A.s=b.transportSessionId),b.lastSessionId&&(A.ls=b.lastSessionId),b.applicationId&&(A.p=b.applicationId),typeof location<"u"&&location.href&&-1!==location.href.indexOf(xn)&&(A.r="f");var U=b.urlFn(A);b.log_("Connecting via long-poll to "+U),b.scriptTagHolder.addTag(U,function(){})}})},g.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},g.forceAllow=function(){g.forceAllow_=!0},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){return!(j.isNodeSdk()||!g.forceAllow_&&(g.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},g.prototype.markConnectionHealthy=function(){},g.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},g.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},g.prototype.send=function(l){var d=j.stringify(l);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);for(var b=j.base64Encode(d),A=He(b,1840),U=0;U<A.length;U++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[U]),this.curSegmentNum++},g.prototype.addDisconnectPingFrame=function(l,d){if(!j.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=l,b.pw=d,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},g.prototype.incrementIncomingBytes_=function(l){var d=j.stringify(l).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)},g}(),Or=function(){function g(l,d,b,A){if(this.onDisconnect=b,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,j.isNodeSdk())this.commandCB=l,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=bt(),window[go+this.uniqueCallbackIdentifier]=l,window[Si+this.uniqueCallbackIdentifier]=d,this.myIFrame=g.createIFrame_();var U="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(U='<script>document.domain="'+document.domain+'";<\/script>');var Ce="<html><body>"+U+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Ce),this.myIFrame.doc.close()}catch(ut){en("frame writing exception"),ut.stack&&en(ut.stack),en(ut)}}}return g.createIFrame_=function(){var l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||en("No IE domain setting required")}catch{var b=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l},g.prototype.close=function(){var l=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==l.myIFrame&&(document.body.removeChild(l.myIFrame),l.myIFrame=null)},Math.floor(0)));var d=this.onDisconnect;d&&(this.onDisconnect=null,d())},g.prototype.startLongPoll=function(l,d){for(this.myID=l,this.myPW=d,this.alive=!0;this.newRequest_(););},g.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;for(var d=this.urlFn(l),b="",A=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var de=this.pendingSegs.shift();b=b+"&seg"+A+"="+de.seg+"&ts"+A+"="+de.ts+"&d"+A+"="+de.d,A++}return this.addLongPollTag_(d+=b,this.currentSerial),!0}return!1},g.prototype.enqueueSegment=function(l,d,b){this.pendingSegs.push({seg:l,ts:d,d:b}),this.alive&&this.newRequest_()},g.prototype.addLongPollTag_=function(l,d){var b=this;this.outstandingRequests.add(d);var A=function(){b.outstandingRequests.delete(d),b.newRequest_()},U=setTimeout(A,Math.floor(25e3));this.addTag(l,function(){clearTimeout(U),A()})},g.prototype.addTag=function(l,d){var b=this;j.isNodeSdk()?this.doNodeLongPoll(l,d):setTimeout(function(){try{if(!b.sendNewPolls)return;var A=b.myIFrame.doc.createElement("script");A.type="text/javascript",A.async=!0,A.src=l,A.onload=A.onreadystatechange=function(){var U=A.readyState;(!U||"loaded"===U||"complete"===U)&&(A.onload=A.onreadystatechange=null,A.parentNode&&A.parentNode.removeChild(A),d())},A.onerror=function(){en("Long-poll script failed to load: "+l),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(A)}catch{}},Math.floor(1))},g}(),_o="",To=null;typeof MozWebSocket<"u"?To=MozWebSocket:typeof WebSocket<"u"&&(To=WebSocket);var Hi=function(){function g(l,d,b,A,U){this.connId=l,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ot(this.connId),this.stats_=Sn.getCollection(d),this.connURL=g.connectionURL_(d,A,U),this.nodeAdmin=d.nodeAdmin}return g.connectionURL_=function(l,d,b){var A={v:"5"};return!j.isNodeSdk()&&typeof location<"u"&&location.href&&-1!==location.href.indexOf(xn)&&(A.r="f"),d&&(A.s=d),b&&(A.ls=b),l.connectionURL(Nn,A)},g.prototype.open=function(l,d){var b=this;this.onDisconnect=d,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ae.set("previous_websocket_failure",!0);try{if(j.isNodeSdk()){var U={headers:{"User-Agent":"Firebase/5/"+_o+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},de=process.env,Ce=0===this.connURL.indexOf("wss://")?de.HTTPS_PROXY||de.https_proxy:de.HTTP_PROXY||de.http_proxy;Ce&&(U.proxy={origin:Ce}),this.mySock=new To(this.connURL,[],U)}else this.mySock=new To(this.connURL,[],U={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(et){this.log_("Error instantiating WebSocket.");var ut=et.message||et.data;return ut&&this.log_(ut),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(et){b.handleIncomingFrame(et)},this.mySock.onerror=function(et){b.log_("WebSocket error.  Closing connection.");var tn=et.message||et.data;tn&&b.log_(tn),b.onClosed_()}},g.prototype.start=function(){},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){var l=!1;if(typeof navigator<"u"&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(l=!0)}return!l&&null!==To&&!g.forceDisallow_},g.previouslyFailed=function(){return Ae.isInMemoryStorage||!0===Ae.get("previous_websocket_failure")},g.prototype.markConnectionHealthy=function(){Ae.remove("previous_websocket_failure")},g.prototype.appendFrame_=function(l){if(this.frames.push(l),this.frames.length===this.totalFrames){var d=this.frames.join("");this.frames=null;var b=j.jsonEval(d);this.onMessage(b)}},g.prototype.handleNewFrameCount_=function(l){this.totalFrames=l,this.frames=[]},g.prototype.extractFrameCount_=function(l){if(j.assert(null===this.frames,"We already have a frame buffer"),l.length<=6){var d=Number(l);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),l},g.prototype.handleIncomingFrame=function(l){if(null!==this.mySock){var d=l.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{var b=this.extractFrameCount_(d);null!==b&&this.appendFrame_(b)}}},g.prototype.send=function(l){this.resetKeepAlive();var d=j.stringify(l);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);var b=He(d,16384);b.length>1&&this.sendString_(String(b.length));for(var A=0;A<b.length;A++)this.sendString_(b[A])},g.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},g.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},g.prototype.resetKeepAlive=function(){var l=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){l.mySock&&l.sendString_("0"),l.resetKeepAlive()},Math.floor(45e3))},g.prototype.sendString_=function(l){try{this.mySock.send(l)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g}(),es=function(){function g(l){this.initTransports_(l)}return Object.defineProperty(g,"ALL_TRANSPORTS",{get:function(){return[Vi,Hi]},enumerable:!1,configurable:!0}),g.prototype.initTransports_=function(l){var d,b,A=Hi&&Hi.isAvailable(),U=A&&!Hi.previouslyFailed();if(l.webSocketOnly&&(A||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),U=!0),U)this.transports_=[Hi];else{var de=this.transports_=[];try{for(var Ce=E.__values(g.ALL_TRANSPORTS),ut=Ce.next();!ut.done;ut=Ce.next()){var et=ut.value;et&&et.isAvailable()&&de.push(et)}}catch(tn){d={error:tn}}finally{try{ut&&!ut.done&&(b=Ce.return)&&b.call(Ce)}finally{if(d)throw d.error}}}},g.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},g.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},g}(),co=function(){function g(l,d,b,A,U,de,Ce,ut){this.id=l,this.repoInfo_=d,this.applicationId_=b,this.onMessage_=A,this.onReady_=U,this.onDisconnect_=de,this.onKill_=Ce,this.lastSessionId=ut,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ot("c:"+this.id+":"),this.transportManager_=new es(d),this.log_("Connection created"),this.start_()}return g.prototype.start_=function(){var l=this,d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),A=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){l.conn_&&l.conn_.open(b,A)},Math.floor(0));var U=d.healthyTimeout||0;U>0&&(this.healthyTimeout_=gn(function(){l.healthyTimeout_=null,l.isHealthy_||(l.conn_&&l.conn_.bytesReceived>102400?(l.log_("Connection exceeded healthy timeout but has received "+l.conn_.bytesReceived+" bytes.  Marking connection healthy."),l.isHealthy_=!0,l.conn_.markConnectionHealthy()):l.conn_&&l.conn_.bytesSent>10240?l.log_("Connection exceeded healthy timeout but has sent "+l.conn_.bytesSent+" bytes.  Leaving connection alive."):(l.log_("Closing unhealthy connection after timeout."),l.close()))},Math.floor(U)))},g.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},g.prototype.disconnReceiver_=function(l){var d=this;return function(b){l===d.conn_?d.onConnectionLost_(b):l===d.secondaryConn_?(d.log_("Secondary connection lost."),d.onSecondaryConnectionLost_()):d.log_("closing an old connection")}},g.prototype.connReceiver_=function(l){var d=this;return function(b){2!==d.state_&&(l===d.rx_?d.onPrimaryMessageReceived_(b):l===d.secondaryConn_?d.onSecondaryMessageReceived_(b):d.log_("message on old connection"))}},g.prototype.sendRequest=function(l){this.sendData_({t:"d",d:l})},g.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},g.prototype.onSecondaryControl_=function(l){if("t"in l){var d=l.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},g.prototype.onSecondaryMessageReceived_=function(l){var d=Ke("t",l),b=Ke("d",l);if("c"===d)this.onSecondaryControl_(b);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(b)}},g.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},g.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},g.prototype.onPrimaryMessageReceived_=function(l){var d=Ke("t",l),b=Ke("d",l);"c"===d?this.onControl_(b):"d"===d&&this.onDataMessage_(b)},g.prototype.onDataMessage_=function(l){this.onPrimaryResponse_(),this.onMessage_(l)},g.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},g.prototype.onControl_=function(l){var d=Ke("t",l);if("d"in l){var b=l.d;if("h"===d)this.onHandshake_(b);else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(b):"r"===d?this.onReset_(b):"e"===d?Le("Server Error: "+b):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Le("Unknown control packet command: "+d)}},g.prototype.onHandshake_=function(l){var d=l.ts,b=l.v,A=l.h;this.sessionId=l.s,this.repoInfo_.updateHost(A),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==b&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())},g.prototype.tryStartUpgrade_=function(){var l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)},g.prototype.startUpgrade_=function(l){var d=this;this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),A=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,A),gn(function(){d.secondaryConn_&&(d.log_("Timed out trying to upgrade."),d.secondaryConn_.close())},Math.floor(6e4))},g.prototype.onReset_=function(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.updateHost(l),1===this.state_?this.close():(this.closeConnections_(),this.start_())},g.prototype.onConnectionEstablished_=function(l,d){var b=this;this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},g.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},g.prototype.onSecondaryConnectionLost_=function(){var l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()},g.prototype.onConnectionLost_=function(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ae.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},g.prototype.onConnectionShutdown_=function(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()},g.prototype.sendData_=function(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)},g.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},g.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},g}(),Lo=function(){function g(){}return g.prototype.put=function(l,d,b,A){},g.prototype.merge=function(l,d,b,A){},g.prototype.refreshAuthToken=function(l){},g.prototype.onDisconnectPut=function(l,d,b){},g.prototype.onDisconnectMerge=function(l,d,b){},g.prototype.onDisconnectCancel=function(l,d){},g.prototype.reportStats=function(l){},g}(),xo=1e3,Do=3e5,fi=function(g){function l(d,b,A,U,de,Ce,ut){var et=g.call(this)||this;if(et.repoInfo_=d,et.applicationId_=b,et.onDataUpdate_=A,et.onConnectStatus_=U,et.onServerInfoUpdate_=de,et.authTokenProvider_=Ce,et.authOverride_=ut,et.id=l.nextPersistentConnectionId_++,et.log_=Ot("p:"+et.id+":"),et.interruptReasons_={},et.listens=new Map,et.outstandingPuts_=[],et.outstandingPutCount_=0,et.onDisconnectRequestQueue_=[],et.connected_=!1,et.reconnectDelay_=xo,et.maxReconnectDelay_=Do,et.securityDebugCallback_=null,et.lastSessionId=null,et.establishConnectionTimer_=null,et.visible_=!1,et.requestCBHash_={},et.requestNumber_=0,et.realtime_=null,et.authToken_=null,et.forceTokenRefresh_=!1,et.invalidAuthTokenCount_=0,et.firstConnection_=!0,et.lastConnectionAttemptTime_=null,et.lastConnectionEstablishedTime_=null,ut&&!j.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return et.scheduleConnect_(0),Ri.getInstance().on("visible",et.onVisible_,et),-1===d.host.indexOf("fblocal")&&vi.getInstance().on("online",et.onOnline_,et),et}return E.__extends(l,g),l.prototype.sendRequest=function(d,b,A){var U=++this.requestNumber_,de={r:U,a:d,b};this.log_(j.stringify(de)),j.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(de),A&&(this.requestCBHash_[U]=A)},l.prototype.listen=function(d,b,A,U){var de=d.queryIdentifier(),Ce=d.path.toString();this.log_("Listen called for "+Ce+" "+de),this.listens.has(Ce)||this.listens.set(Ce,new Map),j.assert(d.getQueryParams().isDefault()||!d.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),j.assert(!this.listens.get(Ce).has(de),"listen() called twice for same path/queryId.");var ut={onComplete:U,hashFn:b,query:d,tag:A};this.listens.get(Ce).set(de,ut),this.connected_&&this.sendListen_(ut)},l.prototype.sendListen_=function(d){var b=this,A=d.query,U=A.path.toString(),de=A.queryIdentifier();this.log_("Listen on "+U+" for "+de);var Ce={p:U};d.tag&&(Ce.q=A.queryObject(),Ce.t=d.tag),Ce.h=d.hashFn(),this.sendRequest("q",Ce,function(et){var tn=et.d,yn=et.s;l.warnOnListenWarnings_(tn,A),(b.listens.get(U)&&b.listens.get(U).get(de))===d&&(b.log_("listen response",et),"ok"!==yn&&b.removeListen_(U,de),d.onComplete&&d.onComplete(yn,tn))})},l.warnOnListenWarnings_=function(d,b){if(d&&"object"==typeof d&&j.contains(d,"w")){var A=j.safeGet(d,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){var U='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',de=b.path.toString();tt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+U+" at "+de+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(d)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(d){(d&&40===d.length||j.isAdmin(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.tryAuth=function(){var d=this;if(this.connected_&&this.authToken_){var b=this.authToken_,A=j.isValidFormat(b)?"auth":"gauth",U={cred:b};null===this.authOverride_?U.noauth=!0:"object"==typeof this.authOverride_&&(U.authvar=this.authOverride_),this.sendRequest(A,U,function(de){var Ce=de.s,ut=de.d||"error";d.authToken_===b&&("ok"===Ce?d.invalidAuthTokenCount_=0:d.onAuthRevoked_(Ce,ut))})}},l.prototype.unlisten=function(d,b){var A=d.path.toString(),U=d.queryIdentifier();this.log_("Unlisten called for "+A+" "+U),j.assert(d.getQueryParams().isDefault()||!d.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,U)&&this.connected_&&this.sendUnlisten_(A,U,d.queryObject(),b)},l.prototype.sendUnlisten_=function(d,b,A,U){this.log_("Unlisten on "+d+" for "+b);var de={p:d};U&&(de.q=A,de.t=U),this.sendRequest("n",de)},l.prototype.onDisconnectPut=function(d,b,A){this.connected_?this.sendOnDisconnect_("o",d,b,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:b,onComplete:A})},l.prototype.onDisconnectMerge=function(d,b,A){this.connected_?this.sendOnDisconnect_("om",d,b,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:b,onComplete:A})},l.prototype.onDisconnectCancel=function(d,b){this.connected_?this.sendOnDisconnect_("oc",d,null,b):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:b})},l.prototype.sendOnDisconnect_=function(d,b,A,U){var de={p:b,d:A};this.log_("onDisconnect "+d,de),this.sendRequest(d,de,function(Ce){U&&setTimeout(function(){U(Ce.s,Ce.d)},Math.floor(0))})},l.prototype.put=function(d,b,A,U){this.putInternal("p",d,b,A,U)},l.prototype.merge=function(d,b,A,U){this.putInternal("m",d,b,A,U)},l.prototype.putInternal=function(d,b,A,U,de){var Ce={p:b,d:A};void 0!==de&&(Ce.h=de),this.outstandingPuts_.push({action:d,request:Ce,onComplete:U}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},l.prototype.sendPut_=function(d){var b=this,A=this.outstandingPuts_[d].action,U=this.outstandingPuts_[d].request,de=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(A,U,function(Ce){b.log_(A+" response",Ce),delete b.outstandingPuts_[d],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),de&&de(Ce.s,Ce.d)})},l.prototype.reportStats=function(d){var b=this;if(this.connected_){var A={c:d};this.log_("reportStats",A),this.sendRequest("s",A,function(U){"ok"!==U.s&&b.log_("reportStats","Error sending stats: "+U.d)})}},l.prototype.onDataMessage_=function(d){if("r"in d){this.log_("from server: "+j.stringify(d));var b=d.r,A=this.requestCBHash_[b];A&&(delete this.requestCBHash_[b],A(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}},l.prototype.onDataPush_=function(d,b){this.log_("handleServerMessage",d,b),"d"===d?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===d?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===d?this.onListenRevoked_(b.p,b.q):"ac"===d?this.onAuthRevoked_(b.s,b.d):"sd"===d?this.onSecurityDebugPacket_(b):Le("Unrecognized action received from server: "+j.stringify(d)+"\nAre you using the latest client?")},l.prototype.onReady_=function(d,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(d){var b=this;j.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(d))},l.prototype.onVisible_=function(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=d},l.prototype.onOnline_=function(d){d?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,A=Math.max(0,this.reconnectDelay_-b);A=Math.random()*A,this.log_("Trying to reconnect in "+A+"ms"),this.scheduleConnect_(A),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){var d=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),A=this.onReady_.bind(this),U=this.onRealtimeDisconnect_.bind(this),de=this.id+":"+l.nextConnectionId_++,Ce=this,ut=this.lastSessionId,et=!1,tn=null,yn=function(){tn?tn.close():(et=!0,U())};this.realtime_={close:yn,sendRequest:function(X){j.assert(tn,"sendRequest call when we're not connected not allowed."),tn.sendRequest(X)}};var Gn=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(Gn).then(function(X){et?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),Ce.authToken_=X&&X.accessToken,tn=new co(de,Ce.repoInfo_,Ce.applicationId_,b,A,U,function(D){tt(D+" ("+Ce.repoInfo_.toString()+")"),Ce.interrupt("server_kill")},ut))}).then(null,function(X){Ce.log_("Failed to get token: "+X),et||(d.repoInfo_.nodeAdmin&&tt(X),yn())})}},l.prototype.interrupt=function(d){en("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(d){en("Resuming connection for reason: "+d),delete this.interruptReasons_[d],j.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(d){var b=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},l.prototype.cancelSentTransactions_=function(){for(var d=0;d<this.outstandingPuts_.length;d++){var b=this.outstandingPuts_[d];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(d,b){var A;A=b?b.map(function(de){return Tn(de)}).join("$"):"default";var U=this.removeListen_(d,A);U&&U.onComplete&&U.onComplete("permission_denied")},l.prototype.removeListen_=function(d,b){var U,A=new _t(d).toString();if(this.listens.has(A)){var de=this.listens.get(A);U=de.get(b),de.delete(b),0===de.size&&this.listens.delete(A)}else U=void 0;return U},l.prototype.onAuthRevoked_=function(d,b){en("Auth token revoked: "+d+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onSecurityDebugPacket_=function(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var d,b,A,U;this.tryAuth();try{for(var de=E.__values(this.listens.values()),Ce=de.next();!Ce.done;Ce=de.next()){var ut=Ce.value;try{for(var et=(A=void 0,E.__values(ut.values())),tn=et.next();!tn.done;tn=et.next())this.sendListen_(tn.value)}catch(X){A={error:X}}finally{try{tn&&!tn.done&&(U=et.return)&&U.call(et)}finally{if(A)throw A.error}}}}catch(X){d={error:X}}finally{try{Ce&&!Ce.done&&(b=de.return)&&b.call(de)}finally{if(d)throw d.error}}for(var In=0;In<this.outstandingPuts_.length;In++)this.outstandingPuts_[In]&&this.sendPut_(In);for(;this.onDisconnectRequestQueue_.length;){var Gn=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Gn.action,Gn.pathString,Gn.data,Gn.onComplete)}},l.prototype.sendConnectStats_=function(){var d={},b="js";j.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+b+"."+_o.replace(/\./g,"-")]=1,j.isMobileCordova()?d["framework.cordova"]=1:j.isReactNative()&&(d["framework.reactnative"]=1),this.reportStats(d)},l.prototype.shouldReconnect_=function(){var d=vi.getInstance().currentlyOnline();return j.isEmpty(this.interruptReasons_)&&d},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Lo),Cs=function(g){function l(d,b,A){var U=g.call(this)||this;return U.repoInfo_=d,U.onDataUpdate_=b,U.authTokenProvider_=A,U.log_=Ot("p:rest:"),U.listens_={},U}return E.__extends(l,g),l.prototype.reportStats=function(d){throw new Error("Method not implemented.")},l.getListenId_=function(d,b){return void 0!==b?"tag$"+b:(j.assert(d.getQueryParams().isDefault(),"should have a tag if it's not a default query."),d.path.toString())},l.prototype.listen=function(d,b,A,U){var de=this,Ce=d.path.toString();this.log_("Listen called for "+Ce+" "+d.queryIdentifier());var ut=l.getListenId_(d,A),et={};this.listens_[ut]=et;var tn=d.getQueryParams().toRestQueryStringParameters();this.restRequest_(Ce+".json",tn,function(yn,In){var Gn=In;404===yn&&(Gn=null,yn=null),null===yn&&de.onDataUpdate_(Ce,Gn,!1,A),j.safeGet(de.listens_,ut)===et&&U(yn?401===yn?"permission_denied":"rest_error:"+yn:"ok",null)})},l.prototype.unlisten=function(d,b){var A=l.getListenId_(d,b);delete this.listens_[A]},l.prototype.refreshAuthToken=function(d){},l.prototype.restRequest_=function(d,b,A){var U=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(de){var Ce=de&&de.accessToken;Ce&&(b.auth=Ce);var ut=(U.repoInfo_.secure?"https://":"http://")+U.repoInfo_.host+d+"?ns="+U.repoInfo_.namespace+j.querystring(b);U.log_("Sending REST request for "+ut);var et=new XMLHttpRequest;et.onreadystatechange=function(){if(A&&4===et.readyState){U.log_("REST Response for "+ut+" received. status:",et.status,"response:",et.responseText);var tn=null;if(et.status>=200&&et.status<300){try{tn=j.jsonEval(et.responseText)}catch{tt("Failed to parse JSON response for "+ut+": "+et.responseText)}A(null,tn)}else 401!==et.status&&404!==et.status&&tt("Got unsuccessful REST response for "+ut+" Status: "+et.status),A(et.status);A=null}},et.open("GET",ut,!0),et.send()})},l}(Lo),Xn="repo_interrupt",Ci=function(){function g(l,d,b,A){var U=this;if(this.repoInfo_=l,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ar,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new $n,this.persistentConnection_=null,this.stats_=Sn.getCollection(l),d||Et())this.server_=new Cs(this.repoInfo_,this.onDataUpdate_.bind(this),A),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var de=b.options.databaseAuthVariableOverride;if(typeof de<"u"&&null!==de){if("object"!=typeof de)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{j.stringify(de)}catch(Ce){throw new Error("Invalid authOverride provided: "+Ce)}}this.persistentConnection_=new fi(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),A,de),this.server_=this.persistentConnection_}A.addTokenChangeListener(function(Ce){U.server_.refreshAuthToken(Ce)}),this.statsReporter_=Sn.getOrCreateReporter(l,function(){return new Kr(U.stats_,U.server_)}),this.transactionsInit_(),this.infoData_=new jt,this.infoSyncTree_=new wt({startListening:function(Ce,ut,et,tn){var yn=[],In=U.infoData_.getNode(Ce.path);return In.isEmpty()||(yn=U.infoSyncTree_.applyServerOverwrite(Ce.path,In),setTimeout(function(){tn("ok")},0)),yn},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new wt({startListening:function(Ce,ut,et,tn){return U.server_.listen(Ce,et,ut,function(yn,In){var Gn=tn(yn,In);U.eventQueue_.raiseEventsForChangedPath(Ce.path,Gn)}),[]},stopListening:function(Ce,ut){U.server_.unlisten(Ce,ut)}})}return g.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},g.prototype.name=function(){return this.repoInfo_.namespace},g.prototype.serverTime=function(){var d=this.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d},g.prototype.generateServerValues=function(){return function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g}({timestamp:this.serverTime()})},g.prototype.onDataUpdate_=function(l,d,b,A){this.dataUpdateCount++;var U=new _t(l);d=this.interceptServerDataCallback_?this.interceptServerDataCallback_(l,d):d;var de=[];if(A)if(b){var Ce=j.map(d,function(In){return Cr(In)});de=this.serverSyncTree_.applyTaggedQueryMerge(U,Ce,A)}else{var ut=Cr(d);de=this.serverSyncTree_.applyTaggedQueryOverwrite(U,ut,A)}else if(b){var et=j.map(d,function(In){return Cr(In)});de=this.serverSyncTree_.applyServerMerge(U,et)}else{var tn=Cr(d);de=this.serverSyncTree_.applyServerOverwrite(U,tn)}var yn=U;de.length>0&&(yn=this.rerunTransactions_(U)),this.eventQueue_.raiseEventsForChangedPath(yn,de)},g.prototype.interceptServerData_=function(l){this.interceptServerDataCallback_=l},g.prototype.onConnectStatus_=function(l){this.updateInfo_("connected",l),!1===l&&this.runOnDisconnectEvents_()},g.prototype.onServerInfoUpdate_=function(l){var d=this;ct(l,function(b,A){d.updateInfo_(b,A)})},g.prototype.updateInfo_=function(l,d){var b=new _t("/.info/"+l),A=Cr(d);this.infoData_.updateSnapshot(b,A);var U=this.infoSyncTree_.applyServerOverwrite(b,A);this.eventQueue_.raiseEventsForChangedPath(b,U)},g.prototype.getNextWriteId_=function(){return this.nextWriteId_++},g.prototype.setWithPriority=function(l,d,b,A){var U=this;this.log_("set",{path:l.toString(),value:d,priority:b});var de=this.generateServerValues(),Ce=Cr(d,b),ut=this.serverSyncTree_.calcCompleteEventCache(l),et=Xe(Ce,ut,de),tn=this.getNextWriteId_(),yn=this.serverSyncTree_.applyUserOverwrite(l,et,tn,!0);this.eventQueue_.queueEvents(yn),this.server_.put(l.toString(),Ce.val(!0),function(Gn,X){var D="ok"===Gn;D||tt("set at "+l+" failed: "+Gn);var S=U.serverSyncTree_.ackUserWrite(tn,!D);U.eventQueue_.raiseEventsForChangedPath(l,S),U.callOnCompleteCallback(A,Gn,X)});var In=this.abortTransactions_(l);this.rerunTransactions_(In),this.eventQueue_.raiseEventsForChangedPath(In,[])},g.prototype.update=function(l,d,b){var A=this;this.log_("update",{path:l.toString(),value:d});var U=!0,de=this.generateServerValues(),Ce={};if(ct(d,function(tn,yn){U=!1,Ce[tn]=_e(l.child(tn),Cr(yn),A.serverSyncTree_,de)}),U)en("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var ut=this.getNextWriteId_(),et=this.serverSyncTree_.applyUserMerge(l,Ce,ut);this.eventQueue_.queueEvents(et),this.server_.merge(l.toString(),d,function(tn,yn){var In="ok"===tn;In||tt("update at "+l+" failed: "+tn);var Gn=A.serverSyncTree_.ackUserWrite(ut,!In),X=Gn.length>0?A.rerunTransactions_(l):l;A.eventQueue_.raiseEventsForChangedPath(X,Gn),A.callOnCompleteCallback(b,tn,yn)}),ct(d,function(tn){var yn=A.abortTransactions_(l.child(tn));A.rerunTransactions_(yn)}),this.eventQueue_.raiseEventsForChangedPath(l,[])}},g.prototype.runOnDisconnectEvents_=function(){var l=this;this.log_("onDisconnectEvents");var d=this.generateServerValues(),b=new $n;this.onDisconnect_.forEachTree(_t.Empty,function(U,de){var Ce=_e(U,de,l.serverSyncTree_,d);b.remember(U,Ce)});var A=[];b.forEachTree(_t.Empty,function(U,de){A=A.concat(l.serverSyncTree_.applyServerOverwrite(U,de));var Ce=l.abortTransactions_(U);l.rerunTransactions_(Ce)}),this.onDisconnect_=new $n,this.eventQueue_.raiseEventsForChangedPath(_t.Empty,A)},g.prototype.onDisconnectCancel=function(l,d){var b=this;this.server_.onDisconnectCancel(l.toString(),function(A,U){"ok"===A&&b.onDisconnect_.forget(l),b.callOnCompleteCallback(d,A,U)})},g.prototype.onDisconnectSet=function(l,d,b){var A=this,U=Cr(d);this.server_.onDisconnectPut(l.toString(),U.val(!0),function(de,Ce){"ok"===de&&A.onDisconnect_.remember(l,U),A.callOnCompleteCallback(b,de,Ce)})},g.prototype.onDisconnectSetWithPriority=function(l,d,b,A){var U=this,de=Cr(d,b);this.server_.onDisconnectPut(l.toString(),de.val(!0),function(Ce,ut){"ok"===Ce&&U.onDisconnect_.remember(l,de),U.callOnCompleteCallback(A,Ce,ut)})},g.prototype.onDisconnectUpdate=function(l,d,b){var A=this;if(j.isEmpty(d))return en("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(l.toString(),d,function(U,de){"ok"===U&&ct(d,function(Ce,ut){var et=Cr(ut);A.onDisconnect_.remember(l.child(Ce),et)}),A.callOnCompleteCallback(b,U,de)})},g.prototype.addEventCallbackForQuery=function(l,d){var b;b=".info"===l.path.getFront()?this.infoSyncTree_.addEventRegistration(l,d):this.serverSyncTree_.addEventRegistration(l,d),this.eventQueue_.raiseEventsAtPath(l.path,b)},g.prototype.removeEventCallbackForQuery=function(l,d){var b;b=".info"===l.path.getFront()?this.infoSyncTree_.removeEventRegistration(l,d):this.serverSyncTree_.removeEventRegistration(l,d),this.eventQueue_.raiseEventsAtPath(l.path,b)},g.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Xn)},g.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Xn)},g.prototype.stats=function(l){if(void 0===l&&(l=!1),!(typeof console>"u")){var d;l?(this.statsListener_||(this.statsListener_=new Hn(this.stats_)),d=this.statsListener_.get()):d=this.stats_.get();var b=Object.keys(d).reduce(function(A,U){return Math.max(U.length,A)},0);ct(d,function(A,U){for(var de=A,Ce=A.length;Ce<b+2;Ce++)de+=" ";console.log(de+U)})}},g.prototype.statsIncrementCounter=function(l){this.stats_.incrementCounter(l),this.statsReporter_.includeStat(l)},g.prototype.log_=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),en.apply(void 0,E.__spread([b],l))},g.prototype.callOnCompleteCallback=function(l,d,b){l&&ht(function(){if("ok"===d)l(null);else{var A=(d||"error").toUpperCase(),U=A;b&&(U+=": "+b);var de=new Error(U);de.code=A,l(de)}})},Object.defineProperty(g.prototype,"database",{get:function(){return this.__database||(this.__database=new sn(this))},enumerable:!1,configurable:!0}),g}(),vs=function(){function g(l){this.indexedFilter_=new So(l.getIndex()),this.index_=l.getIndex(),this.startPost_=g.getStartPost_(l),this.endPost_=g.getEndPost_(l)}return g.prototype.getStartPost=function(){return this.startPost_},g.prototype.getEndPost=function(){return this.endPost_},g.prototype.matches=function(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0},g.prototype.updateChild=function(l,d,b,A,U,de){return this.matches(new xe(d,b))||(b=dn.EMPTY_NODE),this.indexedFilter_.updateChild(l,d,b,A,U,de)},g.prototype.updateFullNode=function(l,d,b){d.isLeafNode()&&(d=dn.EMPTY_NODE);var A=d.withIndex(this.index_);A=A.updatePriority(dn.EMPTY_NODE);var U=this;return d.forEachChild(pt,function(de,Ce){U.matches(new xe(de,Ce))||(A=A.updateImmediateChild(de,dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,A,b)},g.prototype.updatePriority=function(l,d){return l},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.indexedFilter_},g.prototype.getIndex=function(){return this.index_},g.getStartPost_=function(l){if(l.hasStart()){var d=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),d)}return l.getIndex().minPost()},g.getEndPost_=function(l){if(l.hasEnd()){var d=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),d)}return l.getIndex().maxPost()},g}(),ys=function(){function g(l){this.rangedFilter_=new vs(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}return g.prototype.updateChild=function(l,d,b,A,U,de){return this.rangedFilter_.matches(new xe(d,b))||(b=dn.EMPTY_NODE),l.getImmediateChild(d).equals(b)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,d,b,A,U,de):this.fullLimitUpdateChild_(l,d,b,U,de)},g.prototype.updateFullNode=function(l,d,b){var A;if(d.isLeafNode()||d.isEmpty())A=dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){A=dn.EMPTY_NODE.withIndex(this.index_);var U=void 0;U=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var de=0;U.hasNext()&&de<this.limit_;){var Ce=U.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Ce)<=0:this.index_.compare(Ce,this.rangedFilter_.getEndPost())<=0))break;A=A.updateImmediateChild(Ce.name,Ce.node),de++}}else{A=(A=d.withIndex(this.index_)).updatePriority(dn.EMPTY_NODE);var et=void 0,tn=void 0,yn=void 0;if(U=void 0,this.reverse_){U=A.getReverseIterator(this.index_),et=this.rangedFilter_.getEndPost(),tn=this.rangedFilter_.getStartPost();var In=this.index_.getCompare();yn=function(S,L){return In(L,S)}}else U=A.getIterator(this.index_),et=this.rangedFilter_.getStartPost(),tn=this.rangedFilter_.getEndPost(),yn=this.index_.getCompare();de=0;for(var Gn=!1;U.hasNext();)Ce=U.getNext(),!Gn&&yn(et,Ce)<=0&&(Gn=!0),Gn&&de<this.limit_&&yn(Ce,tn)<=0?de++:A=A.updateImmediateChild(Ce.name,dn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,A,b)},g.prototype.updatePriority=function(l,d){return l},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},g.prototype.getIndex=function(){return this.index_},g.prototype.fullLimitUpdateChild_=function(l,d,b,A,U){var de;if(this.reverse_){var Ce=this.index_.getCompare();de=function(ue,Ye){return Ce(Ye,ue)}}else de=this.index_.getCompare();var ut=l;j.assert(ut.numChildren()===this.limit_,"");var et=new xe(d,b),tn=this.reverse_?ut.getFirstChild(this.index_):ut.getLastChild(this.index_),yn=this.rangedFilter_.matches(et);if(ut.hasChild(d)){for(var In=ut.getImmediateChild(d),Gn=A.getChildAfterChild(this.index_,tn,this.reverse_);null!=Gn&&(Gn.name===d||ut.hasChild(Gn.name));)Gn=A.getChildAfterChild(this.index_,Gn,this.reverse_);var X=null==Gn?1:de(Gn,et);if(yn&&!b.isEmpty()&&X>=0)return U?.trackChildChange(Gr.childChangedChange(d,b,In)),ut.updateImmediateChild(d,b);U?.trackChildChange(Gr.childRemovedChange(d,In));var S=ut.updateImmediateChild(d,dn.EMPTY_NODE);return null!=Gn&&this.rangedFilter_.matches(Gn)?(U?.trackChildChange(Gr.childAddedChange(Gn.name,Gn.node)),S.updateImmediateChild(Gn.name,Gn.node)):S}return b.isEmpty()?l:yn&&de(tn,et)>=0?(null!=U&&(U.trackChildChange(Gr.childRemovedChange(tn.name,tn.node)),U.trackChildChange(Gr.childAddedChange(d,b))),ut.updateImmediateChild(d,b).updateImmediateChild(tn.name,dn.EMPTY_NODE)):l},g}(),zo=function(){function g(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}return g.prototype.hasStart=function(){return this.startSet_},g.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},g.prototype.getIndexStartValue=function(){return j.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},g.prototype.getIndexStartName=function(){return j.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:W},g.prototype.hasEnd=function(){return this.endSet_},g.prototype.getIndexEndValue=function(){return j.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},g.prototype.getIndexEndName=function(){return j.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:J},g.prototype.hasLimit=function(){return this.limitSet_},g.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},g.prototype.getLimit=function(){return j.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},g.prototype.getIndex=function(){return this.index_},g.prototype.copy_=function(){var l=new g;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l},g.prototype.limit=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_="",d},g.prototype.limitToFirst=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_=g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,d},g.prototype.limitToLast=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_=g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,d},g.prototype.startAt=function(l,d){var b=this.copy_();return b.startSet_=!0,void 0===l&&(l=null),b.indexStartValue_=l,null!=d?(b.startNameSet_=!0,b.indexStartName_=d):(b.startNameSet_=!1,b.indexStartName_=""),b},g.prototype.endAt=function(l,d){var b=this.copy_();return b.endSet_=!0,void 0===l&&(l=null),b.indexEndValue_=l,void 0!==d?(b.endNameSet_=!0,b.indexEndName_=d):(b.endNameSet_=!1,b.indexEndName_=""),b},g.prototype.orderBy=function(l){var d=this.copy_();return d.index_=l,d},g.prototype.getQueryObject=function(){var l=g.WIRE_PROTOCOL_CONSTANTS_,d={};if(this.startSet_&&(d[l.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(d[l.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(d[l.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(d[l.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){d[l.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?l.VIEW_FROM_LEFT:l.VIEW_FROM_RIGHT),d[l.VIEW_FROM]=b}return this.index_!==pt&&(d[l.INDEX]=this.index_.toString()),d},g.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},g.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===pt},g.prototype.getNodeFilter=function(){return this.loadsAllData()?new So(this.getIndex()):this.hasLimit()?new ys(this):new vs(this)},g.prototype.toRestQueryStringParameters=function(){var b,l=g.REST_QUERY_CONSTANTS_,d={};return this.isDefault()||(this.index_===pt?b=l.PRIORITY_INDEX:this.index_===di?b=l.VALUE_INDEX:this.index_===qt?b=l.KEY_INDEX:(j.assert(this.index_ instanceof Mr,"Unrecognized index type!"),b=this.index_.toString()),d[l.ORDER_BY]=j.stringify(b),this.startSet_&&(d[l.START_AT]=j.stringify(this.indexStartValue_),this.startNameSet_&&(d[l.START_AT]+=","+j.stringify(this.indexStartName_))),this.endSet_&&(d[l.END_AT]=j.stringify(this.indexEndValue_),this.endNameSet_&&(d[l.END_AT]+=","+j.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?d[l.LIMIT_TO_FIRST]=this.limit_:d[l.LIMIT_TO_LAST]=this.limit_)),d},g.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},g.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},g.DEFAULT=new g,g}(),bo=function(g){function l(d,b){if(!(d instanceof Ci))throw new Error("new Reference() no longer supported - use app.database().");return g.call(this,d,b,zo.DEFAULT,!1)||this}return E.__extends(l,g),l.prototype.getKey=function(){return j.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},l.prototype.child=function(d){return j.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof d?d=String(d):d instanceof _t||(null===this.path.getFront()?Vt("Reference.child",1,d,!1):Pt("Reference.child",1,d,!1)),new l(this.repo,this.path.child(d))},l.prototype.getParent=function(){j.validateArgCount("Reference.parent",0,0,arguments.length);var d=this.path.parent();return null===d?null:new l(this.repo,d)},l.prototype.getRoot=function(){j.validateArgCount("Reference.root",0,0,arguments.length);for(var d=this;null!==d.getParent();)d=d.getParent();return d},l.prototype.databaseProp=function(){return this.repo.database},l.prototype.set=function(d,b){j.validateArgCount("Reference.set",1,2,arguments.length),Te("Reference.set",this.path),On("Reference.set",1,d,this.path,!1),j.validateCallback("Reference.set",2,b,!0);var A=new j.Deferred;return this.repo.setWithPriority(this.path,d,null,A.wrapCallback(b)),A.promise},l.prototype.update=function(d,b){if(j.validateArgCount("Reference.update",1,2,arguments.length),Te("Reference.update",this.path),Array.isArray(d)){for(var A={},U=0;U<d.length;++U)A[""+U]=d[U];d=A,tt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rn("Reference.update",1,d,this.path,!1),j.validateCallback("Reference.update",2,b,!0);var de=new j.Deferred;return this.repo.update(this.path,d,de.wrapCallback(b)),de.promise},l.prototype.setWithPriority=function(d,b,A){if(j.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Te("Reference.setWithPriority",this.path),On("Reference.setWithPriority",1,d,this.path,!1),nr("Reference.setWithPriority",2,b,!1),j.validateCallback("Reference.setWithPriority",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var U=new j.Deferred;return this.repo.setWithPriority(this.path,d,b,U.wrapCallback(A)),U.promise},l.prototype.remove=function(d){return j.validateArgCount("Reference.remove",0,1,arguments.length),Te("Reference.remove",this.path),j.validateCallback("Reference.remove",1,d,!0),this.set(null,d)},l.prototype.transaction=function(d,b,A){if(j.validateArgCount("Reference.transaction",1,3,arguments.length),Te("Reference.transaction",this.path),j.validateCallback("Reference.transaction",1,d,!1),j.validateCallback("Reference.transaction",2,b,!0),ae("Reference.transaction",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===A&&(A=!0);var U=new j.Deferred;return"function"==typeof b&&U.promise.catch(function(){}),this.repo.startTransaction(this.path,d,function(Ce,ut,et){Ce?U.reject(Ce):U.resolve(new Tt(ut,et)),"function"==typeof b&&b(Ce,ut,et)},A),U.promise},l.prototype.setPriority=function(d,b){j.validateArgCount("Reference.setPriority",1,2,arguments.length),Te("Reference.setPriority",this.path),nr("Reference.setPriority",1,d,!1),j.validateCallback("Reference.setPriority",2,b,!0);var A=new j.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),d,null,A.wrapCallback(b)),A.promise},l.prototype.push=function(d,b){j.validateArgCount("Reference.push",0,2,arguments.length),Te("Reference.push",this.path),On("Reference.push",1,d,this.path,!0),j.validateCallback("Reference.push",2,b,!0);var ut,A=this.repo.serverTime(),U=bn(A),de=this.child(U),Ce=this.child(U);return ut=null!=d?de.set(d,b).then(function(){return Ce}):Promise.resolve(Ce),de.then=ut.then.bind(ut),de.catch=ut.then.bind(ut,void 0),"function"==typeof b&&ut.catch(function(){}),de},l.prototype.onDisconnect=function(){return Te("Reference.onDisconnect",this.path),new rt(this.repo,this.path)},Object.defineProperty(l.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),l}(to);to.__referenceConstructor=bo,ds.__referenceConstructor=bo;var Ys=function g(){this.children={},this.childCount=0,this.value=null},ms=function(){function g(l,d,b){void 0===l&&(l=""),void 0===d&&(d=null),void 0===b&&(b=new Ys),this.name_=l,this.parent_=d,this.node_=b}return g.prototype.subTree=function(l){for(var d=l instanceof _t?l:new _t(l),b=this,A=d.getFront();null!==A;)b=new g(A,b,j.safeGet(b.node_.children,A)||new Ys),A=(d=d.popFront()).getFront();return b},g.prototype.getValue=function(){return this.node_.value},g.prototype.setValue=function(l){j.assert(typeof l<"u","Cannot set value to undefined"),this.node_.value=l,this.updateParents_()},g.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},g.prototype.hasChildren=function(){return this.node_.childCount>0},g.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},g.prototype.forEachChild=function(l){var d=this;ct(this.node_.children,function(b,A){l(new g(b,d,A))})},g.prototype.forEachDescendant=function(l,d,b){d&&!b&&l(this),this.forEachChild(function(A){A.forEachDescendant(l,!0,b)}),d&&b&&l(this)},g.prototype.forEachAncestor=function(l,d){for(var b=d?this:this.parent();null!==b;){if(l(b))return!0;b=b.parent()}return!1},g.prototype.forEachImmediateDescendantWithValue=function(l){this.forEachChild(function(d){null!==d.getValue()?l(d):d.forEachImmediateDescendantWithValue(l)})},g.prototype.path=function(){return new _t(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},g.prototype.name=function(){return this.name_},g.prototype.parent=function(){return this.parent_},g.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},g.prototype.updateChild_=function(l,d){var b=d.isEmpty(),A=j.contains(this.node_.children,l);b&&A?(delete this.node_.children[l],this.node_.childCount--,this.updateParents_()):!b&&!A&&(this.node_.children[l]=d.node_,this.node_.childCount++,this.updateParents_())},g}(),Ii=(()=>(function(g){g[g.RUN=0]="RUN",g[g.SENT=1]="SENT",g[g.COMPLETED=2]="COMPLETED",g[g.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",g[g.NEEDS_ABORT=4]="NEEDS_ABORT"}(Ii||(Ii={})),Ii))();Ci.MAX_TRANSACTION_RETRIES_=25,Ci.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ms},Ci.prototype.startTransaction=function(g,l,d,b){this.log_("transaction on "+g);var A=function(){},U=new bo(this,g);U.on("value",A);var Ce={path:g,update:l,onComplete:d,status:null,order:bt(),applyLocally:b,retryCount:0,unwatcher:function(){U.off("value",A)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ut=this.getLatestState_(g);Ce.currentInputSnapshot=ut;var et=Ce.update(ut.val());if(void 0===et){if(Ce.unwatcher(),Ce.currentOutputSnapshotRaw=null,Ce.currentOutputSnapshotResolved=null,Ce.onComplete){var tn=new Bi(Ce.currentInputSnapshot,new bo(this,Ce.path),pt);Ce.onComplete(null,!1,tn)}}else{Wn("transaction failed: Data returned ",et,Ce.path),Ce.status=Ii.RUN;var yn=this.transactionQueueTree_.subTree(g),In=yn.getValue()||[];In.push(Ce),yn.setValue(In);var Gn=void 0;"object"==typeof et&&null!==et&&j.contains(et,".priority")?(Gn=j.safeGet(et,".priority"),j.assert(En(Gn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Gn=(this.serverSyncTree_.calcCompleteEventCache(g)||dn.EMPTY_NODE).getPriority().val();var D=this.generateServerValues(),S=Cr(et,Gn),L=Xe(S,ut,D);Ce.currentOutputSnapshotRaw=S,Ce.currentOutputSnapshotResolved=L,Ce.currentWriteId=this.getNextWriteId_();var ue=this.serverSyncTree_.applyUserOverwrite(g,L,Ce.currentWriteId,Ce.applyLocally);this.eventQueue_.raiseEventsForChangedPath(g,ue),this.sendReadyTransactions_()}},Ci.prototype.getLatestState_=function(g,l){return this.serverSyncTree_.calcCompleteEventCache(g,l)||dn.EMPTY_NODE},Ci.prototype.sendReadyTransactions_=function(g){var l=this;if(void 0===g&&(g=this.transactionQueueTree_),g||this.pruneCompletedTransactionsBelowNode_(g),null!==g.getValue()){var d=this.buildTransactionQueue_(g);j.assert(d.length>0,"Sending zero length transaction queue"),d.every(function(A){return A.status===Ii.RUN})&&this.sendTransactionQueue_(g.path(),d)}else g.hasChildren()&&g.forEachChild(function(A){l.sendReadyTransactions_(A)})},Ci.prototype.sendTransactionQueue_=function(g,l){for(var d=this,b=l.map(function(In){return In.currentWriteId}),A=this.getLatestState_(g,b),U=A,de=A.hash(),Ce=0;Ce<l.length;Ce++){var ut=l[Ce];j.assert(ut.status===Ii.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),ut.status=Ii.SENT,ut.retryCount++;var et=_t.relativePath(g,ut.path);U=U.updateChild(et,ut.currentOutputSnapshotRaw)}var tn=U.val(!0),yn=g;this.server_.put(yn.toString(),tn,function(In){d.log_("transaction put response",{path:yn.toString(),status:In});var Gn=[];if("ok"===In){for(var X=[],D=0;D<l.length;D++){if(l[D].status=Ii.COMPLETED,Gn=Gn.concat(d.serverSyncTree_.ackUserWrite(l[D].currentWriteId)),l[D].onComplete){var S=l[D].currentOutputSnapshotResolved,L=new bo(d,l[D].path),ue=new Bi(S,L,pt);X.push(l[D].onComplete.bind(null,null,!0,ue))}l[D].unwatcher()}for(d.pruneCompletedTransactionsBelowNode_(d.transactionQueueTree_.subTree(g)),d.sendReadyTransactions_(),d.eventQueue_.raiseEventsForChangedPath(g,Gn),D=0;D<X.length;D++)ht(X[D])}else{if("datastale"===In)for(D=0;D<l.length;D++)l[D].status=l[D].status===Ii.SENT_NEEDS_ABORT?Ii.NEEDS_ABORT:Ii.RUN;else for(tt("transaction at "+yn.toString()+" failed: "+In),D=0;D<l.length;D++)l[D].status=Ii.NEEDS_ABORT,l[D].abortReason=In;d.rerunTransactions_(g)}},de)},Ci.prototype.rerunTransactions_=function(g){var l=this.getAncestorTransactionNode_(g),d=l.path(),b=this.buildTransactionQueue_(l);return this.rerunTransactionQueue_(b,d),d},Ci.prototype.rerunTransactionQueue_=function(g,l){if(0!==g.length){for(var d=[],b=[],U=g.filter(function(kt){return kt.status===Ii.RUN}).map(function(kt){return kt.currentWriteId}),de=0;de<g.length;de++){var Ce=g[de],ut=_t.relativePath(l,Ce.path),et=!1,tn=void 0;if(j.assert(null!==ut,"rerunTransactionsUnderNode_: relativePath should not be null."),Ce.status===Ii.NEEDS_ABORT)et=!0,tn=Ce.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(Ce.currentWriteId,!0));else if(Ce.status===Ii.RUN)if(Ce.retryCount>=Ci.MAX_TRANSACTION_RETRIES_)et=!0,tn="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(Ce.currentWriteId,!0));else{var yn=this.getLatestState_(Ce.path,U);Ce.currentInputSnapshot=yn;var In=g[de].update(yn.val());if(void 0!==In){Wn("transaction failed: Data returned ",In,Ce.path);var Gn=Cr(In);"object"==typeof In&&null!=In&&j.contains(In,".priority")||(Gn=Gn.updatePriority(yn.getPriority()));var D=Ce.currentWriteId,S=this.generateServerValues(),L=Xe(Gn,yn,S);Ce.currentOutputSnapshotRaw=Gn,Ce.currentOutputSnapshotResolved=L,Ce.currentWriteId=this.getNextWriteId_(),U.splice(U.indexOf(D),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(Ce.path,L,Ce.currentWriteId,Ce.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(D,!0))}else et=!0,tn="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(Ce.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(l,b),b=[],et&&(g[de].status=Ii.COMPLETED,setTimeout(g[de].unwatcher,Math.floor(0)),g[de].onComplete))if("nodata"===tn){var ue=new bo(this,g[de].path),lt=new Bi(g[de].currentInputSnapshot,ue,pt);d.push(g[de].onComplete.bind(null,null,!1,lt))}else d.push(g[de].onComplete.bind(null,new Error(tn),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),de=0;de<d.length;de++)ht(d[de]);this.sendReadyTransactions_()}},Ci.prototype.getAncestorTransactionNode_=function(g){var l,d=this.transactionQueueTree_;for(l=g.getFront();null!==l&&null===d.getValue();)d=d.subTree(l),l=(g=g.popFront()).getFront();return d},Ci.prototype.buildTransactionQueue_=function(g){var l=[];return this.aggregateTransactionQueuesForNode_(g,l),l.sort(function(d,b){return d.order-b.order}),l},Ci.prototype.aggregateTransactionQueuesForNode_=function(g,l){var d=this,b=g.getValue();if(null!==b)for(var A=0;A<b.length;A++)l.push(b[A]);g.forEachChild(function(U){d.aggregateTransactionQueuesForNode_(U,l)})},Ci.prototype.pruneCompletedTransactionsBelowNode_=function(g){var l=this,d=g.getValue();if(d){for(var b=0,A=0;A<d.length;A++)d[A].status!==Ii.COMPLETED&&(d[b]=d[A],b++);d.length=b,g.setValue(d.length>0?d:null)}g.forEachChild(function(U){l.pruneCompletedTransactionsBelowNode_(U)})},Ci.prototype.abortTransactions_=function(g){var l=this,d=this.getAncestorTransactionNode_(g).path(),b=this.transactionQueueTree_.subTree(g);return b.forEachAncestor(function(A){l.abortTransactionsOnNode_(A)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(A){l.abortTransactionsOnNode_(A)}),d},Ci.prototype.abortTransactionsOnNode_=function(g){var l=g.getValue();if(null!==l){for(var d=[],b=[],A=-1,U=0;U<l.length;U++)l[U].status!==Ii.SENT_NEEDS_ABORT&&(l[U].status===Ii.SENT?(j.assert(A===U-1,"All SENT items should be at beginning of queue."),A=U,l[U].status=Ii.SENT_NEEDS_ABORT,l[U].abortReason="set"):(j.assert(l[U].status===Ii.RUN,"Unexpected transaction status in abort"),l[U].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(l[U].currentWriteId,!0)),l[U].onComplete&&d.push(l[U].onComplete.bind(null,new Error("set"),!1,null))));for(-1===A?g.setValue(null):l.length=A+1,this.eventQueue_.raiseEventsForChangedPath(g.path(),b),U=0;U<d.length;U++)ht(d[U])}};var qe,_=function(){function g(l,d){var b=this;this.app_=l,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.get().then(function(A){return b.auth_=A})}return g.prototype.getToken=function(l){return this.auth_?this.auth_.getToken(l).catch(function(d){return d&&"auth/token-not-initialized"===d.code?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)}):Promise.resolve(null)},g.prototype.addTokenChangeListener=function(l){this.auth_?this.auth_.addAuthTokenListener(l):(setTimeout(function(){return l(null)},0),this.authProvider_.get().then(function(d){return d.addAuthTokenListener(l)}))},g.prototype.removeTokenChangeListener=function(l){this.authProvider_.get().then(function(d){return d.removeAuthTokenListener(l)})},g.prototype.notifyForInvalidToken=function(){var l='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';tt(l+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},g}(),H=function(){function g(){}return g.prototype.getToken=function(l){return Promise.resolve({accessToken:g.EMULATOR_AUTH_TOKEN})},g.prototype.addTokenChangeListener=function(l){l(g.EMULATOR_AUTH_TOKEN)},g.prototype.removeTokenChangeListener=function(l){},g.prototype.notifyForInvalidToken=function(){},g.EMULATOR_AUTH_TOKEN="owner",g}(),Gt=function(){function g(){this.repos_={},this.useRestClient_=!1}return g.getInstance=function(){return qe||(qe=new g),qe},g.prototype.interrupt=function(){var l,d,b,A;try{for(var U=E.__values(Object.keys(this.repos_)),de=U.next();!de.done;de=U.next()){var Ce=de.value;try{for(var ut=(b=void 0,E.__values(Object.keys(this.repos_[Ce]))),et=ut.next();!et.done;et=ut.next())this.repos_[Ce][et.value].interrupt()}catch(yn){b={error:yn}}finally{try{et&&!et.done&&(A=ut.return)&&A.call(ut)}finally{if(b)throw b.error}}}}catch(yn){l={error:yn}}finally{try{de&&!de.done&&(d=U.return)&&d.call(U)}finally{if(l)throw l.error}}},g.prototype.resume=function(){var l,d,b,A;try{for(var U=E.__values(Object.keys(this.repos_)),de=U.next();!de.done;de=U.next()){var Ce=de.value;try{for(var ut=(b=void 0,E.__values(Object.keys(this.repos_[Ce]))),et=ut.next();!et.done;et=ut.next())this.repos_[Ce][et.value].resume()}catch(yn){b={error:yn}}finally{try{et&&!et.done&&(A=ut.return)&&A.call(ut)}finally{if(b)throw b.error}}}}catch(yn){l={error:yn}}finally{try{de&&!de.done&&(d=U.return)&&d.call(U)}finally{if(l)throw l.error}}},g.prototype.databaseFromApp=function(l,d,b,A){var U=b||l.options.databaseURL;void 0===U&&(l.options.projectId||Me("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",l.options.projectId),U=l.options.projectId+"-default-rtdb.firebaseio.com");var ut,de=Bt(U,A),Ce=de.repoInfo,et=void 0;typeof process<"u"&&(et=process.env.FIREBASE_DATABASE_EMULATOR_HOST),et?(ut=!0,Ce=(de=Bt(U="http://"+et+"?ns="+Ce.namespace,A)).repoInfo):ut=!de.repoInfo.secure;var tn=A&&ut?new H:new _(l,d);return le("Invalid Firebase Database URL",1,de),de.path.isEmpty()||Me("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(Ce,l,tn).database},g.prototype.deleteRepo=function(l){var d=j.safeGet(this.repos_,l.app.name);(!d||j.safeGet(d,l.repoInfo_.toURLString())!==l)&&Me("Database "+l.app.name+"("+l.repoInfo_+") has already been deleted."),l.interrupt(),delete d[l.repoInfo_.toURLString()]},g.prototype.createRepo=function(l,d,b){var A=j.safeGet(this.repos_,d.name);A||(this.repos_[d.name]=A={});var U=j.safeGet(A,l.toURLString());return U&&Me("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),U=new Ci(l,this.useRestClient_,d,b),A[l.toURLString()]=U,U},g.prototype.forceRestClient=function(l){this.useRestClient_=l},g}(),sn=function(){function g(l){this.repo_=l,l instanceof Ci||Me("Don't call new Database() directly - please use firebase.database()."),this.root_=new bo(l,_t.Empty),this.INTERNAL=new dr(this)}return Object.defineProperty(g.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),g.prototype.ref=function(l){return this.checkDeleted_("ref"),j.validateArgCount("database.ref",0,1,arguments.length),l instanceof bo?this.refFromURL(l.toString()):void 0!==l?this.root_.child(l):this.root_},g.prototype.refFromURL=function(l){var d="database.refFromURL";this.checkDeleted_(d),j.validateArgCount(d,1,1,arguments.length);var b=Bt(l,this.repo_.repoInfo_.nodeAdmin);le(d,1,b);var A=b.repoInfo;return A.host!==this.repo_.repoInfo_.host&&Me(d+": Host name does not match the current database: (found "+A.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},g.prototype.checkDeleted_=function(l){null===this.repo_&&Me("Cannot call "+l+" on a deleted database.")},g.prototype.goOffline=function(){j.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},g.prototype.goOnline=function(){j.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},g.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(l){return{".sv":{increment:l}}}},g}(),dr=function(){function g(l){this.database=l}return g.prototype.delete=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(l){return this.database.checkDeleted_("delete"),Gt.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},g}(),Y=Object.freeze({__proto__:null,forceLongPolling:function(){Hi.forceDisallow(),Vi.forceAllow()},forceWebSockets:function(){Vi.forceDisallow()},isWebSocketsAvailable:function(){return Hi.isAvailable()},setSecurityDebugCallback:function(g,l){g.repo.persistentConnection_.securityDebugCallback_=l},stats:function(g,l){g.repo.stats(l)},statsIncrementCounter:function(g,l){g.repo.statsIncrementCounter(l)},dataUpdateCount:function(g){return g.repo.dataUpdateCount},interceptServerData:function(g,l){return g.repo.interceptServerData_(l)}}),me=fi;fi.prototype.simpleListen=function(g,l){this.sendRequest("q",{p:g},l)},fi.prototype.echo=function(g,l){this.sendRequest("echo",{d:g},l)};var br=Object.freeze({__proto__:null,DataConnection:me,RealTimeConnection:co,hijackHash:function(g){var l=fi.prototype.put;return fi.prototype.put=function(d,b,A,U){void 0!==U&&(U=g()),l.call(this,d,b,A,U)},function(){fi.prototype.put=l}},ConnectionTarget:pn,queryIdentifier:function(g){return g.queryIdentifier()},forceRestClient:function(g){Gt.getInstance().forceRestClient(g)}}),qr="@firebase/database",Nr="0.6.13",li=sn.ServerValue;function Hr(g){!function hs(g){_o=g}(g.SDK_VERSION);var l=g.INTERNAL.registerComponent(new z.Component("database",function(d,b){var A=d.getProvider("app").getImmediate(),U=d.getProvider("auth-internal");return Gt.getInstance().databaseFromApp(A,U,b)},"PUBLIC").setServiceProps({Reference:bo,Query:to,Database:sn,DataSnapshot:Bi,enableLogging:yt,INTERNAL:Y,ServerValue:li,TEST_ACCESS:br}).setMultipleInstances(!0));g.registerVersion(qr,Nr),j.isNodeSdk()&&(Ln.exports=l)}Hr(te.default),it.DataSnapshot=Bi,it.Database=sn,it.OnDisconnect=rt,it.Query=to,it.Reference=bo,it.ServerValue=li,it.enableLogging=yt,it.registerDatabase=Hr},70199:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(20617),E=N(39278),j=N(64003),Pe=N(1270),z=N(70670),Qe=N(46355),Ge=function te(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}(E),ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=function(s){function n(o,c){var p=this;return(p=s.call(this,c)||this).code=o,p.message=c,p.name="FirebaseError",p.toString=function(){return p.name+": [code="+p.code+"]: "+p.message},p}return y.__extends(n,s),n}(Error),Ae=new j.Logger("@firebase/firestore");function Se(){return Ae.logLevel}function Fe(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Ae.logLevel<=j.LogLevel.DEBUG){var c=n.map(Wt);Ae.debug.apply(Ae,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function bt(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Ae.logLevel<=j.LogLevel.ERROR){var c=n.map(Wt);Ae.error.apply(Ae,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function Zt(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Ae.logLevel<=j.LogLevel.WARN){var c=n.map(Wt);Ae.warn.apply(Ae,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function Wt(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function ye(s){void 0===s&&(s="Unexpected state");var n="FIRESTORE (7.23.0) INTERNAL ASSERTION FAILED: "+s;throw bt(n),new Error(n)}function Nt(s,n){s||ye()}function yt(s,n){return s}function en(s){var n=0;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&n++;return n}function Ot(s,n){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&n(o,s[o])}function Le(s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}var Me=function(){function s(n,o,c){void 0===o?o=0:o>n.length&&ye(),void 0===c?c=n.length-o:c>n.length-o&&ye(),this.segments=n,this.offset=o,this.t=c}return Object.defineProperty(s.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return 0===s.i(this,n)},s.prototype.child=function(n){var o=this.segments.slice(this.offset,this.limit());return n instanceof s?n.forEach(function(c){o.push(c)}):o.push(n),this.o(o)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.u=function(n){return this.o(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)},s.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},s.prototype.l=function(){return this.segments[this.offset]},s.prototype._=function(){return this.get(this.length-1)},s.prototype.get=function(n){return this.segments[this.offset+n]},s.prototype.m=function(){return 0===this.length},s.prototype.T=function(n){if(n.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},s.prototype.I=function(n){if(this.length+1!==n.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},s.prototype.forEach=function(n){for(var o=this.offset,c=this.limit();o<c;o++)n(this.segments[o])},s.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},s.i=function(n,o){for(var c=Math.min(n.length,o.length),p=0;p<c;p++){var w=n.get(p),x=o.get(p);if(w<x)return-1;if(w>x)return 1}return n.length<o.length?-1:n.length>o.length?1:0},s}(),tt=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.o=function(o,c,p){return new n(o,c,p)},n.prototype.R=function(){return this.A().join("/")},n.prototype.toString=function(){return this.R()},n.P=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];for(var p=[],w=0,x=o;w<x.length;w++){var G=x[w];if(G.indexOf("//")>=0)throw new K(ie.INVALID_ARGUMENT,"Invalid segment ("+G+"). Paths must not contain // in them.");p.push.apply(p,G.split("/").filter(function(he){return he.length>0}))}return new n(p)},n.g=function(){return new n([])},n}(Me),f=/^[_a-zA-Z][_a-zA-Z0-9]*$/,k=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.o=function(o,c,p){return new n(o,c,p)},n.V=function(o){return f.test(o)},n.prototype.R=function(){return this.A().map(function(o){return o=o.replace("\\","\\\\").replace("`","\\`"),n.V(o)||(o="`"+o+"`"),o}).join(".")},n.prototype.toString=function(){return this.R()},n.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},n.v=function(){return new n(["__name__"])},n.S=function(o){for(var c=[],p="",w=0,x=function(){if(0===p.length)throw new K(ie.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(p),p=""},G=!1;w<o.length;){var he=o[w];if("\\"===he){if(w+1===o.length)throw new K(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var je=o[w+1];if("\\"!==je&&"."!==je&&"`"!==je)throw new K(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);p+=je,w+=2}else"`"===he?(G=!G,w++):"."!==he||G?(p+=he,w++):(x(),w++)}if(x(),G)throw new K(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new n(c)},n.g=function(){return new n([])},n}(Me),T=function(){function s(n){this.path=n}return s.D=function(n){return new s(tt.P(n))},s.C=function(n){return new s(tt.P(n).u(5))},s.prototype.N=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},s.prototype.isEqual=function(n){return null!==n&&0===tt.i(this.path,n.path)},s.prototype.toString=function(){return this.path.toString()},s.i=function(n,o){return tt.i(n.path,o.path)},s.F=function(n){return n.length%2==0},s.$=function(n){return new s(new tt(n.slice()))},s}();function W(s,n){if(0!==n.length)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() does not support arguments, but was called with "+an(n.length,"argument")+".")}function J(s,n,o){if(n.length!==o)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires "+an(o,"argument")+", but was called with "+an(n.length,"argument")+".")}function R(s,n,o){if(n.length<o)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires at least "+an(o,"argument")+", but was called with "+an(n.length,"argument")+".")}function ge(s,n,o,c){if(n.length<o||n.length>c)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires between "+o+" and "+c+" arguments, but was called with "+an(n.length,"argument")+".")}function Ke(s,n,o,c){ce(s,n,_t(o)+" argument",c)}function Tn(s,n,o,c){void 0!==c&&Ke(s,n,o,c)}function He(s,n,o,c){ce(s,n,o+" option",c)}function ct(s,n,o,c){void 0!==c&&He(s,n,o,c)}function at(s,n,o,c,p){void 0!==c&&function(w,x,G,he,je){for(var gt=[],Kt=0,$t=je;Kt<$t.length;Kt++){var cn=$t[Kt];if(cn===he)return;gt.push(Ne(cn))}var Dn=Ne(he);throw new K(ie.INVALID_ARGUMENT,"Invalid value "+Dn+" provided to function "+w+'() for option "'+G+'". Acceptable values: '+gt.join(", "))}(s,0,o,c,p)}function ee(s,n,o,c){if(!n.some(function(p){return p===c}))throw new K(ie.INVALID_ARGUMENT,"Invalid value "+Ne(c)+" provided to function "+s+"() for its "+_t(o)+" argument. Acceptable values: "+n.join(", "));return c}function ce(s,n,o,c){if(!("object"===n?re(c):"non-empty string"===n?"string"==typeof c&&""!==c:typeof c===n)){var p=Ne(c);throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires its "+o+" to be of type "+n+", but it was: "+p)}}function re(s){return"object"==typeof s&&null!==s&&(Object.getPrototypeOf(s)===Object.prototype||null===Object.getPrototypeOf(s))}function Ne(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var n=function(o){if(o.constructor){var c=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(c&&c.length>1)return c[1]}return null}(s);return n?"a custom "+n+" object":"an object"}return"function"==typeof s?"a function":ye()}function Ue(s,n,o){if(void 0===o)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires a valid "+_t(n)+" argument, but it was undefined.")}function ht(s,n,o){Ot(n,function(c,p){if(o.indexOf(c)<0)throw new K(ie.INVALID_ARGUMENT,"Unknown option '"+c+"' passed to function "+s+"(). Available options: "+o.join(", "))})}function Et(s,n,o,c){var p=Ne(c);return new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires its "+_t(o)+" argument to be a "+n+", but it was: "+p)}function gn(s,n,o){if(o<=0)throw new K(ie.INVALID_ARGUMENT,"Function "+s+"() requires its "+_t(n)+" argument to be a positive number, but it was: "+o+".")}function _t(s){switch(s){case 1:return"first";case 2:return"second";case 3:return"third";default:return s+"th"}}function an(s,n){return s+" "+n+(1===s?"":"s")}function ft(s){var n=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(s);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(var c=0;c<s;c++)o[c]=Math.floor(256*Math.random());return o}var Ut=function(){function s(){}return s.k=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length,c="";c.length<20;)for(var p=ft(40),w=0;w<p.length;++w)c.length<20&&p[w]<o&&(c+=n.charAt(p[w]%n.length));return c},s}();function Xt(s,n){return s<n?-1:s>n?1:0}function fn(s,n,o){return s.length===n.length&&s.every(function(c,p){return o(c,n[p])})}function jn(s){return s+"\0"}var xn=function(){function s(n){this.M=n}return s.fromBase64String=function(n){return new s(atob(n))},s.fromUint8Array=function(n){return new s(function(o){for(var c="",p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(n))},s.prototype.toBase64=function(){return btoa(this.M)},s.prototype.toUint8Array=function(){return function(n){for(var o=new Uint8Array(n.length),c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}(this.M)},s.prototype.O=function(){return 2*this.M.length},s.prototype.L=function(n){return Xt(this.M,n.M)},s.prototype.isEqual=function(n){return this.M===n.M},s}();xn.B=new xn("");var er=function(){function s(n){this.q=n}return s.fromBase64String=function(n){try{return new s(xn.fromBase64String(n))}catch(o){throw new K(ie.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+o)}},s.fromUint8Array=function(n){return new s(xn.fromUint8Array(n))},s.prototype.toBase64=function(){return this.q.toBase64()},s.prototype.toUint8Array=function(){return this.q.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(n){return this.q.isEqual(n.q)},s}();function Qn(){if(typeof Uint8Array>"u")throw new K(ie.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Nn(){if(typeof atob>"u")throw new K(ie.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Dr=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.fromBase64String=function(o){J("Blob.fromBase64String",arguments,1),Ke("Blob.fromBase64String","string",1,o),Nn();try{return new n(xn.fromBase64String(o))}catch(c){throw new K(ie.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+c)}},n.fromUint8Array=function(o){if(J("Blob.fromUint8Array",arguments,1),Qn(),!(o instanceof Uint8Array))throw Et("Blob.fromUint8Array","Uint8Array",1,o);return new n(xn.fromUint8Array(o))},n.prototype.toBase64=function(){return J("Blob.toBase64",arguments,0),Nn(),s.prototype.toBase64.call(this)},n.prototype.toUint8Array=function(){return J("Blob.toUint8Array",arguments,0),Qn(),s.prototype.toUint8Array.call(this)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(er),pn=function(s,n,o,c,p){this.U=s,this.persistenceKey=n,this.host=o,this.ssl=c,this.forceLongPolling=p},Oe=function(){function s(n,o){this.projectId=n,this.database=o||"(default)"}return Object.defineProperty(s.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return n instanceof s&&n.projectId===this.projectId&&n.database===this.database},s.prototype.L=function(n){return Xt(this.projectId,n.projectId)||Xt(this.database,n.database)},s}(),vt=function(){function s(n,o){this.j=n,this.K=o,this.G={}}return s.prototype.get=function(n){var o=this.j(n),c=this.G[o];if(void 0!==c)for(var p=0,w=c;p<w.length;p++){var x=w[p],he=x[1];if(this.K(x[0],n))return he}},s.prototype.has=function(n){return void 0!==this.get(n)},s.prototype.set=function(n,o){var c=this.j(n),p=this.G[c];if(void 0!==p){for(var w=0;w<p.length;w++)if(this.K(p[w][0],n))return void(p[w]=[n,o]);p.push([n,o])}else this.G[c]=[[n,o]]},s.prototype.delete=function(n){var o=this.j(n),c=this.G[o];if(void 0===c)return!1;for(var p=0;p<c.length;p++)if(this.K(c[p][0],n))return 1===c.length?delete this.G[o]:c.splice(p,1),!0;return!1},s.prototype.forEach=function(n){Ot(this.G,function(o,c){for(var p=0,w=c;p<w.length;p++){var x=w[p];n(x[0],x[1])}})},s.prototype.m=function(){return Le(this.G)},s}(),Bt=function(){function s(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new K(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new K(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new K(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new K(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(n){return s.fromMillis(n.getTime())},s.fromMillis=function(n){var o=Math.floor(n/1e3);return new s(o,1e6*(n-1e3*o))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype.H=function(n){return this.seconds===n.seconds?Xt(this.nanoseconds,n.nanoseconds):Xt(this.seconds,n.seconds)},s.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),Qt=function(){function s(n){this.timestamp=n}return s.Y=function(n){return new s(n)},s.min=function(){return new s(new Bt(0,0))},s.prototype.L=function(n){return this.timestamp.H(n.timestamp)},s.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},s.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.X=function(){return this.timestamp},s}();function mn(s){return null==s}function Je(s){return 0===s&&1/s==-1/0}function Ee(s){return"number"==typeof s&&Number.isInteger(s)&&!Je(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var xt=function(s,n,o,c,p,w,x){void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===x&&(x=null),this.path=s,this.collectionGroup=n,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=w,this.endAt=x,this.Z=null};function Rt(s,n,o,c,p,w,x){return void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===x&&(x=null),new xt(s,n,o,c,p,w,x)}function dt(s){var n=yt(s);if(null===n.Z){var o=n.path.R();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(function(c){return(p=c).field.R()+p.op.toString()+mr(p.value);var p}).join(","),o+="|ob:",o+=n.orderBy.map(function(c){return(p=c).field.R()+p.dir;var p}).join(","),mn(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=Do(n.startAt)),n.endAt&&(o+="|ub:",o+=Do(n.endAt)),n.Z=o}return n.Z}function En(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(var o=0;o<s.orderBy.length;o++)if(!js(s.orderBy[o],n.orderBy[o]))return!1;if(s.filters.length!==n.filters.length)return!1;for(var c=0;c<s.filters.length;c++)if((p=s.filters[c]).op!==(w=n.filters[c]).op||!p.field.isEqual(w.field)||!Mt(p.value,w.value))return!1;var p,w;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!Ho(s.startAt,n.startAt)&&Ho(s.endAt,n.endAt)}function On(s){return T.F(s.path)&&null===s.collectionGroup&&0===s.filters.length}var Wn,kn,Rn=function(){function s(n,o,c,p,w,x,G){void 0===w&&(w=Qt.min()),void 0===x&&(x=Qt.min()),void 0===G&&(G=xn.B),this.target=n,this.targetId=o,this.tt=c,this.sequenceNumber=p,this.et=w,this.lastLimboFreeSnapshotVersion=x,this.resumeToken=G}return s.prototype.nt=function(n){return new s(this.target,this.targetId,this.tt,n,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.st=function(n,o){return new s(this.target,this.targetId,this.tt,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)},s.prototype.it=function(n){return new s(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,n,this.resumeToken)},s}(),nr=function(s){this.count=s};function xr(s){switch(s){case ie.OK:return ye();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return ye()}}function hn(s){if(void 0===s)return bt("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Wn.OK:return ie.OK;case Wn.CANCELLED:return ie.CANCELLED;case Wn.UNKNOWN:return ie.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return ie.INTERNAL;case Wn.UNAVAILABLE:return ie.UNAVAILABLE;case Wn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Wn.NOT_FOUND:return ie.NOT_FOUND;case Wn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Wn.ABORTED:return ie.ABORTED;case Wn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Wn.DATA_LOSS:return ie.DATA_LOSS;default:return ye()}}(kn=Wn||(Wn={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";var Pt=function(){function s(n,o){this.i=n,this.root=o||Te.EMPTY}return s.prototype.rt=function(n,o){return new s(this.i,this.root.rt(n,o,this.i).copy(null,null,Te.ot,null,null))},s.prototype.remove=function(n){return new s(this.i,this.root.remove(n,this.i).copy(null,null,Te.ot,null,null))},s.prototype.get=function(n){for(var o=this.root;!o.m();){var c=this.i(n,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null},s.prototype.indexOf=function(n){for(var o=0,c=this.root;!c.m();){var p=this.i(n,c.key);if(0===p)return o+c.left.size;p<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1},s.prototype.m=function(){return this.root.m()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.at=function(){return this.root.at()},s.prototype.ct=function(){return this.root.ct()},s.prototype.ut=function(n){return this.root.ut(n)},s.prototype.forEach=function(n){this.ut(function(o,c){return n(o,c),!1})},s.prototype.toString=function(){var n=[];return this.ut(function(o,c){return n.push(o+":"+c),!1}),"{"+n.join(", ")+"}"},s.prototype.ht=function(n){return this.root.ht(n)},s.prototype.lt=function(){return new Vt(this.root,null,this.i,!1)},s.prototype._t=function(n){return new Vt(this.root,n,this.i,!1)},s.prototype.ft=function(){return new Vt(this.root,null,this.i,!0)},s.prototype.dt=function(n){return new Vt(this.root,n,this.i,!0)},s}(),Vt=function(){function s(n,o,c,p){this.wt=p,this.Tt=[];for(var w=1;!n.m();)if(w=o?c(n.key,o):1,p&&(w*=-1),w<0)n=this.wt?n.left:n.right;else{if(0===w){this.Tt.push(n);break}this.Tt.push(n),n=this.wt?n.right:n.left}}return s.prototype.Et=function(){var n=this.Tt.pop(),o={key:n.key,value:n.value};if(this.wt)for(n=n.left;!n.m();)this.Tt.push(n),n=n.right;else for(n=n.right;!n.m();)this.Tt.push(n),n=n.left;return o},s.prototype.It=function(){return this.Tt.length>0},s.prototype.At=function(){if(0===this.Tt.length)return null;var n=this.Tt[this.Tt.length-1];return{key:n.key,value:n.value}},s}(),Te=function(){function s(n,o,c,p,w){this.key=n,this.value=o,this.color=c??s.RED,this.left=p??s.EMPTY,this.right=w??s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(n,o,c,p,w){return new s(n??this.key,o??this.value,c??this.color,p??this.left,w??this.right)},s.prototype.m=function(){return!1},s.prototype.ut=function(n){return this.left.ut(n)||n(this.key,this.value)||this.right.ut(n)},s.prototype.ht=function(n){return this.right.ht(n)||n(this.key,this.value)||this.left.ht(n)},s.prototype.min=function(){return this.left.m()?this:this.left.min()},s.prototype.at=function(){return this.min().key},s.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},s.prototype.rt=function(n,o,c){var p=this,w=c(n,p.key);return(p=w<0?p.copy(null,null,null,p.left.rt(n,o,c),null):0===w?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.rt(n,o,c))).Rt()},s.prototype.Pt=function(){if(this.left.m())return s.EMPTY;var n=this;return n.left.gt()||n.left.left.gt()||(n=n.yt()),(n=n.copy(null,null,null,n.left.Pt(),null)).Rt()},s.prototype.remove=function(n,o){var c,p=this;if(o(n,p.key)<0)p.left.m()||p.left.gt()||p.left.left.gt()||(p=p.yt()),p=p.copy(null,null,null,p.left.remove(n,o),null);else{if(p.left.gt()&&(p=p.Vt()),p.right.m()||p.right.gt()||p.right.left.gt()||(p=p.bt()),0===o(n,p.key)){if(p.right.m())return s.EMPTY;c=p.right.min(),p=p.copy(c.key,c.value,null,null,p.right.Pt())}p=p.copy(null,null,null,null,p.right.remove(n,o))}return p.Rt()},s.prototype.gt=function(){return this.color},s.prototype.Rt=function(){var n=this;return n.right.gt()&&!n.left.gt()&&(n=n.vt()),n.left.gt()&&n.left.left.gt()&&(n=n.Vt()),n.left.gt()&&n.right.gt()&&(n=n.St()),n},s.prototype.yt=function(){var n=this.St();return n.right.left.gt()&&(n=(n=(n=n.copy(null,null,null,null,n.right.Vt())).vt()).St()),n},s.prototype.bt=function(){var n=this.St();return n.left.left.gt()&&(n=(n=n.Vt()).St()),n},s.prototype.vt=function(){var n=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},s.prototype.Vt=function(){var n=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},s.prototype.St=function(){var n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)},s.prototype.Dt=function(){var n=this.Ct();return Math.pow(2,n)<=this.size+1},s.prototype.Ct=function(){if(this.gt()&&this.left.gt()||this.right.gt())throw ye();var n=this.left.Ct();if(n!==this.right.Ct())throw ye();return n+(this.gt()?0:1)},s}();Te.EMPTY=null,Te.RED=!0,Te.ot=!1,Te.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),s.prototype.copy=function(n,o,c,p,w){return this},s.prototype.rt=function(n,o,c){return new Te(n,o)},s.prototype.remove=function(n,o){return this},s.prototype.m=function(){return!0},s.prototype.ut=function(n){return!1},s.prototype.ht=function(n){return!1},s.prototype.at=function(){return null},s.prototype.ct=function(){return null},s.prototype.gt=function(){return!1},s.prototype.Dt=function(){return!0},s.prototype.Ct=function(){return 0},s}());var le=function(){function s(n){this.i=n,this.data=new Pt(this.i)}return s.prototype.has=function(n){return null!==this.data.get(n)},s.prototype.first=function(){return this.data.at()},s.prototype.last=function(){return this.data.ct()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(n){return this.data.indexOf(n)},s.prototype.forEach=function(n){this.data.ut(function(o,c){return n(o),!1})},s.prototype.Nt=function(n,o){for(var c=this.data._t(n[0]);c.It();){var p=c.Et();if(this.i(p.key,n[1])>=0)return;o(p.key)}},s.prototype.Ft=function(n,o){var c;for(c=void 0!==o?this.data._t(o):this.data.lt();c.It();)if(!n(c.Et().key))return},s.prototype.$t=function(n){var o=this.data._t(n);return o.It()?o.Et().key:null},s.prototype.lt=function(){return new ae(this.data.lt())},s.prototype._t=function(n){return new ae(this.data._t(n))},s.prototype.add=function(n){return this.copy(this.data.remove(n).rt(n,!0))},s.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},s.prototype.m=function(){return this.data.m()},s.prototype.xt=function(n){var o=this;return o.size<n.size&&(o=n,n=this),n.forEach(function(c){o=o.add(c)}),o},s.prototype.isEqual=function(n){if(!(n instanceof s)||this.size!==n.size)return!1;for(var o=this.data.lt(),c=n.data.lt();o.It();){var p=o.Et().key,w=c.Et().key;if(0!==this.i(p,w))return!1}return!0},s.prototype.A=function(){var n=[];return this.forEach(function(o){n.push(o)}),n},s.prototype.toString=function(){var n=[];return this.forEach(function(o){return n.push(o)}),"SortedSet("+n.toString()+")"},s.prototype.copy=function(n){var o=new s(this.i);return o.data=n,o},s}(),ae=function(){function s(n){this.kt=n}return s.prototype.Et=function(){return this.kt.Et().key},s.prototype.It=function(){return this.kt.It()},s}(),rt=new Pt(T.i);function Tt(){return rt}function bn(){return Tt()}var xe=new Pt(T.i);function Ct(){return xe}var Yt=new Pt(T.i),ln=new le(T.i);function qt(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];for(var o=ln,c=0,p=s;c<p.length;c++)o=o.add(p[c]);return o}var ot=new le(Xt);function nt(){return ot}var De=function(){function s(n){this.i=n?function(o,c){return n(o,c)||T.i(o.key,c.key)}:function(o,c){return T.i(o.key,c.key)},this.Mt=Ct(),this.Ot=new Pt(this.i)}return s.Lt=function(n){return new s(n.i)},s.prototype.has=function(n){return null!=this.Mt.get(n)},s.prototype.get=function(n){return this.Mt.get(n)},s.prototype.first=function(){return this.Ot.at()},s.prototype.last=function(){return this.Ot.ct()},s.prototype.m=function(){return this.Ot.m()},s.prototype.indexOf=function(n){var o=this.Mt.get(n);return o?this.Ot.indexOf(o):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(n){this.Ot.ut(function(o,c){return n(o),!1})},s.prototype.add=function(n){var o=this.delete(n.key);return o.copy(o.Mt.rt(n.key,n),o.Ot.rt(n,null))},s.prototype.delete=function(n){var o=this.get(n);return o?this.copy(this.Mt.remove(n),this.Ot.remove(o)):this},s.prototype.isEqual=function(n){if(!(n instanceof s)||this.size!==n.size)return!1;for(var o=this.Ot.lt(),c=n.Ot.lt();o.It();){var p=o.Et().key,w=c.Et().key;if(!p.isEqual(w))return!1}return!0},s.prototype.toString=function(){var n=[];return this.forEach(function(o){n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},s.prototype.copy=function(n,o){var c=new s;return c.i=this.i,c.Mt=n,c.Ot=o,c},s}(),Dt=function(){function s(){this.Bt=new Pt(T.i)}return s.prototype.track=function(n){var o=n.doc.key,c=this.Bt.get(o);c?0!==n.type&&3===c.type?this.Bt=this.Bt.rt(o,n):3===n.type&&1!==c.type?this.Bt=this.Bt.rt(o,{type:c.type,doc:n.doc}):2===n.type&&2===c.type?this.Bt=this.Bt.rt(o,{type:2,doc:n.doc}):2===n.type&&0===c.type?this.Bt=this.Bt.rt(o,{type:0,doc:n.doc}):1===n.type&&0===c.type?this.Bt=this.Bt.remove(o):1===n.type&&2===c.type?this.Bt=this.Bt.rt(o,{type:1,doc:c.doc}):0===n.type&&1===c.type?this.Bt=this.Bt.rt(o,{type:2,doc:n.doc}):ye():this.Bt=this.Bt.rt(o,n)},s.prototype.qt=function(){var n=[];return this.Bt.ut(function(o,c){n.push(c)}),n},s}(),Ft=function(){function s(n,o,c,p,w,x,G,he){this.query=n,this.docs=o,this.Ut=c,this.docChanges=p,this.Qt=w,this.fromCache=x,this.Wt=G,this.jt=he}return s.Kt=function(n,o,c,p){var w=[];return o.forEach(function(x){w.push({type:0,doc:x})}),new s(n,o,De.Lt(o),w,c,p,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.Wt===n.Wt&&this.Qt.isEqual(n.Qt)&&Vr(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.Ut.isEqual(n.Ut)))return!1;var o=this.docChanges,c=n.docChanges;if(o.length!==c.length)return!1;for(var p=0;p<o.length;p++)if(o[p].type!==c[p].type||!o[p].doc.isEqual(c[p].doc))return!1;return!0},s}(),vn=function(){function s(n,o,c,p,w){this.et=n,this.Gt=o,this.zt=c,this.Ht=p,this.Yt=w}return s.Jt=function(n,o){var c=new Map;return c.set(n,Zn.Xt(n,o)),new s(Qt.min(),c,nt(),Tt(),qt())},s}(),Zn=function(){function s(n,o,c,p,w){this.resumeToken=n,this.Zt=o,this.te=c,this.ee=p,this.ne=w}return s.Xt=function(n,o){return new s(xn.B,o,qt(),qt(),qt())},s}(),Cn=function(s,n,o,c){this.se=s,this.removedTargetIds=n,this.key=o,this.ie=c},yr=function(s,n){this.targetId=s,this.re=n},ei=function(s,n,o,c){void 0===o&&(o=xn.B),void 0===c&&(c=null),this.state=s,this.targetIds=n,this.resumeToken=o,this.cause=c},st=function(){function s(){this.oe=0,this.ae=zt(),this.ce=xn.B,this.ue=!1,this.he=!0}return Object.defineProperty(s.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),s.prototype.fe=function(n){n.O()>0&&(this.he=!0,this.ce=n)},s.prototype.de=function(){var n=qt(),o=qt(),c=qt();return this.ae.forEach(function(p,w){switch(w){case 0:n=n.add(p);break;case 2:o=o.add(p);break;case 1:c=c.add(p);break;default:ye()}}),new Zn(this.ce,this.ue,n,o,c)},s.prototype.we=function(){this.he=!1,this.ae=zt()},s.prototype.me=function(n,o){this.he=!0,this.ae=this.ae.rt(n,o)},s.prototype.Te=function(n){this.he=!0,this.ae=this.ae.remove(n)},s.prototype.Ee=function(){this.oe+=1},s.prototype.Ie=function(){this.oe-=1},s.prototype.Ae=function(){this.he=!0,this.ue=!0},s}(),pt=function(){function s(n){this.Re=n,this.Pe=new Map,this.ge=Tt(),this.ye=St(),this.Ve=new le(Xt)}return s.prototype.pe=function(n){for(var o=0,c=n.se;o<c.length;o++){var p=c[o];n.ie instanceof Qr?this.be(p,n.ie):n.ie instanceof Ui&&this.ve(p,n.key,n.ie)}for(var w=0,x=n.removedTargetIds;w<x.length;w++)this.ve(x[w],n.key,n.ie)},s.prototype.Se=function(n){var o=this;this.De(n,function(c){var p=o.Ce(c);switch(n.state){case 0:o.Ne(c)&&p.fe(n.resumeToken);break;case 1:p.Ie(),p.le||p.we(),p.fe(n.resumeToken);break;case 2:p.Ie(),p.le||o.removeTarget(c);break;case 3:o.Ne(c)&&(p.Ae(),p.fe(n.resumeToken));break;case 4:o.Ne(c)&&(o.Fe(c),p.fe(n.resumeToken));break;default:ye()}})},s.prototype.De=function(n,o){var c=this;n.targetIds.length>0?n.targetIds.forEach(o):this.Pe.forEach(function(p,w){c.Ne(w)&&o(w)})},s.prototype.$e=function(n){var o=n.targetId,c=n.re.count,p=this.xe(o);if(p){var w=p.target;if(On(w))if(0===c){var x=new T(w.path);this.ve(o,x,new Ui(x,Qt.min()))}else Nt(1===c);else this.ke(o)!==c&&(this.Fe(o),this.Ve=this.Ve.add(o))}},s.prototype.Me=function(n){var o=this,c=new Map;this.Pe.forEach(function(x,G){var he=o.xe(G);if(he){if(x.Zt&&On(he.target)){var je=new T(he.target.path);null!==o.ge.get(je)||o.Oe(G,je)||o.ve(G,je,new Ui(je,n))}x._e&&(c.set(G,x.de()),x.we())}});var p=qt();this.ye.forEach(function(x,G){var he=!0;G.Ft(function(je){var gt=o.xe(je);return!gt||2===gt.tt||(he=!1,!1)}),he&&(p=p.add(x))});var w=new vn(n,c,this.Ve,this.ge,p);return this.ge=Tt(),this.ye=St(),this.Ve=new le(Xt),w},s.prototype.be=function(n,o){if(this.Ne(n)){var c=this.Oe(n,o.key)?2:0;this.Ce(n).me(o.key,c),this.ge=this.ge.rt(o.key,o),this.ye=this.ye.rt(o.key,this.Le(o.key).add(n))}},s.prototype.ve=function(n,o,c){if(this.Ne(n)){var p=this.Ce(n);this.Oe(n,o)?p.me(o,1):p.Te(o),this.ye=this.ye.rt(o,this.Le(o).delete(n)),c&&(this.ge=this.ge.rt(o,c))}},s.prototype.removeTarget=function(n){this.Pe.delete(n)},s.prototype.ke=function(n){var o=this.Ce(n).de();return this.Re.Be(n).size+o.te.size-o.ne.size},s.prototype.Ee=function(n){this.Ce(n).Ee()},s.prototype.Ce=function(n){var o=this.Pe.get(n);return o||(o=new st,this.Pe.set(n,o)),o},s.prototype.Le=function(n){var o=this.ye.get(n);return o||(o=new le(Xt),this.ye=this.ye.rt(n,o)),o},s.prototype.Ne=function(n){var o=null!==this.xe(n);return o||Fe("WatchChangeAggregator","Detected inactive target",n),o},s.prototype.xe=function(n){var o=this.Pe.get(n);return o&&o.le?null:this.Re.qe(n)},s.prototype.Fe=function(n){var o=this;this.Pe.set(n,new st),this.Re.Be(n).forEach(function(c){o.ve(n,c,null)})},s.prototype.Oe=function(n,o){return this.Re.Be(n).has(o)},s}();function St(){return new Pt(T.i)}function zt(){return new Pt(T.i)}function ke(s){var n,o;return"server_timestamp"===(null===(o=((null===(n=s?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function q(s){var n=s.mapValue.fields.__previous_value__;return ke(n)?q(n):n}function be(s){var n=dn(s.mapValue.fields.__local_write_time__.timestampValue);return new Bt(n.seconds,n.nanos)}var $e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mt(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ke(s)?4:10:ye()}function Mt(s,n){var p,o=mt(s);if(o!==mt(n))return!1;switch(o){case 0:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return be(s).isEqual(be(n));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;var w=dn(c.timestampValue),x=dn(p.timestampValue);return w.seconds===x.seconds&&w.nanos===x.nanos}(s,n);case 5:return s.stringValue===n.stringValue;case 6:return p=n,fr(s.bytesValue).isEqual(fr(p.bytesValue));case 7:return s.referenceValue===n.referenceValue;case 8:return function(c,p){return sr(c.geoPointValue.latitude)===sr(p.geoPointValue.latitude)&&sr(c.geoPointValue.longitude)===sr(p.geoPointValue.longitude)}(s,n);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return sr(c.integerValue)===sr(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){var w=sr(c.doubleValue),x=sr(p.doubleValue);return w===x?Je(w)===Je(x):isNaN(w)&&isNaN(x)}return!1}(s,n);case 9:return fn(s.arrayValue.values||[],n.arrayValue.values||[],Mt);case 10:return function(c,p){var w=c.mapValue.fields||{},x=p.mapValue.fields||{};if(en(w)!==en(x))return!1;for(var G in w)if(w.hasOwnProperty(G)&&(void 0===x[G]||!Mt(w[G],x[G])))return!1;return!0}(s,n);default:return ye()}}function Lt(s,n){return void 0!==(s.values||[]).find(function(o){return Mt(o,n)})}function Yn(s,n){var p,w,x,G,o=mt(s),c=mt(n);if(o!==c)return Xt(o,c);switch(o){case 0:return 0;case 1:return Xt(s.booleanValue,n.booleanValue);case 2:return w=n,(x=sr((p=s).integerValue||p.doubleValue))<(G=sr(w.integerValue||w.doubleValue))?-1:x>G?1:x===G?0:isNaN(x)?isNaN(G)?0:-1:1;case 3:return Kn(s.timestampValue,n.timestampValue);case 4:return Kn(be(s),be(n));case 5:return Xt(s.stringValue,n.stringValue);case 6:return function(p,w){var x=fr(p),G=fr(w);return x.L(G)}(s.bytesValue,n.bytesValue);case 7:return function(p,w){for(var x=p.split("/"),G=w.split("/"),he=0;he<x.length&&he<G.length;he++){var je=Xt(x[he],G[he]);if(0!==je)return je}return Xt(x.length,G.length)}(s.referenceValue,n.referenceValue);case 8:return function(p,w){var x=Xt(sr(p.latitude),sr(w.latitude));return 0!==x?x:Xt(sr(p.longitude),sr(w.longitude))}(s.geoPointValue,n.geoPointValue);case 9:return function(p,w){for(var x=p.values||[],G=w.values||[],he=0;he<x.length&&he<G.length;++he){var je=Yn(x[he],G[he]);if(je)return je}return Xt(x.length,G.length)}(s.arrayValue,n.arrayValue);case 10:return function(p,w){var x=p.fields||{},G=Object.keys(x),he=w.fields||{},je=Object.keys(he);G.sort(),je.sort();for(var gt=0;gt<G.length&&gt<je.length;++gt){var Kt=Xt(G[gt],je[gt]);if(0!==Kt)return Kt;var $t=Yn(x[G[gt]],he[je[gt]]);if(0!==$t)return $t}return Xt(G.length,je.length)}(s.mapValue,n.mapValue);default:throw ye()}}function Kn(s,n){if("string"==typeof s&&"string"==typeof n&&s.length===n.length)return Xt(s,n);var o=dn(s),c=dn(n),p=Xt(o.seconds,c.seconds);return 0!==p?p:Xt(o.nanos,c.nanos)}function mr(s){return rr(s)}function rr(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(p=dn(s.timestampValue)).seconds+","+p.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?fr(s.bytesValue).toBase64():"referenceValue"in s?T.C(s.referenceValue).toString():"geoPointValue"in s?"geo("+(n=s.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in s?function(c){for(var p="[",w=!0,x=0,G=c.values||[];x<G.length;x++)w?w=!1:p+=",",p+=rr(G[x]);return p+"]"}(s.arrayValue):"mapValue"in s?function(c){for(var p="{",w=!0,x=0,G=Object.keys(c.fields||{}).sort();x<G.length;x++){var he=G[x];w?w=!1:p+=",",p+=he+":"+rr(c.fields[he])}return p+"}"}(s.mapValue):ye();var p,n}function dn(s){if(Nt(!!s),"string"==typeof s){var n=0,o=$e.exec(s);if(Nt(!!o),o[1]){var c=o[1];c=(c+"000000000").substr(0,9),n=Number(c)}var p=new Date(s);return{seconds:Math.floor(p.getTime()/1e3),nanos:n}}return{seconds:sr(s.seconds),nanos:sr(s.nanos)}}function sr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function fr(s){return"string"==typeof s?xn.fromBase64String(s):xn.fromUint8Array(s)}function ai(s,n){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+n.path.R()}}function Cr(s){return!!s&&"integerValue"in s}function xi(s){return!!s&&"arrayValue"in s}function di(s){return!!s&&"nullValue"in s}function Mr(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bi(s){return!!s&&"mapValue"in s}var Ni={asc:"ASCENDING",desc:"DESCENDING"},jr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qi=function(s,n){this.U=s,this.Ue=n};function ji(s){return{integerValue:""+s}}function io(s,n){if(s.Ue){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Je(n)?"-0":n}}function to(s,n){return Ee(n)?ji(n):io(s,n)}function Mi(s,n){return s.Ue?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function No(s,n){return s.Ue?n.toBase64():n.toUint8Array()}function Gi(s,n){return Mi(s,n.X())}function ze(s){return Nt(!!s),Qt.Y((o=dn(s),new Bt(o.seconds,o.nanos)));var o}function pe(s,n){return(o=s,new tt(["projects",o.projectId,"databases",o.database])).child("documents").child(n).R();var o}function B(s){var n=tt.P(s);return Nt(Ns(n)),n}function _e(s,n){return pe(s.U,n.path)}function Xe(s,n){var o=B(n);return Nt(o.get(1)===s.U.projectId),Nt(!o.get(3)&&!s.U.database||o.get(3)===s.U.database),new T(kr(o))}function un(s,n){return pe(s.U,n)}function $n(s){var n=B(s);return 4===n.length?tt.g():kr(n)}function ur(s){return new tt(["projects",s.U.projectId,"databases",s.U.database]).R()}function kr(s){return Nt(s.length>4&&"documents"===s.get(4)),s.u(5)}function gr(s,n,o){return{name:_e(s,n),fields:o.proto.mapValue.fields}}function vr(s,n){var o,p;if(n instanceof Pi)o={update:gr(s,n.key,n.value)};else if(n instanceof hi)o={delete:_e(s,n.key)};else if(n instanceof Ur)o={update:gr(s,n.key,n.data),updateMask:cs(n.Qe)};else if(n instanceof Si)o={transform:{document:_e(s,n.key),fieldTransforms:n.fieldTransforms.map(function(c){return function(p,w){var x=w.transform;if(x instanceof lo)return{fieldPath:w.field.R(),setToServerValue:"REQUEST_TIME"};if(x instanceof oe)return{fieldPath:w.field.R(),appendMissingElements:{values:x.elements}};if(x instanceof Be)return{fieldPath:w.field.R(),removeAllFromArray:{values:x.elements}};if(x instanceof jt)return{fieldPath:w.field.R(),increment:x.We};throw ye()}(0,c)})}};else{if(!(n instanceof Yi))return ye();o={verify:_e(s,n.key)}}return n.Ke.je||(o.currentDocument=void 0!==(p=n.Ke).updateTime?{updateTime:Gi(s,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:ye()),o}function ir(s,n){var gt,o=n.currentDocument?void 0!==(gt=n.currentDocument).updateTime?or.updateTime(ze(gt.updateTime)):void 0!==gt.exists?or.exists(gt.exists):or.Ge():or.Ge();if(n.update){var c=Xe(s,n.update.name),p=new Vo({mapValue:{fields:n.update.fields}});if(n.updateMask){var w=function(gt){return new Hn((gt.fieldPaths||[]).map(function($t){return k.S($t)}))}(n.updateMask);return new Ur(c,p,w,o)}return new Pi(c,p,o)}if(n.delete){var x=Xe(s,n.delete);return new hi(x,o)}if(n.transform){var G=Xe(s,n.transform.document),he=n.transform.fieldTransforms.map(function(gt){return function(Kt,$t){var cn=null;"setToServerValue"in $t?(Nt("REQUEST_TIME"===$t.setToServerValue),cn=new lo):"appendMissingElements"in $t?cn=new oe($t.appendMissingElements.values||[]):"removeAllFromArray"in $t?cn=new Be($t.removeAllFromArray.values||[]):"increment"in $t?cn=new jt(Kt,$t.increment):ye();var Pr=k.S($t.fieldPath);return new Mn(Pr,cn)}(s,gt)});return Nt(!0===o.exists),new Si(G,he)}if(n.verify){var je=Xe(s,n.verify);return new Yi(je,o)}return ye()}function ar(s,n){return{documents:[un(s,n.path)]}}function ki(s,n){var o={structuredQuery:{}},c=n.path;null!==n.collectionGroup?(o.parent=un(s,c),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=un(s,c.h()),o.structuredQuery.from=[{collectionId:c._()}]);var p=function(G){if(0!==G.length){var he=G.map(function(je){return function(gt){if("=="===gt.op){if(Mr(gt.value))return{unaryFilter:{field:$i(gt.field),op:"IS_NAN"}};if(di(gt.value))return{unaryFilter:{field:$i(gt.field),op:"IS_NULL"}}}else if("!="===gt.op){if(Mr(gt.value))return{unaryFilter:{field:$i(gt.field),op:"IS_NOT_NAN"}};if(di(gt.value))return{unaryFilter:{field:$i(gt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(gt.field),op:So(gt.op),value:gt.value}}}(je)});return 1===he.length?he[0]:{compositeFilter:{op:"AND",filters:he}}}}(n.filters);p&&(o.structuredQuery.where=p);var w=function(G){if(0!==G.length)return G.map(function(he){return{field:$i((je=he).field),direction:Gr(je.dir)};var je})}(n.orderBy);w&&(o.structuredQuery.orderBy=w);var he,x=(he=n.limit,s.Ue||mn(he)?he:{value:he});return null!==x&&(o.structuredQuery.limit=x),n.startAt&&(o.structuredQuery.startAt=Ki(n.startAt)),n.endAt&&(o.structuredQuery.endAt=Ki(n.endAt)),o}function ao(s){var n=$n(s.parent),o=s.structuredQuery,c=o.from?o.from.length:0,p=null;if(c>0){Nt(1===c);var w=o.from[0];w.allDescendants?p=w.collectionId:n=n.child(w.collectionId)}var x=[];o.where&&(x=Oi(o.where));var G=[];o.orderBy&&(G=o.orderBy.map(function(Kt){return new Bo(oo(($t=Kt).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));var Kt,$t,he=null;o.limit&&(he=mn($t="object"==typeof(Kt=o.limit)?Kt.value:Kt)?null:$t);var je=null;o.startAt&&(je=Ai(o.startAt));var gt=null;return o.endAt&&(gt=Ai(o.endAt)),Hi(is(n,p,G,x,he,"F",je,gt))}function Oi(s){return s?void 0!==s.unaryFilter?[Ko(s)]:void 0!==s.fieldFilter?[Ts(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(n){return Oi(n)}).reduce(function(n,o){return n.concat(o)}):ye():[]}function Ki(s){return{before:s.before,values:s.position}}function Ai(s){return new xo(s.values||[],!!s.before)}function Gr(s){return Ni[s]}function So(s){return jr[s]}function $i(s){return{fieldPath:s.R()}}function oo(s){return k.S(s.fieldPath)}function Ts(s){return Di.create(oo(s.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(s.fieldFilter.op),s.fieldFilter.value)}function Ko(s){switch(s.unaryFilter.op){case"IS_NAN":var n=oo(s.unaryFilter.field);return Di.create(n,"==",{doubleValue:NaN});case"IS_NULL":var o=oo(s.unaryFilter.field);return Di.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var c=oo(s.unaryFilter.field);return Di.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var p=oo(s.unaryFilter.field);return Di.create(p,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}function cs(s){var n=[];return s.fields.forEach(function(o){return n.push(o.R())}),{fieldPaths:n}}function Ns(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}var mi=function(){this.ze=void 0};function Ds(s,n,o){return s instanceof lo?(w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(c=o).seconds,nanos:c.nanoseconds}}}},(p=n)&&(w.fields.__previous_value__=p),{mapValue:w}):s instanceof oe?ne(s,n):s instanceof Be?wt(s,n):function(c,p){var w=ds(c,p),x=Jt(w)+Jt(c.We);return Cr(w)&&Cr(c.We)?ji(x):io(c.serializer,x)}(s,n);var c,p,w}function Fo(s,n,o){return s instanceof oe?ne(s,n):s instanceof Be?wt(s,n):o}function ds(s,n){return s instanceof jt?Cr(o=n)||(c=o)&&"doubleValue"in c?n:{integerValue:0}:null;var c,o}var lo=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n}(mi),oe=function(s){function n(o){var c=this;return(c=s.call(this)||this).elements=o,c}return y.__extends(n,s),n}(mi);function ne(s,n){for(var o=Sn(n),c=function(x){o.some(function(G){return Mt(G,x)})||o.push(x)},p=0,w=s.elements;p<w.length;p++)c(w[p]);return{arrayValue:{values:o}}}var Be=function(s){function n(o){var c=this;return(c=s.call(this)||this).elements=o,c}return y.__extends(n,s),n}(mi);function wt(s,n){for(var o=Sn(n),c=function(x){o=o.filter(function(G){return!Mt(G,x)})},p=0,w=s.elements;p<w.length;p++)c(w[p]);return{arrayValue:{values:o}}}var jt=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).serializer=o,p.We=c,p}return y.__extends(n,s),n}(mi);function Jt(s){return sr(s.integerValue||s.doubleValue)}function Sn(s){return xi(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Hn=function(){function s(n){this.fields=n,n.sort(k.i)}return s.prototype.He=function(n){for(var o=0,c=this.fields;o<c.length;o++)if(c[o].T(n))return!0;return!1},s.prototype.isEqual=function(n){return fn(this.fields,n.fields,function(o,c){return o.isEqual(c)})},s}(),Mn=function(s,n){this.field=s,this.transform=n},qn=function(s,n){this.version=s,this.transformResults=n},or=function(){function s(n,o){this.updateTime=n,this.exists=o}return s.Ge=function(){return new s},s.exists=function(n){return new s(void 0,n)},s.updateTime=function(n){return new s(n)},Object.defineProperty(s.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},s}();function Kr(s,n){return void 0!==s.updateTime?n instanceof Qr&&n.version.isEqual(s.updateTime):void 0===s.exists||s.exists===n instanceof Qr}var Ar=function(){};function gi(s,n,o){return s instanceof Pi?new Qr((c=s).key,o.version,c.value,{hasCommittedMutations:!0}):s instanceof Ur?function(c,p,w){if(!Kr(c.Ke,p))return new uo(c.key,w.version);var x=go(c,p);return new Qr(c.key,w.version,x,{hasCommittedMutations:!0})}(s,n,o):s instanceof Si?function(c,p,w){if(Nt(null!=w.transformResults),!Kr(c.Ke,p))return new uo(c.key,w.version);var x=Ti(0,p),G=function(gt,Kt,$t){var cn=[];Nt(gt.length===$t.length);for(var Dn=0;Dn<$t.length;Dn++){var Vn=gt[Dn],Pr=Vn.transform,Er=null;Kt instanceof Qr&&(Er=Kt.field(Vn.field)),cn.push(Fo(Pr,Er,$t[Dn]))}return cn}(c.fieldTransforms,p,w.transformResults),he=w.version,je=yi(c,x.data(),G);return new Qr(c.key,he,je,{hasCommittedMutations:!0})}(s,n,o):function(c,p,w){return new Ui(c.key,w.version,{hasCommittedMutations:!0})}(s,0,o);var c}function $r(s,n,o,c){return s instanceof Pi?function(p,w){if(!Kr(p.Ke,w))return w;var x=mo(w);return new Qr(p.key,x,p.value,{Ye:!0})}(s,n):s instanceof Ur?function(p,w){if(!Kr(p.Ke,w))return w;var x=mo(w),G=go(p,w);return new Qr(p.key,x,G,{Ye:!0})}(s,n):s instanceof Si?function(p,w,x,G){if(!Kr(p.Ke,w))return w;var he=Ti(0,w),je=function(Kt,$t,cn,Dn){for(var Vn=[],Pr=0,Er=Kt;Pr<Er.length;Pr++){var Wr=Er[Pr],pi=Wr.transform,Li=null;cn instanceof Qr&&(Li=cn.field(Wr.field)),null===Li&&Dn instanceof Qr&&(Li=Dn.field(Wr.field)),Vn.push(Ds(pi,Li,$t))}return Vn}(p.fieldTransforms,x,w,G),gt=yi(p,he.data(),je);return new Qr(p.key,he.version,gt,{Ye:!0})}(s,n,c,o):Kr((p=s).Ke,w=n)?new Ui(p.key,Qt.min()):w;var p,w}function Ri(s,n){return s instanceof Si?function(o,c){for(var p=null,w=0,x=o.fieldTransforms;w<x.length;w++){var G=x[w],he=c instanceof Qr?c.field(G.field):void 0,je=ds(G.transform,he||null);null!=je&&(p=null==p?(new $o).set(G.field,je):p.set(G.field,je))}return p?p.Je():null}(s,n):null}function vi(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.Ke.isEqual(n.Ke)&&(0===s.type?s.value.isEqual(n.value):1===s.type?s.data.isEqual(n.data)&&s.Qe.isEqual(n.Qe):2!==s.type||fn(s.fieldTransforms,s.fieldTransforms,function(o,c){return(p=o).field.isEqual((w=c).field)&&(G=w.transform,(x=p.transform)instanceof oe&&G instanceof oe||x instanceof Be&&G instanceof Be?fn(x.elements,G.elements,Mt):x instanceof jt&&G instanceof jt?Mt(x.We,G.We):x instanceof lo&&G instanceof lo);var p,w,x,G}))}function mo(s){return s instanceof Qr?s.version:Qt.min()}var Pi=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).key=o,w.value=c,w.Ke=p,w.type=0,w}return y.__extends(n,s),n}(Ar),Ur=function(s){function n(o,c,p,w){var x=this;return(x=s.call(this)||this).key=o,x.data=c,x.Qe=p,x.Ke=w,x.type=1,x}return y.__extends(n,s),n}(Ar);function go(s,n){return o=s,c=n instanceof Qr?n.data():Vo.empty(),p=new $o(c),o.Qe.fields.forEach(function(w){if(!w.m()){var x=o.data.field(w);null!==x?p.set(w,x):p.delete(w)}}),p.Je();var o,c,p}var Si=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.fieldTransforms=c,p.type=2,p.Ke=or.exists(!0),p}return y.__extends(n,s),n}(Ar);function Ti(s,n){return n}function yi(s,n,o){for(var c=new $o(n),p=0;p<s.fieldTransforms.length;p++)c.set(s.fieldTransforms[p].field,o[p]);return c.Je()}var hi=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.Ke=c,p.type=3,p}return y.__extends(n,s),n}(Ar),Yi=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.Ke=c,p.type=4,p}return y.__extends(n,s),n}(Ar),Vo=function(){function s(n){this.proto=n}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(n){if(n.m())return this.proto;for(var o=this.proto,c=0;c<n.length-1;++c)if(!o.mapValue.fields||!Bi(o=o.mapValue.fields[n.get(c)]))return null;return(o=(o.mapValue.fields||{})[n._()])||null},s.prototype.isEqual=function(n){return Mt(this.proto,n.proto)},s}(),$o=function(){function s(n){void 0===n&&(n=Vo.empty()),this.Xe=n,this.Ze=new Map}return s.prototype.set=function(n,o){return this.tn(n,o),this},s.prototype.delete=function(n){return this.tn(n,null),this},s.prototype.tn=function(n,o){for(var c=this.Ze,p=0;p<n.length-1;++p){var w=n.get(p),x=c.get(w);x instanceof Map?c=x:x&&10===mt(x)?(x=new Map(Object.entries(x.mapValue.fields||{})),c.set(w,x),c=x):(c.set(w,x=new Map),c=x)}c.set(n._(),o)},s.prototype.Je=function(){var n=this.en(k.g(),this.Ze);return null!=n?new Vo(n):this.Xe},s.prototype.en=function(n,o){var c=this,p=!1,w=this.Xe.field(n),x=Bi(w)?Object.assign({},w.mapValue.fields):{};return o.forEach(function(G,he){if(G instanceof Map){var je=c.en(n.child(he),G);null!=je&&(x[he]=je,p=!0)}else null!==G?(x[he]=G,p=!0):x.hasOwnProperty(he)&&(delete x[he],p=!0)}),p?{mapValue:{fields:x}}:null},s}();function Fs(s){var n=[];return Ot(s.fields||{},function(o,c){var p=new k([o]);if(Bi(c)){var w=Fs(c.mapValue).fields;if(0===w.length)n.push(p);else for(var x=0,G=w;x<G.length;x++)n.push(p.child(G[x]))}else n.push(p)}),new Hn(n)}var ti=function(s,n){this.key=s,this.version=n},Qr=function(s){function n(o,c,p,w){var x=this;return(x=s.call(this,o,c)||this).nn=p,x.Ye=!!w.Ye,x.hasCommittedMutations=!!w.hasCommittedMutations,x}return y.__extends(n,s),n.prototype.field=function(o){return this.nn.field(o)},n.prototype.data=function(){return this.nn},n.prototype.sn=function(){return this.nn.proto},n.prototype.isEqual=function(o){return o instanceof n&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.Ye===o.Ye&&this.hasCommittedMutations===o.hasCommittedMutations&&this.nn.isEqual(o.nn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}(ti),Ui=function(s){function n(o,c,p){var w=this;return(w=s.call(this,o,c)||this).hasCommittedMutations=!(!p||!p.hasCommittedMutations),w}return y.__extends(n,s),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(o){return o instanceof n&&o.hasCommittedMutations===this.hasCommittedMutations&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},n}(ti),uo=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(o){return o instanceof n&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},n}(ti),Xi=function(s,n,o,c,p,w,x,G){void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w="F"),void 0===x&&(x=null),void 0===G&&(G=null),this.path=s,this.collectionGroup=n,this.rn=o,this.filters=c,this.limit=p,this.on=w,this.startAt=x,this.endAt=G,this.an=null,this.cn=null};function is(s,n,o,c,p,w,x,G){return new Xi(s,n,o,c,p,w,x,G)}function Vi(s){return new Xi(s)}function Or(s){return!mn(s.limit)&&"F"===s.on}function _o(s){return!mn(s.limit)&&"L"===s.on}function hs(s){return s.rn.length>0?s.rn[0].field:null}function Ls(s){for(var n=0,o=s.filters;n<o.length;n++){var c=o[n];if(c.un())return c.field}return null}function os(s){return null!==s.collectionGroup}function To(s){var n=yt(s);if(null===n.an){n.an=[];var o=Ls(n),c=hs(n);if(null!==o&&null===c)o.p()||n.an.push(new Bo(o)),n.an.push(new Bo(k.v(),"asc"));else{for(var p=!1,w=0,x=n.rn;w<x.length;w++){var G=x[w];n.an.push(G),G.field.p()&&(p=!0)}if(!p){var he=n.rn.length>0?n.rn[n.rn.length-1].dir:"asc";n.an.push(new Bo(k.v(),he))}}}return n.an}function Hi(s){var n=yt(s);if(!n.cn)if("F"===n.on)n.cn=Rt(n.path,n.collectionGroup,To(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var o=[],c=0,p=To(n);c<p.length;c++){var w=p[c];o.push(new Bo(w.field,"desc"===w.dir?"asc":"desc"))}var G=n.endAt?new xo(n.endAt.position,!n.endAt.before):null,he=n.startAt?new xo(n.startAt.position,!n.startAt.before):null;n.cn=Rt(n.path,n.collectionGroup,o,n.filters,n.limit,G,he)}return n.cn}function es(s,n,o){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),n,o,s.startAt,s.endAt)}function Ks(s,n){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),s.limit,s.on,n,s.endAt)}function Pn(s,n){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),s.limit,s.on,s.startAt,n)}function Vr(s,n){return En(Hi(s),Hi(n))&&s.on===n.on}function fs(s){return dt(Hi(s))+"|lt:"+s.on}function qo(s){return"Query(target="+(o=(n=Hi(s)).path.R(),null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=", filters: ["+n.filters.map(function(c){return(p=c).field.R()+" "+p.op+" "+mr(p.value);var p}).join(", ")+"]"),mn(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=", orderBy: ["+n.orderBy.map(function(c){return(p=c).field.R()+" ("+p.dir+")";var p}).join(", ")+"]"),n.startAt&&(o+=", startAt: "+Do(n.startAt)),n.endAt&&(o+=", endAt: "+Do(n.endAt)),"Target("+o+"); limitType=")+s.on+")";var n,o}function oi(s,n){return p=(c=n).key.path,(null!==(o=s).collectionGroup?c.key.N(o.collectionGroup)&&o.path.T(p):T.F(o.path)?o.path.isEqual(p):o.path.I(p))&&function(o,c){for(var p=0,w=o.rn;p<w.length;p++){var x=w[p];if(!x.field.p()&&null===c.field(x.field))return!1}return!0}(s,n)&&function(o,c){for(var p=0,w=o.filters;p<w.length;p++)if(!w[p].matches(c))return!1;return!0}(s,n)&&function(o,c){return!(o.startAt&&!vo(o.startAt,To(o),c)||o.endAt&&vo(o.endAt,To(o),c))}(s,n);var o,c,p}function Zi(s){return function(n,o){for(var c=!1,p=0,w=To(s);p<w.length;p++){var x=w[p],G=Qo(x,n,o);if(0!==G)return G;c=c||x.field.p()}return 0}}var Di=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).field=o,w.op=c,w.value=p,w}return y.__extends(n,s),n.create=function(o,c,p){if(o.p())return"in"===c||"not-in"===c?this.hn(o,c,p):new Ji(o,c,p);if(di(p)){if("=="!==c&&"!="!==c)throw new K(ie.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new n(o,c,p)}if(Mr(p)){if("=="!==c&&"!="!==c)throw new K(ie.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new n(o,c,p)}return"array-contains"===c?new $s(o,p):"in"===c?new Hs(o,p):"not-in"===c?new co(o,p):"array-contains-any"===c?new Lo(o,p):new n(o,c,p)},n.hn=function(o,c,p){return"in"===c?new Bs(o,p):new ts(o,p)},n.prototype.matches=function(o){var c=o.field(this.field);return"!="===this.op?null!==c&&this.ln(Yn(c,this.value)):null!==c&&mt(this.value)===mt(c)&&this.ln(Yn(c,this.value))},n.prototype.ln=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return ye()}},n.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),Ji=function(s){function n(o,c,p){var w=this;return(w=s.call(this,o,c,p)||this).key=T.C(p.referenceValue),w}return y.__extends(n,s),n.prototype.matches=function(o){var c=T.i(o.key,this.key);return this.ln(c)},n}(Di),Bs=function(s){function n(o,c){var p=this;return(p=s.call(this,o,"in",c)||this).keys=ps(0,c),p}return y.__extends(n,s),n.prototype.matches=function(o){return this.keys.some(function(c){return c.isEqual(o.key)})},n}(Di),ts=function(s){function n(o,c){var p=this;return(p=s.call(this,o,"not-in",c)||this).keys=ps(0,c),p}return y.__extends(n,s),n.prototype.matches=function(o){return!this.keys.some(function(c){return c.isEqual(o.key)})},n}(Di);function ps(s,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(c){return T.C(c.referenceValue)})}var $s=function(s){function n(o,c){return s.call(this,o,"array-contains",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=o.field(this.field);return xi(c)&&Lt(c.arrayValue,this.value)},n}(Di),Hs=function(s){function n(o,c){return s.call(this,o,"in",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=o.field(this.field);return null!==c&&Lt(this.value.arrayValue,c)},n}(Di),co=function(s){function n(o,c){return s.call(this,o,"not-in",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){if(Lt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var c=o.field(this.field);return null!==c&&!Lt(this.value.arrayValue,c)},n}(Di),Lo=function(s){function n(o,c){return s.call(this,o,"array-contains-any",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=this,p=o.field(this.field);return!(!xi(p)||!p.arrayValue.values)&&p.arrayValue.values.some(function(w){return Lt(c.value.arrayValue,w)})},n}(Di),xo=function(s,n){this.position=s,this.before=n};function Do(s){return(s.before?"b":"a")+":"+s.position.map(function(n){return mr(n)}).join(",")}function vo(s,n,o){for(var c=0,p=0;p<s.position.length;p++){var w=n[p],x=s.position[p];if(c=w.field.p()?T.i(T.C(x.referenceValue),o.key):Yn(x,o.field(w.field)),"desc"===w.dir&&(c*=-1),0!==c)break}return s.before?c<=0:c<0}function Ho(s,n){if(null===s)return null===n;if(null===n||s.before!==n.before||s.position.length!==n.position.length)return!1;for(var o=0;o<s.position.length;o++)if(!Mt(s.position[o],n.position[o]))return!1;return!0}var Bo=function(s,n){void 0===n&&(n="asc"),this.field=s,this.dir=n};function Qo(s,n,o){var p,x,G,he,c=s.field.p()?T.i(n.key,o.key):(x=o,G=n.field(p=s.field),he=x.field(p),null!==G&&null!==he?Yn(G,he):ye());switch(s.dir){case"asc":return c;case"desc":return-1*c;default:return ye()}}function js(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}var fi=function(){var s=this;this.promise=new Promise(function(n,o){s.resolve=n,s.reject=o})},Cs=function(){function s(n,o,c,p,w){void 0===c&&(c=1e3),void 0===p&&(p=1.5),void 0===w&&(w=6e4),this._n=n,this.fn=o,this.dn=c,this.wn=p,this.mn=w,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return s.prototype.reset=function(){this.Tn=0},s.prototype.An=function(){this.Tn=this.mn},s.prototype.Rn=function(n){var o=this;this.cancel();var c=Math.floor(this.Tn+this.Pn()),p=Math.max(0,Date.now()-this.In),w=Math.max(0,c-p);w>0&&Fe("ExponentialBackoff","Backing off for "+w+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+c+" ms, last attempt: "+p+" ms ago)"),this.En=this._n.gn(this.fn,w,function(){return o.In=Date.now(),n()}),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},s.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},s.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},s.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},s}(),Xn=function(){function s(n){var o=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,n(function(c){o.vn=!0,o.result=c,o.pn&&o.pn(c)},function(c){o.vn=!0,o.error=c,o.bn&&o.bn(c)})}return s.prototype.catch=function(n){return this.next(void 0,n)},s.prototype.next=function(n,o){var c=this;return this.Sn&&ye(),this.Sn=!0,this.vn?this.error?this.Dn(o,this.error):this.Cn(n,this.result):new s(function(p,w){c.pn=function(x){c.Cn(n,x).next(p,w)},c.bn=function(x){c.Dn(o,x).next(p,w)}})},s.prototype.Nn=function(){var n=this;return new Promise(function(o,c){n.next(o,c)})},s.prototype.Fn=function(n){try{var o=n();return o instanceof s?o:s.resolve(o)}catch(c){return s.reject(c)}},s.prototype.Cn=function(n,o){return n?this.Fn(function(){return n(o)}):s.resolve(o)},s.prototype.Dn=function(n,o){return n?this.Fn(function(){return n(o)}):s.reject(o)},s.resolve=function(n){return new s(function(o,c){o(n)})},s.reject=function(n){return new s(function(o,c){c(n)})},s.$n=function(n){return new s(function(o,c){var p=0,w=0,x=!1;n.forEach(function(G){++p,G.next(function(){++w,x&&w===p&&o()},function(he){return c(he)})}),x=!0,w===p&&o()})},s.xn=function(n){for(var o=s.resolve(!1),c=function(x){o=o.next(function(G){return G?s.resolve(G):x()})},p=0,w=n;p<w.length;p++)c(w[p]);return o},s.forEach=function(n,o){var c=this,p=[];return n.forEach(function(w,x){p.push(o.call(c,w,x))}),this.$n(p)},s}(),Ci=function(){function s(n,o,c){this.name=n,this.version=o,this.kn=c,12.2===s.Mn(Pe.getUA())&&bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(n){return Fe("SimpleDb","Removing database:",n),ms(window.indexedDB.deleteDatabase(n)).Nn()},s.On=function(){if(typeof indexedDB>"u")return!1;if(s.Ln())return!0;var n=Pe.getUA(),o=s.Mn(n),c=0<o&&o<10,p=s.Bn(n),w=0<p&&p<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||c||w)},s.Ln=function(){var n;return typeof process<"u"&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.qn)},s.Un=function(n,o){return n.store(o)},s.Mn=function(n){var o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)},s.Bn=function(n){var o=n.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)},s.prototype.Qn=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.db?[3,2]:(Fe("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(w,x){var G=indexedDB.open(c.name,c.version);G.onsuccess=function(he){w(he.target.result)},G.onblocked=function(){x(new ys(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},G.onerror=function(he){var je=he.target.error;x("VersionError"===je.name?new K(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ys(n,je))},G.onupgradeneeded=function(he){Fe("SimpleDb",'Database "'+c.name+'" requires upgrade from version:',he.oldVersion),c.kn.createOrUpgrade(he.target.result,G.transaction,he.oldVersion,c.version).next(function(){Fe("SimpleDb","Database upgrade to version "+c.version+" complete")})}})]);case 1:o.db=p.sent(),p.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(w){return c.Wn(w)}),this.db)]}})})},s.prototype.jn=function(n){this.Wn=n,this.db&&(this.db.onversionchange=function(o){return n(o)})},s.prototype.runTransaction=function(n,o,c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x,G,he,je;return y.__generator(this,function(gt){switch(gt.label){case 0:w="readonly"===o,x=0,G=function(){var Kt,$t,cn,Dn,Vn;return y.__generator(this,function(Pr){switch(Pr.label){case 0:++x,Pr.label=1;case 1:return Pr.trys.push([1,4,,5]),[4,he.Qn(n)];case 2:return he.db=Pr.sent(),Kt=bo.open(he.db,n,w?"readonly":"readwrite",c),$t=p(Kt).catch(function(Er){return Kt.abort(Er),Xn.reject(Er)}).Nn(),cn={},$t.catch(function(){}),[4,Kt.Kn];case 3:return[2,(cn.value=(Pr.sent(),$t),cn)];case 4:return Fe("SimpleDb","Transaction failed with error:",(Dn=Pr.sent()).message,"Retrying:",Vn="FirebaseError"!==Dn.name&&x<3),he.close(),Vn?[3,5]:[2,{value:Promise.reject(Dn)}];case 5:return[2]}})},he=this,gt.label=1;case 1:return[5,G()];case 2:if("object"==typeof(je=gt.sent()))return[2,je.value];gt.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),vs=function(){function s(n){this.Gn=n,this.zn=!1,this.Hn=null}return Object.defineProperty(s.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(n){this.Gn=n},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.zn=!0},s.prototype.Jn=function(n){this.Hn=n},s.prototype.delete=function(){return ms(this.Gn.delete())},s}(),ys=function(s){function n(o,c){var p=this;return(p=s.call(this,ie.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+c)||this).name="IndexedDbTransactionError",p}return y.__extends(n,s),n}(K);function zo(s){return"IndexedDbTransactionError"===s.name}var bo=function(){function s(n,o){var c=this;this.action=n,this.transaction=o,this.aborted=!1,this.Xn=new fi,this.transaction.oncomplete=function(){c.Xn.resolve()},this.transaction.onabort=function(){o.error?c.Xn.reject(new ys(n,o.error)):c.Xn.resolve()},this.transaction.onerror=function(p){var w=_(p.target.error);c.Xn.reject(new ys(n,w))}}return s.open=function(n,o,c,p){try{return new s(o,n.transaction(p,c))}catch(w){throw new ys(o,w)}},Object.defineProperty(s.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(n){n&&this.Xn.reject(n),this.aborted||(Fe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(n){var o=this.transaction.objectStore(n);return new Ys(o)},s}(),Ys=function(){function s(n){this.store=n}return s.prototype.put=function(n,o){var c;return void 0!==o?(Fe("SimpleDb","PUT",this.store.name,n,o),c=this.store.put(o,n)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",n),c=this.store.put(n)),ms(c)},s.prototype.add=function(n){return Fe("SimpleDb","ADD",this.store.name,n,n),ms(this.store.add(n))},s.prototype.get=function(n){var o=this;return ms(this.store.get(n)).next(function(c){return void 0===c&&(c=null),Fe("SimpleDb","GET",o.store.name,n,c),c})},s.prototype.delete=function(n){return Fe("SimpleDb","DELETE",this.store.name,n),ms(this.store.delete(n))},s.prototype.count=function(){return Fe("SimpleDb","COUNT",this.store.name),ms(this.store.count())},s.prototype.Zn=function(n,o){var c=this.cursor(this.options(n,o)),p=[];return this.ts(c,function(w,x){p.push(x)}).next(function(){return p})},s.prototype.es=function(n,o){Fe("SimpleDb","DELETE ALL",this.store.name);var c=this.options(n,o);c.ns=!1;var p=this.cursor(c);return this.ts(p,function(w,x,G){return G.delete()})},s.prototype.ss=function(n,o){var c;o?c=n:(c={},o=n);var p=this.cursor(c);return this.ts(p,o)},s.prototype.rs=function(n){var o=this.cursor({});return new Xn(function(c,p){o.onerror=function(w){var x=_(w.target.error);p(x)},o.onsuccess=function(w){var x=w.target.result;x?n(x.primaryKey,x.value).next(function(G){G?x.continue():c()}):c()}})},s.prototype.ts=function(n,o){var c=[];return new Xn(function(p,w){n.onerror=function(x){w(x.target.error)},n.onsuccess=function(x){var G=x.target.result;if(G){var he=new vs(G),je=o(G.primaryKey,G.value,he);if(je instanceof Xn){var gt=je.catch(function(Kt){return he.done(),Xn.reject(Kt)});c.push(gt)}he.vn?p():null===he.Yn?G.continue():G.continue(he.Yn)}else p()}}).next(function(){return Xn.$n(c)})},s.prototype.options=function(n,o){var c=void 0;return void 0!==n&&("string"==typeof n?c=n:o=n),{index:c,range:o}},s.prototype.cursor=function(n){var o="next";if(n.reverse&&(o="prev"),n.index){var c=this.store.index(n.index);return n.ns?c.openKeyCursor(n.range,o):c.openCursor(n.range,o)}return this.store.openCursor(n.range,o)},s}();function ms(s){return new Xn(function(n,o){s.onsuccess=function(c){n(c.target.result)},s.onerror=function(c){var p=_(c.target.error);o(p)}})}var Ii=!1;function _(s){var n=Ci.Mn(Pe.getUA());if(n>=12.2&&n<13){var o="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(o)>=0){var c=new K("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ii||(Ii=!0,setTimeout(function(){throw c},0)),c}}return s}function H(){return typeof window<"u"?window:null}function fe(){return typeof document<"u"?document:null}var qe=function(){function s(n,o,c,p,w){this.os=n,this.fn=o,this.cs=c,this.op=p,this.us=w,this.hs=new fi,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch(function(x){})}return s.ls=function(n,o,c,p,w){var x=new s(n,o,Date.now()+c,p,w);return x.start(c),x},s.prototype.start=function(n){var o=this;this._s=setTimeout(function(){return o.fs()},n)},s.prototype.Vn=function(){return this.fs()},s.prototype.cancel=function(n){null!==this._s&&(this.clearTimeout(),this.hs.reject(new K(ie.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},s.prototype.fs=function(){var n=this;this.os.ds(function(){return null!==n._s?(n.clearTimeout(),n.op().then(function(o){return n.hs.resolve(o)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},s}(),Gt=function(){function s(){var n=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new Cs(this,"async_queue_retry"),this.ys=function(){var c=fe();c&&Fe("AsyncQueue","Visibility state changed to  ",c.visibilityState),n.gs.yn()};var o=fe();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(s.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),s.prototype.ds=function(n){this.enqueue(n)},s.prototype.ps=function(n){this.bs(),this.vs(n)},s.prototype.Ss=function(){if(!this.Es){this.Es=!0;var n=fe();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ys)}},s.prototype.enqueue=function(n){return this.bs(),this.Es?new Promise(function(o){}):this.vs(n)},s.prototype.Ds=function(n){var o=this;this.Ts.push(n),this.ds(function(){return o.Cs()})},s.prototype.Cs=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){switch(c.label){case 0:if(0===this.Ts.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return c.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!zo(n=c.sent()))throw n;return Fe("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:this.Ts.length>0&&this.gs.Rn(function(){return o.Cs()}),c.label=5;case 5:return[2]}})})},s.prototype.vs=function(n){var o=this,c=this.ws.then(function(){return o.Rs=!0,n().catch(function(p){throw o.As=p,o.Rs=!1,bt("INTERNAL UNHANDLED ERROR: ",(x=(w=p).message||"",w.stack&&(x=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),x)),p;var w,x}).then(function(p){return o.Rs=!1,p})});return this.ws=c,c},s.prototype.gn=function(n,o,c){var p=this;this.bs(),this.Ps.indexOf(n)>-1&&(o=0);var w=qe.ls(this,n,o,c,function(x){return p.Ns(x)});return this.Is.push(w),w},s.prototype.bs=function(){this.As&&ye()},s.prototype.Fs=function(){},s.prototype.$s=function(){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){switch(o.label){case 0:return[4,n=this.ws];case 1:o.sent(),o.label=2;case 2:if(n!==this.ws)return[3,0];o.label=3;case 3:return[2]}})})},s.prototype.xs=function(n){for(var o=0,c=this.Is;o<c.length;o++)if(c[o].fn===n)return!0;return!1},s.prototype.ks=function(n){var o=this;return this.$s().then(function(){o.Is.sort(function(x,G){return x.cs-G.cs});for(var c=0,p=o.Is;c<p.length;c++){var w=p[c];if(w.Vn(),"all"!==n&&w.fn===n)break}return o.$s()})},s.prototype.Ms=function(n){this.Ps.push(n)},s.prototype.Ns=function(n){var o=this.Is.indexOf(n);this.Is.splice(o,1)},s}();function sn(s,n){if(bt("AsyncQueue",n+": "+s),zo(s))return new K(ie.UNAVAILABLE,n+": "+s);throw s}var dr=function(){this.Os=void 0,this.listeners=[]},ri=function(){this.Ls=new vt(function(s){return fs(s)},Vr),this.onlineState="Unknown",this.Bs=new Set};function Xr(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x,G,he;return y.__generator(this,function(je){switch(je.label){case 0:if(o=yt(s),p=!1,(w=o.Ls.get(c=n.query))||(p=!0,w=new dr),!p)return[3,4];je.label=1;case 1:return je.trys.push([1,3,,4]),x=w,[4,o.qs(c)];case 2:return x.Os=je.sent(),[3,4];case 3:return G=je.sent(),he=sn(G,"Initialization of query '"+qo(n.query)+"' failed"),[2,void n.onError(he)];case 4:return o.Ls.set(c,w),w.listeners.push(n),n.Us(o.onlineState),w.Os&&n.Qs(w.Os)&&ss(o),[2]}})})}function wo(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x;return y.__generator(this,function(G){return o=yt(s),p=!1,(w=o.Ls.get(c=n.query))&&(x=w.listeners.indexOf(n))>=0&&(w.listeners.splice(x,1),p=0===w.listeners.length),p?[2,(o.Ls.delete(c),o.Ws(c))]:[2]})})}function Xo(s,n){for(var o=yt(s),c=!1,p=0,w=n;p<w.length;p++){var x=w[p],he=o.Ls.get(x.query);if(he){for(var je=0,gt=he.listeners;je<gt.length;je++)gt[je].Qs(x)&&(c=!0);he.Os=x}}c&&ss(o)}function ns(s,n,o){var c=yt(s),p=c.Ls.get(n);if(p)for(var w=0,x=p.listeners;w<x.length;w++)x[w].onError(o);c.Ls.delete(n)}function ss(s){s.Bs.forEach(function(n){n.next()})}var Zo=function(){function s(n,o,c){this.query=n,this.js=o,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=c||{}}return s.prototype.Qs=function(n){if(!this.options.includeMetadataChanges){for(var o=[],c=0,p=n.docChanges;c<p.length;c++){var w=p[c];3!==w.type&&o.push(w)}n=new Ft(n.query,n.docs,n.Ut,o,n.Qt,n.fromCache,n.Wt,!0)}var x=!1;return this.Ks?this.zs(n)&&(this.js.next(n),x=!0):this.Hs(n,this.onlineState)&&(this.Ys(n),x=!0),this.Gs=n,x},s.prototype.onError=function(n){this.js.error(n)},s.prototype.Us=function(n){this.onlineState=n;var o=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,n)&&(this.Ys(this.Gs),o=!0),o},s.prototype.Hs=function(n,o){return!n.fromCache||!(this.options.Js&&"Offline"!==o||n.docs.m()&&"Offline"!==o)},s.prototype.zs=function(n){return n.docChanges.length>0||!!(n.Wt||this.Gs&&this.Gs.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.Ys=function(n){n=Ft.Kt(n.query,n.docs,n.Qt,n.fromCache),this.Ks=!0,this.js.next(n)},s}(),bi=function(){function s(n){this.uid=n}return s.prototype.Xs=function(){return null!=this.uid},s.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(n){return n.uid===this.uid},s}();bi.UNAUTHENTICATED=new bi(null),bi.ti=new bi("google-credentials-uid"),bi.ei=new bi("first-party-uid");var Y=function(){function s(n,o){var c=this;this.previousValue=n,o&&(o.ni=function(p){return c.si(p)},this.ii=function(p){return o.ri(p)})}return s.prototype.si=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},s.prototype.next=function(){var n=++this.previousValue;return this.ii&&this.ii(n),n},s}();function me(s,n){return"firestore_clients_"+s+"_"+n}function Z(s,n,o){var c="firestore_mutations_"+s+"_"+o;return n.Xs()&&(c+="_"+n.uid),c}function Re(s,n){return"firestore_targets_"+s+"_"+n}Y.oi=-1;var At=function(){function s(n,o,c,p){this.user=n,this.batchId=o,this.state=c,this.error=p}return s.ai=function(n,o,c){var p=JSON.parse(c),w="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),x=void 0;return w&&p.error&&(w="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(x=new K(p.error.code,p.error.message)),w?new s(n,o,p.state,x):(bt("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+c),null)},s.prototype.ci=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},s}(),wn=function(){function s(n,o,c){this.targetId=n,this.state=o,this.error=c}return s.ai=function(n,o){var c=JSON.parse(o),p="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error),w=void 0;return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(w=new K(c.error.code,c.error.message)),p?new s(n,c.state,w):(bt("SharedClientState","Failed to parse target state for ID '"+n+"': "+o),null)},s.prototype.ci=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},s}(),Fn=function(){function s(n,o){this.clientId=n,this.activeTargetIds=o}return s.ai=function(n,o){for(var c=JSON.parse(o),p="object"==typeof c&&c.activeTargetIds instanceof Array,w=nt(),x=0;p&&x<c.activeTargetIds.length;++x)p=Ee(c.activeTargetIds[x]),w=w.add(c.activeTargetIds[x]);return p?new s(n,w):(bt("SharedClientState","Failed to parse client data for instance '"+n+"': "+o),null)},s}(),br=function(){function s(n,o){this.clientId=n,this.onlineState=o}return s.ai=function(n){var o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new s(o.clientId,o.onlineState):(bt("SharedClientState","Failed to parse online state: "+n),null)},s}(),qr=function(){function s(){this.activeTargetIds=nt()}return s.prototype.ui=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},s.prototype.hi=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},s.prototype.ci=function(){var n={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(n)},s}(),Nr=function(){function s(n,o,c,p,w){this.window=n,this._n=o,this.persistenceKey=c,this.li=p,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Pt(Xt),this.Ti=!1,this.Ei=[];var x=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Ii=me(this.persistenceKey,this.li),this.Ai="firestore_sequence_number_"+this.persistenceKey,this.mi=this.mi.rt(this.li,new qr),this.Ri=new RegExp("^firestore_clients_"+x+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+x+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+x+"_(\\d+)$"),this.yi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.di)}return s.On=function(n){return!(!n||!n.localStorage)},s.prototype.start=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,p,w,x,G,he,je,gt,$t=this;return y.__generator(this,function(cn){switch(cn.label){case 0:return[4,this._i.Vi()];case 1:for(n=cn.sent(),o=0,c=n;o<c.length;o++)(p=c[o])!==this.li&&(w=this.getItem(me(this.persistenceKey,p)))&&(x=Fn.ai(p,w))&&(this.mi=this.mi.rt(x.clientId,x));for(this.pi(),(G=this.storage.getItem(this.yi))&&(he=this.bi(G))&&this.vi(he),je=0,gt=this.Ei;je<gt.length;je++)this.wi(gt[je]);return this.Ei=[],this.window.addEventListener("unload",function(){return $t.Si()}),this.Ti=!0,[2]}})})},s.prototype.ri=function(n){this.setItem(this.Ai,JSON.stringify(n))},s.prototype.Di=function(){return this.Ci(this.mi)},s.prototype.Ni=function(n){var o=!1;return this.mi.forEach(function(c,p){p.activeTargetIds.has(n)&&(o=!0)}),o},s.prototype.Fi=function(n){this.$i(n,"pending")},s.prototype.xi=function(n,o,c){this.$i(n,o,c),this.ki(n)},s.prototype.Mi=function(n){var o="not-current";if(this.Ni(n)){var c=this.storage.getItem(Re(this.persistenceKey,n));if(c){var p=wn.ai(n,c);p&&(o=p.state)}}return this.Oi.ui(n),this.pi(),o},s.prototype.Li=function(n){this.Oi.hi(n),this.pi()},s.prototype.Bi=function(n){return this.Oi.activeTargetIds.has(n)},s.prototype.qi=function(n){this.removeItem(Re(this.persistenceKey,n))},s.prototype.Ui=function(n,o,c){this.Qi(n,o,c)},s.prototype.Wi=function(n,o,c){var p=this;o.forEach(function(w){p.ki(w)}),this.currentUser=n,c.forEach(function(w){p.Fi(w)})},s.prototype.ji=function(n){this.Ki(n)},s.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},s.prototype.getItem=function(n){var o=this.storage.getItem(n);return Fe("SharedClientState","READ",n,o),o},s.prototype.setItem=function(n,o){Fe("SharedClientState","SET",n,o),this.storage.setItem(n,o)},s.prototype.removeItem=function(n){Fe("SharedClientState","REMOVE",n),this.storage.removeItem(n)},s.prototype.wi=function(n){var o=this,c=n;if(c.storageArea===this.storage){if(Fe("SharedClientState","EVENT",c.key,c.newValue),c.key===this.Ii)return void bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds(function(){return y.__awaiter(o,void 0,void 0,function(){var p,w,x,G,he,je;return y.__generator(this,function(gt){if(this.Ti){if(null!==c.key)if(this.Ri.test(c.key)){if(null==c.newValue)return p=this.Gi(c.key),[2,this.zi(p,null)];if(w=this.Hi(c.key,c.newValue))return[2,this.zi(w.clientId,w)]}else if(this.Pi.test(c.key)){if(null!==c.newValue&&(x=this.Yi(c.key,c.newValue)))return[2,this.Ji(x)]}else if(this.gi.test(c.key)){if(null!==c.newValue&&(G=this.Xi(c.key,c.newValue)))return[2,this.Zi(G)]}else if(c.key===this.yi){if(null!==c.newValue&&(he=this.bi(c.newValue)))return[2,this.vi(he)]}else c.key===this.Ai&&(je=function(Kt){var $t=Y.oi;if(null!=Kt)try{var cn=JSON.parse(Kt);Nt("number"==typeof cn),$t=cn}catch(Dn){bt("SharedClientState","Failed to read sequence number from WebStorage",Dn)}return $t}(c.newValue))!==Y.oi&&this.ni(je)}else this.Ei.push(c);return[2]})})})}},Object.defineProperty(s.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),s.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},s.prototype.$i=function(n,o,c){var p=new At(this.currentUser,n,o,c),w=Z(this.persistenceKey,this.currentUser,n);this.setItem(w,p.ci())},s.prototype.ki=function(n){var o=Z(this.persistenceKey,this.currentUser,n);this.removeItem(o)},s.prototype.Ki=function(n){this.storage.setItem(this.yi,JSON.stringify({clientId:this.li,onlineState:n}))},s.prototype.Qi=function(n,o,c){var p=Re(this.persistenceKey,n),w=new wn(n,o,c);this.setItem(p,w.ci())},s.prototype.Gi=function(n){var o=this.Ri.exec(n);return o?o[1]:null},s.prototype.Hi=function(n,o){var c=this.Gi(n);return Fn.ai(c,o)},s.prototype.Yi=function(n,o){var c=this.Pi.exec(n),p=Number(c[1]);return At.ai(new bi(void 0!==c[2]?c[2]:null),p,o)},s.prototype.Xi=function(n,o){var c=this.gi.exec(n),p=Number(c[1]);return wn.ai(p,o)},s.prototype.bi=function(n){return br.ai(n)},s.prototype.Ji=function(n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){return n.user.uid===this.currentUser.uid?[2,this._i.tr(n.batchId,n.state,n.error)]:(Fe("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},s.prototype.Zi=function(n){return this._i.er(n.targetId,n.state,n.error)},s.prototype.zi=function(n,o){var c=this,p=o?this.mi.rt(n,o):this.mi.remove(n),w=this.Ci(this.mi),x=this.Ci(p),G=[],he=[];return x.forEach(function(je){w.has(je)||G.push(je)}),w.forEach(function(je){x.has(je)||he.push(je)}),this._i.nr(G,he).then(function(){c.mi=p})},s.prototype.vi=function(n){this.mi.get(n.clientId)&&this.fi(n.onlineState)},s.prototype.Ci=function(n){var o=nt();return n.forEach(function(c,p){o=o.xt(p.activeTargetIds)}),o},s}(),li=function(){function s(){this.sr=new qr,this.ir={},this.fi=null,this.ni=null}return s.prototype.Fi=function(n){},s.prototype.xi=function(n,o,c){},s.prototype.Mi=function(n){return this.sr.ui(n),this.ir[n]||"not-current"},s.prototype.Ui=function(n,o,c){this.ir[n]=o},s.prototype.Li=function(n){this.sr.hi(n)},s.prototype.Bi=function(n){return this.sr.activeTargetIds.has(n)},s.prototype.qi=function(n){delete this.ir[n]},s.prototype.Di=function(){return this.sr.activeTargetIds},s.prototype.Ni=function(n){return this.sr.activeTargetIds.has(n)},s.prototype.start=function(){return this.sr=new qr,Promise.resolve()},s.prototype.Wi=function(n,o,c){},s.prototype.ji=function(n){},s.prototype.Si=function(){},s.prototype.ri=function(n){},s}(),Hr=function(){function s(n,o,c,p){this.batchId=n,this.rr=o,this.baseMutations=c,this.mutations=p}return s.prototype.ar=function(n,o,c){for(var p=c.cr,w=0;w<this.mutations.length;w++){var x=this.mutations[w];x.key.isEqual(n)&&(o=gi(x,o,p[w]))}return o},s.prototype.ur=function(n,o){for(var c=0,p=this.baseMutations;c<p.length;c++){var w=p[c];w.key.isEqual(n)&&(o=$r(w,o,o,this.rr))}for(var x=o,G=0,he=this.mutations;G<he.length;G++){var je=he[G];je.key.isEqual(n)&&(o=$r(je,o,x,this.rr))}return o},s.prototype.hr=function(n){var o=this,c=n;return this.mutations.forEach(function(p){var w=o.ur(p.key,n.get(p.key));w&&(c=c.rt(p.key,w))}),c},s.prototype.keys=function(){return this.mutations.reduce(function(n,o){return n.add(o.key)},qt())},s.prototype.isEqual=function(n){return this.batchId===n.batchId&&fn(this.mutations,n.mutations,function(o,c){return vi(o,c)})&&fn(this.baseMutations,n.baseMutations,function(o,c){return vi(o,c)})},s}(),g=function(){function s(n,o,c,p){this.batch=n,this.lr=o,this.cr=c,this._r=p}return s.from=function(n,o,c){Nt(n.mutations.length===c.length);for(var p=Yt,w=n.mutations,x=0;x<w.length;x++)p=p.rt(w[x].key,c[x].version);return new s(n,o,c,p)},s}(),l=function(){function s(){this.dr=new vt(function(n){return n.toString()},function(n,o){return n.isEqual(o)}),this.wr=!1}return Object.defineProperty(s.prototype,"readTime",{get:function(){return this.mr},set:function(n){this.mr=n},enumerable:!1,configurable:!0}),s.prototype.Tr=function(n,o){this.Er(),this.readTime=o,this.dr.set(n.key,n)},s.prototype.Ir=function(n,o){this.Er(),o&&(this.readTime=o),this.dr.set(n,null)},s.prototype.Ar=function(n,o){this.Er();var c=this.dr.get(o);return void 0!==c?Xn.resolve(c):this.Rr(n,o)},s.prototype.getEntries=function(n,o){return this.Pr(n,o)},s.prototype.apply=function(n){return this.Er(),this.wr=!0,this.gr(n)},s.prototype.Er=function(){},s}(),d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function s(){this.yr=[]}return s.prototype.Vr=function(n){this.yr.push(n)},s.prototype.pr=function(){this.yr.forEach(function(n){return n()})},s}(),A=function(){function s(n,o,c){this.br=n,this.vr=o,this.Sr=c}return s.prototype.Dr=function(n,o){var c=this;return this.vr.Cr(n,o).next(function(p){return c.Nr(n,o,p)})},s.prototype.Nr=function(n,o,c){return this.br.Ar(n,o).next(function(p){for(var w=0,x=c;w<x.length;w++)p=x[w].ur(o,p);return p})},s.prototype.Fr=function(n,o,c){var p=bn();return o.forEach(function(w,x){for(var G=0,he=c;G<he.length;G++)x=he[G].ur(w,x);p=p.rt(w,x)}),p},s.prototype.$r=function(n,o){var c=this;return this.br.getEntries(n,o).next(function(p){return c.kr(n,p)})},s.prototype.kr=function(n,o){var c=this;return this.vr.Mr(n,o).next(function(p){var w=c.Fr(n,o,p),x=Tt();return w.forEach(function(G,he){he||(he=new Ui(G,Qt.min())),x=x.rt(G,he)}),x})},s.prototype.Or=function(n,o,c){return T.F((p=o).path)&&null===p.collectionGroup&&0===p.filters.length?this.Lr(n,o.path):os(o)?this.Br(n,o,c):this.qr(n,o,c);var p},s.prototype.Lr=function(n,o){return this.Dr(n,new T(o)).next(function(c){var p=Ct();return c instanceof Qr&&(p=p.rt(c.key,c)),p})},s.prototype.Br=function(n,o,c){var p=this,w=o.collectionGroup,x=Ct();return this.Sr.Ur(n,w).next(function(G){return Xn.forEach(G,function(he){var gt,Kt,je=(gt=o,Kt=he.child(w),new Xi(Kt,null,gt.rn.slice(),gt.filters.slice(),gt.limit,gt.on,gt.startAt,gt.endAt));return p.qr(n,je,c).next(function(gt){gt.forEach(function(Kt,$t){x=x.rt(Kt,$t)})})}).next(function(){return x})})},s.prototype.qr=function(n,o,c){var p,w,x=this;return this.br.Or(n,o,c).next(function(G){return p=G,x.vr.Qr(n,o)}).next(function(G){return x.Wr(n,w=G,p).next(function(he){p=he;for(var je=0,gt=w;je<gt.length;je++)for(var Kt=gt[je],$t=0,cn=Kt.mutations;$t<cn.length;$t++){var Dn=cn[$t],Vn=Dn.key,Pr=p.get(Vn),Er=$r(Dn,Pr,Pr,Kt.rr);p=Er instanceof Qr?p.rt(Vn,Er):p.remove(Vn)}})}).next(function(){return p.forEach(function(G,he){oi(o,he)||(p=p.remove(G))}),p})},s.prototype.Wr=function(n,o,c){for(var p=qt(),w=0,x=o;w<x.length;w++)for(var G=0,he=x[w].mutations;G<he.length;G++){var je=he[G];je instanceof Ur&&null===c.get(je.key)&&(p=p.add(je.key))}var gt=c;return this.br.getEntries(n,p).next(function(Kt){return Kt.forEach(function($t,cn){null!==cn&&cn instanceof Qr&&(gt=gt.rt($t,cn))}),gt})},s}(),U=function(){function s(n,o,c,p){this.targetId=n,this.fromCache=o,this.jr=c,this.Kr=p}return s.Gr=function(n,o){for(var c=qt(),p=qt(),w=0,x=o.docChanges;w<x.length;w++){var G=x[w];switch(G.type){case 0:c=c.add(G.doc.key);break;case 1:p=p.add(G.doc.key)}}return new s(n,o.fromCache,c,p)},s}();function de(s,n){var c=s[1],w=n[1],x=Xt(s[0],n[0]);return 0===x?Xt(c,w):x}var Ce=function(){function s(n){this.zr=n,this.buffer=new le(de),this.Hr=0}return s.prototype.Yr=function(){return++this.Hr},s.prototype.Jr=function(n){var o=[n,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(o);else{var c=this.buffer.last();de(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),ut={Xr:!1,Zr:0,eo:0,no:0},et=function(){function s(n,o,c){this.so=n,this.io=o,this.ro=c}return s.oo=function(n){return new s(n,s.ao,s.co)},s}();et.uo=-1,et.ho=1048576,et.lo=41943040,et.ao=10,et.co=1e3,et._o=new et(et.lo,et.ao,et.co),et.fo=new et(et.uo,0,0);var tn=function(){function s(n,o){this.do=n,this.os=o,this.wo=!1,this.mo=null}return s.prototype.start=function(n){this.do.params.so!==et.uo&&this.To(n)},s.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(s.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),s.prototype.To=function(n){var o=this,c=this.wo?3e5:6e4;Fe("LruGarbageCollector","Garbage collection scheduled in "+c+"ms"),this.mo=this.os.gn("lru_garbage_collection",c,function(){return y.__awaiter(o,void 0,void 0,function(){var p;return y.__generator(this,function(w){switch(w.label){case 0:this.mo=null,this.wo=!0,w.label=1;case 1:return w.trys.push([1,3,,7]),[4,n.Eo(this.do)];case 2:return w.sent(),[3,7];case 3:return zo(p=w.sent())?(Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p),[3,6]):[3,4];case 4:return[4,Yo(p)];case 5:w.sent(),w.label=6;case 6:return[3,7];case 7:return[4,this.To(n)];case 8:return w.sent(),[2]}})})})},s}(),yn=function(){function s(n,o){this.Io=n,this.params=o}return s.prototype.Ao=function(n,o){return this.Io.Ro(n).next(function(c){return Math.floor(o/100*c)})},s.prototype.Po=function(n,o){var c=this;if(0===o)return Xn.resolve(Y.oi);var p=new Ce(o);return this.Io.De(n,function(w){return p.Jr(w.sequenceNumber)}).next(function(){return c.Io.yo(n,function(w){return p.Jr(w)})}).next(function(){return p.maxValue})},s.prototype.Vo=function(n,o,c){return this.Io.Vo(n,o,c)},s.prototype.po=function(n,o){return this.Io.po(n,o)},s.prototype.bo=function(n,o){var c=this;return this.params.so===et.uo?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Xn.resolve(ut)):this.vo(n).next(function(p){return p<c.params.so?(Fe("LruGarbageCollector","Garbage collection skipped; Cache size "+p+" is lower than threshold "+c.params.so),ut):c.So(n,o)})},s.prototype.vo=function(n){return this.Io.vo(n)},s.prototype.So=function(n,o){var c,p,w,x,G,he,je,gt=this,Kt=Date.now();return this.Ao(n,this.params.io).next(function($t){return $t>gt.params.ro?(Fe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+gt.params.ro+" from "+$t),p=gt.params.ro):p=$t,x=Date.now(),gt.Po(n,p)}).next(function($t){return c=$t,G=Date.now(),gt.Vo(n,c,o)}).next(function($t){return w=$t,he=Date.now(),gt.po(n,c)}).next(function($t){return je=Date.now(),Se()<=j.LogLevel.DEBUG&&Fe("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(x-Kt)+"ms\n\tDetermined least recently used "+p+" in "+(G-x)+"ms\n\tRemoved "+w+" targets in "+(he-G)+"ms\n\tRemoved "+$t+" documents in "+(je-he)+"ms\nTotal Duration: "+(je-Kt)+"ms"),Xn.resolve({Xr:!0,Zr:p,eo:w,no:$t})})},s}();function In(s){for(var n="",o=0;o<s.length;o++)n.length>0&&(n=X(n)),n=Gn(s.get(o),n);return X(n)}function Gn(s,n){for(var o=n,c=s.length,p=0;p<c;p++){var w=s.charAt(p);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function X(s){return s+"\x01\x01"}function D(s){var n=s.length;if(Nt(n>=2),2===n)return Nt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),tt.g();for(var o=n-2,c=[],p="",w=0;w<n;){var x=s.indexOf("\x01",w);switch((x<0||x>o)&&ye(),s.charAt(x+1)){case"\x01":var G=s.substring(w,x),he=void 0;0===p.length?he=G:(he=p+=G,p=""),c.push(he);break;case"\x10":p+=s.substring(w,x),p+="\0";break;case"\x11":p+=s.substring(w,x+1);break;default:ye()}w=x+2}return new tt(c)}var S=function(s){this.Do=s};function L(s,n){if(n.document)return he=!!n.hasCommittedMutations,je=Xe(s.Do,(G=n.document).name),gt=ze(G.updateTime),Kt=new Vo({mapValue:{fields:G.fields}}),new Qr(je,gt,Kt,{hasCommittedMutations:!!he});var G,he,je,gt,Kt;if(n.noDocument){var o=T.$(n.noDocument.path),c=rn(n.noDocument.readTime);return new Ui(o,c,{hasCommittedMutations:!!n.hasCommittedMutations})}if(n.unknownDocument){var p=T.$(n.unknownDocument.path),w=rn(n.unknownDocument.version);return new uo(p,w)}return ye()}function ue(s,n,o){var $t,cn,c=Ye(o),p=n.key.path.h().A();if(n instanceof Qr){var w={name:_e($t=s.Do,(cn=n).key),fields:cn.sn().mapValue.fields,updateTime:Mi($t,cn.version.X())};return new wr(null,null,w,n.hasCommittedMutations,c,p)}if(n instanceof Ui){var G=n.key.path.A(),he=kt(n.version),je=n.hasCommittedMutations;return new wr(null,new Ir(G,he),null,je,c,p)}if(n instanceof uo){var gt=n.key.path.A(),Kt=kt(n.version);return new wr(new Fr(gt,Kt),null,null,!0,c,p)}return ye()}function Ye(s){var n=s.X();return[n.seconds,n.nanoseconds]}function lt(s){var n=new Bt(s[0],s[1]);return Qt.Y(n)}function kt(s){var n=s.X();return new la(n.seconds,n.nanoseconds)}function rn(s){var n=new Bt(s.seconds,s.nanoseconds);return Qt.Y(n)}function An(s,n){var o=(n.baseMutations||[]).map(function(w){return ir(s.Do,w)}),c=n.mutations.map(function(w){return ir(s.Do,w)}),p=Bt.fromMillis(n.localWriteTimeMs);return new Hr(n.batchId,p,o,c)}function lr(s){var n,o,c=rn(s.readTime),p=void 0!==s.lastLimboFreeSnapshotVersion?rn(s.lastLimboFreeSnapshotVersion):Qt.min();return void 0!==s.query.documents?(Nt(1===(o=s.query).documents.length),n=Hi(Vi($n(o.documents[0])))):n=ao(s.query),new Rn(n,s.targetId,0,s.lastListenSequenceNumber,c,p,xn.fromBase64String(s.resumeToken))}function _r(s,n){var o,c=kt(n.et),p=kt(n.lastLimboFreeSnapshotVersion);o=On(n.target)?ar(s.Do,n.target):ki(s.Do,n.target);var w=n.resumeToken.toBase64();return new zi(n.targetId,dt(n.target),c,w,n.sequenceNumber,p,o)}var ui=function(){function s(n,o,c,p){this.userId=n,this.serializer=o,this.Sr=c,this.Co=p,this.No={}}return s.Fo=function(n,o,c,p){return Nt(""!==n.uid),new s(n.Xs()?n.uid:"",o,c,p)},s.prototype.$o=function(n){var o=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yr(n).ss({index:qi.userMutationsIndex,range:c},function(p,w,x){o=!1,x.done()}).next(function(){return o})},s.prototype.xo=function(n,o,c,p){var w=this,x=si(n),G=Yr(n);return G.add({}).next(function(he){Nt("number"==typeof he);for(var je=new Hr(he,o,c,p),gt=function(Er,Wr,pi){var Li=pi.baseMutations.map(function(Io){return vr(Er.Do,Io)}),Rr=pi.mutations.map(function(Io){return vr(Er.Do,Io)});return new qi(Wr,pi.batchId,pi.rr.toMillis(),Li,Rr)}(w.serializer,w.userId,je),Kt=[],$t=new le(function(Er,Wr){return Xt(Er.R(),Wr.R())}),cn=0,Dn=p;cn<Dn.length;cn++){var Vn=Dn[cn],Pr=ko.key(w.userId,Vn.key.path,he);$t=$t.add(Vn.key.path.h()),Kt.push(G.put(gt)),Kt.push(x.put(Pr,ko.PLACEHOLDER))}return $t.forEach(function(Er){Kt.push(w.Sr.ko(n,Er))}),n.Vr(function(){w.No[he]=je.keys()}),Xn.$n(Kt).next(function(){return je})})},s.prototype.Mo=function(n,o){var c=this;return Yr(n).get(o).next(function(p){return p?(Nt(p.userId===c.userId),An(c.serializer,p)):null})},s.prototype.Oo=function(n,o){var c=this;return this.No[o]?Xn.resolve(this.No[o]):this.Mo(n,o).next(function(p){if(p){var w=p.keys();return c.No[o]=w,w}return null})},s.prototype.Lo=function(n,o){var c=this,p=o+1,w=IDBKeyRange.lowerBound([this.userId,p]),x=null;return Yr(n).ss({index:qi.userMutationsIndex,range:w},function(G,he,je){he.userId===c.userId&&(Nt(he.batchId>=p),x=An(c.serializer,he)),je.done()}).next(function(){return x})},s.prototype.Bo=function(n){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),c=-1;return Yr(n).ss({index:qi.userMutationsIndex,range:o,reverse:!0},function(p,w,x){c=w.batchId,x.done()}).next(function(){return c})},s.prototype.qo=function(n){var o=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yr(n).Zn(qi.userMutationsIndex,c).next(function(p){return p.map(function(w){return An(o.serializer,w)})})},s.prototype.Cr=function(n,o){var c=this,p=ko.prefixForPath(this.userId,o.path),w=IDBKeyRange.lowerBound(p),x=[];return si(n).ss({range:w},function(G,he,je){var gt=G[0],$t=G[2],cn=D(G[1]);if(gt===c.userId&&o.path.isEqual(cn))return Yr(n).get($t).next(function(Dn){if(!Dn)throw ye();Nt(Dn.userId===c.userId),x.push(An(c.serializer,Dn))});je.done()}).next(function(){return x})},s.prototype.Mr=function(n,o){var c=this,p=new le(Xt),w=[];return o.forEach(function(x){var G=ko.prefixForPath(c.userId,x.path),he=IDBKeyRange.lowerBound(G),je=si(n).ss({range:he},function(gt,Kt,$t){var cn=gt[0],Vn=gt[2],Pr=D(gt[1]);cn===c.userId&&x.path.isEqual(Pr)?p=p.add(Vn):$t.done()});w.push(je)}),Xn.$n(w).next(function(){return c.Uo(n,p)})},s.prototype.Qr=function(n,o){var c=this,p=o.path,w=p.length+1,x=ko.prefixForPath(this.userId,p),G=IDBKeyRange.lowerBound(x),he=new le(Xt);return si(n).ss({range:G},function(je,gt,Kt){var $t=je[0],Dn=je[2],Vn=D(je[1]);$t===c.userId&&p.T(Vn)?Vn.length===w&&(he=he.add(Dn)):Kt.done()}).next(function(){return c.Uo(n,he)})},s.prototype.Uo=function(n,o){var c=this,p=[],w=[];return o.forEach(function(x){w.push(Yr(n).get(x).next(function(G){if(null===G)throw ye();Nt(G.userId===c.userId),p.push(An(c.serializer,G))}))}),Xn.$n(w).next(function(){return p})},s.prototype.Qo=function(n,o){var c=this;return zr(n.Wo,this.userId,o).next(function(p){return n.Vr(function(){c.jo(o.batchId)}),Xn.forEach(p,function(w){return c.Co.Ko(n,w)})})},s.prototype.jo=function(n){delete this.No[n]},s.prototype.Go=function(n){var o=this;return this.$o(n).next(function(c){if(!c)return Xn.resolve();var p=IDBKeyRange.lowerBound(ko.prefixForUser(o.userId)),w=[];return si(n).ss({range:p},function(x,G,he){if(x[0]===o.userId){var je=D(x[1]);w.push(je)}else he.done()}).next(function(){Nt(0===w.length)})})},s.prototype.zo=function(n,o){return Zr(n,this.userId,o)},s.prototype.Ho=function(n){var o=this;return Fi(n).get(this.userId).next(function(c){return c||new jo(o.userId,-1,"")})},s}();function Zr(s,n,o){var c=ko.prefixForPath(n,o.path),p=c[1],w=IDBKeyRange.lowerBound(c),x=!1;return si(s).ss({range:w,ns:!0},function(G,he,je){G[0]===n&&G[1]===p&&(x=!0),je.done()}).next(function(){return x})}function zr(s,n,o){var c=s.store(qi.store),p=s.store(ko.store),w=[],x=IDBKeyRange.only(o.batchId),G=0,he=c.ss({range:x},function(Dn,Vn,Pr){return G++,Pr.delete()});w.push(he.next(function(){Nt(1===G)}));for(var je=[],gt=0,Kt=o.mutations;gt<Kt.length;gt++){var $t=Kt[gt],cn=ko.key(n,$t.key.path,o.batchId);w.push(p.delete(cn)),je.push($t.key)}return Xn.$n(w).next(function(){return je})}function Yr(s){return bs.Un(s,qi.store)}function si(s){return bs.Un(s,ko.store)}function Fi(s){return bs.Un(s,jo.store)}var yo=function(){function s(n,o){this.serializer=n,this.Sr=o}return s.prototype.Tr=function(n,o,c){return Mo(n).put(rs(o),c)},s.prototype.Ir=function(n,o){var c=Mo(n),p=rs(o);return c.delete(p)},s.prototype.updateMetadata=function(n,o){var c=this;return this.getMetadata(n).next(function(p){return p.byteSize+=o,c.Yo(n,p)})},s.prototype.Ar=function(n,o){var c=this;return Mo(n).get(rs(o)).next(function(p){return c.Jo(p)})},s.prototype.Xo=function(n,o){var c=this;return Mo(n).get(rs(o)).next(function(p){var w=c.Jo(p);return w?{Zo:w,size:Ao(p)}:null})},s.prototype.getEntries=function(n,o){var c=this,p=bn();return this.ta(n,o,function(w,x){var G=c.Jo(x);p=p.rt(w,G)}).next(function(){return p})},s.prototype.ea=function(n,o){var c=this,p=bn(),w=new Pt(T.i);return this.ta(n,o,function(x,G){var he=c.Jo(G);he?(p=p.rt(x,he),w=w.rt(x,Ao(G))):(p=p.rt(x,null),w=w.rt(x,0))}).next(function(){return{na:p,sa:w}})},s.prototype.ta=function(n,o,c){if(o.m())return Xn.resolve();var p=IDBKeyRange.bound(o.first().path.A(),o.last().path.A()),w=o.lt(),x=w.Et();return Mo(n).ss({range:p},function(G,he,je){for(var gt=T.$(G);x&&T.i(x,gt)<0;)c(x,null),x=w.Et();x&&x.isEqual(gt)&&(c(x,he),x=w.It()?w.Et():null),x?je.Jn(x.path.A()):je.done()}).next(function(){for(;x;)c(x,null),x=w.It()?w.Et():null})},s.prototype.Or=function(n,o,c){var p=this,w=Ct(),x=o.path.length+1,G={};if(c.isEqual(Qt.min())){var he=o.path.A();G.range=IDBKeyRange.lowerBound(he)}else{var je=o.path.A(),gt=Ye(c);G.range=IDBKeyRange.lowerBound([je,gt],!0),G.index=wr.collectionReadTimeIndex}return Mo(n).ss(G,function(Kt,$t,cn){if(Kt.length===x){var Dn=L(p.serializer,$t);o.path.T(Dn.key.path)?Dn instanceof Qr&&oi(o,Dn)&&(w=w.rt(Dn.key,Dn)):cn.done()}}).next(function(){return w})},s.prototype.ia=function(n){return new eo(this,!!n&&n.ra)},s.prototype.oa=function(n){return this.getMetadata(n).next(function(o){return o.byteSize})},s.prototype.getMetadata=function(n){return ho(n).get(Sr.key).next(function(o){return Nt(!!o),o})},s.prototype.Yo=function(n,o){return ho(n).put(Sr.key,o)},s.prototype.Jo=function(n){if(n){var o=L(this.serializer,n);return o instanceof Ui&&o.version.isEqual(Qt.min())?null:o}return null},s}(),eo=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).aa=o,p.ra=c,p.ca=new vt(function(w){return w.toString()},function(w,x){return w.isEqual(x)}),p}return y.__extends(n,s),n.prototype.gr=function(o){var c=this,p=[],w=0,x=new le(function(G,he){return Xt(G.R(),he.R())});return this.dr.forEach(function(G,he){var je=c.ca.get(G);if(he){var gt=ue(c.aa.serializer,he,c.readTime);x=x.add(G.path.h());var Kt=Ao(gt);w+=Kt-je,p.push(c.aa.Tr(o,G,gt))}else if(w-=je,c.ra){var $t=ue(c.aa.serializer,new Ui(G,Qt.min()),c.readTime);p.push(c.aa.Tr(o,G,$t))}else p.push(c.aa.Ir(o,G))}),x.forEach(function(G){p.push(c.aa.Sr.ko(o,G))}),p.push(this.aa.updateMetadata(o,w)),Xn.$n(p)},n.prototype.Rr=function(o,c){var p=this;return this.aa.Xo(o,c).next(function(w){return null===w?(p.ca.set(c,0),null):(p.ca.set(c,w.size),w.Zo)})},n.prototype.Pr=function(o,c){var p=this;return this.aa.ea(o,c).next(function(w){var x=w.na;return w.sa.forEach(function(G,he){p.ca.set(G,he)}),x})},n}(l);function ho(s){return bs.Un(s,Sr.store)}function Mo(s){return bs.Un(s,wr.store)}function rs(s){return s.path.A()}function Ao(s){var n;if(s.document)n=s.document;else if(s.unknownDocument)n=s.unknownDocument;else{if(!s.noDocument)throw ye();n=s.noDocument}return JSON.stringify(n).length}var as=function(){function s(){this.ua=new _s}return s.prototype.ko=function(n,o){return this.ua.add(o),Xn.resolve()},s.prototype.Ur=function(n,o){return Xn.resolve(this.ua.getEntries(o))},s}(),_s=function(){function s(){this.index={}}return s.prototype.add=function(n){var o=n._(),c=n.h(),p=this.index[o]||new le(tt.i),w=!p.has(c);return this.index[o]=p.add(c),w},s.prototype.has=function(n){var o=n._(),c=n.h(),p=this.index[o];return p&&p.has(c)},s.prototype.getEntries=function(n){return(this.index[n]||new le(tt.i)).A()},s}(),zs=function(){function s(n){this.serializer=n}return s.prototype.createOrUpgrade=function(n,o,c,p){var w=this;Nt(c<p&&c>=0&&p<=10);var he,x=new bo("createOrUpgrade",o);c<1&&p>=1&&(n.createObjectStore(Co.store),(he=n).createObjectStore(jo.store,{keyPath:jo.keyPath}),he.createObjectStore(qi.store,{keyPath:qi.keyPath,autoIncrement:!0}).createIndex(qi.userMutationsIndex,qi.userMutationsKeyPath,{unique:!0}),he.createObjectStore(ko.store),no(n),function(he){he.createObjectStore(wr.store)}(n));var G=Xn.resolve();return c<3&&p>=3&&(0!==c&&(function(he){he.deleteObjectStore(fo.store),he.deleteObjectStore(zi.store),he.deleteObjectStore(po.store)}(n),no(n)),G=G.next(function(){return function(he){var je=he.store(po.store),gt=new po(0,0,Qt.min().X(),0);return je.put(po.key,gt)}(x)})),c<4&&p>=4&&(0!==c&&(G=G.next(function(){return function(he,je){return je.store(qi.store).Zn().next(function(gt){he.deleteObjectStore(qi.store),he.createObjectStore(qi.store,{keyPath:qi.keyPath,autoIncrement:!0}).createIndex(qi.userMutationsIndex,qi.userMutationsKeyPath,{unique:!0});var Kt=je.store(qi.store),$t=gt.map(function(cn){return Kt.put(cn)});return Xn.$n($t)})}(n,x)})),G=G.next(function(){!function(he){he.createObjectStore(Zs.store,{keyPath:Zs.keyPath})}(n)})),c<5&&p>=5&&(G=G.next(function(){return w.removeAcknowledgedMutations(x)})),c<6&&p>=6&&(G=G.next(function(){return function(he){he.createObjectStore(Sr.store)}(n),w.addDocumentGlobal(x)})),c<7&&p>=7&&(G=G.next(function(){return w.ensureSequenceNumbers(x)})),c<8&&p>=8&&(G=G.next(function(){return w.createCollectionParentIndex(n,x)})),c<9&&p>=9&&(G=G.next(function(){(function(he){he.objectStoreNames.contains("remoteDocumentChanges")&&he.deleteObjectStore("remoteDocumentChanges")})(n),function(he){var je=he.objectStore(wr.store);je.createIndex(wr.readTimeIndex,wr.readTimeIndexPath,{unique:!1}),je.createIndex(wr.collectionReadTimeIndex,wr.collectionReadTimeIndexPath,{unique:!1})}(o)})),c<10&&p>=10&&(G=G.next(function(){return w.rewriteCanonicalIds(x)})),G},s.prototype.addDocumentGlobal=function(n){var o=0;return n.store(wr.store).ss(function(c,p){o+=Ao(p)}).next(function(){var c=new Sr(o);return n.store(Sr.store).put(Sr.key,c)})},s.prototype.removeAcknowledgedMutations=function(n){var o=this,c=n.store(jo.store),p=n.store(qi.store);return c.Zn().next(function(w){return Xn.forEach(w,function(x){var G=IDBKeyRange.bound([x.userId,-1],[x.userId,x.lastAcknowledgedBatchId]);return p.Zn(qi.userMutationsIndex,G).next(function(he){return Xn.forEach(he,function(je){Nt(je.userId===x.userId);var gt=An(o.serializer,je);return zr(n,x.userId,gt).next(function(){})})})})})},s.prototype.ensureSequenceNumbers=function(n){var o=n.store(fo.store),c=n.store(wr.store);return n.store(po.store).get(po.key).next(function(p){var w=[];return c.ss(function(x,G){var he=new tt(x),je=[0,In(he)];w.push(o.get(je).next(function(gt){return gt?Xn.resolve():o.put(new fo(0,In(he),p.highestListenSequenceNumber))}))}).next(function(){return Xn.$n(w)})})},s.prototype.createCollectionParentIndex=function(n,o){n.createObjectStore(Is.store,{keyPath:Is.keyPath});var c=o.store(Is.store),p=new _s,w=function(x){if(p.add(x)){var G=x._(),he=x.h();return c.put({collectionId:G,parent:In(he)})}};return o.store(wr.store).ss({ns:!0},function(x,G){var he=new tt(x);return w(he.h())}).next(function(){return o.store(ko.store).ss({ns:!0},function(x,G){var je=D(x[1]);return w(je.h())})})},s.prototype.rewriteCanonicalIds=function(n){var o=this,c=n.store(zi.store);return c.ss(function(p,w){var x=lr(w),G=_r(o.serializer,x);return c.put(G)})},s}(),la=function(s,n){this.seconds=s,this.nanoseconds=n},Co=function(s,n,o){this.ownerId=s,this.allowTabSynchronization=n,this.leaseTimestampMs=o};Co.store="owner",Co.key="owner";var jo=function(s,n,o){this.userId=s,this.lastAcknowledgedBatchId=n,this.lastStreamToken=o};jo.store="mutationQueues",jo.keyPath="userId";var qi=function(s,n,o,c,p){this.userId=s,this.batchId=n,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=p};qi.store="mutations",qi.keyPath="batchId",qi.userMutationsIndex="userMutationsIndex",qi.userMutationsKeyPath=["userId","batchId"];var ko=function(){function s(){}return s.prefixForUser=function(n){return[n]},s.prefixForPath=function(n,o){return[n,In(o)]},s.key=function(n,o,c){return[n,In(o),c]},s}();ko.store="documentMutations",ko.PLACEHOLDER=new ko;var Ir=function(s,n){this.path=s,this.readTime=n},Fr=function(s,n){this.path=s,this.version=n},wr=function(s,n,o,c,p,w){this.unknownDocument=s,this.noDocument=n,this.document=o,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=w};wr.store="remoteDocuments",wr.readTimeIndex="readTimeIndex",wr.readTimeIndexPath="readTime",wr.collectionReadTimeIndex="collectionReadTimeIndex",wr.collectionReadTimeIndexPath=["parentPath","readTime"];var Sr=function(s){this.byteSize=s};Sr.store="remoteDocumentGlobal",Sr.key="remoteDocumentGlobalKey";var zi=function(s,n,o,c,p,w,x){this.targetId=s,this.canonicalId=n,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=w,this.query=x};zi.store="targets",zi.keyPath="targetId",zi.queryTargetsIndexName="queryTargetsIndex",zi.queryTargetsKeyPath=["canonicalId","targetId"];var fo=function(s,n,o){this.targetId=s,this.path=n,this.sequenceNumber=o};fo.store="targetDocuments",fo.keyPath=["targetId","path"],fo.documentTargetsIndex="documentTargetsIndex",fo.documentTargetsKeyPath=["path","targetId"];var po=function(s,n,o,c){this.highestTargetId=s,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=o,this.targetCount=c};po.key="targetGlobalKey",po.store="targetGlobal";var Is=function(s,n){this.collectionId=s,this.parent=n};function no(s){s.createObjectStore(fo.store,{keyPath:fo.keyPath}).createIndex(fo.documentTargetsIndex,fo.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(zi.store,{keyPath:zi.keyPath}).createIndex(zi.queryTargetsIndexName,zi.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(po.store)}Is.store="collectionParents",Is.keyPath=["collectionId","parent"];var Zs=function(s,n,o,c){this.clientId=s,this.updateTimeMs=n,this.networkEnabled=o,this.inForeground=c};Zs.store="clientMetadata",Zs.keyPath="clientId";var qa=y.__spreadArrays(y.__spreadArrays(y.__spreadArrays([jo.store,qi.store,ko.store,wr.store,zi.store,Co.store,po.store,fo.store],[Zs.store]),[Sr.store]),[Is.store]),Oo=function(){function s(){this.ha=new _s}return s.prototype.ko=function(n,o){var c=this;if(!this.ha.has(o)){var p=o._(),w=o.h();n.Vr(function(){c.ha.add(o)});var x={collectionId:p,parent:In(w)};return na(n).put(x)}return Xn.resolve()},s.prototype.Ur=function(n,o){var c=[],p=IDBKeyRange.bound([o,""],[jn(o),""],!1,!0);return na(n).Zn(p).next(function(w){for(var x=0,G=w;x<G.length;x++){var he=G[x];if(he.collectionId!==o)break;c.push(D(he.parent))}return c})},s}();function na(s){return bs.Un(s,Is.store)}var ls=function(){function s(n){this.la=n}return s.prototype.next=function(){return this.la+=2,this.la},s._a=function(){return new s(0)},s.fa=function(){return new s(-1)},s}(),Eo=function(){function s(n,o){this.Co=n,this.serializer=o}return s.prototype.da=function(n){var o=this;return this.wa(n).next(function(c){var p=new ls(c.highestTargetId);return c.highestTargetId=p.next(),o.ma(n,c).next(function(){return c.highestTargetId})})},s.prototype.Ta=function(n){return this.wa(n).next(function(o){return Qt.Y(new Bt(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.Ea=function(n){return this.wa(n).next(function(o){return o.highestListenSequenceNumber})},s.prototype.Ia=function(n,o,c){var p=this;return this.wa(n).next(function(w){return w.highestListenSequenceNumber=o,c&&(w.lastRemoteSnapshotVersion=c.X()),o>w.highestListenSequenceNumber&&(w.highestListenSequenceNumber=o),p.ma(n,w)})},s.prototype.Aa=function(n,o){var c=this;return this.Ra(n,o).next(function(){return c.wa(n).next(function(p){return p.targetCount+=1,c.Pa(o,p),c.ma(n,p)})})},s.prototype.ga=function(n,o){return this.Ra(n,o)},s.prototype.ya=function(n,o){var c=this;return this.Va(n,o.targetId).next(function(){return qs(n).delete(o.targetId)}).next(function(){return c.wa(n)}).next(function(p){return Nt(p.targetCount>0),p.targetCount-=1,c.ma(n,p)})},s.prototype.Vo=function(n,o,c){var p=this,w=0,x=[];return qs(n).ss(function(G,he){var je=lr(he);je.sequenceNumber<=o&&null===c.get(je.targetId)&&(w++,x.push(p.ya(n,je)))}).next(function(){return Xn.$n(x)}).next(function(){return w})},s.prototype.De=function(n,o){return qs(n).ss(function(c,p){var w=lr(p);o(w)})},s.prototype.wa=function(n){return Ia(n).get(po.key).next(function(o){return Nt(null!==o),o})},s.prototype.ma=function(n,o){return Ia(n).put(po.key,o)},s.prototype.Ra=function(n,o){return qs(n).put(_r(this.serializer,o))},s.prototype.Pa=function(n,o){var c=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,c=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,c=!0),c},s.prototype.pa=function(n){return this.wa(n).next(function(o){return o.targetCount})},s.prototype.ba=function(n,o){var c=dt(o),p=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]),w=null;return qs(n).ss({range:p,index:zi.queryTargetsIndexName},function(x,G,he){var je=lr(G);En(o,je.target)&&(w=je,he.done())}).next(function(){return w})},s.prototype.va=function(n,o,c){var p=this,w=[],x=ua(n);return o.forEach(function(G){var he=In(G.path);w.push(x.put(new fo(c,he))),w.push(p.Co.Sa(n,c,G))}),Xn.$n(w)},s.prototype.Da=function(n,o,c){var p=this,w=ua(n);return Xn.forEach(o,function(x){var G=In(x.path);return Xn.$n([w.delete([c,G]),p.Co.Ca(n,c,x)])})},s.prototype.Va=function(n,o){var c=ua(n),p=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(p)},s.prototype.Na=function(n,o){var c=IDBKeyRange.bound([o],[o+1],!1,!0),p=ua(n),w=qt();return p.ss({range:c,ns:!0},function(x,G,he){var je=D(x[1]),gt=new T(je);w=w.add(gt)}).next(function(){return w})},s.prototype.zo=function(n,o){var c=In(o.path),p=IDBKeyRange.bound([c],[jn(c)],!1,!0),w=0;return ua(n).ss({index:fo.documentTargetsIndex,ns:!0,range:p},function(x,G,he){0!==x[0]&&(w++,he.done())}).next(function(){return w>0})},s.prototype.qe=function(n,o){return qs(n).get(o).next(function(c){return c?lr(c):null})},s}();function qs(s){return bs.Un(s,zi.store)}function Ia(s){return bs.Un(s,po.store)}function ua(s){return bs.Un(s,fo.store)}var Ps="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Js=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).Wo=o,p.Fa=c,p}return y.__extends(n,s),n}(b),bs=function(){function s(n,o,c,p,w,x,G,he,je,gt){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=c,this._n=w,this.window=x,this.document=G,this.$a=je,this.xa=gt,this.ka=null,this.Ma=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oa=null,this.inForeground=!1,this.La=null,this.Ba=null,this.qa=Number.NEGATIVE_INFINITY,this.Ua=function(Kt){return Promise.resolve()},!s.On())throw new K(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new O(this,p),this.Qa=o+"main",this.serializer=new S(he),this.Wa=new Ci(this.Qa,10,new zs(this.serializer)),this.ja=new Eo(this.Co,this.serializer),this.Sr=new Oo,this.br=new yo(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ka=this.window.localStorage:(this.Ka=null,!1===gt&&bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.Un=function(n,o){if(n instanceof Js)return Ci.Un(n.Wo,o);throw ye()},s.prototype.start=function(){var n=this;return this.Ga().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new K(ie.FAILED_PRECONDITION,Ps);return n.za(),n.Ha(),n.Ya(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return n.ja.Ea(o)})}).then(function(o){n.ka=new Y(o,n.$a)}).then(function(){n.Ma=!0}).catch(function(o){return n.Wa&&n.Wa.close(),Promise.reject(o)})},s.prototype.Ja=function(n){var o=this;return this.Ua=function(c){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return this.Ti?[2,n(c)]:[2]})})},n(this.isPrimary)},s.prototype.Xa=function(n){var o=this;this.Wa.jn(function(c){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){switch(p.label){case 0:return null===c.newVersion?[4,n()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})})},s.prototype.Za=function(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this._n.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return this.Ti?[4,this.Ga()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}))},s.prototype.Ga=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return M(o).put(new Zs(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.tc(o).next(function(c){c||(n.isPrimary=!1,n._n.Ds(function(){return n.Ua(!1)}))})}).next(function(){return n.ec(o)}).next(function(c){return n.isPrimary&&!c?n.nc(o).next(function(){return!1}):!!c&&n.sc(o).next(function(){return!0})})}).catch(function(o){if(zo(o))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",o),n.isPrimary;if(!n.allowTabSynchronization)throw o;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){n.isPrimary!==o&&n._n.Ds(function(){return n.Ua(o)}),n.isPrimary=o})},s.prototype.tc=function(n){var o=this;return Pa(n).get(Co.key).next(function(c){return Xn.resolve(o.ic(c))})},s.prototype.rc=function(n){return M(n).delete(this.clientId)},s.prototype.oc=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,w=this;return y.__generator(this,function(x){switch(x.label){case 0:return!this.isPrimary||this.ac(this.qa,18e5)?[3,2]:(this.qa=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(G){var he=s.Un(G,Zs.store);return he.Zn().next(function(je){var gt=w.cc(je,18e5),Kt=je.filter(function($t){return-1===gt.indexOf($t)});return Xn.forEach(Kt,function($t){return he.delete($t.clientId)}).next(function(){return Kt})})}).catch(function(){return[]})]);case 1:if(n=x.sent(),this.Ka)for(o=0,c=n;o<c.length;o++)this.Ka.removeItem(this.uc(c[o].clientId));x.label=2;case 2:return[2]}})})},s.prototype.Ya=function(){var n=this;this.Ba=this._n.gn("client_metadata_refresh",4e3,function(){return n.Ga().then(function(){return n.oc()}).then(function(){return n.Ya()})})},s.prototype.ic=function(n){return!!n&&n.ownerId===this.clientId},s.prototype.ec=function(n){var o=this;return this.xa?Xn.resolve(!0):Pa(n).get(Co.key).next(function(c){if(null!==c&&o.ac(c.leaseTimestampMs,5e3)&&!o.hc(c.ownerId)){if(o.ic(c)&&o.networkEnabled)return!0;if(!o.ic(c)){if(!c.allowTabSynchronization)throw new K(ie.FAILED_PRECONDITION,Ps);return!1}}return!(!o.networkEnabled||!o.inForeground)||M(n).Zn().next(function(p){return void 0===o.cc(p,5e3).find(function(w){return!(o.clientId===w.clientId||!(!o.networkEnabled&&w.networkEnabled||!o.inForeground&&w.inForeground&&o.networkEnabled===w.networkEnabled))})})}).next(function(c){return o.isPrimary!==c&&Fe("IndexedDbPersistence","Client "+(c?"is":"is not")+" eligible for a primary lease."),c})},s.prototype.Si=function(){return y.__awaiter(this,void 0,void 0,function(){var n=this;return y.__generator(this,function(o){switch(o.label){case 0:return this.Ma=!1,this.lc(),this.Ba&&(this.Ba.cancel(),this.Ba=null),this._c(),this.fc(),[4,this.Wa.runTransaction("shutdown","readwrite",[Co.store,Zs.store],function(c){var p=new Js(c,Y.oi);return n.nc(p).next(function(){return n.rc(p)})})];case 1:return o.sent(),this.Wa.close(),this.dc(),[2]}})})},s.prototype.cc=function(n,o){var c=this;return n.filter(function(p){return c.ac(p.updateTimeMs,o)&&!c.hc(p.clientId)})},s.prototype.Vi=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(o){return M(o).Zn().next(function(c){return n.cc(c,18e5).map(function(p){return p.clientId})})})},Object.defineProperty(s.prototype,"Ti",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),s.prototype.wc=function(n){return ui.Fo(n,this.serializer,this.Sr,this.Co)},s.prototype.mc=function(){return this.ja},s.prototype.Tc=function(){return this.br},s.prototype.Ec=function(){return this.Sr},s.prototype.runTransaction=function(n,o,c){var w,p=this;return Fe("IndexedDbPersistence","Starting transaction:",n),this.Wa.runTransaction(n,"readonly"===o?"readonly":"readwrite",qa,function(G){return w=new Js(G,p.ka?p.ka.next():Y.oi),"readwrite-primary"===o?p.tc(w).next(function(he){return!!he||p.ec(w)}).next(function(he){if(!he)throw bt("Failed to obtain primary lease for action '"+n+"'."),p.isPrimary=!1,p._n.Ds(function(){return p.Ua(!1)}),new K(ie.FAILED_PRECONDITION,d);return c(w)}).next(function(he){return p.sc(w).next(function(){return he})}):p.Ic(w).next(function(){return c(w)})}).then(function(G){return w.pr(),G})},s.prototype.Ic=function(n){var o=this;return Pa(n).get(Co.key).next(function(c){if(null!==c&&o.ac(c.leaseTimestampMs,5e3)&&!o.hc(c.ownerId)&&!o.ic(c)&&!(o.xa||o.allowTabSynchronization&&c.allowTabSynchronization))throw new K(ie.FAILED_PRECONDITION,Ps)})},s.prototype.sc=function(n){var o=new Co(this.clientId,this.allowTabSynchronization,Date.now());return Pa(n).put(Co.key,o)},s.On=function(){return Ci.On()},s.prototype.nc=function(n){var o=this,c=Pa(n);return c.get(Co.key).next(function(p){return o.ic(p)?(Fe("IndexedDbPersistence","Releasing primary lease."),c.delete(Co.key)):Xn.resolve()})},s.prototype.ac=function(n,o){var c=Date.now();return!(n<c-o||n>c&&(bt("Detected an update time that is in the future: "+n+" > "+c),1))},s.prototype.za=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.La=function(){n._n.ds(function(){return n.inForeground="visible"===n.document.visibilityState,n.Ga()})},this.document.addEventListener("visibilitychange",this.La),this.inForeground="visible"===this.document.visibilityState)},s.prototype._c=function(){this.La&&(this.document.removeEventListener("visibilitychange",this.La),this.La=null)},s.prototype.Ha=function(){var n,o=this;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Oa=function(){o.lc(),o._n.ds(function(){return o.Si()})},this.window.addEventListener("unload",this.Oa))},s.prototype.fc=function(){this.Oa&&(this.window.removeEventListener("unload",this.Oa),this.Oa=null)},s.prototype.hc=function(n){var o;try{var c=null!==(null===(o=this.Ka)||void 0===o?void 0:o.getItem(this.uc(n)));return Fe("IndexedDbPersistence","Client '"+n+"' "+(c?"is":"is not")+" zombied in LocalStorage"),c}catch(p){return bt("IndexedDbPersistence","Failed to get zombied client id.",p),!1}},s.prototype.lc=function(){if(this.Ka)try{this.Ka.setItem(this.uc(this.clientId),String(Date.now()))}catch(n){bt("Failed to set zombie client id.",n)}},s.prototype.dc=function(){if(this.Ka)try{this.Ka.removeItem(this.uc(this.clientId))}catch{}},s.prototype.uc=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},s}();function Pa(s){return bs.Un(s,Co.store)}function M(s){return bs.Un(s,Zs.store)}var O=function(){function s(n,o){this.db=n,this.do=new yn(this,o)}return s.prototype.Ro=function(n){var o=this.Ac(n);return this.db.mc().pa(n).next(function(c){return o.next(function(p){return c+p})})},s.prototype.Ac=function(n){var o=0;return this.yo(n,function(c){o++}).next(function(){return o})},s.prototype.De=function(n,o){return this.db.mc().De(n,o)},s.prototype.yo=function(n,o){return this.Rc(n,function(c,p){return o(p)})},s.prototype.Sa=function(n,o,c){return C(n,c)},s.prototype.Ca=function(n,o,c){return C(n,c)},s.prototype.Vo=function(n,o,c){return this.db.mc().Vo(n,o,c)},s.prototype.Ko=function(n,o){return C(n,o)},s.prototype.Pc=function(n,o){return p=o,w=!1,Fi(c=n).rs(function(x){return Zr(c,x,p).next(function(G){return G&&(w=!0),Xn.resolve(!G)})}).next(function(){return w});var c,p,w},s.prototype.po=function(n,o){var c=this,p=this.db.Tc().ia(),w=[],x=0;return this.Rc(n,function(G,he){if(he<=o){var je=c.Pc(n,G).next(function(gt){if(!gt)return x++,p.Ar(n,G).next(function(){return p.Ir(G),ua(n).delete([0,In(G.path)])})});w.push(je)}}).next(function(){return Xn.$n(w)}).next(function(){return p.apply(n)}).next(function(){return x})},s.prototype.removeTarget=function(n,o){var c=o.nt(n.Fa);return this.db.mc().ga(n,c)},s.prototype.gc=function(n,o){return C(n,o)},s.prototype.Rc=function(n,o){var c,p=ua(n),w=Y.oi;return p.ss({index:fo.documentTargetsIndex},function(x,G){var je=G.path,gt=G.sequenceNumber;0===x[0]?(w!==Y.oi&&o(new T(D(c)),w),w=gt,c=je):w=Y.oi}).next(function(){w!==Y.oi&&o(new T(D(c)),w)})},s.prototype.vo=function(n){return this.db.Tc().oa(n)},s}();function C(s,n){return ua(s).put((c=s.Fa,new fo(0,In(n.path),c)));var c}function V(s,n){var o=s.projectId;return s.W||(o+="."+s.database),"firestore/"+n+"/"+o+"/"}var se=function(){function s(n,o,c){this.persistence=n,this.yc=o,this.Vc=new Pt(Xt),this.bc=new vt(function(p){return dt(p)},En),this.vc=Qt.min(),this.vr=n.wc(c),this.Sc=n.Tc(),this.ja=n.mc(),this.Dc=new A(this.Sc,this.vr,this.persistence.Ec()),this.yc.Cc(this.Dc)}return s.prototype.Eo=function(n){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return n.bo(c,o.Vc)})},s}();function Ie(s,n){var o=yt(s);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var x,G,he,je,gt,Kt,$t,p=n.batch.keys(),w=o.Sc.ia({ra:!0});return(x=o,G=c,he=n,je=w,gt=he.batch,Kt=gt.keys(),$t=Xn.resolve(),Kt.forEach(function(cn){$t=$t.next(function(){return je.Ar(G,cn)}).next(function(Dn){var Vn=Dn,Pr=he._r.get(cn);Nt(null!==Pr),(!Vn||Vn.version.L(Pr)<0)&&(Vn=gt.ar(cn,Vn,he))&&je.Tr(Vn,he.lr)})}),$t.next(function(){return x.vr.Qo(G,gt)})).next(function(){return w.apply(c)}).next(function(){return o.vr.Go(c)}).next(function(){return o.Dc.$r(c,p)})})}function Ze(s){var n=yt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return n.ja.Ta(o)})}function on(s,n){var o=yt(s),c=n.et,p=o.Vc;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(w){var x=o.Sc.ia({ra:!0});p=o.Vc;var G=[];n.Gt.forEach(function(Kt,$t){var Pr,Er,Wr,cn=p.get($t);if(cn){G.push(o.ja.Da(w,Kt.ne,$t).next(function(){return o.ja.va(w,Kt.te,$t)}));var Dn=Kt.resumeToken;if(Dn.O()>0){var Vn=cn.st(Dn,c).nt(w.Fa);p=p.rt($t,Vn),Pr=cn,Wr=Kt,Nt((Er=Vn).resumeToken.O()>0),(0===Pr.resumeToken.O()||Er.et.J()-Pr.et.J()>=3e8||Wr.te.size+Wr.ee.size+Wr.ne.size>0)&&G.push(o.ja.ga(w,Vn))}}});var he=Tt(),je=qt();if(n.Ht.forEach(function(Kt,$t){je=je.add(Kt)}),G.push(x.getEntries(w,je).next(function(Kt){n.Ht.forEach(function($t,cn){var Dn=Kt.get($t);cn instanceof Ui&&cn.version.isEqual(Qt.min())?(x.Ir($t,c),he=he.rt($t,cn)):null==Dn||cn.version.L(Dn.version)>0||0===cn.version.L(Dn.version)&&Dn.hasPendingWrites?(x.Tr(cn,c),he=he.rt($t,cn)):Fe("LocalStore","Ignoring outdated watch update for ",$t,". Current version:",Dn.version," Watch version:",cn.version),n.Yt.has($t)&&G.push(o.persistence.Co.gc(w,$t))})})),!c.isEqual(Qt.min())){var gt=o.ja.Ta(w).next(function(Kt){return o.ja.Ia(w,w.Fa,c)});G.push(gt)}return Xn.$n(G).next(function(){return x.apply(w)}).next(function(){return o.Dc.kr(w,he)})}).then(function(w){return o.Vc=p,w})}function Un(s,n){var o=yt(s);return o.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===n&&(n=-1),o.vr.Lo(c,n)})}function hr(s,n){var o=yt(s);return o.persistence.runTransaction("Allocate target","readwrite",function(c){var p;return o.ja.ba(c,n).next(function(w){return w?Xn.resolve(p=w):o.ja.da(c).next(function(x){return p=new Rn(n,x,0,c.Fa),o.ja.Aa(c,p).next(function(){return p})})})}).then(function(c){var p=o.Vc.get(c.targetId);return(null===p||c.et.L(p.et)>0)&&(o.Vc=o.Vc.rt(c.targetId,c),o.bc.set(n,c.targetId)),c})}function pr(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x;return y.__generator(this,function(G){switch(G.label){case 0:c=yt(s),p=c.Vc.get(n),w=o?"readwrite":"readwrite-primary",G.label=1;case 1:return G.trys.push([1,4,,5]),o?[3,3]:[4,c.persistence.runTransaction("Release target",w,function(he){return c.persistence.Co.removeTarget(he,p)})];case 2:G.sent(),G.label=3;case 3:return[3,5];case 4:if(!zo(x=G.sent()))throw x;return Fe("LocalStore","Failed to update sequence numbers for target "+n+": "+x),[3,5];case 5:return c.Vc=c.Vc.remove(n),c.bc.delete(p.target),[2]}})})}function wi(s,n,o){var c=yt(s),p=Qt.min(),w=qt();return c.persistence.runTransaction("Execute query","readonly",function(x){return(G=c,he=x,je=Hi(n),gt=yt(G),Kt=gt.bc.get(je),void 0!==Kt?Xn.resolve(gt.Vc.get(Kt)):gt.ja.ba(he,je)).next(function(G){if(G)return p=G.lastLimboFreeSnapshotVersion,c.ja.Na(x,G.targetId).next(function(he){w=he})}).next(function(){return c.yc.Or(x,n,o?p:Qt.min(),o?w:qt())}).next(function(G){return{documents:G,Nc:w}});var G,he,je,gt,Kt})}function Wo(s,n){var o=yt(s),c=yt(o.ja),p=o.Vc.get(n);return p?Promise.resolve(p.target):o.persistence.runTransaction("Get target data","readonly",function(w){return c.qe(w,n).next(function(x){return x?x.target:null})})}function ca(s){var n=yt(s);return n.persistence.runTransaction("Get new document changes","readonly",function(o){return p=o,w=n.vc,x=yt(n.Sc),G=Tt(),he=Ye(w),je=Mo(p),gt=IDBKeyRange.lowerBound(he,!0),je.ss({index:wr.readTimeIndex,range:gt},function(Kt,$t){var cn=L(x.serializer,$t);G=G.rt(cn.key,cn),he=$t.readTime}).next(function(){return{Fc:G,readTime:lt(he)}});var p,w,x,G,he,je,gt}).then(function(o){var c=o.Fc;return n.vc=o.readTime,c})}function ea(s){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){return[2,(n=yt(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return w=Mo(c),x=Qt.min(),w.ss({index:wr.readTimeIndex,reverse:!0},function(G,he,je){he.readTime&&(x=lt(he.readTime)),je.done()}).next(function(){return x});var w,x}).then(function(c){n.vc=c})]})})}function Yo(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){if(s.code!==ie.FAILED_PRECONDITION||s.message!==d)throw s;return Fe("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ws=function(){function s(){this.$c=new le(Go.xc),this.kc=new le(Go.Mc)}return s.prototype.m=function(){return this.$c.m()},s.prototype.Sa=function(n,o){var c=new Go(n,o);this.$c=this.$c.add(c),this.kc=this.kc.add(c)},s.prototype.Oc=function(n,o){var c=this;n.forEach(function(p){return c.Sa(p,o)})},s.prototype.Ca=function(n,o){this.Lc(new Go(n,o))},s.prototype.Bc=function(n,o){var c=this;n.forEach(function(p){return c.Ca(p,o)})},s.prototype.qc=function(n){var o=this,c=new T(new tt([])),p=new Go(c,n),w=new Go(c,n+1),x=[];return this.kc.Nt([p,w],function(G){o.Lc(G),x.push(G.key)}),x},s.prototype.Uc=function(){var n=this;this.$c.forEach(function(o){return n.Lc(o)})},s.prototype.Lc=function(n){this.$c=this.$c.delete(n),this.kc=this.kc.delete(n)},s.prototype.Qc=function(n){var o=new T(new tt([])),c=new Go(o,n),p=new Go(o,n+1),w=qt();return this.kc.Nt([c,p],function(x){w=w.add(x.key)}),w},s.prototype.zo=function(n){var o=new Go(n,0),c=this.$c.$t(o);return null!==c&&n.isEqual(c.key)},s}(),Go=function(){function s(n,o){this.key=n,this.Wc=o}return s.xc=function(n,o){return T.i(n.key,o.key)||Xt(n.Wc,o.Wc)},s.Mc=function(n,o){return Xt(n.Wc,o.Wc)||T.i(n.key,o.key)},s}(),xa=function(s,n){this.user=n,this.type="OAuth",this.jc={},this.jc.Authorization="Bearer "+s},Ma=function(){function s(){this.Kc=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.Gc=function(){},s.prototype.zc=function(n){this.Kc=n,n(bi.UNAUTHENTICATED)},s.prototype.Hc=function(){this.Kc=null},s}(),Nu=function(){function s(n){var o=this;this.Yc=null,this.currentUser=bi.UNAUTHENTICATED,this.Jc=!1,this.Xc=0,this.Kc=null,this.forceRefresh=!1,this.Yc=function(){o.Xc++,o.currentUser=o.Zc(),o.Jc=!0,o.Kc&&o.Kc(o.currentUser)},this.Xc=0,this.auth=n.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Yc):(this.Yc(null),n.get().then(function(c){o.auth=c,o.Yc&&o.auth.addAuthTokenListener(o.Yc)},function(){}))}return s.prototype.getToken=function(){var n=this,o=this.Xc,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(function(p){return n.Xc!==o?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):p?(Nt("string"==typeof p.accessToken),new xa(p.accessToken,n.currentUser)):null}):Promise.resolve(null)},s.prototype.Gc=function(){this.forceRefresh=!0},s.prototype.zc=function(n){this.Kc=n,this.Jc&&n(this.currentUser)},s.prototype.Hc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Yc),this.Yc=null,this.Kc=null},s.prototype.Zc=function(){var n=this.auth&&this.auth.getUid();return Nt(null===n||"string"==typeof n),new bi(n)},s}(),Qa=function(){function s(n,o){this.tu=n,this.eu=o,this.type="FirstParty",this.user=bi.ei}return Object.defineProperty(s.prototype,"jc",{get:function(){var n={"X-Goog-AuthUser":this.eu},o=this.tu.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),n},enumerable:!1,configurable:!0}),s}(),iu=function(){function s(n,o){this.tu=n,this.eu=o}return s.prototype.getToken=function(){return Promise.resolve(new Qa(this.tu,this.eu))},s.prototype.zc=function(n){n(bi.ei)},s.prototype.Hc=function(){},s.prototype.Gc=function(){},s}(),Vl=function(){function s(n,o,c,p,w,x){this._n=n,this.nu=c,this.su=p,this.iu=w,this.listener=x,this.state=0,this.ru=0,this.ou=null,this.stream=null,this.gs=new Cs(n,o)}return s.prototype.au=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.cu=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.uu()},s.prototype.stop=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){switch(n.label){case 0:return this.au()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},s.prototype.hu=function(){this.state=0,this.gs.reset()},s.prototype.lu=function(){var n=this;this.cu()&&null===this.ou&&(this.ou=this._n.gn(this.nu,6e4,function(){return n._u()}))},s.prototype.fu=function(n){this.du(),this.stream.send(n)},s.prototype._u=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return this.cu()?[2,this.close(0)]:[2]})})},s.prototype.du=function(){this.ou&&(this.ou.cancel(),this.ou=null)},s.prototype.close=function(n,o){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return this.du(),this.gs.cancel(),this.ru++,3!==n?this.gs.reset():o&&o.code===ie.RESOURCE_EXHAUSTED?(bt(o.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):o&&o.code===ie.UNAUTHENTICATED&&this.iu.Gc(),null!==this.stream&&(this.wu(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.mu(o)];case 1:return c.sent(),[2]}})})},s.prototype.wu=function(){},s.prototype.auth=function(){var n=this;this.state=1;var o=this.Tu(this.ru),c=this.ru;this.iu.getToken().then(function(p){n.ru===c&&n.Eu(p)},function(p){o(function(){var w=new K(ie.UNKNOWN,"Fetching auth token failed: "+p.message);return n.Iu(w)})})},s.prototype.Eu=function(n){var o=this,c=this.Tu(this.ru);this.stream=this.Au(n),this.stream.Ru(function(){c(function(){return o.state=2,o.listener.Ru()})}),this.stream.mu(function(p){c(function(){return o.Iu(p)})}),this.stream.onMessage(function(p){c(function(){return o.onMessage(p)})})},s.prototype.uu=function(){var n=this;this.state=4,this.gs.Rn(function(){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(o){return this.state=0,this.start(),[2]})})})},s.prototype.Iu=function(n){return Fe("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},s.prototype.Tu=function(n){var o=this;return function(c){o._n.ds(function(){return o.ru===n?c():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),_a=function(s){function n(o,c,p,w,x){var G=this;return(G=s.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",c,p,x)||this).serializer=w,G}return y.__extends(n,s),n.prototype.Au=function(o){return this.su.Pu("Listen",o)},n.prototype.onMessage=function(o){this.gs.reset();var c=function(w,x){var G,sa;if("targetChange"in x){var he="NO_CHANGE"===(sa=x.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===sa?1:"REMOVE"===sa?2:"CURRENT"===sa?3:"RESET"===sa?4:ye(),je=x.targetChange.targetIds||[],gt=function(sa,Ha){return sa.Ue?(Nt(void 0===Ha||"string"==typeof Ha),xn.fromBase64String(Ha||"")):(Nt(void 0===Ha||Ha instanceof Uint8Array),xn.fromUint8Array(Ha||new Uint8Array))}(w,x.targetChange.resumeToken),Kt=x.targetChange.cause,$t=Kt&&function(sa){var Ha=void 0===sa.code?ie.UNKNOWN:hn(sa.code);return new K(Ha,sa.message||"")}(Kt);G=new ei(he,je,gt,$t||null)}else if("documentChange"in x){var cn=x.documentChange,Dn=Xe(w,cn.document.name),Vn=ze(cn.document.updateTime),Pr=new Vo({mapValue:{fields:cn.document.fields}}),Er=new Qr(Dn,Vn,Pr,{});G=new Cn(cn.targetIds||[],cn.removedTargetIds||[],Er.key,Er)}else if("documentDelete"in x){var Li=x.documentDelete,Rr=Xe(w,Li.document),Io=Li.readTime?ze(Li.readTime):Qt.min(),oa=new Ui(Rr,Io);G=new Cn([],Li.removedTargetIds||[],oa.key,oa)}else if("documentRemove"in x){var eu=x.documentRemove,Su=Xe(w,eu.document);G=new Cn([],eu.removedTargetIds||[],Su,null)}else{if(!("filter"in x))return ye();var Il=x.filter,Gc=new nr(Il.count||0);G=new yr(Il.targetId,Gc)}return G}(this.serializer,o),p=function(w){if(!("targetChange"in w))return Qt.min();var x=w.targetChange;return x.targetIds&&x.targetIds.length?Qt.min():x.readTime?ze(x.readTime):Qt.min()}(o);return this.listener.gu(c,p)},n.prototype.yu=function(o){var w,x,G,he,c={};c.database=ur(this.serializer),c.addTarget=(w=this.serializer,(G=On(he=(x=o).target)?{documents:ar(w,he)}:{query:ki(w,he)}).targetId=x.targetId,x.resumeToken.O()>0&&(G.resumeToken=No(w,x.resumeToken)),G);var p=function(w,x){var G=function(he,je){switch(je){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,x.tt);return null==G?null:{"goog-listen-tags":G}}(0,o);p&&(c.labels=p),this.fu(c)},n.prototype.Vu=function(o){var c={};c.database=ur(this.serializer),c.removeTarget=o,this.fu(c)},n}(Vl),Aa=function(s){function n(o,c,p,w,x){var G=this;return(G=s.call(this,o,"write_stream_connection_backoff","write_stream_idle",c,p,x)||this).serializer=w,G.pu=!1,G}return y.__extends(n,s),Object.defineProperty(n.prototype,"bu",{get:function(){return this.pu},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.pu=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},n.prototype.wu=function(){this.pu&&this.vu([])},n.prototype.Au=function(o){return this.su.Pu("Write",o)},n.prototype.onMessage=function(o){if(Nt(!!o.streamToken),this.lastStreamToken=o.streamToken,this.pu){this.gs.reset();var c=(x=o.commitTime,(w=o.writeResults)&&w.length>0?(Nt(void 0!==x),w.map(function(G){return function(he,je){var gt=ze(he.updateTime?he.updateTime:je);gt.isEqual(Qt.min())&&(gt=ze(je));var Kt=null;return he.transformResults&&he.transformResults.length>0&&(Kt=he.transformResults),new qn(gt,Kt)}(G,x)})):[]),p=ze(o.commitTime);return this.listener.Su(p,c)}var w,x;return Nt(!o.writeResults||0===o.writeResults.length),this.pu=!0,this.listener.Du()},n.prototype.Cu=function(){var o={};o.database=ur(this.serializer),this.fu(o)},n.prototype.vu=function(o){var c=this,p={streamToken:this.lastStreamToken,writes:o.map(function(w){return vr(c.serializer,w)})};this.fu(p)},n}(Vl),Xa=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).credentials=o,w.su=c,w.serializer=p,w.Nu=!1,w}return y.__extends(n,s),n.prototype.Fu=function(){if(this.Nu)throw new K(ie.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.$u=function(o,c,p){var w=this;return this.Fu(),this.credentials.getToken().then(function(x){return w.su.$u(o,c,p,x)}).catch(function(x){throw x.code===ie.UNAUTHENTICATED&&w.credentials.Gc(),x})},n.prototype.xu=function(o,c,p){var w=this;return this.Fu(),this.credentials.getToken().then(function(x){return w.su.xu(o,c,p,x)}).catch(function(x){throw x.code===ie.UNAUTHENTICATED&&w.credentials.Gc(),x})},n.prototype.terminate=function(){this.Nu=!1},n}(function(){}),Tc=function(){function s(n,o){this.os=n,this.fi=o,this.state="Unknown",this.ku=0,this.Mu=null,this.Ou=!0}return s.prototype.Lu=function(){var n=this;0===this.ku&&(this.Bu("Unknown"),this.Mu=this.os.gn("online_state_timeout",1e4,function(){return n.Mu=null,n.qu("Backend didn't respond within 10 seconds."),n.Bu("Offline"),Promise.resolve()}))},s.prototype.Uu=function(n){"Online"===this.state?this.Bu("Unknown"):(this.ku++,this.ku>=1&&(this.Qu(),this.qu("Connection failed 1 times. Most recent error: "+n.toString()),this.Bu("Offline")))},s.prototype.set=function(n){this.Qu(),this.ku=0,"Online"===n&&(this.Ou=!1),this.Bu(n)},s.prototype.Bu=function(n){n!==this.state&&(this.state=n,this.fi(n))},s.prototype.qu=function(n){var o="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ou?(bt(o),this.Ou=!1):Fe("OnlineStateTracker",o)},s.prototype.Qu=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},s}(),ih=function(s,n,o,c,p){var w=this;this.Wu=s,this.ju=n,this.os=o,this.Ku={},this.Gu=[],this.zu=new Map,this.Hu=new Set,this.Yu=[],this.Ju=p,this.Ju.Xu(function(x){o.ds(function(){return y.__awaiter(w,void 0,void 0,function(){return y.__generator(this,function(G){switch(G.label){case 0:return Ra(this)?(Fe("RemoteStore","Restarting streams for network reachability change."),[4,function(he){return y.__awaiter(this,void 0,void 0,function(){var je;return y.__generator(this,function(gt){switch(gt.label){case 0:return(je=yt(he)).Hu.add(4),[4,ra(je)];case 1:return gt.sent(),je.Zu.set("Unknown"),je.Hu.delete(4),[4,Es(je)];case 2:return gt.sent(),[2]}})})}(this)]):[3,2];case 1:G.sent(),G.label=2;case 2:return[2]}})})})}),this.Zu=new Tc(o,c)};function Es(s){return y.__awaiter(this,void 0,void 0,function(){var n,o;return y.__generator(this,function(c){switch(c.label){case 0:if(!Ra(s))return[3,4];n=0,o=s.Yu,c.label=1;case 1:return n<o.length?[4,(0,o[n])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ra(s){return y.__awaiter(this,void 0,void 0,function(){var n,o;return y.__generator(this,function(c){switch(c.label){case 0:n=0,o=s.Yu,c.label=1;case 1:return n<o.length?[4,(0,o[n])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function dd(s){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){switch(o.label){case 0:return n=yt(s),Fe("RemoteStore","RemoteStore shutting down."),n.Hu.add(5),[4,ra(n)];case 1:return o.sent(),n.Ju.Si(),n.Zu.set("Unknown"),[2]}})})}function ka(s,n){var o=yt(s);o.zu.has(n.targetId)||(o.zu.set(n.targetId,n),Oa(o)?Fu(o):pl(o).cu()&&Ws(o,n))}function hl(s,n){var o=yt(s),c=pl(o);o.zu.delete(n),c.cu()&&fl(o,n),0===o.zu.size&&(c.cu()?c.lu():Ra(o)&&o.Zu.set("Unknown"))}function Ws(s,n){s.th.Ee(n.targetId),pl(s).yu(n)}function fl(s,n){s.th.Ee(n),pl(s).Vu(n)}function Fu(s){s.th=new pt({Be:function(n){return s.Ku.Be(n)},qe:function(n){return s.zu.get(n)||null}}),pl(s).start(),s.Zu.Lu()}function Oa(s){return Ra(s)&&!pl(s).au()&&s.zu.size>0}function Ra(s){return 0===yt(s).Hu.size}function da(s){s.th=void 0}function Dc(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return s.zu.forEach(function(o,c){Ws(s,o)}),[2]})})}function Hl(s,n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){return da(s),Oa(s)?(s.Zu.Uu(n),Fu(s)):s.Zu.set("Unknown"),[2]})})}function Cc(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w;return y.__generator(this,function(x){switch(x.label){case 0:if(s.Zu.set("Online"),!(n instanceof ei&&2===n.state&&n.cause))return[3,6];x.label=1;case 1:return x.trys.push([1,3,,5]),[4,function(G,he){return y.__awaiter(this,void 0,void 0,function(){var je,gt,Kt,$t;return y.__generator(this,function(cn){switch(cn.label){case 0:je=he.cause,gt=0,Kt=he.targetIds,cn.label=1;case 1:return gt<Kt.length?G.zu.has($t=Kt[gt])?[4,G.Ku.eh($t,je)]:[3,3]:[3,5];case 2:cn.sent(),G.zu.delete($t),G.th.removeTarget($t),cn.label=3;case 3:cn.label=4;case 4:return gt++,[3,1];case 5:return[2]}})})}(s,n)];case 2:return x.sent(),[3,5];case 3:return c=x.sent(),Fe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),c),[4,ba(s,c)];case 4:return x.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof Cn?s.th.pe(n):n instanceof yr?s.th.$e(n):s.th.Se(n),o.isEqual(Qt.min()))return[3,13];x.label=7;case 7:return x.trys.push([7,11,,13]),[4,Ze(s.Wu)];case 8:return p=x.sent(),o.L(p)>=0?[4,(G=s,he=o,je=G.th.Me(he),je.Gt.forEach(function(gt,Kt){if(gt.resumeToken.O()>0){var $t=G.zu.get(Kt);$t&&G.zu.set(Kt,$t.st(gt.resumeToken,he))}}),je.zt.forEach(function(gt){var Kt=G.zu.get(gt);if(Kt){G.zu.set(gt,Kt.st(xn.B,Kt.et)),fl(G,gt);var $t=new Rn(Kt.target,gt,1,Kt.sequenceNumber);Ws(G,$t)}}),G.Ku.nh(je))]:[3,10];case 9:x.sent(),x.label=10;case 10:return[3,13];case 11:return Fe("RemoteStore","Failed to raise snapshot:",w=x.sent()),[4,ba(s,w)];case 12:return x.sent(),[3,13];case 13:return[2]}var G,he,je})})}function ba(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c=this;return y.__generator(this,function(p){switch(p.label){case 0:if(!zo(n))throw n;return s.Hu.add(1),[4,ra(s)];case 1:return p.sent(),s.Zu.set("Offline"),o||(o=function(){return Ze(s.Wu)}),s.os.Ds(function(){return y.__awaiter(c,void 0,void 0,function(){return y.__generator(this,function(w){switch(w.label){case 0:return Fe("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return w.sent(),s.Hu.delete(1),[4,Es(s)];case 2:return w.sent(),[2]}})})}),[2]}})})}function Ic(s,n){return n().catch(function(o){return ba(s,o,n)})}function Us(s){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,p,w;return y.__generator(this,function(x){switch(x.label){case 0:n=yt(s),o=Na(n),c=n.Gu.length>0?n.Gu[n.Gu.length-1].batchId:-1,x.label=1;case 1:if(!(Ra(G=n)&&G.Gu.length<10))return[3,7];x.label=2;case 2:return x.trys.push([2,4,,6]),[4,Un(n.Wu,c)];case 3:return null===(p=x.sent())?(0===n.Gu.length&&o.lu(),[3,7]):(c=p.batchId,function(G,he){G.Gu.push(he);var je=Na(G);je.cu()&&je.bu&&je.vu(he.mutations)}(n,p),[3,6]);case 4:return w=x.sent(),[4,ba(n,w)];case 5:return x.sent(),[3,6];case 6:return[3,1];case 7:return Pc(n)&&Lu(n),[2]}var G})})}function Pc(s){return Ra(s)&&!Na(s).au()&&s.Gu.length>0}function Lu(s){Na(s).start()}function wa(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return Na(s).Cu(),[2]})})}function bf(s){return y.__awaiter(this,void 0,void 0,function(){var n,o,c;return y.__generator(this,function(w){for(n=Na(s),o=0,c=s.Gu;o<c.length;o++)n.vu(c[o].mutations);return[2]})})}function Bu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:return c=s.Gu.shift(),p=g.from(c,n,o),[4,Ic(s,function(){return s.Ku.sh(p)})];case 1:return w.sent(),[4,Us(s)];case 2:return w.sent(),[2]}})})}function ha(s,n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){switch(o.label){case 0:return n&&Na(s).bu?[4,function(c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x;return y.__generator(this,function(G){switch(G.label){case 0:return xr(x=p.code)&&x!==ie.ABORTED?(w=c.Gu.shift(),Na(c).hu(),[4,Ic(c,function(){return c.Ku.ih(w.batchId,p)})]):[3,3];case 1:return G.sent(),[4,Us(c)];case 2:G.sent(),G.label=3;case 3:return[2]}})})}(s,n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Pc(s)&&Lu(s),[2]}})})}function xc(s,n){return y.__awaiter(this,void 0,void 0,function(){var o;return y.__generator(this,function(p){switch(p.label){case 0:return o=yt(s),n?(o.Hu.delete(2),[4,Es(o)]):[3,2];case 1:return p.sent(),[3,5];case 2:return n?[3,4]:(o.Hu.add(2),[4,ra(o)]);case 3:p.sent(),o.Zu.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function pl(s){var o,c,p,w,n=this;return s.rh||(s.rh=(o=s.ju,c=s.os,p={Ru:Dc.bind(null,s),mu:Hl.bind(null,s),gu:Cc.bind(null,s)},(w=yt(o)).Fu(),new _a(c,w.su,w.credentials,w.serializer,p)),s.Yu.push(function(o){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return o?(s.rh.hu(),Oa(s)?Fu(s):s.Zu.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.rh.stop()];case 2:c.sent(),da(s),c.label=3;case 3:return[2]}})})})),s.rh}function Na(s){var o,c,p,w,n=this;return s.oh||(s.oh=(o=s.ju,c=s.os,p={Ru:wa.bind(null,s),mu:ha.bind(null,s),Du:bf.bind(null,s),Su:Bu.bind(null,s)},(w=yt(o)).Fu(),new Aa(c,w.su,w.credentials,w.serializer,p)),s.Yu.push(function(o){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return o?(s.oh.hu(),[4,Us(s)]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,s.oh.stop()];case 3:c.sent(),s.Gu.length>0&&(Fe("RemoteStore","Stopping write stream with "+s.Gu.length+" pending writes"),s.Gu=[]),c.label=4;case 4:return[2]}})})})),s.oh}var fa=function(s){this.key=s},hd=function(s){this.key=s},fd=function(){function s(n,o){this.query=n,this.ah=o,this.uh=null,this.Zt=!1,this.hh=qt(),this.Qt=qt(),this.lh=Zi(n),this._h=new De(this.lh)}return Object.defineProperty(s.prototype,"fh",{get:function(){return this.ah},enumerable:!1,configurable:!0}),s.prototype.dh=function(n,o){var c=this,p=o?o.wh:new Dt,w=o?o._h:this._h,x=o?o.Qt:this.Qt,G=w,he=!1,je=Or(this.query)&&w.size===this.query.limit?w.last():null,gt=_o(this.query)&&w.size===this.query.limit?w.first():null;if(n.ut(function($t,cn){var Dn=w.get($t),Vn=cn instanceof Qr?cn:null;Vn&&(Vn=oi(c.query,Vn)?Vn:null);var Pr=!!Dn&&c.Qt.has(Dn.key),Er=!!Vn&&(Vn.Ye||c.Qt.has(Vn.key)&&Vn.hasCommittedMutations),Wr=!1;Dn&&Vn?Dn.data().isEqual(Vn.data())?Pr!==Er&&(p.track({type:3,doc:Vn}),Wr=!0):c.mh(Dn,Vn)||(p.track({type:2,doc:Vn}),Wr=!0,(je&&c.lh(Vn,je)>0||gt&&c.lh(Vn,gt)<0)&&(he=!0)):!Dn&&Vn?(p.track({type:0,doc:Vn}),Wr=!0):Dn&&!Vn&&(p.track({type:1,doc:Dn}),Wr=!0,(je||gt)&&(he=!0)),Wr&&(Vn?(G=G.add(Vn),x=Er?x.add($t):x.delete($t)):(G=G.delete($t),x=x.delete($t)))}),Or(this.query)||_o(this.query))for(;G.size>this.query.limit;){var Kt=Or(this.query)?G.last():G.first();G=G.delete(Kt.key),x=x.delete(Kt.key),p.track({type:1,doc:Kt})}return{_h:G,wh:p,Th:he,Qt:x}},s.prototype.mh=function(n,o){return n.Ye&&o.hasCommittedMutations&&!o.Ye},s.prototype.gr=function(n,o,c){var p=this,w=this._h;this._h=n._h,this.Qt=n.Qt;var x=n.wh.qt();x.sort(function(gt,Kt){return cn=Kt.type,(Dn=function(Vn){switch(Vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}})(gt.type)-Dn(cn)||p.lh(gt.doc,Kt.doc);var cn,Dn}),this.Eh(c);var G=o?this.Ih():[],he=0===this.hh.size&&this.Zt?1:0,je=he!==this.uh;return this.uh=he,0!==x.length||je?{snapshot:new Ft(this.query,n._h,w,x,n.Qt,0===he,je,!1),Ah:G}:{Ah:G}},s.prototype.Us=function(n){return this.Zt&&"Offline"===n?(this.Zt=!1,this.gr({_h:this._h,wh:new Dt,Qt:this.Qt,Th:!1},!1)):{Ah:[]}},s.prototype.Rh=function(n){return!this.ah.has(n)&&!!this._h.has(n)&&!this._h.get(n).Ye},s.prototype.Eh=function(n){var o=this;n&&(n.te.forEach(function(c){return o.ah=o.ah.add(c)}),n.ee.forEach(function(c){}),n.ne.forEach(function(c){return o.ah=o.ah.delete(c)}),this.Zt=n.Zt)},s.prototype.Ih=function(){var n=this;if(!this.Zt)return[];var o=this.hh;this.hh=qt(),this._h.forEach(function(p){n.Rh(p.key)&&(n.hh=n.hh.add(p.key))});var c=[];return o.forEach(function(p){n.hh.has(p)||c.push(new hd(p))}),this.hh.forEach(function(p){o.has(p)||c.push(new fa(p))}),c},s.prototype.Ph=function(n){this.ah=n.Nc,this.hh=qt();var o=this.dh(n.documents);return this.gr(o,!0)},s.prototype.gh=function(){return Ft.Kt(this.query,this._h,this.Qt,0===this.uh)},s}(),ju=function(s,n,o){this.query=s,this.targetId=n,this.view=o},Mc=function(s){this.key=s,this.yh=!1},Yu=function(){function s(n,o,c,p,w,x){this.Wu=n,this.Vh=o,this.ph=c,this.bh=p,this.currentUser=w,this.Sh=x,this.Dh={},this.Ch=new vt(function(G){return fs(G)},Vr),this.Nh=new Map,this.Fh=[],this.$h=new Pt(T.i),this.xh=new Map,this.kh=new ws,this.Mh={},this.Oh=new Map,this.Lh=ls.fa(),this.onlineState="Unknown",this.Bh=void 0}return Object.defineProperty(s.prototype,"qh",{get:function(){return!0===this.Bh},enumerable:!1,configurable:!0}),s}();function zl(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,p,w,x,G;return y.__generator(this,function(he){switch(he.label){case 0:return o=Wu(s),(w=o.Ch.get(n))?(o.bh.Mi(w.targetId),p=w.view.gh(),[3,4]):[3,1];case 1:return[4,hr(o.Wu,Hi(n))];case 2:return x=he.sent(),G=o.bh.Mi(x.targetId),[4,ml(o,n,x.targetId,"current"===G)];case 3:p=he.sent(),o.qh&&ka(o.Vh,x),he.label=4;case 4:return[2,p]}})})}function ml(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w,x,G,he,je;return y.__generator(this,function(gt){switch(gt.label){case 0:return s.Uh=function(Kt,$t,cn){return function(Dn,Vn,Pr,Er){return y.__awaiter(this,void 0,void 0,function(){var Wr,pi,Li;return y.__generator(this,function(Rr){switch(Rr.label){case 0:return(Wr=Vn.view.dh(Pr)).Th?[4,wi(Dn.Wu,Vn.query,!1).then(function(Io){return Vn.view.dh(Io.documents,Wr)})]:[3,2];case 1:Wr=Rr.sent(),Rr.label=2;case 2:return pi=Er&&Er.Gt.get(Vn.targetId),Li=Vn.view.gr(Wr,Dn.qh,pi),[2,(su(Dn,Vn.targetId,Li.Ah),Li.snapshot)]}})})}(s,Kt,$t,cn)},[4,wi(s.Wu,n,!0)];case 1:return p=gt.sent(),w=new fd(n,p.Nc),x=w.dh(p.documents),G=Zn.Xt(o,c&&"Offline"!==s.onlineState),he=w.gr(x,s.qh,G),su(s,o,he.Ah),je=new ju(n,o,w),[2,(s.Ch.set(n,je),s.Nh.has(o)?s.Nh.get(o).push(n):s.Nh.set(o,[n]),he.snapshot)]}})})}function Qs(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:return o=yt(s),c=o.Ch.get(n),(p=o.Nh.get(c.targetId)).length>1?[2,(o.Nh.set(c.targetId,p.filter(function(x){return!Vr(x,n)})),void o.Ch.delete(n))]:o.qh?(o.bh.Li(c.targetId),o.bh.Ni(c.targetId)?[3,2]:[4,pr(o.Wu,c.targetId,!1).then(function(){o.bh.qi(c.targetId),hl(o.Vh,c.targetId),Za(o,c.targetId)}).catch(Yo)]):[3,3];case 1:w.sent(),w.label=2;case 2:return[3,5];case 3:return Za(o,c.targetId),[4,pr(o.Wu,c.targetId,!0)];case 4:w.sent(),w.label=5;case 5:return[2]}})})}function Ac(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c;return y.__generator(this,function(p){switch(p.label){case 0:o=yt(s),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,on(o.Wu,n)];case 2:return c=p.sent(),n.Gt.forEach(function(w,x){var G=o.xh.get(x);G&&(Nt(w.te.size+w.ee.size+w.ne.size<=1),w.te.size>0?G.yh=!0:w.ee.size>0?Nt(G.yh):w.ne.size>0&&(Nt(G.yh),G.yh=!1))}),[4,pa(o,c,n)];case 3:return p.sent(),[3,6];case 4:return[4,Yo(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function Uu(s,n,o){var c=yt(s);if(c.qh&&0===o||!c.qh&&1===o){var p=[];c.Ch.forEach(function(w,x){var G=x.view.Us(n);G.snapshot&&p.push(G.snapshot)}),function(w,x){var G=yt(w);G.onlineState=x;var he=!1;G.Ls.forEach(function(je,gt){for(var Kt=0,$t=gt.listeners;Kt<$t.length;Kt++)$t[Kt].Us(x)&&(he=!0)}),he&&ss(G)}(c.ph,n),p.length&&c.Dh.gu(p),c.onlineState=n,c.qh&&c.bh.ji(n)}}function Vu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,G,he;return y.__generator(this,function(je){switch(je.label){case 0:return(c=yt(s)).bh.Ui(n,"rejected",o),p=c.xh.get(n),(w=p&&p.key)?(x=(x=new Pt(T.i)).rt(w,new Ui(w,Qt.min())),G=qt().add(w),he=new vn(Qt.min(),new Map,new le(Xt),x,G),[4,Ac(c,he)]):[3,2];case 1:return je.sent(),c.$h=c.$h.remove(w),c.xh.delete(n),xs(c),[3,4];case 2:return[4,pr(c.Wu,n,!1).then(function(){return Za(c,n,o)}).catch(Yo)];case 3:je.sent(),je.label=4;case 4:return[2]}})})}function kc(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:o=yt(s),c=n.batch.batchId,w.label=1;case 1:return w.trys.push([1,4,,6]),[4,Ie(o.Wu,n)];case 2:return p=w.sent(),ou(o,c,null),Hu(o,c),o.bh.xi(c,"acknowledged"),[4,pa(o,p)];case 3:return w.sent(),[3,6];case 4:return[4,Yo(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}})})}function Wl(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:c=yt(s),w.label=1;case 1:return w.trys.push([1,4,,6]),[4,(x=c.Wu,G=n,he=yt(x),he.persistence.runTransaction("Reject batch","readwrite-primary",function(je){var gt;return he.vr.Mo(je,G).next(function(Kt){return Nt(null!==Kt),gt=Kt.keys(),he.vr.Qo(je,Kt)}).next(function(){return he.vr.Go(je)}).next(function(){return he.Dc.$r(je,gt)})}))];case 2:return p=w.sent(),ou(c,n,o),Hu(c,n),c.bh.xi(n,"rejected",o),[4,pa(c,p)];case 3:return w.sent(),[3,6];case 4:return[4,Yo(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}var x,G,he})})}function Hu(s,n){(s.Oh.get(n)||[]).forEach(function(o){o.resolve()}),s.Oh.delete(n)}function ou(s,n,o){var c=yt(s),p=c.Mh[c.currentUser.Zs()];if(p){var w=p.get(n);w&&(o?w.reject(o):w.resolve(),p=p.remove(n)),c.Mh[c.currentUser.Zs()]=p}}function Za(s,n,o){void 0===o&&(o=null),s.bh.Li(n);for(var c=0,p=s.Nh.get(n);c<p.length;c++){var w=p[c];s.Ch.delete(w),o&&s.Dh.Qh(w,o)}s.Nh.delete(n),s.qh&&s.kh.qc(n).forEach(function(x){s.kh.zo(x)||Oc(s,x)})}function Oc(s,n){var o=s.$h.get(n);null!==o&&(hl(s.Vh,o),s.$h=s.$h.remove(n),s.xh.delete(o),xs(s))}function su(s,n,o){for(var c=0,p=o;c<p.length;c++){var w=p[c];w instanceof fa?(s.kh.Sa(w.key,n),au(s,w)):w instanceof hd?(Fe("SyncEngine","Document no longer in limbo: "+w.key),s.kh.Ca(w.key,n),s.kh.zo(w.key)||Oc(s,w.key)):ye()}}function au(s,n){var o=n.key;s.$h.get(o)||(Fe("SyncEngine","New document in limbo: "+o),s.Fh.push(o),xs(s))}function xs(s){for(;s.Fh.length>0&&s.$h.size<s.Sh;){var n=s.Fh.shift(),o=s.Lh.next();s.xh.set(o,new Mc(n)),s.$h=s.$h.rt(n,o),ka(s.Vh,new Rn(Hi(Vi(n.path)),o,2,Y.oi))}}function pa(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x;return y.__generator(this,function(G){switch(G.label){case 0:return c=yt(s),p=[],w=[],x=[],c.Ch.m()?[3,3]:(c.Ch.forEach(function(he,je){x.push(c.Uh(je,n,o).then(function(gt){if(gt){c.qh&&c.bh.Ui(je.targetId,gt.fromCache?"not-current":"current"),p.push(gt);var Kt=U.Gr(je.targetId,gt);w.push(Kt)}}))}),[4,Promise.all(x)]);case 1:return G.sent(),c.Dh.gu(p),[4,function(he,je){return y.__awaiter(this,void 0,void 0,function(){var gt,Kt,$t,cn,Dn,Vn,Pr,Wr;return y.__generator(this,function(pi){switch(pi.label){case 0:gt=yt(he),pi.label=1;case 1:return pi.trys.push([1,3,,4]),[4,gt.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Li){return Xn.forEach(je,function(Rr){return Xn.forEach(Rr.jr,function(Io){return gt.persistence.Co.Sa(Li,Rr.targetId,Io)}).next(function(){return Xn.forEach(Rr.Kr,function(Io){return gt.persistence.Co.Ca(Li,Rr.targetId,Io)})})})})];case 2:return pi.sent(),[3,4];case 3:if(!zo(Kt=pi.sent()))throw Kt;return Fe("LocalStore","Failed to update sequence numbers: "+Kt),[3,4];case 4:for($t=0,cn=je;$t<cn.length;$t++)Vn=(Dn=cn[$t]).targetId,Dn.fromCache||(Pr=gt.Vc.get(Vn),Wr=Pr.it(Pr.et),gt.Vc=gt.Vc.rt(Vn,Wr));return[2]}})})}(c.Wu,w)];case 2:G.sent(),G.label=3;case 3:return[2]}})})}function pd(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c;return y.__generator(this,function(p){switch(p.label){case 0:return(o=yt(s)).currentUser.isEqual(n)?[3,3]:(Fe("SyncEngine","User change. New user:",n.Zs()),[4,function(w,x){return y.__awaiter(this,void 0,void 0,function(){var G,he,je,gt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:return G=yt(w),he=G.vr,je=G.Dc,[4,G.persistence.runTransaction("Handle user change","readonly",function($t){var cn;return G.vr.qo($t).next(function(Dn){return cn=Dn,he=G.persistence.wc(x),je=new A(G.Sc,he,G.persistence.Ec()),he.qo($t)}).next(function(Dn){for(var Vn=[],Pr=[],Er=qt(),Wr=0,pi=cn;Wr<pi.length;Wr++){var Li=pi[Wr];Vn.push(Li.batchId);for(var Rr=0,Io=Li.mutations;Rr<Io.length;Rr++)Er=Er.add(Io[Rr].key)}for(var Va=0,eu=Dn;Va<eu.length;Va++){var Su=eu[Va];Pr.push(Su.batchId);for(var ol=0,Il=Su.mutations;ol<Il.length;ol++)Er=Er.add(Il[ol].key)}return je.$r($t,Er).next(function(Gc){return{Wh:Gc,jh:Vn,Kh:Pr}})})})];case 1:return gt=Kt.sent(),[2,(G.vr=he,G.Dc=je,G.yc.Cc(G.Dc),gt)]}})})}(o.Wu,n)]);case 1:return c=p.sent(),o.currentUser=n,(w=o).Oh.forEach(function(G){G.forEach(function(he){he.reject(new K(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),w.Oh.clear(),o.bh.Wi(n,c.jh,c.Kh),[4,pa(o,c.Wh)];case 2:p.sent(),p.label=3;case 3:return[2]}var w})})}function Rc(s,n){var o=yt(s),c=o.xh.get(n);if(c&&c.yh)return qt().add(c.key);var p=qt(),w=o.Nh.get(n);if(!w)return p;for(var x=0,G=w;x<G.length;x++){var je=o.Ch.get(G[x]);p=p.xt(je.view.fh)}return p}function Ms(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:return[4,wi((o=yt(s)).Wu,n.query,!0)];case 1:return c=w.sent(),p=n.view.Ph(c),[2,(o.qh&&su(o,n.targetId,p.Ah),p)]}})})}function gl(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w;return y.__generator(this,function(x){switch(x.label){case 0:return[4,(G=(p=yt(s)).Wu,he=n,je=yt(G),gt=yt(je.vr),je.persistence.runTransaction("Lookup mutation documents","readonly",function(Kt){return gt.Oo(Kt,he).next(function($t){return $t?je.Dc.$r(Kt,$t):Xn.resolve(null)})}))];case 1:return null===(w=x.sent())?[3,6]:"pending"!==o?[3,3]:[4,Us(p.Vh)];case 2:return x.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(ou(p,n,c||null),Hu(p,n),function(G,he){yt(yt(G).vr).jo(he)}(p.Wu,n)):ye(),x.label=4;case 4:return[4,pa(p,w)];case 5:return x.sent(),[3,7];case 6:Fe("SyncEngine","Cannot apply mutation batch with id: "+n),x.label=7;case 7:return[2]}var G,he,je,gt})})}function lu(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x,he,je;return y.__generator(this,function(gt){switch(gt.label){case 0:return Wu(o=yt(s)),Ja(o),!0!==n||!0===o.Bh?[3,3]:(c=o.bh.Di(),[4,uu(o,c.A())]);case 1:return p=gt.sent(),o.Bh=!0,[4,xc(o.Vh,!0)];case 2:for(gt.sent(),w=0,x=p;w<x.length;w++)ka(o.Vh,x[w]);return[3,7];case 3:return!1!==n||!1===o.Bh?[3,7]:(he=[],je=Promise.resolve(),o.Nh.forEach(function(Kt,$t){o.bh.Bi($t)?he.push($t):je=je.then(function(){return Za(o,$t),pr(o.Wu,$t,!0)}),hl(o.Vh,$t)}),[4,je]);case 4:return gt.sent(),[4,uu(o,he)];case 5:return gt.sent(),($t=yt(o)).xh.forEach(function(cn,Dn){hl($t.Vh,Dn)}),$t.kh.Uc(),$t.xh=new Map,$t.$h=new Pt(T.i),o.Bh=!1,[4,xc(o.Vh,!1)];case 6:gt.sent(),gt.label=7;case 7:return[2]}var $t})})}function uu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,G,he,je,gt,Kt,$t,Dn,Vn,Pr;return y.__generator(this,function(Er){switch(Er.label){case 0:c=yt(s),p=[],w=[],x=0,G=n,Er.label=1;case 1:return x<G.length?(je=void 0,(gt=c.Nh.get(he=G[x]))&&0!==gt.length?[4,hr(c.Wu,Hi(gt[0]))]:[3,7]):[3,13];case 2:je=Er.sent(),Kt=0,$t=gt,Er.label=3;case 3:return Kt<$t.length?(Dn=c.Ch.get($t[Kt]),[4,Ms(c,Dn)]):[3,6];case 4:(Vn=Er.sent()).snapshot&&w.push(Vn.snapshot),Er.label=5;case 5:return Kt++,[3,3];case 6:return[3,11];case 7:return[4,Wo(c.Wu,he)];case 8:return Pr=Er.sent(),[4,hr(c.Wu,Pr)];case 9:return je=Er.sent(),[4,ml(c,ta(Pr),he,!1)];case 10:Er.sent(),Er.label=11;case 11:p.push(je),Er.label=12;case 12:return x++,[3,1];case 13:return[2,(c.Dh.gu(w),p)]}})})}function ta(s){return is(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function cu(s){var n=yt(s);return yt(yt(n.Wu).persistence).Vi()}function Nc(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w,x;return y.__generator(this,function(G){switch(G.label){case 0:return(p=yt(s)).Bh?(Fe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!p.Nh.has(n))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ca(p.Wu)];case 3:return w=G.sent(),x=vn.Jt(n,"current"===o),[4,pa(p,w,x)];case 4:return G.sent(),[3,8];case 5:return[4,pr(p.Wu,n,!0)];case 6:return G.sent(),Za(p,n,c),[3,8];case 7:ye(),G.label=8;case 8:return[2]}})})}function zu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,G,he,je,gt,Kt;return y.__generator(this,function(cn){switch(cn.label){case 0:if(!(c=Wu(s)).Bh)return[3,10];p=0,w=n,cn.label=1;case 1:return p<w.length?c.Nh.has(x=w[p])?(Fe("SyncEngine","Adding an already active target "+x),[3,5]):[4,Wo(c.Wu,x)]:[3,6];case 2:return G=cn.sent(),[4,hr(c.Wu,G)];case 3:return he=cn.sent(),[4,ml(c,ta(G),he.targetId,!1)];case 4:cn.sent(),ka(c.Vh,he),cn.label=5;case 5:return p++,[3,1];case 6:je=function(Dn){return y.__generator(this,function(Vn){switch(Vn.label){case 0:return c.Nh.has(Dn)?[4,pr(c.Wu,Dn,!1).then(function(){hl(c.Vh,Dn),Za(c,Dn)}).catch(Yo)]:[3,2];case 1:Vn.sent(),Vn.label=2;case 2:return[2]}})},gt=0,Kt=o,cn.label=7;case 7:return gt<Kt.length?[5,je(Kt[gt])]:[3,10];case 8:cn.sent(),cn.label=9;case 9:return gt++,[3,7];case 10:return[2]}})})}function Wu(s){var n=yt(s);return n.Vh.Ku.nh=Ac.bind(null,n),n.Vh.Ku.Be=Rc.bind(null,n),n.Vh.Ku.eh=Vu.bind(null,n),n.Dh.gu=Xo.bind(null,n.ph),n.Dh.Qh=ns.bind(null,n.ph),n}function Ja(s){var n=yt(s);return n.Vh.Ku.sh=kc.bind(null,n),n.Vh.Ku.ih=Wl.bind(null,n),n}var du=function(){function s(){}return s.prototype.Cc=function(n){this.Gh=n},s.prototype.Or=function(n,o,c,p){var x,w=this;return 0===(x=o).filters.length&&null===x.limit&&null==x.startAt&&null==x.endAt&&(0===x.rn.length||1===x.rn.length&&x.rn[0].field.p())||c.isEqual(Qt.min())?this.zh(n,o):this.Gh.$r(n,p).next(function(x){var G=w.Hh(o,x);return(Or(o)||_o(o))&&w.Th(o.on,G,p,c)?w.zh(n,o):(Se()<=j.LogLevel.DEBUG&&Fe("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),qo(o)),w.Gh.Or(n,o,c).next(function(he){return G.forEach(function(je){he=he.rt(je.key,je)}),he}))})},s.prototype.Hh=function(n,o){var c=new le(Zi(n));return o.forEach(function(p,w){w instanceof Qr&&oi(n,w)&&(c=c.add(w))}),c},s.prototype.Th=function(n,o,c,p){if(c.size!==o.size)return!0;var w="F"===n?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.L(p)>0)},s.prototype.zh=function(n,o){return Se()<=j.LogLevel.DEBUG&&Fe("IndexFreeQueryEngine","Using full collection scan to execute query:",qo(o)),this.Gh.Or(n,o,Qt.min())},s}(),hu=function(){function s(n,o){this.Sr=n,this.Co=o,this.vr=[],this.Yh=1,this.Jh=new le(Go.xc)}return s.prototype.$o=function(n){return Xn.resolve(0===this.vr.length)},s.prototype.xo=function(n,o,c,p){var w=this.Yh;this.Yh++;var x=new Hr(w,o,c,p);this.vr.push(x);for(var G=0,he=p;G<he.length;G++){var je=he[G];this.Jh=this.Jh.add(new Go(je.key,w)),this.Sr.ko(n,je.key.path.h())}return Xn.resolve(x)},s.prototype.Mo=function(n,o){return Xn.resolve(this.Xh(o))},s.prototype.Lo=function(n,o){var p=this.Zh(o+1),w=p<0?0:p;return Xn.resolve(this.vr.length>w?this.vr[w]:null)},s.prototype.Bo=function(){return Xn.resolve(0===this.vr.length?-1:this.Yh-1)},s.prototype.qo=function(n){return Xn.resolve(this.vr.slice())},s.prototype.Cr=function(n,o){var c=this,p=new Go(o,0),w=new Go(o,Number.POSITIVE_INFINITY),x=[];return this.Jh.Nt([p,w],function(G){var he=c.Xh(G.Wc);x.push(he)}),Xn.resolve(x)},s.prototype.Mr=function(n,o){var c=this,p=new le(Xt);return o.forEach(function(w){var x=new Go(w,0),G=new Go(w,Number.POSITIVE_INFINITY);c.Jh.Nt([x,G],function(he){p=p.add(he.Wc)})}),Xn.resolve(this.tl(p))},s.prototype.Qr=function(n,o){var c=o.path,p=c.length+1,w=c;T.F(w)||(w=w.child(""));var x=new Go(new T(w),0),G=new le(Xt);return this.Jh.Ft(function(he){var je=he.key.path;return!!c.T(je)&&(je.length===p&&(G=G.add(he.Wc)),!0)},x),Xn.resolve(this.tl(G))},s.prototype.tl=function(n){var o=this,c=[];return n.forEach(function(p){var w=o.Xh(p);null!==w&&c.push(w)}),c},s.prototype.Qo=function(n,o){var c=this;Nt(0===this.el(o.batchId,"removed")),this.vr.shift();var p=this.Jh;return Xn.forEach(o.mutations,function(w){var x=new Go(w.key,o.batchId);return p=p.delete(x),c.Co.Ko(n,w.key)}).next(function(){c.Jh=p})},s.prototype.jo=function(n){},s.prototype.zo=function(n,o){var c=new Go(o,0),p=this.Jh.$t(c);return Xn.resolve(o.isEqual(p&&p.key))},s.prototype.Go=function(n){return Xn.resolve()},s.prototype.el=function(n,o){return this.Zh(n)},s.prototype.Zh=function(n){return 0===this.vr.length?0:n-this.vr[0].batchId},s.prototype.Xh=function(n){var o=this.Zh(n);return o<0||o>=this.vr.length?null:this.vr[o]},s}(),Gu=function(){function s(n,o){this.Sr=n,this.nl=o,this.docs=new Pt(T.i),this.size=0}return s.prototype.Tr=function(n,o,c){var p=o.key,w=this.docs.get(p),x=w?w.size:0,G=this.nl(o);return this.docs=this.docs.rt(p,{Zo:o,size:G,readTime:c}),this.size+=G-x,this.Sr.ko(n,p.path.h())},s.prototype.Ir=function(n){var o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)},s.prototype.Ar=function(n,o){var c=this.docs.get(o);return Xn.resolve(c?c.Zo:null)},s.prototype.getEntries=function(n,o){var c=this,p=bn();return o.forEach(function(w){var x=c.docs.get(w);p=p.rt(w,x?x.Zo:null)}),Xn.resolve(p)},s.prototype.Or=function(n,o,c){for(var p=Ct(),w=new T(o.path.child("")),x=this.docs._t(w);x.It();){var G=x.Et(),je=G.value,gt=je.Zo,Kt=je.readTime;if(!o.path.T(G.key.path))break;Kt.L(c)<=0||gt instanceof Qr&&oi(o,gt)&&(p=p.rt(gt.key,gt))}return Xn.resolve(p)},s.prototype.sl=function(n,o){return Xn.forEach(this.docs,function(c){return o(c)})},s.prototype.ia=function(n){return new Fc(this)},s.prototype.oa=function(n){return Xn.resolve(this.size)},s}(),Fc=function(s){function n(o){var c=this;return(c=s.call(this)||this).aa=o,c}return y.__extends(n,s),n.prototype.gr=function(o){var c=this,p=[];return this.dr.forEach(function(w,x){x?p.push(c.aa.Tr(o,x,c.readTime)):c.aa.Ir(w)}),Xn.$n(p)},n.prototype.Rr=function(o,c){return this.aa.Ar(o,c)},n.prototype.Pr=function(o,c){return this.aa.getEntries(o,c)},n}(l),oh=function(){function s(n){this.persistence=n,this.il=new vt(function(o){return dt(o)},En),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.rl=0,this.ol=new ws,this.targetCount=0,this.al=ls._a()}return s.prototype.De=function(n,o){return this.il.forEach(function(c,p){return o(p)}),Xn.resolve()},s.prototype.Ta=function(n){return Xn.resolve(this.lastRemoteSnapshotVersion)},s.prototype.Ea=function(n){return Xn.resolve(this.rl)},s.prototype.da=function(n){return this.highestTargetId=this.al.next(),Xn.resolve(this.highestTargetId)},s.prototype.Ia=function(n,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.rl&&(this.rl=o),Xn.resolve()},s.prototype.Ra=function(n){this.il.set(n.target,n);var o=n.targetId;o>this.highestTargetId&&(this.al=new ls(o),this.highestTargetId=o),n.sequenceNumber>this.rl&&(this.rl=n.sequenceNumber)},s.prototype.Aa=function(n,o){return this.Ra(o),this.targetCount+=1,Xn.resolve()},s.prototype.ga=function(n,o){return this.Ra(o),Xn.resolve()},s.prototype.ya=function(n,o){return this.il.delete(o.target),this.ol.qc(o.targetId),this.targetCount-=1,Xn.resolve()},s.prototype.Vo=function(n,o,c){var p=this,w=0,x=[];return this.il.forEach(function(G,he){he.sequenceNumber<=o&&null===c.get(he.targetId)&&(p.il.delete(G),x.push(p.Va(n,he.targetId)),w++)}),Xn.$n(x).next(function(){return w})},s.prototype.pa=function(n){return Xn.resolve(this.targetCount)},s.prototype.ba=function(n,o){var c=this.il.get(o)||null;return Xn.resolve(c)},s.prototype.va=function(n,o,c){return this.ol.Oc(o,c),Xn.resolve()},s.prototype.Da=function(n,o,c){this.ol.Bc(o,c);var p=this.persistence.Co,w=[];return p&&o.forEach(function(x){w.push(p.Ko(n,x))}),Xn.$n(w)},s.prototype.Va=function(n,o){return this.ol.qc(o),Xn.resolve()},s.prototype.Na=function(n,o){var c=this.ol.Qc(o);return Xn.resolve(c)},s.prototype.zo=function(n,o){return Xn.resolve(this.ol.zo(o))},s}(),fu=function(){function s(n){var o=this;this.cl={},this.ka=new Y(0),this.Ma=!1,this.Ma=!0,this.Co=n(this),this.ja=new oh(this),this.Sr=new as,this.br=new Gu(this.Sr,function(w){return o.Co.ul(w)})}return s.prototype.start=function(){return Promise.resolve()},s.prototype.Si=function(){return this.Ma=!1,Promise.resolve()},Object.defineProperty(s.prototype,"Ti",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),s.prototype.Xa=function(){},s.prototype.Za=function(){},s.prototype.Ec=function(){return this.Sr},s.prototype.wc=function(n){var o=this.cl[n.Zs()];return o||(o=new hu(this.Sr,this.Co),this.cl[n.Zs()]=o),o},s.prototype.mc=function(){return this.ja},s.prototype.Tc=function(){return this.br},s.prototype.runTransaction=function(n,o,c){var p=this;Fe("MemoryPersistence","Starting transaction:",n);var w=new sh(this.ka.next());return this.Co.hl(),c(w).next(function(x){return p.Co.ll(w).next(function(){return x})}).Nn().then(function(x){return w.pr(),x})},s.prototype._l=function(n,o){return Xn.xn(Object.values(this.cl).map(function(c){return function(){return c.zo(n,o)}}))},s}(),sh=function(s){function n(o){var c=this;return(c=s.call(this)||this).Fa=o,c}return y.__extends(n,s),n}(b),ah=function(){function s(n){this.persistence=n,this.fl=new ws,this.dl=null}return s.wl=function(n){return new s(n)},Object.defineProperty(s.prototype,"ml",{get:function(){if(this.dl)return this.dl;throw ye()},enumerable:!1,configurable:!0}),s.prototype.Sa=function(n,o,c){return this.fl.Sa(c,o),this.ml.delete(c.toString()),Xn.resolve()},s.prototype.Ca=function(n,o,c){return this.fl.Ca(c,o),this.ml.add(c.toString()),Xn.resolve()},s.prototype.Ko=function(n,o){return this.ml.add(o.toString()),Xn.resolve()},s.prototype.removeTarget=function(n,o){var c=this;this.fl.qc(o.targetId).forEach(function(w){return c.ml.add(w.toString())});var p=this.persistence.mc();return p.Na(n,o.targetId).next(function(w){w.forEach(function(x){return c.ml.add(x.toString())})}).next(function(){return p.ya(n,o)})},s.prototype.hl=function(){this.dl=new Set},s.prototype.ll=function(n){var o=this,c=this.persistence.Tc().ia();return Xn.forEach(this.ml,function(p){var w=T.D(p);return o.Tl(n,w).next(function(x){x||c.Ir(w)})}).next(function(){return o.dl=null,c.apply(n)})},s.prototype.gc=function(n,o){var c=this;return this.Tl(n,o).next(function(p){p?c.ml.delete(o.toString()):c.ml.add(o.toString())})},s.prototype.ul=function(n){return 0},s.prototype.Tl=function(n,o){var c=this;return Xn.xn([function(){return Xn.resolve(c.fl.zo(o))},function(){return c.persistence.mc().zo(n,o)},function(){return c.persistence._l(n,o)}])},s}(),Ku=function(){function s(n){this.El=n.El,this.Il=n.Il}return s.prototype.Ru=function(n){this.Al=n},s.prototype.mu=function(n){this.Rl=n},s.prototype.onMessage=function(n){this.Pl=n},s.prototype.close=function(){this.Il()},s.prototype.send=function(n){this.El(n)},s.prototype.gl=function(){this.Al()},s.prototype.yl=function(n){this.Rl(n)},s.prototype.Vl=function(n){this.Pl(n)},s}(),$u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lc=function(s){function n(o){var c=this;return(c=s.call(this,o)||this).forceLongPolling=o.forceLongPolling,c}return y.__extends(n,s),n.prototype.Cl=function(o,c,p,w){return new Promise(function(x,G){var he=new z.XhrIo;he.listenOnce(z.EventType.COMPLETE,function(){try{switch(he.getLastErrorCode()){case z.ErrorCode.NO_ERROR:var gt=he.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(gt)),x(gt);break;case z.ErrorCode.TIMEOUT:Fe("Connection",'RPC "'+o+'" timed out'),G(new K(ie.DEADLINE_EXCEEDED,"Request time out"));break;case z.ErrorCode.HTTP_ERROR:var Kt=he.getStatus();if(Fe("Connection",'RPC "'+o+'" failed with status:',Kt,"response text:",he.getResponseText()),Kt>0){var $t=he.getResponseJson().error;if($t&&$t.status&&$t.message){var cn=(Vn=$t.status.toLowerCase().replace("_","-"),Object.values(ie).indexOf(Vn)>=0?Vn:ie.UNKNOWN);G(new K(cn,$t.message))}else G(new K(ie.UNKNOWN,"Server responded with status "+he.getStatus()))}else G(new K(ie.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{Fe("Connection",'RPC "'+o+'" completed.')}var Vn});var je=JSON.stringify(w);he.send(c,"POST",je,p,15)})},n.prototype.Pu=function(o,c){var p=[this.bl,"/","google.firestore.v1.Firestore","/",o,"/channel"],w=z.createWebChannelTransport(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Dl(x.initMessageHeaders,c),Pe.isMobileCordova()||Pe.isReactNative()||Pe.isElectron()||Pe.isIE()||Pe.isUWP()||Pe.isBrowserExtension()||(x.httpHeadersOverwriteParam="$httpHeaders");var G=p.join("");Fe("Connection","Creating WebChannel: "+G,x);var he=w.createWebChannel(G,x),je=!1,gt=!1,Kt=new Ku({El:function(cn){gt?Fe("Connection","Not sending because WebChannel is closed:",cn):(je||(Fe("Connection","Opening WebChannel transport."),he.open(),je=!0),Fe("Connection","WebChannel sending:",cn),he.send(cn))},Il:function(){return he.close()}}),$t=function(cn,Dn){he.listen(cn,function(Vn){try{Dn(Vn)}catch(Pr){setTimeout(function(){throw Pr},0)}})};return $t(z.WebChannel.EventType.OPEN,function(){gt||Fe("Connection","WebChannel transport opened.")}),$t(z.WebChannel.EventType.CLOSE,function(){gt||(gt=!0,Fe("Connection","WebChannel transport closed"),Kt.yl())}),$t(z.WebChannel.EventType.ERROR,function(cn){gt||(gt=!0,Zt("Connection","WebChannel transport errored:",cn),Kt.yl(new K(ie.UNAVAILABLE,"The operation could not be completed")))}),$t(z.WebChannel.EventType.MESSAGE,function(cn){var Dn;if(!gt){var Vn=cn.data[0];Nt(!!Vn);var Er=Vn.error||(null===(Dn=Vn[0])||void 0===Dn?void 0:Dn.error);if(Er){Fe("Connection","WebChannel received error:",Er);var Wr=Er.status,pi=function(Rr){var Io=Wn[Rr];if(void 0!==Io)return hn(Io)}(Wr),Li=Er.message;void 0===pi&&(pi=ie.INTERNAL,Li="Unknown error status: "+Wr+" with message "+Er.message),gt=!0,Kt.yl(new K(pi,Li)),he.close()}else Fe("Connection","WebChannel received:",Vn),Kt.Vl(Vn)}}),setTimeout(function(){Kt.gl()},0),Kt},n}(function(){function s(n){this.pl=n,this.U=n.U,this.bl=(n.ssl?"https":"http")+"://"+n.host,this.vl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return s.prototype.$u=function(n,o,c,p){var w=this.Sl(n,o);Fe("RestConnection","Sending: ",w,c);var x={};return this.Dl(x,p),this.Cl(n,w,x,c).then(function(G){return Fe("RestConnection","Received: ",G),G},function(G){throw Zt("RestConnection",n+" failed with error: ",G,"url: ",w,"request:",c),G})},s.prototype.xu=function(n,o,c,p){return this.$u(n,o,c,p)},s.prototype.Dl=function(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/7.23.0",n["Content-Type"]="text/plain",o)for(var c in o.jc)o.jc.hasOwnProperty(c)&&(n[c]=o.jc[c])},s.prototype.Sl=function(n,o){return this.bl+"/v1/"+o+":"+$u[n]},s}()),Ea=function(){function s(){var n=this;this.Nl=function(){return n.Fl()},this.$l=function(){return n.xl()},this.kl=[],this.Ml()}return s.prototype.Xu=function(n){this.kl.push(n)},s.prototype.Si=function(){window.removeEventListener("online",this.Nl),window.removeEventListener("offline",this.$l)},s.prototype.Ml=function(){window.addEventListener("online",this.Nl),window.addEventListener("offline",this.$l)},s.prototype.Fl=function(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,o=this.kl;n<o.length;n++)(0,o[n])(0)},s.prototype.xl=function(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,o=this.kl;n<o.length;n++)(0,o[n])(1)},s.On=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),qu=function(){function s(){}return s.prototype.Xu=function(n){},s.prototype.Si=function(){},s}();function el(s){return new Qi(s,!0)}var pu="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Gl=function(){function s(){}return s.prototype.initialize=function(n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){switch(o.label){case 0:return this.bh=this.Ol(n),this.persistence=this.Ll(n),[4,this.persistence.start()];case 1:return o.sent(),this.Bl=this.ql(n),this.Wu=this.Ul(n),[2]}})})},s.prototype.ql=function(n){return null},s.prototype.Ul=function(n){return o=this.persistence,c=new du,new se(o,c,n.Ql);var o,c},s.prototype.Ll=function(n){if(n.persistenceSettings.Wl)throw new K(ie.FAILED_PRECONDITION,pu);return new fu(ah.wl)},s.prototype.Ol=function(n){return new li},s.prototype.terminate=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){switch(n.label){case 0:return this.Bl&&this.Bl.stop(),[4,this.bh.Si()];case 1:return n.sent(),[4,this.persistence.Si()];case 2:return n.sent(),[2]}})})},s.prototype.clearPersistence=function(n,o){throw new K(ie.FAILED_PRECONDITION,pu)},s}(),Fa=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.initialize=function(o){return y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return w.sent(),c=this.jl._i,this.bh instanceof Nr?(this.bh._i={tr:gl.bind(null,c),er:Nc.bind(null,c),nr:zu.bind(null,c),Vi:cu.bind(null,c)},[4,this.bh.start()]):[3,3];case 2:w.sent(),w.label=3;case 3:return[4,this.persistence.Ja(function(x){return y.__awaiter(p,void 0,void 0,function(){return y.__generator(this,function(G){switch(G.label){case 0:return[4,lu(this.jl._i,x)];case 1:return G.sent(),this.Bl&&(x&&!this.Bl.Ti?this.Bl.start(this.Wu):x||this.Bl.stop()),[2]}})})})];case 4:return w.sent(),[2]}})})},n.prototype.Ol=function(o){if(o.persistenceSettings.Wl&&o.persistenceSettings.synchronizeTabs){var c=H();if(!Nr.On(c))throw new K(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var p=V(o.pl.U,o.pl.persistenceKey);return new Nr(c,o.os,p,o.clientId,o.Ql)}return new li},n}(function(s){function n(o){var c=this;return(c=s.call(this)||this).jl=o,c}return y.__extends(n,s),n.prototype.initialize=function(o){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return c.sent(),[4,ea(this.Wu)];case 2:return c.sent(),[4,this.jl.initialize(this,o)];case 3:return c.sent(),[4,Ja(this.jl._i)];case 4:return c.sent(),[4,Us(this.jl.Vh)];case 5:return c.sent(),[2]}})})},n.prototype.ql=function(o){return new tn(this.persistence.Co.do,o.os)},n.prototype.Ll=function(o){var c=V(o.pl.U,o.pl.persistenceKey),p=el(o.pl.U);return new bs(o.persistenceSettings.synchronizeTabs,c,o.clientId,et.oo(o.persistenceSettings.cacheSizeBytes),o.os,H(),fe(),p,this.bh,o.persistenceSettings.xa)},n.prototype.Ol=function(o){return new li},n.prototype.clearPersistence=function(o,c){return function(p){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(x){switch(x.label){case 0:return Ci.On()?[4,Ci.delete(p+"main")]:[2,Promise.resolve()];case 1:return x.sent(),[2]}})})}(V(o,c))},n}(Gl)),Sa=function(){function s(){}return s.prototype.initialize=function(n,o){return y.__awaiter(this,void 0,void 0,function(){var c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.Wu?[3,2]:(this.Wu=n.Wu,this.bh=n.bh,this.ju=this.Kl(o),this.Vh=this.Gl(o),this.ph=this.zl(o),this._i=this.Hl(o),this.bh.fi=function(w){return Uu(c._i,w,1)},this.Vh.Ku.Yl=pd.bind(null,this._i),[4,xc(this.Vh,this._i.qh)]);case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.zl=function(n){return new ri},s.prototype.Kl=function(n){var c=el(n.pl.U),p=new Lc(n.pl);return new Xa(n.credentials,p,c)},s.prototype.Gl=function(n){var o,c,p,w,x,G=this;return o=this.Wu,c=this.ju,p=n.os,w=function(he){return Uu(G._i,he,0)},x=Ea.On()?new Ea:new qu,new ih(o,c,p,w,x)},s.prototype.Hl=function(n){return he=!n.persistenceSettings.Wl||!n.persistenceSettings.synchronizeTabs,je=new Yu(this.Wu,this.Vh,this.ph,this.bh,n.Ql,n.Sh),he&&(je.Bh=!0),je;var he,je},s.prototype.terminate=function(){return dd(this.Vh)},s}(),tl=function(){function s(n){this.observer=n,this.muted=!1}return s.prototype.next=function(n){this.observer.next&&this.Jl(this.observer.next,n)},s.prototype.error=function(n){this.observer.error?this.Jl(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},s.prototype.Xl=function(){this.muted=!0},s.prototype.Jl=function(n,o){var c=this;this.muted||setTimeout(function(){c.muted||n(o)},0)},s}(),Kl=function(s){!function(o,c,p,w){if(!(c instanceof Array)||c.length<1)throw new K(ie.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+an(1,"element")+".")}(0,s);for(var n=0;n<s.length;++n)if(Ke("FieldPath","string",n,s[n]),0===s[n].length)throw new K(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new k(s)},vl=function(s){function n(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return s.call(this,o)||this}return y.__extends(n,s),n.documentId=function(){return new n(k.v().R())},n.prototype.isEqual=function(o){if(!(o instanceof n))throw Et("isEqual","FieldPath",1,o);return this.Zl.isEqual(o.Zl)},n}(Kl),Bc=new RegExp("[~\\*/\\[\\]]"),La=function(s){this.t_=s},nl=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.e_=function(o){if(2!==o.n_)throw o.s_(1===o.n_?this.t_+"() can only appear at the top level of your update data":this.t_+"() cannot be used with set() unless you pass {merge:true}");return o.Qe.push(o.path),null},n.prototype.isEqual=function(o){return o instanceof n},n}(La);function $l(s,n,o){return new ia({n_:3,i_:n.settings.i_,methodName:s.t_,r_:o},n.U,n.serializer,n.ignoreUndefinedProperties)}var yl=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.e_=function(o){return new Mn(o.path,new lo)},n.prototype.isEqual=function(o){return o instanceof n},n}(La),md=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).o_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=$l(this,o,!0),p=this.o_.map(function(x){return Da(x,c)}),w=new oe(p);return new Mn(o.path,w)},n.prototype.isEqual=function(o){return this===o},n}(La),Qu=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).o_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=$l(this,o,!0),p=this.o_.map(function(x){return Da(x,c)}),w=new Be(p);return new Mn(o.path,w)},n.prototype.isEqual=function(o){return this===o},n}(La),Xu=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).a_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=new jt(o.serializer,to(o.serializer,this.a_));return new Mn(o.path,c)},n.prototype.isEqual=function(o){return this===o},n}(La),mu=function(){function s(n,o){if(J("GeoPoint",arguments,2),Ke("GeoPoint","number",1,n),Ke("GeoPoint","number",2,o),!isFinite(n)||n<-90||n>90)throw new K(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new K(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this.c_=n,this.u_=o}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return this.c_===n.c_&&this.u_===n.u_},s.prototype.toJSON=function(){return{latitude:this.c_,longitude:this.u_}},s.prototype.H=function(n){return Xt(this.c_,n.c_)||Xt(this.u_,n.u_)},s}(),Ta=function(s){this.h_=s},gu=/^__.*__$/,ql=function(s,n,o){this.l_=s,this.__=n,this.f_=o},lh=function(){function s(n,o,c){this.data=n,this.Qe=o,this.fieldTransforms=c}return s.prototype.d_=function(n,o){var c=[];return c.push(null!==this.Qe?new Ur(n,this.data,this.Qe,o):new Pi(n,this.data,o)),this.fieldTransforms.length>0&&c.push(new Si(n,this.fieldTransforms)),c},s}(),jc=function(){function s(n,o,c){this.data=n,this.Qe=o,this.fieldTransforms=c}return s.prototype.d_=function(n,o){var c=[new Ur(n,this.data,this.Qe,o)];return this.fieldTransforms.length>0&&c.push(new Si(n,this.fieldTransforms)),c},s}();function rl(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var ia=function(){function s(n,o,c,p,w,x){this.settings=n,this.U=o,this.serializer=c,this.ignoreUndefinedProperties=p,void 0===w&&this.w_(),this.fieldTransforms=w||[],this.Qe=x||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),s.prototype.m_=function(n){return new s(Object.assign(Object.assign({},this.settings),n),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},s.prototype.T_=function(n){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(n),p=this.m_({path:c,r_:!1});return p.E_(n),p},s.prototype.I_=function(n){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(n),p=this.m_({path:c,r_:!1});return p.w_(),p},s.prototype.A_=function(n){return this.m_({path:void 0,r_:!0})},s.prototype.s_=function(n){return bl(n,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},s.prototype.contains=function(n){return void 0!==this.Qe.find(function(o){return n.T(o)})||void 0!==this.fieldTransforms.find(function(o){return n.T(o.field)})},s.prototype.w_=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.E_(this.path.get(n))},s.prototype.E_=function(n){if(0===n.length)throw this.s_("Document fields must not be empty");if(rl(this.n_)&&gu.test(n))throw this.s_('Document fields cannot begin and end with "__"')},s}(),Zu=function(){function s(n,o,c){this.U=n,this.ignoreUndefinedProperties=o,this.serializer=c||el(n)}return s.prototype.P_=function(n,o,c,p){return void 0===p&&(p=!1),new ia({n_:n,methodName:o,i_:c,path:k.g(),r_:!1,R_:p},this.U,this.serializer,this.ignoreUndefinedProperties)},s}();function Xs(s,n,o,c,p,w){void 0===w&&(w={});var x=s.P_(w.merge||w.mergeFields?2:0,n,o,p);Xl("Data must be an object, but it was:",x,c);var G,he,je=Ql(c,x);if(w.merge)G=new Hn(x.Qe),he=x.fieldTransforms;else if(w.mergeFields){for(var gt=[],Kt=0,$t=w.mergeFields;Kt<$t.length;Kt++){var cn=$t[Kt],Dn=void 0;if(cn instanceof Kl)Dn=cn.Zl;else{if("string"!=typeof cn)throw ye();Dn=Zl(n,cn,o)}if(!x.contains(Dn))throw new K(ie.INVALID_ARGUMENT,"Field '"+Dn+"' is specified in your field mask but missing from your input data.");gd(gt,Dn)||gt.push(Dn)}G=new Hn(gt),he=x.fieldTransforms.filter(function(Vn){return G.He(Vn.field)})}else G=null,he=x.fieldTransforms;return new lh(new Vo(je),G,he)}function Ju(s,n,o,c){var p=s.P_(1,n,o);Xl("Data must be an object, but it was:",p,c);var w=[],x=new $o;Ot(c,function(he,je){var gt=Zl(n,he,o),Kt=p.I_(gt);if(je instanceof nl||je instanceof Ta&&je.h_ instanceof nl)w.push(gt);else{var $t=Da(je,Kt);null!=$t&&(w.push(gt),x.set(gt,$t))}});var G=new Hn(w);return new jc(x.Je(),G,p.fieldTransforms)}function vu(s,n,o,c,p,w){var x=s.P_(1,n,o),G=[_l(n,c,o)],he=[p];if(w.length%2!=0)throw new K(ie.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var je=0;je<w.length;je+=2)G.push(_l(n,w[je])),he.push(w[je+1]);for(var gt=[],Kt=new $o,$t=G.length-1;$t>=0;--$t)if(!gd(gt,G[$t])){var cn=G[$t],Dn=he[$t],Vn=x.I_(cn);if(Dn instanceof nl||Dn instanceof Ta&&Dn.h_ instanceof nl)gt.push(cn);else{var Pr=Da(Dn,Vn);null!=Pr&&(gt.push(cn),Kt.set(cn,Pr))}}var Er=new Hn(gt);return new jc(Kt.Je(),Er,x.fieldTransforms)}function Yc(s,n,o,c){return void 0===c&&(c=!1),Da(o,s.P_(c?4:3,n))}function Da(s,n){if(s instanceof Ta&&(s=s.h_),ec(s))return Xl("Unsupported field value:",n,s),Ql(s,n);if(s instanceof La)return function(o,c){if(!rl(c.n_))throw c.s_(o.t_+"() can only be used with update() and set()");if(!c.path)throw c.s_(o.t_+"() is not currently supported inside arrays");var p=o.e_(c);p&&c.fieldTransforms.push(p)}(s,n),null;if(n.path&&n.Qe.push(n.path),s instanceof Array){if(n.settings.r_&&4!==n.n_)throw n.s_("Nested arrays are not supported");return function(o,c){for(var p=[],w=0,x=0,G=o;x<G.length;x++){var he=Da(G[x],c.A_(w));null==he&&(he={nullValue:"NULL_VALUE"}),p.push(he),w++}return{arrayValue:{values:p}}}(s,n)}return function(o,c){if(null===o)return{nullValue:"NULL_VALUE"};if("number"==typeof o)return to(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var p=Bt.fromDate(o);return{timestampValue:Mi(c.serializer,p)}}if(o instanceof Bt){var w=new Bt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Mi(c.serializer,w)}}if(o instanceof mu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof er)return{bytesValue:No(c.serializer,o.q)};if(o instanceof ql){var x=c.U,G=o.l_;if(!G.isEqual(x))throw c.s_("Document reference is for database "+G.projectId+"/"+G.database+" but should be for database "+x.projectId+"/"+x.database);return{referenceValue:pe(o.l_||c.U,o.__.path)}}if(void 0===o&&c.ignoreUndefinedProperties)return null;throw c.s_("Unsupported field value: "+Ne(o))}(s,n)}function Ql(s,n){var o={};return Le(s)?n.path&&n.path.length>0&&n.Qe.push(n.path):Ot(s,function(c,p){var w=Da(p,n.T_(c));null!=w&&(o[c]=w)}),{mapValue:{fields:o}}}function ec(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Bt||s instanceof mu||s instanceof er||s instanceof ql||s instanceof La)}function Xl(s,n,o){if(!ec(o)||!re(o)){var c=Ne(o);throw n.s_("an object"===c?s+" a custom object":s+" "+c)}}function _l(s,n,o){if(n instanceof Kl)return n.Zl;if("string"==typeof n)return Zl(s,n);throw bl("Field path arguments must be of type string or FieldPath.",s,!1,void 0,o)}function Zl(s,n,o){try{return function(p){if(p.search(Bc)>=0)throw new K(ie.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(vl.bind.apply(vl,y.__spreadArrays([void 0],p.split("."))))}catch{throw new K(ie.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(n).Zl}catch(p){throw bl((c=p)instanceof Error?c.message:c.toString(),s,!1,void 0,o)}var c}function bl(s,n,o,c,p){var w=c&&!c.m(),x=void 0!==p,G="Function "+n+"() called with invalid data";o&&(G+=" (via `toFirestore()`)");var he="";return(w||x)&&(he+=" (found",w&&(he+=" in field "+c),x&&(he+=" in document "+p),he+=")"),new K(ie.INVALID_ARGUMENT,(G+=". ")+s+he)}function gd(s,n){return s.some(function(o){return o.isEqual(n)})}var Uc=function(){function s(n){this.ju=n,this.g_=new Map,this.mutations=[],this.y_=!1,this.V_=null,this.p_=new Set}return s.prototype.b_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:if(this.v_(),this.mutations.length>0)throw new K(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(w,x){return y.__awaiter(this,void 0,void 0,function(){var G,he,je,gt,Kt,$t;return y.__generator(this,function(cn){switch(cn.label){case 0:return G=yt(w),he=ur(G.serializer)+"/documents",je={documents:x.map(function(Dn){return _e(G.serializer,Dn)})},[4,G.xu("BatchGetDocuments",he,je)];case 1:return gt=cn.sent(),Kt=new Map,gt.forEach(function(Dn){var Pr,Er,Vn=(Pr=G.serializer,"found"in(Er=Dn)?function(Wr,pi){Nt(!!pi.found);var Li=Xe(Wr,pi.found.name),Rr=ze(pi.found.updateTime),Io=new Vo({mapValue:{fields:pi.found.fields}});return new Qr(Li,Rr,Io,{})}(Pr,Er):"missing"in Er?function(Wr,pi){Nt(!!pi.missing),Nt(!!pi.readTime);var Li=Xe(Wr,pi.missing),Rr=ze(pi.readTime);return new Ui(Li,Rr)}(Pr,Er):ye());Kt.set(Vn.key.toString(),Vn)}),$t=[],[2,(x.forEach(function(Dn){var Vn=Kt.get(Dn.toString());Nt(!!Vn),$t.push(Vn)}),$t)]}})})}(this.ju,n)];case 1:return[2,((o=p.sent()).forEach(function(w){w instanceof Ui||w instanceof Qr?c.S_(w):ye()}),o)]}})})},s.prototype.set=function(n,o){this.write(o.d_(n,this.Ke(n))),this.p_.add(n.toString())},s.prototype.update=function(n,o){try{this.write(o.d_(n,this.D_(n)))}catch(c){this.V_=c}this.p_.add(n.toString())},s.prototype.delete=function(n){this.write([new hi(n,this.Ke(n))]),this.p_.add(n.toString())},s.prototype.commit=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){switch(c.label){case 0:if(this.v_(),this.V_)throw this.V_;return n=this.g_,this.mutations.forEach(function(p){n.delete(p.key.toString())}),n.forEach(function(p,w){var x=T.D(w);o.mutations.push(new Yi(x,o.Ke(x)))}),[4,function(p,w){return y.__awaiter(this,void 0,void 0,function(){var x,G,he;return y.__generator(this,function(je){switch(je.label){case 0:return x=yt(p),G=ur(x.serializer)+"/documents",he={writes:w.map(function(gt){return vr(x.serializer,gt)})},[4,x.$u("Commit",G,he)];case 1:return je.sent(),[2]}})})}(this.ju,this.mutations)];case 1:return c.sent(),this.y_=!0,[2]}})})},s.prototype.S_=function(n){var o;if(n instanceof Qr)o=n.version;else{if(!(n instanceof Ui))throw ye();o=Qt.min()}var c=this.g_.get(n.key.toString());if(c){if(!o.isEqual(c))throw new K(ie.ABORTED,"Document version changed between two reads.")}else this.g_.set(n.key.toString(),o)},s.prototype.Ke=function(n){var o=this.g_.get(n.toString());return!this.p_.has(n.toString())&&o?or.updateTime(o):or.Ge()},s.prototype.D_=function(n){var o=this.g_.get(n.toString());if(!this.p_.has(n.toString())&&o){if(o.isEqual(Qt.min()))throw new K(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(o)}return or.exists(!0)},s.prototype.write=function(n){this.v_(),this.mutations=this.mutations.concat(n)},s.prototype.v_=function(){},s}(),wl=function(){function s(n,o,c,p){this.os=n,this.ju=o,this.updateFunction=c,this.hs=p,this.C_=5,this.gs=new Cs(this.os,"transaction_retry")}return s.prototype.run=function(){this.N_()},s.prototype.N_=function(){var n=this;this.gs.Rn(function(){return y.__awaiter(n,void 0,void 0,function(){var o,c,p=this;return y.__generator(this,function(w){return o=new Uc(this.ju),(c=this.F_(o))&&c.then(function(x){p.os.ds(function(){return o.commit().then(function(){p.hs.resolve(x)}).catch(function(G){p.x_(G)})})}).catch(function(x){p.x_(x)}),[2]})})})},s.prototype.F_=function(n){try{var o=this.updateFunction(n);return!mn(o)&&o.catch&&o.then?o:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(c){return this.hs.reject(c),null}},s.prototype.x_=function(n){var o=this;this.C_>0&&this.k_(n)?(this.C_-=1,this.os.ds(function(){return o.N_(),Promise.resolve()})):this.hs.reject(n)},s.prototype.k_=function(n){if("FirebaseError"===n.name){var o=n.code;return"aborted"===o||"failed-precondition"===o||!xr(o)}return!1},s}(),vd=function(){function s(n,o){this.credentials=n,this.os=o,this.clientId=Ut.k(),this.M_=new fi}return s.prototype.start=function(n,o,c,p){var w=this;this.O_(),this.pl=n;var x=new fi,G=!1;return this.credentials.zc(function(he){if(!G)return G=!0,Fe("FirestoreClient","Initializing. user=",he.uid),w.L_(o,c,p,he,x).then(w.M_.resolve,w.M_.reject);w.os.Ds(function(){return function(je,gt){return y.__awaiter(this,void 0,void 0,function(){var Kt,$t;return y.__generator(this,function(cn){switch(cn.label){case 0:return(Kt=yt(je)).os.Fs(),Fe("RemoteStore","RemoteStore received new credentials"),$t=Ra(Kt),Kt.Hu.add(3),[4,ra(Kt)];case 1:return cn.sent(),$t&&Kt.Zu.set("Unknown"),[4,Kt.Ku.Yl(gt)];case 2:return cn.sent(),Kt.Hu.delete(3),[4,Es(Kt)];case 3:return cn.sent(),[2]}})})}(w.Vh,he)})}),this.os.ds(function(){return w.M_.promise}),x.promise},s.prototype.enableNetwork=function(){var n=this;return this.O_(),this.os.enqueue(function(){return n.persistence.Za(!0),(c=yt(n.Vh)).Hu.delete(0),Es(c);var c})},s.prototype.L_=function(n,o,c,p,w){return y.__awaiter(this,void 0,void 0,function(){var x,G,he=this;return y.__generator(this,function(je){switch(je.label){case 0:return je.trys.push([0,3,,4]),[4,n.initialize(x={os:this.os,pl:this.pl,clientId:this.clientId,credentials:this.credentials,Ql:p,Sh:100,persistenceSettings:c})];case 1:return je.sent(),[4,o.initialize(n,x)];case 2:return je.sent(),this.persistence=n.persistence,this.bh=n.bh,this.Wu=n.Wu,this.Bl=n.Bl,this.ju=o.ju,this.Vh=o.Vh,this._i=o._i,this.B_=o.ph,this.B_.qs=zl.bind(null,this._i),this.B_.Ws=Qs.bind(null,this._i),this.persistence.Xa(function(){return y.__awaiter(he,void 0,void 0,function(){return y.__generator(this,function(gt){switch(gt.label){case 0:return[4,this.terminate()];case 1:return gt.sent(),[2]}})})}),w.resolve(),[3,4];case 3:if(G=je.sent(),w.reject(G),!this.q_(G))throw G;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+G),this.L_(new Gl,new Sa,{Wl:!1},p,w))];case 4:return[2]}})})},s.prototype.q_=function(n){return"FirebaseError"===n.name?n.code===ie.FAILED_PRECONDITION||n.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code},s.prototype.O_=function(){if(this.os.Vs)throw new K(ie.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.disableNetwork=function(){var n=this;return this.O_(),this.os.enqueue(function(){return n.persistence.Za(!1),function(o){return y.__awaiter(this,void 0,void 0,function(){var c;return y.__generator(this,function(p){switch(p.label){case 0:return(c=yt(o)).Hu.add(0),[4,ra(c)];case 1:return p.sent(),c.Zu.set("Offline"),[2]}})})}(n.Vh)})},s.prototype.terminate=function(){var n=this;this.os.Ss();var o=new fi;return this.os.ps(function(){return y.__awaiter(n,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),this.Bl&&this.Bl.stop(),[4,dd(this.Vh)];case 1:return w.sent(),[4,this.bh.Si()];case 2:return w.sent(),[4,this.persistence.Si()];case 3:return w.sent(),this.credentials.Hc(),o.resolve(),[3,5];case 4:return c=w.sent(),p=sn(c,"Failed to shutdown persistence"),o.reject(p),[3,5];case 5:return[2]}})})}),o.promise},s.prototype.waitForPendingWrites=function(){var n=this;this.O_();var o=new fi;return this.os.ds(function(){return function(c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x,G,he,je;return y.__generator(this,function(gt){switch(gt.label){case 0:Ra((w=yt(c)).Vh)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),gt.label=1;case 1:return gt.trys.push([1,3,,4]),[4,(Kt=w.Wu,$t=yt(Kt),$t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(cn){return $t.vr.Bo(cn)}))];case 2:return-1===(x=gt.sent())?[2,void p.resolve()]:((G=w.Oh.get(x)||[]).push(p),w.Oh.set(x,G),[3,4]);case 3:return he=gt.sent(),je=sn(he,"Initialization of waitForPendingWrites() operation failed"),p.reject(je),[3,4];case 4:return[2]}var Kt,$t})})}(n._i,o)}),o.promise},s.prototype.listen=function(n,o,c){var p=this;this.O_();var w=new tl(c),x=new Zo(n,w,o);return this.os.ds(function(){return Xr(p.B_,x)}),function(){w.Xl(),p.os.ds(function(){return wo(p.B_,x)})}},s.prototype.U_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return p.sent(),o=new fi,[2,(this.os.ds(function(){return function(w,x,G){return y.__awaiter(this,void 0,void 0,function(){var he,je,gt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:return Kt.trys.push([0,2,,3]),[4,($t=w,cn=x,Dn=yt($t),Dn.persistence.runTransaction("read document","readonly",function(Vn){return Dn.Dc.Dr(Vn,cn)}))];case 1:return(he=Kt.sent())instanceof Qr?G.resolve(he):he instanceof Ui?G.resolve(null):G.reject(new K(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return je=Kt.sent(),gt=sn(je,"Failed to get document '"+x+" from cache"),G.reject(gt),[3,3];case 3:return[2]}var $t,cn,Dn})})}(c.Wu,n,o)}),o.promise)]}})})},s.prototype.Q_=function(n,o){return void 0===o&&(o={}),y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return w.sent(),c=new fi,[2,(this.os.ds(function(){return x=p.B_,G=p.os,he=n,je=o,gt=c,Kt=new tl({next:function(cn){G.ds(function(){return wo(x,$t)});var Dn=cn.docs.has(he);!Dn&&cn.fromCache?gt.reject(new K(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):Dn&&cn.fromCache&&je&&"server"===je.source?gt.reject(new K(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):gt.resolve(cn)},error:function(cn){return gt.reject(cn)}}),$t=new Zo(Vi(he.path),Kt,{includeMetadataChanges:!0,Js:!0}),Xr(x,$t);var x,G,he,je,gt,Kt,$t}),c.promise)]}})})},s.prototype.W_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return p.sent(),o=new fi,[2,(this.os.ds(function(){return function(w,x,G){return y.__awaiter(this,void 0,void 0,function(){var he,je,gt,Kt,$t,cn;return y.__generator(this,function(Dn){switch(Dn.label){case 0:return Dn.trys.push([0,2,,3]),[4,wi(w,x,!0)];case 1:return he=Dn.sent(),je=new fd(x,he.Nc),gt=je.dh(he.documents),Kt=je.gr(gt,!1),G.resolve(Kt.snapshot),[3,3];case 2:return $t=Dn.sent(),cn=sn($t,"Failed to execute query '"+x+" against cache"),G.reject(cn),[3,3];case 3:return[2]}})})}(c.Wu,n,o)}),o.promise)]}})})},s.prototype.j_=function(n,o){return void 0===o&&(o={}),y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return w.sent(),c=new fi,[2,(this.os.ds(function(){return x=p.B_,G=p.os,he=n,je=o,gt=c,Kt=new tl({next:function(cn){G.ds(function(){return wo(x,$t)}),cn.fromCache&&"server"===je.source?gt.reject(new K(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):gt.resolve(cn)},error:function(cn){return gt.reject(cn)}}),$t=new Zo(he,Kt,{includeMetadataChanges:!0,Js:!0}),Xr(x,$t);var x,G,he,je,gt,Kt,$t}),c.promise)]}})})},s.prototype.write=function(n){var o=this;this.O_();var c=new fi;return this.os.ds(function(){return function(p,w,x){return y.__awaiter(this,void 0,void 0,function(){var G,he,je,gt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:G=Ja(p),Kt.label=1;case 1:return Kt.trys.push([1,5,,6]),[4,($t=G.Wu,cn=w,Vn=yt($t),Pr=Bt.now(),Er=cn.reduce(function(Wr,pi){return Wr.add(pi.key)},qt()),Vn.persistence.runTransaction("Locally write mutations","readwrite",function(Wr){return Vn.Dc.$r(Wr,Er).next(function(pi){Dn=pi;for(var Li=[],Rr=0,Io=cn;Rr<Io.length;Rr++){var oa=Io[Rr],Va=Ri(oa,Dn.get(oa.key));null!=Va&&Li.push(new Ur(oa.key,Va,Fs(Va.proto.mapValue),or.exists(!0)))}return Vn.vr.xo(Wr,Pr,Li,cn)})}).then(function(Wr){var pi=Wr.hr(Dn);return{batchId:Wr.batchId,dr:pi}}))];case 2:return he=Kt.sent(),G.bh.Fi(he.batchId),function($t,cn,Dn){var Vn=$t.Mh[$t.currentUser.Zs()];Vn||(Vn=new Pt(Xt)),Vn=Vn.rt(cn,Dn),$t.Mh[$t.currentUser.Zs()]=Vn}(G,he.batchId,x),[4,pa(G,he.dr)];case 3:return Kt.sent(),[4,Us(G.Vh)];case 4:return Kt.sent(),[3,6];case 5:return je=Kt.sent(),gt=sn(je,"Failed to persist write"),x.reject(gt),[3,6];case 6:return[2]}var $t,cn,Dn,Vn,Pr,Er})})}(o._i,n,c)}),c.promise},s.prototype.U=function(){return this.pl.U},s.prototype.K_=function(n){var o=this;this.O_();var c=new tl(n);return this.os.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return[2,(w=this.B_,x=c,yt(w).Bs.add(x),void x.next())];var w,x})})}),function(){c.Xl(),o.os.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return[2,(w=this.B_,x=c,void yt(w).Bs.delete(x))];var w,x})})})}},Object.defineProperty(s.prototype,"G_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),s.prototype.transaction=function(n){var o=this;this.O_();var c=new fi;return this.os.ds(function(){return new wl(o.os,o.ju,n,c).run(),Promise.resolve()}),c.promise},s}();function yu(s){return function(n,o){if("object"!=typeof n||null===n)return!1;for(var c=n,p=0,w=["next","error","complete"];p<w.length;p++){var x=w[p];if(x in c&&"function"==typeof c[x])return!0}return!1}(s)}var Vc=function(){function s(n,o,c,p,w){this.U=n,this.timestampsInSnapshots=o,this.z_=c,this.H_=p,this.Y_=w}return s.prototype.J_=function(n){switch(mt(n)){case 0:return null;case 1:return n.booleanValue;case 2:return sr(n.integerValue||n.doubleValue);case 3:return this.X_(n.timestampValue);case 4:return this.Z_(n);case 5:return n.stringValue;case 6:return this.Y_(fr(n.bytesValue));case 7:return this.tf(n.referenceValue);case 8:return this.ef(n.geoPointValue);case 9:return this.nf(n.arrayValue);case 10:return this.sf(n.mapValue);default:throw ye()}},s.prototype.sf=function(n){var o=this,c={};return Ot(n.fields||{},function(p,w){c[p]=o.J_(w)}),c},s.prototype.ef=function(n){return new mu(sr(n.latitude),sr(n.longitude))},s.prototype.nf=function(n){var o=this;return(n.values||[]).map(function(c){return o.J_(c)})},s.prototype.Z_=function(n){switch(this.z_){case"previous":var o=q(n);return null==o?null:this.J_(o);case"estimate":return this.X_(be(n));default:return null}},s.prototype.X_=function(n){var o=dn(n),c=new Bt(o.seconds,o.nanos);return this.timestampsInSnapshots?c:c.toDate()},s.prototype.tf=function(n){var o=tt.P(n);Nt(Ns(o));var c=new Oe(o.get(1),o.get(3)),p=new T(o.u(5));return c.isEqual(this.U)||bt("Document "+p+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.H_(p)},s}(),Vs=et.uo,El=function(){function s(n){var o,c,p,w;if(void 0===n.host){if(void 0!==n.ssl)throw new K(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else He("settings","non-empty string","host",n.host),this.host=n.host,ct("settings","boolean","ssl",n.ssl),this.ssl=null===(o=n.ssl)||void 0===o||o;if(ht("settings",n,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),ct("settings","object","credentials",n.credentials),this.credentials=n.credentials,ct("settings","boolean","timestampsInSnapshots",n.timestampsInSnapshots),ct("settings","boolean","ignoreUndefinedProperties",n.ignoreUndefinedProperties),!0===n.timestampsInSnapshots?bt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===n.timestampsInSnapshots&&bt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(c=n.timestampsInSnapshots)||void 0===c||c,this.ignoreUndefinedProperties=null!==(p=n.ignoreUndefinedProperties)&&void 0!==p&&p,ct("settings","number","cacheSizeBytes",n.cacheSizeBytes),void 0===n.cacheSizeBytes)this.cacheSizeBytes=et.lo;else{if(n.cacheSizeBytes!==Vs&&n.cacheSizeBytes<et.ho)throw new K(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+et.ho);this.cacheSizeBytes=n.cacheSizeBytes}ct("settings","boolean","experimentalForceLongPolling",n.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(w=n.experimentalForceLongPolling)&&void 0!==w&&w}return s.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.timestampsInSnapshots===n.timestampsInSnapshots&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties},s}(),_u=function(){function s(n,o,c,p){var w=this;if(void 0===c&&(c=new Gl),void 0===p&&(p=new Sa),this.if=c,this.rf=p,this.af=null,this.cf=new Gt,this.INTERNAL={delete:function(){return y.__awaiter(w,void 0,void 0,function(){return y.__generator(this,function(he){switch(he.label){case 0:return this.uf(),[4,this.hf.terminate()];case 1:return he.sent(),[2]}})})}},"object"==typeof n.options){var x=n;this.af=x,this.l_=s.lf(x),this._f=x.name,this.ff=new Nu(o)}else{var G=n;if(!G.projectId)throw new K(ie.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Oe(G.projectId,G.database),this._f="[DEFAULT]",this.ff=new Ma}this.df=new El({})}return Object.defineProperty(s.prototype,"wf",{get:function(){return this.mf||(this.mf=new Zu(this.l_,this.df.ignoreUndefinedProperties)),this.mf},enumerable:!1,configurable:!0}),s.prototype.settings=function(n){J("Firestore.settings",arguments,1),Ke("Firestore.settings","object",1,n),n.merge&&delete(n=Object.assign(Object.assign({},this.df),n)).merge;var o=new El(n);if(this.hf&&!this.df.isEqual(o))throw new K(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.df=o,void 0!==o.credentials&&(this.ff=function(c){if(!c)return new Ma;switch(c.type){case"gapi":var p=c.client;return Nt(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new iu(p,c.sessionIndex||"0");case"provider":return c.client;default:throw new K(ie.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(o.credentials))},s.prototype.enableNetwork=function(){return this.uf(),this.hf.enableNetwork()},s.prototype.disableNetwork=function(){return this.uf(),this.hf.disableNetwork()},s.prototype.enablePersistence=function(n){var o,c;if(this.hf)throw new K(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var p=!1,w=!1;if(n&&(void 0!==n.experimentalTabSynchronization&&bt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),p=null!==(c=null!==(o=n.synchronizeTabs)&&void 0!==o?o:n.experimentalTabSynchronization)&&void 0!==c&&c,w=!!n.experimentalForceOwningTab&&n.experimentalForceOwningTab,p&&w))throw new K(ie.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Tf(this.if,this.rf,{Wl:!0,cacheSizeBytes:this.df.cacheSizeBytes,synchronizeTabs:p,xa:w})},s.prototype.clearPersistence=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){if(void 0!==this.hf&&!this.hf.G_)throw new K(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return n=new fi,[2,(this.cf.ps(function(){return y.__awaiter(o,void 0,void 0,function(){var p;return y.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,this.if.clearPersistence(this.l_,this._f)];case 1:return w.sent(),n.resolve(),[3,3];case 2:return p=w.sent(),n.reject(p),[3,3];case 3:return[2]}})})}),n.promise)]})})},s.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(s.prototype,"Ef",{get:function(){return this.uf(),this.hf.G_},enumerable:!1,configurable:!0}),s.prototype.waitForPendingWrites=function(){return this.uf(),this.hf.waitForPendingWrites()},s.prototype.onSnapshotsInSync=function(n){return this.uf(),yu(n)?this.hf.K_(n):(Ke("Firestore.onSnapshotsInSync","function",1,n),this.hf.K_({next:n}))},s.prototype.uf=function(){return this.hf||this.Tf(new Gl,new Sa,{Wl:!1}),this.hf},s.prototype.If=function(){return new pn(this.l_,this._f,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling)},s.prototype.Tf=function(n,o,c){var p=this.If();return this.hf=new vd(this.ff,this.cf),this.hf.start(p,n,o,c)},s.lf=function(n){if(!Object.prototype.hasOwnProperty.call(n.options,"projectId"))throw new K(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var c=n.options.projectId;if(!c||"string"!=typeof c)throw new K(ie.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Oe(c)},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.af)throw new K(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.af},enumerable:!1,configurable:!0}),s.prototype.collection=function(n){return J("Firestore.collection",arguments,1),Ke("Firestore.collection","non-empty string",1,n),this.uf(),new tc(tt.P(n),this,null)},s.prototype.doc=function(n){return J("Firestore.doc",arguments,1),Ke("Firestore.doc","non-empty string",1,n),this.uf(),Ba.Af(tt.P(n),this,null)},s.prototype.collectionGroup=function(n){if(J("Firestore.collectionGroup",arguments,1),Ke("Firestore.collectionGroup","non-empty string",1,n),n.indexOf("/")>=0)throw new K(ie.INVALID_ARGUMENT,"Invalid collection ID '"+n+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new Eu((o=n,new Xi(tt.g(),o)),this,null);var o},s.prototype.runTransaction=function(n){var o=this;return J("Firestore.runTransaction",arguments,1),Ke("Firestore.runTransaction","function",1,n),this.uf().transaction(function(c){return n(new Sl(o,c))})},s.prototype.batch=function(){return this.uf(),new yd(this)},Object.defineProperty(s,"logLevel",{get:function(){switch(Se()){case j.LogLevel.DEBUG:return"debug";case j.LogLevel.ERROR:return"error";case j.LogLevel.SILENT:return"silent";case j.LogLevel.WARN:return"warn";case j.LogLevel.INFO:return"info";case j.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),s.setLogLevel=function(n){J("Firestore.setLogLevel",arguments,1),ee("setLogLevel",["debug","error","silent","warn","info","verbose"],1,n),Ae.setLogLevel(n)},s.prototype.Rf=function(){return this.df.timestampsInSnapshots},s.prototype.Pf=function(){return this.df},s}(),Sl=function(){function s(n,o){this.gf=n,this.yf=o}return s.prototype.get=function(n){var o=this;J("Transaction.get",arguments,1);var c=Ya("Transaction.get",n,this.gf);return this.yf.b_([c.__]).then(function(p){if(!p||1!==p.length)return ye();var w=p[0];if(w instanceof Ui)return new Tl(o.gf,c.__,null,!1,!1,c.f_);if(w instanceof Qr)return new Tl(o.gf,c.__,w,!1,!1,c.f_);throw ye()})},s.prototype.set=function(n,o,c){ge("Transaction.set",arguments,2,3);var p=Ya("Transaction.set",n,this.gf);c=Wc("Transaction.set",c);var w=il(p.f_,o,c),x=Xs(this.gf.wf,"Transaction.set",p.__,w,null!==p.f_,c);return this.yf.set(p.__,x),this},s.prototype.update=function(n,o,c){for(var p,w,x=[],G=3;G<arguments.length;G++)x[G-3]=arguments[G];return"string"==typeof o||o instanceof vl?(R("Transaction.update",arguments,3),p=Ya("Transaction.update",n,this.gf),w=vu(this.gf.wf,"Transaction.update",p.__,o,c,x)):(J("Transaction.update",arguments,2),p=Ya("Transaction.update",n,this.gf),w=Ju(this.gf.wf,"Transaction.update",p.__,o)),this.yf.update(p.__,w),this},s.prototype.delete=function(n){J("Transaction.delete",arguments,1);var o=Ya("Transaction.delete",n,this.gf);return this.yf.delete(o.__),this},s}(),yd=function(){function s(n){this.gf=n,this.Vf=[],this.pf=!1}return s.prototype.set=function(n,o,c){ge("WriteBatch.set",arguments,2,3),this.bf();var p=Ya("WriteBatch.set",n,this.gf);c=Wc("WriteBatch.set",c);var w=il(p.f_,o,c),x=Xs(this.gf.wf,"WriteBatch.set",p.__,w,null!==p.f_,c);return this.Vf=this.Vf.concat(x.d_(p.__,or.Ge())),this},s.prototype.update=function(n,o,c){for(var p,w,x=[],G=3;G<arguments.length;G++)x[G-3]=arguments[G];return this.bf(),"string"==typeof o||o instanceof vl?(R("WriteBatch.update",arguments,3),p=Ya("WriteBatch.update",n,this.gf),w=vu(this.gf.wf,"WriteBatch.update",p.__,o,c,x)):(J("WriteBatch.update",arguments,2),p=Ya("WriteBatch.update",n,this.gf),w=Ju(this.gf.wf,"WriteBatch.update",p.__,o)),this.Vf=this.Vf.concat(w.d_(p.__,or.exists(!0))),this},s.prototype.delete=function(n){J("WriteBatch.delete",arguments,1),this.bf();var o=Ya("WriteBatch.delete",n,this.gf);return this.Vf=this.Vf.concat(new hi(o.__,or.Ge())),this},s.prototype.commit=function(){return this.bf(),this.pf=!0,this.Vf.length>0?this.gf.uf().write(this.Vf):Promise.resolve()},s.prototype.bf=function(){if(this.pf)throw new K(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}(),Ba=function(s){function n(o,c,p){var w=this;return(w=s.call(this,c.l_,o,p)||this).__=o,w.firestore=c,w.f_=p,w.hf=w.firestore.uf(),w}return y.__extends(n,s),n.Af=function(o,c,p){if(o.length%2!=0)throw new K(ie.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o.R()+" has "+o.length);return new n(new T(o),c,p)},Object.defineProperty(n.prototype,"id",{get:function(){return this.__.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new tc(this.__.path.h(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.__.path.R()},enumerable:!1,configurable:!0}),n.prototype.collection=function(o){if(J("DocumentReference.collection",arguments,1),Ke("DocumentReference.collection","non-empty string",1,o),!o)throw new K(ie.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var c=tt.P(o);return new tc(this.__.path.child(c),this.firestore,null)},n.prototype.isEqual=function(o){if(!(o instanceof n))throw Et("isEqual","DocumentReference",1,o);return this.firestore===o.firestore&&this.__.isEqual(o.__)&&this.f_===o.f_},n.prototype.set=function(o,c){ge("DocumentReference.set",arguments,1,2),c=Wc("DocumentReference.set",c);var p=il(this.f_,o,c),w=Xs(this.firestore.wf,"DocumentReference.set",this.__,p,null!==this.f_,c);return this.hf.write(w.d_(this.__,or.Ge()))},n.prototype.update=function(o,c){for(var p,w=[],x=2;x<arguments.length;x++)w[x-2]=arguments[x];return"string"==typeof o||o instanceof vl?(R("DocumentReference.update",arguments,2),p=vu(this.firestore.wf,"DocumentReference.update",this.__,o,c,w)):(J("DocumentReference.update",arguments,1),p=Ju(this.firestore.wf,"DocumentReference.update",this.__,o)),this.hf.write(p.d_(this.__,or.exists(!0)))},n.prototype.delete=function(){return J("DocumentReference.delete",arguments,0),this.hf.write([new hi(this.__,or.Ge())])},n.prototype.onSnapshot=function(){for(var o,c,p,w=this,x=[],G=0;G<arguments.length;G++)x[G]=arguments[G];ge("DocumentReference.onSnapshot",arguments,1,4);var he={includeMetadataChanges:!1},je=0;"object"!=typeof x[je]||yu(x[je])||(ht("DocumentReference.onSnapshot",he=x[je],["includeMetadataChanges"]),ct("DocumentReference.onSnapshot","boolean","includeMetadataChanges",he.includeMetadataChanges),je++);var gt={includeMetadataChanges:he.includeMetadataChanges};if(yu(x[je])){var Kt=x[je];x[je]=null===(o=Kt.next)||void 0===o?void 0:o.bind(Kt),x[je+1]=null===(c=Kt.error)||void 0===c?void 0:c.bind(Kt),x[je+2]=null===(p=Kt.complete)||void 0===p?void 0:p.bind(Kt)}else Ke("DocumentReference.onSnapshot","function",je,x[je]),Tn("DocumentReference.onSnapshot","function",je+1,x[je+1]),Tn("DocumentReference.onSnapshot","function",je+2,x[je+2]);var $t={next:function(cn){x[je]&&x[je](w.vf(cn))},error:x[je+1],complete:x[je+2]};return this.hf.listen(Vi(this.__.path),gt,$t)},n.prototype.get=function(o){var c=this;ge("DocumentReference.get",arguments,0,1),bd("DocumentReference.get",o);var p=this.firestore.uf();return o&&"cache"===o.source?p.U_(this.__).then(function(w){return new Tl(c.firestore,c.__,w,!0,w instanceof Qr&&w.Ye,c.f_)}):p.Q_(this.__,o).then(function(w){return c.vf(w)})},n.prototype.withConverter=function(o){return new n(this.__,this.firestore,o)},n.prototype.vf=function(o){var c=o.docs.get(this.__);return new Tl(this.firestore,this.__,c,o.fromCache,o.hasPendingWrites,this.f_)},n}(ql),uh=function(){function s(n,o){this.hasPendingWrites=n,this.fromCache=o}return s.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},s}(),Tl=function(){function s(n,o,c,p,w,x){this.gf=n,this.__=o,this.Sf=c,this.Df=p,this.Cf=w,this.f_=x}return s.prototype.data=function(n){var o=this;if(ge("DocumentSnapshot.data",arguments,0,1),n=_d("DocumentSnapshot.data",n),this.Sf){if(this.f_){var c=new Dl(this.gf,this.__,this.Sf,this.Df,this.Cf,null);return this.f_.fromFirestore(c,n)}return new Vc(this.gf.l_,this.gf.Rf(),n.serverTimestamps||"none",function(p){return new Ba(p,o.gf,null)},function(p){return new Dr(p)}).J_(this.Sf.sn())}},s.prototype.get=function(n,o){var c=this;if(ge("DocumentSnapshot.get",arguments,1,2),o=_d("DocumentSnapshot.get",o),this.Sf){var p=this.Sf.data().field(_l("DocumentSnapshot.get",n,this.__));if(null!==p)return new Vc(this.gf.l_,this.gf.Rf(),o.serverTimestamps||"none",function(w){return new Ba(w,c.gf,c.f_)},function(w){return new Dr(w)}).J_(p)}},Object.defineProperty(s.prototype,"id",{get:function(){return this.__.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new Ba(this.__,this.gf,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return null!==this.Sf},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return new uh(this.Cf,this.Df)},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","DocumentSnapshot",1,n);return this.gf===n.gf&&this.Df===n.Df&&this.__.isEqual(n.__)&&(null===this.Sf?null===n.Sf:this.Sf.isEqual(n.Sf))&&this.f_===n.f_},s}(),Dl=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.data=function(o){return s.prototype.data.call(this,o)},n}(Tl);function Cl(s,n,o){if("string"==typeof o){if(""===o)throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!os(n)&&-1!==o.indexOf("/"))throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var c=n.path.child(tt.P(o));if(!T.F(c))throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");return ai(s,new T(c))}if(o instanceof ql)return ai(s,o.__);throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ne(o)+".")}function Jl(s,n){if(!Array.isArray(s)||0===s.length)throw new K(ie.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(s.length>10)throw new K(ie.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===n||"array-contains-any"===n){if(s.indexOf(null)>=0)throw new K(ie.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'null' in the value array.");if(s.filter(function(o){return Number.isNaN(o)}).length>0)throw new K(ie.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'NaN' in the value array.")}}function bu(s,n,o){if(!o.isEqual(n))throw new K(ie.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}function wu(s){if(_o(s)&&0===s.rn.length)throw new K(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Eu=function(){function s(n,o,c){this.Nf=n,this.firestore=o,this.f_=c}return s.prototype.where=function(n,o,c){J("Query.where",arguments,3),Ue("Query.where",3,c);var G,je,p=ee("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,o),w=_l("Query.where",n),x=function Hc(s,n,o,c,p,w,x){var G;if(p.p()){if("array-contains"===w||"array-contains-any"===w)throw new K(ie.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+w+"' queries on FieldPath.documentId().");if("in"===w||"not-in"===w){Jl(x,w);for(var he=[],je=0,gt=x;je<gt.length;je++)he.push(Cl(c,s,gt[je]));G={arrayValue:{values:he}}}else G=Cl(c,s,x)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Jl(x,w),G=Yc(o,n,x,"in"===w||"not-in"===w);var $t=Di.create(p,w,G);return function(cn,Dn){if(Dn.un()){var Vn=Ls(cn);if(null!==Vn&&!Vn.isEqual(Dn.field))throw new K(ie.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Vn.toString()+"' and '"+Dn.field.toString()+"'");var Pr=hs(cn);null!==Pr&&bu(0,Dn.field,Pr)}var Er=function(Wr,pi){for(var Li=0,Rr=Wr.filters;Li<Rr.length;Li++){var Io=Rr[Li];if(pi.indexOf(Io.op)>=0)return Io.op}return null}(cn,function(Wr){switch(Wr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dn.op));if(null!==Er)throw new K(ie.INVALID_ARGUMENT,Er===Dn.op?"Invalid query. You cannot use more than one '"+Dn.op.toString()+"' filter.":"Invalid query. You cannot use '"+Dn.op.toString()+"' filters with '"+Er.toString()+"' filters.")}(s,$t),$t}(this.Nf,"Query.where",this.firestore.wf,this.firestore.l_,w,p,c);return new s((je=(G=this.Nf).filters.concat([x]),new Xi(G.path,G.collectionGroup,G.rn.slice(),je,G.limit,G.on,G.startAt,G.endAt)),this.firestore,this.f_)},s.prototype.orderBy=function(n,o){var c;if(ge("Query.orderBy",arguments,1,2),Tn("Query.orderBy","non-empty string",2,o),void 0===o||"asc"===o)c="asc";else{if("desc"!==o)throw new K(ie.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+o+"', expected 'asc' or 'desc'.");c="desc"}var x,he,p=_l("Query.orderBy",n),w=function zc(s,n,o){if(null!==s.startAt)throw new K(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new K(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Bo(n,o);return function(p,w){if(null===hs(p)){var x=Ls(p);null!==x&&bu(0,x,w.field)}}(s,c),c}(this.Nf,p,c);return new s((he=(x=this.Nf).rn.concat([w]),new Xi(x.path,x.collectionGroup,he,x.filters.slice(),x.limit,x.on,x.startAt,x.endAt)),this.firestore,this.f_)},s.prototype.limit=function(n){return J("Query.limit",arguments,1),Ke("Query.limit","number",1,n),gn("Query.limit",1,n),new s(es(this.Nf,n,"F"),this.firestore,this.f_)},s.prototype.limitToLast=function(n){return J("Query.limitToLast",arguments,1),Ke("Query.limitToLast","number",1,n),gn("Query.limitToLast",1,n),new s(es(this.Nf,n,"L"),this.firestore,this.f_)},s.prototype.startAt=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];R("Query.startAt",arguments,1);var p=this.Ff("Query.startAt",n,o,!0);return new s(Ks(this.Nf,p),this.firestore,this.f_)},s.prototype.startAfter=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];R("Query.startAfter",arguments,1);var p=this.Ff("Query.startAfter",n,o,!1);return new s(Ks(this.Nf,p),this.firestore,this.f_)},s.prototype.endBefore=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];R("Query.endBefore",arguments,1);var p=this.Ff("Query.endBefore",n,o,!0);return new s(Pn(this.Nf,p),this.firestore,this.f_)},s.prototype.endAt=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];R("Query.endAt",arguments,1);var p=this.Ff("Query.endAt",n,o,!1);return new s(Pn(this.Nf,p),this.firestore,this.f_)},s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","Query",1,n);return this.firestore===n.firestore&&Vr(this.Nf,n.Nf)&&this.f_===n.f_},s.prototype.withConverter=function(n){return new s(this.Nf,this.firestore,n)},s.prototype.Ff=function(n,o,c,p){if(Ue(n,1,o),o instanceof Tl)return J(n,y.__spreadArrays([o],c),1),function(x,G,he,je,gt){if(!je)throw new K(ie.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+he+"().");for(var Kt=[],$t=0,cn=To(x);$t<cn.length;$t++){var Dn=cn[$t];if(Dn.field.p())Kt.push(ai(G,je.key));else{var Vn=je.field(Dn.field);if(ke(Vn))throw new K(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Dn.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Vn){var Pr=Dn.field.R();throw new K(ie.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Pr+"' (used as the orderBy) does not exist.")}Kt.push(Vn)}}return new xo(Kt,gt)}(this.Nf,this.firestore.l_,n,o.Sf,p);var w=[o].concat(c);return function(x,G,he,je,gt,Kt){var $t=x.rn;if(gt.length>$t.length)throw new K(ie.INVALID_ARGUMENT,"Too many arguments provided to "+je+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var cn=[],Dn=0;Dn<gt.length;Dn++){var Vn=gt[Dn];if($t[Dn].field.p()){if("string"!=typeof Vn)throw new K(ie.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+je+"(), but got a "+typeof Vn);if(!os(x)&&-1!==Vn.indexOf("/"))throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+je+"() must be a plain document ID, but '"+Vn+"' contains a slash.");var Pr=x.path.child(tt.P(Vn));if(!T.F(Pr))throw new K(ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+je+"() must result in a valid document path, but '"+Pr+"' is not because it contains an odd number of segments.");var Er=new T(Pr);cn.push(ai(G,Er))}else{var Wr=Yc(he,je,Vn);cn.push(Wr)}}return new xo(cn,Kt)}(this.Nf,this.firestore.l_,this.firestore.wf,n,w,p)},s.prototype.onSnapshot=function(){for(var n,o,c,p=this,w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];ge("Query.onSnapshot",arguments,1,4);var G={},he=0;if("object"!=typeof w[he]||yu(w[he])||(ht("Query.onSnapshot",G=w[he],["includeMetadataChanges"]),ct("Query.onSnapshot","boolean","includeMetadataChanges",G.includeMetadataChanges),he++),yu(w[he])){var je=w[he];w[he]=null===(n=je.next)||void 0===n?void 0:n.bind(je),w[he+1]=null===(o=je.error)||void 0===o?void 0:o.bind(je),w[he+2]=null===(c=je.complete)||void 0===c?void 0:c.bind(je)}else Ke("Query.onSnapshot","function",he,w[he]),Tn("Query.onSnapshot","function",he+1,w[he+1]),Tn("Query.onSnapshot","function",he+2,w[he+2]);var gt={next:function(Kt){w[he]&&w[he](new ja(p.firestore,p.Nf,Kt,p.f_))},error:w[he+1],complete:w[he+2]};return wu(this.Nf),this.firestore.uf().listen(this.Nf,G,gt)},s.prototype.get=function(n){var o=this;ge("Query.get",arguments,0,1),bd("Query.get",n),wu(this.Nf);var c=this.firestore.uf();return(n&&"cache"===n.source?c.W_(this.Nf):c.j_(this.Nf,n)).then(function(p){return new ja(o.firestore,o.Nf,p,o.f_)})},s}(),ja=function(){function s(n,o,c,p){this.gf=n,this.$f=o,this.xf=c,this.f_=p,this.kf=null,this.Mf=null,this.metadata=new uh(c.hasPendingWrites,c.fromCache)}return Object.defineProperty(s.prototype,"docs",{get:function(){var n=[];return this.forEach(function(o){return n.push(o)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this.xf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.xf.docs.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(n,o){var c=this;ge("QuerySnapshot.forEach",arguments,1,2),Ke("QuerySnapshot.forEach","function",1,n),this.xf.docs.forEach(function(p){n.call(o,c.Of(p,c.metadata.fromCache,c.xf.Qt.has(p.key)))})},Object.defineProperty(s.prototype,"query",{get:function(){return new Eu(this.$f,this.gf,this.f_)},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(n){n&&(ht("QuerySnapshot.docChanges",n,["includeMetadataChanges"]),ct("QuerySnapshot.docChanges","boolean","includeMetadataChanges",n.includeMetadataChanges));var o=!(!n||!n.includeMetadataChanges);if(o&&this.xf.jt)throw new K(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.kf&&this.Mf===o||(this.kf=function(c,p,w){if(c.Ut.m()){var x=0;return c.docChanges.map(function(he){return{type:"added",doc:w(he.doc,c.fromCache,c.Qt.has(he.doc.key)),oldIndex:-1,newIndex:x++}})}var G=c.Ut;return c.docChanges.filter(function(he){return p||3!==he.type}).map(function(he){var je=w(he.doc,c.fromCache,c.Qt.has(he.doc.key)),gt=-1,Kt=-1;return 0!==he.type&&(gt=G.indexOf(he.doc.key),G=G.delete(he.doc.key)),1!==he.type&&(Kt=(G=G.add(he.doc)).indexOf(he.doc.key)),{type:Ua(he.type),doc:je,oldIndex:gt,newIndex:Kt}})}(this.xf,o,this.Of.bind(this)),this.Mf=o),this.kf},s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","QuerySnapshot",1,n);return this.gf===n.gf&&Vr(this.$f,n.$f)&&this.xf.isEqual(n.xf)&&this.f_===n.f_},s.prototype.Of=function(n,o,c){return new Dl(this.gf,n.key,n,o,c,this.f_)},s}(),tc=function(s){function n(o,c,p){var w=this;if((w=s.call(this,Vi(o),c,p)||this).Lf=o,o.length%2!=1)throw new K(ie.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o.R()+" has "+o.length);return w}return y.__extends(n,s),Object.defineProperty(n.prototype,"id",{get:function(){return this.Nf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var o=this.Nf.path.h();return o.m()?null:new Ba(new T(o),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.Nf.path.R()},enumerable:!1,configurable:!0}),n.prototype.doc=function(o){ge("CollectionReference.doc",arguments,0,1),0===arguments.length&&(o=Ut.k()),Ke("CollectionReference.doc","non-empty string",1,o);var c=tt.P(o);return Ba.Af(this.Nf.path.child(c),this.firestore,this.f_)},n.prototype.add=function(o){J("CollectionReference.add",arguments,1);var c=this.f_?this.f_.toFirestore(o):o;Ke("CollectionReference.add","object",1,c);var p=this.doc();return new Ba(p.__,this.firestore,null).set(c).then(function(){return p})},n.prototype.withConverter=function(o){return new n(this.Lf,this.firestore,o)},n}(Eu);function Wc(s,n){if(void 0===n)return{merge:!1};if(ht(s,n,["merge","mergeFields"]),ct(s,"boolean","merge",n.merge),void 0!==(w=n.mergeFields)&&function(G,he,je,gt,Kt){if(!(gt instanceof Array))throw new K(ie.INVALID_ARGUMENT,"Function "+G+"() requires its "+he+" option to be an array, but it was: "+Ne(gt));for(var $t=0;$t<gt.length;++$t)if(!Kt(gt[$t]))throw new K(ie.INVALID_ARGUMENT,"Function "+G+"() requires all "+he+" elements to be a string or a FieldPath, but the value at index "+$t+" was: "+Ne(gt[$t]))}(s,"mergeFields",0,w,function(o){return"string"==typeof o||o instanceof vl}),void 0!==n.mergeFields&&void 0!==n.merge)throw new K(ie.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');var w;return n}function _d(s,n){return void 0===n?{}:(ht(s,n,["serverTimestamps"]),at(s,0,"serverTimestamps",n.serverTimestamps,["estimate","previous","none"]),n)}function bd(s,n){Tn(s,"object",1,n),n&&(ht(s,n,["source"]),at(s,0,"source",n.source,["default","server","cache"]))}function Ya(s,n,o){if(n instanceof ql){if(n.firestore!==o)throw new K(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}throw Et(s,"DocumentReference",1,n)}function Ua(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function il(s,n,o){return s?o&&(o.merge||o.mergeFields)?s.toFirestore(n,o):s.toFirestore(n):n}var ch=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.serverTimestamp=function(){W("FieldValue.serverTimestamp",arguments);var o=new yl("serverTimestamp");return o.t_="FieldValue.serverTimestamp",new n(o)},n.delete=function(){W("FieldValue.delete",arguments);var o=new nl("deleteField");return o.t_="FieldValue.delete",new n(o)},n.arrayUnion=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];R("FieldValue.arrayUnion",arguments,1);var p=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];return R("arrayUnion()",arguments,1),new md("arrayUnion",w)}.apply(void 0,o);return p.t_="FieldValue.arrayUnion",new n(p)},n.arrayRemove=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];R("FieldValue.arrayRemove",arguments,1);var p=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];return R("arrayRemove()",arguments,1),new Qu("arrayRemove",w)}.apply(void 0,o);return p.t_="FieldValue.arrayRemove",new n(p)},n.increment=function(o){Ke("FieldValue.increment","number",1,o),J("FieldValue.increment",arguments,1);var c=new Xu("increment",o);return c.t_="FieldValue.increment",new n(c)},n.prototype.isEqual=function(o){return this.h_.isEqual(o.h_)},n}(Ta),dh={Firestore:_u,GeoPoint:mu,Timestamp:Bt,Blob:Dr,Transaction:Sl,WriteBatch:yd,DocumentReference:Ba,DocumentSnapshot:Tl,Query:Eu,QueryDocumentSnapshot:Dl,QuerySnapshot:ja,CollectionReference:tc,FieldPath:vl,FieldValue:ch,setLogLevel:_u.setLogLevel,CACHE_SIZE_UNLIMITED:Vs};function wd(s){s.INTERNAL.registerComponent(new Qe.Component("firestore",function(c){return p=c.getProvider("app").getImmediate(),w=c.getProvider("auth-internal"),x=new Sa,G=new Fa(x),new _u(p,w,G,x);var p,w,x,G},"PUBLIC").setServiceProps(Object.assign({},dh))),s.registerVersion("@firebase/firestore","1.17.3")}wd(Ge.default),it.__PRIVATE_registerFirestore=wd},45011:(Ln,it,N)=>{"use strict";var y=N(39278),E=N(42472),j=N(46355);function Pe(Le){return Le&&"object"==typeof Le&&"default"in Le?Le:{default:Le}}var z=Pe(y),Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=function(Le){function Me(tt,f,k){var T=Le.call(this,f)||this;return Object.setPrototypeOf(T,Me.prototype),T.code=tt,T.details=k,T}return E.__extends(Me,Le),Me}(Error),K=function(){function Le(Me,tt){var f=this;this.auth=null,this.messaging=null,this.auth=Me.getImmediate({optional:!0}),this.messaging=tt.getImmediate({optional:!0}),this.auth||Me.get().then(function(k){return f.auth=k},function(){}),this.messaging||tt.get().then(function(k){return f.messaging=k},function(){})}return Le.prototype.getAuthToken=function(){return E.__awaiter(this,void 0,void 0,function(){var Me;return E.__generator(this,function(f){switch(f.label){case 0:if(!this.auth)return[2,void 0];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(Me=f.sent())?[2,Me.accessToken]:[2,void 0];case 3:return f.sent(),[2,void 0];case 4:return[2]}})})},Le.prototype.getInstanceIdToken=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(Me){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},Le.prototype.getContext=function(){return E.__awaiter(this,void 0,void 0,function(){var Me,tt;return E.__generator(this,function(f){switch(f.label){case 0:return[4,this.getAuthToken()];case 1:return Me=f.sent(),[4,this.getInstanceIdToken()];case 2:return tt=f.sent(),[2,{authToken:Me,instanceIdToken:tt}]}})})},Le}();function Fe(Le,Me){var tt={};for(var f in Le)Le.hasOwnProperty(f)&&(tt[f]=Me(Le[f]));return tt}var bt=function(){function Le(){}return Le.prototype.encode=function(Me){var tt=this;if(null==Me)return null;if(Me instanceof Number&&(Me=Me.valueOf()),"number"==typeof Me&&isFinite(Me)||!0===Me||!1===Me||"[object String]"===Object.prototype.toString.call(Me))return Me;if(Array.isArray(Me))return Me.map(function(f){return tt.encode(f)});if("function"==typeof Me||"object"==typeof Me)return Fe(Me,function(f){return tt.encode(f)});throw new Error("Data cannot be encoded in JSON: "+Me)},Le.prototype.decode=function(Me){var tt=this;if(null==Me)return Me;if(Me["@type"])switch(Me["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var f=Number(Me.value);if(isNaN(f))throw new Error("Data cannot be decoded from JSON: "+Me);return f;default:throw new Error("Data cannot be decoded from JSON: "+Me)}return Array.isArray(Me)?Me.map(function(k){return tt.decode(k)}):"function"==typeof Me||"object"==typeof Me?Fe(Me,function(k){return tt.decode(k)}):Me},Le}(),Wt=function(){function Le(Me,tt,f,k,T){var W=this;void 0===k&&(k="us-central1"),this.app_=Me,this.fetchImpl=T,this.serializer=new bt,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(W.deleteService())}},this.contextProvider=new K(tt,f),this.cancelAllRequests=new Promise(function(R){W.deleteService=function(){return R()}});try{var J=new URL(k);this.customDomain=J.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=k}}return Object.defineProperty(Le.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Le.prototype._url=function(Me){var tt=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+tt+"/"+this.region+"/"+Me:null!==this.customDomain?this.customDomain+"/"+Me:"https://"+this.region+"-"+tt+".cloudfunctions.net/"+Me},Le.prototype.useFunctionsEmulator=function(Me){this.emulatorOrigin=Me},Le.prototype.httpsCallable=function(Me,tt){var f=this;return function(k){return f.call(Me,k,tt||{})}},Le.prototype.postJSON=function(Me,tt,f){return E.__awaiter(this,void 0,void 0,function(){var k,W;return E.__generator(this,function(R){switch(R.label){case 0:f["Content-Type"]="application/json",R.label=1;case 1:return R.trys.push([1,3,,4]),[4,this.fetchImpl(Me,{method:"POST",body:JSON.stringify(tt),headers:f})];case 2:return k=R.sent(),[3,4];case 3:return R.sent(),[2,{status:0,json:null}];case 4:W=null,R.label=5;case 5:return R.trys.push([5,7,,8]),[4,k.json()];case 6:return W=R.sent(),[3,8];case 7:return R.sent(),[3,8];case 8:return[2,{status:k.status,json:W}]}})})},Le.prototype.call=function(Me,tt,f){return E.__awaiter(this,void 0,void 0,function(){var k,T,W,J,ge,Ke,Tn,He,ct,at;return E.__generator(this,function(ce){switch(ce.label){case 0:return k=this._url(Me),tt=this.serializer.encode(tt),T={data:tt},W={},[4,this.contextProvider.getContext()];case 1:return(J=ce.sent()).authToken&&(W.Authorization="Bearer "+J.authToken),J.instanceIdToken&&(W["Firebase-Instance-ID-Token"]=J.instanceIdToken),ge=function Zt(Le){var Me,tt=new Promise(function(f,k){Me=setTimeout(function(){k(new te("deadline-exceeded","deadline-exceeded"))},Le)});return{timer:Me,promise:tt}}(f.timeout||7e4),Ke=ge.timer,Tn=ge.promise,[4,Promise.race([ye(Ke,this.postJSON(k,T,W)),Tn,ye(Ke,this.cancelAllRequests)])];case 2:if(!(He=ce.sent()))throw new te("cancelled","Firebase Functions instance was deleted.");if(ct=function ie(Le,Me,tt){var f=function Ge(Le){if(Le>=200&&Le<300)return"ok";switch(Le){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(Le),k=f,T=void 0;try{var W=Me&&Me.error;if(W){var J=W.status;if("string"==typeof J){if(!Qe[J])return new te("internal","internal");f=Qe[J],k=J}var R=W.message;"string"==typeof R&&(k=R),void 0!==(T=W.details)&&(T=tt.decode(T))}}catch{}return"ok"===f?null:new te(f,k,T)}(He.status,He.json,this.serializer),ct)throw ct;if(!He.json)throw new te("internal","Response is not valid JSON object.");if(typeof(at=He.json.data)>"u"&&(at=He.json.result),typeof at>"u")throw new te("internal","Response is missing data field.");return[2,{data:this.serializer.decode(at)}]}})})},Le}();function ye(Le,Me){return E.__awaiter(this,void 0,void 0,function(){var tt;return E.__generator(this,function(f){switch(f.label){case 0:return[4,Me];case 1:return tt=f.sent(),clearTimeout(Le),[2,tt]}})})}(function yt(Le,Me){var tt={Functions:Wt};Le.INTERNAL.registerComponent(new j.Component("functions",function f(k,T){var W=k.getProvider("app").getImmediate(),J=k.getProvider("auth-internal"),R=k.getProvider("messaging");return new Wt(W,J,R,T,Me)},"PUBLIC").setServiceProps(tt).setMultipleInstances(!0))})(z.default,fetch.bind(self)),z.default.registerVersion("@firebase/functions","0.5.1")},78660:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{registerInstallations:()=>ke});var y=N(39278),E=N(46355),z=function(){return z=Object.assign||function(be){for(var $e,mt=1,Mt=arguments.length;mt<Mt;mt++)for(var Lt in $e=arguments[mt])Object.prototype.hasOwnProperty.call($e,Lt)&&(be[Lt]=$e[Lt]);return be},z.apply(this,arguments)};function K(q,be,$e,mt){return new($e||($e=Promise))(function(Lt,Yn){function Kn(dn){try{rr(mt.next(dn))}catch(sr){Yn(sr)}}function mr(dn){try{rr(mt.throw(dn))}catch(sr){Yn(sr)}}function rr(dn){dn.done?Lt(dn.value):function Mt(Lt){return Lt instanceof $e?Lt:new $e(function(Yn){Yn(Lt)})}(dn.value).then(Kn,mr)}rr((mt=mt.apply(q,be||[])).next())})}function Ae(q,be){var mt,Mt,Lt,Yn,$e={label:0,sent:function(){if(1&Lt[0])throw Lt[1];return Lt[1]},trys:[],ops:[]};return Yn={next:Kn(0),throw:Kn(1),return:Kn(2)},"function"==typeof Symbol&&(Yn[Symbol.iterator]=function(){return this}),Yn;function Kn(rr){return function(dn){return function mr(rr){if(mt)throw new TypeError("Generator is already executing.");for(;$e;)try{if(mt=1,Mt&&(Lt=2&rr[0]?Mt.return:rr[0]?Mt.throw||((Lt=Mt.return)&&Lt.call(Mt),0):Mt.next)&&!(Lt=Lt.call(Mt,rr[1])).done)return Lt;switch(Mt=0,Lt&&(rr=[2&rr[0],Lt.value]),rr[0]){case 0:case 1:Lt=rr;break;case 4:return $e.label++,{value:rr[1],done:!1};case 5:$e.label++,Mt=rr[1],rr=[0];continue;case 7:rr=$e.ops.pop(),$e.trys.pop();continue;default:if(!(Lt=(Lt=$e.trys).length>0&&Lt[Lt.length-1])&&(6===rr[0]||2===rr[0])){$e=0;continue}if(3===rr[0]&&(!Lt||rr[1]>Lt[0]&&rr[1]<Lt[3])){$e.label=rr[1];break}if(6===rr[0]&&$e.label<Lt[1]){$e.label=Lt[1],Lt=rr;break}if(Lt&&$e.label<Lt[2]){$e.label=Lt[2],$e.ops.push(rr);break}Lt[2]&&$e.ops.pop(),$e.trys.pop();continue}rr=be.call(q,$e)}catch(dn){rr=[6,dn],Mt=0}finally{mt=Lt=0}if(5&rr[0])throw rr[1];return{value:rr[0]?rr[1]:void 0,done:!0}}([rr,dn])}}}function bt(q){var be="function"==typeof Symbol&&Symbol.iterator,$e=be&&q[be],mt=0;if($e)return $e.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&mt>=q.length&&(q=void 0),{value:q&&q[mt++],done:!q}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(q,be){var $e="function"==typeof Symbol&&q[Symbol.iterator];if(!$e)return q;var Mt,Yn,mt=$e.call(q),Lt=[];try{for(;(void 0===be||be-- >0)&&!(Mt=mt.next()).done;)Lt.push(Mt.value)}catch(Kn){Yn={error:Kn}}finally{try{Mt&&!Mt.done&&($e=mt.return)&&$e.call(mt)}finally{if(Yn)throw Yn.error}}return Lt}var ce,T=N(1270),W=N(32940),J="@firebase/installations",R="0.4.17",ge=1e4,Ke="w:"+R,Tn="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",ct=36e5,re=((ce={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ce["not-registered"]="Firebase Installation is not registered.",ce["installation-not-found"]="Firebase Installation not found.",ce["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ce["app-offline"]="Could not process request. Application offline.",ce["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ce),Ne=new T.ErrorFactory("installations","Installations",re);function Ue(q){return q instanceof T.FirebaseError&&q.code.includes("request-failed")}function ht(q){return He+"/projects/"+q.projectId+"/installations"}function Et(q){return{token:q.token,requestStatus:2,expiresIn:Ut(q.expiresIn),creationTime:Date.now()}}function gn(q,be){return K(this,void 0,void 0,function(){var $e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return[4,be.json()];case 1:return $e=Mt.sent(),[2,Ne.create("request-failed",{requestName:q,serverCode:(mt=$e.error).code,serverMessage:mt.message,serverStatus:mt.status})]}})})}function _t(q){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":q.apiKey})}function an(q,be){var $e=be.refreshToken,mt=_t(q);return mt.append("Authorization",function Xt(q){return Tn+" "+q}($e)),mt}function ft(q){return K(this,void 0,void 0,function(){var be;return Ae(this,function($e){switch($e.label){case 0:return[4,q()];case 1:return(be=$e.sent()).status>=500&&be.status<600?[2,q()]:[2,be]}})})}function Ut(q){return Number(q.replace("s","000"))}function fn(q,be){var $e=be.fid;return K(this,void 0,void 0,function(){var mt,Mt,Yn,Kn,mr;return Ae(this,function(dn){switch(dn.label){case 0:return mt=ht(q),Mt=_t(q),Yn={method:"POST",headers:Mt,body:JSON.stringify({fid:$e,authVersion:Tn,appId:q.appId,sdkVersion:Ke})},[4,ft(function(){return fetch(mt,Yn)})];case 1:return(Kn=dn.sent()).ok?[4,Kn.json()]:[3,3];case 2:return[2,{fid:(mr=dn.sent()).fid||$e,registrationStatus:2,refreshToken:mr.refreshToken,authToken:Et(mr.authToken)}];case 3:return[4,gn("Create Installation",Kn)];case 4:throw dn.sent()}})})}function jn(q){return new Promise(function(be){setTimeout(be,q)})}var er=/^[cdef][\w-]{21}$/,Qn="";function Nn(){try{var q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(q),q[0]=112+q[0]%16;var $e=function Dr(q){var be=function xn(q){var be=btoa(String.fromCharCode.apply(String,function Wt(){for(var q=[],be=0;be<arguments.length;be++)q=q.concat(Zt(arguments[be]));return q}(q)));return be.replace(/\+/g,"-").replace(/\//g,"_")}(q);return be.substr(0,22)}(q);return er.test($e)?$e:Qn}catch{return Qn}}function pn(q){return q.appName+"!"+q.appId}var Oe=new Map;function vt(q,be){var $e=pn(q);mn($e,be),function Je(q,be){var $e=xt();$e&&$e.postMessage({key:q,fid:be}),Rt()}($e,be)}function mn(q,be){var $e,mt,Mt=Oe.get(q);if(Mt)try{for(var Lt=bt(Mt),Yn=Lt.next();!Yn.done;Yn=Lt.next())(0,Yn.value)(be)}catch(mr){$e={error:mr}}finally{try{Yn&&!Yn.done&&(mt=Lt.return)&&mt.call(Lt)}finally{if($e)throw $e.error}}}var Ee=null;function xt(){return!Ee&&"BroadcastChannel"in self&&((Ee=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(q){mn(q.data.key,q.data.fid)}),Ee}function Rt(){0===Oe.size&&Ee&&(Ee.close(),Ee=null)}var dt="firebase-installations-database",En=1,On="firebase-installations-store",Wn=null;function kn(){return Wn||(Wn=(0,W.openDb)(dt,En,function(q){0===q.oldVersion&&q.createObjectStore(On)})),Wn}function Rn(q,be){return K(this,void 0,void 0,function(){var $e,mt,Mt,Lt,Yn;return Ae(this,function(Kn){switch(Kn.label){case 0:return $e=pn(q),[4,kn()];case 1:return mt=Kn.sent(),Mt=mt.transaction(On,"readwrite"),[4,(Lt=Mt.objectStore(On)).get($e)];case 2:return Yn=Kn.sent(),[4,Lt.put(be,$e)];case 3:return Kn.sent(),[4,Mt.complete];case 4:return Kn.sent(),(!Yn||Yn.fid!==be.fid)&&vt(q,be.fid),[2,be]}})})}function nr(q){return K(this,void 0,void 0,function(){var be,$e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return be=pn(q),[4,kn()];case 1:return $e=Mt.sent(),[4,(mt=$e.transaction(On,"readwrite")).objectStore(On).delete(be)];case 2:return Mt.sent(),[4,mt.complete];case 3:return Mt.sent(),[2]}})})}function xr(q,be){return K(this,void 0,void 0,function(){var $e,mt,Mt,Lt,Yn,Kn;return Ae(this,function(mr){switch(mr.label){case 0:return $e=pn(q),[4,kn()];case 1:return mt=mr.sent(),Mt=mt.transaction(On,"readwrite"),[4,(Lt=Mt.objectStore(On)).get($e)];case 2:return Yn=mr.sent(),void 0!==(Kn=be(Yn))?[3,4]:[4,Lt.delete($e)];case 3:return mr.sent(),[3,6];case 4:return[4,Lt.put(Kn,$e)];case 5:mr.sent(),mr.label=6;case 6:return[4,Mt.complete];case 7:return mr.sent(),Kn&&(!Yn||Yn.fid!==Kn.fid)&&vt(q,Kn.fid),[2,Kn]}})})}function hn(q){return K(this,void 0,void 0,function(){var be,$e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return[4,xr(q,function(Lt){var Yn=function Pt(q){return rt(q||{fid:Nn(),registrationStatus:0})}(Lt),Kn=function Vt(q,be){if(0===be.registrationStatus){if(!navigator.onLine)return{installationEntry:be,registrationPromise:Promise.reject(Ne.create("app-offline"))};var mt={fid:be.fid,registrationStatus:1,registrationTime:Date.now()},Mt=function Te(q,be){return K(this,void 0,void 0,function(){var $e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return Mt.trys.push([0,2,,7]),[4,fn(q,be)];case 1:return $e=Mt.sent(),[2,Rn(q,$e)];case 2:return Ue(mt=Mt.sent())&&409===mt.serverCode?[4,nr(q)]:[3,4];case 3:return Mt.sent(),[3,6];case 4:return[4,Rn(q,{fid:be.fid,registrationStatus:0})];case 5:Mt.sent(),Mt.label=6;case 6:throw mt;case 7:return[2]}})})}(q,mt);return{installationEntry:mt,registrationPromise:Mt}}return 1===be.registrationStatus?{installationEntry:be,registrationPromise:le(q)}:{installationEntry:be}}(q,Yn);return be=Kn.registrationPromise,Kn.installationEntry})];case 1:return($e=Mt.sent()).fid!==Qn?[3,3]:(mt={},[4,be]);case 2:return[2,(mt.installationEntry=Mt.sent(),mt)];case 3:return[2,{installationEntry:$e,registrationPromise:be}]}})})}function le(q){return K(this,void 0,void 0,function(){var be,$e,mt,Mt;return Ae(this,function(Lt){switch(Lt.label){case 0:return[4,ae(q)];case 1:be=Lt.sent(),Lt.label=2;case 2:return 1!==be.registrationStatus?[3,5]:[4,jn(100)];case 3:return Lt.sent(),[4,ae(q)];case 4:return be=Lt.sent(),[3,2];case 5:return 0!==be.registrationStatus?[3,7]:[4,hn(q)];case 6:return $e=Lt.sent(),mt=$e.installationEntry,(Mt=$e.registrationPromise)?[2,Mt]:[2,mt];case 7:return[2,be]}})})}function ae(q){return xr(q,function(be){if(!be)throw Ne.create("installation-not-found");return rt(be)})}function rt(q){return function Tt(q){return 1===q.registrationStatus&&q.registrationTime+ge<Date.now()}(q)?{fid:q.fid,registrationStatus:0}:q}function bn(q,be){var $e=q.appConfig,mt=q.platformLoggerProvider;return K(this,void 0,void 0,function(){var Mt,Lt,Yn,mr,rr;return Ae(this,function(fr){switch(fr.label){case 0:return Mt=function xe(q,be){var $e=be.fid;return ht(q)+"/"+$e+"/authTokens:generate"}($e,be),Lt=an($e,be),(Yn=mt.getImmediate({optional:!0}))&&Lt.append("x-firebase-client",Yn.getPlatformInfoString()),mr={method:"POST",headers:Lt,body:JSON.stringify({installation:{sdkVersion:Ke}})},[4,ft(function(){return fetch(Mt,mr)})];case 1:return(rr=fr.sent()).ok?[4,rr.json()]:[3,3];case 2:return[2,Et(fr.sent())];case 3:return[4,gn("Generate Auth Token",rr)];case 4:throw fr.sent()}})})}function Ct(q,be){return void 0===be&&(be=!1),K(this,void 0,void 0,function(){var $e,mt,Lt;return Ae(this,function(Yn){switch(Yn.label){case 0:return[4,xr(q.appConfig,function(Kn){if(!ot(Kn))throw Ne.create("not-registered");var mr=Kn.authToken;if(!be&&function nt(q){return 2===q.requestStatus&&!function De(q){var be=Date.now();return be<q.creationTime||q.creationTime+q.expiresIn<be+ct}(q)}(mr))return Kn;if(1===mr.requestStatus)return $e=function Yt(q,be){return K(this,void 0,void 0,function(){var $e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return[4,ln(q.appConfig)];case 1:$e=Mt.sent(),Mt.label=2;case 2:return 1!==$e.authToken.requestStatus?[3,5]:[4,jn(100)];case 3:return Mt.sent(),[4,ln(q.appConfig)];case 4:return $e=Mt.sent(),[3,2];case 5:return 0===(mt=$e.authToken).requestStatus?[2,Ct(q,be)]:[2,mt]}})})}(q,be),Kn;if(!navigator.onLine)throw Ne.create("app-offline");var rr=function Dt(q){var be={requestStatus:1,requestTime:Date.now()};return z(z({},q),{authToken:be})}(Kn);return $e=function qt(q,be){return K(this,void 0,void 0,function(){var $e,mt,Mt;return Ae(this,function(Lt){switch(Lt.label){case 0:return Lt.trys.push([0,3,,8]),[4,bn(q,be)];case 1:return $e=Lt.sent(),Mt=z(z({},be),{authToken:$e}),[4,Rn(q.appConfig,Mt)];case 2:return Lt.sent(),[2,$e];case 3:return!Ue(mt=Lt.sent())||401!==mt.serverCode&&404!==mt.serverCode?[3,5]:[4,nr(q.appConfig)];case 4:return Lt.sent(),[3,7];case 5:return Mt=z(z({},be),{authToken:{requestStatus:0}}),[4,Rn(q.appConfig,Mt)];case 6:Lt.sent(),Lt.label=7;case 7:throw mt;case 8:return[2]}})})}(q,rr),rr})];case 1:return mt=Yn.sent(),$e?[4,$e]:[3,3];case 2:return Lt=Yn.sent(),[3,4];case 3:Lt=mt.authToken,Yn.label=4;case 4:return[2,Lt]}})})}function ln(q){return xr(q,function(be){if(!ot(be))throw Ne.create("not-registered");return function Ft(q){return 1===q.requestStatus&&q.requestTime+ge<Date.now()}(be.authToken)?z(z({},be),{authToken:{requestStatus:0}}):be})}function ot(q){return void 0!==q&&2===q.registrationStatus}function Cn(q){return K(this,void 0,void 0,function(){var be;return Ae(this,function($e){switch($e.label){case 0:return[4,hn(q)];case 1:return(be=$e.sent().registrationPromise)?[4,be]:[3,3];case 2:$e.sent(),$e.label=3;case 3:return[2]}})})}function yr(q,be){return K(this,void 0,void 0,function(){var $e,mt,Mt,Lt;return Ae(this,function(Yn){switch(Yn.label){case 0:return $e=function ei(q,be){var $e=be.fid;return ht(q)+"/"+$e}(q,be),mt=an(q,be),Mt={method:"DELETE",headers:mt},[4,ft(function(){return fetch($e,Mt)})];case 1:return(Lt=Yn.sent()).ok?[3,3]:[4,gn("Delete Installation",Lt)];case 2:throw Yn.sent();case 3:return[2]}})})}function zt(q){return Ne.create("missing-app-config-values",{valueName:q})}function ke(q){q.INTERNAL.registerComponent(new E.Component("installations",function($e){var mt=$e.getProvider("app").getImmediate(),Mt=function St(q){var be,$e;if(!q||!q.options)throw zt("App Configuration");if(!q.name)throw zt("App Name");try{for(var Mt=bt(["projectId","apiKey","appId"]),Lt=Mt.next();!Lt.done;Lt=Mt.next()){var Yn=Lt.value;if(!q.options[Yn])throw zt(Yn)}}catch(Kn){be={error:Kn}}finally{try{Lt&&!Lt.done&&($e=Mt.return)&&$e.call(Mt)}finally{if(be)throw be.error}}return{appName:q.name,projectId:q.options.projectId,apiKey:q.options.apiKey,appId:q.options.appId}}(mt),Yn={appConfig:Mt,platformLoggerProvider:$e.getProvider("platform-logger")},Kn={app:mt,getId:function(){return function vn(q){return K(this,void 0,void 0,function(){var be,$e,mt;return Ae(this,function(Mt){switch(Mt.label){case 0:return[4,hn(q.appConfig)];case 1:return be=Mt.sent(),$e=be.installationEntry,(mt=be.registrationPromise)?mt.catch(console.error):Ct(q).catch(console.error),[2,$e.fid]}})})}(Yn)},getToken:function(mr){return function Zn(q,be){return void 0===be&&(be=!1),K(this,void 0,void 0,function(){return Ae(this,function(mt){switch(mt.label){case 0:return[4,Cn(q.appConfig)];case 1:return mt.sent(),[4,Ct(q,be)];case 2:return[2,mt.sent().token]}})})}(Yn,mr)},delete:function(){return function st(q){return K(this,void 0,void 0,function(){var be,$e;return Ae(this,function(mt){switch(mt.label){case 0:return[4,xr(be=q.appConfig,function(Mt){if(!Mt||0!==Mt.registrationStatus)return Mt})];case 1:if(!($e=mt.sent()))return[3,6];if(1!==$e.registrationStatus)return[3,2];throw Ne.create("delete-pending-registration");case 2:if(2!==$e.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ne.create("app-offline");case 3:return[4,yr(be,$e)];case 4:return mt.sent(),[4,nr(be)];case 5:mt.sent(),mt.label=6;case 6:return[2]}})})}(Yn)},onIdChange:function(mr){return function pt(q,be){var $e=q.appConfig;return function Bt(q,be){xt();var $e=pn(q),mt=Oe.get($e);mt||Oe.set($e,mt=new Set),mt.add(be)}($e,be),function(){!function Qt(q,be){var $e=pn(q),mt=Oe.get($e);mt&&(mt.delete(be),0===mt.size&&Oe.delete($e),Rt())}($e,be)}}(Yn,mr)}};return Kn},"PUBLIC")),q.registerVersion(J,R)}ke(y.default)},64003:(Ln,it,N)=>{"use strict";function y(){for(var Se=0,Fe=0,bt=arguments.length;Fe<bt;Fe++)Se+=arguments[Fe].length;var Zt=Array(Se),Wt=0;for(Fe=0;Fe<bt;Fe++)for(var ye=arguments[Fe],Nt=0,yt=ye.length;Nt<yt;Nt++,Wt++)Zt[Wt]=ye[Nt];return Zt}N.r(it),N.d(it,{LogLevel:()=>Pe,Logger:()=>ie,setLogLevel:()=>K,setUserLogHandler:()=>Ae});var E,j=[],Pe=(()=>{return(Se=Pe||(Pe={}))[Se.DEBUG=0]="DEBUG",Se[Se.VERBOSE=1]="VERBOSE",Se[Se.INFO=2]="INFO",Se[Se.WARN=3]="WARN",Se[Se.ERROR=4]="ERROR",Se[Se.SILENT=5]="SILENT",Pe;var Se})(),z={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Qe=Pe.INFO,te=((E={})[Pe.DEBUG]="log",E[Pe.VERBOSE]="log",E[Pe.INFO]="info",E[Pe.WARN]="warn",E[Pe.ERROR]="error",E),Ge=function(Se,Fe){for(var bt=[],Zt=2;Zt<arguments.length;Zt++)bt[Zt-2]=arguments[Zt];if(!(Fe<Se.logLevel)){var Wt=(new Date).toISOString(),ye=te[Fe];if(!ye)throw new Error("Attempted to log a message with an invalid logType (value: "+Fe+")");console[ye].apply(console,y(["["+Wt+"]  "+Se.name+":"],bt))}},ie=function(){function Se(Fe){this.name=Fe,this._logLevel=Qe,this._logHandler=Ge,this._userLogHandler=null,j.push(this)}return Object.defineProperty(Se.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Fe){if(!(Fe in Pe))throw new TypeError('Invalid value "'+Fe+'" assigned to `logLevel`');this._logLevel=Fe},enumerable:!1,configurable:!0}),Se.prototype.setLogLevel=function(Fe){this._logLevel="string"==typeof Fe?z[Fe]:Fe},Object.defineProperty(Se.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Fe){this._userLogHandler=Fe},enumerable:!1,configurable:!0}),Se.prototype.debug=function(){for(var Fe=[],bt=0;bt<arguments.length;bt++)Fe[bt]=arguments[bt];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.DEBUG],Fe)),this._logHandler.apply(this,y([this,Pe.DEBUG],Fe))},Se.prototype.log=function(){for(var Fe=[],bt=0;bt<arguments.length;bt++)Fe[bt]=arguments[bt];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.VERBOSE],Fe)),this._logHandler.apply(this,y([this,Pe.VERBOSE],Fe))},Se.prototype.info=function(){for(var Fe=[],bt=0;bt<arguments.length;bt++)Fe[bt]=arguments[bt];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.INFO],Fe)),this._logHandler.apply(this,y([this,Pe.INFO],Fe))},Se.prototype.warn=function(){for(var Fe=[],bt=0;bt<arguments.length;bt++)Fe[bt]=arguments[bt];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.WARN],Fe)),this._logHandler.apply(this,y([this,Pe.WARN],Fe))},Se.prototype.error=function(){for(var Fe=[],bt=0;bt<arguments.length;bt++)Fe[bt]=arguments[bt];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.ERROR],Fe)),this._logHandler.apply(this,y([this,Pe.ERROR],Fe))},Se}();function K(Se){j.forEach(function(Fe){Fe.setLogLevel(Se)})}function Ae(Se,Fe){for(var bt=function(Nt){var yt=null;Fe&&Fe.level&&(yt=z[Fe.level]),Nt.userLogHandler=null===Se?null:function(en,Ot){for(var Le=[],Me=2;Me<arguments.length;Me++)Le[Me-2]=arguments[Me];var tt=Le.map(function(f){if(null==f)return null;if("string"==typeof f)return f;if("number"==typeof f||"boolean"==typeof f)return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(function(f){return f}).join(" ");Ot>=(yt??en.logLevel)&&Se({level:Pe[Ot].toLowerCase(),message:tt,args:Le,type:en.name})}},Zt=0,Wt=j;Zt<Wt.length;Zt++)bt(Wt[Zt])}},46101:(Ln,it,N)=>{"use strict";N.r(it),N(78660);var E=N(46355),j=N(1270),Qe=function(){return Qe=Object.assign||function(pt){for(var St,zt=1,ke=arguments.length;zt<ke;zt++)for(var q in St=arguments[zt])Object.prototype.hasOwnProperty.call(St,q)&&(pt[q]=St[q]);return pt},Qe.apply(this,arguments)};function Ae(st,pt,St,zt){return new(St||(St=Promise))(function(q,be){function $e(Lt){try{Mt(zt.next(Lt))}catch(Yn){be(Yn)}}function mt(Lt){try{Mt(zt.throw(Lt))}catch(Yn){be(Yn)}}function Mt(Lt){Lt.done?q(Lt.value):function ke(q){return q instanceof St?q:new St(function(be){be(q)})}(Lt.value).then($e,mt)}Mt((zt=zt.apply(st,pt||[])).next())})}function Se(st,pt){var zt,ke,q,be,St={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return be={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(be[Symbol.iterator]=function(){return this}),be;function $e(Mt){return function(Lt){return function mt(Mt){if(zt)throw new TypeError("Generator is already executing.");for(;St;)try{if(zt=1,ke&&(q=2&Mt[0]?ke.return:Mt[0]?ke.throw||((q=ke.return)&&q.call(ke),0):ke.next)&&!(q=q.call(ke,Mt[1])).done)return q;switch(ke=0,q&&(Mt=[2&Mt[0],q.value]),Mt[0]){case 0:case 1:q=Mt;break;case 4:return St.label++,{value:Mt[1],done:!1};case 5:St.label++,ke=Mt[1],Mt=[0];continue;case 7:Mt=St.ops.pop(),St.trys.pop();continue;default:if(!(q=(q=St.trys).length>0&&q[q.length-1])&&(6===Mt[0]||2===Mt[0])){St=0;continue}if(3===Mt[0]&&(!q||Mt[1]>q[0]&&Mt[1]<q[3])){St.label=Mt[1];break}if(6===Mt[0]&&St.label<q[1]){St.label=q[1],q=Mt;break}if(q&&St.label<q[2]){St.label=q[2],St.ops.push(Mt);break}q[2]&&St.ops.pop(),St.trys.pop();continue}Mt=pt.call(st,St)}catch(Lt){Mt=[6,Lt],ke=0}finally{zt=q=0}if(5&Mt[0])throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}([Mt,Lt])}}}function Zt(st){var pt="function"==typeof Symbol&&Symbol.iterator,St=pt&&st[pt],zt=0;if(St)return St.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&zt>=st.length&&(st=void 0),{value:st&&st[zt++],done:!st}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(st,pt){var St="function"==typeof Symbol&&st[Symbol.iterator];if(!St)return st;var ke,be,zt=St.call(st),q=[];try{for(;(void 0===pt||pt-- >0)&&!(ke=zt.next()).done;)q.push(ke.value)}catch($e){be={error:$e}}finally{try{ke&&!ke.done&&(St=zt.return)&&St.call(zt)}finally{if(be)throw be.error}}return q}var R,W=N(32940),J=N(39278),ge=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["only-available-in-window"]="This method is available in a Window context.",R["only-available-in-sw"]="This method is available in a service worker context.",R["permission-default"]="The notification permission was not granted and dismissed instead.",R["permission-blocked"]="The notification permission was not granted and blocked instead.",R["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",R["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",R["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",R["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",R["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",R["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",R["token-update-no-token"]="FCM returned no token when updating the user to push.",R["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",R["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",R["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",R["invalid-vapid-key"]="The public VAPID key must be a string.",R["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",R),Ke=new j.ErrorFactory("messaging","Messaging",ge),ct="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",at="https://fcmregistrations.googleapis.com/v1",ee="FCM_MSG",ce="google.c.a.c_id",Et=(()=>{return(st=Et||(Et={})).PUSH_RECEIVED="push-received",st.NOTIFICATION_CLICKED="notification-clicked",Et;var st})();function gn(st){var pt=new Uint8Array(st),St=btoa(String.fromCharCode.apply(String,function ye(){for(var st=[],pt=0;pt<arguments.length;pt++)st=st.concat(Wt(arguments[pt]));return st}(pt)));return St.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _t(st){for(var St=(st+"=".repeat((4-st.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),zt=atob(St),ke=new Uint8Array(zt.length),q=0;q<zt.length;++q)ke[q]=zt.charCodeAt(q);return ke}var an="fcm_token_details_db",ft=5,Ut="fcm_token_object_Store";function Xt(st){return Ae(this,void 0,void 0,function(){var zt,q=this;return Se(this,function(be){switch(be.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!be.sent().map(function($e){return $e.name}).includes(an))return[2,null];be.label=2;case 2:return zt=null,[4,(0,W.openDb)(an,ft,function($e){return Ae(q,void 0,void 0,function(){var mt,Mt,Lt,Yn;return Se(this,function(Kn){switch(Kn.label){case 0:return $e.oldVersion<2?[2]:$e.objectStoreNames.contains(Ut)?[4,(mt=$e.transaction.objectStore(Ut)).index("fcmSenderId").get(st)]:[2];case 1:return Mt=Kn.sent(),[4,mt.clear()];case 2:if(Kn.sent(),!Mt)return[2];if(2===$e.oldVersion){if(!(Lt=Mt).auth||!Lt.p256dh||!Lt.endpoint)return[2];zt={token:Lt.fcmToken,createTime:null!==(Yn=Lt.createTime)&&void 0!==Yn?Yn:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:gn(Lt.vapidKey)}}}else(3===$e.oldVersion||4===$e.oldVersion)&&(zt={token:(Lt=Mt).fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:gn(Lt.auth),p256dh:gn(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:gn(Lt.vapidKey)}});return[2]}})})})];case 3:return be.sent().close(),[4,(0,W.deleteDb)(an)];case 4:return be.sent(),[4,(0,W.deleteDb)("fcm_vapid_details_db")];case 5:return be.sent(),[4,(0,W.deleteDb)("undefined")];case 6:return be.sent(),[2,fn(zt)?zt:null]}})})}function fn(st){if(!st||!st.subscriptionOptions)return!1;var pt=st.subscriptionOptions;return"number"==typeof st.createTime&&st.createTime>0&&"string"==typeof st.token&&st.token.length>0&&"string"==typeof pt.auth&&pt.auth.length>0&&"string"==typeof pt.p256dh&&pt.p256dh.length>0&&"string"==typeof pt.endpoint&&pt.endpoint.length>0&&"string"==typeof pt.swScope&&pt.swScope.length>0&&"string"==typeof pt.vapidKey&&pt.vapidKey.length>0}var jn="firebase-messaging-database",xn=1,er="firebase-messaging-store",Qn=null;function Nn(){return Qn||(Qn=(0,W.openDb)(jn,xn,function(st){0===st.oldVersion&&st.createObjectStore(er)})),Qn}function Dr(st){return Ae(this,void 0,void 0,function(){var pt,zt,ke;return Se(this,function(q){switch(q.label){case 0:return pt=vt(st),[4,Nn()];case 1:return[4,q.sent().transaction(er).objectStore(er).get(pt)];case 2:return(zt=q.sent())?[2,zt]:[3,3];case 3:return[4,Xt(st.appConfig.senderId)];case 4:return(ke=q.sent())?[4,pn(st,ke)]:[3,6];case 5:return q.sent(),[2,ke];case 6:return[2]}})})}function pn(st,pt){return Ae(this,void 0,void 0,function(){var St,zt,ke;return Se(this,function(q){switch(q.label){case 0:return St=vt(st),[4,Nn()];case 1:return zt=q.sent(),[4,(ke=zt.transaction(er,"readwrite")).objectStore(er).put(pt,St)];case 2:return q.sent(),[4,ke.complete];case 3:return q.sent(),[2,pt]}})})}function Oe(st){return Ae(this,void 0,void 0,function(){var pt,St,zt;return Se(this,function(ke){switch(ke.label){case 0:return pt=vt(st),[4,Nn()];case 1:return St=ke.sent(),[4,(zt=St.transaction(er,"readwrite")).objectStore(er).delete(pt)];case 2:return ke.sent(),[4,zt.complete];case 3:return ke.sent(),[2]}})})}function vt(st){return st.appConfig.appId}function Bt(st,pt){return Ae(this,void 0,void 0,function(){var St,zt,ke,q,$e;return Se(this,function(Mt){switch(Mt.label){case 0:return[4,Ee(st)];case 1:St=Mt.sent(),zt=xt(pt),ke={method:"POST",headers:St,body:JSON.stringify(zt)},Mt.label=2;case 2:return Mt.trys.push([2,5,,6]),[4,fetch(Je(st.appConfig),ke)];case 3:return[4,Mt.sent().json()];case 4:return q=Mt.sent(),[3,6];case 5:throw $e=Mt.sent(),Ke.create("token-subscribe-failed",{errorInfo:$e});case 6:if(q.error)throw Ke.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Ke.create("token-subscribe-no-token");return[2,q.token]}})})}function Qt(st,pt){return Ae(this,void 0,void 0,function(){var St,zt,ke,q,$e;return Se(this,function(Mt){switch(Mt.label){case 0:return[4,Ee(st)];case 1:St=Mt.sent(),zt=xt(pt.subscriptionOptions),ke={method:"PATCH",headers:St,body:JSON.stringify(zt)},Mt.label=2;case 2:return Mt.trys.push([2,5,,6]),[4,fetch(Je(st.appConfig)+"/"+pt.token,ke)];case 3:return[4,Mt.sent().json()];case 4:return q=Mt.sent(),[3,6];case 5:throw $e=Mt.sent(),Ke.create("token-update-failed",{errorInfo:$e});case 6:if(q.error)throw Ke.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Ke.create("token-update-no-token");return[2,q.token]}})})}function mn(st,pt){return Ae(this,void 0,void 0,function(){var St,zt,q,$e;return Se(this,function(mt){switch(mt.label){case 0:return[4,Ee(st)];case 1:St=mt.sent(),zt={method:"DELETE",headers:St},mt.label=2;case 2:return mt.trys.push([2,5,,6]),[4,fetch(Je(st.appConfig)+"/"+pt,zt)];case 3:return[4,mt.sent().json()];case 4:if((q=mt.sent()).error)throw Ke.create("token-unsubscribe-failed",{errorInfo:q.error.message});return[3,6];case 5:throw $e=mt.sent(),Ke.create("token-unsubscribe-failed",{errorInfo:$e});case 6:return[2]}})})}function Je(st){return at+"/projects/"+st.projectId+"/registrations"}function Ee(st){var pt=st.appConfig,St=st.installations;return Ae(this,void 0,void 0,function(){var zt;return Se(this,function(ke){switch(ke.label){case 0:return[4,St.getToken()];case 1:return zt=ke.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":pt.apiKey,"x-goog-firebase-installations-auth":"FIS "+zt})]}})})}function xt(st){var ke=st.vapidKey,q={web:{endpoint:st.endpoint,auth:st.auth,p256dh:st.p256dh}};return ke!==ct&&(q.web.applicationPubKey=ke),q}var Rt=6048e5;function dt(st,pt,St){return Ae(this,void 0,void 0,function(){var zt,ke,q,be;return Se(this,function($e){switch($e.label){case 0:if("granted"!==Notification.permission)throw Ke.create("permission-blocked");return[4,kn(pt,St)];case 1:return zt=$e.sent(),[4,Dr(st)];case 2:return ke=$e.sent(),q={vapidKey:St,swScope:pt.scope,endpoint:zt.endpoint,auth:gn(zt.getKey("auth")),p256dh:gn(zt.getKey("p256dh"))},ke?[3,3]:[2,Wn(st,q)];case 3:if(function Rn(st,pt){return pt.vapidKey===st.vapidKey&&pt.endpoint===st.endpoint&&pt.auth===st.auth&&pt.p256dh===st.p256dh}(ke.subscriptionOptions,q))return[3,8];$e.label=4;case 4:return $e.trys.push([4,6,,7]),[4,mn(st,ke.token)];case 5:return $e.sent(),[3,7];case 6:return be=$e.sent(),console.warn(be),[3,7];case 7:return[2,Wn(st,q)];case 8:return Date.now()>=ke.createTime+Rt?[2,On({token:ke.token,createTime:Date.now(),subscriptionOptions:q},st,pt)]:[2,ke.token];case 9:return[2]}})})}function En(st,pt){return Ae(this,void 0,void 0,function(){var St,zt;return Se(this,function(ke){switch(ke.label){case 0:return[4,Dr(st)];case 1:return(St=ke.sent())?[4,mn(st,St.token)]:[3,4];case 2:return ke.sent(),[4,Oe(st)];case 3:ke.sent(),ke.label=4;case 4:return[4,pt.pushManager.getSubscription()];case 5:return(zt=ke.sent())?[2,zt.unsubscribe()]:[2,!0]}})})}function On(st,pt,St){return Ae(this,void 0,void 0,function(){var zt,ke,q;return Se(this,function(be){switch(be.label){case 0:return be.trys.push([0,3,,5]),[4,Qt(pt,st)];case 1:return zt=be.sent(),ke=Qe(Qe({},st),{token:zt,createTime:Date.now()}),[4,pn(pt,ke)];case 2:return be.sent(),[2,zt];case 3:return q=be.sent(),[4,En(pt,St)];case 4:throw be.sent(),q;case 5:return[2]}})})}function Wn(st,pt){return Ae(this,void 0,void 0,function(){var St,zt;return Se(this,function(ke){switch(ke.label){case 0:return[4,Bt(st,pt)];case 1:return St=ke.sent(),zt={token:St,createTime:Date.now(),subscriptionOptions:pt},[4,pn(st,zt)];case 2:return ke.sent(),[2,zt.token]}})})}function kn(st,pt){return Ae(this,void 0,void 0,function(){var St;return Se(this,function(zt){switch(zt.label){case 0:return[4,st.pushManager.getSubscription()];case 1:return(St=zt.sent())?[2,St]:[2,st.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_t(pt)})]}})})}function Vt(st){return"object"==typeof st&&!!st&&ce in st}function Te(st){return new Promise(function(pt){setTimeout(pt,st)})}var le=function(){function st(pt){var St=this;this.firebaseDependencies=pt,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(zt){zt.waitUntil(St.onPush(zt))}),self.addEventListener("pushsubscriptionchange",function(zt){zt.waitUntil(St.onSubChange(zt))}),self.addEventListener("notificationclick",function(zt){zt.waitUntil(St.onNotificationClick(zt))})}return Object.defineProperty(st.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),st.prototype.setBackgroundMessageHandler=function(pt){if(this.isOnBackgroundMessageUsed=!1,!pt||"function"!=typeof pt)throw Ke.create("invalid-bg-handler");this.bgMessageHandler=pt},st.prototype.onBackgroundMessage=function(pt){var St=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=pt,function(){St.bgMessageHandler=null}},st.prototype.getToken=function(){var pt,St;return Ae(this,void 0,void 0,function(){var zt;return Se(this,function(ke){switch(ke.label){case 0:return this.vapidKey?[3,2]:[4,Dr(this.firebaseDependencies)];case 1:zt=ke.sent(),this.vapidKey=null!==(St=null===(pt=zt?.subscriptionOptions)||void 0===pt?void 0:pt.vapidKey)&&void 0!==St?St:ct,ke.label=2;case 2:return[2,dt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},st.prototype.deleteToken=function(){return En(this.firebaseDependencies,self.registration)},st.prototype.requestPermission=function(){throw Ke.create("only-available-in-window")},st.prototype.usePublicVapidKey=function(pt){if(null!==this.vapidKey)throw Ke.create("use-vapid-key-after-get-token");if("string"!=typeof pt||0===pt.length)throw Ke.create("invalid-vapid-key");this.vapidKey=pt},st.prototype.useServiceWorker=function(){throw Ke.create("only-available-in-window")},st.prototype.onMessage=function(){throw Ke.create("only-available-in-window")},st.prototype.onTokenRefresh=function(){throw Ke.create("only-available-in-window")},st.prototype.onPush=function(pt){return Ae(this,void 0,void 0,function(){var St,zt,ke,q;return Se(this,function(be){switch(be.label){case 0:return St=function rt(st){var pt=st.data;if(!pt)return null;try{return pt.json()}catch{return null}}(pt),St?[4,Ct()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function bn(st){return st.some(function(pt){return"visible"===pt.visibilityState&&!pt.url.startsWith("chrome-extension://")})}(zt=be.sent())?[2,xe(zt,St)]:(ke=!1,St.notification?[4,Yt(ae(St))]:[3,3]);case 2:be.sent(),ke=!0,be.label=3;case 3:return!0===ke&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(q=function nr(st){var pt={from:st.from,collapseKey:st.collapse_key};return function xr(st,pt){if(pt.notification){st.notification={};var St=pt.notification.title;St&&(st.notification.title=St);var zt=pt.notification.body;zt&&(st.notification.body=zt);var ke=pt.notification.image;ke&&(st.notification.image=ke)}}(pt,st),function hn(st,pt){pt.data&&(st.data=pt.data)}(pt,st),function Pt(st,pt){if(pt.fcmOptions){st.fcmOptions={};var St=pt.fcmOptions.link;St&&(st.fcmOptions.link=St);var zt=pt.fcmOptions.analytics_label;zt&&(st.fcmOptions.analyticsLabel=zt)}}(pt,st),pt}(St),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(q):this.bgMessageHandler.next(q)),[2]}})})},st.prototype.onSubChange=function(pt){var St,zt;return Ae(this,void 0,void 0,function(){var q;return Se(this,function(be){switch(be.label){case 0:return pt.newSubscription?[3,2]:[4,En(this.firebaseDependencies,self.registration)];case 1:case 5:return be.sent(),[2];case 2:return[4,Dr(this.firebaseDependencies)];case 3:return q=be.sent(),[4,En(this.firebaseDependencies,self.registration)];case 4:return be.sent(),[4,dt(this.firebaseDependencies,self.registration,null!==(zt=null===(St=q?.subscriptionOptions)||void 0===St?void 0:St.vapidKey)&&void 0!==zt?zt:ct)]}})})},st.prototype.onNotificationClick=function(pt){var St,zt;return Ae(this,void 0,void 0,function(){var ke,q,be,$e,mt;return Se(this,function(Mt){switch(Mt.label){case 0:return(ke=null===(zt=null===(St=pt.notification)||void 0===St?void 0:St.data)||void 0===zt?void 0:zt[ee])?pt.action?[2]:(pt.stopImmediatePropagation(),pt.notification.close(),q=function ln(st){var pt,St,zt;return(null!==(St=null===(pt=st.fcmOptions)||void 0===pt?void 0:pt.link)&&void 0!==St?St:null===(zt=st.notification)||void 0===zt?void 0:zt.click_action)||(Vt(st.data)?self.location.origin:null)}(ke),q?(be=new URL(q,self.location.href),$e=new URL(self.location.origin),be.host!==$e.host?[2]:[4,Tt(be)]):[2]):[2];case 1:return(mt=Mt.sent())?[3,4]:[4,self.clients.openWindow(q)];case 2:return mt=Mt.sent(),[4,Te(3e3)];case 3:return Mt.sent(),[3,6];case 4:return[4,mt.focus()];case 5:mt=Mt.sent(),Mt.label=6;case 6:return mt?(ke.messageType=Et.NOTIFICATION_CLICKED,ke.isFirebaseMessaging=!0,[2,mt.postMessage(ke)]):[2]}})})},st}();function ae(st){var pt,St=Qe({},st.notification);return St.data=((pt={})[ee]=st,pt),St}function Tt(st){return Ae(this,void 0,void 0,function(){var pt,St,zt,ke,q,be,$e;return Se(this,function(mt){switch(mt.label){case 0:return[4,Ct()];case 1:pt=mt.sent();try{for(St=Zt(pt),zt=St.next();!zt.done;zt=St.next())if(ke=zt.value,q=new URL(ke.url,self.location.href),st.host===q.host)return[2,ke]}catch(Mt){be={error:Mt}}finally{try{zt&&!zt.done&&($e=St.return)&&$e.call(St)}finally{if(be)throw be.error}}return[2,null]}})})}function xe(st,pt){var St,zt;pt.isFirebaseMessaging=!0,pt.messageType=Et.PUSH_RECEIVED;try{for(var ke=Zt(st),q=ke.next();!q.done;q=ke.next())q.value.postMessage(pt)}catch($e){St={error:$e}}finally{try{q&&!q.done&&(zt=ke.return)&&zt.call(ke)}finally{if(St)throw St.error}}}function Ct(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Yt(st){var pt,St=st.actions,zt=Notification.maxActions;return St&&zt&&St.length>zt&&console.warn("This browser only supports "+zt+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(pt=st.title)&&void 0!==pt?pt:"",st)}var qt=function(){function st(pt){var St=this;this.firebaseDependencies=pt,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(zt){return St.messageEventListener(zt)})}return Object.defineProperty(st.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),st.prototype.messageEventListener=function(pt){return Ae(this,void 0,void 0,function(){var St,zt;return Se(this,function(ke){switch(ke.label){case 0:return(St=pt.data).isFirebaseMessaging?(this.onMessageCallback&&St.messageType===Et.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function nt(st){return delete st.messageType,delete st.isFirebaseMessaging,st}(Object.assign({},St))):this.onMessageCallback.next(Object.assign({},St))),Vt(zt=St.data)&&"1"===zt["google.c.a.e"]?[4,this.logEvent(St.messageType,zt)]:[3,2]):[2];case 1:ke.sent(),ke.label=2;case 2:return[2]}})})},st.prototype.getVapidKey=function(){return this.vapidKey},st.prototype.getSwReg=function(){return this.swRegistration},st.prototype.getToken=function(pt){return Ae(this,void 0,void 0,function(){return Se(this,function(St){switch(St.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:St.sent(),St.label=2;case 2:if("granted"!==Notification.permission)throw Ke.create("permission-blocked");return[4,this.updateVapidKey(pt?.vapidKey)];case 3:return St.sent(),[4,this.updateSwReg(pt?.serviceWorkerRegistration)];case 4:return St.sent(),[2,dt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},st.prototype.updateVapidKey=function(pt){return Ae(this,void 0,void 0,function(){return Se(this,function(St){return pt?this.vapidKey=pt:this.vapidKey||(this.vapidKey=ct),[2]})})},st.prototype.updateSwReg=function(pt){return Ae(this,void 0,void 0,function(){return Se(this,function(St){switch(St.label){case 0:return pt||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:St.sent(),St.label=2;case 2:if(!pt&&this.swRegistration)return[2];if(!(pt instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");return this.swRegistration=pt,[2]}})})},st.prototype.registerDefaultSw=function(){return Ae(this,void 0,void 0,function(){var pt,St;return Se(this,function(zt){switch(zt.label){case 0:return zt.trys.push([0,2,,3]),pt=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return pt.swRegistration=zt.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw St=zt.sent(),Ke.create("failed-service-worker-registration",{browserErrorMessage:St.message});case 3:return[2]}})})},st.prototype.deleteToken=function(){return Ae(this,void 0,void 0,function(){return Se(this,function(pt){switch(pt.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:pt.sent(),pt.label=2;case 2:return[2,En(this.firebaseDependencies,this.swRegistration)]}})})},st.prototype.requestPermission=function(){return Ae(this,void 0,void 0,function(){var pt;return Se(this,function(St){switch(St.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(pt=St.sent()))return[2];throw Ke.create("denied"===pt?"permission-blocked":"permission-default")}})})},st.prototype.usePublicVapidKey=function(pt){if(null!==this.vapidKey)throw Ke.create("use-vapid-key-after-get-token");if("string"!=typeof pt||0===pt.length)throw Ke.create("invalid-vapid-key");this.vapidKey=pt},st.prototype.useServiceWorker=function(pt){if(!(pt instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");if(this.swRegistration)throw Ke.create("use-sw-after-get-token");this.swRegistration=pt},st.prototype.onMessage=function(pt){var St=this;return this.onMessageCallback=pt,function(){St.onMessageCallback=null}},st.prototype.setBackgroundMessageHandler=function(){throw Ke.create("only-available-in-sw")},st.prototype.onBackgroundMessage=function(){throw Ke.create("only-available-in-sw")},st.prototype.onTokenRefresh=function(){return function(){}},st.prototype.logEvent=function(pt,St){return Ae(this,void 0,void 0,function(){var zt;return Se(this,function(q){switch(q.label){case 0:return zt=function ot(st){switch(st){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(pt),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return q.sent().logEvent(zt,{message_id:St[ce],message_name:St["google.c.a.c_l"],message_time:St["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},st}();function Dt(st){return Ke.create("missing-app-config-values",{valueName:st})}var Zn={isSupported:Cn};function Cn(){return self&&"ServiceWorkerGlobalScope"in self?function ei(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function yr(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}J.default.INTERNAL.registerComponent(new E.Component("messaging",function vn(st){var pt=st.getProvider("app").getImmediate(),St=function De(st){var pt,St;if(!st||!st.options)throw Dt("App Configuration Object");if(!st.name)throw Dt("App Name");var ke=st.options;try{for(var q=Zt(["projectId","apiKey","appId","messagingSenderId"]),be=q.next();!be.done;be=q.next()){var $e=be.value;if(!ke[$e])throw Dt($e)}}catch(mt){pt={error:mt}}finally{try{be&&!be.done&&(St=q.return)&&St.call(q)}finally{if(pt)throw pt.error}}return{appName:st.name,projectId:ke.projectId,apiKey:ke.apiKey,appId:ke.appId,senderId:ke.messagingSenderId}}(pt),q={app:pt,appConfig:St,installations:st.getProvider("installations").getImmediate(),analyticsProvider:st.getProvider("analytics-internal")};if(!Cn())throw Ke.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new le(q):new qt(q)},"PUBLIC").setServiceProps(Zn))},2517:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(39278);N(78660);var E=N(41175),j=N(1270),Pe=N(64003),z=N(46355);function Qe(ke){return ke&&"object"==typeof ke&&"default"in ke?ke:{default:ke}}var Le,te=Qe(y),Ge="@firebase/performance",ie="0.4.2",K=ie,Ae="FB-PERF-TRACE-START",Se="FB-PERF-TRACE-STOP",Fe="FB-PERF-TRACE-MEASURE",Nt="@firebase/performance/config",yt="@firebase/performance/configexpire",Ot="Performance",Me=((Le={})["trace started"]="Trace {$traceName} was started before.",Le["trace stopped"]="Trace {$traceName} is not running.",Le["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Le["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Le["no window"]="Window is not available.",Le["no app id"]="App id is not available.",Le["no project id"]="Project id is not available.",Le["no api key"]="Api key is not available.",Le["invalid cc log"]="Attempted to queue invalid cc event",Le["FB not default"]="Performance can only start when Firebase app instance is the default one.",Le["RC response not ok"]="RC response is not ok",Le["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Le["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Le["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Le["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Le),tt=new j.ErrorFactory("performance",Ot,Me),f=new Pe.Logger(Ot);f.logLevel=Pe.LogLevel.INFO;var k,T,W=function(){function ke(q){if(this.window=q,!q)throw tt.create("no window");this.performance=q.performance,this.PerformanceObserver=q.PerformanceObserver,this.windowLocation=q.location,this.navigator=q.navigator,this.document=q.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=q.localStorage),q.perfMetrics&&q.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=q.perfMetrics.onFirstInputDelay)}return ke.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ke.prototype.mark=function(q){!this.performance||!this.performance.mark||this.performance.mark(q)},ke.prototype.measure=function(q,be,$e){!this.performance||!this.performance.measure||this.performance.measure(q,be,$e)},ke.prototype.getEntriesByType=function(q){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(q):[]},ke.prototype.getEntriesByName=function(q){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(q):[]},ke.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ke.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!j.isIndexedDBAvailable()||(f.info("IndexedDB is not supported by current browswer"),!1):(f.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ke.prototype.setupObserver=function(q,be){this.PerformanceObserver&&new this.PerformanceObserver(function(mt){for(var Mt=0,Lt=mt.getEntries();Mt<Lt.length;Mt++)be(Lt[Mt])}).observe({entryTypes:[q]})},ke.getInstance=function(){return void 0===k&&(k=new ke(T)),k},ke}();function R(ke,q){var be=ke.length-q.length;if(be<0||be>1)throw tt.create("invalid String merger input");for(var $e=[],mt=0;mt<ke.length;mt++)$e.push(ke.charAt(mt)),q.length>mt&&$e.push(q.charAt(mt));return $e.join("")}var ge,Tn,Ke=function(){function ke(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=R("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=R("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return ke.prototype.getAppId=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!q)throw tt.create("no app id");return q},ke.prototype.getProjectId=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!q)throw tt.create("no project id");return q},ke.prototype.getApiKey=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!q)throw tt.create("no api key");return q},ke.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ke.getInstance=function(){return void 0===ge&&(ge=new ke),ge},ke}();function ct(){return Tn}var ee=(()=>{return(ke=ee||(ee={}))[ke.UNKNOWN=0]="UNKNOWN",ke[ke.VISIBLE=1]="VISIBLE",ke[ke.HIDDEN=2]="HIDDEN",ee;var ke})(),ce=["firebase_","google_","ga_"],re=new RegExp("^[a-zA-Z]\\w*$");function Et(){switch(W.getInstance().document.visibilityState){case"visible":return ee.VISIBLE;case"hidden":return ee.HIDDEN;default:return ee.UNKNOWN}}function gn(){var q=W.getInstance().navigator.connection;switch(q&&q.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var ft="0.0.1",Ut={loggingEnabled:!0},Xt="FIREBASE_INSTALLATIONS_AUTH";var er="Could not fetch config, will use default configs";function Nn(ke){if(!ke)return ke;var q=Ke.getInstance(),be=ke.entries||{};return q.loggingEnabled=void 0!==be.fpr_enabled?"true"===String(be.fpr_enabled):Ut.loggingEnabled,be.fpr_log_source&&(q.logSource=Number(be.fpr_log_source)),be.fpr_log_endpoint_url&&(q.logEndPointUrl=be.fpr_log_endpoint_url),be.fpr_log_transport_key&&(q.transportKey=be.fpr_log_transport_key),void 0!==be.fpr_vc_network_request_sampling_rate&&(q.networkRequestsSamplingRate=Number(be.fpr_vc_network_request_sampling_rate)),void 0!==be.fpr_vc_trace_sampling_rate&&(q.tracesSamplingRate=Number(be.fpr_vc_trace_sampling_rate)),q.logTraceAfterSampling=pn(q.tracesSamplingRate),q.logNetworkAfterSampling=pn(q.networkRequestsSamplingRate),ke}function pn(ke){return Math.random()<=ke}var vt,Oe=1;function Bt(){return Oe=2,vt=vt||function mn(){return function Je(){var ke=W.getInstance().document;return new Promise(function(q){if(ke&&"complete"!==ke.readyState){var be=function(){"complete"===ke.readyState&&(ke.removeEventListener("readystatechange",be),q())};ke.addEventListener("readystatechange",be)}else q()})}().then(function(){return function He(){var ke=Ke.getInstance().installationsService.getId();return ke.then(function(q){Tn=q}),ke}()}).then(function(ke){return function fn(ke){var q=function jn(){var ke=W.getInstance().localStorage;if(ke){var q=ke.getItem(yt);if(q&&function Dr(ke){return Number(ke)>Date.now()}(q)){var be=ke.getItem(Nt);if(be)try{return JSON.parse(be)}catch{return}}}}();return q?(Nn(q),Promise.resolve()):function Qn(ke){return function at(){var ke=Ke.getInstance().installationsService.getToken();return ke.then(function(q){}),ke}().then(function(q){var $e="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ke.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ke.getInstance().getApiKey(),mt=new Request($e,{method:"POST",headers:{Authorization:Xt+" "+q},body:JSON.stringify({app_instance_id:ke,app_instance_id_token:q,app_id:Ke.getInstance().getAppId(),app_version:K,sdk_version:ft})});return fetch(mt).then(function(Mt){if(Mt.ok)return Mt.json();throw tt.create("RC response not ok")})}).catch(function(){f.info(er)})}(ke).then(Nn).then(function(be){return function xn(ke){var q=W.getInstance().localStorage;!ke||!q||(q.setItem(Nt,JSON.stringify(ke)),q.setItem(yt,String(Date.now()+60*Ke.getInstance().configTimeToLive*60*1e3)))}(be)},function(){})}(ke)}).then(function(){return Ee()},function(){return Ee()})}()}function Ee(){Oe=3}var Te,xt=1e4,Rt=5500,dt=3,En=dt,On=[],Wn=!1;function Rn(ke){setTimeout(function(){if(0!==En){if(!On.length)return Rn(xt);!function nr(){var ke=E.__spreadArrays(On);On=[];var q=ke.map(function($e){return{source_extension_json_proto3:$e.message,event_time_ms:String($e.eventTime)}});(function xr(ke,q){return function hn(ke){var q=Ke.getInstance().getFlTransportFullUrl();return fetch(q,{method:"POST",body:JSON.stringify(ke)})}(ke).then(function(be){return be.ok||f.info("Call to Firebase backend failed."),be.json()}).then(function(be){var $e=Number(be.nextRequestWaitMillis),mt=xt;isNaN($e)||(mt=Math.max($e,mt));var Mt=be.logResponseDetails;Array.isArray(Mt)&&Mt.length>0&&"RETRY_REQUEST_LATER"===Mt[0].responseAction&&(On=E.__spreadArrays(q,On),f.info("Retry transport request later.")),En=dt,Rn(mt)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ke.getInstance().logSource,log_event:q},ke).catch(function(){On=E.__spreadArrays(ke,On),En--,f.info("Tries left: "+En+"."),Rn(xt)})}()}},ke)}function le(ke,q){Te||(Te=function Vt(ke){return function(){for(var q=[],be=0;be<arguments.length;be++)q[be]=arguments[be];!function Pt(ke){if(!ke.eventTime||!ke.message)throw tt.create("invalid cc log");On=E.__spreadArrays(On,[ke])}({message:ke.apply(void 0,q),eventTime:Date.now()})}}(bn)),Te(ke,q)}function ae(ke){var q=Ke.getInstance();!q.instrumentationEnabled&&ke.isAuto||!q.dataCollectionEnabled&&!ke.isAuto||W.getInstance().requiredApisAvailable()&&(ke.isAuto&&Et()!==ee.VISIBLE||(function Qt(){return 3===Oe}()?rt(ke):Bt().then(function(){return rt(ke)},function(){return rt(ke)})))}function rt(ke){if(ct()){var q=Ke.getInstance();!q.loggingEnabled||!q.logTraceAfterSampling||setTimeout(function(){return le(ke,1)},0)}}function bn(ke,q){return 0===q?function xe(ke){var q={url:ke.url,http_method:ke.httpMethod||0,http_response_code:200,response_payload_bytes:ke.responsePayloadBytes,client_start_time_us:ke.startTimeUs,time_to_response_initiated_us:ke.timeToResponseInitiatedUs,time_to_response_completed_us:ke.timeToResponseCompletedUs},be={application_info:Yt(),network_request_metric:q};return JSON.stringify(be)}(ke):function Ct(ke){var q={name:ke.name,is_auto:ke.isAuto,client_start_time_us:ke.startTimeUs,duration_us:ke.durationUs};0!==Object.keys(ke.counters).length&&(q.counters=ke.counters);var be=ke.getAttributes();0!==Object.keys(be).length&&(q.custom_attributes=be);var $e={application_info:Yt(),trace_metric:q};return JSON.stringify($e)}(ke)}function Yt(){return{google_app_id:Ke.getInstance().getAppId(),app_instance_id:ct(),web_app_info:{sdk_version:K,page_url:W.getInstance().getUrl(),service_worker_status:(ke=W.getInstance().navigator,"serviceWorker"in ke?ke.serviceWorker.controller?2:3:1),visibility_state:Et(),effective_connection_type:gn()},application_process_state:0};var ke}var ot=["_fp","_fcp","_fid"],Dt=function(){function ke(q,be,$e){void 0===be&&(be=!1),this.name=q,this.isAuto=be,this.state=1,this.customAttributes={},this.counters={},this.api=W.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Ae+"-"+this.randomId+"-"+this.name,this.traceStopMark=Se+"-"+this.randomId+"-"+this.name,this.traceMeasure=$e||Fe+"-"+this.randomId+"-"+this.name,$e&&this.calculateTraceMetrics())}return ke.prototype.start=function(){if(1!==this.state)throw tt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},ke.prototype.stop=function(){if(2!==this.state)throw tt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ae(this)},ke.prototype.record=function(q,be,$e){if(q<=0)throw tt.create("nonpositive trace startTime",{traceName:this.name});if(be<=0)throw tt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*be),this.startTimeUs=Math.floor(1e3*q),$e&&$e.attributes&&(this.customAttributes=E.__assign({},$e.attributes)),$e&&$e.metrics)for(var mt=0,Mt=Object.keys($e.metrics);mt<Mt.length;mt++){var Lt=Mt[mt];isNaN(Number($e.metrics[Lt]))||(this.counters[Lt]=Number(Math.floor($e.metrics[Lt])))}ae(this)},ke.prototype.incrementMetric=function(q,be){void 0===be&&(be=1),this.putMetric(q,void 0===this.counters[q]?be:this.counters[q]+be)},ke.prototype.putMetric=function(q,be){if(!function nt(ke,q){return!(0===ke.length||ke.length>100)&&(q&&q.startsWith("_wt_")&&ot.indexOf(ke)>-1||!ke.startsWith("_"))}(q,this.name))throw tt.create("invalid custom metric name",{customMetricName:q});this.counters[q]=function De(ke){var q=Math.floor(ke);return q<ke&&f.info("Metric value should be an Integer, setting the value as : "+q+"."),q}(be)},ke.prototype.getMetric=function(q){return this.counters[q]||0},ke.prototype.putAttribute=function(q,be){var $e=function _t(ke){return!(0===ke.length||ke.length>40||ce.some(function(be){return ke.startsWith(be)})||!ke.match(re))}(q),mt=function an(ke){return 0!==ke.length&&ke.length<=100}(be);if($e&&mt)this.customAttributes[q]=be;else{if(!$e)throw tt.create("invalid attribute name",{attributeName:q});if(!mt)throw tt.create("invalid attribute value",{attributeValue:be})}},ke.prototype.getAttribute=function(q){return this.customAttributes[q]},ke.prototype.removeAttribute=function(q){void 0!==this.customAttributes[q]&&delete this.customAttributes[q]},ke.prototype.getAttributes=function(){return E.__assign({},this.customAttributes)},ke.prototype.setStartTime=function(q){this.startTimeUs=q},ke.prototype.setDuration=function(q){this.durationUs=q},ke.prototype.calculateTraceMetrics=function(){var q=this.api.getEntriesByName(this.traceMeasure),be=q&&q[0];be&&(this.durationUs=Math.floor(1e3*be.duration),this.startTimeUs=Math.floor(1e3*(be.startTime+this.api.getTimeOrigin())))},ke.createOobTrace=function(q,be,$e){var mt=W.getInstance().getUrl();if(mt){var Mt=new ke("_wt_"+mt,!0),Lt=Math.floor(1e3*W.getInstance().getTimeOrigin());if(Mt.setStartTime(Lt),q&&q[0]&&(Mt.setDuration(Math.floor(1e3*q[0].duration)),Mt.putMetric("domInteractive",Math.floor(1e3*q[0].domInteractive)),Mt.putMetric("domContentLoadedEventEnd",Math.floor(1e3*q[0].domContentLoadedEventEnd)),Mt.putMetric("loadEventEnd",Math.floor(1e3*q[0].loadEventEnd))),be){var mr=be.find(function(dn){return"first-paint"===dn.name});mr&&mr.startTime&&Mt.putMetric("_fp",Math.floor(1e3*mr.startTime));var rr=be.find(function(dn){return"first-contentful-paint"===dn.name});rr&&rr.startTime&&Mt.putMetric("_fcp",Math.floor(1e3*rr.startTime)),$e&&Mt.putMetric("_fid",Math.floor(1e3*$e))}ae(Mt)}},ke.createUserTimingTrace=function(q){ae(new ke(q,!1,q))},ke}();function Ft(ke){var q=ke;if(q&&void 0!==q.responseStart){var be=W.getInstance().getTimeOrigin(),$e=Math.floor(1e3*(q.startTime+be)),mt=q.responseStart?Math.floor(1e3*(q.responseStart-q.startTime)):void 0,Mt=Math.floor(1e3*(q.responseEnd-q.startTime));!function Tt(ke){var q=Ke.getInstance();if(q.instrumentationEnabled){var be=ke.url,$e=q.logEndPointUrl.split("?")[0],mt=q.flTransportEndpointUrl.split("?")[0];be===$e||be===mt||!q.loggingEnabled||!q.logNetworkAfterSampling||setTimeout(function(){return le(ke,0)},0)}}({url:q.name&&q.name.split("?")[0],responsePayloadBytes:q.transferSize,startTimeUs:$e,timeToResponseInitiatedUs:mt,timeToResponseCompletedUs:Mt})}}var vn=5e3;function Zn(){ct()&&(setTimeout(function(){return function yr(){var ke=W.getInstance(),q=ke.getEntriesByType("navigation"),be=ke.getEntriesByType("paint");if(ke.onFirstInputDelay){var $e=setTimeout(function(){Dt.createOobTrace(q,be),$e=void 0},vn);ke.onFirstInputDelay(function(mt){$e&&(clearTimeout($e),Dt.createOobTrace(q,be,mt))})}else Dt.createOobTrace(q,be)}()},0),setTimeout(function(){return function Cn(){for(var ke=W.getInstance(),be=0,$e=ke.getEntriesByType("resource");be<$e.length;be++)Ft($e[be]);ke.setupObserver("resource",Ft)}()},0),setTimeout(function(){return function ei(){for(var ke=W.getInstance(),be=0,$e=ke.getEntriesByType("measure");be<$e.length;be++)st($e[be]);ke.setupObserver("measure",st)}()},0))}function st(ke){var q=ke.name;q.substring(0,Fe.length)!==Fe&&Dt.createUserTimingTrace(q)}var pt=function(){function ke(q){this.app=q,W.getInstance().requiredApisAvailable()&&j.validateIndexedDBOpenable().then(function(be){be&&(function kn(){Wn||(Rn(Rt),Wn=!0)}(),Bt().then(Zn,Zn))}).catch(function(be){f.info("Environment doesn't support IndexedDB: "+be)})}return ke.prototype.trace=function(q){return new Dt(q)},Object.defineProperty(ke.prototype,"instrumentationEnabled",{get:function(){return Ke.getInstance().instrumentationEnabled},set:function(q){Ke.getInstance().instrumentationEnabled=q},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"dataCollectionEnabled",{get:function(){return Ke.getInstance().dataCollectionEnabled},set:function(q){Ke.getInstance().dataCollectionEnabled=q},enumerable:!1,configurable:!0}),ke}(),St="[DEFAULT]";function zt(ke){ke.INTERNAL.registerComponent(new z.Component("performance",function(be){return function(be,$e){if(be.name!==St)throw tt.create("FB not default");if(typeof window>"u")throw tt.create("no window");return function J(ke){T=ke}(window),Ke.getInstance().firebaseAppInstance=be,Ke.getInstance().installationsService=$e,new pt(be)}(be.getProvider("app").getImmediate(),be.getProvider("installations").getImmediate())},"PUBLIC")),ke.registerVersion(Ge,ie)}zt(te.default),it.registerPerformance=zt},8072:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(39278);N(78660);var E=N(52027),j=N(1270),Pe=N(64003),z=N(46355);function Qe(ce){return ce&&"object"==typeof ce&&"default"in ce?ce:{default:ce}}var ie,te=Qe(y),Ge=function(){function ce(re,Ne,Ue,ht){this.client=re,this.storage=Ne,this.storageCache=Ue,this.logger=ht}return ce.prototype.isCachedDataFresh=function(re,Ne){if(!Ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var Ue=Date.now()-Ne,ht=Ue<=re;return this.logger.debug("Config fetch cache check. Cache age millis: "+Ue+". Cache max age millis (minimumFetchIntervalMillis setting): "+re+". Is cache hit: "+ht+"."),ht},ce.prototype.fetch=function(re){return E.__awaiter(this,void 0,void 0,function(){var Ne,Ue,ht,Et,gn;return E.__generator(this,function(_t){switch(_t.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return Ne=_t.sent(),Ue=Ne[0],(ht=Ne[1])&&this.isCachedDataFresh(re.cacheMaxAgeMillis,Ue)?[2,ht]:(re.eTag=ht&&ht.eTag,[4,this.client.fetch(re)]);case 2:return Et=_t.sent(),gn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===Et.status&&gn.push(this.storage.setLastSuccessfulFetchResponse(Et)),[4,Promise.all(gn)];case 3:return _t.sent(),[2,Et]}})})},ce}(),K=((ie={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ie["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ie["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ie["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ie["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ie["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ie["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ie["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ie["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ie["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ie["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ie["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ie["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ie),Ae=new j.ErrorFactory("remoteconfig","Remote Config",K);function Fe(ce){return void 0===ce&&(ce=navigator),ce.languages&&ce.languages[0]||ce.language}var bt=function(){function ce(re,Ne,Ue,ht,Et,gn){this.firebaseInstallations=re,this.sdkVersion=Ne,this.namespace=Ue,this.projectId=ht,this.apiKey=Et,this.appId=gn}return ce.prototype.fetch=function(re){return E.__awaiter(this,void 0,void 0,function(){var Ne,Et,gn,_t,an,ft,Ut,Xt,fn,jn,xn,er,Qn,Nn,Dr,pn,Oe;return E.__generator(this,function(vt){switch(vt.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:Ne=vt.sent(),Et=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",gn=Et+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":re.eTag||"*"},an={sdk_version:this.sdkVersion,app_instance_id:Ne[0],app_instance_id_token:Ne[1],app_id:this.appId,language_code:Fe()},ft={method:"POST",headers:_t,body:JSON.stringify(an)},Ut=fetch(gn,ft),Xt=new Promise(function(Bt,Qt){re.signal.addEventListener(function(){var mn=new Error("The operation was aborted.");mn.name="AbortError",Qt(mn)})}),vt.label=2;case 2:return vt.trys.push([2,5,,6]),[4,Promise.race([Ut,Xt])];case 3:return vt.sent(),[4,Ut];case 4:return fn=vt.sent(),[3,6];case 5:throw jn=vt.sent(),xn="fetch-client-network","AbortError"===jn.name&&(xn="fetch-timeout"),Ae.create(xn,{originalErrorMessage:jn.message});case 6:if(er=fn.status,Qn=fn.headers.get("ETag")||void 0,200!==fn.status)return[3,11];pn=void 0,vt.label=7;case 7:return vt.trys.push([7,9,,10]),[4,fn.json()];case 8:return pn=vt.sent(),[3,10];case 9:throw Oe=vt.sent(),Ae.create("fetch-client-parse",{originalErrorMessage:Oe.message});case 10:Nn=pn.entries,Dr=pn.state,vt.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Dr?er=500:"NO_CHANGE"===Dr?er=304:("NO_TEMPLATE"===Dr||"EMPTY_CONFIG"===Dr)&&(Nn={}),304!==er&&200!==er)throw Ae.create("fetch-status",{httpStatus:er});return[2,{status:er,eTag:Qn,config:Nn}]}})})},ce}(),Zt=function(){function ce(){this.listeners=[]}return ce.prototype.addEventListener=function(re){this.listeners.push(re)},ce.prototype.abort=function(){this.listeners.forEach(function(re){return re()})},ce}(),ye="",yt=["1","true","t","yes","y","on"],en=function(){function ce(re,Ne){void 0===Ne&&(Ne=ye),this._source=re,this._value=Ne}return ce.prototype.asString=function(){return this._value},ce.prototype.asBoolean=function(){return"static"!==this._source&&yt.indexOf(this._value.toLowerCase())>=0},ce.prototype.asNumber=function(){if("static"===this._source)return 0;var re=Number(this._value);return isNaN(re)&&(re=0),re},ce.prototype.getSource=function(){return this._source},ce}(),Ot=6e4,Le=432e5,Me=function(){function ce(re,Ne,Ue,ht,Et){this.app=re,this._client=Ne,this._storageCache=Ue,this._storage=ht,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Ot,minimumFetchIntervalMillis:Le},this.defaultConfig={}}return ce.prototype.setLogLevel=function(re){switch(re){case"debug":this._logger.logLevel=Pe.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Pe.LogLevel.SILENT;break;default:this._logger.logLevel=Pe.LogLevel.ERROR}},Object.defineProperty(ce.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),ce.prototype.activate=function(){return E.__awaiter(this,void 0,void 0,function(){var re,Ne,Ue;return E.__generator(this,function(ht){switch(ht.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return re=ht.sent(),Ue=re[1],(Ne=re[0])&&Ne.config&&Ne.eTag&&Ne.eTag!==Ue?[4,Promise.all([this._storageCache.setActiveConfig(Ne.config),this._storage.setActiveConfigEtag(Ne.eTag)])]:[2,!1];case 2:return ht.sent(),[2,!0]}})})},ce.prototype.ensureInitialized=function(){var re=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){re._isInitializationComplete=!0})),this._initializePromise},ce.prototype.fetch=function(){return E.__awaiter(this,void 0,void 0,function(){var re,Ne,Ue,ht=this;return E.__generator(this,function(Et){switch(Et.label){case 0:re=new Zt,setTimeout(function(){return E.__awaiter(ht,void 0,void 0,function(){return E.__generator(this,function(gn){return re.abort(),[2]})})},this.settings.fetchTimeoutMillis),Et.label=1;case 1:return Et.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:re})];case 2:return Et.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return Et.sent(),[3,6];case 4:return Ne=Et.sent(),Ue=function Se(ce,re){return ce instanceof j.FirebaseError&&-1!==ce.code.indexOf(re)}(Ne,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(Ue)];case 5:throw Et.sent(),Ne;case 6:return[2]}})})},ce.prototype.fetchAndActivate=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(re){switch(re.label){case 0:return[4,this.fetch()];case 1:return re.sent(),[2,this.activate()]}})})},ce.prototype.getAll=function(){var re=this;return function tt(ce,re){return void 0===ce&&(ce={}),void 0===re&&(re={}),Object.keys(E.__assign(E.__assign({},ce),re))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(Ne,Ue){return Ne[Ue]=re.getValue(Ue),Ne},{})},ce.prototype.getBoolean=function(re){return this.getValue(re).asBoolean()},ce.prototype.getNumber=function(re){return this.getValue(re).asNumber()},ce.prototype.getString=function(re){return this.getValue(re).asString()},ce.prototype.getValue=function(re){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+re+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var Ne=this._storageCache.getActiveConfig();return Ne&&void 0!==Ne[re]?new en("remote",Ne[re]):this.defaultConfig&&void 0!==this.defaultConfig[re]?new en("default",String(this.defaultConfig[re])):(this._logger.debug('Returning static value for key "'+re+'". Define a default or remote value if this is unintentional.'),new en("static"))},ce}();function f(ce,re){var Ne=ce.target.error||void 0;return Ae.create(re,{originalErrorMessage:Ne&&Ne.message})}var k="app_namespace_store",T="firebase_remote_config",W=1,R=function(){function ce(re,Ne,Ue,ht){void 0===ht&&(ht=function J(){return new Promise(function(ce,re){var Ne=indexedDB.open(T,W);Ne.onerror=function(Ue){re(f(Ue,"storage-open"))},Ne.onsuccess=function(Ue){ce(Ue.target.result)},Ne.onupgradeneeded=function(Ue){0===Ue.oldVersion&&Ue.target.result.createObjectStore(k,{keyPath:"compositeKey"})}})}()),this.appId=re,this.appName=Ne,this.namespace=Ue,this.openDbPromise=ht}return ce.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},ce.prototype.setLastFetchStatus=function(re){return this.set("last_fetch_status",re)},ce.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},ce.prototype.setLastSuccessfulFetchTimestampMillis=function(re){return this.set("last_successful_fetch_timestamp_millis",re)},ce.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},ce.prototype.setLastSuccessfulFetchResponse=function(re){return this.set("last_successful_fetch_response",re)},ce.prototype.getActiveConfig=function(){return this.get("active_config")},ce.prototype.setActiveConfig=function(re){return this.set("active_config",re)},ce.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},ce.prototype.setActiveConfigEtag=function(re){return this.set("active_config_etag",re)},ce.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},ce.prototype.setThrottleMetadata=function(re){return this.set("throttle_metadata",re)},ce.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},ce.prototype.get=function(re){return E.__awaiter(this,void 0,void 0,function(){var Ne,Ue=this;return E.__generator(this,function(ht){switch(ht.label){case 0:return[4,this.openDbPromise];case 1:return Ne=ht.sent(),[2,new Promise(function(Et,gn){var an=Ne.transaction([k],"readonly").objectStore(k),ft=Ue.createCompositeKey(re);try{var Ut=an.get(ft);Ut.onerror=function(Xt){gn(f(Xt,"storage-get"))},Ut.onsuccess=function(Xt){var fn=Xt.target.result;Et(fn?fn.value:void 0)}}catch(Xt){gn(Ae.create("storage-get",{originalErrorMessage:Xt&&Xt.message}))}})]}})})},ce.prototype.set=function(re,Ne){return E.__awaiter(this,void 0,void 0,function(){var Ue,ht=this;return E.__generator(this,function(Et){switch(Et.label){case 0:return[4,this.openDbPromise];case 1:return Ue=Et.sent(),[2,new Promise(function(gn,_t){var ft=Ue.transaction([k],"readwrite").objectStore(k),Ut=ht.createCompositeKey(re);try{var Xt=ft.put({compositeKey:Ut,value:Ne});Xt.onerror=function(fn){_t(f(fn,"storage-set"))},Xt.onsuccess=function(){gn()}}catch(fn){_t(Ae.create("storage-set",{originalErrorMessage:fn&&fn.message}))}})]}})})},ce.prototype.delete=function(re){return E.__awaiter(this,void 0,void 0,function(){var Ne,Ue=this;return E.__generator(this,function(ht){switch(ht.label){case 0:return[4,this.openDbPromise];case 1:return Ne=ht.sent(),[2,new Promise(function(Et,gn){var an=Ne.transaction([k],"readwrite").objectStore(k),ft=Ue.createCompositeKey(re);try{var Ut=an.delete(ft);Ut.onerror=function(Xt){gn(f(Xt,"storage-delete"))},Ut.onsuccess=function(){Et()}}catch(Xt){gn(Ae.create("storage-delete",{originalErrorMessage:Xt&&Xt.message}))}})]}})})},ce.prototype.createCompositeKey=function(re){return[this.appId,this.appName,this.namespace,re].join()},ce}(),ge=function(){function ce(re){this.storage=re}return ce.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},ce.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},ce.prototype.getActiveConfig=function(){return this.activeConfig},ce.prototype.loadFromStorage=function(){return E.__awaiter(this,void 0,void 0,function(){var re,Ne,Ue,ht,Et,gn;return E.__generator(this,function(_t){switch(_t.label){case 0:return re=this.storage.getLastFetchStatus(),Ne=this.storage.getLastSuccessfulFetchTimestampMillis(),Ue=this.storage.getActiveConfig(),[4,re];case 1:return(ht=_t.sent())&&(this.lastFetchStatus=ht),[4,Ne];case 2:return(Et=_t.sent())&&(this.lastSuccessfulFetchTimestampMillis=Et),[4,Ue];case 3:return(gn=_t.sent())&&(this.activeConfig=gn),[2]}})})},ce.prototype.setLastFetchStatus=function(re){return this.lastFetchStatus=re,this.storage.setLastFetchStatus(re)},ce.prototype.setLastSuccessfulFetchTimestampMillis=function(re){return this.lastSuccessfulFetchTimestampMillis=re,this.storage.setLastSuccessfulFetchTimestampMillis(re)},ce.prototype.setActiveConfig=function(re){return this.activeConfig=re,this.storage.setActiveConfig(re)},ce}();function Ke(ce,re){return new Promise(function(Ne,Ue){var ht=Math.max(re-Date.now(),0),Et=setTimeout(Ne,ht);ce.addEventListener(function(){clearTimeout(Et),Ue(Ae.create("fetch-throttle",{throttleEndTimeMillis:re}))})})}var He=function(){function ce(re,Ne){this.client=re,this.storage=Ne}return ce.prototype.fetch=function(re){return E.__awaiter(this,void 0,void 0,function(){var Ne;return E.__generator(this,function(Ue){switch(Ue.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return Ne=Ue.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(re,Ne)]}})})},ce.prototype.attemptFetch=function(re,Ne){var Ue=Ne.throttleEndTimeMillis,ht=Ne.backoffCount;return E.__awaiter(this,void 0,void 0,function(){var Et,gn,_t;return E.__generator(this,function(an){switch(an.label){case 0:return[4,Ke(re.signal,Ue)];case 1:an.sent(),an.label=2;case 2:return an.trys.push([2,5,,7]),[4,this.client.fetch(re)];case 3:return Et=an.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return an.sent(),[2,Et];case 5:if(!function Tn(ce){if(!(ce instanceof j.FirebaseError))return!1;var re=Number(ce.httpStatus);return 429===re||500===re||503===re||504===re}(gn=an.sent()))throw gn;return _t={throttleEndTimeMillis:Date.now()+j.calculateBackoffMillis(ht),backoffCount:ht+1},[4,this.storage.setThrottleMetadata(_t)];case 6:return an.sent(),[2,this.attemptFetch(re,_t)];case 7:return[2]}})})},ce}(),ct="@firebase/remote-config",at="0.1.28";function ee(ce){ce.INTERNAL.registerComponent(new z.Component("remoteConfig",function re(Ne,Ue){var ht=Ne.getProvider("app").getImmediate(),Et=Ne.getProvider("installations").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");var gn=ht.options,_t=gn.projectId,an=gn.apiKey,ft=gn.appId;if(!_t)throw Ae.create("registration-project-id");if(!an)throw Ae.create("registration-api-key");if(!ft)throw Ae.create("registration-app-id");var Ut=new R(ft,ht.name,Ue=Ue||"firebase"),Xt=new ge(Ut),fn=new Pe.Logger(ct);fn.logLevel=Pe.LogLevel.ERROR;var jn=new bt(Et,ce.SDK_VERSION,Ue,_t,an,ft),xn=new He(jn,Ut),er=new Ge(xn,Ut,Xt,fn),Qn=new Me(ht,er,Xt,Ut,fn);return Qn.ensureInitialized(),Qn},"PUBLIC").setMultipleInstances(!0)),ce.registerVersion(ct,at)}ee(te.default),it.registerRemoteConfig=ee},92684:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{registerStorage:()=>lo});var y=N(39278);function ie(oe,ne,Be,wt){return new(Be||(Be=Promise))(function(Jt,Sn){function Hn(or){try{qn(wt.next(or))}catch(Kr){Sn(Kr)}}function Mn(or){try{qn(wt.throw(or))}catch(Kr){Sn(Kr)}}function qn(or){or.done?Jt(or.value):function jt(Jt){return Jt instanceof Be?Jt:new Be(function(Sn){Sn(Jt)})}(or.value).then(Hn,Mn)}qn((wt=wt.apply(oe,ne||[])).next())})}function K(oe,ne){var wt,jt,Jt,Sn,Be={label:0,sent:function(){if(1&Jt[0])throw Jt[1];return Jt[1]},trys:[],ops:[]};return Sn={next:Hn(0),throw:Hn(1),return:Hn(2)},"function"==typeof Symbol&&(Sn[Symbol.iterator]=function(){return this}),Sn;function Hn(qn){return function(or){return function Mn(qn){if(wt)throw new TypeError("Generator is already executing.");for(;Be;)try{if(wt=1,jt&&(Jt=2&qn[0]?jt.return:qn[0]?jt.throw||((Jt=jt.return)&&Jt.call(jt),0):jt.next)&&!(Jt=Jt.call(jt,qn[1])).done)return Jt;switch(jt=0,Jt&&(qn=[2&qn[0],Jt.value]),qn[0]){case 0:case 1:Jt=qn;break;case 4:return Be.label++,{value:qn[1],done:!1};case 5:Be.label++,jt=qn[1],qn=[0];continue;case 7:qn=Be.ops.pop(),Be.trys.pop();continue;default:if(!(Jt=(Jt=Be.trys).length>0&&Jt[Jt.length-1])&&(6===qn[0]||2===qn[0])){Be=0;continue}if(3===qn[0]&&(!Jt||qn[1]>Jt[0]&&qn[1]<Jt[3])){Be.label=qn[1];break}if(6===qn[0]&&Be.label<Jt[1]){Be.label=Jt[1],Jt=qn;break}if(Jt&&Be.label<Jt[2]){Be.label=Jt[2],Be.ops.push(qn);break}Jt[2]&&Be.ops.pop(),Be.trys.pop();continue}qn=ne.call(oe,Be)}catch(or){qn=[6,or],jt=0}finally{wt=Jt=0}if(5&qn[0])throw qn[1];return{value:qn[0]?qn[1]:void 0,done:!0}}([qn,or])}}}function Wt(){for(var oe=0,ne=0,Be=arguments.length;ne<Be;ne++)oe+=arguments[ne].length;var wt=Array(oe),jt=0;for(ne=0;ne<Be;ne++)for(var Jt=arguments[ne],Sn=0,Hn=Jt.length;Sn<Hn;Sn++,jt++)wt[jt]=Jt[Sn];return wt}var k=N(46355),T="firebasestorage.googleapis.com",J=12e4,R=6e5,ge=function(){function oe(ne,Be){this.code_=Tn(ne),this.message_="Firebase Storage: "+Be,this.serverResponse_=null,this.name_="FirebaseError"}return oe.prototype.codeProp=function(){return this.code},oe.prototype.codeEquals=function(ne){return Tn(ne)===this.codeProp()},oe.prototype.serverResponseProp=function(){return this.serverResponse_},oe.prototype.setServerResponseProp=function(ne){this.serverResponse_=ne},Object.defineProperty(oe.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),oe}(),Ke={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Tn(oe){return"storage/"+oe}function He(){return new ge(Ke.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ne(){return new ge(Ke.CANCELED,"User canceled the upload/download.")}function Et(){return new ge(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function an(oe,ne,Be){return new ge(Ke.INVALID_ARGUMENT,"Invalid argument in `"+ne+"` at index "+oe+": "+Be)}function Ut(){return new ge(Ke.APP_DELETED,"The Firebase app was deleted.")}function fn(oe,ne){return new ge(Ke.INVALID_FORMAT,"String does not match format '"+oe+"': "+ne)}function jn(oe){throw new ge(Ke.INTERNAL_ERROR,"Internal error: "+oe)}var xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function er(oe){switch(oe){case xn.RAW:case xn.BASE64:case xn.BASE64URL:case xn.DATA_URL:return;default:throw"Expected one of the event types: ["+xn.RAW+", "+xn.BASE64+", "+xn.BASE64URL+", "+xn.DATA_URL+"]."}}var Qn=function oe(ne,Be){this.data=ne,this.contentType=Be||null};function Nn(oe,ne){switch(oe){case xn.RAW:return new Qn(Dr(ne));case xn.BASE64:case xn.BASE64URL:return new Qn(Oe(oe,ne));case xn.DATA_URL:return new Qn(function Bt(oe){var ne=new vt(oe);return ne.base64?Oe(xn.BASE64,ne.rest):function pn(oe){var ne;try{ne=decodeURIComponent(oe)}catch{throw fn(xn.DATA_URL,"Malformed data URL.")}return Dr(ne)}(ne.rest)}(ne),function Qt(oe){return new vt(oe).contentType}(ne))}throw He()}function Dr(oe){for(var ne=[],Be=0;Be<oe.length;Be++){var wt=oe.charCodeAt(Be);if(wt<=127)ne.push(wt);else if(wt<=2047)ne.push(192|wt>>6,128|63&wt);else if(55296==(64512&wt))if(Be<oe.length-1&&56320==(64512&oe.charCodeAt(Be+1))){var Jt=wt,Sn=oe.charCodeAt(++Be);ne.push(240|(wt=65536|(1023&Jt)<<10|1023&Sn)>>18,128|wt>>12&63,128|wt>>6&63,128|63&wt)}else ne.push(239,191,189);else 56320==(64512&wt)?ne.push(239,191,189):ne.push(224|wt>>12,128|wt>>6&63,128|63&wt)}return new Uint8Array(ne)}function Oe(oe,ne){switch(oe){case xn.BASE64:var Be=-1!==ne.indexOf("-"),wt=-1!==ne.indexOf("_");if(Be||wt)throw fn(oe,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break;case xn.BASE64URL:var Jt=-1!==ne.indexOf("+"),Sn=-1!==ne.indexOf("/");if(Jt||Sn)throw fn(oe,"Invalid character '"+(Jt?"+":"/")+"' found: is it base64 encoded?");ne=ne.replace(/-/g,"+").replace(/_/g,"/")}var Hn;try{Hn=atob(ne)}catch{throw fn(oe,"Invalid character found")}for(var Mn=new Uint8Array(Hn.length),qn=0;qn<Hn.length;qn++)Mn[qn]=Hn.charCodeAt(qn);return Mn}var vt=function oe(ne){this.base64=!1,this.contentType=null;var Be=ne.match(/^data:([^,]+)?,/);if(null===Be)throw fn(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var wt=Be[1]||null;null!=wt&&(this.base64=function mn(oe,ne){return!!(oe.length>=ne.length)&&oe.substring(oe.length-ne.length)===ne}(wt,";base64"),this.contentType=this.base64?wt.substring(0,wt.length-7):wt),this.rest=ne.substring(ne.indexOf(",")+1)},Je={STATE_CHANGED:"state_changed"},Ee={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},xt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rt(oe){switch(oe){case Ee.RUNNING:case Ee.PAUSING:case Ee.CANCELING:return xt.RUNNING;case Ee.PAUSED:return xt.PAUSED;case Ee.SUCCESS:return xt.SUCCESS;case Ee.CANCELED:return xt.CANCELED;default:return xt.ERROR}}function dt(oe){return null!=oe}function En(oe){return void 0!==oe}function On(oe){return"function"==typeof oe}function Wn(oe){return"object"==typeof oe}function kn(oe){return Wn(oe)&&null!==oe}function nr(oe){return"string"==typeof oe||oe instanceof String}function xr(oe){return hn(oe)&&Number.isInteger(oe)}function hn(oe){return"number"==typeof oe||oe instanceof Number}function Pt(oe){return Vt()&&oe instanceof Blob}function Vt(){return typeof Blob<"u"}var Te=(()=>{return(oe=Te||(Te={}))[oe.NO_ERROR=0]="NO_ERROR",oe[oe.NETWORK_ERROR=1]="NETWORK_ERROR",oe[oe.ABORT=2]="ABORT",Te;var oe})(),le=function(){function oe(){var ne=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Te.NO_ERROR,this.sendPromise_=new Promise(function(Be){ne.xhr_.addEventListener("abort",function(){ne.errorCode_=Te.ABORT,Be(ne)}),ne.xhr_.addEventListener("error",function(){ne.errorCode_=Te.NETWORK_ERROR,Be(ne)}),ne.xhr_.addEventListener("load",function(){Be(ne)})})}return oe.prototype.send=function(ne,Be,wt,jt){if(this.sent_)throw jn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Be,ne,!0),dt(jt))for(var Jt in jt)jt.hasOwnProperty(Jt)&&this.xhr_.setRequestHeader(Jt,jt[Jt].toString());return dt(wt)?this.xhr_.send(wt):this.xhr_.send(),this.sendPromise_},oe.prototype.getErrorCode=function(){if(!this.sent_)throw jn("cannot .getErrorCode() before sending");return this.errorCode_},oe.prototype.getStatus=function(){if(!this.sent_)throw jn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},oe.prototype.getResponseText=function(){if(!this.sent_)throw jn("cannot .getResponseText() before sending");return this.xhr_.responseText},oe.prototype.abort=function(){this.xhr_.abort()},oe.prototype.getResponseHeader=function(ne){return this.xhr_.getResponseHeader(ne)},oe.prototype.addUploadProgressListener=function(ne){dt(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",ne)},oe.prototype.removeUploadProgressListener=function(ne){dt(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",ne)},oe}(),ae=function(){function oe(){}return oe.prototype.createXhrIo=function(){return new le},oe}();function Tt(){for(var oe=[],ne=0;ne<arguments.length;ne++)oe[ne]=arguments[ne];var Be=function rt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Be){for(var wt=new Be,jt=0;jt<oe.length;jt++)wt.append(oe[jt]);return wt.getBlob()}if(Vt())return new Blob(oe);throw Error("This browser doesn't seem to support creating Blobs")}var xe=function(){function oe(ne,Be){var wt=0,jt="";Pt(ne)?(this.data_=ne,wt=ne.size,jt=ne.type):ne instanceof ArrayBuffer?(Be?this.data_=new Uint8Array(ne):(this.data_=new Uint8Array(ne.byteLength),this.data_.set(new Uint8Array(ne))),wt=this.data_.length):ne instanceof Uint8Array&&(Be?this.data_=ne:(this.data_=new Uint8Array(ne.length),this.data_.set(ne)),wt=ne.length),this.size_=wt,this.type_=jt}return oe.prototype.size=function(){return this.size_},oe.prototype.type=function(){return this.type_},oe.prototype.slice=function(ne,Be){if(Pt(this.data_)){var jt=function bn(oe,ne,Be){return oe.webkitSlice?oe.webkitSlice(ne,Be):oe.mozSlice?oe.mozSlice(ne,Be):oe.slice?oe.slice(ne,Be):null}(this.data_,ne,Be);return null===jt?null:new oe(jt)}return new oe(new Uint8Array(this.data_.buffer,ne,Be-ne),!0)},oe.getBlob=function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];if(Vt()){var wt=ne.map(function(Mn){return Mn instanceof oe?Mn.data_:Mn});return new oe(Tt.apply(null,wt))}var jt=ne.map(function(Mn){return nr(Mn)?Nn(xn.RAW,Mn).data:Mn.data_}),Jt=0;jt.forEach(function(Mn){Jt+=Mn.byteLength});var Sn=new Uint8Array(Jt),Hn=0;return jt.forEach(function(Mn){for(var qn=0;qn<Mn.length;qn++)Sn[Hn++]=Mn[qn]}),new oe(Sn,!0)},oe.prototype.uploadData=function(){return this.data_},oe}(),Ct=function(){function oe(ne,Be){this.bucket=ne,this.path_=Be}return Object.defineProperty(oe.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),oe.prototype.fullServerUrl=function(){var ne=encodeURIComponent;return"/b/"+ne(this.bucket)+"/o/"+ne(this.path)},oe.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},oe.makeFromBucketSpec=function(ne){var Be;try{Be=oe.makeFromUrl(ne)}catch{return new oe(ne,"")}if(""===Be.path)return Be;throw function ht(oe){return new ge(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+oe+"'.")}(ne)},oe.makeFromUrl=function(ne){var Be=null,wt="([A-Za-z0-9.\\-_]+)",Sn=new RegExp("^gs://"+wt+"(/(.*))?$","i");function Mn(hi){hi.path_=decodeURIComponent(hi.path)}for(var or=T.replace(/[.]/g,"\\."),Pi=[{regex:Sn,indices:{bucket:1,path:3},postModify:function jt(hi){"/"===hi.path.charAt(hi.path.length-1)&&(hi.path_=hi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+or+"/v[A-Za-z0-9_]+/b/"+wt+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Mn},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+wt+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Mn}],Ur=0;Ur<Pi.length;Ur++){var go=Pi[Ur],Si=go.regex.exec(ne);if(Si){var yi=Si[go.indices.path];yi||(yi=""),Be=new oe(Si[go.indices.bucket],yi),go.postModify(Be);break}}if(null==Be)throw function Ue(oe){return new ge(Ke.INVALID_URL,"Invalid URL '"+oe+"'.")}(ne);return Be},oe}();function Yt(oe){var ne;try{ne=JSON.parse(oe)}catch{return null}return function Rn(oe){return Wn(oe)&&!Array.isArray(oe)}(ne)?ne:null}function ot(oe){var ne=oe.lastIndexOf("/",oe.length-2);return-1===ne?oe:oe.slice(ne+1)}function nt(oe){return"https://"+T+"/v0"+oe}function De(oe){var ne=encodeURIComponent,Be="?";for(var wt in oe)oe.hasOwnProperty(wt)&&(Be=Be+(ne(wt)+"=")+ne(oe[wt])+"&");return Be.slice(0,-1)}function Dt(oe,ne){return ne}var Ft=function oe(ne,Be,wt,jt){this.server=ne,this.local=Be||ne,this.writable=!!wt,this.xform=jt||Dt},vn=null;function st(oe,ne,Be){var wt=Yt(ne);return null===wt?null:function ei(oe,ne,Be){for(var wt={type:"file"},jt=Be.length,Jt=0;Jt<jt;Jt++){var Sn=Be[Jt];wt[Sn.local]=Sn.xform(wt,ne[Sn.server])}return function yr(oe,ne){Object.defineProperty(oe,"ref",{get:function Be(){var Jt=new Ct(oe.bucket,oe.fullPath);return ne.makeStorageReference(Jt)}})}(wt,oe),wt}(oe,wt,Be)}function St(oe,ne){for(var Be={},wt=ne.length,jt=0;jt<wt;jt++){var Jt=ne[jt];Jt.writable&&(Be[Jt.server]=oe[Jt.local])}return JSON.stringify(Be)}function zt(oe){if(!Wn(oe)||!oe)throw"Expected Metadata object.";for(var ne in oe)if(oe.hasOwnProperty(ne)){var Be=oe[ne];if("customMetadata"===ne){if(!Wn(Be))throw"Expected object for 'customMetadata' mapping."}else if(kn(Be))throw"Mapping for '"+ne+"' cannot be an object."}}var ke="maxResults",q=1e3,be="pageToken",$e="prefixes",mt="items";function Yn(oe){if(!Wn(oe)||!oe)throw"Expected ListOptions object.";for(var ne in oe)if(ne===ke){if(!xr(oe[ke])||oe[ke]<=0)throw"Expected maxResults to be a positive number.";if(oe[ke]>1e3)throw"Expected maxResults to be less than or equal to "+q+"."}else{if(ne!==be)throw"Unknown option: "+ne;if(oe[be]&&!nr(oe[be]))throw"Expected pageToken to be string."}}var Kn=function oe(ne,Be,wt,jt){this.url=ne,this.method=Be,this.handler=wt,this.timeout=jt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function mr(oe){if(!oe)throw He()}function rr(oe,ne){return function Be(wt,jt){var Jt=st(oe,jt,ne);return mr(null!==Jt),Jt}}function fr(oe){return function ne(Be,wt){var jt;return jt=401===Be.getStatus()?function ee(){return new ge(Ke.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Be.getStatus()?function at(oe){return new ge(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+oe+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(oe.bucket):403===Be.getStatus()?function ce(oe){return new ge(Ke.UNAUTHORIZED,"User does not have permission to access '"+oe+"'.")}(oe.path):wt,jt.setServerResponseProp(wt.serverResponseProp()),jt}}function ai(oe){var ne=fr(oe);return function Be(wt,jt){var Jt=ne(wt,jt);return 404===wt.getStatus()&&(Jt=function ct(oe){return new ge(Ke.OBJECT_NOT_FOUND,"Object '"+oe+"' does not exist.")}(oe.path)),Jt.setServerResponseProp(jt.serverResponseProp()),Jt}}function Cr(oe,ne,Be){var jt=nt(ne.fullServerUrl()),Sn=oe.maxOperationRetryTime,Hn=new Kn(jt,"GET",rr(oe,Be),Sn);return Hn.errorHandler=ai(ne),Hn}function xi(oe,ne,Be,wt,jt){var Jt={};Jt.prefix=ne.isRoot?"":ne.path+"/",Be&&Be.length>0&&(Jt.delimiter=Be),wt&&(Jt.pageToken=wt),jt&&(Jt.maxResults=jt);var Hn=nt(ne.bucketOnlyServerUrl()),qn=oe.maxOperationRetryTime,or=new Kn(Hn,"GET",function dn(oe,ne){return function Be(wt,jt){var Jt=function Lt(oe,ne,Be){var wt=Yt(Be);return null===wt?null:function Mt(oe,ne,Be){var wt={prefixes:[],items:[],nextPageToken:Be.nextPageToken};if(Be[$e])for(var jt=0,Jt=Be[$e];jt<Jt.length;jt++){var Hn=Jt[jt].replace(/\/$/,""),Mn=oe.makeStorageReference(new Ct(ne,Hn));wt.prefixes.push(Mn)}if(Be[mt])for(var qn=0,or=Be[mt];qn<or.length;qn++)Mn=oe.makeStorageReference(new Ct(ne,or[qn].name)),wt.items.push(Mn);return wt}(oe,ne,wt)}(oe,ne,jt);return mr(null!==Jt),Jt}}(oe,ne.bucket),qn);return or.urlParams=Jt,or.errorHandler=fr(ne),or}function jr(oe,ne,Be){var wt=Object.assign({},Be);return wt.fullPath=oe.path,wt.size=ne.size(),wt.contentType||(wt.contentType=function Ni(oe,ne){return oe&&oe.contentType||ne&&ne.type()||"application/octet-stream"}(null,ne)),wt}var ji=function oe(ne,Be,wt,jt){this.current=ne,this.total=Be,this.finalized=!!wt,this.metadata=jt||null};function io(oe,ne){var Be=null;try{Be=oe.getResponseHeader("X-Goog-Upload-Status")}catch{mr(!1)}return mr(!!Be&&-1!==(ne||["active"]).indexOf(Be)),Be}var ze=function oe(ne,Be,wt){if(On(ne)||dt(Be)||dt(wt))this.next=ne,this.error=Be||null,this.complete=wt||null;else{var Jt=ne;this.next=Jt.next||null,this.error=Jt.error||null,this.complete=Jt.complete||null}},pe=function oe(ne,Be,wt,jt,Jt,Sn){this.bytesTransferred=ne,this.totalBytes=Be,this.state=wt,this.metadata=jt,this.task=Jt,this.ref=Sn};function B(oe,ne,Be){for(var wt=ne.length,jt=ne.length,Jt=0;Jt<ne.length;Jt++)if(ne[Jt].optional){wt=Jt;break}if(!(wt<=Be.length&&Be.length<=jt))throw function ft(oe,ne,Be,wt){var jt,Jt;return oe===ne?(jt=oe,Jt=1===oe?"argument":"arguments"):(jt="between "+oe+" and "+ne,Jt="arguments"),new ge(Ke.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+Be+"`: Expected "+jt+" "+Jt+", received "+wt+".")}(wt,jt,oe,Be.length);for(Jt=0;Jt<Be.length;Jt++)try{ne[Jt].validator(Be[Jt])}catch(Mn){throw Mn instanceof Error?an(Jt,oe,Mn.message):an(Jt,oe,Mn)}}var _e=function oe(ne,Be){var wt=this;this.validator=function(jt){wt.optional&&!En(jt)||ne(jt)},this.optional=!!Be};function un(oe,ne){function Be(jt){if(!nr(jt))throw"Expected string."}var wt;return wt=oe?function Xe(oe,ne){return function(Be){oe(Be),ne(Be)}}(Be,oe):Be,new _e(wt,ne)}function ur(oe){return new _e(zt,oe)}function kr(oe){return new _e(Yn,oe)}function gr(){return new _e(function oe(ne){if(!(hn(ne)&&ne>=0))throw"Expected a number 0 or greater."})}function vr(oe,ne){return new _e(function Be(wt){if(!(null===wt||dt(wt)&&wt instanceof Object))throw"Expected an Object.";oe?.(wt)},ne)}function ir(oe){return new _e(function ne(Be){if(null!==Be&&!On(Be))throw"Expected a Function."},oe)}function ar(oe){return function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];Promise.resolve().then(function(){return oe.apply(void 0,ne)})}}var ki=function(){function oe(ne,Be,wt,jt,Jt,Sn){var Hn=this;void 0===Sn&&(Sn=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=ne,this.service_=Be,this.location_=wt,this.blob_=Jt,this.metadata_=Sn,this.mappings_=jt,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Ee.RUNNING,this.errorHandler_=function(Mn){Hn.request_=null,Hn.chunkMultiplier_=1,Mn.codeEquals(Ke.CANCELED)?(Hn.needToFetchStatus_=!0,Hn.completeTransitions_()):(Hn.error_=Mn,Hn.transition_(Ee.ERROR))},this.metadataErrorHandler_=function(Mn){Hn.request_=null,Mn.codeEquals(Ke.CANCELED)?Hn.completeTransitions_():(Hn.error_=Mn,Hn.transition_(Ee.ERROR))},this.promise_=new Promise(function(Mn,qn){Hn.resolve_=Mn,Hn.reject_=qn,Hn.start_()}),this.promise_.then(null,function(){})}return oe.prototype.makeProgressCallback_=function(){var ne=this,Be=this.transferred_;return function(wt){return ne.updateProgress_(Be+wt)}},oe.prototype.shouldDoResumable_=function(ne){return ne.size()>262144},oe.prototype.start_=function(){this.state_===Ee.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},oe.prototype.resolveToken_=function(ne){var Be=this;this.service_.getAuthToken().then(function(wt){switch(Be.state_){case Ee.RUNNING:ne(wt);break;case Ee.CANCELING:Be.transition_(Ee.CANCELED);break;case Ee.PAUSING:Be.transition_(Ee.PAUSED)}})},oe.prototype.createResumable_=function(){var ne=this;this.resolveToken_(function(Be){var wt=function to(oe,ne,Be,wt,jt){var Jt=ne.bucketOnlyServerUrl(),Sn=jr(ne,wt,jt),Hn={name:Sn.fullPath},Mn=nt(Jt),or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":wt.size(),"X-Goog-Upload-Header-Content-Type":Sn.contentType,"Content-Type":"application/json; charset=utf-8"},Kr=St(Sn,Be),$r=new Kn(Mn,"POST",function gi(Ri){var vi;io(Ri);try{vi=Ri.getResponseHeader("X-Goog-Upload-URL")}catch{mr(!1)}return mr(nr(vi)),vi},oe.maxUploadRetryTime);return $r.urlParams=Hn,$r.headers=or,$r.body=Kr,$r.errorHandler=fr(ne),$r}(ne.service_,ne.location_,ne.mappings_,ne.blob_,ne.metadata_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.uploadUrl_=Jt,ne.needToFetchStatus_=!1,ne.completeTransitions_()},ne.errorHandler_)})},oe.prototype.fetchStatus_=function(){var ne=this,Be=this.uploadUrl_;this.resolveToken_(function(wt){var jt=function Mi(oe,ne,Be,wt){var Mn=new Kn(Be,"POST",function Jt(qn){var or=io(qn,["active","final"]),Kr=null;try{Kr=qn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mr(!1)}Kr||mr(!1);var Ar=Number(Kr);return mr(!isNaN(Ar)),new ji(Ar,wt.size(),"final"===or)},oe.maxUploadRetryTime);return Mn.headers={"X-Goog-Upload-Command":"query"},Mn.errorHandler=fr(ne),Mn}(ne.service_,ne.location_,Be,ne.blob_),Jt=ne.service_.makeRequest(jt,wt);ne.request_=Jt,Jt.getPromise().then(function(Sn){ne.request_=null,ne.updateProgress_(Sn.current),ne.needToFetchStatus_=!1,Sn.finalized&&(ne.needToFetchMetadata_=!0),ne.completeTransitions_()},ne.errorHandler_)})},oe.prototype.continueUpload_=function(){var ne=this,Be=262144*this.chunkMultiplier_,wt=new ji(this.transferred_,this.blob_.size()),jt=this.uploadUrl_;this.resolveToken_(function(Jt){var Sn;try{Sn=function Gi(oe,ne,Be,wt,jt,Jt,Sn,Hn){var Mn=new ji(0,0);if(Sn?(Mn.current=Sn.current,Mn.total=Sn.total):(Mn.current=0,Mn.total=wt.size()),wt.size()!==Mn.total)throw function gn(){return new ge(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();var qn=Mn.total-Mn.current,or=qn;jt>0&&(or=Math.min(or,jt));var Kr=Mn.current,$r={"X-Goog-Upload-Command":or===qn?"upload, finalize":"upload","X-Goog-Upload-Offset":Mn.current},Ri=wt.slice(Kr,Kr+or);if(null===Ri)throw Et();var Ur=new Kn(Be,"POST",function vi(go,Si){var Yi,Ti=io(go,["active","final"]),yi=Mn.current+or,hi=wt.size();return Yi="final"===Ti?rr(ne,Jt)(go,Si):null,new ji(yi,hi,"final"===Ti,Yi)},ne.maxUploadRetryTime);return Ur.headers=$r,Ur.body=Ri.uploadData(),Ur.progressCallback=Hn||null,Ur.errorHandler=fr(oe),Ur}(ne.location_,ne.service_,jt,ne.blob_,Be,ne.mappings_,wt,ne.makeProgressCallback_())}catch(Mn){return ne.error_=Mn,void ne.transition_(Ee.ERROR)}var Hn=ne.service_.makeRequest(Sn,Jt);ne.request_=Hn,Hn.getPromise().then(function(Mn){ne.increaseMultiplier_(),ne.request_=null,ne.updateProgress_(Mn.current),Mn.finalized?(ne.metadata_=Mn.metadata,ne.transition_(Ee.SUCCESS)):ne.completeTransitions_()},ne.errorHandler_)})},oe.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},oe.prototype.fetchMetadata_=function(){var ne=this;this.resolveToken_(function(Be){var wt=Cr(ne.service_,ne.location_,ne.mappings_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.metadata_=Jt,ne.transition_(Ee.SUCCESS)},ne.metadataErrorHandler_)})},oe.prototype.oneShotUpload_=function(){var ne=this;this.resolveToken_(function(Be){var wt=function Qi(oe,ne,Be,wt,jt){var Jt=ne.bucketOnlyServerUrl(),Sn={"X-Goog-Upload-Protocol":"multipart"},Mn=function Hn(){for(var Ur="",go=0;go<2;go++)Ur+=Math.random().toString().slice(2);return Ur}();Sn["Content-Type"]="multipart/related; boundary="+Mn;var qn=jr(ne,wt,jt),or=St(qn,Be),gi=xe.getBlob("--"+Mn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+or+"\r\n--"+Mn+"\r\nContent-Type: "+qn.contentType+"\r\n\r\n",wt,"\r\n--"+Mn+"--");if(null===gi)throw Et();var $r={name:qn.fullPath},Ri=nt(Jt),mo=oe.maxUploadRetryTime,Pi=new Kn(Ri,"POST",rr(oe,Be),mo);return Pi.urlParams=$r,Pi.headers=Sn,Pi.body=gi.uploadData(),Pi.errorHandler=fr(ne),Pi}(ne.service_,ne.location_,ne.mappings_,ne.blob_,ne.metadata_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.metadata_=Jt,ne.updateProgress_(ne.blob_.size()),ne.transition_(Ee.SUCCESS)},ne.errorHandler_)})},oe.prototype.updateProgress_=function(ne){var Be=this.transferred_;this.transferred_=ne,this.transferred_!==Be&&this.notifyObservers_()},oe.prototype.transition_=function(ne){if(this.state_!==ne)switch(ne){case Ee.CANCELING:case Ee.PAUSING:this.state_=ne,null!==this.request_&&this.request_.cancel();break;case Ee.RUNNING:var Be=this.state_===Ee.PAUSED;this.state_=ne,Be&&(this.notifyObservers_(),this.start_());break;case Ee.PAUSED:this.state_=ne,this.notifyObservers_();break;case Ee.CANCELED:this.error_=Ne(),this.state_=ne,this.notifyObservers_();break;case Ee.ERROR:case Ee.SUCCESS:this.state_=ne,this.notifyObservers_()}},oe.prototype.completeTransitions_=function(){switch(this.state_){case Ee.PAUSING:this.transition_(Ee.PAUSED);break;case Ee.CANCELING:this.transition_(Ee.CANCELED);break;case Ee.RUNNING:this.start_()}},Object.defineProperty(oe.prototype,"snapshot",{get:function(){var ne=Rt(this.state_);return new pe(this.transferred_,this.blob_.size(),ne,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),oe.prototype.on=function(ne,Be,wt,jt){var Sn="Expected a function or an Object with one of `next`, `error`, `complete` properties.",Hn=ir(!0).validator,Mn=vr(null,!0).validator;function qn(vi){try{return void Hn(vi)}catch{}try{if(Mn(vi),!(En(vi.next)||En(vi.error)||En(vi.complete)))throw"";return}catch{throw Sn}}B("on",[un(function Jt(){if(ne!==Je.STATE_CHANGED)throw"Expected one of the event types: ["+Je.STATE_CHANGED+"]."}),vr(qn,!0),ir(!0),ir(!0)],arguments);var Kr=this;function Ar(vi){return function mo(Pi,Ur,go){null!==vi&&B("on",vi,arguments);var Si=new ze(Pi,Ur,jt);return Kr.addObserver_(Si),function(){Kr.removeObserver_(Si)}}}var $r=[vr(function gi(vi){if(null===vi)throw Sn;qn(vi)}),ir(!0),ir(!0)];return En(Be)||En(wt)||En(jt)?Ar(null)(Be,wt,jt):Ar($r)},oe.prototype.then=function(ne,Be){return this.promise_.then(ne,Be)},oe.prototype.catch=function(ne){return this.then(null,ne)},oe.prototype.addObserver_=function(ne){this.observers_.push(ne),this.notifyObserver_(ne)},oe.prototype.removeObserver_=function(ne){var Be=this.observers_.indexOf(ne);-1!==Be&&this.observers_.splice(Be,1)},oe.prototype.notifyObservers_=function(){var ne=this;this.finishPromise_(),this.observers_.slice().forEach(function(wt){ne.notifyObserver_(wt)})},oe.prototype.finishPromise_=function(){if(null!==this.resolve_){var ne=!0;switch(Rt(this.state_)){case xt.SUCCESS:ar(this.resolve_.bind(null,this.snapshot))();break;case xt.CANCELED:case xt.ERROR:ar(this.reject_.bind(null,this.error_))();break;default:ne=!1}ne&&(this.resolve_=null,this.reject_=null)}},oe.prototype.notifyObserver_=function(ne){switch(Rt(this.state_)){case xt.RUNNING:case xt.PAUSED:ne.next&&ar(ne.next.bind(ne,this.snapshot))();break;case xt.SUCCESS:ne.complete&&ar(ne.complete.bind(ne))();break;default:ne.error&&ar(ne.error.bind(ne,this.error_))()}},oe.prototype.resume=function(){B("resume",[],arguments);var ne=this.state_===Ee.PAUSED||this.state_===Ee.PAUSING;return ne&&this.transition_(Ee.RUNNING),ne},oe.prototype.pause=function(){B("pause",[],arguments);var ne=this.state_===Ee.RUNNING;return ne&&this.transition_(Ee.PAUSING),ne},oe.prototype.cancel=function(){B("cancel",[],arguments);var ne=this.state_===Ee.RUNNING||this.state_===Ee.PAUSING;return ne&&this.transition_(Ee.CANCELING),ne},oe}(),ao=function(){function oe(ne,Be){this.service=ne,this.location=Be instanceof Ct?Be:Ct.makeFromUrl(Be)}return oe.prototype.toString=function(){return B("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},oe.prototype.newRef=function(ne,Be){return new oe(ne,Be)},oe.prototype.mappings=function(){return function Cn(){if(vn)return vn;var oe=[];oe.push(new Ft("bucket")),oe.push(new Ft("generation")),oe.push(new Ft("metageneration")),oe.push(new Ft("name","fullPath",!0));var Be=new Ft("name");Be.xform=function ne(Jt,Sn){return function Zn(oe){return!nr(oe)||oe.length<2?oe:ot(oe)}(Sn)},oe.push(Be);var jt=new Ft("size");return jt.xform=function wt(Jt,Sn){return dt(Sn)?Number(Sn):Sn},oe.push(jt),oe.push(new Ft("timeCreated")),oe.push(new Ft("updated")),oe.push(new Ft("md5Hash",null,!0)),oe.push(new Ft("cacheControl",null,!0)),oe.push(new Ft("contentDisposition",null,!0)),oe.push(new Ft("contentEncoding",null,!0)),oe.push(new Ft("contentLanguage",null,!0)),oe.push(new Ft("contentType",null,!0)),oe.push(new Ft("metadata","customMetadata",!0)),vn=oe}()},oe.prototype.child=function(ne){B("child",[un()],arguments);var Be=function qt(oe,ne){var Be=ne.split("/").filter(function(wt){return wt.length>0}).join("/");return 0===oe.length?Be:oe+"/"+Be}(this.location.path,ne),wt=new Ct(this.location.bucket,Be);return this.newRef(this.service,wt)},Object.defineProperty(oe.prototype,"parent",{get:function(){var ne=function ln(oe){if(0===oe.length)return null;var ne=oe.lastIndexOf("/");return-1===ne?"":oe.slice(0,ne)}(this.location.path);if(null===ne)return null;var Be=new Ct(this.location.bucket,ne);return this.newRef(this.service,Be)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"root",{get:function(){var ne=new Ct(this.location.bucket,"");return this.newRef(this.service,ne)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"name",{get:function(){return ot(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),oe.prototype.put=function(ne,Be){return void 0===Be&&(Be=null),B("put",[new _e(function oe(ne){if(!(ne instanceof Uint8Array||ne instanceof ArrayBuffer||Vt()&&ne instanceof Blob))throw"Expected Blob or File."}),ur(!0)],arguments),this.throwIfRoot_("put"),new ki(this,this.service,this.location,this.mappings(),new xe(ne),Be)},oe.prototype.putString=function(ne,Be,wt){void 0===Be&&(Be=xn.RAW),B("putString",[un(),un(er,!0),ur(!0)],arguments),this.throwIfRoot_("putString");var jt=Nn(Be,ne),Jt=Object.assign({},wt);return!dt(Jt.contentType)&&dt(jt.contentType)&&(Jt.contentType=jt.contentType),new ki(this,this.service,this.location,this.mappings(),new xe(jt.data,!0),Jt)},oe.prototype.delete=function(){var ne=this;return B("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(Be){var wt=function Bi(oe,ne){var wt=nt(ne.fullServerUrl()),Hn=new Kn(wt,"DELETE",function Sn(Mn,qn){},oe.maxOperationRetryTime);return Hn.successCodes=[200,204],Hn.errorHandler=ai(ne),Hn}(ne.service,ne.location);return ne.service.makeRequest(wt,Be).getPromise()})},oe.prototype.listAll=function(){B("listAll",[],arguments);var ne={prefixes:[],items:[]};return this.listAllHelper(ne).then(function(){return ne})},oe.prototype.listAllHelper=function(ne,Be){return ie(this,void 0,void 0,function(){var jt,Jt,Sn;return K(this,function(Hn){switch(Hn.label){case 0:return[4,this.list({pageToken:Be})];case 1:return jt=Hn.sent(),(Jt=ne.prefixes).push.apply(Jt,jt.prefixes),(Sn=ne.items).push.apply(Sn,jt.items),null==jt.nextPageToken?[3,3]:[4,this.listAllHelper(ne,jt.nextPageToken)];case 2:Hn.sent(),Hn.label=3;case 3:return[2]}})})},oe.prototype.list=function(ne){B("list",[kr(!0)],arguments);var Be=this;return this.service.getAuthToken().then(function(wt){var jt=ne||{},Jt=xi(Be.service,Be.location,"/",jt.pageToken,jt.maxResults);return Be.service.makeRequest(Jt,wt).getPromise()})},oe.prototype.getMetadata=function(){var ne=this;return B("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(Be){var wt=Cr(ne.service,ne.location,ne.mappings());return ne.service.makeRequest(wt,Be).getPromise()})},oe.prototype.updateMetadata=function(ne){var Be=this;return B("updateMetadata",[ur()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(wt){var jt=function Mr(oe,ne,Be,wt){var Jt=nt(ne.fullServerUrl()),Hn=St(Be,wt),qn=oe.maxOperationRetryTime,or=new Kn(Jt,"PATCH",rr(oe,wt),qn);return or.headers={"Content-Type":"application/json; charset=utf-8"},or.body=Hn,or.errorHandler=ai(ne),or}(Be.service,Be.location,ne,Be.mappings());return Be.service.makeRequest(jt,wt).getPromise()})},oe.prototype.getDownloadURL=function(){var ne=this;return B("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(Be){var wt=function di(oe,ne,Be){var jt=nt(ne.fullServerUrl()),Sn=oe.maxOperationRetryTime,Hn=new Kn(jt,"GET",function sr(oe,ne){return function Be(wt,jt){var Jt=st(oe,jt,ne);return mr(null!==Jt),function pt(oe,ne){var Be=Yt(ne);if(null===Be||!nr(Be.downloadTokens))return null;var wt=Be.downloadTokens;if(0===wt.length)return null;var jt=encodeURIComponent;return wt.split(",").map(function(Hn){var qn=oe.fullPath;return nt("/b/"+jt(oe.bucket)+"/o/"+jt(qn))+De({alt:"media",token:Hn})})[0]}(Jt,jt)}}(oe,Be),Sn);return Hn.errorHandler=ai(ne),Hn}(ne.service,ne.location,ne.mappings());return ne.service.makeRequest(wt,Be).getPromise().then(function(jt){if(null===jt)throw function _t(){return new ge(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return jt})})},oe.prototype.throwIfRoot_=function(ne){if(""===this.location.path)throw function Xt(oe){return new ge(Ke.INVALID_ROOT_OPERATION,"The operation '"+oe+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(ne)},oe}(),Oi=function(){function oe(ne){this.promise_=Promise.reject(ne)}return oe.prototype.getPromise=function(){return this.promise_},oe.prototype.cancel=function(ne){},oe}(),Gr=function(){function oe(ne,Be,wt,jt,Jt,Sn,Hn,Mn,qn,or,Kr){var Ar=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=ne,this.method_=Be,this.headers_=wt,this.body_=jt,this.successCodes_=Jt.slice(),this.additionalRetryCodes_=Sn.slice(),this.callback_=Hn,this.errorCallback_=Mn,this.progressCallback_=or,this.timeout_=qn,this.pool_=Kr,this.promise_=new Promise(function(gi,$r){Ar.resolve_=gi,Ar.reject_=$r,Ar.start_()})}return oe.prototype.start_=function(){var ne=this;function wt(jt,Jt){var Sn=ne.resolve_,Hn=ne.reject_,Mn=Jt.xhr;if(Jt.wasSuccessCode)try{var qn=ne.callback_(Mn,Mn.getResponseText());En(qn)?Sn(qn):Sn()}catch(Kr){Hn(Kr)}else if(null!==Mn)(or=He()).setServerResponseProp(Mn.getResponseText()),Hn(ne.errorCallback_?ne.errorCallback_(Mn,or):or);else if(Jt.canceled)Hn(or=ne.appDelete_?Ut():Ne());else{var or;Hn(or=function re(){return new ge(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())}}this.canceled_?wt(0,new So(!1,null,!0)):this.backoffId_=function Ki(oe,ne,Be){var wt=1,jt=null,Jt=!1,Sn=0;function Hn(){return 2===Sn}var Mn=!1;function qn(){for(var $r=[],Ri=0;Ri<arguments.length;Ri++)$r[Ri]=arguments[Ri];Mn||(Mn=!0,ne.apply(null,$r))}function or($r){jt=setTimeout(function(){jt=null,oe(Kr,Hn())},$r)}function Kr($r){for(var Ri=[],vi=1;vi<arguments.length;vi++)Ri[vi-1]=arguments[vi];if(!Mn){if($r)return void qn.call.apply(qn,Wt([null,$r],Ri));var Pi;if(Hn()||Jt)return void qn.call.apply(qn,Wt([null,$r],Ri));wt<64&&(wt*=2),1===Sn?(Sn=2,Pi=0):Pi=1e3*(wt+Math.random()),or(Pi)}}var Ar=!1;function gi($r){Ar||(Ar=!0,!Mn&&(null!==jt?($r||(Sn=2),clearTimeout(jt),or(0)):$r||(Sn=1)))}return or(0),setTimeout(function(){Jt=!0,gi(!0)},Be),gi}(function Be(jt,Jt){if(Jt)jt(!1,new So(!1,null,!0));else{var Sn=ne.pool_.createXhrIo();ne.pendingXhr_=Sn,null!==ne.progressCallback_&&Sn.addUploadProgressListener(Hn),Sn.send(ne.url_,ne.method_,ne.body_,ne.headers_).then(function(Mn){null!==ne.progressCallback_&&Mn.removeUploadProgressListener(Hn),ne.pendingXhr_=null;var qn=Mn.getErrorCode()===Te.NO_ERROR,or=Mn.getStatus();if(qn&&!ne.isRetryStatusCode_(or)){var Ar=-1!==ne.successCodes_.indexOf(or);jt(!0,new So(Ar,Mn))}else{var Kr=Mn.getErrorCode()===Te.ABORT;jt(!1,new So(!1,null,Kr))}})}function Hn(Mn){null!==ne.progressCallback_&&ne.progressCallback_(Mn.loaded,Mn.lengthComputable?Mn.total:-1)}},wt,this.timeout_)},oe.prototype.getPromise=function(){return this.promise_},oe.prototype.cancel=function(ne){this.canceled_=!0,this.appDelete_=ne||!1,null!==this.backoffId_&&function Ai(oe){oe(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},oe.prototype.isRetryStatusCode_=function(ne){var Be=ne>=500&&ne<600,jt=-1!==[408,429].indexOf(ne),Jt=-1!==this.additionalRetryCodes_.indexOf(ne);return Be||jt||Jt},oe}(),So=function oe(ne,Be,wt){this.wasSuccessCode=ne,this.xhr=Be,this.canceled=!!wt};var cs=function(){function oe(ne,Be,wt,jt){var Jt;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=ne,this.authProvider_=Be,this.maxOperationRetryTime_=J,this.maxUploadRetryTime_=R,this.requests_=new Set,this.pool_=wt,this.bucket_=null!=jt?Ct.makeFromBucketSpec(jt):oe.extractBucket_(null===(Jt=this.app_)||void 0===Jt?void 0:Jt.options),this.internals_=new Ns(this)}return oe.extractBucket_=function(ne){var Be=ne?.storageBucket;return null==Be?null:Ct.makeFromBucketSpec(Be)},oe.prototype.getAuthToken=function(){return ie(this,void 0,void 0,function(){var ne,Be;return K(this,function(wt){switch(wt.label){case 0:return(ne=this.authProvider_.getImmediate({optional:!0}))?[4,ne.getToken()]:[3,2];case 1:if(null!==(Be=wt.sent()))return[2,Be.accessToken];wt.label=2;case 2:return[2,null]}})})},oe.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(ne){return ne.cancel()}),this.requests_.clear()},oe.prototype.makeStorageReference=function(ne){return new ao(this,ne)},oe.prototype.makeRequest=function(ne,Be){var wt=this;if(this.deleted_)return new Oi(Ut());var jt=function Ko(oe,ne,Be,wt){var jt=De(oe.urlParams),Jt=oe.url+jt,Sn=Object.assign({},oe.headers);return function Ts(oe,ne){ne&&(oe["X-Firebase-GMPID"]=ne)}(Sn,ne),function $i(oe,ne){null!==ne&&ne.length>0&&(oe.Authorization="Firebase "+ne)}(Sn,Be),function oo(oe){oe["X-Firebase-Storage-Version"]="webjs/"+(typeof y.default<"u"?y.default.SDK_VERSION:"AppManager")}(Sn),new Gr(Jt,oe.method,Sn,oe.body,oe.successCodes,oe.additionalRetryCodes,oe.handler,oe.errorHandler,oe.timeout,oe.progressCallback,wt)}(ne,this.appId_,Be,this.pool_);return this.requests_.add(jt),jt.getPromise().then(function(){return wt.requests_.delete(jt)},function(){return wt.requests_.delete(jt)}),jt},oe.prototype.ref=function(ne){if(B("ref",[un(function Be(jt){if("string"!=typeof jt)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(jt))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var wt=new ao(this,this.bucket_);return null!=ne?wt.child(ne):wt},oe.prototype.refFromURL=function(ne){return B("refFromURL",[un(function Be(wt){if("string"!=typeof wt)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(wt))throw"Expected full URL but got a child path, use ref instead.";try{Ct.makeFromUrl(wt)}catch{throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new ao(this,ne)},Object.defineProperty(oe.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),oe.prototype.setMaxUploadRetryTime=function(ne){B("setMaxUploadRetryTime",[gr()],arguments),this.maxUploadRetryTime_=ne},Object.defineProperty(oe.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),oe.prototype.setMaxOperationRetryTime=function(ne){B("setMaxOperationRetryTime",[gr()],arguments),this.maxOperationRetryTime_=ne},Object.defineProperty(oe.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),oe}(),Ns=function(){function oe(ne){this.service_=ne}return oe.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},oe}(),mi="@firebase/storage",Ds="0.3.43",Fo="storage";function ds(oe,ne){var Be=oe.getProvider("app").getImmediate(),wt=oe.getProvider("auth-internal");return new cs(Be,wt,new ae,ne)}function lo(oe){var ne={TaskState:xt,TaskEvent:Je,StringFormat:xn,Storage:cs,Reference:ao};oe.INTERNAL.registerComponent(new k.Component(Fo,ds,"PUBLIC").setServiceProps(ne).setMultipleInstances(!0)),oe.registerVersion(mi,Ds)}lo(y.default)},1270:(Ln,it,N)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var y=N(68713),E={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(Je,Ee){if(!Je)throw Pe(Ee)},Pe=function(Je){return new Error("Firebase Database ("+E.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Je)},z=function(Je){for(var Ee=[],xt=0,Rt=0;Rt<Je.length;Rt++){var dt=Je.charCodeAt(Rt);dt<128?Ee[xt++]=dt:dt<2048?(Ee[xt++]=dt>>6|192,Ee[xt++]=63&dt|128):55296==(64512&dt)&&Rt+1<Je.length&&56320==(64512&Je.charCodeAt(Rt+1))?(dt=65536+((1023&dt)<<10)+(1023&Je.charCodeAt(++Rt)),Ee[xt++]=dt>>18|240,Ee[xt++]=dt>>12&63|128,Ee[xt++]=dt>>6&63|128,Ee[xt++]=63&dt|128):(Ee[xt++]=dt>>12|224,Ee[xt++]=dt>>6&63|128,Ee[xt++]=63&dt|128)}return Ee},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Je,Ee){if(!Array.isArray(Je))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var xt=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Rt=[],dt=0;dt<Je.length;dt+=3){var En=Je[dt],On=dt+1<Je.length,Wn=On?Je[dt+1]:0,kn=dt+2<Je.length,Rn=kn?Je[dt+2]:0,hn=(15&Wn)<<2|Rn>>6,Pt=63&Rn;kn||(Pt=64,On||(hn=64)),Rt.push(xt[En>>2],xt[(3&En)<<4|Wn>>4],xt[hn],xt[Pt])}return Rt.join("")},encodeString:function(Je,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Je):this.encodeByteArray(z(Je),Ee)},decodeString:function(Je,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Je):function(Je){for(var Ee=[],xt=0,Rt=0;xt<Je.length;){var dt=Je[xt++];if(dt<128)Ee[Rt++]=String.fromCharCode(dt);else if(dt>191&&dt<224){var En=Je[xt++];Ee[Rt++]=String.fromCharCode((31&dt)<<6|63&En)}else if(dt>239&&dt<365){var kn=((7&dt)<<18|(63&(En=Je[xt++]))<<12|(63&(On=Je[xt++]))<<6|63&Je[xt++])-65536;Ee[Rt++]=String.fromCharCode(55296+(kn>>10)),Ee[Rt++]=String.fromCharCode(56320+(1023&kn))}else{En=Je[xt++];var On=Je[xt++];Ee[Rt++]=String.fromCharCode((15&dt)<<12|(63&En)<<6|63&On)}}return Ee.join("")}(this.decodeStringToByteArray(Je,Ee))},decodeStringToByteArray:function(Je,Ee){this.init_();for(var xt=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,Rt=[],dt=0;dt<Je.length;){var En=xt[Je.charAt(dt++)],Wn=dt<Je.length?xt[Je.charAt(dt)]:0,Rn=++dt<Je.length?xt[Je.charAt(dt)]:64,xr=++dt<Je.length?xt[Je.charAt(dt)]:64;if(++dt,null==En||null==Wn||null==Rn||null==xr)throw Error();Rt.push(En<<2|Wn>>4),64!==Rn&&(Rt.push(Wn<<4&240|Rn>>2),64!==xr&&Rt.push(Rn<<6&192|xr))}return Rt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Je=0;Je<this.ENCODED_VALS.length;Je++)this.byteToCharMap_[Je]=this.ENCODED_VALS.charAt(Je),this.charToByteMap_[this.byteToCharMap_[Je]]=Je,this.byteToCharMapWebSafe_[Je]=this.ENCODED_VALS_WEBSAFE.charAt(Je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Je]]=Je,Je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Je)]=Je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Je)]=Je)}}},ie=function(Je){try{return te.decodeString(Je,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function Ae(Je,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Je&&(Je={});break;case Array:Je=[];break;default:return Ee}for(var Rt in Ee)Ee.hasOwnProperty(Rt)&&(Je[Rt]=Ae(Je[Rt],Ee[Rt]));return Je}var Se=function(){function Je(){var Ee=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(xt,Rt){Ee.resolve=xt,Ee.reject=Rt})}return Je.prototype.wrapCallback=function(Ee){var xt=this;return function(Rt,dt){Rt?xt.reject(Rt):xt.resolve(dt),"function"==typeof Ee&&(xt.promise.catch(function(){}),1===Ee.length?Ee(Rt):Ee(Rt,dt))}},Je}();function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var T="FirebaseError",W=function(Je){function Ee(xt,Rt){var dt=Je.call(this,Rt)||this;return dt.code=xt,dt.name=T,Object.setPrototypeOf(dt,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(dt,J.prototype.create),dt}return y.__extends(Ee,Je),Ee}(Error),J=function(){function Je(Ee,xt,Rt){this.service=Ee,this.serviceName=xt,this.errors=Rt}return Je.prototype.create=function(Ee){for(var xt=[],Rt=1;Rt<arguments.length;Rt++)xt[Rt-1]=arguments[Rt];for(var dt=xt[0]||{},En=this.service+"/"+Ee,On=this.errors[Ee],Wn=On?function R(Je,Ee){return Je.replace(ge,function(xt,Rt){var dt=Ee[Rt];return null!=dt?String(dt):"<"+Rt+"?>"})}(On,dt):"Error",Rn=new W(En,this.serviceName+": "+Wn+" ("+En+")."),nr=0,xr=Object.keys(dt);nr<xr.length;nr++){var hn=xr[nr];"_"!==hn.slice(-1)&&(hn in Rn&&console.warn('Overwriting FirebaseError base field "'+hn+'" can cause unexpected behavior.'),Rn[hn]=dt[hn])}return Rn},Je}(),ge=/\{\$([^}]+)}/g;function Ke(Je){return JSON.parse(Je)}var He=function(Je){var Ee={},xt={},Rt={},dt="";try{var En=Je.split(".");Ee=Ke(ie(En[0])||""),xt=Ke(ie(En[1])||""),dt=En[2],Rt=xt.d||{},delete xt.d}catch{}return{header:Ee,claims:xt,data:Rt,signature:dt}},_t=function(){function Je(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}return Je.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Je.prototype.compress_=function(Ee,xt){xt||(xt=0);var Rt=this.W_;if("string"==typeof Ee)for(var dt=0;dt<16;dt++)Rt[dt]=Ee.charCodeAt(xt)<<24|Ee.charCodeAt(xt+1)<<16|Ee.charCodeAt(xt+2)<<8|Ee.charCodeAt(xt+3),xt+=4;else for(dt=0;dt<16;dt++)Rt[dt]=Ee[xt]<<24|Ee[xt+1]<<16|Ee[xt+2]<<8|Ee[xt+3],xt+=4;for(dt=16;dt<80;dt++)Rt[dt]=4294967295&((En=Rt[dt-3]^Rt[dt-8]^Rt[dt-14]^Rt[dt-16])<<1|En>>>31);var xr,hn,On=this.chain_[0],Wn=this.chain_[1],kn=this.chain_[2],Rn=this.chain_[3],nr=this.chain_[4];for(dt=0;dt<80;dt++){dt<40?dt<20?(xr=Rn^Wn&(kn^Rn),hn=1518500249):(xr=Wn^kn^Rn,hn=1859775393):dt<60?(xr=Wn&kn|Rn&(Wn|kn),hn=2400959708):(xr=Wn^kn^Rn,hn=3395469782);var En=(On<<5|On>>>27)+xr+nr+hn+Rt[dt]&4294967295;nr=Rn,Rn=kn,kn=4294967295&(Wn<<30|Wn>>>2),Wn=On,On=En}this.chain_[0]=this.chain_[0]+On&4294967295,this.chain_[1]=this.chain_[1]+Wn&4294967295,this.chain_[2]=this.chain_[2]+kn&4294967295,this.chain_[3]=this.chain_[3]+Rn&4294967295,this.chain_[4]=this.chain_[4]+nr&4294967295},Je.prototype.update=function(Ee,xt){if(null!=Ee){void 0===xt&&(xt=Ee.length);for(var Rt=xt-this.blockSize,dt=0,En=this.buf_,On=this.inbuf_;dt<xt;){if(0===On)for(;dt<=Rt;)this.compress_(Ee,dt),dt+=this.blockSize;if("string"==typeof Ee){for(;dt<xt;)if(En[On]=Ee.charCodeAt(dt),++dt,++On===this.blockSize){this.compress_(En),On=0;break}}else for(;dt<xt;)if(En[On]=Ee[dt],++dt,++On===this.blockSize){this.compress_(En),On=0;break}}this.inbuf_=On,this.total_+=xt}},Je.prototype.digest=function(){var Ee=[],xt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Rt=this.blockSize-1;Rt>=56;Rt--)this.buf_[Rt]=255&xt,xt/=256;this.compress_(this.buf_);var dt=0;for(Rt=0;Rt<5;Rt++)for(var En=24;En>=0;En-=8)Ee[dt]=this.chain_[Rt]>>En&255,++dt;return Ee},Je}(),ft=function(){function Je(Ee,xt){var Rt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xt,this.task.then(function(){Ee(Rt)}).catch(function(dt){Rt.error(dt)})}return Je.prototype.next=function(Ee){this.forEachObserver(function(xt){xt.next(Ee)})},Je.prototype.error=function(Ee){this.forEachObserver(function(xt){xt.error(Ee)}),this.close(Ee)},Je.prototype.complete=function(){this.forEachObserver(function(Ee){Ee.complete()}),this.close()},Je.prototype.subscribe=function(Ee,xt,Rt){var En,dt=this;if(void 0===Ee&&void 0===xt&&void 0===Rt)throw new Error("Missing Observer.");En=function Xt(Je,Ee){if("object"!=typeof Je||null===Je)return!1;for(var xt=0,Rt=Ee;xt<Rt.length;xt++){var dt=Rt[xt];if(dt in Je&&"function"==typeof Je[dt])return!0}return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:xt,complete:Rt},void 0===En.next&&(En.next=fn),void 0===En.error&&(En.error=fn),void 0===En.complete&&(En.complete=fn);var On=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{dt.finalError?En.error(dt.finalError):En.complete()}catch{}}),this.observers.push(En),On},Je.prototype.unsubscribeOne=function(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Je.prototype.forEachObserver=function(Ee){if(!this.finalized)for(var xt=0;xt<this.observers.length;xt++)this.sendOne(xt,Ee)},Je.prototype.sendOne=function(Ee,xt){var Rt=this;this.task.then(function(){if(void 0!==Rt.observers&&void 0!==Rt.observers[Ee])try{xt(Rt.observers[Ee])}catch(dt){typeof console<"u"&&console.error&&console.error(dt)}})},Je.prototype.close=function(Ee){var xt=this;this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(function(){xt.observers=void 0,xt.onNoObservers=void 0}))},Je}();function fn(){}function xn(Je,Ee,xt){var Rt="";switch(Ee){case 1:Rt=xt?"first":"First";break;case 2:Rt=xt?"second":"Second";break;case 3:Rt=xt?"third":"Third";break;case 4:Rt=xt?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Je+" failed: "+(Rt+" argument ")}it.CONSTANTS=E,it.Deferred=Se,it.ErrorFactory=J,it.FirebaseError=W,it.MAX_VALUE_MILLIS=144e5,it.RANDOM_FACTOR=.5,it.Sha1=_t,it.areCookiesEnabled=function k(){return!(!navigator||!navigator.cookieEnabled)},it.assert=j,it.assertionError=Pe,it.async=function Ut(Je,Ee){return function(){for(var xt=[],Rt=0;Rt<arguments.length;Rt++)xt[Rt]=arguments[Rt];Promise.resolve(!0).then(function(){Je.apply(void 0,xt)}).catch(function(dt){Ee&&Ee(dt)})}},it.base64=te,it.base64Decode=ie,it.base64Encode=function(Je){var Ee=z(Je);return te.encodeByteArray(Ee,!0)},it.calculateBackoffMillis=function mn(Je,Ee,xt){void 0===Ee&&(Ee=1e3),void 0===xt&&(xt=2);var Rt=Ee*Math.pow(xt,Je),dt=Math.round(.5*Rt*(Math.random()-.5)*2);return Math.min(144e5,Rt+dt)},it.contains=function re(Je,Ee){return Object.prototype.hasOwnProperty.call(Je,Ee)},it.createSubscribe=function an(Je,Ee){var xt=new ft(Je,Ee);return xt.subscribe.bind(xt)},it.decode=He,it.deepCopy=function K(Je){return Ae(void 0,Je)},it.deepExtend=Ae,it.errorPrefix=xn,it.getUA=Fe,it.isAdmin=function(Je){var Ee=He(Je).claims;return"object"==typeof Ee&&!0===Ee.admin},it.isBrowser=function Wt(){return"object"==typeof self&&self.self===self},it.isBrowserExtension=function ye(){var Je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Je&&void 0!==Je.id},it.isElectron=function yt(){return Fe().indexOf("Electron/")>=0},it.isEmpty=function Ue(Je){for(var Ee in Je)if(Object.prototype.hasOwnProperty.call(Je,Ee))return!1;return!0},it.isIE=function en(){var Je=Fe();return Je.indexOf("MSIE ")>=0||Je.indexOf("Trident/")>=0},it.isIndexedDBAvailable=function tt(){return"indexedDB"in self&&null!=indexedDB},it.isMobileCordova=function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())},it.isNode=Zt,it.isNodeSdk=function Le(){return!0===E.NODE_CLIENT||!0===E.NODE_ADMIN},it.isReactNative=function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product},it.isSafari=function Me(){return!Zt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},it.isUWP=function Ot(){return Fe().indexOf("MSAppHost/")>=0},it.isValidFormat=function(Je){var xt=He(Je).claims;return!!xt&&"object"==typeof xt&&xt.hasOwnProperty("iat")},it.isValidTimestamp=function(Je){var Ee=He(Je).claims,xt=Math.floor((new Date).getTime()/1e3),Rt=0,dt=0;return"object"==typeof Ee&&(Ee.hasOwnProperty("nbf")?Rt=Ee.nbf:Ee.hasOwnProperty("iat")&&(Rt=Ee.iat),dt=Ee.hasOwnProperty("exp")?Ee.exp:Rt+86400),!!xt&&!!Rt&&!!dt&&xt>=Rt&&xt<=dt},it.issuedAtTime=function(Je){var Ee=He(Je).claims;return"object"==typeof Ee&&Ee.hasOwnProperty("iat")?Ee.iat:null},it.jsonEval=Ke,it.map=function ht(Je,Ee,xt){var Rt={};for(var dt in Je)Object.prototype.hasOwnProperty.call(Je,dt)&&(Rt[dt]=Ee.call(xt,Je[dt],dt,Je));return Rt},it.querystring=function Et(Je){for(var Ee=[],xt=function(kn,Rn){Array.isArray(Rn)?Rn.forEach(function(nr){Ee.push(encodeURIComponent(kn)+"="+encodeURIComponent(nr))}):Ee.push(encodeURIComponent(kn)+"="+encodeURIComponent(Rn))},Rt=0,dt=Object.entries(Je);Rt<dt.length;Rt++){var En=dt[Rt];xt(En[0],En[1])}return Ee.length?"&"+Ee.join("&"):""},it.querystringDecode=function gn(Je){var Ee={};return Je.replace(/^\?/,"").split("&").forEach(function(Rt){if(Rt){var dt=Rt.split("=");Ee[dt[0]]=dt[1]}}),Ee},it.safeGet=function Ne(Je,Ee){if(Object.prototype.hasOwnProperty.call(Je,Ee))return Je[Ee]},it.stringLength=function(Je){for(var Ee=0,xt=0;xt<Je.length;xt++){var Rt=Je.charCodeAt(xt);Rt<128?Ee++:Rt<2048?Ee+=2:Rt>=55296&&Rt<=56319?(Ee+=4,xt++):Ee+=3}return Ee},it.stringToByteArray=function(Je){for(var Ee=[],xt=0,Rt=0;Rt<Je.length;Rt++){var dt=Je.charCodeAt(Rt);if(dt>=55296&&dt<=56319){var En=dt-55296;Rt++,j(Rt<Je.length,"Surrogate pair missing trail surrogate."),dt=65536+(En<<10)+(Je.charCodeAt(Rt)-56320)}dt<128?Ee[xt++]=dt:dt<2048?(Ee[xt++]=dt>>6|192,Ee[xt++]=63&dt|128):dt<65536?(Ee[xt++]=dt>>12|224,Ee[xt++]=dt>>6&63|128,Ee[xt++]=63&dt|128):(Ee[xt++]=dt>>18|240,Ee[xt++]=dt>>12&63|128,Ee[xt++]=dt>>6&63|128,Ee[xt++]=63&dt|128)}return Ee},it.stringify=function Tn(Je){return JSON.stringify(Je)},it.validateArgCount=function(Je,Ee,xt,Rt){var dt;if(Rt<Ee?dt="at least "+Ee:Rt>xt&&(dt=0===xt?"none":"no more than "+xt),dt)throw new Error(Je+" failed: Was called with "+Rt+(1===Rt?" argument.":" arguments.")+" Expects "+dt+".")},it.validateCallback=function Qn(Je,Ee,xt,Rt){if((!Rt||xt)&&"function"!=typeof xt)throw new Error(xn(Je,Ee,Rt)+"must be a valid function.")},it.validateContextObject=function Nn(Je,Ee,xt,Rt){if((!Rt||xt)&&("object"!=typeof xt||null===xt))throw new Error(xn(Je,Ee,Rt)+"must be a valid context object.")},it.validateIndexedDBOpenable=function f(){return new Promise(function(Je,Ee){try{var xt=!0,Rt="validate-browser-context-for-indexeddb-analytics-module",dt=window.indexedDB.open(Rt);dt.onsuccess=function(){dt.result.close(),xt||window.indexedDB.deleteDatabase(Rt),Je(!0)},dt.onupgradeneeded=function(){xt=!1},dt.onerror=function(){var En;Ee((null===(En=dt.error)||void 0===En?void 0:En.message)||"")}}catch(En){Ee(En)}})},it.validateNamespace=function er(Je,Ee,xt,Rt){if((!Rt||xt)&&"string"!=typeof xt)throw new Error(xn(Je,Ee,Rt)+"must be a valid firebase namespace.")}},70670:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{ErrorCode:()=>zo,EventType:()=>bo,WebChannel:()=>Ys,XhrIo:()=>ms,createWebChannelTransport:()=>ys,default:()=>Ii});var y=function(_,H){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,qe){fe.__proto__=qe}||function(fe,qe){for(var Gt in qe)qe.hasOwnProperty(Gt)&&(fe[Gt]=qe[Gt])})(_,H)};function j(_){var H="function"==typeof Symbol&&Symbol.iterator,fe=H&&_[H],qe=0;if(fe)return fe.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&qe>=_.length&&(_=void 0),{value:_&&_[qe++],done:!_}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}var z,Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qe=Qe||{},te=Pe||self;function Ge(){}function ie(_){var H=typeof _;return"object"!=H?H:_?Array.isArray(_)?"array":H:"null"}function K(_){var H=ie(_);return"array"==H||"object"==H&&"number"==typeof _.length}function Ae(_){var H=typeof _;return"object"==H&&null!=_||"function"==H}var Fe="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function Zt(_,H,fe){return _.call.apply(_.bind,arguments)}function Wt(_,H,fe){if(!_)throw Error();if(2<arguments.length){var qe=Array.prototype.slice.call(arguments,2);return function(){var Gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Gt,qe),_.apply(H,Gt)}}return function(){return _.apply(H,arguments)}}function ye(_,H,fe){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zt:Wt).apply(null,arguments)}function Nt(_,H){var fe=Array.prototype.slice.call(arguments,1);return function(){var qe=fe.slice();return qe.push.apply(qe,arguments),_.apply(this,qe)}}var yt=Date.now;function en(_,H){function fe(){}fe.prototype=H.prototype,_.S=H.prototype,_.prototype=new fe,_.prototype.constructor=_}function Ot(){this.j=this.j,this.i=this.i}Ot.prototype.j=!1,Ot.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function Se(_){Object.prototype.hasOwnProperty.call(_,Fe)&&_[Fe]||(_[Fe]=++bt)}(this)},Ot.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Me=Array.prototype.indexOf?function(_,H){return Array.prototype.indexOf.call(_,H,void 0)}:function(_,H){if("string"==typeof _)return"string"!=typeof H||1!=H.length?-1:_.indexOf(H,0);for(var fe=0;fe<_.length;fe++)if(fe in _&&_[fe]===H)return fe;return-1},tt=Array.prototype.forEach?function(_,H,fe){Array.prototype.forEach.call(_,H,fe)}:function(_,H,fe){for(var qe=_.length,Gt="string"==typeof _?_.split(""):_,sn=0;sn<qe;sn++)sn in Gt&&H.call(fe,Gt[sn],sn,_)};function k(_){return Array.prototype.concat.apply([],arguments)}function T(_){var H=_.length;if(0<H){for(var fe=Array(H),qe=0;qe<H;qe++)fe[qe]=_[qe];return fe}return[]}function W(_){return/^[\s\xa0]*$/.test(_)}var Ke,J=String.prototype.trim?function(_){return _.trim()}:function(_){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(_)[1]};function R(_,H){return-1!=_.indexOf(H)}function ge(_,H){return _<H?-1:_>H?1:0}e:{var Tn=te.navigator;if(Tn){var He=Tn.userAgent;if(He){Ke=He;break e}}Ke=""}function ct(_,H,fe){for(var qe in _)H.call(fe,_[qe],qe,_)}function at(_){var H={};for(var fe in _)H[fe]=_[fe];return H}var ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(_,H){for(var fe,qe,Gt=1;Gt<arguments.length;Gt++){for(fe in qe=arguments[Gt])_[fe]=qe[fe];for(var sn=0;sn<ee.length;sn++)fe=ee[sn],Object.prototype.hasOwnProperty.call(qe,fe)&&(_[fe]=qe[fe])}}function re(_){return re[" "](_),_}re[" "]=Ge;var Ut,_,Ue=R(Ke,"Opera"),ht=R(Ke,"Trident")||R(Ke,"MSIE"),Et=R(Ke,"Edge"),gn=Et||ht,_t=R(Ke,"Gecko")&&!(R(Ke.toLowerCase(),"webkit")&&!R(Ke,"Edge"))&&!(R(Ke,"Trident")||R(Ke,"MSIE"))&&!R(Ke,"Edge"),an=R(Ke.toLowerCase(),"webkit")&&!R(Ke,"Edge");function ft(){var _=te.document;return _?_.documentMode:void 0}e:{var Xt="",fn=(_=Ke,_t?/rv:([^\);]+)(\)|;)/.exec(_):Et?/Edge\/([\d\.]+)/.exec(_):ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_):an?/WebKit\/(\S+)/.exec(_):Ue?/(?:Version)[ \/]?(\S+)/.exec(_):void 0);if(fn&&(Xt=fn?fn[1]:""),ht){var jn=ft();if(null!=jn&&jn>parseFloat(Xt)){Ut=String(jn);break e}}Ut=Xt}var xn={};function er(_){return function Ne(_,H){var fe=xn;return Object.prototype.hasOwnProperty.call(fe,_)?fe[_]:fe[_]=H(_)}(_,function(){for(var H=0,fe=J(String(Ut)).split("."),qe=J(String(_)).split("."),Gt=Math.max(fe.length,qe.length),sn=0;0==H&&sn<Gt;sn++){var dr=fe[sn]||"",ri=qe[sn]||"";do{if(dr=/(\d*)(\D*)(.*)/.exec(dr)||["","","",""],ri=/(\d*)(\D*)(.*)/.exec(ri)||["","","",""],0==dr[0].length&&0==ri[0].length)break;H=ge(0==dr[1].length?0:parseInt(dr[1],10),0==ri[1].length?0:parseInt(ri[1],10))||ge(0==dr[2].length,0==ri[2].length)||ge(dr[2],ri[2]),dr=dr[3],ri=ri[3]}while(0==H)}return 0<=H})}var Dr=te.document&&ht&&(ft()||parseInt(Ut,10))||void 0,pn=!ht||9<=Number(Dr),Oe=ht&&!er("9"),vt=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var _=!1,H=Object.defineProperty({},"passive",{get:function(){_=!0}});try{te.addEventListener("test",Ge,H),te.removeEventListener("test",Ge,H)}catch{}return _}();function Bt(_,H){this.type=_,this.a=this.target=H,this.defaultPrevented=!1}function Qt(_,H){if(Bt.call(this,_?_.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,_){var fe=this.type=_.type,qe=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.a=H,H=_.relatedTarget){if(_t){e:{try{re(H.nodeName);var Gt=!0;break e}catch{}Gt=!1}Gt||(H=null)}}else"mouseover"==fe?H=_.fromElement:"mouseout"==fe&&(H=_.toElement);this.relatedTarget=H,qe?(this.clientX=void 0!==qe.clientX?qe.clientX:qe.pageX,this.clientY=void 0!==qe.clientY?qe.clientY:qe.pageY,this.screenX=qe.screenX||0,this.screenY=qe.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:mn[_.pointerType]||"",this.c=_,_.defaultPrevented&&this.b()}}Bt.prototype.b=function(){this.defaultPrevented=!0},en(Qt,Bt);var mn={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var _=this.c;if(_.preventDefault)_.preventDefault();else if(_.returnValue=!1,Oe)try{(_.ctrlKey||112<=_.keyCode&&123>=_.keyCode)&&(_.keyCode=-1)}catch{}};var Je="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function xt(_,H,fe,qe,Gt){this.listener=_,this.proxy=null,this.src=H,this.type=fe,this.capture=!!qe,this.ca=Gt,this.key=++Ee,this.Y=this.Z=!1}function Rt(_){_.Y=!0,_.listener=null,_.proxy=null,_.src=null,_.ca=null}function dt(_){this.src=_,this.a={},this.b=0}function En(_,H){var fe=H.type;if(fe in _.a){var sn,qe=_.a[fe],Gt=Me(qe,H);(sn=0<=Gt)&&Array.prototype.splice.call(qe,Gt,1),sn&&(Rt(H),0==_.a[fe].length&&(delete _.a[fe],_.b--))}}function On(_,H,fe,qe){for(var Gt=0;Gt<_.length;++Gt){var sn=_[Gt];if(!sn.Y&&sn.listener==H&&sn.capture==!!fe&&sn.ca==qe)return Gt}return-1}dt.prototype.add=function(_,H,fe,qe,Gt){var sn=_.toString();(_=this.a[sn])||(_=this.a[sn]=[],this.b++);var dr=On(_,H,qe,Gt);return-1<dr?(H=_[dr],fe||(H.Z=!1)):((H=new xt(H,this.src,sn,!!qe,Gt)).Z=fe,_.push(H)),H};var Wn="closure_lm_"+(1e6*Math.random()|0),kn={};function Rn(_,H,fe,qe,Gt){if(qe&&qe.once)return hn(_,H,fe,qe,Gt);if(Array.isArray(H)){for(var sn=0;sn<H.length;sn++)Rn(_,H[sn],fe,qe,Gt);return null}return fe=bn(fe),_&&_[Je]?_.va(H,fe,Ae(qe)?!!qe.capture:!!qe,Gt):nr(_,H,fe,!1,qe,Gt)}function nr(_,H,fe,qe,Gt,sn){if(!H)throw Error("Invalid event type");var dr=Ae(Gt)?!!Gt.capture:!!Gt;if(dr&&!pn)return null;var ri=rt(_);if(ri||(_[Wn]=ri=new dt(_)),(fe=ri.add(H,fe,qe,dr,sn)).proxy)return fe;if(qe=function xr(){var _=ae,H=pn?function(fe){return _.call(H.src,H.listener,fe)}:function(fe){if(!(fe=_.call(H.src,H.listener,fe)))return fe};return H}(),fe.proxy=qe,qe.src=_,qe.listener=fe,_.addEventListener)vt||(Gt=dr),void 0===Gt&&(Gt=!1),_.addEventListener(H.toString(),qe,Gt);else if(_.attachEvent)_.attachEvent(Te(H.toString()),qe);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(qe)}return fe}function hn(_,H,fe,qe,Gt){if(Array.isArray(H)){for(var sn=0;sn<H.length;sn++)hn(_,H[sn],fe,qe,Gt);return null}return fe=bn(fe),_&&_[Je]?_.wa(H,fe,Ae(qe)?!!qe.capture:!!qe,Gt):nr(_,H,fe,!0,qe,Gt)}function Pt(_,H,fe,qe,Gt){if(Array.isArray(H))for(var sn=0;sn<H.length;sn++)Pt(_,H[sn],fe,qe,Gt);else qe=Ae(qe)?!!qe.capture:!!qe,fe=bn(fe),_&&_[Je]?(_=_.c,(H=String(H).toString())in _.a&&-1<(fe=On(sn=_.a[H],fe,qe,Gt))&&(Rt(sn[fe]),Array.prototype.splice.call(sn,fe,1),0==sn.length&&(delete _.a[H],_.b--))):_&&(_=rt(_))&&(H=_.a[H.toString()],_=-1,H&&(_=On(H,fe,qe,Gt)),(fe=-1<_?H[_]:null)&&Vt(fe))}function Vt(_){if("number"!=typeof _&&_&&!_.Y){var H=_.src;if(H&&H[Je])En(H.c,_);else{var fe=_.type,qe=_.proxy;H.removeEventListener?H.removeEventListener(fe,qe,_.capture):H.detachEvent?H.detachEvent(Te(fe),qe):H.addListener&&H.removeListener&&H.removeListener(qe),(fe=rt(H))?(En(fe,_),0==fe.b&&(fe.src=null,H[Wn]=null)):Rt(_)}}}function Te(_){return _ in kn?kn[_]:kn[_]="on"+_}function le(_,H){var fe=_.listener,qe=_.ca||_.src;return _.Z&&Vt(_),fe.call(qe,H)}function ae(_,H){if(_.Y)return!0;if(!pn){if(!H)e:{H=["window","event"];for(var fe=te,qe=0;qe<H.length;qe++)if(null==(fe=fe[H[qe]])){H=null;break e}H=fe}return le(_,H=new Qt(H,this))}return le(_,new Qt(H,this))}function rt(_){return(_=_[Wn])instanceof dt?_:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(_){return"function"==ie(_)?_:(_[Tt]||(_[Tt]=function(H){return _.handleEvent(H)}),_[Tt])}function xe(){Ot.call(this),this.c=new dt(this),this.J=this,this.C=null}function Ct(_,H,fe,qe){if(!(H=_.c.a[String(H)]))return!0;H=H.concat();for(var Gt=!0,sn=0;sn<H.length;++sn){var dr=H[sn];if(dr&&!dr.Y&&dr.capture==fe){var ri=dr.listener,Xr=dr.ca||dr.src;dr.Z&&En(_.c,dr),Gt=!1!==ri.call(Xr,qe)&&Gt}}return Gt&&!qe.defaultPrevented}en(xe,Ot),xe.prototype[Je]=!0,(z=xe.prototype).addEventListener=function(_,H,fe,qe){Rn(this,_,H,fe,qe)},z.removeEventListener=function(_,H,fe,qe){Pt(this,_,H,fe,qe)},z.dispatchEvent=function(_){var H,fe=this.C;if(fe)for(H=[];fe;fe=fe.C)H.push(fe);fe=this.J;var qe=_.type||_;if("string"==typeof _)_=new Bt(_,fe);else if(_ instanceof Bt)_.target=_.target||fe;else{var Gt=_;ce(_=new Bt(qe,fe),Gt)}if(Gt=!0,H)for(var sn=H.length-1;0<=sn;sn--){var dr=_.a=H[sn];Gt=Ct(dr,qe,!0,_)&&Gt}if(Gt=Ct(dr=_.a=fe,qe,!0,_)&&Gt,Gt=Ct(dr,qe,!1,_)&&Gt,H)for(sn=0;sn<H.length;sn++)Gt=Ct(dr=_.a=H[sn],qe,!1,_)&&Gt;return Gt},z.G=function(){if(xe.S.G.call(this),this.c){var H,_=this.c;for(H in _.a){for(var fe=_.a[H],qe=0;qe<fe.length;qe++)Rt(fe[qe]);delete _.a[H],_.b--}}this.C=null},z.va=function(_,H,fe,qe){return this.c.add(String(_),H,!1,fe,qe)},z.wa=function(_,H,fe,qe){return this.c.add(String(_),H,!0,fe,qe)};var Yt=te.JSON.stringify;function ln(){this.b=this.a=null}var Ft,qt=new(function(){function _(H,fe,qe){this.f=qe,this.c=H,this.g=fe,this.b=0,this.a=null}return _.prototype.get=function(){var H;return 0<this.b?(this.b--,this.a=(H=this.a).next,H.next=null):H=this.c(),H},_}())(function(){return new nt},function(_){_.reset()},100);function ot(){var _=Cn,H=null;return _.a&&(H=_.a,_.a=_.a.next,_.a||(_.b=null),H.next=null),H}function nt(){this.next=this.b=this.a=null}function De(_){te.setTimeout(function(){throw _},0)}function Dt(_,H){Ft||function vn(){var _=te.Promise.resolve(void 0);Ft=function(){_.then(yr)}}(),Zn||(Ft(),Zn=!0),Cn.add(_,H)}ln.prototype.add=function(_,H){var fe=qt.get();fe.set(_,H),this.b?this.b.next=fe:this.a=fe,this.b=fe},nt.prototype.set=function(_,H){this.a=_,this.b=H,this.next=null},nt.prototype.reset=function(){this.next=this.b=this.a=null};var Zn=!1,Cn=new ln;function yr(){for(var _;_=ot();){try{_.a.call(_.b)}catch(fe){De(fe)}var H=qt;H.g(_),H.b<H.f&&(H.b++,_.next=H.a,H.a=_)}Zn=!1}function ei(_,H){xe.call(this),this.b=_||1,this.a=H||te,this.f=ye(this.Ya,this),this.g=yt()}function st(_){_.aa=!1,_.M&&(_.a.clearTimeout(_.M),_.M=null)}function pt(_,H,fe){if("function"==ie(_))fe&&(_=ye(_,fe));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=ye(_.handleEvent,_)}return 2147483647<Number(H)?-1:te.setTimeout(_,H||0)}function St(_){_.a=pt(function(){_.a=null,_.c&&(_.c=!1,St(_))},_.h);var H=_.b;_.b=null,_.g.apply(null,H)}en(ei,xe),(z=ei.prototype).aa=!1,z.M=null,z.Ya=function(){if(this.aa){var _=yt()-this.g;0<_&&_<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-_):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(st(this),this.start()))}},z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yt())},z.G=function(){ei.S.G.call(this),st(this),delete this.a};var zt=function(_){function H(fe,qe,Gt){var sn=_.call(this)||this;return sn.g=null!=Gt?fe.bind(Gt):fe,sn.h=qe,sn.b=null,sn.c=!1,sn.a=null,sn}return function E(_,H){function fe(){this.constructor=_}y(_,H),_.prototype=null===H?Object.create(H):(fe.prototype=H.prototype,new fe)}(H,_),H.prototype.f=function(fe){this.b=arguments,this.a?this.c=!0:St(this)},H.prototype.G=function(){_.prototype.G.call(this),this.a&&(te.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},H}(Ot);function ke(_){Ot.call(this),this.b=_,this.a={}}en(ke,Ot);var q=[];function be(_,H,fe,qe){Array.isArray(fe)||(fe&&(q[0]=fe.toString()),fe=q);for(var Gt=0;Gt<fe.length;Gt++){var sn=Rn(H,fe[Gt],qe||_.handleEvent,!1,_.b||_);if(!sn)break;_.a[sn.key]=sn}}function $e(_){ct(_.a,function(H,fe){this.a.hasOwnProperty(fe)&&Vt(H)},_),_.a={}}function mt(){this.a=!0}function Yn(_,H,fe,qe){_.info(function(){return"XMLHTTP TEXT ("+H+"): "+function mr(_,H){if(!_.a)return H;if(!H)return null;try{var fe=JSON.parse(H);if(fe)for(_=0;_<fe.length;_++)if(Array.isArray(fe[_])){var qe=fe[_];if(!(2>qe.length)){var Gt=qe[1];if(Array.isArray(Gt)&&!(1>Gt.length)){var sn=Gt[0];if("noop"!=sn&&"stop"!=sn&&"close"!=sn)for(var dr=1;dr<Gt.length;dr++)Gt[dr]=""}}}return Yt(fe)}catch{return H}}(_,fe)+(qe?" "+qe:"")})}ke.prototype.G=function(){ke.S.G.call(this),$e(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mt.prototype.info=function(){};var rr=null;function dn(){return rr=rr||new xe}function sr(_){Bt.call(this,"serverreachability",_)}function fr(_){var H=dn();H.dispatchEvent(new sr(H,_))}function ai(_){Bt.call(this,"statevent",_)}function Cr(_){var H=dn();H.dispatchEvent(new ai(H,_))}function xi(_){Bt.call(this,"timingevent",_)}function di(_,H){if("function"!=ie(_))throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){_()},H)}en(sr,Bt),en(ai,Bt),en(xi,Bt);var Mr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Bi={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ni(){}function Qi(){}Ni.prototype.a=null;var Mi,ji={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function io(){Bt.call(this,"d")}function to(){Bt.call(this,"c")}function No(){}function Gi(_,H,fe,qe){this.g=_,this.c=H,this.f=fe,this.T=qe||1,this.J=new ke(this),this.P=ze,this.R=new ei(_=gn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}en(io,Bt),en(to,Bt),en(No,Ni),Mi=new No;var ze=45e3,pe={},B={};function _e(_,H,fe){_.H=1,_.i=Ds(oo(H)),_.j=fe,_.I=!0,Xe(_,null)}function Xe(_,H){_.u=yt(),ur(_),_.l=oo(_.i);var fe=_.l,qe=_.T;Array.isArray(qe)||(qe=[String(qe)]),Kr(fe.b,"t",qe),_.D=0,_.a=Bo(_.g,_.g.C?H:null),0<_.O&&(_.F=new zt(ye(_.Ca,_,_.a),_.O)),be(_.J,_.a,"readystatechange",_.Wa),H=_.B?at(_.B):{},_.j?(_.m||(_.m="POST"),H["Content-Type"]="application/x-www-form-urlencoded",_.a.ba(_.l,_.m,_.j,H)):(_.m="GET",_.a.ba(_.l,_.m,null,H)),fr(1),function Mt(_,H,fe,qe,Gt,sn){_.info(function(){if(_.a)if(sn)for(var dr="",ri=sn.split("&"),Xr=0;Xr<ri.length;Xr++){var wo=ri[Xr].split("=");if(1<wo.length){var Xo=wo[0];wo=wo[1];var ns=Xo.split("_");dr=2<=ns.length&&"type"==ns[1]?dr+(Xo+"=")+wo+"&":dr+(Xo+"=redacted&")}}else dr=null;else dr=sn;return"XMLHTTP REQ ("+qe+") [attempt "+Gt+"]: "+H+"\n"+fe+"\n"+dr})}(_.c,_.m,_.l,_.f,_.T,_.j)}function un(_,H,fe){for(var qe=!0;!_.A&&_.D<fe.length;){var Gt=$n(_,fe);if(Gt==B){4==H&&(_.h=4,Cr(14),qe=!1),Yn(_.c,_.f,null,"[Incomplete Response]");break}if(Gt==pe){_.h=4,Cr(15),Yn(_.c,_.f,fe,"[Invalid Chunk]"),qe=!1;break}Yn(_.c,_.f,Gt,null),ar(_,Gt)}4==H&&0==fe.length&&(_.h=1,Cr(16),qe=!1),_.b=_.b&&qe,qe?0<fe.length&&!_.W&&(_.W=!0,(H=_.g).a==_&&H.V&&!H.F&&(H.c.info("Great, no buffering proxy detected. Bytes received: "+fe.length),$s(H),H.F=!0)):(Yn(_.c,_.f,fe,"[Invalid Chunked Response]"),ir(_),vr(_))}function $n(_,H){var fe=_.D,qe=H.indexOf("\n",fe);return-1==qe?B:(fe=Number(H.substring(fe,qe)),isNaN(fe)?pe:(qe+=1)+fe>H.length?B:(H=H.substr(qe,fe),_.D=qe+fe,H))}function ur(_){_.U=yt()+_.P,kr(_,_.P)}function kr(_,H){if(null!=_.o)throw Error("WatchDog timer not null");_.o=di(ye(_.Ua,_),H)}function gr(_){_.o&&(te.clearTimeout(_.o),_.o=null)}function vr(_){0==_.g.v||_.A||Lo(_.g,_)}function ir(_){gr(_);var H=_.F;H&&"function"==typeof H.ja&&H.ja(),_.F=null,st(_.R),$e(_.J),_.a&&(H=_.a,_.a=null,H.abort(),H.ja())}function ar(_,H){try{var fe=_.g;if(0!=fe.v&&(fe.a==_||Ur(fe.b,_)))if(fe.I=_.N,!_.C&&Ur(fe.b,_)&&3==fe.v){try{var qe=fe.ka.a.parse(H)}catch{qe=null}if(Array.isArray(qe)&&3==qe.length){var Gt=qe;if(0==Gt[0]){e:if(!fe.j){if(fe.a){if(!(fe.a.u+3e3<_.u))break e;co(fe),Vr(fe)}ps(fe),Cr(18)}}else fe.oa=Gt[1],0<fe.oa-fe.P&&37500>Gt[2]&&fe.H&&0==fe.o&&!fe.m&&(fe.m=di(ye(fe.Ra,fe),6e3));if(1>=Pi(fe.b)&&fe.ea){try{fe.ea()}catch{}fe.ea=void 0}}else Do(fe,11)}else if((_.C||fe.a==_)&&co(fe),!W(H))for(H=qe=fe.ka.a.parse(H),qe=0;qe<H.length;qe++)if(fe.P=(Gt=H[qe])[0],Gt=Gt[1],2==fe.v)if("c"==Gt[0]){fe.J=Gt[1],fe.ga=Gt[2];var sn=Gt[3];null!=sn&&(fe.ha=sn,fe.c.info("VER="+fe.ha));var dr=Gt[4];null!=dr&&(fe.pa=dr,fe.c.info("SVER="+fe.pa));var ri=Gt[5];if(null!=ri&&"number"==typeof ri&&0<ri){var Xr=1.5*ri;fe.D=Xr,fe.c.info("backChannelRequestTimeoutMs_="+Xr)}Xr=fe;var wo=_.a;if(wo){var Xo=wo.a?wo.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var ns=Xr.b;!ns.a&&(R(Xo,"spdy")||R(Xo,"quic")||R(Xo,"h2"))&&(ns.f=ns.g,ns.a=new Set,ns.b&&(go(ns,ns.b),ns.b=null))}if(Xr.A){var ss=wo.a?wo.a.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(Xr.na=ss,mi(Xr.B,Xr.A,ss))}}fe.v=3,fe.f&&fe.f.ta(),fe.V&&(fe.N=yt()-_.u,fe.c.info("Handshake RTT: "+fe.N+"ms"));var Zo=_;if((Xr=fe).la=Ho(Xr,Xr.C?Xr.ga:null,Xr.fa),Zo.C){Si(Xr.b,Zo);var bi=Zo,Y=Xr.D;Y&&bi.setTimeout(Y),bi.o&&(gr(bi),ur(bi)),Xr.a=Zo}else ts(Xr);0<fe.g.length&&oi(fe)}else"stop"!=Gt[0]&&"close"!=Gt[0]||Do(fe,7);else 3==fe.v&&("stop"==Gt[0]||"close"==Gt[0]?"stop"==Gt[0]?Do(fe,7):Pn(fe):"noop"!=Gt[0]&&fe.f&&fe.f.sa(Gt),fe.o=0);fr(4)}catch{}}function ao(_,H){if(_.forEach&&"function"==typeof _.forEach)_.forEach(H,void 0);else if(K(_)||"string"==typeof _)tt(_,H,void 0);else{if(_.L&&"function"==typeof _.L)var fe=_.L();else if(_.K&&"function"==typeof _.K)fe=void 0;else if(K(_)||"string"==typeof _){fe=[];for(var qe=_.length,Gt=0;Gt<qe;Gt++)fe.push(Gt)}else for(Gt in fe=[],qe=0,_)fe[qe++]=Gt;qe=function ki(_){if(_.K&&"function"==typeof _.K)return _.K();if("string"==typeof _)return _.split("");if(K(_)){for(var H=[],fe=_.length,qe=0;qe<fe;qe++)H.push(_[qe]);return H}for(qe in H=[],fe=0,_)H[fe++]=_[qe];return H}(_),Gt=qe.length;for(var sn=0;sn<Gt;sn++)H.call(void 0,qe[sn],fe&&fe[sn],_)}}function Oi(_,H){this.b={},this.a=[],this.c=0;var fe=arguments.length;if(1<fe){if(fe%2)throw Error("Uneven number of arguments");for(var qe=0;qe<fe;qe+=2)this.set(arguments[qe],arguments[qe+1])}else if(_)if(_ instanceof Oi)for(fe=_.L(),qe=0;qe<fe.length;qe++)this.set(fe[qe],_.get(fe[qe]));else for(qe in _)this.set(qe,_[qe])}function Ki(_){if(_.c!=_.a.length){for(var H=0,fe=0;H<_.a.length;){var qe=_.a[H];Ai(_.b,qe)&&(_.a[fe++]=qe),H++}_.a.length=fe}if(_.c!=_.a.length){var Gt={};for(fe=H=0;H<_.a.length;)Ai(Gt,qe=_.a[H])||(_.a[fe++]=qe,Gt[qe]=1),H++;_.a.length=fe}}function Ai(_,H){return Object.prototype.hasOwnProperty.call(_,H)}(z=Gi.prototype).setTimeout=function(_){this.P=_},z.Wa=function(_){_=_.target;var H=this.F;H&&3==os(_)?H.f():this.Ca(_)},z.Ca=function(_){try{if(_==this.a)e:{var H=os(this.a),fe=this.a.ua(),qe=this.a.X();if(!(3>H||3==H&&!gn&&!this.a.$())){this.A||4!=H||7==fe||fr(8==fe||0>=qe?3:2),gr(this);var Gt=this.a.X();this.N=Gt;var sn=this.a.$();if(this.b=200==Gt,function Lt(_,H,fe,qe,Gt,sn,dr){_.info(function(){return"XMLHTTP RESP ("+qe+") [ attempt "+Gt+"]: "+H+"\n"+fe+"\n"+sn+" "+dr})}(this.c,this.m,this.l,this.f,this.T,H,Gt),this.b){if(this.V&&!this.C){t:{if(this.a){var dr,ri=this.a;if((dr=ri.a?ri.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(dr)){var Xr=dr;break t}}Xr=null}if(!Xr){this.b=!1,this.h=3,Cr(12),ir(this),vr(this);break e}Yn(this.c,this.f,Xr,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ar(this,Xr)}this.I?(un(this,H,sn),gn&&this.b&&3==H&&(be(this.J,this.R,"tick",this.Va),this.R.start())):(Yn(this.c,this.f,sn,null),ar(this,sn)),4==H&&ir(this),this.b&&!this.A&&(4==H?Lo(this.g,this):(this.b=!1,ur(this)))}else 400==Gt&&0<sn.indexOf("Unknown SID")?(this.h=3,Cr(12)):(this.h=0,Cr(13)),ir(this),vr(this)}}}catch{}},z.Va=function(){if(this.a){var _=os(this.a),H=this.a.$();this.D<H.length&&(gr(this),un(this,_,H),this.b&&4!=_&&ur(this))}},z.cancel=function(){this.A=!0,ir(this)},z.Ua=function(){this.o=null;var _=yt();0<=_-this.U?(function Kn(_,H){_.info(function(){return"TIMEOUT: "+H})}(this.c,this.l),2!=this.H&&(fr(3),Cr(17)),ir(this),this.h=2,vr(this)):kr(this,this.U-_)},(z=Oi.prototype).K=function(){Ki(this);for(var _=[],H=0;H<this.a.length;H++)_.push(this.b[this.a[H]]);return _},z.L=function(){return Ki(this),this.a.concat()},z.get=function(_,H){return Ai(this.b,_)?this.b[_]:H},z.set=function(_,H){Ai(this.b,_)||(this.c++,this.a.push(_)),this.b[_]=H},z.forEach=function(_,H){for(var fe=this.L(),qe=0;qe<fe.length;qe++){var Gt=fe[qe],sn=this.get(Gt);_.call(H,sn,Gt,this)}};var Gr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $i(_,H){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,_ instanceof $i){this.a=void 0!==H?H:_.a,Ts(this,_.f),this.j=_.j,Ko(this,_.c),cs(this,_.h),this.g=_.g,H=_.b;var fe=new Hn;fe.c=H.c,H.a&&(fe.a=new Oi(H.a),fe.b=H.b),Ns(this,fe),this.i=_.i}else _&&(fe=String(_).match(Gr))?(this.a=!!H,Ts(this,fe[1]||"",!0),this.j=lo(fe[2]||""),Ko(this,fe[3]||"",!0),cs(this,fe[4]),this.g=lo(fe[5]||"",!0),Ns(this,fe[6]||"",!0),this.i=lo(fe[7]||"")):(this.a=!!H,this.b=new Hn(null,this.a))}function oo(_){return new $i(_)}function Ts(_,H,fe){_.f=fe?lo(H,!0):H,_.f&&(_.f=_.f.replace(/:$/,""))}function Ko(_,H,fe){_.c=fe?lo(H,!0):H}function cs(_,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);_.h=H}else _.h=null}function Ns(_,H,fe){H instanceof Hn?(_.b=H,function gi(_,H){H&&!_.f&&(Mn(_),_.c=null,_.a.forEach(function(fe,qe){var Gt=qe.toLowerCase();qe!=Gt&&(qn(this,qe),Kr(this,Gt,fe))},_)),_.f=H}(_.b,_.a)):(fe||(H=oe(H,Jt)),_.b=new Hn(H,_.a))}function mi(_,H,fe){_.b.set(H,fe)}function Ds(_){return mi(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yt()).toString(36)),_}function lo(_,H){return _?H?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function oe(_,H,fe){return"string"==typeof _?(_=encodeURI(_).replace(H,ne),fe&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ne(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}$i.prototype.toString=function(){var _=[],H=this.f;H&&_.push(oe(H,Be,!0),":");var fe=this.c;return(fe||"file"==H)&&(_.push("//"),(H=this.j)&&_.push(oe(H,Be,!0),"@"),_.push(encodeURIComponent(String(fe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(fe=this.h)&&_.push(":",String(fe))),(fe=this.g)&&(this.c&&"/"!=fe.charAt(0)&&_.push("/"),_.push(oe(fe,"/"==fe.charAt(0)?jt:wt,!0))),(fe=this.b.toString())&&_.push("?",fe),(fe=this.i)&&_.push("#",oe(fe,Sn)),_.join("")};var Be=/[#\/\?@]/g,wt=/[#\?:]/g,jt=/[#\?]/g,Jt=/[#\?@]/g,Sn=/#/g;function Hn(_,H){this.b=this.a=null,this.c=_||null,this.f=!!H}function Mn(_){_.a||(_.a=new Oi,_.b=0,_.c&&function So(_,H){if(_){_=_.split("&");for(var fe=0;fe<_.length;fe++){var qe=_[fe].indexOf("="),Gt=null;if(0<=qe){var sn=_[fe].substring(0,qe);Gt=_[fe].substring(qe+1)}else sn=_[fe];H(sn,Gt?decodeURIComponent(Gt.replace(/\+/g," ")):"")}}}(_.c,function(H,fe){_.add(decodeURIComponent(H.replace(/\+/g," ")),fe)}))}function qn(_,H){Mn(_),H=Ar(_,H),Ai(_.a.b,H)&&(_.c=null,_.b-=_.a.get(H).length,Ai((_=_.a).b,H)&&(delete _.b[H],_.c--,_.a.length>2*_.c&&Ki(_)))}function or(_,H){return Mn(_),H=Ar(_,H),Ai(_.a.b,H)}function Kr(_,H,fe){qn(_,H),0<fe.length&&(_.c=null,_.a.set(Ar(_,H),T(fe)),_.b+=fe.length)}function Ar(_,H){return H=String(H),_.f&&(H=H.toLowerCase()),H}function $r(_,H){this.b=_,this.a=H}function Ri(_){this.g=_||vi,_=te.PerformanceNavigationTiming?0<(_=te.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(te.ia&&te.ia.ya&&te.ia.ya()&&te.ia.ya().qb),this.f=_?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(z=Hn.prototype).add=function(_,H){Mn(this),this.c=null,_=Ar(this,_);var fe=this.a.get(_);return fe||this.a.set(_,fe=[]),fe.push(H),this.b+=1,this},z.forEach=function(_,H){Mn(this),this.a.forEach(function(fe,qe){tt(fe,function(Gt){_.call(H,Gt,qe,this)},this)},this)},z.L=function(){Mn(this);for(var _=this.a.K(),H=this.a.L(),fe=[],qe=0;qe<H.length;qe++)for(var Gt=_[qe],sn=0;sn<Gt.length;sn++)fe.push(H[qe]);return fe},z.K=function(_){Mn(this);var H=[];if("string"==typeof _)or(this,_)&&(H=k(H,this.a.get(Ar(this,_))));else{_=this.a.K();for(var fe=0;fe<_.length;fe++)H=k(H,_[fe])}return H},z.set=function(_,H){return Mn(this),this.c=null,or(this,_=Ar(this,_))&&(this.b-=this.a.get(_).length),this.a.set(_,[H]),this.b+=1,this},z.get=function(_,H){return _&&0<(_=this.K(_)).length?String(_[0]):H},z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var _=[],H=this.a.L(),fe=0;fe<H.length;fe++){var qe=H[fe],Gt=encodeURIComponent(String(qe));qe=this.K(qe);for(var sn=0;sn<qe.length;sn++){var dr=Gt;""!==qe[sn]&&(dr+="="+encodeURIComponent(String(qe[sn]))),_.push(dr)}}return this.c=_.join("&")};var vi=10;function mo(_){return!!_.b||!!_.a&&_.a.size>=_.f}function Pi(_){return _.b?1:_.a?_.a.size:0}function Ur(_,H){return _.b?_.b==H:!!_.a&&_.a.has(H)}function go(_,H){_.a?_.a.add(H):_.b=H}function Si(_,H){_.b&&_.b==H?_.b=null:_.a&&_.a.has(H)&&_.a.delete(H)}function Ti(_){var H,fe;if(null!=_.b)return _.c.concat(_.b.s);if(null!=_.a&&0!==_.a.size){var qe=_.c;try{for(var Gt=j(_.a.values()),sn=Gt.next();!sn.done;sn=Gt.next())qe=qe.concat(sn.value.s)}catch(ri){H={error:ri}}finally{try{sn&&!sn.done&&(fe=Gt.return)&&fe.call(Gt)}finally{if(H)throw H.error}}return qe}return T(_.c)}function yi(){}function hi(){this.a=new yi}function Yi(_,H,fe){var qe=fe||"";try{ao(_,function(Gt,sn){var dr=Gt;Ae(Gt)&&(dr=Yt(Gt)),H.push(qe+sn+"="+encodeURIComponent(dr))})}catch(Gt){throw H.push(qe+"type="+encodeURIComponent("_badmap")),Gt}}function $o(_,H,fe,qe,Gt){try{H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null,Gt(qe)}catch{}}Ri.prototype.cancel=function(){var _,H;if(this.c=Ti(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var fe=j(this.a.values()),qe=fe.next();!qe.done;qe=fe.next())qe.value.cancel()}catch(sn){_={error:sn}}finally{try{qe&&!qe.done&&(H=fe.return)&&H.call(fe)}finally{if(_)throw _.error}}this.a.clear()}},yi.prototype.stringify=function(_){return te.JSON.stringify(_,void 0)},yi.prototype.parse=function(_){return te.JSON.parse(_,void 0)};var Fs=te.JSON.parse;function ti(_){xe.call(this),this.headers=new Oi,this.H=_||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qr,this.D=this.F=!1}en(ti,xe);var Qr="",Ui=/^https?$/i,uo=["POST","PUT"];function is(_){return"content-type"==_.toLowerCase()}function Vi(_,H){_.b=!1,_.a&&(_.g=!0,_.a.abort(),_.g=!1),_.f=H,_.h=5,Or(_),hs(_)}function Or(_){_.u||(_.u=!0,_.dispatchEvent("complete"),_.dispatchEvent("error"))}function _o(_){if(_.b&&typeof Qe<"u"&&(!_.s[1]||4!=os(_)||2!=_.X()))if(_.l&&4==os(_))pt(_.za,0,_);else if(_.dispatchEvent("readystatechange"),4==os(_)){_.b=!1;try{var qe,H=_.X();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var fe=!0;break e;default:fe=!1}if(!(qe=fe)){var Gt;if(Gt=0===H){var sn=String(_.B).match(Gr)[1]||null;if(!sn&&te.self&&te.self.location){var dr=te.self.location.protocol;sn=dr.substr(0,dr.length-1)}Gt=!Ui.test(sn?sn.toLowerCase():"")}qe=Gt}if(qe)_.dispatchEvent("complete"),_.dispatchEvent("success");else{_.h=6;try{var ri=2<os(_)?_.a.statusText:""}catch{ri=""}_.f=ri+" ["+_.X()+"]",Or(_)}}finally{hs(_)}}}function hs(_,H){if(_.a){Ls(_);var fe=_.a,qe=_.s[0]?Ge:null;_.a=null,_.s=null,H||_.dispatchEvent("ready");try{fe.onreadystatechange=qe}catch{}}}function Ls(_){_.a&&_.D&&(_.a.ontimeout=null),_.m&&(te.clearTimeout(_.m),_.m=null)}function os(_){return _.a?_.a.readyState:0}function Hi(_,H,fe){e:{for(qe in fe){var qe=!1;break e}qe=!0}qe||(fe=function To(_){var H="";return ct(_,function(fe,qe){H+=qe,H+=":",H+=fe,H+="\r\n"}),H}(fe),"string"==typeof _?null!=fe&&encodeURIComponent(String(fe)):mi(_,H,fe))}function es(_,H,fe){return fe&&fe.internalChannelParams&&fe.internalChannelParams[_]||H}function Ks(_){this.pa=0,this.g=[],this.c=new mt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=es("failFast",!1,_),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=es("baseRetryDelayMs",5e3,_),this.Ma=es("retryDelaySeedMs",1e4,_),this.Ja=es("forwardChannelMaxRetries",2,_),this.ma=es("forwardChannelRequestTimeoutMs",2e4,_),this.Ka=_&&_.g||void 0,this.D=void 0,this.C=_&&_.supportsCrossDomainXhr||!1,this.J="",this.b=new Ri(_&&_.concurrentRequestLimit),this.ka=new hi,this.da=_&&_.fastHandshake||!1,this.Ga=_&&_.b||!1,_&&_.f&&(this.c.a=!1),_&&_.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&_&&_.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Pn(_){if(fs(_),3==_.v){var H=_.R++,fe=oo(_.B);mi(fe,"SID",_.J),mi(fe,"RID",H),mi(fe,"TYPE","terminate"),Ji(_,fe),(H=new Gi(_,_.c,H,void 0)).H=2,H.i=Ds(oo(fe)),fe=!1,te.navigator&&te.navigator.sendBeacon&&(fe=te.navigator.sendBeacon(H.i.toString(),"")),!fe&&te.Image&&((new Image).src=H.i,fe=!0),fe||(H.a=Bo(H.g,null),H.a.ba(H.i)),H.u=yt(),ur(H)}vo(_)}function Vr(_){_.a&&($s(_),_.a.cancel(),_.a=null)}function fs(_){Vr(_),_.j&&(te.clearTimeout(_.j),_.j=null),co(_),_.b.cancel(),_.h&&("number"==typeof _.h&&te.clearTimeout(_.h),_.h=null)}function qo(_,H){_.g.push(new $r(_.La++,H)),3==_.v&&oi(_)}function oi(_){mo(_.b)||_.h||(_.h=!0,Dt(_.Ba,_),_.u=0)}function Di(_,H){var fe;fe=H?H.f:_.R++;var qe=oo(_.B);mi(qe,"SID",_.J),mi(qe,"RID",fe),mi(qe,"AID",_.P),Ji(_,qe),_.i&&_.l&&Hi(qe,_.i,_.l),fe=new Gi(_,_.c,fe,_.u+1),null===_.i&&(fe.B=_.l),H&&(_.g=H.s.concat(_.g)),H=Bs(_,fe,1e3),fe.setTimeout(Math.round(.5*_.ma)+Math.round(.5*_.ma*Math.random())),go(_.b,fe),_e(fe,qe,H)}function Ji(_,H){_.f&&ao({},function(fe,qe){mi(H,qe,fe)})}function Bs(_,H,fe){fe=Math.min(_.g.length,fe);var qe=_.f?ye(_.f.Ha,_.f,_):null;e:for(var Gt=_.g,sn=-1;;){var dr=["count="+fe];-1==sn?0<fe?dr.push("ofs="+(sn=Gt[0].b)):sn=0:dr.push("ofs="+sn);for(var ri=!0,Xr=0;Xr<fe;Xr++){var wo=Gt[Xr].b,Xo=Gt[Xr].a;if(0>(wo-=sn))sn=Math.max(0,Gt[Xr].b-100),ri=!1;else try{Yi(Xo,dr,"req"+wo+"_")}catch{qe&&qe(Xo)}}if(ri){qe=dr.join("&");break e}}return _=_.g.splice(0,fe),H.s=_,qe}function ts(_){_.a||_.j||(_.U=1,Dt(_.Aa,_),_.o=0)}function ps(_){return!(_.a||_.j||3<=_.o||(_.U++,_.j=di(ye(_.Aa,_),xo(_,_.o)),_.o++,0))}function $s(_){null!=_.s&&(te.clearTimeout(_.s),_.s=null)}function Hs(_){_.a=new Gi(_,_.c,"rpc",_.U),null===_.i&&(_.a.B=_.l),_.a.O=0;var H=oo(_.la);mi(H,"RID","rpc"),mi(H,"SID",_.J),mi(H,"CI",_.H?"0":"1"),mi(H,"AID",_.P),Ji(_,H),mi(H,"TYPE","xmlhttp"),_.i&&_.l&&Hi(H,_.i,_.l),_.D&&_.a.setTimeout(_.D);var fe=_.a;_=_.ga,fe.H=1,fe.i=Ds(oo(H)),fe.j=null,fe.I=!0,Xe(fe,_)}function co(_){null!=_.m&&(te.clearTimeout(_.m),_.m=null)}function Lo(_,H){var fe=null;if(_.a==H){co(_),$s(_),_.a=null;var qe=2}else{if(!Ur(_.b,H))return;fe=H.s,Si(_.b,H),qe=1}if(_.I=H.N,0!=_.v)if(H.b)if(1==qe){fe=H.j?H.j.length:0,H=yt()-H.u;var Gt=_.u;(qe=dn()).dispatchEvent(new xi(qe,fe,H,Gt)),oi(_)}else ts(_);else if(3==(Gt=H.h)||0==Gt&&0<_.I||!(1==qe&&function Zi(_,H){return!(Pi(_.b)>=_.b.f-(_.h?1:0)||(_.h?(_.g=H.s.concat(_.g),0):1==_.v||2==_.v||_.u>=(_.Ia?0:_.Ja)||(_.h=di(ye(_.Ba,_,H),xo(_,_.u)),_.u++,0)))}(_,H)||2==qe&&ps(_)))switch(fe&&0<fe.length&&(H=_.b,H.c=H.c.concat(fe)),Gt){case 1:Do(_,5);break;case 4:Do(_,10);break;case 3:Do(_,6);break;default:Do(_,2)}}function xo(_,H){var fe=_.Fa+Math.floor(Math.random()*_.Ma);return _.f||(fe*=2),fe*H}function Do(_,H){if(_.c.info("Error code "+H),2==H){var fe=null;_.f&&(fe=null);var qe=ye(_.Xa,_);fe||(fe=new $i("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Ts(fe,"https"),Ds(fe)),function Vo(_,H){var fe=new mt;if(te.Image){var qe=new Image;qe.onload=Nt($o,fe,qe,"TestLoadImage: loaded",!0,H),qe.onerror=Nt($o,fe,qe,"TestLoadImage: error",!1,H),qe.onabort=Nt($o,fe,qe,"TestLoadImage: abort",!1,H),qe.ontimeout=Nt($o,fe,qe,"TestLoadImage: timeout",!1,H),te.setTimeout(function(){qe.ontimeout&&qe.ontimeout()},1e4),qe.src=_}else H(!1)}(fe.toString(),qe)}else Cr(2);_.v=0,_.f&&_.f.ra(H),vo(_),fs(_)}function vo(_){_.v=0,_.I=-1,_.f&&((0!=Ti(_.b).length||0!=_.g.length)&&(_.b.c.length=0,T(_.g),_.g.length=0),_.f.qa())}function Ho(_,H,fe){var qe=function Fo(_){return _ instanceof $i?oo(_):new $i(_,void 0)}(fe);if(""!=qe.c)H&&Ko(qe,H+"."+qe.c),cs(qe,qe.h);else{var Gt=te.location;qe=function ds(_,H,fe,qe){var Gt=new $i(null,void 0);return _&&Ts(Gt,_),H&&Ko(Gt,H),fe&&cs(Gt,fe),qe&&(Gt.g=qe),Gt}(Gt.protocol,H?H+"."+Gt.hostname:Gt.hostname,+Gt.port,fe)}return _.W&&ct(_.W,function(sn,dr){mi(qe,dr,sn)}),fe=_.na,(H=_.A)&&fe&&mi(qe,H,fe),mi(qe,"VER",_.ha),Ji(_,qe),qe}function Bo(_,H){if(H&&!_.C)throw Error("Can't create secondary domain capable XhrIo object.");return(H=new ti(_.Ka)).F=_.C,H}function Qo(){}function js(){if(ht&&!(10<=Number(Dr)))throw Error("Environmental error: no available transport.")}function fi(_,H){xe.call(this),this.a=new Ks(H),this.l=_,this.b=H&&H.messageUrlParams||null,_=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.a.l=_,_=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(_?_["X-WebChannel-Content-Type"]=H.messageContentType:_={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.a&&(_?_["X-WebChannel-Client-Profile"]=H.a:_={"X-WebChannel-Client-Profile":H.a}),this.a.O=_,(_=H&&H.httpHeadersOverwriteParam)&&!W(_)&&(this.a.i=_),this.h=H&&H.supportsCrossDomainXhr||!1,this.g=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!W(H)&&(this.a.A=H,null!==(_=this.b)&&H in _&&H in(_=this.b)&&delete _[H]),this.f=new Ci(this)}function Cs(_){io.call(this);var H=_.__sm__;if(H){e:{for(var fe in H){_=fe;break e}_=void 0}(this.c=_)?(_=this.c,this.data=null!==H&&_ in H?H[_]:void 0):this.data=H}else this.data=_}function Xn(){to.call(this),this.status=1}function Ci(_){this.a=_}(z=ti.prototype).ba=function(_,H,fe,qe){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+_);H=H?H.toUpperCase():"GET",this.B=_,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function jr(_){var H;return(H=_.a)||(H=_.a={}),H}(this.H?this.H:Mi),this.a.onreadystatechange=ye(this.za,this);try{this.A=!0,this.a.open(H,String(_),!0),this.A=!1}catch(sn){return void Vi(this,sn)}_=fe||"";var Gt=new Oi(this.headers);qe&&ao(qe,function(sn,dr){Gt.set(dr,sn)}),qe=function f(_){e:{for(var H=is,fe=_.length,qe="string"==typeof _?_.split(""):_,Gt=0;Gt<fe;Gt++)if(Gt in qe&&H.call(void 0,qe[Gt],Gt,_)){H=Gt;break e}H=-1}return 0>H?null:"string"==typeof _?_.charAt(H):_[H]}(Gt.L()),fe=te.FormData&&_ instanceof te.FormData,!(0<=Me(uo,H))||qe||fe||Gt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Gt.forEach(function(sn,dr){this.a.setRequestHeader(dr,sn)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ls(this),0<this.o&&((this.D=function Xi(_){return ht&&er(9)&&"number"==typeof _.timeout&&void 0!==_.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ye(this.xa,this)):this.m=pt(this.xa,this.o,this)),this.l=!0,this.a.send(_),this.l=!1}catch(sn){Vi(this,sn)}},z.xa=function(){typeof Qe<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},z.abort=function(_){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=_||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),hs(this))},z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),hs(this,!0)),ti.S.G.call(this)},z.za=function(){this.j||(this.A||this.l||this.g?_o(this):this.Ta())},z.Ta=function(){_o(this)},z.X=function(){try{return 2<os(this)?this.a.status:-1}catch{return-1}},z.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},z.Na=function(_){if(this.a){var H=this.a.responseText;return _&&0==H.indexOf(_)&&(H=H.substring(_.length)),Fs(H)}},z.ua=function(){return this.h},z.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(z=Ks.prototype).ha=8,z.v=1,z.Ba=function(_){if(this.h)if(this.h=null,1==this.v){if(!_){this.R=Math.floor(1e5*Math.random()),_=this.R++;var qe,H=new Gi(this,this.c,_,void 0),fe=this.l;if(this.O&&(fe?ce(fe=at(fe),this.O):fe=this.O),null===this.i&&(H.B=fe),this.da)e:{for(var Gt=qe=0;Gt<this.g.length;Gt++){var sn=this.g[Gt];if(void 0===(sn="__data__"in sn.a&&"string"==typeof(sn=sn.a.__data__)?sn.length:void 0))break;if(4096<(qe+=sn)){qe=Gt;break e}if(4096===qe||Gt===this.g.length-1){qe=Gt+1;break e}}qe=1e3}else qe=1e3;qe=Bs(this,H,qe),mi(Gt=oo(this.B),"RID",_),mi(Gt,"CVER",22),this.A&&mi(Gt,"X-HTTP-Session-Id",this.A),Ji(this,Gt),this.i&&fe&&Hi(Gt,this.i,fe),go(this.b,H),this.Ga&&mi(Gt,"TYPE","init"),this.da?(mi(Gt,"$req",qe),mi(Gt,"SID","null"),H.V=!0,_e(H,Gt,null)):_e(H,Gt,qe),this.v=2}}else 3==this.v&&(_?Di(this,_):0==this.g.length||mo(this.b)||Di(this))},z.Aa=function(){if(this.j=null,Hs(this),this.V&&!(this.F||null==this.a||0>=this.N)){var _=2*this.N;this.c.info("BP detection timer enabled: "+_),this.s=di(ye(this.Sa,this),_)}},z.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Vr(this),Hs(this))},z.Ra=function(){null!=this.m&&(this.m=null,Vr(this),ps(this),Cr(19))},z.Xa=function(_){_?(this.c.info("Successfully pinged google.com"),Cr(2)):(this.c.info("Failed to ping google.com"),Cr(1))},(z=Qo.prototype).ta=function(){},z.sa=function(){},z.ra=function(){},z.qa=function(){},z.Ha=function(){},js.prototype.a=function(_,H){return new fi(_,H)},en(fi,xe),(z=fi.prototype).addEventListener=function(_,H,fe,qe){fi.S.addEventListener.call(this,_,H,fe,qe)},z.removeEventListener=function(_,H,fe,qe){fi.S.removeEventListener.call(this,_,H,fe,qe)},z.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var _=this.a,H=this.l,fe=this.b||void 0;Cr(0),_.fa=H,_.W=fe||{},_.H=_.T,_.B=Ho(_,null,_.fa),oi(_)},z.close=function(){Pn(this.a)},z.Pa=function(_){if("string"==typeof _){var H={};H.__data__=_,qo(this.a,H)}else this.g?((H={}).__data__=Yt(_),qo(this.a,H)):qo(this.a,_)},z.G=function(){this.a.f=null,delete this.f,Pn(this.a),delete this.a,fi.S.G.call(this)},en(Cs,io),en(Xn,to),en(Ci,Qo),Ci.prototype.ta=function(){this.a.dispatchEvent("a")},Ci.prototype.sa=function(_){this.a.dispatchEvent(new Cs(_))},Ci.prototype.ra=function(_){this.a.dispatchEvent(new Xn(_))},Ci.prototype.qa=function(){this.a.dispatchEvent("b")},js.prototype.createWebChannel=js.prototype.a,fi.prototype.send=fi.prototype.Pa,fi.prototype.open=fi.prototype.Oa,fi.prototype.close=fi.prototype.close,Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Bi.COMPLETE="complete",Qi.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",xe.prototype.listen=xe.prototype.va,ti.prototype.listenOnce=ti.prototype.wa,ti.prototype.getLastError=ti.prototype.Qa,ti.prototype.getLastErrorCode=ti.prototype.ua,ti.prototype.getStatus=ti.prototype.X,ti.prototype.getResponseJson=ti.prototype.Na,ti.prototype.getResponseText=ti.prototype.$,ti.prototype.send=ti.prototype.ba;var vs={createWebChannelTransport:function(){return new js},ErrorCode:Mr,EventType:Bi,WebChannel:Qi,XhrIo:ti},ys=vs.createWebChannelTransport,zo=vs.ErrorCode,bo=vs.EventType,Ys=vs.WebChannel,ms=vs.XhrIo;const Ii=vs},46176:(Ln,it,N)=>{"use strict";N.d(it,{e:()=>Qe});var y=N(80529),E=N(54004),j=N(92340),Pe=N(94650),z=N(89299);let Qe=(()=>{class te{constructor(ie,K){this.http=ie,this.router=K}saveUserData(ie){localStorage.setItem("user",JSON.stringify(ie))}setToken(ie){localStorage.setItem("token",JSON.stringify(ie))}setusersMe(ie){localStorage.setItem("usersMe ",JSON.stringify(ie))}getToken(){return localStorage.getItem("token")}getCountries(ie){let K=new y.LE;return ie&&Object.entries(ie).forEach(([Ae,Se])=>{K=K.set(Ae,Se)}),this.http.get(`${j.N.baseUrl}Lookups/GetCountries`,{params:K}).pipe((0,E.U)(Ae=>Ae.data))}logout(){localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("usersMe"),localStorage.removeItem("permissions"),this.router.navigate(["./login"])}POST(ie,K){return this.http.post(ie,K)}login(ie){return this.http.post(j.N.baseUrl+"Authentication/SignIn",ie)}requestResetPassword(ie){return this.http.post(j.N.baseUrl+"Authentication/SignIn",ie)}signup(ie){return this.http.post(j.N.baseUrl+"Authentication/RequestResetPassword",ie)}ResetPassword(ie){return this.http.post(j.N.baseUrl+"Authentication/ResetPassword",ie)}static#e=this.\u0275fac=function(K){return new(K||te)(Pe.LFG(y.eN),Pe.LFG(z.F0))};static#t=this.\u0275prov=Pe.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},19390:(Ln,it,N)=>{"use strict";N.d(it,{a:()=>Pe});var y=N(94650),E=N(85657),j=N(89299);let Pe=(()=>{class z{constructor(te,Ge){this.cookieService=te,this.router=Ge}canActivate(te,Ge){return!!localStorage.getItem("token")||(this.router.navigateByUrl("/login"),!1)}static#e=this.\u0275fac=function(Ge){return new(Ge||z)(y.LFG(E.N),y.LFG(j.F0))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},92340:(Ln,it,N)=>{"use strict";N.d(it,{N:()=>y});const y={production:!0,baseUrl:"https://stageapi.dawem.app/api/",firebase:{apiKey:"AIzaSyCNr7nAJOZJW0YDBTanTXnH_xVnlnMDAPI",authDomain:"dawem-5361a.firebaseapp.com",projectId:"dawem-5361a",storageBucket:"dawem-5361a.appspot.com",messagingSenderId:"920034014025",appId:"1:920034014025:web:18bb00d19266b668b1a098",measurementId:"G-VE6JQS06RC"}}},22712:(Ln,it,N)=>{"use strict";var y=N(11481),E=N(94650),j=N(80529),Pe=N(89299),z=N(19390);const Ge=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",loadChildren:()=>Promise.all([N.e(4466),N.e(7656),N.e(7797)]).then(N.bind(N,37797)).then(X=>X.AuthModule),canActivate:[(()=>{class X{constructor(S){this.router=S}canActivate(S,L){return!localStorage.getItem("token")||(this.router.navigateByUrl("/user/dashboard"),!1)}static#e=this.\u0275fac=function(L){return new(L||X)(E.LFG(Pe.F0))};static#t=this.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()]},{path:"user",loadChildren:()=>Promise.all([N.e(7656),N.e(445)]).then(N.bind(N,70445)).then(X=>X.UserModule),canActivate:[z.a]},{path:"notPermission",component:(()=>{class X{static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275cmp=E.Xpm({type:X,selectors:[["app-not-permission"]],decls:3,vars:0,consts:[[1,"notPermission"]],template:function(L,ue){1&L&&(E.TgZ(0,"div",0)(1,"p"),E._uU(2,"You don't have permission to access this content."),E.qZA()())},styles:[".notPermission[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.notPermission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10%;background-color:red;font-size:18px;color:#fff}"]})}return X})()}];let ie=(()=>{class X{static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275mod=E.oAB({type:X});static#n=this.\u0275inj=E.cJS({imports:[Pe.Bz.forRoot(Ge,{useHash:!0}),Pe.Bz]})}return X})();var K=N(76188),Ae=N(15861),Se=N(6175),Fe=N.n(Se),bt=N(69751);let Zt=(()=>{class X{constructor(){var S=this;this.requestPermission=()=>new Promise(function(){var L=(0,Ae.Z)(function*(ue,Ye){"granted"===(yield Notification.requestPermission())?ue(yield S.messagingFirebase.getToken()):Ye(new Error("No se otorgaron los permisos"))});return function(ue,Ye){return L.apply(this,arguments)}}()),this.messaginObservable=new bt.y(L=>{this.messagingFirebase.onMessage(ue=>{L.next(ue)})}),Fe().initializeApp({apiKey:"AIzaSyCNr7nAJOZJW0YDBTanTXnH_xVnlnMDAPI",authDomain:"dawem-5361a.firebaseapp.com",projectId:"dawem-5361a",storageBucket:"dawem-5361a.appspot.com",messagingSenderId:"920034014025",appId:"1:920034014025:web:18bb00d19266b668b1a098",measurementId:"G-VE6JQS06RC"}),this.messagingFirebase=Fe().messaging()}receiveMessageTwo(){this.messagingFirebase.onMessage(S=>{console.log(S)})}receiveMessage(){return this.messaginObservable}static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),Wt=(()=>{class X{constructor(S,L){this.translate=S,this.notificacion=L,this.currentLang=localStorage.getItem("lang"),this.mesaggeReceived="",L.requestPermission().then(ue=>{console.log(ue)}),document.documentElement.setAttribute("lang","ar"),S.setDefaultLang("ar"),this.translate.use("ar")}receiveMessages(){}ngOnInit(){this.notificacion.receiveMessage().subscribe(S=>{console.log(S),this.mesaggeReceived=S.notification.title})}requestPermission(){}listen(){}static#e=this.\u0275fac=function(L){return new(L||X)(E.Y36(K.sK),E.Y36(Zt))};static#t=this.\u0275cmp=E.Xpm({type:X,selectors:[["app-root"]],decls:1,vars:0,template:function(L,ue){1&L&&E._UZ(0,"router-outlet")},dependencies:[Pe.lC]})}return X})();var ye=N(37340);function yt(X){return new E.vHH(3e3,!1)}function Dr(){return typeof window<"u"&&typeof window.document<"u"}function pn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Oe(X){switch(X.length){case 0:return new ye.ZN;case 1:return X[0];default:return new ye.ZE(X)}}function vt(X,D,S,L,ue=new Map,Ye=new Map){const lt=[],kt=[];let rn=-1,An=null;if(L.forEach(lr=>{const _r=lr.get("offset"),ui=_r==rn,Zr=ui&&An||new Map;lr.forEach((zr,Yr)=>{let si=Yr,Fi=zr;if("offset"!==Yr)switch(si=D.normalizePropertyName(si,lt),Fi){case ye.k1:Fi=ue.get(Yr);break;case ye.l3:Fi=Ye.get(Yr);break;default:Fi=D.normalizeStyleValue(Yr,si,Fi,lt)}Zr.set(si,Fi)}),ui||kt.push(Zr),An=Zr,rn=_r}),lt.length)throw function Et(X){return new E.vHH(3502,!1)}();return kt}function Bt(X,D,S,L){switch(D){case"start":X.onStart(()=>L(S&&Qt(S,"start",X)));break;case"done":X.onDone(()=>L(S&&Qt(S,"done",X)));break;case"destroy":X.onDestroy(()=>L(S&&Qt(S,"destroy",X)))}}function Qt(X,D,S){const Ye=mn(X.element,X.triggerName,X.fromState,X.toState,D||X.phaseName,S.totalTime??X.totalTime,!!S.disabled),lt=X._data;return null!=lt&&(Ye._data=lt),Ye}function mn(X,D,S,L,ue="",Ye=0,lt){return{element:X,triggerName:D,fromState:S,toState:L,phaseName:ue,totalTime:Ye,disabled:!!lt}}function Je(X,D,S){let L=X.get(D);return L||X.set(D,L=S),L}function Ee(X){const D=X.indexOf(":");return[X.substring(1,D),X.slice(D+1)]}let xt=(X,D)=>!1,Rt=(X,D,S)=>[],dt=null;function En(X){const D=X.parentNode||X.host;return D===dt?null:D}(pn()||typeof Element<"u")&&(Dr()?(dt=(()=>document.documentElement)(),xt=(X,D)=>{for(;D;){if(D===X)return!0;D=En(D)}return!1}):xt=(X,D)=>X.contains(D),Rt=(X,D,S)=>{if(S)return Array.from(X.querySelectorAll(D));const L=X.querySelector(D);return L?[L]:[]});let kn=null,Rn=!1;const Pt=xt,Vt=Rt;let le=(()=>{class X{validateStyleProperty(S){return function nr(X){kn||(kn=function hn(){return typeof document<"u"?document.body:null}()||{},Rn=!!kn.style&&"WebkitAppearance"in kn.style);let D=!0;return kn.style&&!function Wn(X){return"ebkit"==X.substring(1,6)}(X)&&(D=X in kn.style,!D&&Rn&&(D="Webkit"+X.charAt(0).toUpperCase()+X.slice(1)in kn.style)),D}(S)}matchesElement(S,L){return!1}containsElement(S,L){return Pt(S,L)}getParentElement(S){return En(S)}query(S,L,ue){return Vt(S,L,ue)}computeStyle(S,L,ue){return ue||""}animate(S,L,ue,Ye,lt,kt=[],rn){return new ye.ZN(ue,Ye)}}return X.\u0275fac=function(S){return new(S||X)},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac}),X})(),ae=(()=>{class X{}return X.NOOP=new le,X})();const rt=1e3,xe="ng-enter",Ct="ng-leave",Yt="ng-trigger",ln=".ng-trigger",qt="ng-animating",ot=".ng-animating";function nt(X){if("number"==typeof X)return X;const D=X.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:De(parseFloat(D[1]),D[2])}function De(X,D){return"s"===D?X*rt:X}function Dt(X,D,S){return X.hasOwnProperty("duration")?X:function Ft(X,D,S){let ue,Ye=0,lt="";if("string"==typeof X){const kt=X.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===kt)return D.push(yt()),{duration:0,delay:0,easing:""};ue=De(parseFloat(kt[1]),kt[2]);const rn=kt[3];null!=rn&&(Ye=De(parseFloat(rn),kt[4]));const An=kt[5];An&&(lt=An)}else ue=X;if(!S){let kt=!1,rn=D.length;ue<0&&(D.push(function en(){return new E.vHH(3100,!1)}()),kt=!0),Ye<0&&(D.push(function Ot(){return new E.vHH(3101,!1)}()),kt=!0),kt&&D.splice(rn,0,yt())}return{duration:ue,delay:Ye,easing:lt}}(X,D,S)}function vn(X,D={}){return Object.keys(X).forEach(S=>{D[S]=X[S]}),D}function Zn(X){const D=new Map;return Object.keys(X).forEach(S=>{D.set(S,X[S])}),D}function ei(X,D=new Map,S){if(S)for(let[L,ue]of S)D.set(L,ue);for(let[L,ue]of X)D.set(L,ue);return D}function st(X,D,S){return S?D+":"+S+";":""}function pt(X){let D="";for(let S=0;S<X.style.length;S++){const L=X.style.item(S);D+=st(0,L,X.style.getPropertyValue(L))}for(const S in X.style)X.style.hasOwnProperty(S)&&!S.startsWith("_")&&(D+=st(0,Kn(S),X.style[S]));X.setAttribute("style",D)}function St(X,D,S){X.style&&(D.forEach((L,ue)=>{const Ye=Yn(ue);S&&!S.has(ue)&&S.set(ue,X.style[Ye]),X.style[Ye]=L}),pn()&&pt(X))}function zt(X,D){X.style&&(D.forEach((S,L)=>{const ue=Yn(L);X.style[ue]=""}),pn()&&pt(X))}function ke(X){return Array.isArray(X)?1==X.length?X[0]:(0,ye.vP)(X):X}const be=new RegExp("{{\\s*(.+?)\\s*}}","g");function $e(X){let D=[];if("string"==typeof X){let S;for(;S=be.exec(X);)D.push(S[1]);be.lastIndex=0}return D}function mt(X,D,S){const L=X.toString(),ue=L.replace(be,(Ye,lt)=>{let kt=D[lt];return null==kt&&(S.push(function Me(X){return new E.vHH(3003,!1)}()),kt=""),kt.toString()});return ue==L?X:ue}function Mt(X){const D=[];let S=X.next();for(;!S.done;)D.push(S.value),S=X.next();return D}const Lt=/-+([a-z0-9])/g;function Yn(X){return X.replace(Lt,(...D)=>D[1].toUpperCase())}function Kn(X){return X.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dn(X,D,S){switch(D.type){case 7:return X.visitTrigger(D,S);case 0:return X.visitState(D,S);case 1:return X.visitTransition(D,S);case 2:return X.visitSequence(D,S);case 3:return X.visitGroup(D,S);case 4:return X.visitAnimate(D,S);case 5:return X.visitKeyframes(D,S);case 6:return X.visitStyle(D,S);case 8:return X.visitReference(D,S);case 9:return X.visitAnimateChild(D,S);case 10:return X.visitAnimateRef(D,S);case 11:return X.visitQuery(D,S);case 12:return X.visitStagger(D,S);default:throw function tt(X){return new E.vHH(3004,!1)}()}}function sr(X,D){return window.getComputedStyle(X)[D]}const Ni="*";function jr(X,D){const S=[];return"string"==typeof X?X.split(/\s*,\s*/).forEach(L=>function Qi(X,D,S){if(":"==X[0]){const rn=function ji(X,D){switch(X){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(S,L)=>parseFloat(L)>parseFloat(S);case":decrement":return(S,L)=>parseFloat(L)<parseFloat(S);default:return D.push(function re(X){return new E.vHH(3016,!1)}()),"* => *"}}(X,S);if("function"==typeof rn)return void D.push(rn);X=rn}const L=X.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return S.push(function ce(X){return new E.vHH(3015,!1)}()),D;const ue=L[1],Ye=L[2],lt=L[3];D.push(Mi(ue,lt));"<"==Ye[0]&&!(ue==Ni&&lt==Ni)&&D.push(Mi(lt,ue))}(L,S,D)):S.push(X),S}const io=new Set(["true","1"]),to=new Set(["false","0"]);function Mi(X,D){const S=io.has(X)||to.has(X),L=io.has(D)||to.has(D);return(ue,Ye)=>{let lt=X==Ni||X==ue,kt=D==Ni||D==Ye;return!lt&&S&&"boolean"==typeof ue&&(lt=ue?io.has(X):to.has(X)),!kt&&L&&"boolean"==typeof Ye&&(kt=Ye?io.has(D):to.has(D)),lt&&kt}}const Gi=new RegExp("s*:selfs*,?","g");function ze(X,D,S,L){return new B(X).build(D,S,L)}class B{constructor(D){this._driver=D}build(D,S,L){const ue=new un(S);return this._resetContextStyleTimingState(ue),dn(this,ke(D),ue)}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles=new Map,D.collectedStyles.set("",new Map),D.currentTime=0}visitTrigger(D,S){let L=S.queryCount=0,ue=S.depCount=0;const Ye=[],lt=[];return"@"==D.name.charAt(0)&&S.errors.push(function k(){return new E.vHH(3006,!1)}()),D.definitions.forEach(kt=>{if(this._resetContextStyleTimingState(S),0==kt.type){const rn=kt,An=rn.name;An.toString().split(/\s*,\s*/).forEach(lr=>{rn.name=lr,Ye.push(this.visitState(rn,S))}),rn.name=An}else if(1==kt.type){const rn=this.visitTransition(kt,S);L+=rn.queryCount,ue+=rn.depCount,lt.push(rn)}else S.errors.push(function T(){return new E.vHH(3007,!1)}())}),{type:7,name:D.name,states:Ye,transitions:lt,queryCount:L,depCount:ue,options:null}}visitState(D,S){const L=this.visitStyle(D.styles,S),ue=D.options&&D.options.params||null;if(L.containsDynamicStyles){const Ye=new Set,lt=ue||{};L.styles.forEach(kt=>{kt instanceof Map&&kt.forEach(rn=>{$e(rn).forEach(An=>{lt.hasOwnProperty(An)||Ye.add(An)})})}),Ye.size&&(Mt(Ye.values()),S.errors.push(function W(X,D){return new E.vHH(3008,!1)}()))}return{type:0,name:D.name,style:L,options:ue?{params:ue}:null}}visitTransition(D,S){S.queryCount=0,S.depCount=0;const L=dn(this,ke(D.animation),S);return{type:1,matchers:jr(D.expr,S.errors),animation:L,queryCount:S.queryCount,depCount:S.depCount,options:kr(D.options)}}visitSequence(D,S){return{type:2,steps:D.steps.map(L=>dn(this,L,S)),options:kr(D.options)}}visitGroup(D,S){const L=S.currentTime;let ue=0;const Ye=D.steps.map(lt=>{S.currentTime=L;const kt=dn(this,lt,S);return ue=Math.max(ue,S.currentTime),kt});return S.currentTime=ue,{type:3,steps:Ye,options:kr(D.options)}}visitAnimate(D,S){const L=function ur(X,D){if(X.hasOwnProperty("duration"))return X;if("number"==typeof X)return gr(Dt(X,D).duration,0,"");const S=X;if(S.split(/\s+/).some(Ye=>"{"==Ye.charAt(0)&&"{"==Ye.charAt(1))){const Ye=gr(0,0,"");return Ye.dynamic=!0,Ye.strValue=S,Ye}const ue=Dt(S,D);return gr(ue.duration,ue.delay,ue.easing)}(D.timings,S.errors);S.currentAnimateTimings=L;let ue,Ye=D.styles?D.styles:(0,ye.oB)({});if(5==Ye.type)ue=this.visitKeyframes(Ye,S);else{let lt=D.styles,kt=!1;if(!lt){kt=!0;const An={};L.easing&&(An.easing=L.easing),lt=(0,ye.oB)(An)}S.currentTime+=L.duration+L.delay;const rn=this.visitStyle(lt,S);rn.isEmptyStep=kt,ue=rn}return S.currentAnimateTimings=null,{type:4,timings:L,style:ue,options:null}}visitStyle(D,S){const L=this._makeStyleAst(D,S);return this._validateStyleAst(L,S),L}_makeStyleAst(D,S){const L=[],ue=Array.isArray(D.styles)?D.styles:[D.styles];for(let kt of ue)"string"==typeof kt?kt===ye.l3?L.push(kt):S.errors.push(new E.vHH(3002,!1)):L.push(Zn(kt));let Ye=!1,lt=null;return L.forEach(kt=>{if(kt instanceof Map&&(kt.has("easing")&&(lt=kt.get("easing"),kt.delete("easing")),!Ye))for(let rn of kt.values())if(rn.toString().indexOf("{{")>=0){Ye=!0;break}}),{type:6,styles:L,easing:lt,offset:D.offset,containsDynamicStyles:Ye,options:null}}_validateStyleAst(D,S){const L=S.currentAnimateTimings;let ue=S.currentTime,Ye=S.currentTime;L&&Ye>0&&(Ye-=L.duration+L.delay),D.styles.forEach(lt=>{"string"!=typeof lt&&lt.forEach((kt,rn)=>{const An=S.collectedStyles.get(S.currentQuerySelector),lr=An.get(rn);let _r=!0;lr&&(Ye!=ue&&Ye>=lr.startTime&&ue<=lr.endTime&&(S.errors.push(function ge(X,D,S,L,ue){return new E.vHH(3010,!1)}()),_r=!1),Ye=lr.startTime),_r&&An.set(rn,{startTime:Ye,endTime:ue}),S.options&&function q(X,D,S){const L=D.params||{},ue=$e(X);ue.length&&ue.forEach(Ye=>{L.hasOwnProperty(Ye)||S.push(function Le(X){return new E.vHH(3001,!1)}())})}(kt,S.options,S.errors)})})}visitKeyframes(D,S){const L={type:5,styles:[],options:null};if(!S.currentAnimateTimings)return S.errors.push(function Ke(){return new E.vHH(3011,!1)}()),L;let Ye=0;const lt=[];let kt=!1,rn=!1,An=0;const lr=D.steps.map(Fi=>{const yo=this._makeStyleAst(Fi,S);let eo=null!=yo.offset?yo.offset:function $n(X){if("string"==typeof X)return null;let D=null;if(Array.isArray(X))X.forEach(S=>{if(S instanceof Map&&S.has("offset")){const L=S;D=parseFloat(L.get("offset")),L.delete("offset")}});else if(X instanceof Map&&X.has("offset")){const S=X;D=parseFloat(S.get("offset")),S.delete("offset")}return D}(yo.styles),ho=0;return null!=eo&&(Ye++,ho=yo.offset=eo),rn=rn||ho<0||ho>1,kt=kt||ho<An,An=ho,lt.push(ho),yo});rn&&S.errors.push(function Tn(){return new E.vHH(3012,!1)}()),kt&&S.errors.push(function He(){return new E.vHH(3200,!1)}());const _r=D.steps.length;let ui=0;Ye>0&&Ye<_r?S.errors.push(function ct(){return new E.vHH(3202,!1)}()):0==Ye&&(ui=1/(_r-1));const Zr=_r-1,zr=S.currentTime,Yr=S.currentAnimateTimings,si=Yr.duration;return lr.forEach((Fi,yo)=>{const eo=ui>0?yo==Zr?1:ui*yo:lt[yo],ho=eo*si;S.currentTime=zr+Yr.delay+ho,Yr.duration=ho,this._validateStyleAst(Fi,S),Fi.offset=eo,L.styles.push(Fi)}),L}visitReference(D,S){return{type:8,animation:dn(this,ke(D.animation),S),options:kr(D.options)}}visitAnimateChild(D,S){return S.depCount++,{type:9,options:kr(D.options)}}visitAnimateRef(D,S){return{type:10,animation:this.visitReference(D.animation,S),options:kr(D.options)}}visitQuery(D,S){const L=S.currentQuerySelector,ue=D.options||{};S.queryCount++,S.currentQuery=D;const[Ye,lt]=function _e(X){const D=!!X.split(/\s*,\s*/).find(S=>":self"==S);return D&&(X=X.replace(Gi,"")),X=X.replace(/@\*/g,ln).replace(/@\w+/g,S=>ln+"-"+S.slice(1)).replace(/:animating/g,ot),[X,D]}(D.selector);S.currentQuerySelector=L.length?L+" "+Ye:Ye,Je(S.collectedStyles,S.currentQuerySelector,new Map);const kt=dn(this,ke(D.animation),S);return S.currentQuery=null,S.currentQuerySelector=L,{type:11,selector:Ye,limit:ue.limit||0,optional:!!ue.optional,includeSelf:lt,animation:kt,originalSelector:D.selector,options:kr(D.options)}}visitStagger(D,S){S.currentQuery||S.errors.push(function at(){return new E.vHH(3013,!1)}());const L="full"===D.timings?{duration:0,delay:0,easing:"full"}:Dt(D.timings,S.errors,!0);return{type:12,animation:dn(this,ke(D.animation),S),timings:L,options:null}}}class un{constructor(D){this.errors=D,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kr(X){return X?(X=vn(X)).params&&(X.params=function Xe(X){return X?vn(X):null}(X.params)):X={},X}function gr(X,D,S){return{duration:X,delay:D,easing:S}}function vr(X,D,S,L,ue,Ye,lt=null,kt=!1){return{type:1,element:X,keyframes:D,preStyleProps:S,postStyleProps:L,duration:ue,delay:Ye,totalTime:ue+Ye,easing:lt,subTimeline:kt}}class ir{constructor(){this._map=new Map}get(D){return this._map.get(D)||[]}append(D,S){let L=this._map.get(D);L||this._map.set(D,L=[]),L.push(...S)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const ao=new RegExp(":enter","g"),Ki=new RegExp(":leave","g");function Ai(X,D,S,L,ue,Ye=new Map,lt=new Map,kt,rn,An=[]){return(new Gr).buildKeyframes(X,D,S,L,ue,Ye,lt,kt,rn,An)}class Gr{buildKeyframes(D,S,L,ue,Ye,lt,kt,rn,An,lr=[]){An=An||new ir;const _r=new $i(D,S,An,ue,Ye,lr,[]);_r.options=rn;const ui=rn.delay?nt(rn.delay):0;_r.currentTimeline.delayNextStep(ui),_r.currentTimeline.setStyles([lt],null,_r.errors,rn),dn(this,L,_r);const Zr=_r.timelines.filter(zr=>zr.containsAnimation());if(Zr.length&&kt.size){let zr;for(let Yr=Zr.length-1;Yr>=0;Yr--){const si=Zr[Yr];if(si.element===S){zr=si;break}}zr&&!zr.allowOnlyTimelineStyles()&&zr.setStyles([kt],null,_r.errors,rn)}return Zr.length?Zr.map(zr=>zr.buildKeyframes()):[vr(S,[],[],[],0,ui,"",!1)]}visitTrigger(D,S){}visitState(D,S){}visitTransition(D,S){}visitAnimateChild(D,S){const L=S.subInstructions.get(S.element);if(L){const ue=S.createSubContext(D.options),Ye=S.currentTimeline.currentTime,lt=this._visitSubInstructions(L,ue,ue.options);Ye!=lt&&S.transformIntoNewTimeline(lt)}S.previousNode=D}visitAnimateRef(D,S){const L=S.createSubContext(D.options);L.transformIntoNewTimeline(),this._applyAnimationRefDelays([D.options,D.animation.options],S,L),this.visitReference(D.animation,L),S.transformIntoNewTimeline(L.currentTimeline.currentTime),S.previousNode=D}_applyAnimationRefDelays(D,S,L){for(const ue of D){const Ye=ue?.delay;if(Ye){const lt="number"==typeof Ye?Ye:nt(mt(Ye,ue?.params??{},S.errors));L.delayNextStep(lt)}}}_visitSubInstructions(D,S,L){let Ye=S.currentTimeline.currentTime;const lt=null!=L.duration?nt(L.duration):null,kt=null!=L.delay?nt(L.delay):null;return 0!==lt&&D.forEach(rn=>{const An=S.appendInstructionToTimeline(rn,lt,kt);Ye=Math.max(Ye,An.duration+An.delay)}),Ye}visitReference(D,S){S.updateOptions(D.options,!0),dn(this,D.animation,S),S.previousNode=D}visitSequence(D,S){const L=S.subContextCount;let ue=S;const Ye=D.options;if(Ye&&(Ye.params||Ye.delay)&&(ue=S.createSubContext(Ye),ue.transformIntoNewTimeline(),null!=Ye.delay)){6==ue.previousNode.type&&(ue.currentTimeline.snapshotCurrentStyles(),ue.previousNode=So);const lt=nt(Ye.delay);ue.delayNextStep(lt)}D.steps.length&&(D.steps.forEach(lt=>dn(this,lt,ue)),ue.currentTimeline.applyStylesToKeyframe(),ue.subContextCount>L&&ue.transformIntoNewTimeline()),S.previousNode=D}visitGroup(D,S){const L=[];let ue=S.currentTimeline.currentTime;const Ye=D.options&&D.options.delay?nt(D.options.delay):0;D.steps.forEach(lt=>{const kt=S.createSubContext(D.options);Ye&&kt.delayNextStep(Ye),dn(this,lt,kt),ue=Math.max(ue,kt.currentTimeline.currentTime),L.push(kt.currentTimeline)}),L.forEach(lt=>S.currentTimeline.mergeTimelineCollectedStyles(lt)),S.transformIntoNewTimeline(ue),S.previousNode=D}_visitTiming(D,S){if(D.dynamic){const L=D.strValue;return Dt(S.params?mt(L,S.params,S.errors):L,S.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,S){const L=S.currentAnimateTimings=this._visitTiming(D.timings,S),ue=S.currentTimeline;L.delay&&(S.incrementTime(L.delay),ue.snapshotCurrentStyles());const Ye=D.style;5==Ye.type?this.visitKeyframes(Ye,S):(S.incrementTime(L.duration),this.visitStyle(Ye,S),ue.applyStylesToKeyframe()),S.currentAnimateTimings=null,S.previousNode=D}visitStyle(D,S){const L=S.currentTimeline,ue=S.currentAnimateTimings;!ue&&L.hasCurrentStyleProperties()&&L.forwardFrame();const Ye=ue&&ue.easing||D.easing;D.isEmptyStep?L.applyEmptyStep(Ye):L.setStyles(D.styles,Ye,S.errors,S.options),S.previousNode=D}visitKeyframes(D,S){const L=S.currentAnimateTimings,ue=S.currentTimeline.duration,Ye=L.duration,kt=S.createSubContext().currentTimeline;kt.easing=L.easing,D.styles.forEach(rn=>{kt.forwardTime((rn.offset||0)*Ye),kt.setStyles(rn.styles,rn.easing,S.errors,S.options),kt.applyStylesToKeyframe()}),S.currentTimeline.mergeTimelineCollectedStyles(kt),S.transformIntoNewTimeline(ue+Ye),S.previousNode=D}visitQuery(D,S){const L=S.currentTimeline.currentTime,ue=D.options||{},Ye=ue.delay?nt(ue.delay):0;Ye&&(6===S.previousNode.type||0==L&&S.currentTimeline.hasCurrentStyleProperties())&&(S.currentTimeline.snapshotCurrentStyles(),S.previousNode=So);let lt=L;const kt=S.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!ue.optional,S.errors);S.currentQueryTotal=kt.length;let rn=null;kt.forEach((An,lr)=>{S.currentQueryIndex=lr;const _r=S.createSubContext(D.options,An);Ye&&_r.delayNextStep(Ye),An===S.element&&(rn=_r.currentTimeline),dn(this,D.animation,_r),_r.currentTimeline.applyStylesToKeyframe(),lt=Math.max(lt,_r.currentTimeline.currentTime)}),S.currentQueryIndex=0,S.currentQueryTotal=0,S.transformIntoNewTimeline(lt),rn&&(S.currentTimeline.mergeTimelineCollectedStyles(rn),S.currentTimeline.snapshotCurrentStyles()),S.previousNode=D}visitStagger(D,S){const L=S.parentContext,ue=S.currentTimeline,Ye=D.timings,lt=Math.abs(Ye.duration),kt=lt*(S.currentQueryTotal-1);let rn=lt*S.currentQueryIndex;switch(Ye.duration<0?"reverse":Ye.easing){case"reverse":rn=kt-rn;break;case"full":rn=L.currentStaggerTime}const lr=S.currentTimeline;rn&&lr.delayNextStep(rn);const _r=lr.currentTime;dn(this,D.animation,S),S.previousNode=D,L.currentStaggerTime=ue.currentTime-_r+(ue.startTime-L.currentTimeline.startTime)}}const So={};class $i{constructor(D,S,L,ue,Ye,lt,kt,rn){this._driver=D,this.element=S,this.subInstructions=L,this._enterClassName=ue,this._leaveClassName=Ye,this.errors=lt,this.timelines=kt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=So,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=rn||new oo(this._driver,S,0),kt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,S){if(!D)return;const L=D;let ue=this.options;null!=L.duration&&(ue.duration=nt(L.duration)),null!=L.delay&&(ue.delay=nt(L.delay));const Ye=L.params;if(Ye){let lt=ue.params;lt||(lt=this.options.params={}),Object.keys(Ye).forEach(kt=>{(!S||!lt.hasOwnProperty(kt))&&(lt[kt]=mt(Ye[kt],lt,this.errors))})}}_copyOptions(){const D={};if(this.options){const S=this.options.params;if(S){const L=D.params={};Object.keys(S).forEach(ue=>{L[ue]=S[ue]})}}return D}createSubContext(D=null,S,L){const ue=S||this.element,Ye=new $i(this._driver,ue,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ue,L||0));return Ye.previousNode=this.previousNode,Ye.currentAnimateTimings=this.currentAnimateTimings,Ye.options=this._copyOptions(),Ye.updateOptions(D),Ye.currentQueryIndex=this.currentQueryIndex,Ye.currentQueryTotal=this.currentQueryTotal,Ye.parentContext=this,this.subContextCount++,Ye}transformIntoNewTimeline(D){return this.previousNode=So,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,S,L){const ue={duration:S??D.duration,delay:this.currentTimeline.currentTime+(L??0)+D.delay,easing:""},Ye=new Ts(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,ue,D.stretchStartingKeyframe);return this.timelines.push(Ye),ue}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,S,L,ue,Ye,lt){let kt=[];if(ue&&kt.push(this.element),D.length>0){D=(D=D.replace(ao,"."+this._enterClassName)).replace(Ki,"."+this._leaveClassName);let An=this._driver.query(this.element,D,1!=L);0!==L&&(An=L<0?An.slice(An.length+L,An.length):An.slice(0,L)),kt.push(...An)}return!Ye&&0==kt.length&&lt.push(function ee(X){return new E.vHH(3014,!1)}()),kt}}class oo{constructor(D,S,L,ue){this._driver=D,this.element=S,this.startTime=L,this._elementTimelineStylesLookup=ue,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(S),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(S,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const S=1===this._keyframes.size&&this._pendingStyles.size;this.duration||S?(this.forwardTime(this.currentTime+D),S&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,S){return this.applyStylesToKeyframe(),new oo(this._driver,D,S||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,S){this._localTimelineStyles.set(D,S),this._globalTimelineStyles.set(D,S),this._styleSummary.set(D,{time:this.currentTime,value:S})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&this._previousKeyframe.set("easing",D);for(let[S,L]of this._globalTimelineStyles)this._backFill.set(S,L||ye.l3),this._currentKeyframe.set(S,ye.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,S,L,ue){S&&this._previousKeyframe.set("easing",S);const Ye=ue&&ue.params||{},lt=function cs(X,D){const S=new Map;let L;return X.forEach(ue=>{if("*"===ue){L=L||D.keys();for(let Ye of L)S.set(Ye,ye.l3)}else ei(ue,S)}),S}(D,this._globalTimelineStyles);for(let[kt,rn]of lt){const An=mt(rn,Ye,L);this._pendingStyles.set(kt,An),this._localTimelineStyles.has(kt)||this._backFill.set(kt,this._globalTimelineStyles.get(kt)??ye.l3),this._updateStyle(kt,An)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((D,S)=>{this._currentKeyframe.set(S,D)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((D,S)=>{this._currentKeyframe.has(S)||this._currentKeyframe.set(S,D)}))}snapshotCurrentStyles(){for(let[D,S]of this._localTimelineStyles)this._pendingStyles.set(D,S),this._updateStyle(D,S)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let S in this._currentKeyframe)D.push(S);return D}mergeTimelineCollectedStyles(D){D._styleSummary.forEach((S,L)=>{const ue=this._styleSummary.get(L);(!ue||S.time>ue.time)&&this._updateStyle(L,S.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,S=new Set,L=1===this._keyframes.size&&0===this.duration;let ue=[];this._keyframes.forEach((kt,rn)=>{const An=ei(kt,new Map,this._backFill);An.forEach((lr,_r)=>{lr===ye.k1?D.add(_r):lr===ye.l3&&S.add(_r)}),L||An.set("offset",rn/this.duration),ue.push(An)});const Ye=D.size?Mt(D.values()):[],lt=S.size?Mt(S.values()):[];if(L){const kt=ue[0],rn=new Map(kt);kt.set("offset",0),rn.set("offset",1),ue=[kt,rn]}return vr(this.element,ue,Ye,lt,this.duration,this.startTime,this.easing,!1)}}class Ts extends oo{constructor(D,S,L,ue,Ye,lt,kt=!1){super(D,S,lt.delay),this.keyframes=L,this.preStyleProps=ue,this.postStyleProps=Ye,this._stretchStartingKeyframe=kt,this.timings={duration:lt.duration,delay:lt.delay,easing:lt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:S,duration:L,easing:ue}=this.timings;if(this._stretchStartingKeyframe&&S){const Ye=[],lt=L+S,kt=S/lt,rn=ei(D[0]);rn.set("offset",0),Ye.push(rn);const An=ei(D[0]);An.set("offset",Ko(kt)),Ye.push(An);const lr=D.length-1;for(let _r=1;_r<=lr;_r++){let ui=ei(D[_r]);const Zr=ui.get("offset");ui.set("offset",Ko((S+Zr*L)/lt)),Ye.push(ui)}L=lt,S=0,ue="",D=Ye}return vr(this.element,D,this.preStyleProps,this.postStyleProps,L,S,ue,!0)}}function Ko(X,D=3){const S=Math.pow(10,D-1);return Math.round(X*S)/S}class mi{}const Fo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ds extends mi{normalizePropertyName(D,S){return Yn(D)}normalizeStyleValue(D,S,L,ue){let Ye="";const lt=L.toString().trim();if(Fo.has(S)&&0!==L&&"0"!==L)if("number"==typeof L)Ye="px";else{const kt=L.match(/^[+-]?[\d\.]+([a-z]*)$/);kt&&0==kt[1].length&&ue.push(function f(X,D){return new E.vHH(3005,!1)}())}return lt+Ye}}function lo(X,D,S,L,ue,Ye,lt,kt,rn,An,lr,_r,ui){return{type:0,element:X,triggerName:D,isRemovalTransition:ue,fromState:S,fromStyles:Ye,toState:L,toStyles:lt,timelines:kt,queriedElements:rn,preStyleProps:An,postStyleProps:lr,totalTime:_r,errors:ui}}const oe={};class ne{constructor(D,S,L){this._triggerName=D,this.ast=S,this._stateStyles=L}match(D,S,L,ue){return function wt(X,D,S,L,ue){return X.some(Ye=>Ye(D,S,L,ue))}(this.ast.matchers,D,S,L,ue)}buildStyles(D,S,L){let ue=this._stateStyles.get("*");return void 0!==D&&(ue=this._stateStyles.get(D?.toString())||ue),ue?ue.buildStyles(S,L):new Map}build(D,S,L,ue,Ye,lt,kt,rn,An,lr){const _r=[],ui=this.ast.options&&this.ast.options.params||oe,zr=this.buildStyles(L,kt&&kt.params||oe,_r),Yr=rn&&rn.params||oe,si=this.buildStyles(ue,Yr,_r),Fi=new Set,yo=new Map,eo=new Map,ho="void"===ue,Mo={params:jt(Yr,ui),delay:this.ast.options?.delay},rs=lr?[]:Ai(D,S,this.ast.animation,Ye,lt,zr,si,Mo,An,_r);let Ao=0;if(rs.forEach(_s=>{Ao=Math.max(_s.duration+_s.delay,Ao)}),_r.length)return lo(S,this._triggerName,L,ue,ho,zr,si,[],[],yo,eo,Ao,_r);rs.forEach(_s=>{const zs=_s.element,la=Je(yo,zs,new Set);_s.preStyleProps.forEach(jo=>la.add(jo));const Co=Je(eo,zs,new Set);_s.postStyleProps.forEach(jo=>Co.add(jo)),zs!==S&&Fi.add(zs)});const as=Mt(Fi.values());return lo(S,this._triggerName,L,ue,ho,zr,si,rs,as,yo,eo,Ao)}}function jt(X,D){const S=vn(D);for(const L in X)X.hasOwnProperty(L)&&null!=X[L]&&(S[L]=X[L]);return S}class Jt{constructor(D,S,L){this.styles=D,this.defaultParams=S,this.normalizer=L}buildStyles(D,S){const L=new Map,ue=vn(this.defaultParams);return Object.keys(D).forEach(Ye=>{const lt=D[Ye];null!==lt&&(ue[Ye]=lt)}),this.styles.styles.forEach(Ye=>{"string"!=typeof Ye&&Ye.forEach((lt,kt)=>{lt&&(lt=mt(lt,ue,S));const rn=this.normalizer.normalizePropertyName(kt,S);lt=this.normalizer.normalizeStyleValue(kt,rn,lt,S),L.set(kt,lt)})}),L}}class Hn{constructor(D,S,L){this.name=D,this.ast=S,this._normalizer=L,this.transitionFactories=[],this.states=new Map,S.states.forEach(ue=>{this.states.set(ue.name,new Jt(ue.style,ue.options&&ue.options.params||{},L))}),qn(this.states,"true","1"),qn(this.states,"false","0"),S.transitions.forEach(ue=>{this.transitionFactories.push(new ne(D,ue,this.states))}),this.fallbackTransition=function Mn(X,D,S){return new ne(X,{type:1,animation:{type:2,steps:[],options:null},matchers:[(lt,kt)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,S,L,ue){return this.transitionFactories.find(lt=>lt.match(D,S,L,ue))||null}matchStyles(D,S,L){return this.fallbackTransition.buildStyles(D,S,L)}}function qn(X,D,S){X.has(D)?X.has(S)||X.set(S,X.get(D)):X.has(S)&&X.set(D,X.get(S))}const or=new ir;class Kr{constructor(D,S,L){this.bodyNode=D,this._driver=S,this._normalizer=L,this._animations=new Map,this._playersById=new Map,this.players=[]}register(D,S){const L=[],ue=[],Ye=ze(this._driver,S,L,ue);if(L.length)throw function gn(X){return new E.vHH(3503,!1)}();this._animations.set(D,Ye)}_buildPlayer(D,S,L){const ue=D.element,Ye=vt(0,this._normalizer,0,D.keyframes,S,L);return this._driver.animate(ue,Ye,D.duration,D.delay,D.easing,[],!0)}create(D,S,L={}){const ue=[],Ye=this._animations.get(D);let lt;const kt=new Map;if(Ye?(lt=Ai(this._driver,S,Ye,xe,Ct,new Map,new Map,L,or,ue),lt.forEach(lr=>{const _r=Je(kt,lr.element,new Map);lr.postStyleProps.forEach(ui=>_r.set(ui,null))})):(ue.push(function _t(){return new E.vHH(3300,!1)}()),lt=[]),ue.length)throw function an(X){return new E.vHH(3504,!1)}();kt.forEach((lr,_r)=>{lr.forEach((ui,Zr)=>{lr.set(Zr,this._driver.computeStyle(_r,Zr,ye.l3))})});const An=Oe(lt.map(lr=>{const _r=kt.get(lr.element);return this._buildPlayer(lr,new Map,_r)}));return this._playersById.set(D,An),An.onDestroy(()=>this.destroy(D)),this.players.push(An),An}destroy(D){const S=this._getPlayer(D);S.destroy(),this._playersById.delete(D);const L=this.players.indexOf(S);L>=0&&this.players.splice(L,1)}_getPlayer(D){const S=this._playersById.get(D);if(!S)throw function ft(X){return new E.vHH(3301,!1)}();return S}listen(D,S,L,ue){const Ye=mn(S,"","","");return Bt(this._getPlayer(D),L,Ye,ue),()=>{}}command(D,S,L,ue){if("register"==L)return void this.register(D,ue[0]);if("create"==L)return void this.create(D,S,ue[0]||{});const Ye=this._getPlayer(D);switch(L){case"play":Ye.play();break;case"pause":Ye.pause();break;case"reset":Ye.reset();break;case"restart":Ye.restart();break;case"finish":Ye.finish();break;case"init":Ye.init();break;case"setPosition":Ye.setPosition(parseFloat(ue[0]));break;case"destroy":this.destroy(D)}}}const Ar="ng-animate-queued",$r="ng-animate-disabled",Pi=[],Ur={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},go={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed";class Ti{get params(){return this.options.params}constructor(D,S=""){this.namespaceId=S;const L=D&&D.hasOwnProperty("value");if(this.value=function ti(X){return X??null}(L?D.value:D),L){const Ye=vn(D);delete Ye.value,this.options=Ye}else this.options={};this.options.params||(this.options.params={})}absorbOptions(D){const S=D.params;if(S){const L=this.options.params;Object.keys(S).forEach(ue=>{null==L[ue]&&(L[ue]=S[ue])})}}}const yi="void",hi=new Ti(yi);class Yi{constructor(D,S,L){this.id=D,this.hostElement=S,this._engine=L,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+D,Vi(S,this._hostClassName)}listen(D,S,L,ue){if(!this._triggers.has(S))throw function Ut(X,D){return new E.vHH(3302,!1)}();if(null==L||0==L.length)throw function Xt(X){return new E.vHH(3303,!1)}();if(!function Ui(X){return"start"==X||"done"==X}(L))throw function fn(X,D){return new E.vHH(3400,!1)}();const Ye=Je(this._elementListeners,D,[]),lt={name:S,phase:L,callback:ue};Ye.push(lt);const kt=Je(this._engine.statesByElement,D,new Map);return kt.has(S)||(Vi(D,Yt),Vi(D,Yt+"-"+S),kt.set(S,hi)),()=>{this._engine.afterFlush(()=>{const rn=Ye.indexOf(lt);rn>=0&&Ye.splice(rn,1),this._triggers.has(S)||kt.delete(S)})}}register(D,S){return!this._triggers.has(D)&&(this._triggers.set(D,S),!0)}_getTrigger(D){const S=this._triggers.get(D);if(!S)throw function jn(X){return new E.vHH(3401,!1)}();return S}trigger(D,S,L,ue=!0){const Ye=this._getTrigger(S),lt=new $o(this.id,S,D);let kt=this._engine.statesByElement.get(D);kt||(Vi(D,Yt),Vi(D,Yt+"-"+S),this._engine.statesByElement.set(D,kt=new Map));let rn=kt.get(S);const An=new Ti(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&rn&&An.absorbOptions(rn.options),kt.set(S,An),rn||(rn=hi),An.value!==yi&&rn.value===An.value){if(!function os(X,D){const S=Object.keys(X),L=Object.keys(D);if(S.length!=L.length)return!1;for(let ue=0;ue<S.length;ue++){const Ye=S[ue];if(!D.hasOwnProperty(Ye)||X[Ye]!==D[Ye])return!1}return!0}(rn.params,An.params)){const Yr=[],si=Ye.matchStyles(rn.value,rn.params,Yr),Fi=Ye.matchStyles(An.value,An.params,Yr);Yr.length?this._engine.reportError(Yr):this._engine.afterFlush(()=>{zt(D,si),St(D,Fi)})}return}const ui=Je(this._engine.playersByElement,D,[]);ui.forEach(Yr=>{Yr.namespaceId==this.id&&Yr.triggerName==S&&Yr.queued&&Yr.destroy()});let Zr=Ye.matchTransition(rn.value,An.value,D,An.params),zr=!1;if(!Zr){if(!ue)return;Zr=Ye.fallbackTransition,zr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:S,transition:Zr,fromState:rn,toState:An,player:lt,isFallbackTransition:zr}),zr||(Vi(D,Ar),lt.onStart(()=>{Or(D,Ar)})),lt.onDone(()=>{let Yr=this.players.indexOf(lt);Yr>=0&&this.players.splice(Yr,1);const si=this._engine.playersByElement.get(D);if(si){let Fi=si.indexOf(lt);Fi>=0&&si.splice(Fi,1)}}),this.players.push(lt),ui.push(lt),lt}deregister(D){this._triggers.delete(D),this._engine.statesByElement.forEach(S=>S.delete(D)),this._elementListeners.forEach((S,L)=>{this._elementListeners.set(L,S.filter(ue=>ue.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const S=this._engine.playersByElement.get(D);S&&(S.forEach(L=>L.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,S){const L=this._engine.driver.query(D,ln,!0);L.forEach(ue=>{if(ue[Si])return;const Ye=this._engine.fetchNamespacesByElement(ue);Ye.size?Ye.forEach(lt=>lt.triggerLeaveAnimation(ue,S,!1,!0)):this.clearElementCache(ue)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(ue=>this.clearElementCache(ue)))}triggerLeaveAnimation(D,S,L,ue){const Ye=this._engine.statesByElement.get(D),lt=new Map;if(Ye){const kt=[];if(Ye.forEach((rn,An)=>{if(lt.set(An,rn.value),this._triggers.has(An)){const lr=this.trigger(D,An,yi,ue);lr&&kt.push(lr)}}),kt.length)return this._engine.markElementAsRemoved(this.id,D,!0,S,lt),L&&Oe(kt).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const S=this._elementListeners.get(D),L=this._engine.statesByElement.get(D);if(S&&L){const ue=new Set;S.forEach(Ye=>{const lt=Ye.name;if(ue.has(lt))return;ue.add(lt);const rn=this._triggers.get(lt).fallbackTransition,An=L.get(lt)||hi,lr=new Ti(yi),_r=new $o(this.id,lt,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:lt,transition:rn,fromState:An,toState:lr,player:_r,isFallbackTransition:!0})})}}removeNode(D,S){const L=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,S),this.triggerLeaveAnimation(D,S,!0))return;let ue=!1;if(L.totalAnimations){const Ye=L.players.length?L.playersByQueriedElement.get(D):[];if(Ye&&Ye.length)ue=!0;else{let lt=D;for(;lt=lt.parentNode;)if(L.statesByElement.get(lt)){ue=!0;break}}}if(this.prepareLeaveAnimationListeners(D),ue)L.markElementAsRemoved(this.id,D,!1,S);else{const Ye=D[Si];(!Ye||Ye===Ur)&&(L.afterFlush(()=>this.clearElementCache(D)),L.destroyInnerAnimations(D),L._onRemovalComplete(D,S))}}insertNode(D,S){Vi(D,this._hostClassName)}drainQueuedTransitions(D){const S=[];return this._queue.forEach(L=>{const ue=L.player;if(ue.destroyed)return;const Ye=L.element,lt=this._elementListeners.get(Ye);lt&&lt.forEach(kt=>{if(kt.name==L.triggerName){const rn=mn(Ye,L.triggerName,L.fromState.value,L.toState.value);rn._data=D,Bt(L.player,kt.phase,rn,kt.callback)}}),ue.markedForDestroy?this._engine.afterFlush(()=>{ue.destroy()}):S.push(L)}),this._queue=[],S.sort((L,ue)=>{const Ye=L.transition.ast.depCount,lt=ue.transition.ast.depCount;return 0==Ye||0==lt?Ye-lt:this._engine.driver.containsElement(L.element,ue.element)?1:-1})}destroy(D){this.players.forEach(S=>S.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}elementContainsData(D){let S=!1;return this._elementListeners.has(D)&&(S=!0),S=!!this._queue.find(L=>L.element===D)||S,S}}class Vo{_onRemovalComplete(D,S){this.onRemovalComplete(D,S)}constructor(D,S,L){this.bodyNode=D,this.driver=S,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ue,Ye)=>{}}get queuedPlayers(){const D=[];return this._namespaceList.forEach(S=>{S.players.forEach(L=>{L.queued&&D.push(L)})}),D}createNamespace(D,S){const L=new Yi(D,S,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,S)?this._balanceNamespaceList(L,S):(this.newHostElements.set(S,L),this.collectEnterElement(S)),this._namespaceLookup[D]=L}_balanceNamespaceList(D,S){const L=this._namespaceList,ue=this.namespacesByHostElement;if(L.length-1>=0){let lt=!1,kt=this.driver.getParentElement(S);for(;kt;){const rn=ue.get(kt);if(rn){const An=L.indexOf(rn);L.splice(An+1,0,D),lt=!0;break}kt=this.driver.getParentElement(kt)}lt||L.unshift(D)}else L.push(D);return ue.set(S,D),D}register(D,S){let L=this._namespaceLookup[D];return L||(L=this.createNamespace(D,S)),L}registerTrigger(D,S,L){let ue=this._namespaceLookup[D];ue&&ue.register(S,L)&&this.totalAnimations++}destroy(D,S){if(!D)return;const L=this._fetchNamespace(D);this.afterFlush(()=>{this.namespacesByHostElement.delete(L.hostElement),delete this._namespaceLookup[D];const ue=this._namespaceList.indexOf(L);ue>=0&&this._namespaceList.splice(ue,1)}),this.afterFlushAnimationsDone(()=>L.destroy(S))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const S=new Set,L=this.statesByElement.get(D);if(L)for(let ue of L.values())if(ue.namespaceId){const Ye=this._fetchNamespace(ue.namespaceId);Ye&&S.add(Ye)}return S}trigger(D,S,L,ue){if(Qr(S)){const Ye=this._fetchNamespace(D);if(Ye)return Ye.trigger(S,L,ue),!0}return!1}insertNode(D,S,L,ue){if(!Qr(S))return;const Ye=S[Si];if(Ye&&Ye.setForRemoval){Ye.setForRemoval=!1,Ye.setForMove=!0;const lt=this.collectedLeaveElements.indexOf(S);lt>=0&&this.collectedLeaveElements.splice(lt,1)}if(D){const lt=this._fetchNamespace(D);lt&&lt.insertNode(S,L)}ue&&this.collectEnterElement(S)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,S){S?this.disabledNodes.has(D)||(this.disabledNodes.add(D),Vi(D,$r)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),Or(D,$r))}removeNode(D,S,L,ue){if(Qr(S)){const Ye=D?this._fetchNamespace(D):null;if(Ye?Ye.removeNode(S,ue):this.markElementAsRemoved(D,S,!1,ue),L){const lt=this.namespacesByHostElement.get(S);lt&&lt.id!==D&&lt.removeNode(S,ue)}}else this._onRemovalComplete(S,ue)}markElementAsRemoved(D,S,L,ue,Ye){this.collectedLeaveElements.push(S),S[Si]={namespaceId:D,setForRemoval:ue,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:Ye}}listen(D,S,L,ue,Ye){return Qr(S)?this._fetchNamespace(D).listen(S,L,ue,Ye):()=>{}}_buildInstruction(D,S,L,ue,Ye){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,L,ue,D.fromState.options,D.toState.options,S,Ye)}destroyInnerAnimations(D){let S=this.driver.query(D,ln,!0);S.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(S=this.driver.query(D,ot,!0),S.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(D){const S=this.playersByElement.get(D);S&&S.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(D){const S=this.playersByQueriedElement.get(D);S&&S.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return Oe(this.players).onDone(()=>D());D()})}processLeaveNode(D){const S=D[Si];if(S&&S.setForRemoval){if(D[Si]=Ur,S.namespaceId){this.destroyInnerAnimations(D);const L=this._fetchNamespace(S.namespaceId);L&&L.clearElementCache(D)}this._onRemovalComplete(D,S.setForRemoval)}D.classList?.contains($r)&&this.markElementAsDisabled(D,!1),this.driver.query(D,".ng-animate-disabled",!0).forEach(L=>{this.markElementAsDisabled(L,!1)})}flush(D=-1){let S=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,ue)=>this._balanceNamespaceList(L,ue)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)Vi(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{S=this._flushAnimations(L,D)}finally{for(let ue=0;ue<L.length;ue++)L[ue]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],S.length?Oe(S).onDone(()=>{L.forEach(ue=>ue())}):L.forEach(ue=>ue())}}reportError(D){throw function xn(X){return new E.vHH(3402,!1)}()}_flushAnimations(D,S){const L=new ir,ue=[],Ye=new Map,lt=[],kt=new Map,rn=new Map,An=new Map,lr=new Set;this.disabledNodes.forEach(Ir=>{lr.add(Ir);const Fr=this.driver.query(Ir,".ng-animate-queued",!0);for(let wr=0;wr<Fr.length;wr++)lr.add(Fr[wr])});const _r=this.bodyNode,ui=Array.from(this.statesByElement.keys()),Zr=is(ui,this.collectedEnterElements),zr=new Map;let Yr=0;Zr.forEach((Ir,Fr)=>{const wr=xe+Yr++;zr.set(Fr,wr),Ir.forEach(Sr=>Vi(Sr,wr))});const si=[],Fi=new Set,yo=new Set;for(let Ir=0;Ir<this.collectedLeaveElements.length;Ir++){const Fr=this.collectedLeaveElements[Ir],wr=Fr[Si];wr&&wr.setForRemoval&&(si.push(Fr),Fi.add(Fr),wr.hasAnimation?this.driver.query(Fr,".ng-star-inserted",!0).forEach(Sr=>Fi.add(Sr)):yo.add(Fr))}const eo=new Map,ho=is(ui,Array.from(Fi));ho.forEach((Ir,Fr)=>{const wr=Ct+Yr++;eo.set(Fr,wr),Ir.forEach(Sr=>Vi(Sr,wr))}),D.push(()=>{Zr.forEach((Ir,Fr)=>{const wr=zr.get(Fr);Ir.forEach(Sr=>Or(Sr,wr))}),ho.forEach((Ir,Fr)=>{const wr=eo.get(Fr);Ir.forEach(Sr=>Or(Sr,wr))}),si.forEach(Ir=>{this.processLeaveNode(Ir)})});const Mo=[],rs=[];for(let Ir=this._namespaceList.length-1;Ir>=0;Ir--)this._namespaceList[Ir].drainQueuedTransitions(S).forEach(wr=>{const Sr=wr.player,zi=wr.element;if(Mo.push(Sr),this.collectedEnterElements.length){const Oo=zi[Si];if(Oo&&Oo.setForMove){if(Oo.previousTriggersValues&&Oo.previousTriggersValues.has(wr.triggerName)){const na=Oo.previousTriggersValues.get(wr.triggerName),ls=this.statesByElement.get(wr.element);if(ls&&ls.has(wr.triggerName)){const Eo=ls.get(wr.triggerName);Eo.value=na,ls.set(wr.triggerName,Eo)}}return void Sr.destroy()}}const fo=!_r||!this.driver.containsElement(_r,zi),po=eo.get(zi),Is=zr.get(zi),no=this._buildInstruction(wr,L,Is,po,fo);if(no.errors&&no.errors.length)return void rs.push(no);if(fo)return Sr.onStart(()=>zt(zi,no.fromStyles)),Sr.onDestroy(()=>St(zi,no.toStyles)),void ue.push(Sr);if(wr.isFallbackTransition)return Sr.onStart(()=>zt(zi,no.fromStyles)),Sr.onDestroy(()=>St(zi,no.toStyles)),void ue.push(Sr);const Zs=[];no.timelines.forEach(Oo=>{Oo.stretchStartingKeyframe=!0,this.disabledNodes.has(Oo.element)||Zs.push(Oo)}),no.timelines=Zs,L.append(zi,no.timelines),lt.push({instruction:no,player:Sr,element:zi}),no.queriedElements.forEach(Oo=>Je(kt,Oo,[]).push(Sr)),no.preStyleProps.forEach((Oo,na)=>{if(Oo.size){let ls=rn.get(na);ls||rn.set(na,ls=new Set),Oo.forEach((Eo,qs)=>ls.add(qs))}}),no.postStyleProps.forEach((Oo,na)=>{let ls=An.get(na);ls||An.set(na,ls=new Set),Oo.forEach((Eo,qs)=>ls.add(qs))})});if(rs.length){const Ir=[];rs.forEach(Fr=>{Ir.push(function Qn(X,D){return new E.vHH(3505,!1)}())}),Mo.forEach(Fr=>Fr.destroy()),this.reportError(Ir)}const Ao=new Map,as=new Map;lt.forEach(Ir=>{const Fr=Ir.element;L.has(Fr)&&(as.set(Fr,Fr),this._beforeAnimationBuild(Ir.player.namespaceId,Ir.instruction,Ao))}),ue.forEach(Ir=>{const Fr=Ir.element;this._getPreviousPlayers(Fr,!1,Ir.namespaceId,Ir.triggerName,null).forEach(Sr=>{Je(Ao,Fr,[]).push(Sr),Sr.destroy()})});const _s=si.filter(Ir=>To(Ir,rn,An)),zs=new Map;Xi(zs,this.driver,yo,An,ye.l3).forEach(Ir=>{To(Ir,rn,An)&&_s.push(Ir)});const Co=new Map;Zr.forEach((Ir,Fr)=>{Xi(Co,this.driver,new Set(Ir),rn,ye.k1)}),_s.forEach(Ir=>{const Fr=zs.get(Ir),wr=Co.get(Ir);zs.set(Ir,new Map([...Array.from(Fr?.entries()??[]),...Array.from(wr?.entries()??[])]))});const jo=[],qi=[],ko={};lt.forEach(Ir=>{const{element:Fr,player:wr,instruction:Sr}=Ir;if(L.has(Fr)){if(lr.has(Fr))return wr.onDestroy(()=>St(Fr,Sr.toStyles)),wr.disabled=!0,wr.overrideTotalTime(Sr.totalTime),void ue.push(wr);let zi=ko;if(as.size>1){let po=Fr;const Is=[];for(;po=po.parentNode;){const no=as.get(po);if(no){zi=no;break}Is.push(po)}Is.forEach(no=>as.set(no,zi))}const fo=this._buildAnimation(wr.namespaceId,Sr,Ao,Ye,Co,zs);if(wr.setRealPlayer(fo),zi===ko)jo.push(wr);else{const po=this.playersByElement.get(zi);po&&po.length&&(wr.parentPlayer=Oe(po)),ue.push(wr)}}else zt(Fr,Sr.fromStyles),wr.onDestroy(()=>St(Fr,Sr.toStyles)),qi.push(wr),lr.has(Fr)&&ue.push(wr)}),qi.forEach(Ir=>{const Fr=Ye.get(Ir.element);if(Fr&&Fr.length){const wr=Oe(Fr);Ir.setRealPlayer(wr)}}),ue.forEach(Ir=>{Ir.parentPlayer?Ir.syncPlayerEvents(Ir.parentPlayer):Ir.destroy()});for(let Ir=0;Ir<si.length;Ir++){const Fr=si[Ir],wr=Fr[Si];if(Or(Fr,Ct),wr&&wr.hasAnimation)continue;let Sr=[];if(kt.size){let fo=kt.get(Fr);fo&&fo.length&&Sr.push(...fo);let po=this.driver.query(Fr,ot,!0);for(let Is=0;Is<po.length;Is++){let no=kt.get(po[Is]);no&&no.length&&Sr.push(...no)}}const zi=Sr.filter(fo=>!fo.destroyed);zi.length?_o(this,Fr,zi):this.processLeaveNode(Fr)}return si.length=0,jo.forEach(Ir=>{this.players.push(Ir),Ir.onDone(()=>{Ir.destroy();const Fr=this.players.indexOf(Ir);this.players.splice(Fr,1)}),Ir.play()}),jo}elementContainsData(D,S){let L=!1;const ue=S[Si];return ue&&ue.setForRemoval&&(L=!0),this.playersByElement.has(S)&&(L=!0),this.playersByQueriedElement.has(S)&&(L=!0),this.statesByElement.has(S)&&(L=!0),this._fetchNamespace(D).elementContainsData(S)||L}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,S,L,ue,Ye){let lt=[];if(S){const kt=this.playersByQueriedElement.get(D);kt&&(lt=kt)}else{const kt=this.playersByElement.get(D);if(kt){const rn=!Ye||Ye==yi;kt.forEach(An=>{An.queued||!rn&&An.triggerName!=ue||lt.push(An)})}}return(L||ue)&&(lt=lt.filter(kt=>!(L&&L!=kt.namespaceId||ue&&ue!=kt.triggerName))),lt}_beforeAnimationBuild(D,S,L){const Ye=S.element,lt=S.isRemovalTransition?void 0:D,kt=S.isRemovalTransition?void 0:S.triggerName;for(const rn of S.timelines){const An=rn.element,lr=An!==Ye,_r=Je(L,An,[]);this._getPreviousPlayers(An,lr,lt,kt,S.toState).forEach(Zr=>{const zr=Zr.getRealPlayer();zr.beforeDestroy&&zr.beforeDestroy(),Zr.destroy(),_r.push(Zr)})}zt(Ye,S.fromStyles)}_buildAnimation(D,S,L,ue,Ye,lt){const kt=S.triggerName,rn=S.element,An=[],lr=new Set,_r=new Set,ui=S.timelines.map(zr=>{const Yr=zr.element;lr.add(Yr);const si=Yr[Si];if(si&&si.removedBeforeQueried)return new ye.ZN(zr.duration,zr.delay);const Fi=Yr!==rn,yo=function hs(X){const D=[];return Ls(X,D),D}((L.get(Yr)||Pi).map(Ao=>Ao.getRealPlayer())).filter(Ao=>!!Ao.element&&Ao.element===Yr),eo=Ye.get(Yr),ho=lt.get(Yr),Mo=vt(0,this._normalizer,0,zr.keyframes,eo,ho),rs=this._buildPlayer(zr,Mo,yo);if(zr.subTimeline&&ue&&_r.add(Yr),Fi){const Ao=new $o(D,kt,Yr);Ao.setRealPlayer(rs),An.push(Ao)}return rs});An.forEach(zr=>{Je(this.playersByQueriedElement,zr.element,[]).push(zr),zr.onDone(()=>function Fs(X,D,S){let L=X.get(D);if(L){if(L.length){const ue=L.indexOf(S);L.splice(ue,1)}0==L.length&&X.delete(D)}return L}(this.playersByQueriedElement,zr.element,zr))}),lr.forEach(zr=>Vi(zr,qt));const Zr=Oe(ui);return Zr.onDestroy(()=>{lr.forEach(zr=>Or(zr,qt)),St(rn,S.toStyles)}),_r.forEach(zr=>{Je(ue,zr,[]).push(Zr)}),Zr}_buildPlayer(D,S,L){return S.length>0?this.driver.animate(D.element,S,D.duration,D.delay,D.easing,L):new ye.ZN(D.duration,D.delay)}}class $o{constructor(D,S,L){this.namespaceId=D,this.triggerName=S,this.element=L,this._player=new ye.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(D){this._containsRealPlayer||(this._player=D,this._queuedCallbacks.forEach((S,L)=>{S.forEach(ue=>Bt(D,L,void 0,ue))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const S=this._player;S.triggerCallback&&D.onStart(()=>S.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,S){Je(this._queuedCallbacks,D,[]).push(S)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const S=this._player;S.triggerCallback&&S.triggerCallback(D)}}function Qr(X){return X&&1===X.nodeType}function uo(X,D){const S=X.style.display;return X.style.display=D??"none",S}function Xi(X,D,S,L,ue){const Ye=[];S.forEach(rn=>Ye.push(uo(rn)));const lt=[];L.forEach((rn,An)=>{const lr=new Map;rn.forEach(_r=>{const ui=D.computeStyle(An,_r,ue);lr.set(_r,ui),(!ui||0==ui.length)&&(An[Si]=go,lt.push(An))}),X.set(An,lr)});let kt=0;return S.forEach(rn=>uo(rn,Ye[kt++])),lt}function is(X,D){const S=new Map;if(X.forEach(kt=>S.set(kt,[])),0==D.length)return S;const L=1,ue=new Set(D),Ye=new Map;function lt(kt){if(!kt)return L;let rn=Ye.get(kt);if(rn)return rn;const An=kt.parentNode;return rn=S.has(An)?An:ue.has(An)?L:lt(An),Ye.set(kt,rn),rn}return D.forEach(kt=>{const rn=lt(kt);rn!==L&&S.get(rn).push(kt)}),S}function Vi(X,D){X.classList?.add(D)}function Or(X,D){X.classList?.remove(D)}function _o(X,D,S){Oe(S).onDone(()=>X.processLeaveNode(D))}function Ls(X,D){for(let S=0;S<X.length;S++){const L=X[S];L instanceof ye.ZE?Ls(L.players,D):D.push(L)}}function To(X,D,S){const L=S.get(X);if(!L)return!1;let ue=D.get(X);return ue?L.forEach(Ye=>ue.add(Ye)):D.set(X,L),S.delete(X),!0}class Hi{constructor(D,S,L){this.bodyNode=D,this._driver=S,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(ue,Ye)=>{},this._transitionEngine=new Vo(D,S,L),this._timelineEngine=new Kr(D,S,L),this._transitionEngine.onRemovalComplete=(ue,Ye)=>this.onRemovalComplete(ue,Ye)}registerTrigger(D,S,L,ue,Ye){const lt=D+"-"+ue;let kt=this._triggerCache[lt];if(!kt){const rn=[],An=[],lr=ze(this._driver,Ye,rn,An);if(rn.length)throw function ht(X,D){return new E.vHH(3404,!1)}();kt=function Sn(X,D,S){return new Hn(X,D,S)}(ue,lr,this._normalizer),this._triggerCache[lt]=kt}this._transitionEngine.registerTrigger(S,ue,kt)}register(D,S){this._transitionEngine.register(D,S)}destroy(D,S){this._transitionEngine.destroy(D,S)}onInsert(D,S,L,ue){this._transitionEngine.insertNode(D,S,L,ue)}onRemove(D,S,L,ue){this._transitionEngine.removeNode(D,S,ue||!1,L)}disableAnimations(D,S){this._transitionEngine.markElementAsDisabled(D,S)}process(D,S,L,ue){if("@"==L.charAt(0)){const[Ye,lt]=Ee(L);this._timelineEngine.command(Ye,S,lt,ue)}else this._transitionEngine.trigger(D,S,L,ue)}listen(D,S,L,ue,Ye){if("@"==L.charAt(0)){const[lt,kt]=Ee(L);return this._timelineEngine.listen(lt,S,kt,Ye)}return this._transitionEngine.listen(D,S,L,ue,Ye)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ks=(()=>{class X{constructor(S,L,ue){this._element=S,this._startStyles=L,this._endStyles=ue,this._state=0;let Ye=X.initialStylesByElement.get(S);Ye||X.initialStylesByElement.set(S,Ye=new Map),this._initialStyles=Ye}start(){this._state<1&&(this._startStyles&&St(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(St(this._element,this._initialStyles),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(X.initialStylesByElement.delete(this._element),this._startStyles&&(zt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zt(this._element,this._endStyles),this._endStyles=null),St(this._element,this._initialStyles),this._state=3)}}return X.initialStylesByElement=new WeakMap,X})();function Pn(X){let D=null;return X.forEach((S,L)=>{(function Vr(X){return"display"===X||"position"===X})(L)&&(D=D||new Map,D.set(L,S))}),D}class fs{constructor(D,S,L,ue){this.element=D,this.keyframes=S,this.options=L,this._specialStyles=ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(D){const S=[];return D.forEach(L=>{S.push(Object.fromEntries(L))}),S}_triggerWebAnimation(D,S,L){return D.animate(this._convertKeyframesToObject(S),L)}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D=new Map;this.hasStarted()&&this._finalKeyframe.forEach((L,ue)=>{"offset"!==ue&&D.set(ue,this._finished?L:sr(this.element,ue))}),this.currentSnapshot=D}triggerCallback(D){const S="start"===D?this._onStartFns:this._onDoneFns;S.forEach(L=>L()),S.length=0}}class qo{validateStyleProperty(D){return!0}validateAnimatableStyleProperty(D){return!0}matchesElement(D,S){return!1}containsElement(D,S){return Pt(D,S)}getParentElement(D){return En(D)}query(D,S,L){return Vt(D,S,L)}computeStyle(D,S,L){return window.getComputedStyle(D)[S]}animate(D,S,L,ue,Ye,lt=[]){const rn={duration:L,delay:ue,fill:0==ue?"both":"forwards"};Ye&&(rn.easing=Ye);const An=new Map,lr=lt.filter(Zr=>Zr instanceof fs);(function mr(X,D){return 0===X||0===D})(L,ue)&&lr.forEach(Zr=>{Zr.currentSnapshot.forEach((zr,Yr)=>An.set(Yr,zr))});let _r=function Cn(X){return X.length?X[0]instanceof Map?X:X.map(D=>Zn(D)):[]}(S).map(Zr=>ei(Zr));_r=function rr(X,D,S){if(S.size&&D.length){let L=D[0],ue=[];if(S.forEach((Ye,lt)=>{L.has(lt)||ue.push(lt),L.set(lt,Ye)}),ue.length)for(let Ye=1;Ye<D.length;Ye++){let lt=D[Ye];ue.forEach(kt=>lt.set(kt,sr(X,kt)))}}return D}(D,_r,An);const ui=function es(X,D){let S=null,L=null;return Array.isArray(D)&&D.length?(S=Pn(D[0]),D.length>1&&(L=Pn(D[D.length-1]))):D instanceof Map&&(S=Pn(D)),S||L?new Ks(X,S,L):null}(D,_r);return new fs(D,_r,rn,ui)}}var oi=N(36895);let Zi=(()=>{class X extends ye._j{constructor(S,L){super(),this._nextAnimationId=0,this._renderer=S.createRenderer(L.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(S){const L=this._nextAnimationId.toString();this._nextAnimationId++;const ue=Array.isArray(S)?(0,ye.vP)(S):S;return Bs(this._renderer,null,L,"register",[ue]),new Di(L,this._renderer)}}return X.\u0275fac=function(S){return new(S||X)(E.LFG(E.FYo),E.LFG(oi.K0))},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac}),X})();class Di extends ye.LC{constructor(D,S){super(),this._id=D,this._renderer=S}create(D,S){return new Ji(this._id,D,S||{},this._renderer)}}class Ji{constructor(D,S,L,ue){this.id=D,this.element=S,this._renderer=ue,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(D,S){return this._renderer.listen(this.element,`@@${this.id}:${D}`,S)}_command(D,...S){return Bs(this._renderer,this.element,this.id,D,S)}onDone(D){this._listen("done",D)}onStart(D){this._listen("start",D)}onDestroy(D){this._listen("destroy",D)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(D){this._command("setPosition",D)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bs(X,D,S,L,ue){return X.setProperty(D,`@@${S}:${L}`,ue)}const ps="@.disabled";let $s=(()=>{class X{constructor(S,L,ue){this.delegate=S,this.engine=L,this._zone=ue,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),L.onRemovalComplete=(Ye,lt)=>{const kt=lt?.parentNode(Ye);kt&&lt.removeChild(kt,Ye)}}createRenderer(S,L){const Ye=this.delegate.createRenderer(S,L);if(!(S&&L&&L.data&&L.data.animation)){let lr=this._rendererCache.get(Ye);return lr||(lr=new Hs("",Ye,this.engine,()=>this._rendererCache.delete(Ye)),this._rendererCache.set(Ye,lr)),lr}const lt=L.id,kt=L.id+"-"+this._currentId;this._currentId++,this.engine.register(kt,S);const rn=lr=>{Array.isArray(lr)?lr.forEach(rn):this.engine.registerTrigger(lt,kt,S,lr.name,lr)};return L.data.animation.forEach(rn),new co(this,kt,Ye,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(S,L,ue){S>=0&&S<this._microtaskId?this._zone.run(()=>L(ue)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ye=>{const[lt,kt]=Ye;lt(kt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,ue]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return X.\u0275fac=function(S){return new(S||X)(E.LFG(E.FYo),E.LFG(Hi),E.LFG(E.R0b))},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac}),X})();class Hs{constructor(D,S,L,ue){this.namespaceId=D,this.delegate=S,this.engine=L,this._onDestroy=ue,this.destroyNode=this.delegate.destroyNode?Ye=>S.destroyNode(Ye):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(D,S){return this.delegate.createElement(D,S)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,S){this.delegate.appendChild(D,S),this.engine.onInsert(this.namespaceId,S,D,!1)}insertBefore(D,S,L,ue=!0){this.delegate.insertBefore(D,S,L),this.engine.onInsert(this.namespaceId,S,D,ue)}removeChild(D,S,L){this.engine.onRemove(this.namespaceId,S,this.delegate,L)}selectRootElement(D,S){return this.delegate.selectRootElement(D,S)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,S,L,ue){this.delegate.setAttribute(D,S,L,ue)}removeAttribute(D,S,L){this.delegate.removeAttribute(D,S,L)}addClass(D,S){this.delegate.addClass(D,S)}removeClass(D,S){this.delegate.removeClass(D,S)}setStyle(D,S,L,ue){this.delegate.setStyle(D,S,L,ue)}removeStyle(D,S,L){this.delegate.removeStyle(D,S,L)}setProperty(D,S,L){"@"==S.charAt(0)&&S==ps?this.disableAnimations(D,!!L):this.delegate.setProperty(D,S,L)}setValue(D,S){this.delegate.setValue(D,S)}listen(D,S,L){return this.delegate.listen(D,S,L)}disableAnimations(D,S){this.engine.disableAnimations(D,S)}}class co extends Hs{constructor(D,S,L,ue,Ye){super(S,L,ue,Ye),this.factory=D,this.namespaceId=S}setProperty(D,S,L){"@"==S.charAt(0)?"."==S.charAt(1)&&S==ps?this.disableAnimations(D,L=void 0===L||!!L):this.engine.process(this.namespaceId,D,S.slice(1),L):this.delegate.setProperty(D,S,L)}listen(D,S,L){if("@"==S.charAt(0)){const ue=function Lo(X){switch(X){case"body":return document.body;case"document":return document;case"window":return window;default:return X}}(D);let Ye=S.slice(1),lt="";return"@"!=Ye.charAt(0)&&([Ye,lt]=function xo(X){const D=X.indexOf(".");return[X.substring(0,D),X.slice(D+1)]}(Ye)),this.engine.listen(this.namespaceId,ue,Ye,lt,kt=>{this.factory.scheduleListenerCallback(kt._data||-1,L,kt)})}return this.delegate.listen(D,S,L)}}const Bo=[{provide:ye._j,useClass:Zi},{provide:mi,useFactory:function vo(){return new ds}},{provide:Hi,useClass:(()=>{class X extends Hi{constructor(S,L,ue,Ye){super(S.body,L,ue)}ngOnDestroy(){this.flush()}}return X.\u0275fac=function(S){return new(S||X)(E.LFG(oi.K0),E.LFG(ae),E.LFG(mi),E.LFG(E.z2F))},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac}),X})()},{provide:E.FYo,useFactory:function Ho(X,D,S){return new $s(X,D,S)},deps:[y.se,Hi,E.R0b]}],Qo=[{provide:ae,useFactory:()=>new qo},{provide:E.QbO,useValue:"BrowserAnimations"},...Bo],js=[{provide:ae,useClass:le},{provide:E.QbO,useValue:"NoopAnimations"},...Bo];let fi=(()=>{class X{static withConfig(S){return{ngModule:X,providers:S.disableAnimations?js:Qo}}}return X.\u0275fac=function(S){return new(S||X)},X.\u0275mod=E.oAB({type:X}),X.\u0275inj=E.cJS({providers:Qo,imports:[y.b2]}),X})();var vs=N(43648),ys=N(70262),zo=N(62843),bo=(()=>{return(X=bo||(bo={})).Success="success",X.Info="info",X.Warning="warning",X.Error="Error",bo;var X})(),Ys=N(85657),ms=N(46176),Ii=N(77579),_=N(4859),H=N(84080),fe=N(83353),qe=N(95698),Gt=N(82722),sn=N(12687),dr=N(62289),ri=N(98184),Xr=N(3238);function wo(X,D){if(1&X){const S=E.EpF();E.TgZ(0,"div",2)(1,"button",3),E.NdJ("click",function(){E.CHM(S);const ue=E.oxw();return E.KtG(ue.action())}),E._uU(2),E.qZA()()}if(2&X){const S=E.oxw();E.xp6(2),E.hij(" ",S.data.action," ")}}const Xo=["label"];function ns(X,D){}const ss=Math.pow(2,31)-1;class Zo{constructor(D,S){this._overlayRef=S,this._afterDismissed=new Ii.x,this._afterOpened=new Ii.x,this._onAction=new Ii.x,this._dismissedByAction=!1,this.containerInstance=D,D._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(D){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(D,ss))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const bi=new E.OlP("MatSnackBarData");class Y{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let me=(()=>{class X{}return X.\u0275fac=function(S){return new(S||X)},X.\u0275dir=E.lG2({type:X,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),X})(),Z=(()=>{class X{}return X.\u0275fac=function(S){return new(S||X)},X.\u0275dir=E.lG2({type:X,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),X})(),Re=(()=>{class X{}return X.\u0275fac=function(S){return new(S||X)},X.\u0275dir=E.lG2({type:X,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),X})(),At=(()=>{class X{constructor(S,L){this.snackBarRef=S,this.data=L}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return X.\u0275fac=function(S){return new(S||X)(E.Y36(Zo),E.Y36(bi))},X.\u0275cmp=E.Xpm({type:X,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(S,L){1&S&&(E.TgZ(0,"div",0),E._uU(1),E.qZA(),E.YNc(2,wo,3,1,"div",1)),2&S&&(E.xp6(1),E.hij(" ",L.data.message,"\n"),E.xp6(1),E.Q6J("ngIf",L.hasAction))},dependencies:[oi.O5,_.lW,me,Z,Re],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),X})();const wn={snackBarState:(0,ye.X$)("state",[(0,ye.SB)("void, hidden",(0,ye.oB)({transform:"scale(0.8)",opacity:0})),(0,ye.SB)("visible",(0,ye.oB)({transform:"scale(1)",opacity:1})),(0,ye.eR)("* => visible",(0,ye.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ye.eR)("* => void, * => hidden",(0,ye.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ye.oB)({opacity:0})))])};let Fn=0,br=(()=>{class X extends H.en{constructor(S,L,ue,Ye,lt){super(),this._ngZone=S,this._elementRef=L,this._changeDetectorRef=ue,this._platform=Ye,this.snackBarConfig=lt,this._document=(0,E.f3M)(oi.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ii.x,this._onExit=new Ii.x,this._onEnter=new Ii.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Fn++,this.attachDomPortal=kt=>{this._assertNotAttached();const rn=this._portalOutlet.attachDomPortal(kt);return this._afterPortalAttached(),rn},this._live="assertive"!==lt.politeness||lt.announcementMessage?"off"===lt.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(S){this._assertNotAttached();const L=this._portalOutlet.attachComponentPortal(S);return this._afterPortalAttached(),L}attachTemplatePortal(S){this._assertNotAttached();const L=this._portalOutlet.attachTemplatePortal(S);return this._afterPortalAttached(),L}onAnimationEnd(S){const{fromState:L,toState:ue}=S;if(("void"===ue&&"void"!==L||"hidden"===ue)&&this._completeExit(),"visible"===ue){const Ye=this._onEnter;this._ngZone.run(()=>{Ye.next(),Ye.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,qe.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const S=this._elementRef.nativeElement,L=this.snackBarConfig.panelClass;L&&(Array.isArray(L)?L.forEach(ue=>S.classList.add(ue)):S.classList.add(L)),this._exposeToModals()}_exposeToModals(){const S=this._liveElementId,L=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ue=0;ue<L.length;ue++){const Ye=L[ue],lt=Ye.getAttribute("aria-owns");this._trackedModals.add(Ye),lt?-1===lt.indexOf(S)&&Ye.setAttribute("aria-owns",lt+" "+S):Ye.setAttribute("aria-owns",S)}}_clearFromModals(){this._trackedModals.forEach(S=>{const L=S.getAttribute("aria-owns");if(L){const ue=L.replace(this._liveElementId,"").trim();ue.length>0?S.setAttribute("aria-owns",ue):S.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const S=this._elementRef.nativeElement.querySelector("[aria-hidden]"),L=this._elementRef.nativeElement.querySelector("[aria-live]");if(S&&L){let ue=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&S.contains(document.activeElement)&&(ue=document.activeElement),S.removeAttribute("aria-hidden"),L.appendChild(S),ue?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return X.\u0275fac=function(S){return new(S||X)(E.Y36(E.R0b),E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(fe.t4),E.Y36(Y))},X.\u0275dir=E.lG2({type:X,viewQuery:function(S,L){if(1&S&&E.Gf(H.Pl,7),2&S){let ue;E.iGM(ue=E.CRH())&&(L._portalOutlet=ue.first)}},features:[E.qOj]}),X})(),qr=(()=>{class X extends br{_afterPortalAttached(){super._afterPortalAttached();const S=this._label.nativeElement,L="mdc-snackbar__label";S.classList.toggle(L,!S.querySelector(`.${L}`))}}return X.\u0275fac=function(){let D;return function(L){return(D||(D=E.n5z(X)))(L||X)}}(),X.\u0275cmp=E.Xpm({type:X,selectors:[["mat-snack-bar-container"]],viewQuery:function(S,L){if(1&S&&E.Gf(Xo,7),2&S){let ue;E.iGM(ue=E.CRH())&&(L._label=ue.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(S,L){1&S&&E.WFA("@state.done",function(Ye){return L.onAnimationEnd(Ye)}),2&S&&E.d8E("@state",L._animationState)},features:[E.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(S,L){1&S&&(E.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),E.YNc(4,ns,0,0,"ng-template",4),E.qZA(),E._UZ(5,"div"),E.qZA()()),2&S&&(E.xp6(5),E.uIk("aria-live",L._live)("role",L._role)("id",L._liveElementId))},dependencies:[H.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[wn.snackBarState]}}),X})(),Nr=(()=>{class X{}return X.\u0275fac=function(S){return new(S||X)},X.\u0275mod=E.oAB({type:X}),X.\u0275inj=E.cJS({imports:[ri.U8,H.eL,oi.ez,_.ot,Xr.BQ,Xr.BQ]}),X})();const Hr=new E.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function li(){return new Y}});let g=(()=>{class X{get _openedSnackBarRef(){const S=this._parentSnackBar;return S?S._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(S){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=S:this._snackBarRefAtThisLevel=S}constructor(S,L,ue,Ye,lt,kt){this._overlay=S,this._live=L,this._injector=ue,this._breakpointObserver=Ye,this._parentSnackBar=lt,this._defaultConfig=kt,this._snackBarRefAtThisLevel=null}openFromComponent(S,L){return this._attach(S,L)}openFromTemplate(S,L){return this._attach(S,L)}open(S,L="",ue){const Ye={...this._defaultConfig,...ue};return Ye.data={message:S,action:L},Ye.announcementMessage===S&&(Ye.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ye)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(S,L){const Ye=E.zs3.create({parent:L&&L.viewContainerRef&&L.viewContainerRef.injector||this._injector,providers:[{provide:Y,useValue:L}]}),lt=new H.C5(this.snackBarContainerComponent,L.viewContainerRef,Ye),kt=S.attach(lt);return kt.instance.snackBarConfig=L,kt.instance}_attach(S,L){const ue={...new Y,...this._defaultConfig,...L},Ye=this._createOverlay(ue),lt=this._attachSnackBarContainer(Ye,ue),kt=new Zo(lt,Ye);if(S instanceof E.Rgc){const rn=new H.UE(S,null,{$implicit:ue.data,snackBarRef:kt});kt.instance=lt.attachTemplatePortal(rn)}else{const rn=this._createInjector(ue,kt),An=new H.C5(S,void 0,rn),lr=lt.attachComponentPortal(An);kt.instance=lr.instance}return this._breakpointObserver.observe(dr.u3.HandsetPortrait).pipe((0,Gt.R)(Ye.detachments())).subscribe(rn=>{Ye.overlayElement.classList.toggle(this.handsetCssClass,rn.matches)}),ue.announcementMessage&&lt._onAnnounce.subscribe(()=>{this._live.announce(ue.announcementMessage,ue.politeness)}),this._animateSnackBar(kt,ue),this._openedSnackBarRef=kt,this._openedSnackBarRef}_animateSnackBar(S,L){S.afterDismissed().subscribe(()=>{this._openedSnackBarRef==S&&(this._openedSnackBarRef=null),L.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{S.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):S.containerInstance.enter(),L.duration&&L.duration>0&&S.afterOpened().subscribe(()=>S._dismissAfter(L.duration))}_createOverlay(S){const L=new ri.X_;L.direction=S.direction;let ue=this._overlay.position().global();const Ye="rtl"===S.direction,lt="left"===S.horizontalPosition||"start"===S.horizontalPosition&&!Ye||"end"===S.horizontalPosition&&Ye,kt=!lt&&"center"!==S.horizontalPosition;return lt?ue.left("0"):kt?ue.right("0"):ue.centerHorizontally(),"top"===S.verticalPosition?ue.top("0"):ue.bottom("0"),L.positionStrategy=ue,this._overlay.create(L)}_createInjector(S,L){return E.zs3.create({parent:S&&S.viewContainerRef&&S.viewContainerRef.injector||this._injector,providers:[{provide:Zo,useValue:L},{provide:bi,useValue:S.data}]})}}return X.\u0275fac=function(S){return new(S||X)(E.LFG(ri.aV),E.LFG(sn.Kd),E.LFG(E.zs3),E.LFG(dr.Yg),E.LFG(X,12),E.LFG(Hr))},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac}),X})(),l=(()=>{class X extends g{constructor(S,L,ue,Ye,lt,kt){super(S,L,ue,Ye,lt,kt),this.simpleSnackBarComponent=At,this.snackBarContainerComponent=qr,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return X.\u0275fac=function(S){return new(S||X)(E.LFG(ri.aV),E.LFG(sn.Kd),E.LFG(E.zs3),E.LFG(dr.Yg),E.LFG(X,12),E.LFG(Hr))},X.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac,providedIn:Nr}),X})(),d=(()=>{class X{constructor(S,L){this.data=S,this.toastService=L}ngOnInit(){}getClassName(S){return"success"===S?"success":"info"}static#e=this.\u0275fac=function(L){return new(L||X)(E.Y36(bi),E.Y36(b))};static#t=this.\u0275cmp=E.Xpm({type:X,selectors:[["app-toast"]],decls:5,vars:1,consts:[[1,"toast-content"],[1,"message-div"],["aria-hidden","true",1,"close-btn",3,"click"]],template:function(L,ue){1&L&&(E.TgZ(0,"div",0)(1,"div",1),E._uU(2),E.qZA(),E.TgZ(3,"div",2),E.NdJ("click",function(){return ue.toastService.close()}),E._uU(4,"\xd7"),E.qZA()()),2&L&&(E.xp6(2),E.Oqu(ue.data.message))},styles:[".close-btn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;padding:4px;display:inline-block;position:absolute;top:10px;right:10px;height:100%;font-size:18px;font-weight:600}.toast-content[_ngcontent-%COMP%]{align-content:normal;align-items:baseline}.message-div[_ngcontent-%COMP%]{display:block;word-wrap:break-word;margin-inline-end:14px}.mat-snack-bar-container[_ngcontent-%COMP%]{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.toast-success[_ngcontent-%COMP%]{width:100%;height:100%;z-index:100000;background-color:#006400;color:#fff}"]})}return X})(),b=(()=>{class X{constructor(S){this.snackbar=S,this.toasts=[]}show(S){this.snackbar.openFromComponent(d,{data:S,horizontalPosition:"center",verticalPosition:"bottom",panelClass:[`toast-${S.type}`,"toast-position"],duration:3e3})}close(){this.snackbar.dismiss()}static#e=this.\u0275fac=function(L){return new(L||X)(E.LFG(l))};static#t=this.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),A=(()=>{class X{constructor(S,L,ue,Ye,lt){this.cookieService=S,this.authService=L,this.router=ue,this.injector=Ye,this.toastservice=lt,this.currentLang=localStorage.getItem("lang")}intercept(S,L){if("GET"==S.method||"PATCH"==S.method){let ue;"string"==typeof localStorage.getItem("token")?ue=`Bearer ${JSON?.parse(localStorage.getItem("token"))}`:JSON.stringify(localStorage.getItem("token"))&&(ue=`Bearer ${JSON?.parse(JSON.stringify(localStorage.getItem("token")))}`),S.url.includes("assets/i18n")||(S="ar"==this.injector.get(K.sK).currentLang?S.clone({headers:S.headers.set("Authorization",ue).set("lang","ar")}):S.clone({headers:S.headers.set("Authorization",ue).set("lang","en")})),S.url.includes("/notification/list")&&(S=S.clone({headers:S.headers.set("x-device-token",localStorage.getItem("deviceToken"))}))}else if(("POST"==S.method||"PUT"==S.method||"DELETE"==S.method)&&!(S.url.includes("/SignIn")||S.url.includes("/forgetPassword")||S.url.includes("setNewPassword"))){let ue;"string"==typeof localStorage.getItem("token")?ue=`Bearer ${JSON?.parse(localStorage.getItem("token"))}`:JSON.stringify(localStorage.getItem("token"))&&(ue=`Bearer ${JSON?.parse(JSON.stringify(localStorage.getItem("token")))}`),S="ar"==this.injector.get(K.sK).currentLang?S.clone({headers:S.headers.set("Authorization",ue).set("lang","ar")}):S.clone({headers:S.headers.set("Authorization",ue).set("lang","en")})}return L.handle(S).pipe((0,ys.K)(ue=>(ue.error instanceof ErrorEvent||(401==ue?.status?(localStorage.removeItem("token"),localStorage.removeItem("fingerPrint"),localStorage.removeItem("isLogin"),localStorage.removeItem("deviceToken"),localStorage.removeItem("me"),localStorage.removeItem("rules"),localStorage.removeItem("permissions"),localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])):ue?.response?.data?this.toastservice.show({message:ue.response.data.message,type:bo.Error}):("ERR_NETWORK"==ue?.code&&(localStorage.removeItem("token"),localStorage.removeItem("fingerPrint"),localStorage.removeItem("isLogin"),localStorage.removeItem("permissions"),localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])),S.urlWithParams.toLowerCase().includes("permission/checkandgetpermission")||this.toastservice.show({message:ue?.error?.message,type:bo.Error}))),(0,zo._)(()=>ue))))}static#e=this.\u0275fac=function(L){return new(L||X)(E.LFG(Ys.N),E.LFG(ms.e),E.LFG(Pe.F0),E.LFG(E.zs3),E.LFG(b))};static#t=this.\u0275prov=E.Yz7({token:X,factory:X.\u0275fac})}return X})();class U{constructor(D,S="/assets/i18n/",L=".json"){this.http=D,this.prefix=S,this.suffix=L}getTranslation(D){return this.http.get(`${this.prefix}${D}${this.suffix}`)}}const de=void 0,ut=["en",[["a","p"],["AM","PM"],de],[["AM","PM"],de,de],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],de,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],de,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",de,"{1} 'at' {0}",de],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ce(X){const S=Math.floor(Math.abs(X)),L=X.toString().replace(/^[^.]*\.?/,"").length;return 1===S&&0===L?1:5}];var et=N(91811),tn=N(75646);function yn(X){return new U(X,"./assets/i18n/",".json")}(0,oi.qS)(ut);let In=(()=>{class X{static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275mod=E.oAB({type:X,bootstrap:[Wt]});static#n=this.\u0275inj=E.cJS({providers:[Zt,{provide:et.u7,useValue:et.iF},{provide:j.TP,useClass:A,multi:!0}],imports:[y.b2,Pe.Bz,ie,fi,j.JF,Nr,tn.su.forRoot({apiKey:"AIzaSyB56iuuwKPp0AISP5qM40vgL7hQu32RRfc"}),vs.Rh.forRoot(),K.aw.forRoot({defaultLanguage:localStorage.getItem("lang")||"ar",loader:{provide:K.Zw,useFactory:yn,deps:[j.eN]},isolate:!0})]})}return X})();N(92340).N.production&&(0,E.G48)(),y.q6().bootstrapModule(In).catch(X=>console.error(X))},6175:(Ln,it,N)=>{"use strict";var y=N(39278);function E(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge?Ge:{default:Ge}}N(92451),N(61925),N(70199),N(45011),N(46101),N(92684),N(2517),N(20454),N(8072);var j=E(y);j.default.registerVersion("firebase","7.23.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),j.default.registerVersion("firebase","7.23.0"),Ln.exports=j.default},32940:function(Ln,it){!function(N){"use strict";function E(ye){return new Promise(function(Nt,yt){ye.onsuccess=function(){Nt(ye.result)},ye.onerror=function(){yt(ye.error)}})}function j(ye,Nt,yt){var en,Ot=new Promise(function(Le,Me){E(en=ye[Nt].apply(ye,yt)).then(Le,Me)});return Ot.request=en,Ot}function z(ye,Nt,yt){yt.forEach(function(en){Object.defineProperty(ye.prototype,en,{get:function(){return this[Nt][en]},set:function(Ot){this[Nt][en]=Ot}})})}function Qe(ye,Nt,yt,en){en.forEach(function(Ot){Ot in yt.prototype&&(ye.prototype[Ot]=function(){return j(this[Nt],Ot,arguments)})})}function te(ye,Nt,yt,en){en.forEach(function(Ot){Ot in yt.prototype&&(ye.prototype[Ot]=function(){return this[Nt][Ot].apply(this[Nt],arguments)})})}function Ge(ye,Nt,yt,en){en.forEach(function(Ot){Ot in yt.prototype&&(ye.prototype[Ot]=function(){return function Pe(ye,Nt,yt){var en=j(ye,Nt,yt);return en.then(function(Ot){if(Ot)return new K(Ot,en.request)})}(this[Nt],Ot,arguments)})})}function ie(ye){this._index=ye}function K(ye,Nt){this._cursor=ye,this._request=Nt}function Ae(ye){this._store=ye}function Se(ye){this._tx=ye,this.complete=new Promise(function(Nt,yt){ye.oncomplete=function(){Nt()},ye.onerror=function(){yt(ye.error)},ye.onabort=function(){yt(ye.error)}})}function Fe(ye,Nt,yt){this._db=ye,this.oldVersion=Nt,this.transaction=new Se(yt)}function bt(ye){this._db=ye}z(ie,"_index",["name","keyPath","multiEntry","unique"]),Qe(ie,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ge(ie,"_index",IDBIndex,["openCursor","openKeyCursor"]),z(K,"_cursor",["direction","key","primaryKey","value"]),Qe(K,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ye){ye in IDBCursor.prototype&&(K.prototype[ye]=function(){var Nt=this,yt=arguments;return Promise.resolve().then(function(){return Nt._cursor[ye].apply(Nt._cursor,yt),E(Nt._request).then(function(en){if(en)return new K(en,Nt._request)})})})}),Ae.prototype.createIndex=function(){return new ie(this._store.createIndex.apply(this._store,arguments))},Ae.prototype.index=function(){return new ie(this._store.index.apply(this._store,arguments))},z(Ae,"_store",["name","keyPath","indexNames","autoIncrement"]),Qe(Ae,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ge(Ae,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),te(Ae,"_store",IDBObjectStore,["deleteIndex"]),Se.prototype.objectStore=function(){return new Ae(this._tx.objectStore.apply(this._tx,arguments))},z(Se,"_tx",["objectStoreNames","mode"]),te(Se,"_tx",IDBTransaction,["abort"]),Fe.prototype.createObjectStore=function(){return new Ae(this._db.createObjectStore.apply(this._db,arguments))},z(Fe,"_db",["name","version","objectStoreNames"]),te(Fe,"_db",IDBDatabase,["deleteObjectStore","close"]),bt.prototype.transaction=function(){return new Se(this._db.transaction.apply(this._db,arguments))},z(bt,"_db",["name","version","objectStoreNames"]),te(bt,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ye){[Ae,ie].forEach(function(Nt){ye in Nt.prototype&&(Nt.prototype[ye.replace("open","iterate")]=function(){var yt=function y(ye){return Array.prototype.slice.call(ye)}(arguments),en=yt[yt.length-1],Ot=this._store||this._index,Le=Ot[ye].apply(Ot,yt.slice(0,-1));Le.onsuccess=function(){en(Le.result)}})})}),[ie,Ae].forEach(function(ye){ye.prototype.getAll||(ye.prototype.getAll=function(Nt,yt){var en=this,Ot=[];return new Promise(function(Le){en.iterateCursor(Nt,function(Me){Me?(Ot.push(Me.value),void 0===yt||Ot.length!=yt?Me.continue():Le(Ot)):Le(Ot)})})})}),N.openDb=function Zt(ye,Nt,yt){var en=j(indexedDB,"open",[ye,Nt]),Ot=en.request;return Ot&&(Ot.onupgradeneeded=function(Le){yt&&yt(new Fe(Ot.result,Le.oldVersion,Ot.transaction))}),en.then(function(Le){return new bt(Le)})},N.deleteDb=function Wt(ye){return j(indexedDB,"deleteDatabase",[ye])},Object.defineProperty(N,"__esModule",{value:!0})}(it)},61135:(Ln,it,N)=>{"use strict";N.d(it,{X:()=>E});var y=N(77579);class E extends y.x{constructor(Pe){super(),this._value=Pe}get value(){return this.getValue()}_subscribe(Pe){const z=super._subscribe(Pe);return!z.closed&&Pe.next(this._value),z}getValue(){const{hasError:Pe,thrownError:z,_value:Qe}=this;if(Pe)throw z;return this._throwIfClosed(),Qe}next(Pe){super.next(this._value=Pe)}}},69751:(Ln,it,N)=>{"use strict";N.d(it,{y:()=>Ge});var y=N(70930),E=N(50727),j=N(48822),Pe=N(89635),z=N(42416),Qe=N(30576),te=N(72806);let Ge=(()=>{class Se{constructor(bt){bt&&(this._subscribe=bt)}lift(bt){const Zt=new Se;return Zt.source=this,Zt.operator=bt,Zt}subscribe(bt,Zt,Wt){const ye=function Ae(Se){return Se&&Se instanceof y.Lv||function K(Se){return Se&&(0,Qe.m)(Se.next)&&(0,Qe.m)(Se.error)&&(0,Qe.m)(Se.complete)}(Se)&&(0,E.Nn)(Se)}(bt)?bt:new y.Hp(bt,Zt,Wt);return(0,te.x)(()=>{const{operator:Nt,source:yt}=this;ye.add(Nt?Nt.call(ye,yt):yt?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(bt){try{return this._subscribe(bt)}catch(Zt){bt.error(Zt)}}forEach(bt,Zt){return new(Zt=ie(Zt))((Wt,ye)=>{const Nt=new y.Hp({next:yt=>{try{bt(yt)}catch(en){ye(en),Nt.unsubscribe()}},error:ye,complete:Wt});this.subscribe(Nt)})}_subscribe(bt){var Zt;return null===(Zt=this.source)||void 0===Zt?void 0:Zt.subscribe(bt)}[j.L](){return this}pipe(...bt){return(0,Pe.U)(bt)(this)}toPromise(bt){return new(bt=ie(bt))((Zt,Wt)=>{let ye;this.subscribe(Nt=>ye=Nt,Nt=>Wt(Nt),()=>Zt(ye))})}}return Se.create=Fe=>new Se(Fe),Se})();function ie(Se){var Fe;return null!==(Fe=Se??z.v.Promise)&&void 0!==Fe?Fe:Promise}},4707:(Ln,it,N)=>{"use strict";N.d(it,{t:()=>j});var y=N(77579),E=N(26063);class j extends y.x{constructor(z=1/0,Qe=1/0,te=E.l){super(),this._bufferSize=z,this._windowTime=Qe,this._timestampProvider=te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Qe===1/0,this._bufferSize=Math.max(1,z),this._windowTime=Math.max(1,Qe)}next(z){const{isStopped:Qe,_buffer:te,_infiniteTimeWindow:Ge,_timestampProvider:ie,_windowTime:K}=this;Qe||(te.push(z),!Ge&&te.push(ie.now()+K)),this._trimBuffer(),super.next(z)}_subscribe(z){this._throwIfClosed(),this._trimBuffer();const Qe=this._innerSubscribe(z),{_infiniteTimeWindow:te,_buffer:Ge}=this,ie=Ge.slice();for(let K=0;K<ie.length&&!z.closed;K+=te?1:2)z.next(ie[K]);return this._checkFinalizedStatuses(z),Qe}_trimBuffer(){const{_bufferSize:z,_timestampProvider:Qe,_buffer:te,_infiniteTimeWindow:Ge}=this,ie=(Ge?1:2)*z;if(z<1/0&&ie<te.length&&te.splice(0,te.length-ie),!Ge){const K=Qe.now();let Ae=0;for(let Se=1;Se<te.length&&te[Se]<=K;Se+=2)Ae=Se;Ae&&te.splice(0,Ae+1)}}}},77579:(Ln,it,N)=>{"use strict";N.d(it,{x:()=>te});var y=N(69751),E=N(50727);const Pe=(0,N(83888).d)(ie=>function(){ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=N(38737),Qe=N(72806);let te=(()=>{class ie extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const Se=new Ge(this,this);return Se.operator=Ae,Se}_throwIfClosed(){if(this.closed)throw new Pe}next(Ae){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(Ae)}})}error(Ae){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:Se}=this;for(;Se.length;)Se.shift().error(Ae)}})}complete(){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:Se,isStopped:Fe,observers:bt}=this;return Se||Fe?E.Lc:(this.currentObservers=null,bt.push(Ae),new E.w0(()=>{this.currentObservers=null,(0,z.P)(bt,Ae)}))}_checkFinalizedStatuses(Ae){const{hasError:Se,thrownError:Fe,isStopped:bt}=this;Se?Ae.error(Fe):bt&&Ae.complete()}asObservable(){const Ae=new y.y;return Ae.source=this,Ae}}return ie.create=(K,Ae)=>new Ge(K,Ae),ie})();class Ge extends te{constructor(K,Ae){super(),this.destination=K,this.source=Ae}next(K){var Ae,Se;null===(Se=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===Se||Se.call(Ae,K)}error(K){var Ae,Se;null===(Se=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===Se||Se.call(Ae,K)}complete(){var K,Ae;null===(Ae=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Ae||Ae.call(K)}_subscribe(K){var Ae,Se;return null!==(Se=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(K))&&void 0!==Se?Se:E.Lc}}},70930:(Ln,it,N)=>{"use strict";N.d(it,{Hp:()=>Wt,Lv:()=>Se});var y=N(30576),E=N(50727),j=N(42416),Pe=N(87849),z=N(25032);const Qe=ie("C",void 0,void 0);function ie(Ot,Le,Me){return{kind:Ot,value:Le,error:Me}}var K=N(43410),Ae=N(72806);class Se extends E.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,E.Nn)(Le)&&Le.add(this)):this.destination=en}static create(Le,Me,tt){return new Wt(Le,Me,tt)}next(Le){this.isStopped?yt(function Ge(Ot){return ie("N",Ot,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?yt(function te(Ot){return ie("E",void 0,Ot)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?yt(Qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function bt(Ot,Le){return Fe.call(Ot,Le)}class Zt{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Le)}catch(tt){ye(tt)}}error(Le){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Le)}catch(tt){ye(tt)}else ye(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Me){ye(Me)}}}class Wt extends Se{constructor(Le,Me,tt){let f;if(super(),(0,y.m)(Le)||!Le)f={next:Le??void 0,error:Me??void 0,complete:tt??void 0};else{let k;this&&j.v.useDeprecatedNextContext?(k=Object.create(Le),k.unsubscribe=()=>this.unsubscribe(),f={next:Le.next&&bt(Le.next,k),error:Le.error&&bt(Le.error,k),complete:Le.complete&&bt(Le.complete,k)}):f=Le}this.destination=new Zt(f)}}function ye(Ot){j.v.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(Ot):(0,Pe.h)(Ot)}function yt(Ot,Le){const{onStoppedNotification:Me}=j.v;Me&&K.z.setTimeout(()=>Me(Ot,Le))}const en={closed:!0,next:z.Z,error:function Nt(Ot){throw Ot},complete:z.Z}},50727:(Ln,it,N)=>{"use strict";N.d(it,{Lc:()=>Qe,w0:()=>z,Nn:()=>te});var y=N(30576);const j=(0,N(83888).d)(ie=>function(Ae){ie(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((Se,Fe)=>`${Fe+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var Pe=N(38737);class z{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const bt of Ae)bt.remove(this);else Ae.remove(this);const{initialTeardown:Se}=this;if((0,y.m)(Se))try{Se()}catch(bt){K=bt instanceof j?bt.errors:[bt]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const bt of Fe)try{Ge(bt)}catch(Zt){K=K??[],Zt instanceof j?K=[...K,...Zt.errors]:K.push(Zt)}}if(K)throw new j(K)}}add(K){var Ae;if(K&&K!==this)if(this.closed)Ge(K);else{if(K instanceof z){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Ae=this._finalizers)&&void 0!==Ae?Ae:[]).push(K)}}_hasParent(K){const{_parentage:Ae}=this;return Ae===K||Array.isArray(Ae)&&Ae.includes(K)}_addParent(K){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(K),Ae):Ae?[Ae,K]:K}_removeParent(K){const{_parentage:Ae}=this;Ae===K?this._parentage=null:Array.isArray(Ae)&&(0,Pe.P)(Ae,K)}remove(K){const{_finalizers:Ae}=this;Ae&&(0,Pe.P)(Ae,K),K instanceof z&&K._removeParent(this)}}z.EMPTY=(()=>{const ie=new z;return ie.closed=!0,ie})();const Qe=z.EMPTY;function te(ie){return ie instanceof z||ie&&"closed"in ie&&(0,y.m)(ie.remove)&&(0,y.m)(ie.add)&&(0,y.m)(ie.unsubscribe)}function Ge(ie){(0,y.m)(ie)?ie():ie.unsubscribe()}},42416:(Ln,it,N)=>{"use strict";N.d(it,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},94033:(Ln,it,N)=>{"use strict";N.d(it,{c:()=>Qe});var y=N(69751),E=N(50727),j=N(38343),Pe=N(25403),z=N(54482);class Qe extends y.y{constructor(Ge,ie){super(),this.source=Ge,this.subjectFactory=ie,this._subject=null,this._refCount=0,this._connection=null,(0,z.A)(Ge)&&(this.lift=Ge.lift)}_subscribe(Ge){return this.getSubject().subscribe(Ge)}getSubject(){const Ge=this._subject;return(!Ge||Ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ge}=this;this._subject=this._connection=null,Ge?.unsubscribe()}connect(){let Ge=this._connection;if(!Ge){Ge=this._connection=new E.w0;const ie=this.getSubject();Ge.add(this.source.subscribe((0,Pe.x)(ie,void 0,()=>{this._teardown(),ie.complete()},K=>{this._teardown(),ie.error(K)},()=>this._teardown()))),Ge.closed&&(this._connection=null,Ge=E.w0.EMPTY)}return Ge}refCount(){return(0,j.x)()(this)}}},39841:(Ln,it,N)=>{"use strict";N.d(it,{a:()=>K});var y=N(69751),E=N(54742),j=N(88996),Pe=N(44671),z=N(83268),Qe=N(63269),te=N(31810),Ge=N(25403),ie=N(39672);function K(...Fe){const bt=(0,Qe.yG)(Fe),Zt=(0,Qe.jO)(Fe),{args:Wt,keys:ye}=(0,E.D)(Fe);if(0===Wt.length)return(0,j.D)([],bt);const Nt=new y.y(function Ae(Fe,bt,Zt=Pe.y){return Wt=>{Se(bt,()=>{const{length:ye}=Fe,Nt=new Array(ye);let yt=ye,en=ye;for(let Ot=0;Ot<ye;Ot++)Se(bt,()=>{const Le=(0,j.D)(Fe[Ot],bt);let Me=!1;Le.subscribe((0,Ge.x)(Wt,tt=>{Nt[Ot]=tt,Me||(Me=!0,en--),en||Wt.next(Zt(Nt.slice()))},()=>{--yt||Wt.complete()}))},Wt)},Wt)}}(Wt,bt,ye?yt=>(0,te.n)(ye,yt):Pe.y));return Zt?Nt.pipe((0,z.Z)(Zt)):Nt}function Se(Fe,bt,Zt){Fe?(0,ie.f)(Zt,Fe,bt):bt()}},97272:(Ln,it,N)=>{"use strict";N.d(it,{z:()=>z});var y=N(8189),j=N(63269),Pe=N(88996);function z(...Qe){return function E(){return(0,y.J)(1)}()((0,Pe.D)(Qe,(0,j.yG)(Qe)))}},49770:(Ln,it,N)=>{"use strict";N.d(it,{P:()=>j});var y=N(69751),E=N(38421);function j(Pe){return new y.y(z=>{(0,E.Xf)(Pe()).subscribe(z)})}},60515:(Ln,it,N)=>{"use strict";N.d(it,{E:()=>E});const E=new(N(69751).y)(z=>z.complete())},4128:(Ln,it,N)=>{"use strict";N.d(it,{D:()=>Ge});var y=N(69751),E=N(54742),j=N(38421),Pe=N(63269),z=N(25403),Qe=N(83268),te=N(31810);function Ge(...ie){const K=(0,Pe.jO)(ie),{args:Ae,keys:Se}=(0,E.D)(ie),Fe=new y.y(bt=>{const{length:Zt}=Ae;if(!Zt)return void bt.complete();const Wt=new Array(Zt);let ye=Zt,Nt=Zt;for(let yt=0;yt<Zt;yt++){let en=!1;(0,j.Xf)(Ae[yt]).subscribe((0,z.x)(bt,Ot=>{en||(en=!0,Nt--),Wt[yt]=Ot},()=>ye--,void 0,()=>{(!ye||!en)&&(Nt||bt.next(Se?(0,te.n)(Se,Wt):Wt),bt.complete())}))}});return K?Fe.pipe((0,Qe.Z)(K)):Fe}},88996:(Ln,it,N)=>{"use strict";N.d(it,{D:()=>Le});var y=N(38421),E=N(85363),j=N(49468),Qe=N(69751),Ge=N(2202),ie=N(30576),K=N(39672);function Se(Me,tt){if(!Me)throw new Error("Iterable cannot be null");return new Qe.y(f=>{(0,K.f)(f,tt,()=>{const k=Me[Symbol.asyncIterator]();(0,K.f)(f,tt,()=>{k.next().then(T=>{T.done?f.complete():f.next(T.value)})},0,!0)})})}var Fe=N(93670),bt=N(28239),Zt=N(81144),Wt=N(26495),ye=N(12206),Nt=N(44532),yt=N(53260);function Le(Me,tt){return tt?function Ot(Me,tt){if(null!=Me){if((0,Fe.c)(Me))return function Pe(Me,tt){return(0,y.Xf)(Me).pipe((0,j.R)(tt),(0,E.Q)(tt))}(Me,tt);if((0,Zt.z)(Me))return function te(Me,tt){return new Qe.y(f=>{let k=0;return tt.schedule(function(){k===Me.length?f.complete():(f.next(Me[k++]),f.closed||this.schedule())})})}(Me,tt);if((0,bt.t)(Me))return function z(Me,tt){return(0,y.Xf)(Me).pipe((0,j.R)(tt),(0,E.Q)(tt))}(Me,tt);if((0,ye.D)(Me))return Se(Me,tt);if((0,Wt.T)(Me))return function Ae(Me,tt){return new Qe.y(f=>{let k;return(0,K.f)(f,tt,()=>{k=Me[Ge.h](),(0,K.f)(f,tt,()=>{let T,W;try{({value:T,done:W}=k.next())}catch(J){return void f.error(J)}W?f.complete():f.next(T)},0,!0)}),()=>(0,ie.m)(k?.return)&&k.return()})}(Me,tt);if((0,yt.L)(Me))return function en(Me,tt){return Se((0,yt.Q)(Me),tt)}(Me,tt)}throw(0,Nt.z)(Me)}(Me,tt):(0,y.Xf)(Me)}},54968:(Ln,it,N)=>{"use strict";N.d(it,{R:()=>K});var y=N(38421),E=N(69751),j=N(95577),Pe=N(81144),z=N(30576),Qe=N(83268);const te=["addListener","removeListener"],Ge=["addEventListener","removeEventListener"],ie=["on","off"];function K(Zt,Wt,ye,Nt){if((0,z.m)(ye)&&(Nt=ye,ye=void 0),Nt)return K(Zt,Wt,ye).pipe((0,Qe.Z)(Nt));const[yt,en]=function bt(Zt){return(0,z.m)(Zt.addEventListener)&&(0,z.m)(Zt.removeEventListener)}(Zt)?Ge.map(Ot=>Le=>Zt[Ot](Wt,Le,ye)):function Se(Zt){return(0,z.m)(Zt.addListener)&&(0,z.m)(Zt.removeListener)}(Zt)?te.map(Ae(Zt,Wt)):function Fe(Zt){return(0,z.m)(Zt.on)&&(0,z.m)(Zt.off)}(Zt)?ie.map(Ae(Zt,Wt)):[];if(!yt&&(0,Pe.z)(Zt))return(0,j.z)(Ot=>K(Ot,Wt,ye))((0,y.Xf)(Zt));if(!yt)throw new TypeError("Invalid event target");return new E.y(Ot=>{const Le=(...Me)=>Ot.next(1<Me.length?Me:Me[0]);return yt(Le),()=>en(Le)})}function Ae(Zt,Wt){return ye=>Nt=>Zt[ye](Wt,Nt)}},38421:(Ln,it,N)=>{"use strict";N.d(it,{Xf:()=>Fe});var y=N(97582),E=N(81144),j=N(28239),Pe=N(69751),z=N(93670),Qe=N(12206),te=N(44532),Ge=N(26495),ie=N(53260),K=N(30576),Ae=N(87849),Se=N(48822);function Fe(Ot){if(Ot instanceof Pe.y)return Ot;if(null!=Ot){if((0,z.c)(Ot))return function bt(Ot){return new Pe.y(Le=>{const Me=Ot[Se.L]();if((0,K.m)(Me.subscribe))return Me.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ot);if((0,E.z)(Ot))return function Zt(Ot){return new Pe.y(Le=>{for(let Me=0;Me<Ot.length&&!Le.closed;Me++)Le.next(Ot[Me]);Le.complete()})}(Ot);if((0,j.t)(Ot))return function Wt(Ot){return new Pe.y(Le=>{Ot.then(Me=>{Le.closed||(Le.next(Me),Le.complete())},Me=>Le.error(Me)).then(null,Ae.h)})}(Ot);if((0,Qe.D)(Ot))return Nt(Ot);if((0,Ge.T)(Ot))return function ye(Ot){return new Pe.y(Le=>{for(const Me of Ot)if(Le.next(Me),Le.closed)return;Le.complete()})}(Ot);if((0,ie.L)(Ot))return function yt(Ot){return Nt((0,ie.Q)(Ot))}(Ot)}throw(0,te.z)(Ot)}function Nt(Ot){return new Pe.y(Le=>{(function en(Ot,Le){var Me,tt,f,k;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Me=(0,y.KL)(Ot);!(tt=yield Me.next()).done;)if(Le.next(tt.value),Le.closed)return}catch(T){f={error:T}}finally{try{tt&&!tt.done&&(k=Me.return)&&(yield k.call(Me))}finally{if(f)throw f.error}}Le.complete()})})(Ot,Le).catch(Me=>Le.error(Me))})}},56451:(Ln,it,N)=>{"use strict";N.d(it,{T:()=>Qe});var y=N(8189),E=N(38421),j=N(60515),Pe=N(63269),z=N(88996);function Qe(...te){const Ge=(0,Pe.yG)(te),ie=(0,Pe._6)(te,1/0),K=te;return K.length?1===K.length?(0,E.Xf)(K[0]):(0,y.J)(ie)((0,z.D)(K,Ge)):j.E}},39646:(Ln,it,N)=>{"use strict";N.d(it,{of:()=>j});var y=N(63269),E=N(88996);function j(...Pe){const z=(0,y.yG)(Pe);return(0,E.D)(Pe,z)}},62843:(Ln,it,N)=>{"use strict";N.d(it,{_:()=>j});var y=N(69751),E=N(30576);function j(Pe,z){const Qe=(0,E.m)(Pe)?Pe:()=>Pe,te=Ge=>Ge.error(Qe());return new y.y(z?Ge=>z.schedule(te,0,Ge):te)}},5963:(Ln,it,N)=>{"use strict";N.d(it,{H:()=>z});var y=N(69751),E=N(34986),j=N(93532);function z(Qe=0,te,Ge=E.P){let ie=-1;return null!=te&&((0,j.K)(te)?Ge=te:ie=te),new y.y(K=>{let Ae=function Pe(Qe){return Qe instanceof Date&&!isNaN(Qe)}(Qe)?+Qe-Ge.now():Qe;Ae<0&&(Ae=0);let Se=0;return Ge.schedule(function(){K.closed||(K.next(Se++),0<=ie?this.schedule(void 0,ie):K.complete())},Ae)})}},25403:(Ln,it,N)=>{"use strict";N.d(it,{x:()=>E});var y=N(70930);function E(Pe,z,Qe,te,Ge){return new j(Pe,z,Qe,te,Ge)}class j extends y.Lv{constructor(z,Qe,te,Ge,ie,K){super(z),this.onFinalize=ie,this.shouldUnsubscribe=K,this._next=Qe?function(Ae){try{Qe(Ae)}catch(Se){z.error(Se)}}:super._next,this._error=Ge?function(Ae){try{Ge(Ae)}catch(Se){z.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(Ae){z.error(Ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Qe}=this;super.unsubscribe(),!Qe&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},23601:(Ln,it,N)=>{"use strict";N.d(it,{e:()=>te});var y=N(34986),E=N(54482),j=N(38421),Pe=N(25403),Qe=N(5963);function te(Ge,ie=y.z){return function z(Ge){return(0,E.e)((ie,K)=>{let Ae=!1,Se=null,Fe=null,bt=!1;const Zt=()=>{if(Fe?.unsubscribe(),Fe=null,Ae){Ae=!1;const ye=Se;Se=null,K.next(ye)}bt&&K.complete()},Wt=()=>{Fe=null,bt&&K.complete()};ie.subscribe((0,Pe.x)(K,ye=>{Ae=!0,Se=ye,Fe||(0,j.Xf)(Ge(ye)).subscribe(Fe=(0,Pe.x)(K,Zt,Wt))},()=>{bt=!0,(!Ae||!Fe||Fe.closed)&&K.complete()}))})}(()=>(0,Qe.H)(Ge,ie))}},70262:(Ln,it,N)=>{"use strict";N.d(it,{K:()=>Pe});var y=N(38421),E=N(25403),j=N(54482);function Pe(z){return(0,j.e)((Qe,te)=>{let K,Ge=null,ie=!1;Ge=Qe.subscribe((0,E.x)(te,void 0,void 0,Ae=>{K=(0,y.Xf)(z(Ae,Pe(z)(Qe))),Ge?(Ge.unsubscribe(),Ge=null,K.subscribe(te)):ie=!0})),ie&&(Ge.unsubscribe(),Ge=null,K.subscribe(te))})}},24351:(Ln,it,N)=>{"use strict";N.d(it,{b:()=>j});var y=N(95577),E=N(30576);function j(Pe,z){return(0,E.m)(z)?(0,y.z)(Pe,z,1):(0,y.z)(Pe,1)}},78372:(Ln,it,N)=>{"use strict";N.d(it,{b:()=>Pe});var y=N(34986),E=N(54482),j=N(25403);function Pe(z,Qe=y.z){return(0,E.e)((te,Ge)=>{let ie=null,K=null,Ae=null;const Se=()=>{if(ie){ie.unsubscribe(),ie=null;const bt=K;K=null,Ge.next(bt)}};function Fe(){const bt=Ae+z,Zt=Qe.now();if(Zt<bt)return ie=this.schedule(void 0,bt-Zt),void Ge.add(ie);Se()}te.subscribe((0,j.x)(Ge,bt=>{K=bt,Ae=Qe.now(),ie||(ie=Qe.schedule(Fe,z),Ge.add(ie))},()=>{Se(),Ge.complete()},void 0,()=>{K=ie=null}))})}},71884:(Ln,it,N)=>{"use strict";N.d(it,{x:()=>Pe});var y=N(44671),E=N(54482),j=N(25403);function Pe(Qe,te=y.y){return Qe=Qe??z,(0,E.e)((Ge,ie)=>{let K,Ae=!0;Ge.subscribe((0,j.x)(ie,Se=>{const Fe=te(Se);(Ae||!Qe(K,Fe))&&(Ae=!1,K=Fe,ie.next(Se))}))})}function z(Qe,te){return Qe===te}},39300:(Ln,it,N)=>{"use strict";N.d(it,{h:()=>j});var y=N(54482),E=N(25403);function j(Pe,z){return(0,y.e)((Qe,te)=>{let Ge=0;Qe.subscribe((0,E.x)(te,ie=>Pe.call(z,ie,Ge++)&&te.next(ie)))})}},28746:(Ln,it,N)=>{"use strict";N.d(it,{x:()=>E});var y=N(54482);function E(j){return(0,y.e)((Pe,z)=>{try{Pe.subscribe(z)}finally{z.add(j)}})}},54004:(Ln,it,N)=>{"use strict";N.d(it,{U:()=>j});var y=N(54482),E=N(25403);function j(Pe,z){return(0,y.e)((Qe,te)=>{let Ge=0;Qe.subscribe((0,E.x)(te,ie=>{te.next(Pe.call(z,ie,Ge++))}))})}},69718:(Ln,it,N)=>{"use strict";N.d(it,{h:()=>E});var y=N(54004);function E(j){return(0,y.U)(()=>j)}},8189:(Ln,it,N)=>{"use strict";N.d(it,{J:()=>j});var y=N(95577),E=N(44671);function j(Pe=1/0){return(0,y.z)(E.y,Pe)}},95577:(Ln,it,N)=>{"use strict";N.d(it,{z:()=>Ge});var y=N(54004),E=N(38421),j=N(54482),Pe=N(39672),z=N(25403),te=N(30576);function Ge(ie,K,Ae=1/0){return(0,te.m)(K)?Ge((Se,Fe)=>(0,y.U)((bt,Zt)=>K(Se,bt,Fe,Zt))((0,E.Xf)(ie(Se,Fe))),Ae):("number"==typeof K&&(Ae=K),(0,j.e)((Se,Fe)=>function Qe(ie,K,Ae,Se,Fe,bt,Zt,Wt){const ye=[];let Nt=0,yt=0,en=!1;const Ot=()=>{en&&!ye.length&&!Nt&&K.complete()},Le=tt=>Nt<Se?Me(tt):ye.push(tt),Me=tt=>{bt&&K.next(tt),Nt++;let f=!1;(0,E.Xf)(Ae(tt,yt++)).subscribe((0,z.x)(K,k=>{Fe?.(k),bt?Le(k):K.next(k)},()=>{f=!0},void 0,()=>{if(f)try{for(Nt--;ye.length&&Nt<Se;){const k=ye.shift();Zt?(0,Pe.f)(K,Zt,()=>Me(k)):Me(k)}Ot()}catch(k){K.error(k)}}))};return ie.subscribe((0,z.x)(K,Le,()=>{en=!0,Ot()})),()=>{Wt?.()}}(Se,Fe,ie,Ae)))}},85363:(Ln,it,N)=>{"use strict";N.d(it,{Q:()=>Pe});var y=N(39672),E=N(54482),j=N(25403);function Pe(z,Qe=0){return(0,E.e)((te,Ge)=>{te.subscribe((0,j.x)(Ge,ie=>(0,y.f)(Ge,z,()=>Ge.next(ie),Qe),()=>(0,y.f)(Ge,z,()=>Ge.complete(),Qe),ie=>(0,y.f)(Ge,z,()=>Ge.error(ie),Qe)))})}},38343:(Ln,it,N)=>{"use strict";N.d(it,{x:()=>j});var y=N(54482),E=N(25403);function j(){return(0,y.e)((Pe,z)=>{let Qe=null;Pe._refCount++;const te=(0,E.x)(z,void 0,void 0,void 0,()=>{if(!Pe||Pe._refCount<=0||0<--Pe._refCount)return void(Qe=null);const Ge=Pe._connection,ie=Qe;Qe=null,Ge&&(!ie||Ge===ie)&&Ge.unsubscribe(),z.unsubscribe()});Pe.subscribe(te),te.closed||(Qe=Pe.connect())})}},13099:(Ln,it,N)=>{"use strict";N.d(it,{B:()=>z});var y=N(38421),E=N(77579),j=N(70930),Pe=N(54482);function z(te={}){const{connector:Ge=(()=>new E.x),resetOnError:ie=!0,resetOnComplete:K=!0,resetOnRefCountZero:Ae=!0}=te;return Se=>{let Fe,bt,Zt,Wt=0,ye=!1,Nt=!1;const yt=()=>{bt?.unsubscribe(),bt=void 0},en=()=>{yt(),Fe=Zt=void 0,ye=Nt=!1},Ot=()=>{const Le=Fe;en(),Le?.unsubscribe()};return(0,Pe.e)((Le,Me)=>{Wt++,!Nt&&!ye&&yt();const tt=Zt=Zt??Ge();Me.add(()=>{Wt--,0===Wt&&!Nt&&!ye&&(bt=Qe(Ot,Ae))}),tt.subscribe(Me),!Fe&&Wt>0&&(Fe=new j.Hp({next:f=>tt.next(f),error:f=>{Nt=!0,yt(),bt=Qe(en,ie,f),tt.error(f)},complete:()=>{ye=!0,yt(),bt=Qe(en,K),tt.complete()}}),(0,y.Xf)(Le).subscribe(Fe))})(Se)}}function Qe(te,Ge,...ie){if(!0===Ge)return void te();if(!1===Ge)return;const K=new j.Hp({next:()=>{K.unsubscribe(),te()}});return Ge(...ie).subscribe(K)}},34782:(Ln,it,N)=>{"use strict";N.d(it,{d:()=>j});var y=N(4707),E=N(13099);function j(Pe,z,Qe){let te,Ge=!1;return Pe&&"object"==typeof Pe?({bufferSize:te=1/0,windowTime:z=1/0,refCount:Ge=!1,scheduler:Qe}=Pe):te=Pe??1/0,(0,E.B)({connector:()=>new y.t(te,z,Qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}},35684:(Ln,it,N)=>{"use strict";N.d(it,{T:()=>E});var y=N(39300);function E(j){return(0,y.h)((Pe,z)=>j<=z)}},68675:(Ln,it,N)=>{"use strict";N.d(it,{O:()=>Pe});var y=N(97272),E=N(63269),j=N(54482);function Pe(...z){const Qe=(0,E.yG)(z);return(0,j.e)((te,Ge)=>{(Qe?(0,y.z)(z,te,Qe):(0,y.z)(z,te)).subscribe(Ge)})}},49468:(Ln,it,N)=>{"use strict";N.d(it,{R:()=>E});var y=N(54482);function E(j,Pe=0){return(0,y.e)((z,Qe)=>{Qe.add(j.schedule(()=>z.subscribe(Qe),Pe))})}},63900:(Ln,it,N)=>{"use strict";N.d(it,{w:()=>Pe});var y=N(38421),E=N(54482),j=N(25403);function Pe(z,Qe){return(0,E.e)((te,Ge)=>{let ie=null,K=0,Ae=!1;const Se=()=>Ae&&!ie&&Ge.complete();te.subscribe((0,j.x)(Ge,Fe=>{ie?.unsubscribe();let bt=0;const Zt=K++;(0,y.Xf)(z(Fe,Zt)).subscribe(ie=(0,j.x)(Ge,Wt=>Ge.next(Qe?Qe(Fe,Wt,Zt,bt++):Wt),()=>{ie=null,Se()}))},()=>{Ae=!0,Se()}))})}},95698:(Ln,it,N)=>{"use strict";N.d(it,{q:()=>Pe});var y=N(60515),E=N(54482),j=N(25403);function Pe(z){return z<=0?()=>y.E:(0,E.e)((Qe,te)=>{let Ge=0;Qe.subscribe((0,j.x)(te,ie=>{++Ge<=z&&(te.next(ie),z<=Ge&&te.complete())}))})}},82722:(Ln,it,N)=>{"use strict";N.d(it,{R:()=>z});var y=N(54482),E=N(25403),j=N(38421),Pe=N(25032);function z(Qe){return(0,y.e)((te,Ge)=>{(0,j.Xf)(Qe).subscribe((0,E.x)(Ge,()=>Ge.complete(),Pe.Z)),!Ge.closed&&te.subscribe(Ge)})}},22529:(Ln,it,N)=>{"use strict";N.d(it,{o:()=>j});var y=N(54482),E=N(25403);function j(Pe,z=!1){return(0,y.e)((Qe,te)=>{let Ge=0;Qe.subscribe((0,E.x)(te,ie=>{const K=Pe(ie,Ge++);(K||z)&&te.next(ie),!K&&te.complete()}))})}},18505:(Ln,it,N)=>{"use strict";N.d(it,{b:()=>z});var y=N(30576),E=N(54482),j=N(25403),Pe=N(44671);function z(Qe,te,Ge){const ie=(0,y.m)(Qe)||te||Ge?{next:Qe,error:te,complete:Ge}:Qe;return ie?(0,E.e)((K,Ae)=>{var Se;null===(Se=ie.subscribe)||void 0===Se||Se.call(ie);let Fe=!0;K.subscribe((0,j.x)(Ae,bt=>{var Zt;null===(Zt=ie.next)||void 0===Zt||Zt.call(ie,bt),Ae.next(bt)},()=>{var bt;Fe=!1,null===(bt=ie.complete)||void 0===bt||bt.call(ie),Ae.complete()},bt=>{var Zt;Fe=!1,null===(Zt=ie.error)||void 0===Zt||Zt.call(ie,bt),Ae.error(bt)},()=>{var bt,Zt;Fe&&(null===(bt=ie.unsubscribe)||void 0===bt||bt.call(ie)),null===(Zt=ie.finalize)||void 0===Zt||Zt.call(ie)}))}):Pe.y}},84408:(Ln,it,N)=>{"use strict";N.d(it,{o:()=>z});var y=N(50727);class E extends y.w0{constructor(te,Ge){super()}schedule(te,Ge=0){return this}}const j={setInterval(Qe,te,...Ge){const{delegate:ie}=j;return ie?.setInterval?ie.setInterval(Qe,te,...Ge):setInterval(Qe,te,...Ge)},clearInterval(Qe){const{delegate:te}=j;return(te?.clearInterval||clearInterval)(Qe)},delegate:void 0};var Pe=N(38737);class z extends E{constructor(te,Ge){super(te,Ge),this.scheduler=te,this.work=Ge,this.pending=!1}schedule(te,Ge=0){var ie;if(this.closed)return this;this.state=te;const K=this.id,Ae=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Ae,K,Ge)),this.pending=!0,this.delay=Ge,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Ae,this.id,Ge),this}requestAsyncId(te,Ge,ie=0){return j.setInterval(te.flush.bind(te,this),ie)}recycleAsyncId(te,Ge,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return Ge;null!=Ge&&j.clearInterval(Ge)}execute(te,Ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(te,Ge);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Ge){let K,ie=!1;try{this.work(te)}catch(Ae){ie=!0,K=Ae||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:te,scheduler:Ge}=this,{actions:ie}=Ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pe.P)(ie,this),null!=te&&(this.id=this.recycleAsyncId(Ge,te,null)),this.delay=null,super.unsubscribe()}}}},97565:(Ln,it,N)=>{"use strict";N.d(it,{v:()=>j});var y=N(26063);class E{constructor(z,Qe=E.now){this.schedulerActionCtor=z,this.now=Qe}schedule(z,Qe=0,te){return new this.schedulerActionCtor(this,z).schedule(te,Qe)}}E.now=y.l.now;class j extends E{constructor(z,Qe=E.now){super(z,Qe),this.actions=[],this._active=!1}flush(z){const{actions:Qe}=this;if(this._active)return void Qe.push(z);let te;this._active=!0;do{if(te=z.execute(z.state,z.delay))break}while(z=Qe.shift());if(this._active=!1,te){for(;z=Qe.shift();)z.unsubscribe();throw te}}}},53101:(Ln,it,N)=>{"use strict";N.d(it,{E:()=>bt});var y=N(84408);let j,E=1;const Pe={};function z(Wt){return Wt in Pe&&(delete Pe[Wt],!0)}const Qe={setImmediate(Wt){const ye=E++;return Pe[ye]=!0,j||(j=Promise.resolve()),j.then(()=>z(ye)&&Wt()),ye},clearImmediate(Wt){z(Wt)}},{setImmediate:Ge,clearImmediate:ie}=Qe,K={setImmediate(...Wt){const{delegate:ye}=K;return(ye?.setImmediate||Ge)(...Wt)},clearImmediate(Wt){const{delegate:ye}=K;return(ye?.clearImmediate||ie)(Wt)},delegate:void 0};var Se=N(97565);const bt=new class Fe extends Se.v{flush(ye){this._active=!0;const Nt=this._scheduled;this._scheduled=void 0;const{actions:yt}=this;let en;ye=ye||yt.shift();do{if(en=ye.execute(ye.state,ye.delay))break}while((ye=yt[0])&&ye.id===Nt&&yt.shift());if(this._active=!1,en){for(;(ye=yt[0])&&ye.id===Nt&&yt.shift();)ye.unsubscribe();throw en}}}(class Ae extends y.o{constructor(ye,Nt){super(ye,Nt),this.scheduler=ye,this.work=Nt}requestAsyncId(ye,Nt,yt=0){return null!==yt&&yt>0?super.requestAsyncId(ye,Nt,yt):(ye.actions.push(this),ye._scheduled||(ye._scheduled=K.setImmediate(ye.flush.bind(ye,void 0))))}recycleAsyncId(ye,Nt,yt=0){var en;if(null!=yt?yt>0:this.delay>0)return super.recycleAsyncId(ye,Nt,yt);const{actions:Ot}=ye;null!=Nt&&(null===(en=Ot[Ot.length-1])||void 0===en?void 0:en.id)!==Nt&&(K.clearImmediate(Nt),ye._scheduled=void 0)}})},34986:(Ln,it,N)=>{"use strict";N.d(it,{P:()=>Pe,z:()=>j});var y=N(84408);const j=new(N(97565).v)(y.o),Pe=j},26063:(Ln,it,N)=>{"use strict";N.d(it,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},43410:(Ln,it,N)=>{"use strict";N.d(it,{z:()=>y});const y={setTimeout(E,j,...Pe){const{delegate:z}=y;return z?.setTimeout?z.setTimeout(E,j,...Pe):setTimeout(E,j,...Pe)},clearTimeout(E){const{delegate:j}=y;return(j?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(Ln,it,N)=>{"use strict";N.d(it,{h:()=>E});const E=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},48822:(Ln,it,N)=>{"use strict";N.d(it,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},63269:(Ln,it,N)=>{"use strict";N.d(it,{_6:()=>Qe,jO:()=>Pe,yG:()=>z});var y=N(30576),E=N(93532);function j(te){return te[te.length-1]}function Pe(te){return(0,y.m)(j(te))?te.pop():void 0}function z(te){return(0,E.K)(j(te))?te.pop():void 0}function Qe(te,Ge){return"number"==typeof j(te)?te.pop():Ge}},54742:(Ln,it,N)=>{"use strict";N.d(it,{D:()=>z});const{isArray:y}=Array,{getPrototypeOf:E,prototype:j,keys:Pe}=Object;function z(te){if(1===te.length){const Ge=te[0];if(y(Ge))return{args:Ge,keys:null};if(function Qe(te){return te&&"object"==typeof te&&E(te)===j}(Ge)){const ie=Pe(Ge);return{args:ie.map(K=>Ge[K]),keys:ie}}}return{args:te,keys:null}}},38737:(Ln,it,N)=>{"use strict";function y(E,j){if(E){const Pe=E.indexOf(j);0<=Pe&&E.splice(Pe,1)}}N.d(it,{P:()=>y})},83888:(Ln,it,N)=>{"use strict";function y(E){const Pe=E(z=>{Error.call(z),z.stack=(new Error).stack});return Pe.prototype=Object.create(Error.prototype),Pe.prototype.constructor=Pe,Pe}N.d(it,{d:()=>y})},31810:(Ln,it,N)=>{"use strict";function y(E,j){return E.reduce((Pe,z,Qe)=>(Pe[z]=j[Qe],Pe),{})}N.d(it,{n:()=>y})},72806:(Ln,it,N)=>{"use strict";N.d(it,{O:()=>Pe,x:()=>j});var y=N(42416);let E=null;function j(z){if(y.v.useDeprecatedSynchronousErrorHandling){const Qe=!E;if(Qe&&(E={errorThrown:!1,error:null}),z(),Qe){const{errorThrown:te,error:Ge}=E;if(E=null,te)throw Ge}}else z()}function Pe(z){y.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=z)}},39672:(Ln,it,N)=>{"use strict";function y(E,j,Pe,z=0,Qe=!1){const te=j.schedule(function(){Pe(),Qe?E.add(this.schedule(null,z)):this.unsubscribe()},z);if(E.add(te),!Qe)return te}N.d(it,{f:()=>y})},44671:(Ln,it,N)=>{"use strict";function y(E){return E}N.d(it,{y:()=>y})},81144:(Ln,it,N)=>{"use strict";N.d(it,{z:()=>y});const y=E=>E&&"number"==typeof E.length&&"function"!=typeof E},12206:(Ln,it,N)=>{"use strict";N.d(it,{D:()=>E});var y=N(30576);function E(j){return Symbol.asyncIterator&&(0,y.m)(j?.[Symbol.asyncIterator])}},30576:(Ln,it,N)=>{"use strict";function y(E){return"function"==typeof E}N.d(it,{m:()=>y})},93670:(Ln,it,N)=>{"use strict";N.d(it,{c:()=>j});var y=N(48822),E=N(30576);function j(Pe){return(0,E.m)(Pe[y.L])}},26495:(Ln,it,N)=>{"use strict";N.d(it,{T:()=>j});var y=N(2202),E=N(30576);function j(Pe){return(0,E.m)(Pe?.[y.h])}},28239:(Ln,it,N)=>{"use strict";N.d(it,{t:()=>E});var y=N(30576);function E(j){return(0,y.m)(j?.then)}},53260:(Ln,it,N)=>{"use strict";N.d(it,{L:()=>Pe,Q:()=>j});var y=N(97582),E=N(30576);function j(z){return(0,y.FC)(this,arguments,function*(){const te=z.getReader();try{for(;;){const{value:Ge,done:ie}=yield(0,y.qq)(te.read());if(ie)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ge)}}finally{te.releaseLock()}})}function Pe(z){return(0,E.m)(z?.getReader)}},93532:(Ln,it,N)=>{"use strict";N.d(it,{K:()=>E});var y=N(30576);function E(j){return j&&(0,y.m)(j.schedule)}},54482:(Ln,it,N)=>{"use strict";N.d(it,{A:()=>E,e:()=>j});var y=N(30576);function E(Pe){return(0,y.m)(Pe?.lift)}function j(Pe){return z=>{if(E(z))return z.lift(function(Qe){try{return Pe(Qe,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},83268:(Ln,it,N)=>{"use strict";N.d(it,{Z:()=>Pe});var y=N(54004);const{isArray:E}=Array;function Pe(z){return(0,y.U)(Qe=>function j(z,Qe){return E(Qe)?z(...Qe):z(Qe)}(z,Qe))}},25032:(Ln,it,N)=>{"use strict";function y(){}N.d(it,{Z:()=>y})},89635:(Ln,it,N)=>{"use strict";N.d(it,{U:()=>j,z:()=>E});var y=N(44671);function E(...Pe){return j(Pe)}function j(Pe){return 0===Pe.length?y.y:1===Pe.length?Pe[0]:function(Qe){return Pe.reduce((te,Ge)=>Ge(te),Qe)}}},87849:(Ln,it,N)=>{"use strict";N.d(it,{h:()=>j});var y=N(42416),E=N(43410);function j(Pe){E.z.setTimeout(()=>{const{onUnhandledError:z}=y.v;if(!z)throw Pe;z(Pe)})}},44532:(Ln,it,N)=>{"use strict";function y(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(it,{z:()=>y})},99628:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},77754:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},44255:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},20617:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},42472:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},41175:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},52027:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},68713:(Ln,it,N)=>{"use strict";N.r(it),N.d(it,{__assign:()=>j,__asyncDelegator:()=>Nt,__asyncGenerator:()=>ye,__asyncValues:()=>yt,__await:()=>Wt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>Me,__classPrivateFieldSet:()=>tt,__createBinding:()=>K,__decorate:()=>z,__exportStar:()=>Ae,__extends:()=>E,__generator:()=>ie,__importDefault:()=>Le,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>te,__param:()=>Qe,__read:()=>Fe,__rest:()=>Pe,__spread:()=>bt,__spreadArrays:()=>Zt,__values:()=>Se});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,W){T.__proto__=W}||function(T,W){for(var J in W)W.hasOwnProperty(J)&&(T[J]=W[J])})(f,k)};function E(f,k){function T(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(T.prototype=k.prototype,new T)}var j=function(){return j=Object.assign||function(k){for(var T,W=1,J=arguments.length;W<J;W++)for(var R in T=arguments[W])Object.prototype.hasOwnProperty.call(T,R)&&(k[R]=T[R]);return k},j.apply(this,arguments)};function Pe(f,k){var T={};for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&k.indexOf(W)<0&&(T[W]=f[W]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(W=Object.getOwnPropertySymbols(f);J<W.length;J++)k.indexOf(W[J])<0&&Object.prototype.propertyIsEnumerable.call(f,W[J])&&(T[W[J]]=f[W[J]])}return T}function z(f,k,T,W){var ge,J=arguments.length,R=J<3?k:null===W?W=Object.getOwnPropertyDescriptor(k,T):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(f,k,T,W);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(R=(J<3?ge(R):J>3?ge(k,T,R):ge(k,T))||R);return J>3&&R&&Object.defineProperty(k,T,R),R}function Qe(f,k){return function(T,W){k(T,W,f)}}function te(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,T,W){return new(T||(T=Promise))(function(R,ge){function Ke(ct){try{He(W.next(ct))}catch(at){ge(at)}}function Tn(ct){try{He(W.throw(ct))}catch(at){ge(at)}}function He(ct){ct.done?R(ct.value):function J(R){return R instanceof T?R:new T(function(ge){ge(R)})}(ct.value).then(Ke,Tn)}He((W=W.apply(f,k||[])).next())})}function ie(f,k){var W,J,R,ge,T={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ct){return function Tn(He){if(W)throw new TypeError("Generator is already executing.");for(;T;)try{if(W=1,J&&(R=2&He[0]?J.return:He[0]?J.throw||((R=J.return)&&R.call(J),0):J.next)&&!(R=R.call(J,He[1])).done)return R;switch(J=0,R&&(He=[2&He[0],R.value]),He[0]){case 0:case 1:R=He;break;case 4:return T.label++,{value:He[1],done:!1};case 5:T.label++,J=He[1],He=[0];continue;case 7:He=T.ops.pop(),T.trys.pop();continue;default:if(!(R=(R=T.trys).length>0&&R[R.length-1])&&(6===He[0]||2===He[0])){T=0;continue}if(3===He[0]&&(!R||He[1]>R[0]&&He[1]<R[3])){T.label=He[1];break}if(6===He[0]&&T.label<R[1]){T.label=R[1],R=He;break}if(R&&T.label<R[2]){T.label=R[2],T.ops.push(He);break}R[2]&&T.ops.pop(),T.trys.pop();continue}He=k.call(f,T)}catch(ct){He=[6,ct],J=0}finally{W=R=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ct])}}}function K(f,k,T,W){void 0===W&&(W=T),f[W]=k[T]}function Ae(f,k){for(var T in f)"default"!==T&&!k.hasOwnProperty(T)&&(k[T]=f[T])}function Se(f){var k="function"==typeof Symbol&&Symbol.iterator,T=k&&f[k],W=0;if(T)return T.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&W>=f.length&&(f=void 0),{value:f&&f[W++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(f,k){var T="function"==typeof Symbol&&f[Symbol.iterator];if(!T)return f;var J,ge,W=T.call(f),R=[];try{for(;(void 0===k||k-- >0)&&!(J=W.next()).done;)R.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(T=W.return)&&T.call(W)}finally{if(ge)throw ge.error}}return R}function bt(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(Fe(arguments[k]));return f}function Zt(){for(var f=0,k=0,T=arguments.length;k<T;k++)f+=arguments[k].length;var W=Array(f),J=0;for(k=0;k<T;k++)for(var R=arguments[k],ge=0,Ke=R.length;ge<Ke;ge++,J++)W[J]=R[ge];return W}function Wt(f){return this instanceof Wt?(this.v=f,this):new Wt(f)}function ye(f,k,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=T.apply(f,k||[]),R=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(ee){W[ee]&&(J[ee]=function(ce){return new Promise(function(re,Ne){R.push([ee,ce,re,Ne])>1||Ke(ee,ce)})})}function Ke(ee,ce){try{!function Tn(ee){ee.value instanceof Wt?Promise.resolve(ee.value.v).then(He,ct):at(R[0][2],ee)}(W[ee](ce))}catch(re){at(R[0][3],re)}}function He(ee){Ke("next",ee)}function ct(ee){Ke("throw",ee)}function at(ee,ce){ee(ce),R.shift(),R.length&&Ke(R[0][0],R[0][1])}}function Nt(f){var k,T;return k={},W("next"),W("throw",function(J){throw J}),W("return"),k[Symbol.iterator]=function(){return this},k;function W(J,R){k[J]=f[J]?function(ge){return(T=!T)?{value:Wt(f[J](ge)),done:"return"===J}:R?R(ge):ge}:R}}function yt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Se(f),T={},W("next"),W("throw"),W("return"),T[Symbol.asyncIterator]=function(){return this},T);function W(R){T[R]=f[R]&&function(ge){return new Promise(function(Ke,Tn){!function J(R,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){R({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[R](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var T in f)Object.hasOwnProperty.call(f,T)&&(k[T]=f[T]);return k.default=f,k}function Le(f){return f&&f.__esModule?f:{default:f}}function Me(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function tt(f,k,T){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,T),T}},37340:(Ln,it,N)=>{"use strict";N.d(it,{EY:()=>Wt,IO:()=>Zt,LC:()=>E,SB:()=>ie,X$:()=>Pe,ZE:()=>yt,ZN:()=>Nt,_7:()=>bt,_j:()=>y,eR:()=>Ae,jt:()=>z,k1:()=>en,l3:()=>j,oB:()=>Ge,oQ:()=>Se,pV:()=>Fe,ru:()=>Qe,vP:()=>te});class y{}class E{}const j="*";function Pe(Ot,Le){return{type:7,name:Ot,definitions:Le,options:{}}}function z(Ot,Le=null){return{type:4,styles:Le,timings:Ot}}function Qe(Ot,Le=null){return{type:3,steps:Ot,options:Le}}function te(Ot,Le=null){return{type:2,steps:Ot,options:Le}}function Ge(Ot){return{type:6,styles:Ot,offset:null}}function ie(Ot,Le,Me){return{type:0,name:Ot,styles:Le,options:Me}}function Ae(Ot,Le,Me=null){return{type:1,expr:Ot,animation:Le,options:Me}}function Se(Ot,Le=null){return{type:8,animation:Ot,options:Le}}function Fe(Ot=null){return{type:9,options:Ot}}function bt(Ot,Le=null){return{type:10,animation:Ot,options:Le}}function Zt(Ot,Le,Me=null){return{type:11,selector:Ot,animation:Le,options:Me}}function Wt(Ot,Le){return{type:12,timings:Ot,animation:Le}}function ye(Ot){Promise.resolve().then(Ot)}class Nt{constructor(Le=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._originalOnStartFns.push(Le),this._onStartFns.push(Le)}onDone(Le){this._originalOnDoneFns.push(Le),this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const Me="start"==Le?this._onStartFns:this._onDoneFns;Me.forEach(tt=>tt()),Me.length=0}}class yt{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let Me=0,tt=0,f=0;const k=this.players.length;0==k?ye(()=>this._onFinish()):this.players.forEach(T=>{T.onDone(()=>{++Me==k&&this._onFinish()}),T.onDestroy(()=>{++tt==k&&this._onDestroy()}),T.onStart(()=>{++f==k&&this._onStart()})}),this.totalTime=this.players.reduce((T,W)=>Math.max(T,W.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const Me=Le*this.totalTime;this.players.forEach(tt=>{const f=tt.totalTime?Math.min(1,Me/tt.totalTime):1;tt.setPosition(f)})}getPosition(){const Le=this.players.reduce((Me,tt)=>null===Me||tt.totalTime>Me.totalTime?tt:Me,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const Me="start"==Le?this._onStartFns:this._onDoneFns;Me.forEach(tt=>tt()),Me.length=0}}const en="!"},12687:(Ln,it,N)=>{"use strict";N.d(it,{Em:()=>Tn,Kd:()=>dt,X6:()=>Dr,ic:()=>ct,qV:()=>Xt,qm:()=>Pt,rt:()=>Vt,tE:()=>kn,yG:()=>pn});var y=N(36895),E=N(94650),j=N(83353),Pe=N(77579),z=N(50727),Qe=N(61135),te=N(39646),Ge=N(29521),ie=N(18505),K=N(78372),Ae=N(39300),Se=N(54004),Fe=N(95698),bt=N(35684),Zt=N(71884),Wt=N(82722),ye=N(21281),Nt=N(49643),yt=N(62289);class ge{constructor(le){this._items=le,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pe.x,this._typeaheadSubscription=z.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ae=>ae.disabled,this._pressedLetters=[],this.tabOut=new Pe.x,this.change=new Pe.x,le instanceof E.n_E&&(this._itemChangesSubscription=le.changes.subscribe(ae=>{if(this._activeItem){const Tt=ae.toArray().indexOf(this._activeItem);Tt>-1&&Tt!==this._activeItemIndex&&(this._activeItemIndex=Tt)}}))}skipPredicate(le){return this._skipPredicateFn=le,this}withWrap(le=!0){return this._wrap=le,this}withVerticalOrientation(le=!0){return this._vertical=le,this}withHorizontalOrientation(le){return this._horizontal=le,this}withAllowedModifierKeys(le){return this._allowedModifierKeys=le,this}withTypeAhead(le=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ie.b)(ae=>this._pressedLetters.push(ae)),(0,K.b)(le),(0,Ae.h)(()=>this._pressedLetters.length>0),(0,Se.U)(()=>this._pressedLetters.join(""))).subscribe(ae=>{const rt=this._getItemsArray();for(let Tt=1;Tt<rt.length+1;Tt++){const bn=(this._activeItemIndex+Tt)%rt.length,xe=rt[bn];if(!this._skipPredicateFn(xe)&&0===xe.getLabel().toUpperCase().trim().indexOf(ae)){this.setActiveItem(bn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(le=!0){return this._homeAndEnd=le,this}withPageUpDown(le=!0,ae=10){return this._pageUpAndDown={enabled:le,delta:ae},this}setActiveItem(le){const ae=this._activeItem;this.updateActiveItem(le),this._activeItem!==ae&&this.change.next(this._activeItemIndex)}onKeydown(le){const ae=le.keyCode,Tt=["altKey","ctrlKey","metaKey","shiftKey"].every(bn=>!le[bn]||this._allowedModifierKeys.indexOf(bn)>-1);switch(ae){case Ge.Mf:return void this.tabOut.next();case Ge.JH:if(this._vertical&&Tt){this.setNextItemActive();break}return;case Ge.LH:if(this._vertical&&Tt){this.setPreviousItemActive();break}return;case Ge.SV:if(this._horizontal&&Tt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Ge.oh:if(this._horizontal&&Tt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Ge.Sd:if(this._homeAndEnd&&Tt){this.setFirstItemActive();break}return;case Ge.uR:if(this._homeAndEnd&&Tt){this.setLastItemActive();break}return;case Ge.Ku:if(this._pageUpAndDown.enabled&&Tt){const bn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(bn>0?bn:0,1);break}return;case Ge.VM:if(this._pageUpAndDown.enabled&&Tt){const bn=this._activeItemIndex+this._pageUpAndDown.delta,xe=this._getItemsArray().length;this._setActiveItemByIndex(bn<xe?bn:xe-1,-1);break}return;default:return void((Tt||(0,Ge.Vb)(le,"shiftKey"))&&(le.key&&1===le.key.length?this._letterKeyStream.next(le.key.toLocaleUpperCase()):(ae>=Ge.A&&ae<=Ge.Z||ae>=Ge.xE&&ae<=Ge.aO)&&this._letterKeyStream.next(String.fromCharCode(ae))))}this._pressedLetters=[],le.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(le){const ae=this._getItemsArray(),rt="number"==typeof le?le:ae.indexOf(le);this._activeItem=ae[rt]??null,this._activeItemIndex=rt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(le){this._wrap?this._setActiveInWrapMode(le):this._setActiveInDefaultMode(le)}_setActiveInWrapMode(le){const ae=this._getItemsArray();for(let rt=1;rt<=ae.length;rt++){const Tt=(this._activeItemIndex+le*rt+ae.length)%ae.length;if(!this._skipPredicateFn(ae[Tt]))return void this.setActiveItem(Tt)}}_setActiveInDefaultMode(le){this._setActiveItemByIndex(this._activeItemIndex+le,le)}_setActiveItemByIndex(le,ae){const rt=this._getItemsArray();if(rt[le]){for(;this._skipPredicateFn(rt[le]);)if(!rt[le+=ae])return;this.setActiveItem(le)}}_getItemsArray(){return this._items instanceof E.n_E?this._items.toArray():this._items}}class Tn extends ge{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(le){return this._origin=le,this}setActiveItem(le){super.setActiveItem(le),this.activeItem&&this.activeItem.focus(this._origin)}}let ct=(()=>{class Te{constructor(ae){this._platform=ae}isDisabled(ae){return ae.hasAttribute("disabled")}isVisible(ae){return function ee(Te){return!!(Te.offsetWidth||Te.offsetHeight||"function"==typeof Te.getClientRects&&Te.getClientRects().length)}(ae)&&"visible"===getComputedStyle(ae).visibility}isTabbable(ae){if(!this._platform.isBrowser)return!1;const rt=function at(Te){try{return Te.frameElement}catch{return null}}(function ft(Te){return Te.ownerDocument&&Te.ownerDocument.defaultView||window}(ae));if(rt&&(-1===gn(rt)||!this.isVisible(rt)))return!1;let Tt=ae.nodeName.toLowerCase(),bn=gn(ae);return ae.hasAttribute("contenteditable")?-1!==bn:!("iframe"===Tt||"object"===Tt||this._platform.WEBKIT&&this._platform.IOS&&!function _t(Te){let le=Te.nodeName.toLowerCase(),ae="input"===le&&Te.type;return"text"===ae||"password"===ae||"select"===le||"textarea"===le}(ae))&&("audio"===Tt?!!ae.hasAttribute("controls")&&-1!==bn:"video"===Tt?-1!==bn&&(null!==bn||this._platform.FIREFOX||ae.hasAttribute("controls")):ae.tabIndex>=0)}isFocusable(ae,rt){return function an(Te){return!function re(Te){return function Ue(Te){return"input"==Te.nodeName.toLowerCase()}(Te)&&"hidden"==Te.type}(Te)&&(function ce(Te){let le=Te.nodeName.toLowerCase();return"input"===le||"select"===le||"button"===le||"textarea"===le}(Te)||function Ne(Te){return function ht(Te){return"a"==Te.nodeName.toLowerCase()}(Te)&&Te.hasAttribute("href")}(Te)||Te.hasAttribute("contenteditable")||Et(Te))}(ae)&&!this.isDisabled(ae)&&(rt?.ignoreVisibility||this.isVisible(ae))}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(j.t4))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();function Et(Te){if(!Te.hasAttribute("tabindex")||void 0===Te.tabIndex)return!1;let le=Te.getAttribute("tabindex");return!(!le||isNaN(parseInt(le,10)))}function gn(Te){if(!Et(Te))return null;const le=parseInt(Te.getAttribute("tabindex")||"",10);return isNaN(le)?-1:le}class Ut{get enabled(){return this._enabled}set enabled(le){this._enabled=le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(le,this._startAnchor),this._toggleAnchorTabIndex(le,this._endAnchor))}constructor(le,ae,rt,Tt,bn=!1){this._element=le,this._checker=ae,this._ngZone=rt,this._document=Tt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,bn||this.attachAnchors()}destroy(){const le=this._startAnchor,ae=this._endAnchor;le&&(le.removeEventListener("focus",this.startAnchorListener),le.remove()),ae&&(ae.removeEventListener("focus",this.endAnchorListener),ae.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(le){return new Promise(ae=>{this._executeOnStable(()=>ae(this.focusInitialElement(le)))})}focusFirstTabbableElementWhenReady(le){return new Promise(ae=>{this._executeOnStable(()=>ae(this.focusFirstTabbableElement(le)))})}focusLastTabbableElementWhenReady(le){return new Promise(ae=>{this._executeOnStable(()=>ae(this.focusLastTabbableElement(le)))})}_getRegionBoundary(le){const ae=this._element.querySelectorAll(`[cdk-focus-region-${le}], [cdkFocusRegion${le}], [cdk-focus-${le}]`);return"start"==le?ae.length?ae[0]:this._getFirstTabbableElement(this._element):ae.length?ae[ae.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(le){const ae=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ae){if(!this._checker.isFocusable(ae)){const rt=this._getFirstTabbableElement(ae);return rt?.focus(le),!!rt}return ae.focus(le),!0}return this.focusFirstTabbableElement(le)}focusFirstTabbableElement(le){const ae=this._getRegionBoundary("start");return ae&&ae.focus(le),!!ae}focusLastTabbableElement(le){const ae=this._getRegionBoundary("end");return ae&&ae.focus(le),!!ae}hasAttached(){return this._hasAttached}_getFirstTabbableElement(le){if(this._checker.isFocusable(le)&&this._checker.isTabbable(le))return le;const ae=le.children;for(let rt=0;rt<ae.length;rt++){const Tt=ae[rt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ae[rt]):null;if(Tt)return Tt}return null}_getLastTabbableElement(le){if(this._checker.isFocusable(le)&&this._checker.isTabbable(le))return le;const ae=le.children;for(let rt=ae.length-1;rt>=0;rt--){const Tt=ae[rt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ae[rt]):null;if(Tt)return Tt}return null}_createAnchor(){const le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,le),le.classList.add("cdk-visually-hidden"),le.classList.add("cdk-focus-trap-anchor"),le.setAttribute("aria-hidden","true"),le}_toggleAnchorTabIndex(le,ae){le?ae.setAttribute("tabindex","0"):ae.removeAttribute("tabindex")}toggleAnchors(le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(le,this._startAnchor),this._toggleAnchorTabIndex(le,this._endAnchor))}_executeOnStable(le){this._ngZone.isStable?le():this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(le)}}let Xt=(()=>{class Te{constructor(ae,rt,Tt){this._checker=ae,this._ngZone=rt,this._document=Tt}create(ae,rt=!1){return new Ut(ae,this._checker,this._ngZone,this._document,rt)}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(ct),E.LFG(E.R0b),E.LFG(y.K0))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();function Dr(Te){return 0===Te.buttons||0===Te.offsetX&&0===Te.offsetY}function pn(Te){const le=Te.touches&&Te.touches[0]||Te.changedTouches&&Te.changedTouches[0];return!(!le||-1!==le.identifier||null!=le.radiusX&&1!==le.radiusX||null!=le.radiusY&&1!==le.radiusY)}const Oe=new E.OlP("cdk-input-modality-detector-options"),vt={ignoreKeys:[Ge.zL,Ge.jx,Ge.b2,Ge.MW,Ge.JU]},Qt=(0,j.i$)({passive:!0,capture:!0});let mn=(()=>{class Te{get mostRecentModality(){return this._modality.value}constructor(ae,rt,Tt,bn){this._platform=ae,this._mostRecentTarget=null,this._modality=new Qe.X(null),this._lastTouchMs=0,this._onKeydown=xe=>{this._options?.ignoreKeys?.some(Ct=>Ct===xe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,j.sA)(xe))},this._onMousedown=xe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Dr(xe)?"keyboard":"mouse"),this._mostRecentTarget=(0,j.sA)(xe))},this._onTouchstart=xe=>{pn(xe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,j.sA)(xe))},this._options={...vt,...bn},this.modalityDetected=this._modality.pipe((0,bt.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Zt.x)()),ae.isBrowser&&rt.runOutsideAngular(()=>{Tt.addEventListener("keydown",this._onKeydown,Qt),Tt.addEventListener("mousedown",this._onMousedown,Qt),Tt.addEventListener("touchstart",this._onTouchstart,Qt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qt),document.removeEventListener("mousedown",this._onMousedown,Qt),document.removeEventListener("touchstart",this._onTouchstart,Qt))}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(j.t4),E.LFG(E.R0b),E.LFG(y.K0),E.LFG(Oe,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const Je=new E.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ee(){return null}}),xt=new E.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Rt=0,dt=(()=>{class Te{constructor(ae,rt,Tt,bn){this._ngZone=rt,this._defaultOptions=bn,this._document=Tt,this._liveElement=ae||this._createLiveElement()}announce(ae,...rt){const Tt=this._defaultOptions;let bn,xe;return 1===rt.length&&"number"==typeof rt[0]?xe=rt[0]:[bn,xe]=rt,this.clear(),clearTimeout(this._previousTimeout),bn||(bn=Tt&&Tt.politeness?Tt.politeness:"polite"),null==xe&&Tt&&(xe=Tt.duration),this._liveElement.setAttribute("aria-live",bn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ct=>this._currentResolve=Ct)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ae,"number"==typeof xe&&(this._previousTimeout=setTimeout(()=>this.clear(),xe)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const ae="cdk-live-announcer-element",rt=this._document.getElementsByClassName(ae),Tt=this._document.createElement("div");for(let bn=0;bn<rt.length;bn++)rt[bn].remove();return Tt.classList.add(ae),Tt.classList.add("cdk-visually-hidden"),Tt.setAttribute("aria-atomic","true"),Tt.setAttribute("aria-live","polite"),Tt.id="cdk-live-announcer-"+Rt++,this._document.body.appendChild(Tt),Tt}_exposeAnnouncerToModals(ae){const rt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Tt=0;Tt<rt.length;Tt++){const bn=rt[Tt],xe=bn.getAttribute("aria-owns");xe?-1===xe.indexOf(ae)&&bn.setAttribute("aria-owns",xe+" "+ae):bn.setAttribute("aria-owns",ae)}}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(Je,8),E.LFG(E.R0b),E.LFG(y.K0),E.LFG(xt,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const On=new E.OlP("cdk-focus-monitor-default-options"),Wn=(0,j.i$)({passive:!0,capture:!0});let kn=(()=>{class Te{constructor(ae,rt,Tt,bn,xe){this._ngZone=ae,this._platform=rt,this._inputModalityDetector=Tt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe.x,this._rootNodeFocusAndBlurListener=Ct=>{for(let ln=(0,j.sA)(Ct);ln;ln=ln.parentElement)"focus"===Ct.type?this._onFocus(Ct,ln):this._onBlur(Ct,ln)},this._document=bn,this._detectionMode=xe?.detectionMode||0}monitor(ae,rt=!1){const Tt=(0,ye.fI)(ae);if(!this._platform.isBrowser||1!==Tt.nodeType)return(0,te.of)(null);const bn=(0,j.kV)(Tt)||this._getDocument(),xe=this._elementInfo.get(Tt);if(xe)return rt&&(xe.checkChildren=!0),xe.subject;const Ct={checkChildren:rt,subject:new Pe.x,rootNode:bn};return this._elementInfo.set(Tt,Ct),this._registerGlobalListeners(Ct),Ct.subject}stopMonitoring(ae){const rt=(0,ye.fI)(ae),Tt=this._elementInfo.get(rt);Tt&&(Tt.subject.complete(),this._setClasses(rt),this._elementInfo.delete(rt),this._removeGlobalListeners(Tt))}focusVia(ae,rt,Tt){const bn=(0,ye.fI)(ae);bn===this._getDocument().activeElement?this._getClosestElementsInfo(bn).forEach(([Ct,Yt])=>this._originChanged(Ct,rt,Yt)):(this._setOrigin(rt),"function"==typeof bn.focus&&bn.focus(Tt))}ngOnDestroy(){this._elementInfo.forEach((ae,rt)=>this.stopMonitoring(rt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ae){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ae)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ae&&this._isLastInteractionFromInputLabel(ae)?"mouse":"program"}_shouldBeAttributedToTouch(ae){return 1===this._detectionMode||!!ae?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ae,rt){ae.classList.toggle("cdk-focused",!!rt),ae.classList.toggle("cdk-touch-focused","touch"===rt),ae.classList.toggle("cdk-keyboard-focused","keyboard"===rt),ae.classList.toggle("cdk-mouse-focused","mouse"===rt),ae.classList.toggle("cdk-program-focused","program"===rt)}_setOrigin(ae,rt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ae,this._originFromTouchInteraction="touch"===ae&&rt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ae,rt){const Tt=this._elementInfo.get(rt),bn=(0,j.sA)(ae);!Tt||!Tt.checkChildren&&rt!==bn||this._originChanged(rt,this._getFocusOrigin(bn),Tt)}_onBlur(ae,rt){const Tt=this._elementInfo.get(rt);!Tt||Tt.checkChildren&&ae.relatedTarget instanceof Node&&rt.contains(ae.relatedTarget)||(this._setClasses(rt),this._emitOrigin(Tt,null))}_emitOrigin(ae,rt){ae.subject.observers.length&&this._ngZone.run(()=>ae.subject.next(rt))}_registerGlobalListeners(ae){if(!this._platform.isBrowser)return;const rt=ae.rootNode,Tt=this._rootNodeFocusListenerCount.get(rt)||0;Tt||this._ngZone.runOutsideAngular(()=>{rt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),rt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wn)}),this._rootNodeFocusListenerCount.set(rt,Tt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Wt.R)(this._stopInputModalityDetector)).subscribe(bn=>{this._setOrigin(bn,!0)}))}_removeGlobalListeners(ae){const rt=ae.rootNode;if(this._rootNodeFocusListenerCount.has(rt)){const Tt=this._rootNodeFocusListenerCount.get(rt);Tt>1?this._rootNodeFocusListenerCount.set(rt,Tt-1):(rt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),rt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wn),this._rootNodeFocusListenerCount.delete(rt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ae,rt,Tt){this._setClasses(ae,rt),this._emitOrigin(Tt,rt),this._lastFocusOrigin=rt}_getClosestElementsInfo(ae){const rt=[];return this._elementInfo.forEach((Tt,bn)=>{(bn===ae||Tt.checkChildren&&bn.contains(ae))&&rt.push([bn,Tt])}),rt}_isLastInteractionFromInputLabel(ae){const{_mostRecentTarget:rt,mostRecentModality:Tt}=this._inputModalityDetector;if("mouse"!==Tt||!rt||rt===ae||"INPUT"!==ae.nodeName&&"TEXTAREA"!==ae.nodeName||ae.disabled)return!1;const bn=ae.labels;if(bn)for(let xe=0;xe<bn.length;xe++)if(bn[xe].contains(rt))return!0;return!1}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(E.R0b),E.LFG(j.t4),E.LFG(mn),E.LFG(y.K0,8),E.LFG(On,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const nr="cdk-high-contrast-black-on-white",xr="cdk-high-contrast-white-on-black",hn="cdk-high-contrast-active";let Pt=(()=>{class Te{constructor(ae,rt){this._platform=ae,this._document=rt,this._breakpointSubscription=(0,E.f3M)(yt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ae=this._document.createElement("div");ae.style.backgroundColor="rgb(1,2,3)",ae.style.position="absolute",this._document.body.appendChild(ae);const rt=this._document.defaultView||window,Tt=rt&&rt.getComputedStyle?rt.getComputedStyle(ae):null,bn=(Tt&&Tt.backgroundColor||"").replace(/ /g,"");switch(ae.remove(),bn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ae=this._document.body.classList;ae.remove(hn,nr,xr),this._hasCheckedHighContrastMode=!0;const rt=this.getHighContrastMode();1===rt?ae.add(hn,nr):2===rt&&ae.add(hn,xr)}}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(j.t4),E.LFG(y.K0))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),Vt=(()=>{class Te{constructor(ae){ae._applyBodyHighContrastModeCssClasses()}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(Pt))},Te.\u0275mod=E.oAB({type:Te}),Te.\u0275inj=E.cJS({imports:[Nt.Q8]}),Te})()},40445:(Ln,it,N)=>{"use strict";N.d(it,{Is:()=>te,Lv:()=>Ge,vT:()=>ie});var y=N(94650),E=N(36895);const j=new y.OlP("cdk-dir-doc",{providedIn:"root",factory:function Pe(){return(0,y.f3M)(E.K0)}}),z=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Qe(K){const Ae=K?.toLowerCase()||"";return"auto"===Ae&&typeof navigator<"u"&&navigator?.language?z.test(navigator.language)?"rtl":"ltr":"rtl"===Ae?"rtl":"ltr"}let te=(()=>{class K{constructor(Se){this.value="ltr",this.change=new y.vpe,Se&&(this.value=Qe((Se.body?Se.body.dir:null)||(Se.documentElement?Se.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return K.\u0275fac=function(Se){return new(Se||K)(y.LFG(j,8))},K.\u0275prov=y.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Ge=(()=>{class K{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new y.vpe}get dir(){return this._dir}set dir(Se){const Fe=this._dir;this._dir=Qe(Se),this._rawDir=Se,Fe!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return K.\u0275fac=function(Se){return new(Se||K)},K.\u0275dir=y.lG2({type:K,selectors:[["","dir",""]],hostVars:1,hostBindings:function(Se,Fe){2&Se&&y.uIk("dir",Fe._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[y._Bn([{provide:te,useExisting:K}])]}),K})(),ie=(()=>{class K{}return K.\u0275fac=function(Se){return new(Se||K)},K.\u0275mod=y.oAB({type:K}),K.\u0275inj=y.cJS({}),K})()},21281:(Ln,it,N)=>{"use strict";N.d(it,{Eq:()=>z,HM:()=>Qe,Ig:()=>E,fI:()=>te,su:()=>j});var y=N(94650);function E(ie){return null!=ie&&"false"!=`${ie}`}function j(ie,K=0){return function Pe(ie){return!isNaN(parseFloat(ie))&&!isNaN(Number(ie))}(ie)?Number(ie):K}function z(ie){return Array.isArray(ie)?ie:[ie]}function Qe(ie){return null==ie?"":"string"==typeof ie?ie:`${ie}px`}function te(ie){return ie instanceof y.SBq?ie.nativeElement:ie}},29521:(Ln,it,N)=>{"use strict";N.d(it,{A:()=>re,JH:()=>en,JU:()=>Qe,K5:()=>z,Ku:()=>Fe,LH:()=>Nt,L_:()=>Se,MW:()=>xt,Mf:()=>j,SV:()=>yt,Sd:()=>Wt,VM:()=>bt,Vb:()=>di,Z:()=>Ee,aO:()=>He,b2:()=>xi,hY:()=>Ae,jx:()=>te,oh:()=>ye,uR:()=>Zt,xE:()=>f,zL:()=>Ge});const j=9,z=13,Qe=16,te=17,Ge=18,Ae=27,Se=32,Fe=33,bt=34,Zt=35,Wt=36,ye=37,Nt=38,yt=39,en=40,f=48,He=57,re=65,Ee=90,xt=91,xi=224;function di(Mr,...Bi){return Bi.length?Bi.some(Ni=>Mr[Ni]):Mr.altKey||Mr.shiftKey||Mr.ctrlKey||Mr.metaKey}},62289:(Ln,it,N)=>{"use strict";N.d(it,{Yg:()=>en,u3:()=>Le,vx:()=>ye,xu:()=>bt});var y=N(94650),E=N(21281),j=N(77579),Pe=N(39841),z=N(97272),Qe=N(69751),te=N(95698),Ge=N(35684),ie=N(78372),K=N(54004),Ae=N(68675),Se=N(82722),Fe=N(83353);let bt=(()=>{class Me{}return Me.\u0275fac=function(f){return new(f||Me)},Me.\u0275mod=y.oAB({type:Me}),Me.\u0275inj=y.cJS({}),Me})();const Zt=new Set;let Wt,ye=(()=>{class Me{constructor(f){this._platform=f,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yt}matchMedia(f){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nt(Me){if(!Zt.has(Me))try{Wt||(Wt=document.createElement("style"),Wt.setAttribute("type","text/css"),document.head.appendChild(Wt)),Wt.sheet&&(Wt.sheet.insertRule(`@media ${Me} {body{ }}`,0),Zt.add(Me))}catch(tt){console.error(tt)}}(f),this._matchMedia(f)}}return Me.\u0275fac=function(f){return new(f||Me)(y.LFG(Fe.t4))},Me.\u0275prov=y.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function yt(Me){return{matches:"all"===Me||""===Me,media:Me,addListener:()=>{},removeListener:()=>{}}}let en=(()=>{class Me{constructor(f,k){this._mediaMatcher=f,this._zone=k,this._queries=new Map,this._destroySubject=new j.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(f){return Ot((0,E.Eq)(f)).some(T=>this._registerQuery(T).mql.matches)}observe(f){const T=Ot((0,E.Eq)(f)).map(J=>this._registerQuery(J).observable);let W=(0,Pe.a)(T);return W=(0,z.z)(W.pipe((0,te.q)(1)),W.pipe((0,Ge.T)(1),(0,ie.b)(0))),W.pipe((0,K.U)(J=>{const R={matches:!1,breakpoints:{}};return J.forEach(({matches:ge,query:Ke})=>{R.matches=R.matches||ge,R.breakpoints[Ke]=ge}),R}))}_registerQuery(f){if(this._queries.has(f))return this._queries.get(f);const k=this._mediaMatcher.matchMedia(f),W={observable:new Qe.y(J=>{const R=ge=>this._zone.run(()=>J.next(ge));return k.addListener(R),()=>{k.removeListener(R)}}).pipe((0,Ae.O)(k),(0,K.U)(({matches:J})=>({query:f,matches:J})),(0,Se.R)(this._destroySubject)),mql:k};return this._queries.set(f,W),W}}return Me.\u0275fac=function(f){return new(f||Me)(y.LFG(ye),y.LFG(y.R0b))},Me.\u0275prov=y.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function Ot(Me){return Me.map(tt=>tt.split(",")).reduce((tt,f)=>tt.concat(f)).map(tt=>tt.trim())}const Le={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49643:(Ln,it,N)=>{"use strict";N.d(it,{Q8:()=>ie,wD:()=>Ge});var y=N(21281),E=N(94650),j=N(69751),Pe=N(77579),z=N(78372);let Qe=(()=>{class K{create(Se){return typeof MutationObserver>"u"?null:new MutationObserver(Se)}}return K.\u0275fac=function(Se){return new(Se||K)},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),te=(()=>{class K{constructor(Se){this._mutationObserverFactory=Se,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Se,Fe)=>this._cleanupObserver(Fe))}observe(Se){const Fe=(0,y.fI)(Se);return new j.y(bt=>{const Wt=this._observeElement(Fe).subscribe(bt);return()=>{Wt.unsubscribe(),this._unobserveElement(Fe)}})}_observeElement(Se){if(this._observedElements.has(Se))this._observedElements.get(Se).count++;else{const Fe=new Pe.x,bt=this._mutationObserverFactory.create(Zt=>Fe.next(Zt));bt&&bt.observe(Se,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Se,{observer:bt,stream:Fe,count:1})}return this._observedElements.get(Se).stream}_unobserveElement(Se){this._observedElements.has(Se)&&(this._observedElements.get(Se).count--,this._observedElements.get(Se).count||this._cleanupObserver(Se))}_cleanupObserver(Se){if(this._observedElements.has(Se)){const{observer:Fe,stream:bt}=this._observedElements.get(Se);Fe&&Fe.disconnect(),bt.complete(),this._observedElements.delete(Se)}}}return K.\u0275fac=function(Se){return new(Se||K)(E.LFG(Qe))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Ge=(()=>{class K{get disabled(){return this._disabled}set disabled(Se){this._disabled=(0,y.Ig)(Se),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Se){this._debounce=(0,y.su)(Se),this._subscribe()}constructor(Se,Fe,bt){this._contentObserver=Se,this._elementRef=Fe,this._ngZone=bt,this.event=new E.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Se=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Se.pipe((0,z.b)(this.debounce)):Se).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return K.\u0275fac=function(Se){return new(Se||K)(E.Y36(te),E.Y36(E.SBq),E.Y36(E.R0b))},K.\u0275dir=E.lG2({type:K,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),K})(),ie=(()=>{class K{}return K.\u0275fac=function(Se){return new(Se||K)},K.\u0275mod=E.oAB({type:K}),K.\u0275inj=E.cJS({providers:[Qe]}),K})()},98184:(Ln,it,N)=>{"use strict";N.d(it,{Iu:()=>ct,U8:()=>Nn,X_:()=>f,Xj:()=>He,aV:()=>Ut,pI:()=>xn,tR:()=>k,xu:()=>jn});var y=N(30531),E=N(36895),j=N(94650),Pe=N(21281),z=N(83353),Qe=N(39300),te=N(95698),Ge=N(82722),ie=N(22529),K=N(40445),Ae=N(84080),Se=N(77579),Fe=N(50727),bt=N(56451),Zt=N(29521);const Wt=(0,z.Mq)();class ye{constructor(Oe,vt){this._viewportRuler=Oe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=vt}attach(){}enable(){if(this._canBeEnabled()){const Oe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Oe.style.left||"",this._previousHTMLStyles.top=Oe.style.top||"",Oe.style.left=(0,Pe.HM)(-this._previousScrollPosition.left),Oe.style.top=(0,Pe.HM)(-this._previousScrollPosition.top),Oe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Oe=this._document.documentElement,Bt=Oe.style,Qt=this._document.body.style,mn=Bt.scrollBehavior||"",Je=Qt.scrollBehavior||"";this._isEnabled=!1,Bt.left=this._previousHTMLStyles.left,Bt.top=this._previousHTMLStyles.top,Oe.classList.remove("cdk-global-scrollblock"),Wt&&(Bt.scrollBehavior=Qt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wt&&(Bt.scrollBehavior=mn,Qt.scrollBehavior=Je)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const vt=this._document.body,Bt=this._viewportRuler.getViewportSize();return vt.scrollHeight>Bt.height||vt.scrollWidth>Bt.width}}class yt{constructor(Oe,vt,Bt,Qt){this._scrollDispatcher=Oe,this._ngZone=vt,this._viewportRuler=Bt,this._config=Qt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Oe){this._overlayRef=Oe}enable(){if(this._scrollSubscription)return;const Oe=this._scrollDispatcher.scrolled(0).pipe((0,Qe.h)(vt=>!vt||!this._overlayRef.overlayElement.contains(vt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Oe.subscribe(()=>{const vt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(vt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Oe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class en{enable(){}disable(){}attach(){}}function Ot(pn,Oe){return Oe.some(vt=>pn.bottom<vt.top||pn.top>vt.bottom||pn.right<vt.left||pn.left>vt.right)}function Le(pn,Oe){return Oe.some(vt=>pn.top<vt.top||pn.bottom>vt.bottom||pn.left<vt.left||pn.right>vt.right)}class Me{constructor(Oe,vt,Bt,Qt){this._scrollDispatcher=Oe,this._viewportRuler=vt,this._ngZone=Bt,this._config=Qt,this._scrollSubscription=null}attach(Oe){this._overlayRef=Oe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const vt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Bt,height:Qt}=this._viewportRuler.getViewportSize();Ot(vt,[{width:Bt,height:Qt,bottom:Qt,right:Bt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tt=(()=>{class pn{constructor(vt,Bt,Qt,mn){this._scrollDispatcher=vt,this._viewportRuler=Bt,this._ngZone=Qt,this.noop=()=>new en,this.close=Je=>new yt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Je),this.block=()=>new ye(this._viewportRuler,this._document),this.reposition=Je=>new Me(this._scrollDispatcher,this._viewportRuler,this._ngZone,Je),this._document=mn}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(y.mF),j.LFG(y.rL),j.LFG(j.R0b),j.LFG(E.K0))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();class f{constructor(Oe){if(this.scrollStrategy=new en,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Oe){const vt=Object.keys(Oe);for(const Bt of vt)void 0!==Oe[Bt]&&(this[Bt]=Oe[Bt])}}}class k{constructor(Oe,vt,Bt,Qt,mn){this.offsetX=Bt,this.offsetY=Qt,this.panelClass=mn,this.originX=Oe.originX,this.originY=Oe.originY,this.overlayX=vt.overlayX,this.overlayY=vt.overlayY}}class W{constructor(Oe,vt){this.connectionPair=Oe,this.scrollableViewProperties=vt}}let ge=(()=>{class pn{constructor(vt){this._attachedOverlays=[],this._document=vt}ngOnDestroy(){this.detach()}add(vt){this.remove(vt),this._attachedOverlays.push(vt)}remove(vt){const Bt=this._attachedOverlays.indexOf(vt);Bt>-1&&this._attachedOverlays.splice(Bt,1),0===this._attachedOverlays.length&&this.detach()}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(E.K0))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})(),Ke=(()=>{class pn extends ge{constructor(vt,Bt){super(vt),this._ngZone=Bt,this._keydownListener=Qt=>{const mn=this._attachedOverlays;for(let Je=mn.length-1;Je>-1;Je--)if(mn[Je]._keydownEvents.observers.length>0){const Ee=mn[Je]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ee.next(Qt)):Ee.next(Qt);break}}}add(vt){super.add(vt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(E.K0),j.LFG(j.R0b,8))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})(),Tn=(()=>{class pn extends ge{constructor(vt,Bt,Qt){super(vt),this._platform=Bt,this._ngZone=Qt,this._cursorStyleIsSet=!1,this._pointerDownListener=mn=>{this._pointerDownEventTarget=(0,z.sA)(mn)},this._clickListener=mn=>{const Je=(0,z.sA)(mn),Ee="click"===mn.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Je;this._pointerDownEventTarget=null;const xt=this._attachedOverlays.slice();for(let Rt=xt.length-1;Rt>-1;Rt--){const dt=xt[Rt];if(dt._outsidePointerEvents.observers.length<1||!dt.hasAttached())continue;if(dt.overlayElement.contains(Je)||dt.overlayElement.contains(Ee))break;const En=dt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>En.next(mn)):En.next(mn)}}}add(vt){if(super.add(vt),!this._isAttached){const Bt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Bt)):this._addEventListeners(Bt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Bt.style.cursor,Bt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const vt=this._document.body;vt.removeEventListener("pointerdown",this._pointerDownListener,!0),vt.removeEventListener("click",this._clickListener,!0),vt.removeEventListener("auxclick",this._clickListener,!0),vt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(vt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(vt){vt.addEventListener("pointerdown",this._pointerDownListener,!0),vt.addEventListener("click",this._clickListener,!0),vt.addEventListener("auxclick",this._clickListener,!0),vt.addEventListener("contextmenu",this._clickListener,!0)}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(E.K0),j.LFG(z.t4),j.LFG(j.R0b,8))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})(),He=(()=>{class pn{constructor(vt,Bt){this._platform=Bt,this._document=vt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const vt="cdk-overlay-container";if(this._platform.isBrowser||(0,z.Oy)()){const Qt=this._document.querySelectorAll(`.${vt}[platform="server"], .${vt}[platform="test"]`);for(let mn=0;mn<Qt.length;mn++)Qt[mn].remove()}const Bt=this._document.createElement("div");Bt.classList.add(vt),(0,z.Oy)()?Bt.setAttribute("platform","test"):this._platform.isBrowser||Bt.setAttribute("platform","server"),this._document.body.appendChild(Bt),this._containerElement=Bt}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(E.K0),j.LFG(z.t4))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();class ct{constructor(Oe,vt,Bt,Qt,mn,Je,Ee,xt,Rt,dt=!1){this._portalOutlet=Oe,this._host=vt,this._pane=Bt,this._config=Qt,this._ngZone=mn,this._keyboardDispatcher=Je,this._document=Ee,this._location=xt,this._outsideClickDispatcher=Rt,this._animationsDisabled=dt,this._backdropElement=null,this._backdropClick=new Se.x,this._attachments=new Se.x,this._detachments=new Se.x,this._locationChanges=Fe.w0.EMPTY,this._backdropClickHandler=En=>this._backdropClick.next(En),this._backdropTransitionendHandler=En=>{this._disposeBackdrop(En.target)},this._keydownEvents=new Se.x,this._outsidePointerEvents=new Se.x,Qt.scrollStrategy&&(this._scrollStrategy=Qt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Qt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Oe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const vt=this._portalOutlet.attach(Oe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,te.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof vt?.onDestroy&&vt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),vt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Oe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Oe}dispose(){const Oe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Oe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Oe){Oe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Oe,this.hasAttached()&&(Oe.attach(this),this.updatePosition()))}updateSize(Oe){this._config={...this._config,...Oe},this._updateElementSize()}setDirection(Oe){this._config={...this._config,direction:Oe},this._updateElementDirection()}addPanelClass(Oe){this._pane&&this._toggleClasses(this._pane,Oe,!0)}removePanelClass(Oe){this._pane&&this._toggleClasses(this._pane,Oe,!1)}getDirection(){const Oe=this._config.direction;return Oe?"string"==typeof Oe?Oe:Oe.value:"ltr"}updateScrollStrategy(Oe){Oe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Oe,this.hasAttached()&&(Oe.attach(this),Oe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Oe=this._pane.style;Oe.width=(0,Pe.HM)(this._config.width),Oe.height=(0,Pe.HM)(this._config.height),Oe.minWidth=(0,Pe.HM)(this._config.minWidth),Oe.minHeight=(0,Pe.HM)(this._config.minHeight),Oe.maxWidth=(0,Pe.HM)(this._config.maxWidth),Oe.maxHeight=(0,Pe.HM)(this._config.maxHeight)}_togglePointerEvents(Oe){this._pane.style.pointerEvents=Oe?"":"none"}_attachBackdrop(){const Oe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Oe)})}):this._backdropElement.classList.add(Oe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Oe=this._backdropElement;if(Oe){if(this._animationsDisabled)return void this._disposeBackdrop(Oe);Oe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Oe.addEventListener("transitionend",this._backdropTransitionendHandler)}),Oe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Oe)},500))}}_toggleClasses(Oe,vt,Bt){const Qt=(0,Pe.Eq)(vt||[]).filter(mn=>!!mn);Qt.length&&(Bt?Oe.classList.add(...Qt):Oe.classList.remove(...Qt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Oe=this._ngZone.onStable.pipe((0,Ge.R)((0,bt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Oe.unsubscribe())})})}_disposeScrollStrategy(){const Oe=this._scrollStrategy;Oe&&(Oe.disable(),Oe.detach&&Oe.detach())}_disposeBackdrop(Oe){Oe&&(Oe.removeEventListener("click",this._backdropClickHandler),Oe.removeEventListener("transitionend",this._backdropTransitionendHandler),Oe.remove(),this._backdropElement===Oe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const at="cdk-overlay-connected-position-bounding-box",ee=/([A-Za-z%]+)$/;class ce{get positions(){return this._preferredPositions}constructor(Oe,vt,Bt,Qt,mn){this._viewportRuler=vt,this._document=Bt,this._platform=Qt,this._overlayContainer=mn,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Se.x,this._resizeSubscription=Fe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Oe)}attach(Oe){this._validatePositions(),Oe.hostElement.classList.add(at),this._overlayRef=Oe,this._boundingBox=Oe.hostElement,this._pane=Oe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Oe=this._originRect,vt=this._overlayRect,Bt=this._viewportRect,Qt=this._containerRect,mn=[];let Je;for(let Ee of this._preferredPositions){let xt=this._getOriginPoint(Oe,Qt,Ee),Rt=this._getOverlayPoint(xt,vt,Ee),dt=this._getOverlayFit(Rt,vt,Bt,Ee);if(dt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ee,xt);this._canFitWithFlexibleDimensions(dt,Rt,Bt)?mn.push({position:Ee,origin:xt,overlayRect:vt,boundingBoxRect:this._calculateBoundingBoxRect(xt,Ee)}):(!Je||Je.overlayFit.visibleArea<dt.visibleArea)&&(Je={overlayFit:dt,overlayPoint:Rt,originPoint:xt,position:Ee,overlayRect:vt})}if(mn.length){let Ee=null,xt=-1;for(const Rt of mn){const dt=Rt.boundingBoxRect.width*Rt.boundingBoxRect.height*(Rt.position.weight||1);dt>xt&&(xt=dt,Ee=Rt)}return this._isPushed=!1,void this._applyPosition(Ee.position,Ee.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Je.position,Je.originPoint);this._applyPosition(Je.position,Je.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&re(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(at),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Oe=this._lastPosition;if(Oe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const vt=this._getOriginPoint(this._originRect,this._containerRect,Oe);this._applyPosition(Oe,vt)}else this.apply()}withScrollableContainers(Oe){return this._scrollables=Oe,this}withPositions(Oe){return this._preferredPositions=Oe,-1===Oe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Oe){return this._viewportMargin=Oe,this}withFlexibleDimensions(Oe=!0){return this._hasFlexibleDimensions=Oe,this}withGrowAfterOpen(Oe=!0){return this._growAfterOpen=Oe,this}withPush(Oe=!0){return this._canPush=Oe,this}withLockedPosition(Oe=!0){return this._positionLocked=Oe,this}setOrigin(Oe){return this._origin=Oe,this}withDefaultOffsetX(Oe){return this._offsetX=Oe,this}withDefaultOffsetY(Oe){return this._offsetY=Oe,this}withTransformOriginOn(Oe){return this._transformOriginSelector=Oe,this}_getOriginPoint(Oe,vt,Bt){let Qt,mn;if("center"==Bt.originX)Qt=Oe.left+Oe.width/2;else{const Je=this._isRtl()?Oe.right:Oe.left,Ee=this._isRtl()?Oe.left:Oe.right;Qt="start"==Bt.originX?Je:Ee}return vt.left<0&&(Qt-=vt.left),mn="center"==Bt.originY?Oe.top+Oe.height/2:"top"==Bt.originY?Oe.top:Oe.bottom,vt.top<0&&(mn-=vt.top),{x:Qt,y:mn}}_getOverlayPoint(Oe,vt,Bt){let Qt,mn;return Qt="center"==Bt.overlayX?-vt.width/2:"start"===Bt.overlayX?this._isRtl()?-vt.width:0:this._isRtl()?0:-vt.width,mn="center"==Bt.overlayY?-vt.height/2:"top"==Bt.overlayY?0:-vt.height,{x:Oe.x+Qt,y:Oe.y+mn}}_getOverlayFit(Oe,vt,Bt,Qt){const mn=Ue(vt);let{x:Je,y:Ee}=Oe,xt=this._getOffset(Qt,"x"),Rt=this._getOffset(Qt,"y");xt&&(Je+=xt),Rt&&(Ee+=Rt);let On=0-Ee,Wn=Ee+mn.height-Bt.height,kn=this._subtractOverflows(mn.width,0-Je,Je+mn.width-Bt.width),Rn=this._subtractOverflows(mn.height,On,Wn),nr=kn*Rn;return{visibleArea:nr,isCompletelyWithinViewport:mn.width*mn.height===nr,fitsInViewportVertically:Rn===mn.height,fitsInViewportHorizontally:kn==mn.width}}_canFitWithFlexibleDimensions(Oe,vt,Bt){if(this._hasFlexibleDimensions){const Qt=Bt.bottom-vt.y,mn=Bt.right-vt.x,Je=Ne(this._overlayRef.getConfig().minHeight),Ee=Ne(this._overlayRef.getConfig().minWidth);return(Oe.fitsInViewportVertically||null!=Je&&Je<=Qt)&&(Oe.fitsInViewportHorizontally||null!=Ee&&Ee<=mn)}return!1}_pushOverlayOnScreen(Oe,vt,Bt){if(this._previousPushAmount&&this._positionLocked)return{x:Oe.x+this._previousPushAmount.x,y:Oe.y+this._previousPushAmount.y};const Qt=Ue(vt),mn=this._viewportRect,Je=Math.max(Oe.x+Qt.width-mn.width,0),Ee=Math.max(Oe.y+Qt.height-mn.height,0),xt=Math.max(mn.top-Bt.top-Oe.y,0),Rt=Math.max(mn.left-Bt.left-Oe.x,0);let dt=0,En=0;return dt=Qt.width<=mn.width?Rt||-Je:Oe.x<this._viewportMargin?mn.left-Bt.left-Oe.x:0,En=Qt.height<=mn.height?xt||-Ee:Oe.y<this._viewportMargin?mn.top-Bt.top-Oe.y:0,this._previousPushAmount={x:dt,y:En},{x:Oe.x+dt,y:Oe.y+En}}_applyPosition(Oe,vt){if(this._setTransformOrigin(Oe),this._setOverlayElementStyles(vt,Oe),this._setBoundingBoxStyles(vt,Oe),Oe.panelClass&&this._addPanelClasses(Oe.panelClass),this._lastPosition=Oe,this._positionChanges.observers.length){const Bt=this._getScrollVisibility(),Qt=new W(Oe,Bt);this._positionChanges.next(Qt)}this._isInitialRender=!1}_setTransformOrigin(Oe){if(!this._transformOriginSelector)return;const vt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Bt,Qt=Oe.overlayY;Bt="center"===Oe.overlayX?"center":this._isRtl()?"start"===Oe.overlayX?"right":"left":"start"===Oe.overlayX?"left":"right";for(let mn=0;mn<vt.length;mn++)vt[mn].style.transformOrigin=`${Bt} ${Qt}`}_calculateBoundingBoxRect(Oe,vt){const Bt=this._viewportRect,Qt=this._isRtl();let mn,Je,Ee,dt,En,On;if("top"===vt.overlayY)Je=Oe.y,mn=Bt.height-Je+this._viewportMargin;else if("bottom"===vt.overlayY)Ee=Bt.height-Oe.y+2*this._viewportMargin,mn=Bt.height-Ee+this._viewportMargin;else{const Wn=Math.min(Bt.bottom-Oe.y+Bt.top,Oe.y),kn=this._lastBoundingBoxSize.height;mn=2*Wn,Je=Oe.y-Wn,mn>kn&&!this._isInitialRender&&!this._growAfterOpen&&(Je=Oe.y-kn/2)}if("end"===vt.overlayX&&!Qt||"start"===vt.overlayX&&Qt)On=Bt.width-Oe.x+this._viewportMargin,dt=Oe.x-this._viewportMargin;else if("start"===vt.overlayX&&!Qt||"end"===vt.overlayX&&Qt)En=Oe.x,dt=Bt.right-Oe.x;else{const Wn=Math.min(Bt.right-Oe.x+Bt.left,Oe.x),kn=this._lastBoundingBoxSize.width;dt=2*Wn,En=Oe.x-Wn,dt>kn&&!this._isInitialRender&&!this._growAfterOpen&&(En=Oe.x-kn/2)}return{top:Je,left:En,bottom:Ee,right:On,width:dt,height:mn}}_setBoundingBoxStyles(Oe,vt){const Bt=this._calculateBoundingBoxRect(Oe,vt);!this._isInitialRender&&!this._growAfterOpen&&(Bt.height=Math.min(Bt.height,this._lastBoundingBoxSize.height),Bt.width=Math.min(Bt.width,this._lastBoundingBoxSize.width));const Qt={};if(this._hasExactPosition())Qt.top=Qt.left="0",Qt.bottom=Qt.right=Qt.maxHeight=Qt.maxWidth="",Qt.width=Qt.height="100%";else{const mn=this._overlayRef.getConfig().maxHeight,Je=this._overlayRef.getConfig().maxWidth;Qt.height=(0,Pe.HM)(Bt.height),Qt.top=(0,Pe.HM)(Bt.top),Qt.bottom=(0,Pe.HM)(Bt.bottom),Qt.width=(0,Pe.HM)(Bt.width),Qt.left=(0,Pe.HM)(Bt.left),Qt.right=(0,Pe.HM)(Bt.right),Qt.alignItems="center"===vt.overlayX?"center":"end"===vt.overlayX?"flex-end":"flex-start",Qt.justifyContent="center"===vt.overlayY?"center":"bottom"===vt.overlayY?"flex-end":"flex-start",mn&&(Qt.maxHeight=(0,Pe.HM)(mn)),Je&&(Qt.maxWidth=(0,Pe.HM)(Je))}this._lastBoundingBoxSize=Bt,re(this._boundingBox.style,Qt)}_resetBoundingBoxStyles(){re(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){re(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Oe,vt){const Bt={},Qt=this._hasExactPosition(),mn=this._hasFlexibleDimensions,Je=this._overlayRef.getConfig();if(Qt){const dt=this._viewportRuler.getViewportScrollPosition();re(Bt,this._getExactOverlayY(vt,Oe,dt)),re(Bt,this._getExactOverlayX(vt,Oe,dt))}else Bt.position="static";let Ee="",xt=this._getOffset(vt,"x"),Rt=this._getOffset(vt,"y");xt&&(Ee+=`translateX(${xt}px) `),Rt&&(Ee+=`translateY(${Rt}px)`),Bt.transform=Ee.trim(),Je.maxHeight&&(Qt?Bt.maxHeight=(0,Pe.HM)(Je.maxHeight):mn&&(Bt.maxHeight="")),Je.maxWidth&&(Qt?Bt.maxWidth=(0,Pe.HM)(Je.maxWidth):mn&&(Bt.maxWidth="")),re(this._pane.style,Bt)}_getExactOverlayY(Oe,vt,Bt){let Qt={top:"",bottom:""},mn=this._getOverlayPoint(vt,this._overlayRect,Oe);return this._isPushed&&(mn=this._pushOverlayOnScreen(mn,this._overlayRect,Bt)),"bottom"===Oe.overlayY?Qt.bottom=this._document.documentElement.clientHeight-(mn.y+this._overlayRect.height)+"px":Qt.top=(0,Pe.HM)(mn.y),Qt}_getExactOverlayX(Oe,vt,Bt){let Je,Qt={left:"",right:""},mn=this._getOverlayPoint(vt,this._overlayRect,Oe);return this._isPushed&&(mn=this._pushOverlayOnScreen(mn,this._overlayRect,Bt)),Je=this._isRtl()?"end"===Oe.overlayX?"left":"right":"end"===Oe.overlayX?"right":"left","right"===Je?Qt.right=this._document.documentElement.clientWidth-(mn.x+this._overlayRect.width)+"px":Qt.left=(0,Pe.HM)(mn.x),Qt}_getScrollVisibility(){const Oe=this._getOriginRect(),vt=this._pane.getBoundingClientRect(),Bt=this._scrollables.map(Qt=>Qt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Le(Oe,Bt),isOriginOutsideView:Ot(Oe,Bt),isOverlayClipped:Le(vt,Bt),isOverlayOutsideView:Ot(vt,Bt)}}_subtractOverflows(Oe,...vt){return vt.reduce((Bt,Qt)=>Bt-Math.max(Qt,0),Oe)}_getNarrowedViewportRect(){const Oe=this._document.documentElement.clientWidth,vt=this._document.documentElement.clientHeight,Bt=this._viewportRuler.getViewportScrollPosition();return{top:Bt.top+this._viewportMargin,left:Bt.left+this._viewportMargin,right:Bt.left+Oe-this._viewportMargin,bottom:Bt.top+vt-this._viewportMargin,width:Oe-2*this._viewportMargin,height:vt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Oe,vt){return"x"===vt?null==Oe.offsetX?this._offsetX:Oe.offsetX:null==Oe.offsetY?this._offsetY:Oe.offsetY}_validatePositions(){}_addPanelClasses(Oe){this._pane&&(0,Pe.Eq)(Oe).forEach(vt=>{""!==vt&&-1===this._appliedPanelClasses.indexOf(vt)&&(this._appliedPanelClasses.push(vt),this._pane.classList.add(vt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Oe=>{this._pane.classList.remove(Oe)}),this._appliedPanelClasses=[])}_getOriginRect(){const Oe=this._origin;if(Oe instanceof j.SBq)return Oe.nativeElement.getBoundingClientRect();if(Oe instanceof Element)return Oe.getBoundingClientRect();const vt=Oe.width||0,Bt=Oe.height||0;return{top:Oe.y,bottom:Oe.y+Bt,left:Oe.x,right:Oe.x+vt,height:Bt,width:vt}}}function re(pn,Oe){for(let vt in Oe)Oe.hasOwnProperty(vt)&&(pn[vt]=Oe[vt]);return pn}function Ne(pn){if("number"!=typeof pn&&null!=pn){const[Oe,vt]=pn.split(ee);return vt&&"px"!==vt?null:parseFloat(Oe)}return pn||null}function Ue(pn){return{top:Math.floor(pn.top),right:Math.floor(pn.right),bottom:Math.floor(pn.bottom),left:Math.floor(pn.left),width:Math.floor(pn.width),height:Math.floor(pn.height)}}const gn="cdk-global-overlay-wrapper";class _t{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Oe){const vt=Oe.getConfig();this._overlayRef=Oe,this._width&&!vt.width&&Oe.updateSize({width:this._width}),this._height&&!vt.height&&Oe.updateSize({height:this._height}),Oe.hostElement.classList.add(gn),this._isDisposed=!1}top(Oe=""){return this._bottomOffset="",this._topOffset=Oe,this._alignItems="flex-start",this}left(Oe=""){return this._xOffset=Oe,this._xPosition="left",this}bottom(Oe=""){return this._topOffset="",this._bottomOffset=Oe,this._alignItems="flex-end",this}right(Oe=""){return this._xOffset=Oe,this._xPosition="right",this}start(Oe=""){return this._xOffset=Oe,this._xPosition="start",this}end(Oe=""){return this._xOffset=Oe,this._xPosition="end",this}width(Oe=""){return this._overlayRef?this._overlayRef.updateSize({width:Oe}):this._width=Oe,this}height(Oe=""){return this._overlayRef?this._overlayRef.updateSize({height:Oe}):this._height=Oe,this}centerHorizontally(Oe=""){return this.left(Oe),this._xPosition="center",this}centerVertically(Oe=""){return this.top(Oe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Oe=this._overlayRef.overlayElement.style,vt=this._overlayRef.hostElement.style,Bt=this._overlayRef.getConfig(),{width:Qt,height:mn,maxWidth:Je,maxHeight:Ee}=Bt,xt=!("100%"!==Qt&&"100vw"!==Qt||Je&&"100%"!==Je&&"100vw"!==Je),Rt=!("100%"!==mn&&"100vh"!==mn||Ee&&"100%"!==Ee&&"100vh"!==Ee),dt=this._xPosition,En=this._xOffset,On="rtl"===this._overlayRef.getConfig().direction;let Wn="",kn="",Rn="";xt?Rn="flex-start":"center"===dt?(Rn="center",On?kn=En:Wn=En):On?"left"===dt||"end"===dt?(Rn="flex-end",Wn=En):("right"===dt||"start"===dt)&&(Rn="flex-start",kn=En):"left"===dt||"start"===dt?(Rn="flex-start",Wn=En):("right"===dt||"end"===dt)&&(Rn="flex-end",kn=En),Oe.position=this._cssPosition,Oe.marginLeft=xt?"0":Wn,Oe.marginTop=Rt?"0":this._topOffset,Oe.marginBottom=this._bottomOffset,Oe.marginRight=xt?"0":kn,vt.justifyContent=Rn,vt.alignItems=Rt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Oe=this._overlayRef.overlayElement.style,vt=this._overlayRef.hostElement,Bt=vt.style;vt.classList.remove(gn),Bt.justifyContent=Bt.alignItems=Oe.marginTop=Oe.marginBottom=Oe.marginLeft=Oe.marginRight=Oe.position="",this._overlayRef=null,this._isDisposed=!0}}let an=(()=>{class pn{constructor(vt,Bt,Qt,mn){this._viewportRuler=vt,this._document=Bt,this._platform=Qt,this._overlayContainer=mn}global(){return new _t}flexibleConnectedTo(vt){return new ce(vt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(y.rL),j.LFG(E.K0),j.LFG(z.t4),j.LFG(He))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})(),ft=0,Ut=(()=>{class pn{constructor(vt,Bt,Qt,mn,Je,Ee,xt,Rt,dt,En,On,Wn){this.scrollStrategies=vt,this._overlayContainer=Bt,this._componentFactoryResolver=Qt,this._positionBuilder=mn,this._keyboardDispatcher=Je,this._injector=Ee,this._ngZone=xt,this._document=Rt,this._directionality=dt,this._location=En,this._outsideClickDispatcher=On,this._animationsModuleType=Wn}create(vt){const Bt=this._createHostElement(),Qt=this._createPaneElement(Bt),mn=this._createPortalOutlet(Qt),Je=new f(vt);return Je.direction=Je.direction||this._directionality.value,new ct(mn,Bt,Qt,Je,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(vt){const Bt=this._document.createElement("div");return Bt.id="cdk-overlay-"+ft++,Bt.classList.add("cdk-overlay-pane"),vt.appendChild(Bt),Bt}_createHostElement(){const vt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(vt),vt}_createPortalOutlet(vt){return this._appRef||(this._appRef=this._injector.get(j.z2F)),new Ae.u0(vt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.LFG(tt),j.LFG(He),j.LFG(j._Vd),j.LFG(an),j.LFG(Ke),j.LFG(j.zs3),j.LFG(j.R0b),j.LFG(E.K0),j.LFG(K.Is),j.LFG(E.Ye),j.LFG(Tn),j.LFG(j.QbO,8))},pn.\u0275prov=j.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();const Xt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],fn=new j.OlP("cdk-connected-overlay-scroll-strategy");let jn=(()=>{class pn{constructor(vt){this.elementRef=vt}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.Y36(j.SBq))},pn.\u0275dir=j.lG2({type:pn,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),pn})(),xn=(()=>{class pn{get offsetX(){return this._offsetX}set offsetX(vt){this._offsetX=vt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(vt){this._offsetY=vt,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(vt){this._hasBackdrop=(0,Pe.Ig)(vt)}get lockPosition(){return this._lockPosition}set lockPosition(vt){this._lockPosition=(0,Pe.Ig)(vt)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(vt){this._flexibleDimensions=(0,Pe.Ig)(vt)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(vt){this._growAfterOpen=(0,Pe.Ig)(vt)}get push(){return this._push}set push(vt){this._push=(0,Pe.Ig)(vt)}constructor(vt,Bt,Qt,mn,Je){this._overlay=vt,this._dir=Je,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Fe.w0.EMPTY,this._attachSubscription=Fe.w0.EMPTY,this._detachSubscription=Fe.w0.EMPTY,this._positionSubscription=Fe.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new j.vpe,this.positionChange=new j.vpe,this.attach=new j.vpe,this.detach=new j.vpe,this.overlayKeydown=new j.vpe,this.overlayOutsideClick=new j.vpe,this._templatePortal=new Ae.UE(Bt,Qt),this._scrollStrategyFactory=mn,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(vt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),vt.origin&&this.open&&this._position.apply()),vt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Xt);const vt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=vt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=vt.detachments().subscribe(()=>this.detach.emit()),vt.keydownEvents().subscribe(Bt=>{this.overlayKeydown.next(Bt),Bt.keyCode===Zt.hY&&!this.disableClose&&!(0,Zt.Vb)(Bt)&&(Bt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Bt=>{this.overlayOutsideClick.next(Bt)})}_buildConfig(){const vt=this._position=this.positionStrategy||this._createPositionStrategy(),Bt=new f({direction:this._dir,positionStrategy:vt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Bt.width=this.width),(this.height||0===this.height)&&(Bt.height=this.height),(this.minWidth||0===this.minWidth)&&(Bt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Bt.minHeight=this.minHeight),this.backdropClass&&(Bt.backdropClass=this.backdropClass),this.panelClass&&(Bt.panelClass=this.panelClass),Bt}_updatePositionStrategy(vt){const Bt=this.positions.map(Qt=>({originX:Qt.originX,originY:Qt.originY,overlayX:Qt.overlayX,overlayY:Qt.overlayY,offsetX:Qt.offsetX||this.offsetX,offsetY:Qt.offsetY||this.offsetY,panelClass:Qt.panelClass||void 0}));return vt.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Bt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const vt=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(vt),vt}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(vt=>{this.backdropClick.emit(vt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,ie.o)(()=>this.positionChange.observers.length>0)).subscribe(vt=>{this.positionChange.emit(vt),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return pn.\u0275fac=function(vt){return new(vt||pn)(j.Y36(Ut),j.Y36(j.Rgc),j.Y36(j.s_b),j.Y36(fn),j.Y36(K.Is,8))},pn.\u0275dir=j.lG2({type:pn,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[j.TTD]}),pn})();const Qn={provide:fn,deps:[Ut],useFactory:function er(pn){return()=>pn.scrollStrategies.reposition()}};let Nn=(()=>{class pn{}return pn.\u0275fac=function(vt){return new(vt||pn)},pn.\u0275mod=j.oAB({type:pn}),pn.\u0275inj=j.cJS({providers:[Ut,Qn],imports:[K.vT,Ae.eL,y.Cl,y.Cl]}),pn})()},83353:(Ln,it,N)=>{"use strict";N.d(it,{Mq:()=>bt,Oy:()=>Ot,_i:()=>Zt,ht:()=>yt,i$:()=>Ae,kV:()=>Nt,sA:()=>en,t4:()=>Pe,ud:()=>z});var y=N(94650),E=N(36895);let j;try{j=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j=!1}let ie,Se,Fe,Wt,Pe=(()=>{class Le{constructor(tt){this._platformId=tt,this.isBrowser=this._platformId?(0,E.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!j)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Le.\u0275fac=function(tt){return new(tt||Le)(y.LFG(y.Lbi))},Le.\u0275prov=y.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),z=(()=>{class Le{}return Le.\u0275fac=function(tt){return new(tt||Le)},Le.\u0275mod=y.oAB({type:Le}),Le.\u0275inj=y.cJS({}),Le})();function Ae(Le){return function K(){if(null==ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ie=!0}))}finally{ie=ie||!1}return ie}()?Le:!!Le.capture}function bt(){if(null==Fe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fe=!1,Fe;if("scrollBehavior"in document.documentElement.style)Fe=!0;else{const Le=Element.prototype.scrollTo;Fe=!!Le&&!/\{\s*\[native code\]\s*\}/.test(Le.toString())}}return Fe}function Zt(){if("object"!=typeof document||!document)return 0;if(null==Se){const Le=document.createElement("div"),Me=Le.style;Le.dir="rtl",Me.width="1px",Me.overflow="auto",Me.visibility="hidden",Me.pointerEvents="none",Me.position="absolute";const tt=document.createElement("div"),f=tt.style;f.width="2px",f.height="1px",Le.appendChild(tt),document.body.appendChild(Le),Se=0,0===Le.scrollLeft&&(Le.scrollLeft=1,Se=0===Le.scrollLeft?1:2),Le.remove()}return Se}function Nt(Le){if(function ye(){if(null==Wt){const Le=typeof document<"u"?document.head:null;Wt=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return Wt}()){const Me=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Me instanceof ShadowRoot)return Me}return null}function yt(){let Le=typeof document<"u"&&document?document.activeElement:null;for(;Le&&Le.shadowRoot;){const Me=Le.shadowRoot.activeElement;if(Me===Le)break;Le=Me}return Le}function en(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function Ot(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},84080:(Ln,it,N)=>{"use strict";N.d(it,{C5:()=>K,Pl:()=>yt,UE:()=>Ae,eL:()=>Ot,en:()=>Fe,u0:()=>Zt});var y=N(94650),E=N(36895);class ie{attach(tt){return this._attachedHost=tt,tt.attach(this)}detach(){let tt=this._attachedHost;null!=tt&&(this._attachedHost=null,tt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(tt){this._attachedHost=tt}}class K extends ie{constructor(tt,f,k,T,W){super(),this.component=tt,this.viewContainerRef=f,this.injector=k,this.componentFactoryResolver=T,this.projectableNodes=W}}class Ae extends ie{constructor(tt,f,k,T){super(),this.templateRef=tt,this.viewContainerRef=f,this.context=k,this.injector=T}get origin(){return this.templateRef.elementRef}attach(tt,f=this.context){return this.context=f,super.attach(tt)}detach(){return this.context=void 0,super.detach()}}class Se extends ie{constructor(tt){super(),this.element=tt instanceof y.SBq?tt.nativeElement:tt}}class Fe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(tt){return tt instanceof K?(this._attachedPortal=tt,this.attachComponentPortal(tt)):tt instanceof Ae?(this._attachedPortal=tt,this.attachTemplatePortal(tt)):this.attachDomPortal&&tt instanceof Se?(this._attachedPortal=tt,this.attachDomPortal(tt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(tt){this._disposeFn=tt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Zt extends Fe{constructor(tt,f,k,T,W){super(),this.outletElement=tt,this._componentFactoryResolver=f,this._appRef=k,this._defaultInjector=T,this.attachDomPortal=J=>{const R=J.element,ge=this._document.createComment("dom-portal");R.parentNode.insertBefore(ge,R),this.outletElement.appendChild(R),this._attachedPortal=J,super.setDisposeFn(()=>{ge.parentNode&&ge.parentNode.replaceChild(R,ge)})},this._document=W}attachComponentPortal(tt){const k=(tt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(tt.component);let T;return tt.viewContainerRef?(T=tt.viewContainerRef.createComponent(k,tt.viewContainerRef.length,tt.injector||tt.viewContainerRef.injector,tt.projectableNodes||void 0),this.setDisposeFn(()=>T.destroy())):(T=k.create(tt.injector||this._defaultInjector||y.zs3.NULL),this._appRef.attachView(T.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(T.hostView),T.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(T)),this._attachedPortal=tt,T}attachTemplatePortal(tt){let f=tt.viewContainerRef,k=f.createEmbeddedView(tt.templateRef,tt.context,{injector:tt.injector});return k.rootNodes.forEach(T=>this.outletElement.appendChild(T)),k.detectChanges(),this.setDisposeFn(()=>{let T=f.indexOf(k);-1!==T&&f.remove(T)}),this._attachedPortal=tt,k}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(tt){return tt.hostView.rootNodes[0]}}let yt=(()=>{class Me extends Fe{constructor(f,k,T){super(),this._componentFactoryResolver=f,this._viewContainerRef=k,this._isInitialized=!1,this.attached=new y.vpe,this.attachDomPortal=W=>{const J=W.element,R=this._document.createComment("dom-portal");W.setAttachedHost(this),J.parentNode.insertBefore(R,J),this._getRootNode().appendChild(J),this._attachedPortal=W,super.setDisposeFn(()=>{R.parentNode&&R.parentNode.replaceChild(J,R)})},this._document=T}get portal(){return this._attachedPortal}set portal(f){this.hasAttached()&&!f&&!this._isInitialized||(this.hasAttached()&&super.detach(),f&&super.attach(f),this._attachedPortal=f||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(f){f.setAttachedHost(this);const k=null!=f.viewContainerRef?f.viewContainerRef:this._viewContainerRef,W=(f.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(f.component),J=k.createComponent(W,k.length,f.injector||k.injector,f.projectableNodes||void 0);return k!==this._viewContainerRef&&this._getRootNode().appendChild(J.hostView.rootNodes[0]),super.setDisposeFn(()=>J.destroy()),this._attachedPortal=f,this._attachedRef=J,this.attached.emit(J),J}attachTemplatePortal(f){f.setAttachedHost(this);const k=this._viewContainerRef.createEmbeddedView(f.templateRef,f.context,{injector:f.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=f,this._attachedRef=k,this.attached.emit(k),k}_getRootNode(){const f=this._viewContainerRef.element.nativeElement;return f.nodeType===f.ELEMENT_NODE?f:f.parentNode}}return Me.\u0275fac=function(f){return new(f||Me)(y.Y36(y._Vd),y.Y36(y.s_b),y.Y36(E.K0))},Me.\u0275dir=y.lG2({type:Me,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.qOj]}),Me})(),Ot=(()=>{class Me{}return Me.\u0275fac=function(f){return new(f||Me)},Me.\u0275mod=y.oAB({type:Me}),Me.\u0275inj=y.cJS({}),Me})()},30531:(Ln,it,N)=>{"use strict";N.d(it,{PQ:()=>ge,ZD:()=>Et,mF:()=>R,Cl:()=>gn,rL:()=>Tn});var y=N(21281),E=N(94650),j=N(77579),Pe=N(39646),z=N(69751),Qe=N(54968),te=N(84408),Ge=N(50727);const ie={schedule(_t){let an=requestAnimationFrame,ft=cancelAnimationFrame;const{delegate:Ut}=ie;Ut&&(an=Ut.requestAnimationFrame,ft=Ut.cancelAnimationFrame);const Xt=an(fn=>{ft=void 0,_t(fn)});return new Ge.w0(()=>ft?.(Xt))},requestAnimationFrame(..._t){const{delegate:an}=ie;return(an?.requestAnimationFrame||requestAnimationFrame)(..._t)},cancelAnimationFrame(..._t){const{delegate:an}=ie;return(an?.cancelAnimationFrame||cancelAnimationFrame)(..._t)},delegate:void 0};var Ae=N(97565);const Fe=new class Se extends Ae.v{flush(an){this._active=!0;const ft=this._scheduled;this._scheduled=void 0;const{actions:Ut}=this;let Xt;an=an||Ut.shift();do{if(Xt=an.execute(an.state,an.delay))break}while((an=Ut[0])&&an.id===ft&&Ut.shift());if(this._active=!1,Xt){for(;(an=Ut[0])&&an.id===ft&&Ut.shift();)an.unsubscribe();throw Xt}}}(class K extends te.o{constructor(an,ft){super(an,ft),this.scheduler=an,this.work=ft}requestAsyncId(an,ft,Ut=0){return null!==Ut&&Ut>0?super.requestAsyncId(an,ft,Ut):(an.actions.push(this),an._scheduled||(an._scheduled=ie.requestAnimationFrame(()=>an.flush(void 0))))}recycleAsyncId(an,ft,Ut=0){var Xt;if(null!=Ut?Ut>0:this.delay>0)return super.recycleAsyncId(an,ft,Ut);const{actions:fn}=an;null!=ft&&(null===(Xt=fn[fn.length-1])||void 0===Xt?void 0:Xt.id)!==ft&&(ie.cancelAnimationFrame(ft),an._scheduled=void 0)}});var Zt=N(53101),Wt=N(23601),ye=N(39300),Nt=N(82722),yt=N(68675),en=N(83353),Ot=N(36895),Le=N(40445);const Me=["contentWrapper"],tt=["*"],f=new E.OlP("VIRTUAL_SCROLL_STRATEGY");let R=(()=>{class _t{constructor(ft,Ut,Xt){this._ngZone=ft,this._platform=Ut,this._scrolled=new j.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xt}register(ft){this.scrollContainers.has(ft)||this.scrollContainers.set(ft,ft.elementScrolled().subscribe(()=>this._scrolled.next(ft)))}deregister(ft){const Ut=this.scrollContainers.get(ft);Ut&&(Ut.unsubscribe(),this.scrollContainers.delete(ft))}scrolled(ft=20){return this._platform.isBrowser?new z.y(Ut=>{this._globalSubscription||this._addGlobalListener();const Xt=ft>0?this._scrolled.pipe((0,Wt.e)(ft)).subscribe(Ut):this._scrolled.subscribe(Ut);return this._scrolledCount++,()=>{Xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Pe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ft,Ut)=>this.deregister(Ut)),this._scrolled.complete()}ancestorScrolled(ft,Ut){const Xt=this.getAncestorScrollContainers(ft);return this.scrolled(Ut).pipe((0,ye.h)(fn=>!fn||Xt.indexOf(fn)>-1))}getAncestorScrollContainers(ft){const Ut=[];return this.scrollContainers.forEach((Xt,fn)=>{this._scrollableContainsElement(fn,ft)&&Ut.push(fn)}),Ut}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ft,Ut){let Xt=(0,y.fI)(Ut),fn=ft.getElementRef().nativeElement;do{if(Xt==fn)return!0}while(Xt=Xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ft=this._getWindow();return(0,Qe.R)(ft.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return _t.\u0275fac=function(ft){return new(ft||_t)(E.LFG(E.R0b),E.LFG(en.t4),E.LFG(Ot.K0,8))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),ge=(()=>{class _t{constructor(ft,Ut,Xt,fn){this.elementRef=ft,this.scrollDispatcher=Ut,this.ngZone=Xt,this.dir=fn,this._destroyed=new j.x,this._elementScrolled=new z.y(jn=>this.ngZone.runOutsideAngular(()=>(0,Qe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Nt.R)(this._destroyed)).subscribe(jn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ft){const Ut=this.elementRef.nativeElement,Xt=this.dir&&"rtl"==this.dir.value;null==ft.left&&(ft.left=Xt?ft.end:ft.start),null==ft.right&&(ft.right=Xt?ft.start:ft.end),null!=ft.bottom&&(ft.top=Ut.scrollHeight-Ut.clientHeight-ft.bottom),Xt&&0!=(0,en._i)()?(null!=ft.left&&(ft.right=Ut.scrollWidth-Ut.clientWidth-ft.left),2==(0,en._i)()?ft.left=ft.right:1==(0,en._i)()&&(ft.left=ft.right?-ft.right:ft.right)):null!=ft.right&&(ft.left=Ut.scrollWidth-Ut.clientWidth-ft.right),this._applyScrollToOptions(ft)}_applyScrollToOptions(ft){const Ut=this.elementRef.nativeElement;(0,en.Mq)()?Ut.scrollTo(ft):(null!=ft.top&&(Ut.scrollTop=ft.top),null!=ft.left&&(Ut.scrollLeft=ft.left))}measureScrollOffset(ft){const Ut="left",fn=this.elementRef.nativeElement;if("top"==ft)return fn.scrollTop;if("bottom"==ft)return fn.scrollHeight-fn.clientHeight-fn.scrollTop;const jn=this.dir&&"rtl"==this.dir.value;return"start"==ft?ft=jn?"right":Ut:"end"==ft&&(ft=jn?Ut:"right"),jn&&2==(0,en._i)()?ft==Ut?fn.scrollWidth-fn.clientWidth-fn.scrollLeft:fn.scrollLeft:jn&&1==(0,en._i)()?ft==Ut?fn.scrollLeft+fn.scrollWidth-fn.clientWidth:-fn.scrollLeft:ft==Ut?fn.scrollLeft:fn.scrollWidth-fn.clientWidth-fn.scrollLeft}}return _t.\u0275fac=function(ft){return new(ft||_t)(E.Y36(E.SBq),E.Y36(R),E.Y36(E.R0b),E.Y36(Le.Is,8))},_t.\u0275dir=E.lG2({type:_t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),_t})(),Tn=(()=>{class _t{constructor(ft,Ut,Xt){this._platform=ft,this._change=new j.x,this._changeListener=fn=>{this._change.next(fn)},this._document=Xt,Ut.runOutsideAngular(()=>{if(ft.isBrowser){const fn=this._getWindow();fn.addEventListener("resize",this._changeListener),fn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ft=this._getWindow();ft.removeEventListener("resize",this._changeListener),ft.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ft={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ft}getViewportRect(){const ft=this.getViewportScrollPosition(),{width:Ut,height:Xt}=this.getViewportSize();return{top:ft.top,left:ft.left,bottom:ft.top+Xt,right:ft.left+Ut,height:Xt,width:Ut}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ft=this._document,Ut=this._getWindow(),Xt=ft.documentElement,fn=Xt.getBoundingClientRect();return{top:-fn.top||ft.body.scrollTop||Ut.scrollY||Xt.scrollTop||0,left:-fn.left||ft.body.scrollLeft||Ut.scrollX||Xt.scrollLeft||0}}change(ft=20){return ft>0?this._change.pipe((0,Wt.e)(ft)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ft=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ft.innerWidth,height:ft.innerHeight}:{width:0,height:0}}}return _t.\u0275fac=function(ft){return new(ft||_t)(E.LFG(en.t4),E.LFG(E.R0b),E.LFG(Ot.K0,8))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();const He=new E.OlP("VIRTUAL_SCROLLABLE");let ct=(()=>{class _t extends ge{constructor(ft,Ut,Xt,fn){super(ft,Ut,Xt,fn)}measureViewportSize(ft){const Ut=this.elementRef.nativeElement;return"horizontal"===ft?Ut.clientWidth:Ut.clientHeight}}return _t.\u0275fac=function(ft){return new(ft||_t)(E.Y36(E.SBq),E.Y36(R),E.Y36(E.R0b),E.Y36(Le.Is,8))},_t.\u0275dir=E.lG2({type:_t,features:[E.qOj]}),_t})();const ee=typeof requestAnimationFrame<"u"?Fe:Zt.E;let ce=(()=>{class _t extends ct{get orientation(){return this._orientation}set orientation(ft){this._orientation!==ft&&(this._orientation=ft,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(ft){this._appendOnly=(0,y.Ig)(ft)}constructor(ft,Ut,Xt,fn,jn,xn,er,Qn){super(ft,xn,Xt,jn),this.elementRef=ft,this._changeDetectorRef=Ut,this._scrollStrategy=fn,this.scrollable=Qn,this._platform=(0,E.f3M)(en.t4),this._detachedSubject=new j.x,this._renderedRangeSubject=new j.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new z.y(Nn=>this._scrollStrategy.scrolledIndexChange.subscribe(Dr=>Promise.resolve().then(()=>this.ngZone.run(()=>Nn.next(Dr))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ge.w0.EMPTY,this._viewportChanges=er.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,yt.O)(null),(0,Wt.e)(0,ee)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(ft){this.ngZone.runOutsideAngular(()=>{this._forOf=ft,this._forOf.dataStream.pipe((0,Nt.R)(this._detachedSubject)).subscribe(Ut=>{const Xt=Ut.length;Xt!==this._dataLength&&(this._dataLength=Xt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(ft){return this.getElementRef().nativeElement.getBoundingClientRect()[ft]}setTotalContentSize(ft){this._totalContentSize!==ft&&(this._totalContentSize=ft,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(ft){(function at(_t,an){return _t.start==an.start&&_t.end==an.end})(this._renderedRange,ft)||(this.appendOnly&&(ft={start:0,end:Math.max(this._renderedRange.end,ft.end)}),this._renderedRangeSubject.next(this._renderedRange=ft),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(ft,Ut="to-start"){ft=this.appendOnly&&"to-start"===Ut?0:ft;const fn="horizontal"==this.orientation,jn=fn?"X":"Y";let er=`translate${jn}(${Number((fn&&this.dir&&"rtl"==this.dir.value?-1:1)*ft)}px)`;this._renderedContentOffset=ft,"to-end"===Ut&&(er+=` translate${jn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=er&&(this._renderedContentTransform=er,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(ft,Ut="auto"){const Xt={behavior:Ut};"horizontal"===this.orientation?Xt.start=ft:Xt.top=ft,this.scrollable.scrollTo(Xt)}scrollToIndex(ft,Ut="auto"){this._scrollStrategy.scrollToIndex(ft,Ut)}measureScrollOffset(ft){let Ut;return Ut=this.scrollable==this?Xt=>super.measureScrollOffset(Xt):Xt=>this.scrollable.measureScrollOffset(Xt),Math.max(0,Ut(ft??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(ft){let Ut;const jn="rtl"==this.dir?.value;Ut="start"==ft?jn?"right":"left":"end"==ft?jn?"left":"right":ft||("horizontal"===this.orientation?"left":"top");const xn=this.scrollable.measureBoundingClientRectWithScrollOffset(Ut);return this.elementRef.nativeElement.getBoundingClientRect()[Ut]-xn}measureRenderedContentSize(){const ft=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?ft.offsetWidth:ft.offsetHeight}measureRangeSize(ft){return this._forOf?this._forOf.measureRangeSize(ft,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(ft){ft&&this._runAfterChangeDetection.push(ft),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const ft=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const Ut of ft)Ut()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return _t.\u0275fac=function(ft){return new(ft||_t)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(f,8),E.Y36(Le.Is,8),E.Y36(R),E.Y36(Tn),E.Y36(He,8))},_t.\u0275cmp=E.Xpm({type:_t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(ft,Ut){if(1&ft&&E.Gf(Me,7),2&ft){let Xt;E.iGM(Xt=E.CRH())&&(Ut._contentWrapper=Xt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(ft,Ut){2&ft&&E.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===Ut.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Ut.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[E._Bn([{provide:ge,useFactory:(an,ft)=>an||ft,deps:[[new E.FiY,new E.tBr(He)],_t]}]),E.qOj,E.jDz],ngContentSelectors:tt,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(ft,Ut){1&ft&&(E.F$t(),E.TgZ(0,"div",0,1),E.Hsn(2),E.qZA(),E._UZ(3,"div",2)),2&ft&&(E.xp6(3),E.Udp("width",Ut._totalContentWidth)("height",Ut._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),_t})(),Et=(()=>{class _t{}return _t.\u0275fac=function(ft){return new(ft||_t)},_t.\u0275mod=E.oAB({type:_t}),_t.\u0275inj=E.cJS({}),_t})(),gn=(()=>{class _t{}return _t.\u0275fac=function(ft){return new(ft||_t)},_t.\u0275mod=E.oAB({type:_t}),_t.\u0275inj=E.cJS({imports:[Le.vT,Et,ce,Le.vT,Et]}),_t})()},36895:(Ln,it,N)=>{"use strict";N.d(it,{Do:()=>yt,ED:()=>Mi,EM:()=>Kr,HT:()=>Pe,JF:()=>vi,K0:()=>Qe,Mn:()=>ct,Mx:()=>mr,NF:()=>Sn,O5:()=>Ni,PC:()=>pe,PM:()=>Hn,RF:()=>io,S$:()=>Wt,Tn:()=>J,UT:()=>at,V_:()=>ie,Ye:()=>en,Zx:()=>mi,ax:()=>di,b0:()=>Nt,bD:()=>Be,ez:()=>ne,mk:()=>sr,n9:()=>to,ol:()=>He,p6:()=>xt,q:()=>j,qS:()=>Kn,sg:()=>di,tP:()=>B,uU:()=>Ai,w_:()=>z,x:()=>W});var y=N(94650);let E=null;function j(){return E}function Pe(Y){E||(E=Y)}class z{}const Qe=new y.OlP("DocumentToken");let te=(()=>{class Y{historyGo(Z){throw new Error("Not implemented")}}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275prov=y.Yz7({token:Y,factory:function(){return function Ge(){return(0,y.LFG)(K)}()},providedIn:"platform"}),Y})();const ie=new y.OlP("Location Initialized");let K=(()=>{class Y extends te{constructor(Z){super(),this._doc=Z,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(Z){const Re=j().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("popstate",Z,!1),()=>Re.removeEventListener("popstate",Z)}onHashChange(Z){const Re=j().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("hashchange",Z,!1),()=>Re.removeEventListener("hashchange",Z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Z){this._location.pathname=Z}pushState(Z,Re,At){Ae()?this._history.pushState(Z,Re,At):this._location.hash=At}replaceState(Z,Re,At){Ae()?this._history.replaceState(Z,Re,At):this._location.hash=At}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.LFG(Qe))},Y.\u0275prov=y.Yz7({token:Y,factory:function(){return function Se(){return new K((0,y.LFG)(Qe))}()},providedIn:"platform"}),Y})();function Ae(){return!!window.history.pushState}function Fe(Y,me){if(0==Y.length)return me;if(0==me.length)return Y;let Z=0;return Y.endsWith("/")&&Z++,me.startsWith("/")&&Z++,2==Z?Y+me.substring(1):1==Z?Y+me:Y+"/"+me}function bt(Y){const me=Y.match(/#|\?|$/),Z=me&&me.index||Y.length;return Y.slice(0,Z-("/"===Y[Z-1]?1:0))+Y.slice(Z)}function Zt(Y){return Y&&"?"!==Y[0]?"?"+Y:Y}let Wt=(()=>{class Y{historyGo(Z){throw new Error("Not implemented")}}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275prov=y.Yz7({token:Y,factory:function(){return(0,y.f3M)(Nt)},providedIn:"root"}),Y})();const ye=new y.OlP("appBaseHref");let Nt=(()=>{class Y extends Wt{constructor(Z,Re){super(),this._platformLocation=Z,this._removeListenerFns=[],this._baseHref=Re??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return Fe(this._baseHref,Z)}path(Z=!1){const Re=this._platformLocation.pathname+Zt(this._platformLocation.search),At=this._platformLocation.hash;return At&&Z?`${Re}${At}`:Re}pushState(Z,Re,At,wn){const Fn=this.prepareExternalUrl(At+Zt(wn));this._platformLocation.pushState(Z,Re,Fn)}replaceState(Z,Re,At,wn){const Fn=this.prepareExternalUrl(At+Zt(wn));this._platformLocation.replaceState(Z,Re,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.LFG(te),y.LFG(ye,8))},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),yt=(()=>{class Y extends Wt{constructor(Z,Re){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=Re&&(this._baseHref=Re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let Re=this._platformLocation.hash;return null==Re&&(Re="#"),Re.length>0?Re.substring(1):Re}prepareExternalUrl(Z){const Re=Fe(this._baseHref,Z);return Re.length>0?"#"+Re:Re}pushState(Z,Re,At,wn){let Fn=this.prepareExternalUrl(At+Zt(wn));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.pushState(Z,Re,Fn)}replaceState(Z,Re,At,wn){let Fn=this.prepareExternalUrl(At+Zt(wn));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.replaceState(Z,Re,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.LFG(te),y.LFG(ye,8))},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),en=(()=>{class Y{constructor(Z){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Z;const Re=this._locationStrategy.getBaseHref();this._basePath=function tt(Y){if(new RegExp("^(https?:)?//").test(Y)){const[,Z]=Y.split(/\/\/[^\/]+/);return Z}return Y}(bt(Me(Re))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Z=!1){return this.normalize(this._locationStrategy.path(Z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Z,Re=""){return this.path()==this.normalize(Z+Zt(Re))}normalize(Z){return Y.stripTrailingSlash(function Le(Y,me){if(!Y||!me.startsWith(Y))return me;const Z=me.substring(Y.length);return""===Z||["/",";","?","#"].includes(Z[0])?Z:me}(this._basePath,Me(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._locationStrategy.prepareExternalUrl(Z)}go(Z,Re="",At=null){this._locationStrategy.pushState(At,"",Z,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Zt(Re)),At)}replaceState(Z,Re="",At=null){this._locationStrategy.replaceState(At,"",Z,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Zt(Re)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Z=0){this._locationStrategy.historyGo?.(Z)}onUrlChange(Z){return this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Re=>{this._notifyUrlChangeListeners(Re.url,Re.state)})),()=>{const Re=this._urlChangeListeners.indexOf(Z);this._urlChangeListeners.splice(Re,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Z="",Re){this._urlChangeListeners.forEach(At=>At(Z,Re))}subscribe(Z,Re,At){return this._subject.subscribe({next:Z,error:Re,complete:At})}}return Y.normalizeQueryParams=Zt,Y.joinWithSlash=Fe,Y.stripTrailingSlash=bt,Y.\u0275fac=function(Z){return new(Z||Y)(y.LFG(Wt))},Y.\u0275prov=y.Yz7({token:Y,factory:function(){return function Ot(){return new en((0,y.LFG)(Wt))}()},providedIn:"root"}),Y})();function Me(Y){return Y.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Percent=1]="Percent",k[k.Currency=2]="Currency",k[k.Scientific=3]="Scientific",k))(),W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),R=(()=>((R=R||{})[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function He(Y,me,Z){const Re=(0,y.cg1)(Y),wn=Qn([Re[y.wAp.DayPeriodsFormat],Re[y.wAp.DayPeriodsStandalone]],me);return Qn(wn,Z)}function ct(Y,me,Z){const Re=(0,y.cg1)(Y),wn=Qn([Re[y.wAp.DaysFormat],Re[y.wAp.DaysStandalone]],me);return Qn(wn,Z)}function at(Y,me,Z){const Re=(0,y.cg1)(Y),wn=Qn([Re[y.wAp.MonthsFormat],Re[y.wAp.MonthsStandalone]],me);return Qn(wn,Z)}function Ne(Y,me){return Qn((0,y.cg1)(Y)[y.wAp.DateFormat],me)}function Ue(Y,me){return Qn((0,y.cg1)(Y)[y.wAp.TimeFormat],me)}function ht(Y,me){return Qn((0,y.cg1)(Y)[y.wAp.DateTimeFormat],me)}function Et(Y,me){const Z=(0,y.cg1)(Y),Re=Z[y.wAp.NumberSymbols][me];if(typeof Re>"u"){if(me===ge.CurrencyDecimal)return Z[y.wAp.NumberSymbols][ge.Decimal];if(me===ge.CurrencyGroup)return Z[y.wAp.NumberSymbols][ge.Group]}return Re}function fn(Y){if(!Y[y.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Y[y.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qn(Y,me){for(let Z=me;Z>-1;Z--)if(typeof Y[Z]<"u")return Y[Z];throw new Error("Locale data API: locale data undefined")}function Nn(Y){const[me,Z]=Y.split(":");return{hours:+me,minutes:+Z}}const vt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bt={},Qt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mn=(()=>((mn=mn||{})[mn.Short=0]="Short",mn[mn.ShortGMT=1]="ShortGMT",mn[mn.Long=2]="Long",mn[mn.Extended=3]="Extended",mn))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),Ee=(()=>((Ee=Ee||{})[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee))();function xt(Y,me,Z,Re){let At=function ln(Y){if(ot(Y))return Y;if("number"==typeof Y&&!isNaN(Y))return new Date(Y);if("string"==typeof Y){if(Y=Y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Y)){const[At,wn=1,Fn=1]=Y.split("-").map(br=>+br);return Rt(At,wn-1,Fn)}const Z=parseFloat(Y);if(!isNaN(Y-Z))return new Date(Z);let Re;if(Re=Y.match(vt))return function qt(Y){const me=new Date(0);let Z=0,Re=0;const At=Y[8]?me.setUTCFullYear:me.setFullYear,wn=Y[8]?me.setUTCHours:me.setHours;Y[9]&&(Z=Number(Y[9]+Y[10]),Re=Number(Y[9]+Y[11])),At.call(me,Number(Y[1]),Number(Y[2])-1,Number(Y[3]));const Fn=Number(Y[4]||0)-Z,br=Number(Y[5]||0)-Re,qr=Number(Y[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(Y[7]||0)));return wn.call(me,Fn,br,qr,Nr),me}(Re)}const me=new Date(Y);if(!ot(me))throw new Error(`Unable to convert "${Y}" into a date`);return me}(Y);me=dt(Z,me)||me;let br,Fn=[];for(;me;){if(br=Qt.exec(me),!br){Fn.push(me);break}{Fn=Fn.concat(br.slice(1));const li=Fn.pop();if(!li)break;me=li}}let qr=At.getTimezoneOffset();Re&&(qr=xe(Re,qr),At=function Yt(Y,me,Z){const Re=Z?-1:1,At=Y.getTimezoneOffset();return function Ct(Y,me){return(Y=new Date(Y.getTime())).setMinutes(Y.getMinutes()+me),Y}(Y,Re*(xe(me,At)-At))}(At,Re,!0));let Nr="";return Fn.forEach(li=>{const Hr=function bn(Y){if(Tt[Y])return Tt[Y];let me;switch(Y){case"G":case"GG":case"GGG":me=nr(Ee.Eras,J.Abbreviated);break;case"GGGG":me=nr(Ee.Eras,J.Wide);break;case"GGGGG":me=nr(Ee.Eras,J.Narrow);break;case"y":me=kn(Je.FullYear,1,0,!1,!0);break;case"yy":me=kn(Je.FullYear,2,0,!0,!0);break;case"yyy":me=kn(Je.FullYear,3,0,!1,!0);break;case"yyyy":me=kn(Je.FullYear,4,0,!1,!0);break;case"Y":me=rt(1);break;case"YY":me=rt(2,!0);break;case"YYY":me=rt(3);break;case"YYYY":me=rt(4);break;case"M":case"L":me=kn(Je.Month,1,1);break;case"MM":case"LL":me=kn(Je.Month,2,1);break;case"MMM":me=nr(Ee.Months,J.Abbreviated);break;case"MMMM":me=nr(Ee.Months,J.Wide);break;case"MMMMM":me=nr(Ee.Months,J.Narrow);break;case"LLL":me=nr(Ee.Months,J.Abbreviated,W.Standalone);break;case"LLLL":me=nr(Ee.Months,J.Wide,W.Standalone);break;case"LLLLL":me=nr(Ee.Months,J.Narrow,W.Standalone);break;case"w":me=ae(1);break;case"ww":me=ae(2);break;case"W":me=ae(1,!0);break;case"d":me=kn(Je.Date,1);break;case"dd":me=kn(Je.Date,2);break;case"c":case"cc":me=kn(Je.Day,1);break;case"ccc":me=nr(Ee.Days,J.Abbreviated,W.Standalone);break;case"cccc":me=nr(Ee.Days,J.Wide,W.Standalone);break;case"ccccc":me=nr(Ee.Days,J.Narrow,W.Standalone);break;case"cccccc":me=nr(Ee.Days,J.Short,W.Standalone);break;case"E":case"EE":case"EEE":me=nr(Ee.Days,J.Abbreviated);break;case"EEEE":me=nr(Ee.Days,J.Wide);break;case"EEEEE":me=nr(Ee.Days,J.Narrow);break;case"EEEEEE":me=nr(Ee.Days,J.Short);break;case"a":case"aa":case"aaa":me=nr(Ee.DayPeriods,J.Abbreviated);break;case"aaaa":me=nr(Ee.DayPeriods,J.Wide);break;case"aaaaa":me=nr(Ee.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":me=nr(Ee.DayPeriods,J.Abbreviated,W.Standalone,!0);break;case"bbbb":me=nr(Ee.DayPeriods,J.Wide,W.Standalone,!0);break;case"bbbbb":me=nr(Ee.DayPeriods,J.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":me=nr(Ee.DayPeriods,J.Abbreviated,W.Format,!0);break;case"BBBB":me=nr(Ee.DayPeriods,J.Wide,W.Format,!0);break;case"BBBBB":me=nr(Ee.DayPeriods,J.Narrow,W.Format,!0);break;case"h":me=kn(Je.Hours,1,-12);break;case"hh":me=kn(Je.Hours,2,-12);break;case"H":me=kn(Je.Hours,1);break;case"HH":me=kn(Je.Hours,2);break;case"m":me=kn(Je.Minutes,1);break;case"mm":me=kn(Je.Minutes,2);break;case"s":me=kn(Je.Seconds,1);break;case"ss":me=kn(Je.Seconds,2);break;case"S":me=kn(Je.FractionalSeconds,1);break;case"SS":me=kn(Je.FractionalSeconds,2);break;case"SSS":me=kn(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":me=hn(mn.Short);break;case"ZZZZZ":me=hn(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":me=hn(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":me=hn(mn.Long);break;default:return null}return Tt[Y]=me,me}(li);Nr+=Hr?Hr(At,Z,qr):"''"===li?"'":li.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function Rt(Y,me,Z){const Re=new Date(0);return Re.setFullYear(Y,me,Z),Re.setHours(0,0,0),Re}function dt(Y,me){const Z=function Tn(Y){return(0,y.cg1)(Y)[y.wAp.LocaleId]}(Y);if(Bt[Z]=Bt[Z]||{},Bt[Z][me])return Bt[Z][me];let Re="";switch(me){case"shortDate":Re=Ne(Y,R.Short);break;case"mediumDate":Re=Ne(Y,R.Medium);break;case"longDate":Re=Ne(Y,R.Long);break;case"fullDate":Re=Ne(Y,R.Full);break;case"shortTime":Re=Ue(Y,R.Short);break;case"mediumTime":Re=Ue(Y,R.Medium);break;case"longTime":Re=Ue(Y,R.Long);break;case"fullTime":Re=Ue(Y,R.Full);break;case"short":const At=dt(Y,"shortTime"),wn=dt(Y,"shortDate");Re=En(ht(Y,R.Short),[At,wn]);break;case"medium":const Fn=dt(Y,"mediumTime"),br=dt(Y,"mediumDate");Re=En(ht(Y,R.Medium),[Fn,br]);break;case"long":const qr=dt(Y,"longTime"),Nr=dt(Y,"longDate");Re=En(ht(Y,R.Long),[qr,Nr]);break;case"full":const li=dt(Y,"fullTime"),Hr=dt(Y,"fullDate");Re=En(ht(Y,R.Full),[li,Hr])}return Re&&(Bt[Z][me]=Re),Re}function En(Y,me){return me&&(Y=Y.replace(/\{([^}]+)}/g,function(Z,Re){return null!=me&&Re in me?me[Re]:Z})),Y}function On(Y,me,Z="-",Re,At){let wn="";(Y<0||At&&Y<=0)&&(At?Y=1-Y:(Y=-Y,wn=Z));let Fn=String(Y);for(;Fn.length<me;)Fn="0"+Fn;return Re&&(Fn=Fn.slice(Fn.length-me)),wn+Fn}function kn(Y,me,Z=0,Re=!1,At=!1){return function(wn,Fn){let br=function Rn(Y,me){switch(Y){case Je.FullYear:return me.getFullYear();case Je.Month:return me.getMonth();case Je.Date:return me.getDate();case Je.Hours:return me.getHours();case Je.Minutes:return me.getMinutes();case Je.Seconds:return me.getSeconds();case Je.FractionalSeconds:return me.getMilliseconds();case Je.Day:return me.getDay();default:throw new Error(`Unknown DateType value "${Y}".`)}}(Y,wn);if((Z>0||br>-Z)&&(br+=Z),Y===Je.Hours)0===br&&-12===Z&&(br=12);else if(Y===Je.FractionalSeconds)return function Wn(Y,me){return On(Y,3).substring(0,me)}(br,me);const qr=Et(Fn,ge.MinusSign);return On(br,me,qr,Re,At)}}function nr(Y,me,Z=W.Format,Re=!1){return function(At,wn){return function xr(Y,me,Z,Re,At,wn){switch(Z){case Ee.Months:return at(me,At,Re)[Y.getMonth()];case Ee.Days:return ct(me,At,Re)[Y.getDay()];case Ee.DayPeriods:const Fn=Y.getHours(),br=Y.getMinutes();if(wn){const Nr=function jn(Y){const me=(0,y.cg1)(Y);return fn(me),(me[y.wAp.ExtraData][2]||[]).map(Re=>"string"==typeof Re?Nn(Re):[Nn(Re[0]),Nn(Re[1])])}(me),li=function xn(Y,me,Z){const Re=(0,y.cg1)(Y);fn(Re);const wn=Qn([Re[y.wAp.ExtraData][0],Re[y.wAp.ExtraData][1]],me)||[];return Qn(wn,Z)||[]}(me,At,Re),Hr=Nr.findIndex(g=>{if(Array.isArray(g)){const[l,d]=g,b=Fn>=l.hours&&br>=l.minutes,A=Fn<d.hours||Fn===d.hours&&br<d.minutes;if(l.hours<d.hours){if(b&&A)return!0}else if(b||A)return!0}else if(g.hours===Fn&&g.minutes===br)return!0;return!1});if(-1!==Hr)return li[Hr]}return He(me,At,Re)[Fn<12?0:1];case Ee.Eras:return function ee(Y,me){return Qn((0,y.cg1)(Y)[y.wAp.Eras],me)}(me,Re)[Y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}(At,wn,Y,me,Z,Re)}}function hn(Y){return function(me,Z,Re){const At=-1*Re,wn=Et(Z,ge.MinusSign),Fn=At>0?Math.floor(At/60):Math.ceil(At/60);switch(Y){case mn.Short:return(At>=0?"+":"")+On(Fn,2,wn)+On(Math.abs(At%60),2,wn);case mn.ShortGMT:return"GMT"+(At>=0?"+":"")+On(Fn,1,wn);case mn.Long:return"GMT"+(At>=0?"+":"")+On(Fn,2,wn)+":"+On(Math.abs(At%60),2,wn);case mn.Extended:return 0===Re?"Z":(At>=0?"+":"")+On(Fn,2,wn)+":"+On(Math.abs(At%60),2,wn);default:throw new Error(`Unknown zone width "${Y}"`)}}}const Pt=0,Vt=4;function le(Y){return Rt(Y.getFullYear(),Y.getMonth(),Y.getDate()+(Vt-Y.getDay()))}function ae(Y,me=!1){return function(Z,Re){let At;if(me){const wn=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,Fn=Z.getDate();At=1+Math.floor((Fn+wn)/7)}else{const wn=le(Z),Fn=function Te(Y){const me=Rt(Y,Pt,1).getDay();return Rt(Y,0,1+(me<=Vt?Vt:Vt+7)-me)}(wn.getFullYear()),br=wn.getTime()-Fn.getTime();At=1+Math.round(br/6048e5)}return On(At,Y,Et(Re,ge.MinusSign))}}function rt(Y,me=!1){return function(Z,Re){return On(le(Z).getFullYear(),Y,Et(Re,ge.MinusSign),me)}}const Tt={};function xe(Y,me){Y=Y.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+Y)/6e4;return isNaN(Z)?me:Z}function ot(Y){return Y instanceof Date&&!isNaN(Y.valueOf())}const nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,De=22,Dt=".",Ft="0",vn=";",Zn=",",Cn="#";function mt(Y){const me=parseInt(Y);if(isNaN(me))throw new Error("Invalid integer literal when parsing "+Y);return me}function Kn(Y,me,Z){return(0,y.dwT)(Y,me,Z)}function mr(Y,me){me=encodeURIComponent(me);for(const Z of Y.split(";")){const Re=Z.indexOf("="),[At,wn]=-1==Re?[Z,""]:[Z.slice(0,Re),Z.slice(Re+1)];if(At.trim()===me)return decodeURIComponent(wn)}return null}const rr=/\s+/,dn=[];let sr=(()=>{class Y{constructor(Z,Re,At,wn){this._iterableDiffers=Z,this._keyValueDiffers=Re,this._ngEl=At,this._renderer=wn,this.initialClasses=dn,this.stateMap=new Map}set klass(Z){this.initialClasses=null!=Z?Z.trim().split(rr):dn}set ngClass(Z){this.rawClass="string"==typeof Z?Z.trim().split(rr):Z}ngDoCheck(){for(const Re of this.initialClasses)this._updateState(Re,!0);const Z=this.rawClass;if(Array.isArray(Z)||Z instanceof Set)for(const Re of Z)this._updateState(Re,!0);else if(null!=Z)for(const Re of Object.keys(Z))this._updateState(Re,Boolean(Z[Re]));this._applyStateDiff()}_updateState(Z,Re){const At=this.stateMap.get(Z);void 0!==At?(At.enabled!==Re&&(At.changed=!0,At.enabled=Re),At.touched=!0):this.stateMap.set(Z,{enabled:Re,changed:!0,touched:!0})}_applyStateDiff(){for(const Z of this.stateMap){const Re=Z[0],At=Z[1];At.changed?(this._toggleClass(Re,At.enabled),At.changed=!1):At.touched||(At.enabled&&this._toggleClass(Re,!1),this.stateMap.delete(Re)),At.touched=!1}}_toggleClass(Z,Re){(Z=Z.trim()).length>0&&Z.split(rr).forEach(At=>{Re?this._renderer.addClass(this._ngEl.nativeElement,At):this._renderer.removeClass(this._ngEl.nativeElement,At)})}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Y})();class xi{constructor(me,Z,Re,At){this.$implicit=me,this.ngForOf=Z,this.index=Re,this.count=At}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{class Y{set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}constructor(Z,Re,At){this._viewContainer=Z,this._template=Re,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const Re=this._viewContainer;Z.forEachOperation((At,wn,Fn)=>{if(null==At.previousIndex)Re.createEmbeddedView(this._template,new xi(At.item,this._ngForOf,-1,-1),null===Fn?void 0:Fn);else if(null==Fn)Re.remove(null===wn?void 0:wn);else if(null!==wn){const br=Re.get(wn);Re.move(br,Fn),Mr(br,At)}});for(let At=0,wn=Re.length;At<wn;At++){const br=Re.get(At).context;br.index=At,br.count=wn,br.ngForOf=this._ngForOf}Z.forEachIdentityChange(At=>{Mr(Re.get(At.currentIndex),At)})}static ngTemplateContextGuard(Z,Re){return!0}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Y})();function Mr(Y,me){Y.context.$implicit=me.item}let Ni=(()=>{class Y{constructor(Z,Re){this._viewContainer=Z,this._context=new jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Re}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){Qi("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){Qi("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,Re){return!0}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.s_b),y.Y36(y.Rgc))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Y})();class jr{constructor(){this.$implicit=null,this.ngIf=null}}function Qi(Y,me){if(me&&!me.createEmbeddedView)throw new Error(`${Y} must be a TemplateRef, but received '${(0,y.AaK)(me)}'.`)}class ji{constructor(me,Z){this._viewContainerRef=me,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(me){me&&!this._created?this.create():!me&&this._created&&this.destroy()}}let io=(()=>{class Y{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Z){this._ngSwitch=Z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Z){this._defaultViews.push(Z)}_matchCase(Z){const Re=Z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Re}_updateDefaultCases(Z){if(this._defaultViews.length>0&&Z!==this._defaultUsed){this._defaultUsed=Z;for(const Re of this._defaultViews)Re.enforceState(Z)}}}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Y})(),to=(()=>{class Y{constructor(Z,Re,At){this.ngSwitch=At,At._addCase(),this._view=new ji(Z,Re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(io,9))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Y})(),Mi=(()=>{class Y{constructor(Z,Re,At){At._addDefault(new ji(Z,Re))}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(io,9))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Y})(),pe=(()=>{class Y{constructor(Z,Re,At){this._ngEl=Z,this._differs=Re,this._renderer=At,this._ngStyle=null,this._differ=null}set ngStyle(Z){this._ngStyle=Z,!this._differ&&Z&&(this._differ=this._differs.find(Z).create())}ngDoCheck(){if(this._differ){const Z=this._differ.diff(this._ngStyle);Z&&this._applyChanges(Z)}}_setStyle(Z,Re){const[At,wn]=Z.split("."),Fn=-1===At.indexOf("-")?void 0:y.JOm.DashCase;null!=Re?this._renderer.setStyle(this._ngEl.nativeElement,At,wn?`${Re}${wn}`:Re,Fn):this._renderer.removeStyle(this._ngEl.nativeElement,At,Fn)}_applyChanges(Z){Z.forEachRemovedItem(Re=>this._setStyle(Re.key,null)),Z.forEachAddedItem(Re=>this._setStyle(Re.key,Re.currentValue)),Z.forEachChangedItem(Re=>this._setStyle(Re.key,Re.currentValue))}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Y})(),B=(()=>{class Y{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Z){if(Z.ngTemplateOutlet||Z.ngTemplateOutletInjector){const Re=this._viewContainerRef;if(this._viewRef&&Re.remove(Re.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:At,ngTemplateOutletContext:wn,ngTemplateOutletInjector:Fn}=this;this._viewRef=Re.createEmbeddedView(At,wn,Fn?{injector:Fn}:void 0)}else this._viewRef=null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.s_b))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),Y})();function Xe(Y,me){return new y.vHH(2100,!1)}const Oi=new y.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ki=new y.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ai=(()=>{class Y{constructor(Z,Re,At){this.locale=Z,this.defaultTimezone=Re,this.defaultOptions=At}transform(Z,Re,At,wn){if(null==Z||""===Z||Z!=Z)return null;try{return xt(Z,Re??this.defaultOptions?.dateFormat??"mediumDate",wn||this.locale,At??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Fn){throw Xe()}}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.soG,16),y.Y36(Oi,24),y.Y36(Ki,24))},Y.\u0275pipe=y.Yjl({name:"date",type:Y,pure:!0,standalone:!0}),Y})(),mi=(()=>{class Y{constructor(Z){this._locale=Z}transform(Z,Re,At){if(!function Fo(Y){return!(null==Y||""===Y||Y!=Y)}(Z))return null;At=At||this._locale;try{return function St(Y,me,Z){return function st(Y,me,Z,Re,At,wn,Fn=!1){let br="",qr=!1;if(isFinite(Y)){let Nr=function be(Y){let Re,At,wn,Fn,br,me=Math.abs(Y)+"",Z=0;for((At=me.indexOf(Dt))>-1&&(me=me.replace(Dt,"")),(wn=me.search(/e/i))>0?(At<0&&(At=wn),At+=+me.slice(wn+1),me=me.substring(0,wn)):At<0&&(At=me.length),wn=0;me.charAt(wn)===Ft;wn++);if(wn===(br=me.length))Re=[0],At=1;else{for(br--;me.charAt(br)===Ft;)br--;for(At-=wn,Re=[],Fn=0;wn<=br;wn++,Fn++)Re[Fn]=Number(me.charAt(wn))}return At>De&&(Re=Re.splice(0,De-1),Z=At-1,At=1),{digits:Re,exponent:Z,integerLen:At}}(Y);Fn&&(Nr=function q(Y){if(0===Y.digits[0])return Y;const me=Y.digits.length-Y.integerLen;return Y.exponent?Y.exponent+=2:(0===me?Y.digits.push(0,0):1===me&&Y.digits.push(0),Y.integerLen+=2),Y}(Nr));let li=me.minInt,Hr=me.minFrac,g=me.maxFrac;if(wn){const de=wn.match(nt);if(null===de)throw new Error(`${wn} is not a valid digit info`);const Ce=de[1],ut=de[3],et=de[5];null!=Ce&&(li=mt(Ce)),null!=ut&&(Hr=mt(ut)),null!=et?g=mt(et):null!=ut&&Hr>g&&(g=Hr)}!function $e(Y,me,Z){if(me>Z)throw new Error(`The minimum number of digits after fraction (${me}) is higher than the maximum (${Z}).`);let Re=Y.digits,At=Re.length-Y.integerLen;const wn=Math.min(Math.max(me,At),Z);let Fn=wn+Y.integerLen,br=Re[Fn];if(Fn>0){Re.splice(Math.max(Y.integerLen,Fn));for(let Hr=Fn;Hr<Re.length;Hr++)Re[Hr]=0}else{At=Math.max(0,At),Y.integerLen=1,Re.length=Math.max(1,Fn=wn+1),Re[0]=0;for(let Hr=1;Hr<Fn;Hr++)Re[Hr]=0}if(br>=5)if(Fn-1<0){for(let Hr=0;Hr>Fn;Hr--)Re.unshift(0),Y.integerLen++;Re.unshift(1),Y.integerLen++}else Re[Fn-1]++;for(;At<Math.max(0,wn);At++)Re.push(0);let qr=0!==wn;const Nr=me+Y.integerLen,li=Re.reduceRight(function(Hr,g,l,d){return d[l]=(g+=Hr)<10?g:g-10,qr&&(0===d[l]&&l>=Nr?d.pop():qr=!1),g>=10?1:0},0);li&&(Re.unshift(li),Y.integerLen++)}(Nr,Hr,g);let l=Nr.digits,d=Nr.integerLen;const b=Nr.exponent;let A=[];for(qr=l.every(de=>!de);d<li;d++)l.unshift(0);for(;d<0;d++)l.unshift(0);d>0?A=l.splice(d,l.length):(A=l,l=[0]);const U=[];for(l.length>=me.lgSize&&U.unshift(l.splice(-me.lgSize,l.length).join(""));l.length>me.gSize;)U.unshift(l.splice(-me.gSize,l.length).join(""));l.length&&U.unshift(l.join("")),br=U.join(Et(Z,Re)),A.length&&(br+=Et(Z,At)+A.join("")),b&&(br+=Et(Z,ge.Exponential)+"+"+b)}else br=Et(Z,ge.Infinity);return br=Y<0&&!qr?me.negPre+br+me.negSuf:me.posPre+br+me.posSuf,br}(Y,function ke(Y,me="-"){const Z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Re=Y.split(vn),At=Re[0],wn=Re[1],Fn=-1!==At.indexOf(Dt)?At.split(Dt):[At.substring(0,At.lastIndexOf(Ft)+1),At.substring(At.lastIndexOf(Ft)+1)],br=Fn[0],qr=Fn[1]||"";Z.posPre=br.substring(0,br.indexOf(Cn));for(let li=0;li<qr.length;li++){const Hr=qr.charAt(li);Hr===Ft?Z.minFrac=Z.maxFrac=li+1:Hr===Cn?Z.maxFrac=li+1:Z.posSuf+=Hr}const Nr=br.split(Zn);if(Z.gSize=Nr[1]?Nr[1].length:0,Z.lgSize=Nr[2]||Nr[1]?(Nr[2]||Nr[1]).length:0,wn){const li=At.length-Z.posPre.length-Z.posSuf.length,Hr=wn.indexOf(Cn);Z.negPre=wn.substring(0,Hr).replace(/'/g,""),Z.negSuf=wn.slice(Hr+li).replace(/'/g,"")}else Z.negPre=me+Z.posPre,Z.negSuf=Z.posSuf;return Z}(function gn(Y,me){return(0,y.cg1)(Y)[y.wAp.NumberFormats][me]}(me,k.Percent),Et(me,ge.MinusSign)),me,ge.Group,ge.Decimal,Z,!0).replace(new RegExp("%","g"),Et(me,ge.PercentSign))}(function ds(Y){if("string"==typeof Y&&!isNaN(Number(Y)-parseFloat(Y)))return Number(Y);if("number"!=typeof Y)throw new Error(`${Y} is not a number`);return Y}(Z),At,Re)}catch(wn){throw Xe()}}}return Y.\u0275fac=function(Z){return new(Z||Y)(y.Y36(y.soG,16))},Y.\u0275pipe=y.Yjl({name:"percent",type:Y,pure:!0,standalone:!0}),Y})();let ne=(()=>{class Y{}return Y.\u0275fac=function(Z){return new(Z||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({}),Y})();const Be="browser",wt="server";function Sn(Y){return Y===Be}function Hn(Y){return Y===wt}let Kr=(()=>{class Y{}return Y.\u0275prov=(0,y.Yz7)({token:Y,providedIn:"root",factory:()=>new Ar((0,y.LFG)(Qe),window)}),Y})();class Ar{constructor(me,Z){this.document=me,this.window=Z,this.offset=()=>[0,0]}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(me){this.supportsScrolling()&&this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){if(!this.supportsScrolling())return;const Z=function $r(Y,me){const Z=Y.getElementById(me)||Y.getElementsByName(me)[0];if(Z)return Z;if("function"==typeof Y.createTreeWalker&&Y.body&&(Y.body.createShadowRoot||Y.body.attachShadow)){const Re=Y.createTreeWalker(Y.body,NodeFilter.SHOW_ELEMENT);let At=Re.currentNode;for(;At;){const wn=At.shadowRoot;if(wn){const Fn=wn.getElementById(me)||wn.querySelector(`[name="${me}"]`);if(Fn)return Fn}At=Re.nextNode()}}return null}(this.document,me);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(me){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=me)}}scrollToElement(me){const Z=me.getBoundingClientRect(),Re=Z.left+this.window.pageXOffset,At=Z.top+this.window.pageYOffset,wn=this.offset();this.window.scrollTo(Re-wn[0],At-wn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const me=gi(this.window.history)||gi(Object.getPrototypeOf(this.window.history));return!(!me||!me.writable&&!me.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gi(Y){return Object.getOwnPropertyDescriptor(Y,"scrollRestoration")}class vi{}},80529:(Ln,it,N)=>{"use strict";N.d(it,{JF:()=>hn,LE:()=>Nt,TP:()=>ee,dt:()=>T,eN:()=>Tn,jN:()=>ie});var y=N(36895),E=N(94650),j=N(39646),Pe=N(69751),z=N(24351),Qe=N(39300),te=N(54004);class Ge{}class ie{}class K{constructor(le){this.normalizedNames=new Map,this.lazyUpdate=null,le?this.lazyInit="string"==typeof le?()=>{this.headers=new Map,le.split("\n").forEach(ae=>{const rt=ae.indexOf(":");if(rt>0){const Tt=ae.slice(0,rt),bn=Tt.toLowerCase(),xe=ae.slice(rt+1).trim();this.maybeSetNormalizedName(Tt,bn),this.headers.has(bn)?this.headers.get(bn).push(xe):this.headers.set(bn,[xe])}})}:()=>{this.headers=new Map,Object.entries(le).forEach(([ae,rt])=>{let Tt;if(Tt="string"==typeof rt?[rt]:"number"==typeof rt?[rt.toString()]:rt.map(bn=>bn.toString()),Tt.length>0){const bn=ae.toLowerCase();this.headers.set(bn,Tt),this.maybeSetNormalizedName(ae,bn)}})}:this.headers=new Map}has(le){return this.init(),this.headers.has(le.toLowerCase())}get(le){this.init();const ae=this.headers.get(le.toLowerCase());return ae&&ae.length>0?ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(le){return this.init(),this.headers.get(le.toLowerCase())||null}append(le,ae){return this.clone({name:le,value:ae,op:"a"})}set(le,ae){return this.clone({name:le,value:ae,op:"s"})}delete(le,ae){return this.clone({name:le,value:ae,op:"d"})}maybeSetNormalizedName(le,ae){this.normalizedNames.has(ae)||this.normalizedNames.set(ae,le)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(le=>this.applyUpdate(le)),this.lazyUpdate=null))}copyFrom(le){le.init(),Array.from(le.headers.keys()).forEach(ae=>{this.headers.set(ae,le.headers.get(ae)),this.normalizedNames.set(ae,le.normalizedNames.get(ae))})}clone(le){const ae=new K;return ae.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,ae.lazyUpdate=(this.lazyUpdate||[]).concat([le]),ae}applyUpdate(le){const ae=le.name.toLowerCase();switch(le.op){case"a":case"s":let rt=le.value;if("string"==typeof rt&&(rt=[rt]),0===rt.length)return;this.maybeSetNormalizedName(le.name,ae);const Tt=("a"===le.op?this.headers.get(ae):void 0)||[];Tt.push(...rt),this.headers.set(ae,Tt);break;case"d":const bn=le.value;if(bn){let xe=this.headers.get(ae);if(!xe)return;xe=xe.filter(Ct=>-1===bn.indexOf(Ct)),0===xe.length?(this.headers.delete(ae),this.normalizedNames.delete(ae)):this.headers.set(ae,xe)}else this.headers.delete(ae),this.normalizedNames.delete(ae)}}forEach(le){this.init(),Array.from(this.normalizedNames.keys()).forEach(ae=>le(this.normalizedNames.get(ae),this.headers.get(ae)))}}class Se{encodeKey(le){return Wt(le)}encodeValue(le){return Wt(le)}decodeKey(le){return decodeURIComponent(le)}decodeValue(le){return decodeURIComponent(le)}}const bt=/%(\d[a-f0-9])/gi,Zt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wt(Te){return encodeURIComponent(Te).replace(bt,(le,ae)=>Zt[ae]??le)}function ye(Te){return`${Te}`}class Nt{constructor(le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=le.encoder||new Se,le.fromString){if(le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fe(Te,le){const ae=new Map;return Te.length>0&&Te.replace(/^\?/,"").split("&").forEach(Tt=>{const bn=Tt.indexOf("="),[xe,Ct]=-1==bn?[le.decodeKey(Tt),""]:[le.decodeKey(Tt.slice(0,bn)),le.decodeValue(Tt.slice(bn+1))],Yt=ae.get(xe)||[];Yt.push(Ct),ae.set(xe,Yt)}),ae}(le.fromString,this.encoder)}else le.fromObject?(this.map=new Map,Object.keys(le.fromObject).forEach(ae=>{const rt=le.fromObject[ae],Tt=Array.isArray(rt)?rt.map(ye):[ye(rt)];this.map.set(ae,Tt)})):this.map=null}has(le){return this.init(),this.map.has(le)}get(le){this.init();const ae=this.map.get(le);return ae?ae[0]:null}getAll(le){return this.init(),this.map.get(le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(le,ae){return this.clone({param:le,value:ae,op:"a"})}appendAll(le){const ae=[];return Object.keys(le).forEach(rt=>{const Tt=le[rt];Array.isArray(Tt)?Tt.forEach(bn=>{ae.push({param:rt,value:bn,op:"a"})}):ae.push({param:rt,value:Tt,op:"a"})}),this.clone(ae)}set(le,ae){return this.clone({param:le,value:ae,op:"s"})}delete(le,ae){return this.clone({param:le,value:ae,op:"d"})}toString(){return this.init(),this.keys().map(le=>{const ae=this.encoder.encodeKey(le);return this.map.get(le).map(rt=>ae+"="+this.encoder.encodeValue(rt)).join("&")}).filter(le=>""!==le).join("&")}clone(le){const ae=new Nt({encoder:this.encoder});return ae.cloneFrom=this.cloneFrom||this,ae.updates=(this.updates||[]).concat(le),ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(le=>this.map.set(le,this.cloneFrom.map.get(le))),this.updates.forEach(le=>{switch(le.op){case"a":case"s":const ae=("a"===le.op?this.map.get(le.param):void 0)||[];ae.push(ye(le.value)),this.map.set(le.param,ae);break;case"d":if(void 0===le.value){this.map.delete(le.param);break}{let rt=this.map.get(le.param)||[];const Tt=rt.indexOf(ye(le.value));-1!==Tt&&rt.splice(Tt,1),rt.length>0?this.map.set(le.param,rt):this.map.delete(le.param)}}}),this.cloneFrom=this.updates=null)}}class en{constructor(){this.map=new Map}set(le,ae){return this.map.set(le,ae),this}get(le){return this.map.has(le)||this.map.set(le,le.defaultValue()),this.map.get(le)}delete(le){return this.map.delete(le),this}has(le){return this.map.has(le)}keys(){return this.map.keys()}}function Le(Te){return typeof ArrayBuffer<"u"&&Te instanceof ArrayBuffer}function Me(Te){return typeof Blob<"u"&&Te instanceof Blob}function tt(Te){return typeof FormData<"u"&&Te instanceof FormData}class k{constructor(le,ae,rt,Tt){let bn;if(this.url=ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=le.toUpperCase(),function Ot(Te){switch(Te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Tt?(this.body=void 0!==rt?rt:null,bn=Tt):bn=rt,bn&&(this.reportProgress=!!bn.reportProgress,this.withCredentials=!!bn.withCredentials,bn.responseType&&(this.responseType=bn.responseType),bn.headers&&(this.headers=bn.headers),bn.context&&(this.context=bn.context),bn.params&&(this.params=bn.params)),this.headers||(this.headers=new K),this.context||(this.context=new en),this.params){const xe=this.params.toString();if(0===xe.length)this.urlWithParams=ae;else{const Ct=ae.indexOf("?");this.urlWithParams=ae+(-1===Ct?"?":Ct<ae.length-1?"&":"")+xe}}else this.params=new Nt,this.urlWithParams=ae}serializeBody(){return null===this.body?null:Le(this.body)||Me(this.body)||tt(this.body)||function f(Te){return typeof URLSearchParams<"u"&&Te instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tt(this.body)?null:Me(this.body)?this.body.type||null:Le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(le={}){const ae=le.method||this.method,rt=le.url||this.url,Tt=le.responseType||this.responseType,bn=void 0!==le.body?le.body:this.body,xe=void 0!==le.withCredentials?le.withCredentials:this.withCredentials,Ct=void 0!==le.reportProgress?le.reportProgress:this.reportProgress;let Yt=le.headers||this.headers,ln=le.params||this.params;const qt=le.context??this.context;return void 0!==le.setHeaders&&(Yt=Object.keys(le.setHeaders).reduce((ot,nt)=>ot.set(nt,le.setHeaders[nt]),Yt)),le.setParams&&(ln=Object.keys(le.setParams).reduce((ot,nt)=>ot.set(nt,le.setParams[nt]),ln)),new k(ae,rt,bn,{params:ln,headers:Yt,context:qt,reportProgress:Ct,responseType:Tt,withCredentials:xe})}}var T=(()=>((T=T||{})[T.Sent=0]="Sent",T[T.UploadProgress=1]="UploadProgress",T[T.ResponseHeader=2]="ResponseHeader",T[T.DownloadProgress=3]="DownloadProgress",T[T.Response=4]="Response",T[T.User=5]="User",T))();class W{constructor(le,ae=200,rt="OK"){this.headers=le.headers||new K,this.status=void 0!==le.status?le.status:ae,this.statusText=le.statusText||rt,this.url=le.url||null,this.ok=this.status>=200&&this.status<300}}class J extends W{constructor(le={}){super(le),this.type=T.ResponseHeader}clone(le={}){return new J({headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class R extends W{constructor(le={}){super(le),this.type=T.Response,this.body=void 0!==le.body?le.body:null}clone(le={}){return new R({body:void 0!==le.body?le.body:this.body,headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class ge extends W{constructor(le){super(le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${le.url||"(unknown url)"}`:`Http failure response for ${le.url||"(unknown url)"}: ${le.status} ${le.statusText}`,this.error=le.error||null}}function Ke(Te,le){return{body:le,headers:Te.headers,context:Te.context,observe:Te.observe,params:Te.params,reportProgress:Te.reportProgress,responseType:Te.responseType,withCredentials:Te.withCredentials}}let Tn=(()=>{class Te{constructor(ae){this.handler=ae}request(ae,rt,Tt={}){let bn;if(ae instanceof k)bn=ae;else{let Yt,ln;Yt=Tt.headers instanceof K?Tt.headers:new K(Tt.headers),Tt.params&&(ln=Tt.params instanceof Nt?Tt.params:new Nt({fromObject:Tt.params})),bn=new k(ae,rt,void 0!==Tt.body?Tt.body:null,{headers:Yt,context:Tt.context,params:ln,reportProgress:Tt.reportProgress,responseType:Tt.responseType||"json",withCredentials:Tt.withCredentials})}const xe=(0,j.of)(bn).pipe((0,z.b)(Yt=>this.handler.handle(Yt)));if(ae instanceof k||"events"===Tt.observe)return xe;const Ct=xe.pipe((0,Qe.h)(Yt=>Yt instanceof R));switch(Tt.observe||"body"){case"body":switch(bn.responseType){case"arraybuffer":return Ct.pipe((0,te.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yt.body}));case"blob":return Ct.pipe((0,te.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof Blob))throw new Error("Response is not a Blob.");return Yt.body}));case"text":return Ct.pipe((0,te.U)(Yt=>{if(null!==Yt.body&&"string"!=typeof Yt.body)throw new Error("Response is not a string.");return Yt.body}));default:return Ct.pipe((0,te.U)(Yt=>Yt.body))}case"response":return Ct;default:throw new Error(`Unreachable: unhandled observe type ${Tt.observe}}`)}}delete(ae,rt={}){return this.request("DELETE",ae,rt)}get(ae,rt={}){return this.request("GET",ae,rt)}head(ae,rt={}){return this.request("HEAD",ae,rt)}jsonp(ae,rt){return this.request("JSONP",ae,{params:(new Nt).append(rt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ae,rt={}){return this.request("OPTIONS",ae,rt)}patch(ae,rt,Tt={}){return this.request("PATCH",ae,Ke(Tt,rt))}post(ae,rt,Tt={}){return this.request("POST",ae,Ke(Tt,rt))}put(ae,rt,Tt={}){return this.request("PUT",ae,Ke(Tt,rt))}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(Ge))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function He(Te,le){return le(Te)}function ct(Te,le){return(ae,rt)=>le.intercept(ae,{handle:Tt=>Te(Tt,rt)})}const ee=new E.OlP("HTTP_INTERCEPTORS"),ce=new E.OlP("HTTP_INTERCEPTOR_FNS");function re(){let Te=null;return(le,ae)=>(null===Te&&(Te=((0,E.f3M)(ee,{optional:!0})??[]).reduceRight(ct,He)),Te(le,ae))}let Ne=(()=>{class Te extends Ge{constructor(ae,rt){super(),this.backend=ae,this.injector=rt,this.chain=null}handle(ae){if(null===this.chain){const rt=Array.from(new Set(this.injector.get(ce)));this.chain=rt.reduceRight((Tt,bn)=>function at(Te,le,ae){return(rt,Tt)=>ae.runInContext(()=>le(rt,bn=>Te(bn,Tt)))}(Tt,bn,this.injector),He)}return this.chain(ae,rt=>this.backend.handle(rt))}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(ie),E.LFG(E.lqb))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const xn=/^\)\]\}',?\n/;let Qn=(()=>{class Te{constructor(ae){this.xhrFactory=ae}handle(ae){if("JSONP"===ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe.y(rt=>{const Tt=this.xhrFactory.build();if(Tt.open(ae.method,ae.urlWithParams),ae.withCredentials&&(Tt.withCredentials=!0),ae.headers.forEach((De,Dt)=>Tt.setRequestHeader(De,Dt.join(","))),ae.headers.has("Accept")||Tt.setRequestHeader("Accept","application/json, text/plain, */*"),!ae.headers.has("Content-Type")){const De=ae.detectContentTypeHeader();null!==De&&Tt.setRequestHeader("Content-Type",De)}if(ae.responseType){const De=ae.responseType.toLowerCase();Tt.responseType="json"!==De?De:"text"}const bn=ae.serializeBody();let xe=null;const Ct=()=>{if(null!==xe)return xe;const De=Tt.statusText||"OK",Dt=new K(Tt.getAllResponseHeaders()),Ft=function er(Te){return"responseURL"in Te&&Te.responseURL?Te.responseURL:/^X-Request-URL:/m.test(Te.getAllResponseHeaders())?Te.getResponseHeader("X-Request-URL"):null}(Tt)||ae.url;return xe=new J({headers:Dt,status:Tt.status,statusText:De,url:Ft}),xe},Yt=()=>{let{headers:De,status:Dt,statusText:Ft,url:vn}=Ct(),Zn=null;204!==Dt&&(Zn=typeof Tt.response>"u"?Tt.responseText:Tt.response),0===Dt&&(Dt=Zn?200:0);let Cn=Dt>=200&&Dt<300;if("json"===ae.responseType&&"string"==typeof Zn){const yr=Zn;Zn=Zn.replace(xn,"");try{Zn=""!==Zn?JSON.parse(Zn):null}catch(ei){Zn=yr,Cn&&(Cn=!1,Zn={error:ei,text:Zn})}}Cn?(rt.next(new R({body:Zn,headers:De,status:Dt,statusText:Ft,url:vn||void 0})),rt.complete()):rt.error(new ge({error:Zn,headers:De,status:Dt,statusText:Ft,url:vn||void 0}))},ln=De=>{const{url:Dt}=Ct(),Ft=new ge({error:De,status:Tt.status||0,statusText:Tt.statusText||"Unknown Error",url:Dt||void 0});rt.error(Ft)};let qt=!1;const ot=De=>{qt||(rt.next(Ct()),qt=!0);let Dt={type:T.DownloadProgress,loaded:De.loaded};De.lengthComputable&&(Dt.total=De.total),"text"===ae.responseType&&Tt.responseText&&(Dt.partialText=Tt.responseText),rt.next(Dt)},nt=De=>{let Dt={type:T.UploadProgress,loaded:De.loaded};De.lengthComputable&&(Dt.total=De.total),rt.next(Dt)};return Tt.addEventListener("load",Yt),Tt.addEventListener("error",ln),Tt.addEventListener("timeout",ln),Tt.addEventListener("abort",ln),ae.reportProgress&&(Tt.addEventListener("progress",ot),null!==bn&&Tt.upload&&Tt.upload.addEventListener("progress",nt)),Tt.send(bn),rt.next({type:T.Sent}),()=>{Tt.removeEventListener("error",ln),Tt.removeEventListener("abort",ln),Tt.removeEventListener("load",Yt),Tt.removeEventListener("timeout",ln),ae.reportProgress&&(Tt.removeEventListener("progress",ot),null!==bn&&Tt.upload&&Tt.upload.removeEventListener("progress",nt)),Tt.readyState!==Tt.DONE&&Tt.abort()}})}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(y.JF))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Nn=new E.OlP("XSRF_ENABLED"),pn=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vt=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bt{}let Qt=(()=>{class Te{constructor(ae,rt,Tt){this.doc=ae,this.platform=rt,this.cookieName=Tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ae=this.doc.cookie||"";return ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(ae,this.cookieName),this.lastCookieString=ae),this.lastToken}}return Te.\u0275fac=function(ae){return new(ae||Te)(E.LFG(y.K0),E.LFG(E.Lbi),E.LFG(pn))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function mn(Te,le){const ae=Te.url.toLowerCase();if(!(0,E.f3M)(Nn)||"GET"===Te.method||"HEAD"===Te.method||ae.startsWith("http://")||ae.startsWith("https://"))return le(Te);const rt=(0,E.f3M)(Bt).getToken(),Tt=(0,E.f3M)(vt);return null!=rt&&!Te.headers.has(Tt)&&(Te=Te.clone({headers:Te.headers.set(Tt,rt)})),le(Te)}var Ee=(()=>((Ee=Ee||{})[Ee.Interceptors=0]="Interceptors",Ee[Ee.LegacyInterceptors=1]="LegacyInterceptors",Ee[Ee.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ee[Ee.NoXsrfProtection=3]="NoXsrfProtection",Ee[Ee.JsonpSupport=4]="JsonpSupport",Ee[Ee.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ee))();function xt(Te,le){return{\u0275kind:Te,\u0275providers:le}}function Rt(...Te){const le=[Tn,Qn,Ne,{provide:Ge,useExisting:Ne},{provide:ie,useExisting:Qn},{provide:ce,useValue:mn,multi:!0},{provide:Nn,useValue:!0},{provide:Bt,useClass:Qt}];for(const ae of Te)le.push(...ae.\u0275providers);return(0,E.MR2)(le)}const En=new E.OlP("LEGACY_INTERCEPTOR_FN");let hn=(()=>{class Te{}return Te.\u0275fac=function(ae){return new(ae||Te)},Te.\u0275mod=E.oAB({type:Te}),Te.\u0275inj=E.cJS({providers:[Rt(xt(Ee.LegacyInterceptors,[{provide:En,useFactory:re},{provide:ce,useExisting:En,multi:!0}]))]}),Te})()},94650:(Ln,it,N)=>{"use strict";N.d(it,{$8M:()=>zs,$WT:()=>Mt,$Z:()=>Ud,AFp:()=>f_,ALo:()=>Oy,AaK:()=>Ge,AcB:()=>Is,Akn:()=>Bl,AsE:()=>Bm,BQk:()=>wp,CHM:()=>fs,CRH:()=>zy,CZH:()=>Np,CqO:()=>Vg,D6c:()=>_E,DdM:()=>_y,EJc:()=>Rw,EiD:()=>Il,EpF:()=>Yg,F$t:()=>Kg,F4k:()=>Ug,FYo:()=>Pu,FiY:()=>Ma,G48:()=>tE,Gf:()=>Vy,GfV:()=>Ad,GkF:()=>Cm,Gpc:()=>Ae,HTZ:()=>Dy,Hh0:()=>Cy,Hsn:()=>$g,IIB:()=>Pw,Ikx:()=>Ym,JOm:()=>Qs,JVY:()=>dh,JZr:()=>Wt,KtG:()=>qo,L6k:()=>wd,LAX:()=>n,LFG:()=>hn,LMc:()=>wE,LSH:()=>Kc,Lbi:()=>Mw,Lck:()=>R0,MAs:()=>jg,MGl:()=>Ep,MMx:()=>Xm,MR2:()=>Cf,MT6:()=>Tv,NdJ:()=>Pm,O4$:()=>dr,OlP:()=>Sr,Oqu:()=>Lm,P3R:()=>nc,PXZ:()=>qw,PiD:()=>Nu,Q6J:()=>Sm,QGY:()=>Im,QbO:()=>Aw,Qsj:()=>$p,QtT:()=>ay,R0b:()=>dl,RDi:()=>Hc,Rgc:()=>yf,SBq:()=>sl,SDv:()=>sy,Sil:()=>Fw,Suo:()=>Hy,TTD:()=>or,TgZ:()=>yp,Tol:()=>cv,Udp:()=>Rm,VKq:()=>by,W1O:()=>$y,WFA:()=>xm,WLB:()=>wy,X6Q:()=>eE,XFs:()=>Nn,Xpm:()=>Cn,Xts:()=>Sd,Y36:()=>al,YKP:()=>cy,YNc:()=>Bg,Yjl:()=>q,Yz7:()=>Et,Z0I:()=>ft,ZZ4:()=>Eg,_Bn:()=>uy,_UZ:()=>Dm,_Vd:()=>Iu,_c5:()=>vE,_uU:()=>vv,aQg:()=>Sg,c2e:()=>kw,cJS:()=>_t,cg1:()=>Vm,d8E:()=>Um,dDg:()=>Ww,dqk:()=>Qt,dwT:()=>Fb,eBb:()=>s,eFA:()=>C_,eJc:()=>sg,ekj:()=>Nm,eoX:()=>E_,evT:()=>Od,f3M:()=>Vt,g9A:()=>m_,h0i:()=>th,hGG:()=>yE,hij:()=>Dp,iGM:()=>Uy,ifc:()=>Yt,ip1:()=>h_,jDz:()=>hy,kEZ:()=>Ey,kL8:()=>Rv,kYT:()=>St,kcU:()=>Xr,l5B:()=>Sy,lG2:()=>ke,lcZ:()=>Ry,lnq:()=>jm,lqb:()=>Wa,lri:()=>b_,mCW:()=>he,n5z:()=>rs,n_E:()=>Mp,oAB:()=>pt,oJD:()=>sa,oxw:()=>Gg,pB0:()=>o,pQV:()=>Wm,q3G:()=>Uo,qLn:()=>lc,qOj:()=>rf,qZA:()=>_p,qbA:()=>Ty,qzn:()=>il,rFY:()=>Iy,rWj:()=>w_,r_U:()=>xw,s9C:()=>Mm,sBO:()=>nE,s_b:()=>kp,soG:()=>Fp,tBr:()=>xa,tb:()=>T_,tp0:()=>Qa,uIk:()=>a,vHH:()=>ye,vpe:()=>ru,wAp:()=>ni,xi3:()=>Ny,xp6:()=>Ph,ynx:()=>bp,z2F:()=>Lp,z3N:()=>Ua,zSh:()=>Id,zW0:()=>Ou,zs3:()=>Mu});var y=N(77579),E=N(50727),j=N(69751),Pe=N(56451),z=N(13099);function Qe(t){for(let r in t)if(t[r]===Qe)return r;throw Error("Could not find renamed property on target object.")}function te(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function Ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const i=r.indexOf("\n");return-1===i?r:r.substring(0,i)}function ie(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const K=Qe({__forward_ref__:Qe});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return Ge(this())},t}function Se(t){return Fe(t)?t():t}function Fe(t){return"function"==typeof t&&t.hasOwnProperty(K)&&t.__forward_ref__===Ae}function bt(t){return t&&!!t.\u0275providers}const Wt="https://g.co/ng/security#xss";class ye extends Error{constructor(r,i){super(Nt(r,i)),this.code=r}}function Nt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}function yt(t){return"string"==typeof t?t:null==t?"":String(t)}function tt(t,r){throw new ye(-201,!1)}function re(t,r,i,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${i} ${u} ${r} <=Actual]`))}function Et(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return Ut(t,jn)||Ut(t,er)}function ft(t){return null!==an(t)}function Ut(t,r){return t.hasOwnProperty(r)?t[r]:null}function fn(t){return t&&(t.hasOwnProperty(xn)||t.hasOwnProperty(Qn))?t[xn]:null}const jn=Qe({\u0275prov:Qe}),xn=Qe({\u0275inj:Qe}),er=Qe({ngInjectableDef:Qe}),Qn=Qe({ngInjectorDef:Qe});var Nn=(()=>((Nn=Nn||{})[Nn.Default=0]="Default",Nn[Nn.Host=1]="Host",Nn[Nn.Self=2]="Self",Nn[Nn.SkipSelf=4]="SkipSelf",Nn[Nn.Optional=8]="Optional",Nn))();let Dr;function Oe(t){const r=Dr;return Dr=t,r}function vt(t,r,i){const u=an(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&Nn.Optional?null:void 0!==r?r:void tt(Ge(t))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xt={},Rt="__NG_DI_FLAG__",dt="ngTempTokenPath",En="ngTokenPath",On=/\n/gm,Wn="\u0275",kn="__source";let Rn;function nr(t){const r=Rn;return Rn=t,r}function xr(t,r=Nn.Default){if(void 0===Rn)throw new ye(-203,!1);return null===Rn?vt(t,void 0,r):Rn.get(t,r&Nn.Optional?null:void 0,r)}function hn(t,r=Nn.Default){return(function pn(){return Dr}()||xr)(Se(t),r)}function Vt(t,r=Nn.Default){return hn(t,Te(r))}function Te(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function le(t){const r=[];for(let i=0;i<t.length;i++){const u=Se(t[i]);if(Array.isArray(u)){if(0===u.length)throw new ye(900,!1);let h,v=Nn.Default;for(let I=0;I<u.length;I++){const F=u[I],Q=rt(F);"number"==typeof Q?-1===Q?h=F.token:v|=Q:h=F}r.push(hn(h,v))}else r.push(hn(u))}return r}function ae(t,r){return t[Rt]=r,t.prototype[Rt]=r,t}function rt(t){return t[Rt]}function xe(t){return{toString:t}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),Yt=(()=>{return(t=Yt||(Yt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Yt;var t})();const ln={},qt=[],ot=Qe({\u0275cmp:Qe}),nt=Qe({\u0275dir:Qe}),De=Qe({\u0275pipe:Qe}),Dt=Qe({\u0275mod:Qe}),Ft=Qe({\u0275fac:Qe}),vn=Qe({__NG_ELEMENT_ID__:Qe});let Zn=0;function Cn(t){return xe(()=>{const r=Yn(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,id:"c"+Zn++,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null};Kn(i);const u=t.dependencies;return i.directiveDefs=mr(u,!1),i.pipeDefs=mr(u,!0),i})}function ei(t){return be(t)||$e(t)}function st(t){return null!==t}function pt(t){return xe(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function St(t,r){return xe(()=>{const i=Lt(t,!0);i.declarations=r.declarations||qt,i.imports=r.imports||qt,i.exports=r.exports||qt})}function zt(t,r){if(null==t)return ln;const i={};for(const u in t)if(t.hasOwnProperty(u)){let h=t[u],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),i[h]=u,r&&(r[h]=v)}return i}function ke(t){return xe(()=>{const r=Yn(t);return Kn(r),r})}function q(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function be(t){return t[ot]||null}function $e(t){return t[nt]||null}function mt(t){return t[De]||null}function Mt(t){const r=be(t)||$e(t)||mt(t);return null!==r&&r.standalone}function Lt(t,r){const i=t[Dt]||null;if(!i&&!0===r)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return i}function Yn(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zt(t.inputs,r),outputs:zt(t.outputs)}}function Kn(t){t.features?.forEach(r=>r(t))}function mr(t,r){if(!t)return null;const i=r?mt:ei;return()=>("function"==typeof t?t():t).map(u=>i(u)).filter(st)}const rr=0,dn=1,sr=2,fr=3,ai=4,Cr=5,xi=6,di=7,Mr=8,Bi=9,Ni=10,jr=11,Qi=12,ji=13,io=14,to=15,Mi=16,No=17,Gi=18,ze=19,pe=20,B=21,_e=22,un=1,$n=2,ur=7,kr=8,gr=9,vr=10;function ar(t){return Array.isArray(t)&&"object"==typeof t[un]}function ki(t){return Array.isArray(t)&&!0===t[un]}function ao(t){return 0!=(4&t.flags)}function Oi(t){return t.componentOffset>-1}function Ki(t){return 1==(1&t.flags)}function Ai(t){return!!t.template}function Gr(t){return 0!=(256&t[sr])}function Mn(t,r){return t.hasOwnProperty(Ft)?t[Ft]:null}class qn{constructor(r,i,u){this.previousValue=r,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function or(){return Kr}function Kr(t){return t.type.prototype.ngOnChanges&&(t.setInput=gi),Ar}function Ar(){const t=Ri(this),r=t?.current;if(r){const i=t.previous;if(i===ln)t.previous=r;else for(let u in r)i[u]=r[u];t.current=null,this.ngOnChanges(r)}}function gi(t,r,i,u){const h=this.declaredInputs[i],v=Ri(t)||function vi(t,r){return t[$r]=r}(t,{previous:ln,current:null}),I=v.current||(v.current={}),F=v.previous,Q=F[h];I[h]=new qn(Q&&Q.currentValue,r,F===ln),t[u]=r}or.ngInherit=!0;const $r="__ngSimpleChanges__";function Ri(t){return t[$r]||null}const Ur=function(t,r,i){},go="svg";function Ti(t){for(;Array.isArray(t);)t=t[rr];return t}function hi(t,r){return Ti(r[t])}function Yi(t,r){return Ti(r[t.index])}function $o(t,r){return t.data[r]}function Fs(t,r){return t[r]}function ti(t,r){const i=r[t];return ar(i)?i:i[rr]}function Ui(t){return 64==(64&t[sr])}function Xi(t,r){return null==r?null:t[r]}function is(t){t[Gi]=0}function Vi(t,r){t[Cr]+=r;let i=t,u=t[fr];for(;null!==u&&(1===r&&1===i[Cr]||-1===r&&0===i[Cr]);)u[Cr]+=r,i=u,u=u[fr]}const Or={lFrame:Ys(null),bindingsEnabled:!0};function Hi(){return Or.bindingsEnabled}function Pn(){return Or.lFrame.lView}function Vr(){return Or.lFrame.tView}function fs(t){return Or.lFrame.contextLView=t,t[Mr]}function qo(t){return Or.lFrame.contextLView=null,t}function oi(){let t=Zi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zi(){return Or.lFrame.currentTNode}function Di(){const t=Or.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function Ji(t,r){const i=Or.lFrame;i.currentTNode=t,i.isParent=r}function Bs(){return Or.lFrame.isParent}function ts(){Or.lFrame.isParent=!1}function co(){const t=Or.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Lo(){return Or.lFrame.bindingIndex}function Do(){return Or.lFrame.bindingIndex++}function vo(t){const r=Or.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function Bo(t){Or.lFrame.inI18n=t}function Qo(t,r){const i=Or.lFrame;i.bindingIndex=i.bindingRootIndex=t,fi(r)}function fi(t){Or.lFrame.currentDirectiveIndex=t}function Cs(t){const r=Or.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Xn(){return Or.lFrame.currentQueryIndex}function Ci(t){Or.lFrame.currentQueryIndex=t}function vs(t){const r=t[dn];return 2===r.type?r.declTNode:1===r.type?t[xi]:null}function ys(t,r,i){if(i&Nn.SkipSelf){let h=r,v=t;for(;!(h=h.parent,null!==h||i&Nn.Host||(h=vs(v),null===h||(v=v[to],10&h.type))););if(null===h)return!1;r=h,t=v}const u=Or.lFrame=bo();return u.currentTNode=r,u.lView=t,!0}function zo(t){const r=bo(),i=t[dn];Or.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function bo(){const t=Or.lFrame,r=null===t?null:t.child;return null===r?Ys(t):r}function Ys(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ms(){const t=Or.lFrame;return Or.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ii=ms;function _(){const t=ms();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qe(){return Or.lFrame.selectedIndex}function Gt(t){Or.lFrame.selectedIndex=t}function sn(){const t=Or.lFrame;return $o(t.tView,t.selectedIndex)}function dr(){Or.lFrame.currentNamespace=go}function Xr(){!function wo(){Or.lFrame.currentNamespace=null}()}function ss(t,r){for(let i=r.directiveStart,u=r.directiveEnd;i<u;i++){const v=t.data[i].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:F,ngAfterViewInit:Q,ngAfterViewChecked:ve,ngOnDestroy:We}=v;I&&(t.contentHooks??(t.contentHooks=[])).push(-i,I),F&&((t.contentHooks??(t.contentHooks=[])).push(i,F),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(i,F)),Q&&(t.viewHooks??(t.viewHooks=[])).push(-i,Q),ve&&((t.viewHooks??(t.viewHooks=[])).push(i,ve),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(i,ve)),null!=We&&(t.destroyHooks??(t.destroyHooks=[])).push(i,We)}}function Zo(t,r,i){me(t,r,3,i)}function bi(t,r,i,u){(3&t[sr])===i&&me(t,r,i,u)}function Y(t,r){let i=t[sr];(3&i)===r&&(i&=2047,i+=1,t[sr]=i)}function me(t,r,i,u){const v=u??-1,I=r.length-1;let F=0;for(let Q=void 0!==u?65535&t[Gi]:0;Q<I;Q++)if("number"==typeof r[Q+1]){if(F=r[Q],null!=u&&F>=u)break}else r[Q]<0&&(t[Gi]+=65536),(F<v||-1==v)&&(Z(t,i,r,Q),t[Gi]=(4294901760&t[Gi])+Q+2),Q++}function Z(t,r,i,u){const h=i[u]<0,v=i[u+1],F=t[h?-i[u]:i[u]];if(h){if(t[sr]>>11<t[Gi]>>16&&(3&t[sr])===r){t[sr]+=2048,Ur(4,F,v);try{v.call(F)}finally{Ur(5,F,v)}}}else{Ur(4,F,v);try{v.call(F)}finally{Ur(5,F,v)}}}const Re=-1;class At{constructor(r,i,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}function l(t,r,i){let u=0;for(;u<i.length;){const h=i[u];if("number"==typeof h){if(0!==h)break;u++;const v=i[u++],I=i[u++],F=i[u++];t.setAttribute(r,I,F,v)}else{const v=h,I=i[++u];b(v)?t.setProperty(r,v,I):t.setAttribute(r,v,I),u++}}return u}function d(t){return 3===t||4===t||6===t}function b(t){return 64===t.charCodeAt(0)}function A(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let u=0;u<r.length;u++){const h=r[u];"number"==typeof h?i=h:0===i||U(t,i,h,null,-1===i||2===i?r[++u]:null)}}return t}function U(t,r,i,u,h){let v=0,I=t.length;if(-1===r)I=-1;else for(;v<t.length;){const F=t[v++];if("number"==typeof F){if(F===r){I=-1;break}if(F>r){I=v-1;break}}}for(;v<t.length;){const F=t[v];if("number"==typeof F)break;if(F===i){if(null===u)return void(null!==h&&(t[v+1]=h));if(u===t[v+1])return void(t[v+2]=h)}v++,null!==u&&v++,null!==h&&v++}-1!==I&&(t.splice(I,0,r),v=I+1),t.splice(v++,0,i),null!==u&&t.splice(v++,0,u),null!==h&&t.splice(v++,0,h)}function de(t){return t!==Re}function Ce(t){return 32767&t}function et(t,r){let i=function ut(t){return t>>16}(t),u=r;for(;i>0;)u=u[to],i--;return u}let tn=!0;function yn(t){const r=tn;return tn=t,r}const Gn=255,X=5;let D=0;const S={};function ue(t,r){const i=lt(t,r);if(-1!==i)return i;const u=r[dn];u.firstCreatePass&&(t.injectorIndex=r.length,Ye(u.data,t),Ye(r,null),Ye(u.blueprint,null));const h=kt(t,r),v=t.injectorIndex;if(de(h)){const I=Ce(h),F=et(h,r),Q=F[dn].data;for(let ve=0;ve<8;ve++)r[v+ve]=F[I+ve]|Q[I+ve]}return r[v+8]=h,v}function Ye(t,r){t.push(0,0,0,0,0,0,0,0,r)}function lt(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function kt(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,u=null,h=r;for(;null!==h;){if(u=_s(h),null===u)return Re;if(i++,h=h[to],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return Re}function rn(t,r,i){!function L(t,r,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(vn)&&(u=i[vn]),null==u&&(u=i[vn]=D++);const h=u&Gn;r.data[t+(h>>X)]|=1<<h}(t,r,i)}function lr(t,r,i){if(i&Nn.Optional||void 0!==t)return t;tt()}function _r(t,r,i,u){if(i&Nn.Optional&&void 0===u&&(u=null),!(i&(Nn.Self|Nn.Host))){const h=t[Bi],v=Oe(void 0);try{return h?h.get(r,u,i&Nn.Optional):vt(r,u,i&Nn.Optional)}finally{Oe(v)}}return lr(u,0,i)}function ui(t,r,i,u=Nn.Default,h){if(null!==t){if(1024&r[sr]){const I=function as(t,r,i,u,h){let v=t,I=r;for(;null!==v&&null!==I&&1024&I[sr]&&!(256&I[sr]);){const F=Zr(v,I,i,u|Nn.Self,S);if(F!==S)return F;let Q=v.parent;if(!Q){const ve=I[B];if(ve){const We=ve.get(i,S,u);if(We!==S)return We}Q=_s(I),I=I[to]}v=Q}return h}(t,r,i,u,S);if(I!==S)return I}const v=Zr(t,r,i,u,S);if(v!==S)return v}return _r(r,i,u,h)}function Zr(t,r,i,u,h){const v=function Fi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(vn)?t[vn]:void 0;return"number"==typeof r?r>=0?r&Gn:Mo:r}(i);if("function"==typeof v){if(!ys(r,t,u))return u&Nn.Host?lr(h,0,u):_r(r,i,u,h);try{const I=v(u);if(null!=I||u&Nn.Optional)return I;tt()}finally{Ii()}}else if("number"==typeof v){let I=null,F=lt(t,r),Q=Re,ve=u&Nn.Host?r[Mi][xi]:null;for((-1===F||u&Nn.SkipSelf)&&(Q=-1===F?kt(t,r):r[F+8],Q!==Re&&eo(u,!1)?(I=r[dn],F=Ce(Q),r=et(Q,r)):F=-1);-1!==F;){const We=r[dn];if(yo(v,F,We.data)){const It=zr(F,r,i,I,u,ve);if(It!==S)return It}Q=r[F+8],Q!==Re&&eo(u,r[dn].data[F+8]===ve)&&yo(v,F,r)?(I=We,F=Ce(Q),r=et(Q,r)):F=-1}}return h}function zr(t,r,i,u,h,v){const I=r[dn],F=I.data[t+8],We=Yr(F,I,i,null==u?Oi(F)&&tn:u!=I&&0!=(3&F.type),h&Nn.Host&&v===F);return null!==We?si(r,I,We,F):S}function Yr(t,r,i,u,h){const v=t.providerIndexes,I=r.data,F=1048575&v,Q=t.directiveStart,We=v>>20,nn=h?F+We:t.directiveEnd;for(let _n=u?F:F+We;_n<nn;_n++){const zn=I[_n];if(_n<Q&&i===zn||_n>=Q&&zn.type===i)return _n}if(h){const _n=I[Q];if(_n&&Ai(_n)&&_n.type===i)return Q}return null}function si(t,r,i,u){let h=t[i];const v=r.data;if(function wn(t){return t instanceof At}(h)){const I=h;I.resolving&&function Ot(t,r){const i=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ye(-200,`Circular dependency in DI detected for ${t}${i}`)}(function en(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}(v[i]));const F=yn(I.canSeeViewProviders);I.resolving=!0;const Q=I.injectImpl?Oe(I.injectImpl):null;ys(t,u,Nn.Default);try{h=t[i]=I.factory(void 0,v,t,u),r.firstCreatePass&&i>=u.directiveStart&&function ns(t,r,i){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:v}=r.type.prototype;if(u){const I=Kr(r);(i.preOrderHooks??(i.preOrderHooks=[])).push(t,I),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,I)}h&&(i.preOrderHooks??(i.preOrderHooks=[])).push(0-t,h),v&&((i.preOrderHooks??(i.preOrderHooks=[])).push(t,v),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,v))}(i,v[i],r)}finally{null!==Q&&Oe(Q),yn(F),I.resolving=!1,Ii()}}return h}function yo(t,r,i){return!!(i[r+(t>>X)]&1<<t)}function eo(t,r){return!(t&Nn.Self||t&Nn.Host&&r)}class ho{constructor(r,i){this._tNode=r,this._lView=i}get(r,i,u){return ui(this._tNode,this._lView,r,Te(u),i)}}function Mo(){return new ho(oi(),Pn())}function rs(t){return xe(()=>{const r=t.prototype.constructor,i=r[Ft]||Ao(r),u=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==u;){const v=h[Ft]||Ao(h);if(v&&v!==i)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function Ao(t){return Fe(t)?()=>{const r=Ao(Se(t));return r&&r()}:Mn(t)}function _s(t){const r=t[dn],i=r.type;return 2===i?r.declTNode:1===i?t[xi]:null}function zs(t){return function An(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const u=i.length;let h=0;for(;h<u;){const v=i[h];if(d(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<u&&"string"==typeof i[h];)h++;else{if(v===r)return i[h+1];h+=2}}}return null}(oi(),t)}const Co="__parameters__",jo="__prop__metadata__";function ko(t){return function(...i){if(t){const u=t(...i);for(const h in u)this[h]=u[h]}}}function Ir(t,r,i){return xe(()=>{const u=ko(r);function h(...v){if(this instanceof h)return u.apply(this,v),this;const I=new h(...v);return F.annotation=I,F;function F(Q,ve,We){const It=Q.hasOwnProperty(Co)?Q[Co]:Object.defineProperty(Q,Co,{value:[]})[Co];for(;It.length<=We;)It.push(null);return(It[We]=It[We]||[]).push(I),Q}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function Fr(t,r,i,u){return xe(()=>{const h=ko(r);function v(...I){if(this instanceof v)return h.apply(this,I),this;const F=new v(...I);return function Q(ve,We){const It=ve.constructor,nn=It.hasOwnProperty(jo)?It[jo]:Object.defineProperty(It,jo,{value:{}})[jo];nn[We]=nn.hasOwnProperty(We)&&nn[We]||[],nn[We].unshift(F),u&&u(ve,We,...I)}}return i&&(v.prototype=Object.create(i.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}class Sr{constructor(r,i){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Et({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class po{}const Is=Fr("ContentChildren",(t,r={})=>({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...r}),po);function Js(t,r){t.forEach(i=>Array.isArray(i)?Js(i,r):r(i))}function bs(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function Pa(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function M(t,r){const i=[];for(let u=0;u<t;u++)i.push(r);return i}function Ie(t,r,i){let u=on(t,r);return u>=0?t[1|u]=i:(u=~u,function V(t,r,i,u){let h=t.length;if(h==r)t.push(i,u);else if(1===h)t.push(u,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=i,t[r+1]=u}}(t,u,r,i)),u}function Ze(t,r){const i=on(t,r);if(i>=0)return t[1|i]}function on(t,r){return function hr(t,r,i){let u=0,h=t.length>>i;for(;h!==u;){const v=u+(h-u>>1),I=t[v<<i];if(r===I)return v<<i;I>r?h=v:u=v+1}return~(h<<i)}(t,r,1)}const xa=ae(Ir("Inject",t=>({token:t})),-1),Ma=ae(Ir("Optional"),8),Nu=ae(Ir("Self"),2),Qa=ae(Ir("SkipSelf"),4);var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();const Ac=/^>|^->|<!--|-->|--!>|<!-$/g,Uu=/(<|>)/,Vu="\u200b$1\u200b";const Wl=new Map;let Hu=0;const Rc="__ngContext__";function Ms(t,r){ar(r)?(t[Rc]=r[pe],function Za(t){Wl.set(t[pe],t)}(r)):t[Rc]=r}let Gu;function Fc(t,r){return Gu(t,r)}function fu(t){const r=t[fr];return ki(r)?r[fr]:r}function Ku(t){return Lc(t[ji])}function $u(t){return Lc(t[ai])}function Lc(t){for(;null!==t&&!ki(t);)t=t[ai];return t}function Ea(t,r,i,u,h){if(null!=u){let v,I=!1;ki(u)?v=u:ar(u)&&(I=!0,u=u[rr]);const F=Ti(u);0===t&&null!==i?null==h?gu(r,i,F):Ta(r,i,F,h||null,!0):1===t&&null!==i?Ta(r,i,F,h||null,!0):2===t?_l(r,F,I):3===t&&r.destroyNode(F),null!=v&&function wl(t,r,i,u,h){const v=i[ur];v!==Ti(i)&&Ea(r,t,u,v,h);for(let F=vr;F<i.length;F++){const Q=i[F];bl(Q[dn],Q,t,r,u,v)}}(r,t,v,i,h)}}function qu(t,r){return t.createText(r)}function el(t,r,i){t.setValue(r,i)}function pu(t,r){return t.createComment(function kc(t){return t.replace(Ac,r=>r.replace(Uu,Vu))}(r))}function Gl(t,r,i){return t.createElement(r,i)}function La(t,r){const i=t[gr],u=i.indexOf(r),h=r[fr];512&r[sr]&&(r[sr]&=-513,Vi(h,-1)),i.splice(u,1)}function nl(t,r){if(t.length<=vr)return;const i=vr+r,u=t[i];if(u){const h=u[No];null!==h&&h!==t&&La(h,u),r>0&&(t[i-1][ai]=u[ai]);const v=Pa(t,vr+r);!function Fa(t,r){bl(t,r,r[jr],2,null,null),r[rr]=null,r[xi]=null}(u[dn],u);const I=v[ze];null!==I&&I.detachView(v[dn]),u[fr]=null,u[ai]=null,u[sr]&=-65}return u}function $l(t,r){if(!(128&r[sr])){const i=r[jr];i.destroyNode&&bl(t,r,i,3,null,null),function Kl(t){let r=t[ji];if(!r)return yl(t[dn],t);for(;r;){let i=null;if(ar(r))i=r[ji];else{const u=r[vr];u&&(i=u)}if(!i){for(;r&&!r[ai]&&r!==t;)ar(r)&&yl(r[dn],r),r=r[fr];null===r&&(r=t),ar(r)&&yl(r[dn],r),i=r&&r[ai]}r=i}}(r)}}function yl(t,r){if(!(128&r[sr])){r[sr]&=-65,r[sr]|=128,function Qu(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let u=0;u<i.length;u+=2){const h=r[i[u]];if(!(h instanceof At)){const v=i[u+1];if(Array.isArray(v))for(let I=0;I<v.length;I+=2){const F=h[v[I]],Q=v[I+1];Ur(4,F,Q);try{Q.call(F)}finally{Ur(5,F,Q)}}else{Ur(4,h,v);try{v.call(h)}finally{Ur(5,h,v)}}}}}(t,r),function md(t,r){const i=t.cleanup,u=r[di];let h=-1;if(null!==i)for(let v=0;v<i.length-1;v+=2)if("string"==typeof i[v]){const I=i[v+3];I>=0?u[h=I]():u[h=-I].unsubscribe(),v+=2}else{const I=u[h=i[v+1]];i[v].call(I)}if(null!==u){for(let v=h+1;v<u.length;v++)(0,u[v])();r[di]=null}}(t,r),1===r[dn].type&&r[jr].destroy();const i=r[No];if(null!==i&&ki(r[fr])){i!==r[fr]&&La(i,r);const u=r[ze];null!==u&&u.detachView(t)}!function su(t){Wl.delete(t[pe])}(r)}}function Xu(t,r,i){return mu(t,r.parent,i)}function mu(t,r,i){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return i[rr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:v}=t.data[u.directiveStart+h];if(v===Yt.None||v===Yt.Emulated)return null}return Yi(u,i)}}function Ta(t,r,i,u,h){t.insertBefore(r,i,u,h)}function gu(t,r,i){t.appendChild(r,i)}function ql(t,r,i,u,h){null!==u?Ta(t,r,i,u,h):gu(t,r,i)}function rl(t,r){return t.parentNode(r)}function Zu(t,r,i){return Ju(t,r,i)}function Xs(t,r,i){return 40&t.type?Yi(t,i):null}let vu,El,Dl,Cl,Ju=Xs;function Yc(t,r){Ju=t,vu=r}function Da(t,r,i,u){const h=Xu(t,u,r),v=r[jr],F=Zu(u.parent||r[xi],u,r);if(null!=h)if(Array.isArray(i))for(let Q=0;Q<i.length;Q++)ql(v,h,i[Q],F,!1);else ql(v,h,i,F,!1);void 0!==vu&&vu(v,u,r,i,h)}function Ql(t,r){if(null!==r){const i=r.type;if(3&i)return Yi(r,t);if(4&i)return Xl(-1,t[r.index]);if(8&i){const u=r.child;if(null!==u)return Ql(t,u);{const h=t[r.index];return ki(h)?Xl(-1,h):Ti(h)}}if(32&i)return Fc(r,t)()||Ti(t[r.index]);{const u=ec(t,r);return null!==u?Array.isArray(u)?u[0]:Ql(fu(t[Mi]),u):Ql(t,r.next)}}return null}function ec(t,r){return null!==r?t[Mi][xi].projection[r.projection]:null}function Xl(t,r){const i=vr+t+1;if(i<r.length){const u=r[i],h=u[dn].firstChild;if(null!==h)return Ql(u,h)}return r[ur]}function _l(t,r,i){const u=rl(t,r);u&&function lh(t,r,i,u){t.removeChild(r,i,u)}(t,u,r,i)}function Zl(t,r,i,u,h,v,I){for(;null!=i;){const F=u[i.index],Q=i.type;if(I&&0===r&&(F&&Ms(Ti(F),u),i.flags|=2),32!=(32&i.flags))if(8&Q)Zl(t,r,i.child,u,h,v,!1),Ea(r,t,h,F,v);else if(32&Q){const ve=Fc(i,u);let We;for(;We=ve();)Ea(r,t,h,We,v);Ea(r,t,h,F,v)}else 16&Q?Uc(t,r,u,i,h,v):Ea(r,t,h,F,v);i=I?i.projectionNext:i.next}}function bl(t,r,i,u,h,v){Zl(i,u,t.firstChild,r,h,v,!1)}function Uc(t,r,i,u,h,v){const I=i[Mi],Q=I[xi].projection[u.projection];if(Array.isArray(Q))for(let ve=0;ve<Q.length;ve++)Ea(r,t,h,Q[ve],v);else Zl(t,r,Q,I[fr],h,v,!0)}function Vc(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}function Vs(t,r,i){const{mergedAttrs:u,classes:h,styles:v}=i;null!==u&&l(t,r,u),null!==h&&Vc(t,r,h),null!==v&&function yu(t,r,i){t.setAttribute(r,"style",i)}(t,r,v)}function Sl(t){return function _u(){if(void 0===El&&(El=null,Qt.trustedTypes))try{El=Qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return El}()?.createHTML(t)||t}function Hc(t){Dl=t}function zc(){return void 0!==Dl?Dl:typeof document<"u"?document:void 0}function Jl(){if(void 0===Cl&&(Cl=null,Qt.trustedTypes))try{Cl=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}function bu(t){return Jl()?.createHTML(t)||t}function Eu(t){return Jl()?.createScriptURL(t)||t}class ja{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wt})`}}class tc extends ja{getTypeName(){return"HTML"}}class Wc extends ja{getTypeName(){return"Style"}}class _d extends ja{getTypeName(){return"Script"}}class bd extends ja{getTypeName(){return"URL"}}class Ya extends ja{getTypeName(){return"ResourceURL"}}function Ua(t){return t instanceof ja?t.changingThisBreaksApplicationSecurity:t}function il(t,r){const i=function ch(t){return t instanceof ja&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${Wt})`)}return i===r}function dh(t){return new tc(t)}function wd(t){return new Wc(t)}function s(t){return new _d(t)}function n(t){return new bd(t)}function o(t){return new Ya(t)}function c(t){const r=new w(t);return function x(){try{return!!(new window.DOMParser).parseFromString(Sl(""),"text/html")}catch{return!1}}()?new p(r):r}class p{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(Sl(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.removeChild(i.firstChild),i)}catch{return null}}}class w{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=Sl(r),i}}const G=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function he(t){return(t=String(t)).match(G)?t:"unsafe:"+t}function je(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function gt(...t){const r={};for(const i of t)for(const u in i)i.hasOwnProperty(u)&&(r[u]=!0);return r}const Kt=je("area,br,col,hr,img,wbr"),$t=je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cn=je("rp,rt"),Er=gt(Kt,gt($t,je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gt(cn,je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gt(cn,$t)),Wr=je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rr=gt(Wr,je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Io=je("script,style,template");class oa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let i=r.firstChild,u=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?u=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,u&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(r){const i=r.nodeName.toLowerCase();if(!Er.hasOwnProperty(i))return this.sanitizedSomething=!0,!Io.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const u=r.attributes;for(let h=0;h<u.length;h++){const v=u.item(h),I=v.name,F=I.toLowerCase();if(!Rr.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let Q=v.value;Wr[F]&&(Q=he(Q)),this.buf.push(" ",I,'="',Su(Q),'"')}return this.buf.push(">"),!0}endElement(r){const i=r.nodeName.toLowerCase();Er.hasOwnProperty(i)&&!Kt.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(Su(r))}checkClobberedElement(r,i){if(i&&(r.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return i}}const Va=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eu=/([^\#-~ |!])/g;function Su(t){return t.replace(/&/g,"&amp;").replace(Va,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(eu,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ol;function Il(t,r){let i=null;try{ol=ol||c(t);let u=r?String(r):"";i=ol.getInertBodyElement(u);let h=5,v=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=v,v=i.innerHTML,i=ol.getInertBodyElement(u)}while(u!==v);return Sl((new oa).sanitizeChildren(Tu(i)||i))}finally{if(i){const u=Tu(i)||i;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Tu(t){return"content"in t&&function Gc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Uo=(()=>((Uo=Uo||{})[Uo.NONE=0]="NONE",Uo[Uo.HTML=1]="HTML",Uo[Uo.STYLE=2]="STYLE",Uo[Uo.SCRIPT=3]="SCRIPT",Uo[Uo.URL=4]="URL",Uo[Uo.RESOURCE_URL=5]="RESOURCE_URL",Uo))();function sa(t){const r=rc();return r?bu(r.sanitize(Uo.HTML,t)||""):il(t,"HTML")?bu(Ua(t)):Il(zc(),yt(t))}function Kc(t){const r=rc();return r?r.sanitize(Uo.URL,t)||"":il(t,"URL")?Ua(t):he(yt(t))}function Ed(t){const r=rc();if(r)return Eu(r.sanitize(Uo.RESOURCE_URL,t)||"");if(il(t,"ResourceURL"))return Eu(Ua(t));throw new ye(904,!1)}function nc(t,r,i){return function Tf(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ed:Kc}(r,i)(t)}function rc(){const t=Pn();return t&&t[Qi]}const Sd=new Sr("ENVIRONMENT_INITIALIZER"),hh=new Sr("INJECTOR",-1),Df=new Sr("INJECTOR_DEF_TYPES");class fh{get(r,i=xt){if(i===xt){const u=new Error(`NullInjectorError: No provider for ${Ge(r)}!`);throw u.name="NullInjectorError",u}return i}}function Cf(t){return{\u0275providers:t}}function If(...t){return{\u0275providers:ph(0,t),\u0275fromNgModule:!0}}function ph(t,...r){const i=[],u=new Set;let h;return Js(r,v=>{const I=v;Dd(I,i,[],u)&&(h||(h=[]),h.push(I))}),void 0!==h&&Td(h,i),i}function Td(t,r){for(let i=0;i<t.length;i++){const{providers:h}=t[i];mh(h,v=>{r.push(v)})}}function Dd(t,r,i,u){if(!(t=Se(t)))return!1;let h=null,v=fn(t);const I=!v&&be(t);if(v||I){if(I&&!I.standalone)return!1;h=t}else{const Q=t.ngModule;if(v=fn(Q),!v)return!1;h=Q}const F=u.has(h);if(I){if(F)return!1;if(u.add(h),I.dependencies){const Q="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const ve of Q)Dd(ve,r,i,u)}}else{if(!v)return!1;{if(null!=v.imports&&!F){let ve;u.add(h);try{Js(v.imports,We=>{Dd(We,r,i,u)&&(ve||(ve=[]),ve.push(We))})}finally{}void 0!==ve&&Td(ve,r)}if(!F){const ve=Mn(h)||(()=>new h);r.push({provide:h,useFactory:ve,deps:qt},{provide:Df,useValue:h,multi:!0},{provide:Sd,useValue:()=>hn(h),multi:!0})}const Q=v.providers;null==Q||F||mh(Q,We=>{r.push(We)})}}return h!==t&&void 0!==t.providers}function mh(t,r){for(let i of t)bt(i)&&(i=i.\u0275providers),Array.isArray(i)?mh(i,r):r(i)}const xf=Qe({provide:String,useValue:Qe});function ic(t){return null!==t&&"object"==typeof t&&xf in t}function za(t){return"function"==typeof t}const Id=new Sr("Set Injector scope."),$c={},Up={};let Pd;function qc(){return void 0===Pd&&(Pd=new fh),Pd}class Wa{}class Qc extends Wa{get destroyed(){return this._destroyed}constructor(r,i,u,h){super(),this.parent=i,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yh(r,I=>this.processProvider(I)),this.records.set(hh,Du(void 0,this)),h.has("environment")&&this.records.set(Wa,Du(void 0,this));const v=this.records.get(Id);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Df.multi,qt,Nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const i=nr(this),u=Oe(void 0);try{return r()}finally{nr(i),Oe(u)}}get(r,i=xt,u=Nn.Default){this.assertNotDestroyed(),u=Te(u);const h=nr(this),v=Oe(void 0);try{if(!(u&Nn.SkipSelf)){let F=this.records.get(r);if(void 0===F){const Q=function vh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Sr}(r)&&an(r);F=Q&&this.injectableDefInScope(Q)?Du(xd(r),$c):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(u&Nn.Self?qc():this.parent).get(r,i=u&Nn.Optional&&i===xt?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[dt]=I[dt]||[]).unshift(Ge(r)),h)throw I;return function Tt(t,r,i,u){const h=t[dt];throw r[kn]&&h.unshift(r[kn]),t.message=function bn(t,r,i,u=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Wn?t.slice(2):t;let h=Ge(r);if(Array.isArray(r))h=r.map(Ge).join(" -> ");else if("object"==typeof r){let v=[];for(let I in r)if(r.hasOwnProperty(I)){let F=r[I];v.push(I+":"+("string"==typeof F?JSON.stringify(F):Ge(F)))}h=`{${v.join(", ")}}`}return`${i}${u?"("+u+")":""}[${h}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,h,i,u),t[En]=h,t[dt]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{Oe(v),nr(h)}}resolveInjectorInitializers(){const r=nr(this),i=Oe(void 0);try{const u=this.get(Sd.multi,qt,Nn.Self);for(const h of u)h()}finally{nr(r),Oe(i)}}toString(){const r=[],i=this.records;for(const u of i.keys())r.push(Ge(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(r){let i=za(r=Se(r))?r:Se(r&&r.provide);const u=function gh(t){return ic(t)?Du(void 0,t.useValue):Du(Md(t),$c)}(r);if(za(r)||!0!==r.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=Du(void 0,$c,!0),h.factory=()=>le(h.multi),this.records.set(i,h)),i=r,h.multi.push(r)}this.records.set(i,u)}hydrate(r,i){return i.value===$c&&(i.value=Up,i.value=i.factory()),"object"==typeof i.value&&i.value&&function zp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(r){if(!r.providedIn)return!1;const i=Se(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function xd(t){const r=an(t),i=null!==r?r.factory:Mn(t);if(null!==i)return i;if(t instanceof Sr)throw new ye(204,!1);if(t instanceof Function)return function Vp(t){const r=t.length;if(r>0)throw M(r,"?"),new ye(204,!1);const i=function Xt(t){return t&&(t[jn]||t[er])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ye(204,!1)}function Md(t,r,i){let u;if(za(t)){const h=Se(t);return Mn(h)||xd(h)}if(ic(t))u=()=>Se(t.useValue);else if(function oc(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...le(t.deps||[]));else if(function Cd(t){return!(!t||!t.useExisting)}(t))u=()=>hn(Se(t.useExisting));else{const h=Se(t&&(t.useClass||t.provide));if(!function Hp(t){return!!t.deps}(t))return Mn(h)||xd(h);u=()=>new h(...le(t.deps))}return u}function Du(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function yh(t,r){for(const i of t)Array.isArray(i)?yh(i,r):i&&bt(i)?yh(i.\u0275providers,r):r(i)}class Wp{}class Mf{}class Af{resolveComponentFactory(r){throw function Gp(t){const r=Error(`No component factory found for ${Ge(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Iu=(()=>{class t{}return t.NULL=new Af,t})();function Xc(){return Ca(oi(),Pn())}function Ca(t,r){return new sl(Yi(t,r))}let sl=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=Xc,t})();function Kp(t){return t instanceof sl?t.nativeElement:t}class Pu{}let $p=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function _h(){const t=Pn(),i=ti(oi().index,t);return(ar(i)?i:t)[jr]}(),t})(),qp=(()=>{class t{}return t.\u0275prov=Et({token:t,providedIn:"root",factory:()=>null}),t})();class Ad{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Qp=new Ad("15.2.10"),bh={},wh="ngOriginalError";function ac(t){return t[wh]}class lc{constructor(){this._console=console}handleError(r){const i=this._findOriginalError(r);this._console.error("ERROR",r),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(r){let i=r&&ac(r);for(;i&&ac(i);)i=ac(i);return i||null}}function Od(t){return t.ownerDocument}function Pl(t){return t instanceof Function?t():t}function Th(t,r,i){let u=t.length;for(;;){const h=t.indexOf(r,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const v=r.length;if(h+v===u||t.charCodeAt(h+v)<=32)return h}i=h+1}}const Nd="ng-template";function Jp(t,r,i){let u=0,h=!0;for(;u<t.length;){let v=t[u++];if("string"==typeof v&&h){const I=t[u++];if(i&&"class"===v&&-1!==Th(I.toLowerCase(),r,0))return!0}else{if(1===v){for(;u<t.length&&"string"==typeof(v=t[u++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function Lf(t){return 4===t.type&&t.value!==Nd}function Dh(t,r,i){return r===(4!==t.type||i?t.value:Nd)}function em(t,r,i){let u=4;const h=t.attrs||[],v=function jf(t){for(let r=0;r<t.length;r++)if(d(t[r]))return r;return t.length}(h);let I=!1;for(let F=0;F<r.length;F++){const Q=r[F];if("number"!=typeof Q){if(!I)if(4&u){if(u=2|1&u,""!==Q&&!Dh(t,Q,i)||""===Q&&1===r.length){if(ma(u))return!1;I=!0}}else{const ve=8&u?Q:r[++F];if(8&u&&null!==t.attrs){if(!Jp(t.attrs,ve,i)){if(ma(u))return!1;I=!0}continue}const It=tm(8&u?"class":Q,h,Lf(t),i);if(-1===It){if(ma(u))return!1;I=!0;continue}if(""!==ve){let nn;nn=It>v?"":h[It+1].toLowerCase();const _n=8&u?nn:null;if(_n&&-1!==Th(_n,ve,0)||2&u&&ve!==nn){if(ma(u))return!1;I=!0}}}}else{if(!I&&!ma(u)&&!ma(Q))return!1;if(I&&ma(Q))continue;I=!1,u=Q|1&u}}return ma(u)||I}function ma(t){return 0==(1&t)}function tm(t,r,i,u){if(null===r)return-1;let h=0;if(u||!i){let v=!1;for(;h<r.length;){const I=r[h];if(I===t)return h;if(3===I||6===I)v=!0;else{if(1===I||2===I){let F=r[++h];for(;"string"==typeof F;)F=r[++h];continue}if(4===I)break;if(0===I){h+=4;continue}}h+=v?1:2}return-1}return function Yf(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const u=t[i];if("number"==typeof u)return-1;if(u===r)return i;i++}return-1}(r,t)}function Zc(t,r,i=!1){for(let u=0;u<r.length;u++)if(em(t,r[u],i))return!0;return!1}function Ch(t,r){e:for(let i=0;i<r.length;i++){const u=r[i];if(t.length===u.length){for(let h=0;h<t.length;h++)if(t[h]!==u[h])continue e;return!0}}return!1}function Ih(t,r){return t?":not("+r.trim()+")":r}function nm(t){let r=t[0],i=1,u=2,h="",v=!1;for(;i<t.length;){let I=t[i];if("string"==typeof I)if(2&u){const F=t[++i];h+="["+I+(F.length>0?'="'+F+'"':"")+"]"}else 8&u?h+="."+I:4&u&&(h+=" "+I);else""!==h&&!ma(I)&&(r+=Ih(v,h),h=""),u=I,v=v||!ma(u);i++}return""!==h&&(r+=Ih(v,h)),r}const ci={};function Ph(t){xh(Vr(),Pn(),qe()+t,!1)}function xh(t,r,i,u){if(!u)if(3==(3&r[sr])){const v=t.preOrderCheckHooks;null!==v&&Zo(r,v,i)}else{const v=t.preOrderHooks;null!==v&&bi(r,v,0,i)}Gt(i)}function Wf(t,r=null,i=null,u){const h=Ah(t,r,i,u);return h.resolveInjectorInitializers(),h}function Ah(t,r=null,i=null,u,h=new Set){const v=[i||qt,If(t)];return u=u||("object"==typeof t?void 0:Ge(t)),new Qc(v,r||qc(),u||null,h)}let Mu=(()=>{class t{static create(i,u){if(Array.isArray(i))return Wf({name:""},u,i,"");{const h=i.name??"";return Wf({name:h},i.parent,i.providers,h)}}}return t.THROW_IF_NOT_FOUND=xt,t.NULL=new fh,t.\u0275prov=Et({token:t,providedIn:"any",factory:()=>hn(hh)}),t.__NG_ELEMENT_ID__=-1,t})();function al(t,r=Nn.Default){const i=Pn();return null===i?hn(t,r):ui(oi(),i,Se(t),r)}function Ud(){throw new Error("invalid")}function Jf(t,r){const i=t.contentQueries;if(null!==i)for(let u=0;u<i.length;u+=2){const v=i[u+1];if(-1!==v){const I=t.data[v];Ci(i[u]),I.contentQueries(2,r[v],v)}}}function hc(t,r,i,u,h,v,I,F,Q,ve,We){const It=r.blueprint.slice();return It[rr]=h,It[sr]=76|u,(null!==We||t&&1024&t[sr])&&(It[sr]|=1024),is(It),It[fr]=It[to]=t,It[Mr]=i,It[Ni]=I||t&&t[Ni],It[jr]=F||t&&t[jr],It[Qi]=Q||t&&t[Qi]||null,It[Bi]=ve||t&&t[Bi]||null,It[xi]=v,It[pe]=function ou(){return Hu++}(),It[B]=We,It[Mi]=2==r.type?t[Mi]:It,It}function fc(t,r,i,u,h){let v=t.data[r];if(null===v)v=Ml(t,r,i,u,h),function Ho(){return Or.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=i,v.value=u,v.attrs=h;const I=Di();v.injectorIndex=null===I?-1:I.injectorIndex}return Ji(v,!0),v}function Ml(t,r,i,u,h){const v=Zi(),I=Bs(),Q=t.data[r]=function dm(t,r,i,u,h,v){return{type:i,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?v:v&&v.parent,i,r,u,h);return null===t.firstChild&&(t.firstChild=Q),null!==v&&(I?null==v.child&&null!==Q.parent&&(v.child=Q):null===v.next&&(v.next=Q,Q.prev=v)),Q}function Al(t,r,i,u){if(0===i)return-1;const h=r.length;for(let v=0;v<i;v++)r.push(u),t.blueprint.push(u),t.data.push(null);return h}function Vd(t,r,i){zo(r);try{const u=t.viewQuery;null!==u&&Rl(1,u,i);const h=t.template;null!==h&&Hd(t,r,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jf(t,r),t.staticViewQueries&&Rl(2,t.viewQuery,i);const v=t.components;null!==v&&function Vh(t,r){for(let i=0;i<r.length;i++)lp(t,r[i])}(r,v)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{r[sr]&=-5,_()}}function td(t,r,i,u){const h=r[sr];if(128!=(128&h)){zo(r);try{is(r),function xo(t){return Or.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Hd(t,r,i,2,u);const I=3==(3&h);if(I){const ve=t.preOrderCheckHooks;null!==ve&&Zo(r,ve,null)}else{const ve=t.preOrderHooks;null!==ve&&bi(r,ve,0,null),Y(r,0)}if(function vm(t){for(let r=Ku(t);null!==r;r=$u(r)){if(!r[$n])continue;const i=r[gr];for(let u=0;u<i.length;u++){const h=i[u];512&h[sr]||Vi(h[fr],1),h[sr]|=512}}}(r),function ap(t){for(let r=Ku(t);null!==r;r=$u(r))for(let i=vr;i<r.length;i++){const u=r[i],h=u[dn];Ui(u)&&td(h,u,h.template,u[Mr])}}(r),null!==t.contentQueries&&Jf(t,r),I){const ve=t.contentCheckHooks;null!==ve&&Zo(r,ve)}else{const ve=t.contentHooks;null!==ve&&bi(r,ve,1),Y(r,1)}!function Uh(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const h=i[u];if(h<0)Gt(~h);else{const v=h,I=i[++u],F=i[++u];Qo(I,v),F(2,r[v])}}}finally{Gt(-1)}}(t,r);const F=t.components;null!==F&&function ep(t,r){for(let i=0;i<r.length;i++)qh(t,r[i])}(r,F);const Q=t.viewQuery;if(null!==Q&&Rl(2,Q,u),I){const ve=t.viewCheckHooks;null!==ve&&Zo(r,ve)}else{const ve=t.viewHooks;null!==ve&&bi(r,ve,2),Y(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[sr]&=-41,512&r[sr]&&(r[sr]&=-513,Vi(r[fr],-1))}finally{_()}}}function Hd(t,r,i,u,h){const v=qe(),I=2&u;try{Gt(-1),I&&r.length>_e&&xh(t,r,_e,!1),Ur(I?2:0,h),i(u,h)}finally{Gt(v),Ur(I?3:1,h)}}function nd(t,r,i){if(ao(r)){const h=r.directiveEnd;for(let v=r.directiveStart;v<h;v++){const I=t.data[v];I.contentQueries&&I.contentQueries(1,i[v],v)}}}function rd(t,r,i){Hi()&&(function zh(t,r,i,u){const h=i.directiveStart,v=i.directiveEnd;Oi(i)&&function sp(t,r,i){const u=Yi(r,t),h=kl(i),v=t[Ni],I=Ol(t,hc(t,h,null,i.onPush?32:16,u,r,v,v.createRenderer(u,i),null,null,null));t[r.index]=I}(r,i,t.data[h+i.componentOffset]),t.firstCreatePass||ue(i,r),Ms(u,r);const I=i.initialInputs;for(let F=h;F<v;F++){const Q=t.data[F],ve=si(r,t,F,i);Ms(ve,r),null!==I&&gc(0,F-h,ve,Q,0,I),Ai(Q)&&(ti(i.index,r)[Mr]=si(r,t,F,i))}}(t,r,i,Yi(i,r)),64==(64&i.flags)&&Wh(t,r,i))}function zd(t,r,i=Yi){const u=r.localNames;if(null!==u){let h=r.index+1;for(let v=0;v<u.length;v+=2){const I=u[v+1],F=-1===I?i(r,t):t[I];t[h++]=F}}}function kl(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=pc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function pc(t,r,i,u,h,v,I,F,Q,ve){const We=_e+u,It=We+h,nn=function Hh(t,r){const i=[];for(let u=0;u<r;u++)i.push(u<t?null:ci);return i}(We,It),_n="function"==typeof ve?ve():ve;return nn[dn]={type:t,blueprint:nn,template:i,queries:null,viewQuery:F,declTNode:r,data:nn.slice().fill(null,We),bindingStartIndex:We,expandoStartIndex:It,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:Q,consts:_n,incompleteFirstPass:!1}}function tp(t,r,i,u){const h=Ei(r);null===i?h.push(u):(h.push(i),t.firstCreatePass&&sd(t).push(u,h.length-1))}function id(t,r,i,u){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const v=t[h];null===u?mc(i,r,h,v):u.hasOwnProperty(h)&&mc(i,r,u[h],v)}return i}function mc(t,r,i,u){t.hasOwnProperty(i)?t[i].push(r,u):t[i]=[r,u]}function aa(t,r,i,u,h,v,I,F){const Q=Yi(r,i);let We,ve=r.inputs;!F&&null!=ve&&(We=ve[u])?(Jo(t,i,We,u,h),Oi(r)&&function ip(t,r){const i=ti(r,t);16&i[sr]||(i[sr]|=32)}(i,r.index)):3&r.type&&(u=function rp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),h=null!=I?I(h,r.value||"",u):h,v.setProperty(Q,u,h))}function Wd(t,r,i,u){if(Hi()){const h=null===u?null:{"":-1},v=function Gh(t,r){const i=t.directiveRegistry;let u=null,h=null;if(i)for(let v=0;v<i.length;v++){const I=i[v];if(Zc(r,I.selectors,!1))if(u||(u=[]),Ai(I))if(null!==I.findHostDirectiveDefs){const F=[];h=h||new Map,I.findHostDirectiveDefs(I,F,h),u.unshift(...F,I),od(t,r,F.length)}else u.unshift(I),od(t,r,0);else h=h||new Map,I.findHostDirectiveDefs?.(I,u,h),u.push(I)}return null===u?null:[u,h]}(t,i);let I,F;null===v?I=F=null:[I,F]=v,null!==I&&op(t,r,i,I,h,F),h&&function mm(t,r,i){if(r){const u=t.localNames=[];for(let h=0;h<r.length;h+=2){const v=i[r[h+1]];if(null==v)throw new ye(-301,!1);u.push(r[h],v)}}}(i,u,h)}i.mergedAttrs=A(i.mergedAttrs,i.attrs)}function op(t,r,i,u,h,v){for(let ve=0;ve<u.length;ve++)rn(ue(i,r),t,u[ve].type);!function ul(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,u.length);for(let ve=0;ve<u.length;ve++){const We=u[ve];We.providersResolver&&We.providersResolver(We)}let I=!1,F=!1,Q=Al(t,r,u.length,null);for(let ve=0;ve<u.length;ve++){const We=u[ve];i.mergedAttrs=A(i.mergedAttrs,We.hostAttrs),gm(t,i,r,Q,We),Kh(Q,We,h),null!==We.contentQueries&&(i.flags|=4),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(i.flags|=64);const It=We.type.prototype;!I&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(i.index),I=!0),!F&&(It.ngOnChanges||It.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(i.index),F=!0),Q++}!function np(t,r,i){const h=r.directiveEnd,v=t.data,I=r.attrs,F=[];let Q=null,ve=null;for(let We=r.directiveStart;We<h;We++){const It=v[We],nn=i?i.get(It):null,zn=nn?nn.outputs:null;Q=id(It.inputs,We,Q,nn?nn.inputs:null),ve=id(It.outputs,We,ve,zn);const cr=null===Q||null===I||Lf(r)?null:Ka(Q,We,I);F.push(cr)}null!==Q&&(Q.hasOwnProperty("class")&&(r.flags|=8),Q.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=F,r.inputs=Q,r.outputs=ve}(t,i,v)}function Wh(t,r,i){const u=i.directiveStart,h=i.directiveEnd,v=i.index,I=function js(){return Or.lFrame.currentDirectiveIndex}();try{Gt(v);for(let F=u;F<h;F++){const Q=t.data[F],ve=r[F];fi(F),(null!==Q.hostBindings||0!==Q.hostVars||null!==Q.hostAttrs)&&pm(Q,ve)}}finally{Gt(-1),fi(I)}}function pm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function od(t,r,i){r.componentOffset=i,(t.components??(t.components=[])).push(r.index)}function Kh(t,r,i){if(i){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)i[r.exportAs[u]]=t;Ai(r)&&(i[""]=t)}}function gm(t,r,i,u,h){t.data[u]=h;const v=h.factory||(h.factory=Mn(h.type)),I=new At(v,Ai(h),al);t.blueprint[u]=I,i[u]=I,function hm(t,r,i,u,h){const v=h.hostBindings;if(v){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const F=~r.index;(function fm(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(I)!=F&&I.push(F),I.push(i,u,v)}}(t,r,u,Al(t,i,h.hostVars,ci),h)}function Gd(t,r,i,u,h,v,I){if(null==v)t.removeAttribute(r,h,i);else{const F=null==I?yt(v):I(v,u||"",h);t.setAttribute(r,h,F,i)}}function gc(t,r,i,u,h,v){const I=v[r];if(null!==I){const F=u.setInput;for(let Q=0;Q<I.length;){const ve=I[Q++],We=I[Q++],It=I[Q++];null!==F?u.setInput(i,It,ve,We):i[We]=It}}}function Ka(t,r,i){let u=null,h=0;for(;h<i.length;){const v=i[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===u&&(u=[]);const I=t[v];for(let F=0;F<I.length;F+=2)if(I[F]===r){u.push(v,I[F+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function $h(t,r,i,u){return[t,!0,!1,r,null,0,u,i,null,null]}function qh(t,r){const i=ti(r,t);if(Ui(i)){const u=i[dn];48&i[sr]?td(u,i,u.template,i[Mr]):i[Cr]>0&&Qh(i)}}function Qh(t){for(let u=Ku(t);null!==u;u=$u(u))for(let h=vr;h<u.length;h++){const v=u[h];if(Ui(v))if(512&v[sr]){const I=v[dn];td(I,v,I.template,v[Mr])}else v[Cr]>0&&Qh(v)}const i=t[dn].components;if(null!==i)for(let u=0;u<i.length;u++){const h=ti(i[u],t);Ui(h)&&h[Cr]>0&&Qh(h)}}function lp(t,r){const i=ti(r,t),u=i[dn];(function ym(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])})(u,i),Vd(u,i,i[Mr])}function Ol(t,r){return t[ji]?t[io][ai]=r:t[ji]=r,t[io]=r,r}function Kd(t){for(;t;){t[sr]|=32;const r=fu(t);if(Gr(t)&&!r)return t;t=r}return null}function $d(t,r,i,u=!0){const h=r[Ni];h.begin&&h.begin();try{td(t,r,t.template,i)}catch(I){throw u&&up(r,I),I}finally{h.end&&h.end()}}function Rl(t,r,i){Ci(0),r(t,i)}function Ei(t){return t[di]||(t[di]=[])}function sd(t){return t.cleanup||(t.cleanup=[])}function vc(t,r,i){return(null===t||Ai(t))&&(i=function yi(t){for(;Array.isArray(t);){if("object"==typeof t[un])return t;t=t[rr]}return null}(i[r.index])),i[jr]}function up(t,r){const i=t[Bi],u=i?i.get(lc,null):null;u&&u.handleError(r)}function Jo(t,r,i,u,h){for(let v=0;v<i.length;){const I=i[v++],F=i[v++],Q=r[I],ve=t.data[I];null!==ve.setInput?ve.setInput(Q,h,u,F):Q[F]=h}}function va(t,r,i){const u=hi(r,t);el(t[jr],u,i)}function Nl(t,r,i){let u=i?t.styles:null,h=i?t.classes:null,v=0;if(null!==r)for(let I=0;I<r.length;I++){const F=r[I];"number"==typeof F?v=F:1==v?h=ie(h,F):2==v&&(u=ie(u,F+": "+r[++I]+";"))}i?t.styles=u:t.stylesWithoutHost=u,i?t.classes=h:t.classesWithoutHost=h}function yc(t,r,i,u,h=!1){for(;null!==i;){const v=r[i.index];if(null!==v&&u.push(Ti(v)),ki(v))for(let F=vr;F<v.length;F++){const Q=v[F],ve=Q[dn].firstChild;null!==ve&&yc(Q[dn],Q,ve,u)}const I=i.type;if(8&I)yc(t,r,i.child,u);else if(32&I){const F=Fc(i,r);let Q;for(;Q=F();)u.push(Q)}else if(16&I){const F=ec(r,i);if(Array.isArray(F))u.push(...F);else{const Q=fu(r[Mi]);yc(Q[dn],Q,F,u,!0)}}i=h?i.projectionNext:i.next}return u}class Au{get rootNodes(){const r=this._lView,i=r[dn];return yc(i,r,i.firstChild,[])}constructor(r,i){this._lView=r,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(r){this._lView[Mr]=r}get destroyed(){return 128==(128&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[fr];if(ki(r)){const i=r[kr],u=i?i.indexOf(this):-1;u>-1&&(nl(r,u),Pa(i,u))}this._attachedToViewContainer=!1}$l(this._lView[dn],this._lView)}onDestroy(r){tp(this._lView[dn],this._lView,null,r)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-65}reattach(){this._lView[sr]|=64}detectChanges(){$d(this._lView[dn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tl(t,r){bl(t,r,r[jr],2,null,null)}(this._lView[dn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=r}}class cp extends Au{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;$d(r[dn],r,r[Mr],!1)}checkNoChanges(){}get context(){return null}}class ad extends Iu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=be(r);return new ku(i,this.ngModule)}}function qd(t){const r=[];for(let i in t)t.hasOwnProperty(i)&&r.push({propName:t[i],templateName:i});return r}class Zh{constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,u){u=Te(u);const h=this.injector.get(r,bh,u);return h!==bh||i===bh?h:this.parentInjector.get(r,i,u)}}class ku extends Mf{get inputs(){return qd(this.componentDef.inputs)}get outputs(){return qd(this.componentDef.outputs)}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function rm(t){return t.map(nm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!i}create(r,i,u,h){let v=(h=h||this.ngModule)instanceof Wa?h:h?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const I=v?new Zh(r,v):r,F=I.get(Pu,null);if(null===F)throw new ye(407,!1);const Q=I.get(qp,null),ve=F.createRenderer(null,this.componentDef),We=this.componentDef.selectors[0][0]||"div",It=u?function ll(t,r,i){return t.selectRootElement(r,i===Yt.ShadowDom)}(ve,u,this.componentDef.encapsulation):Gl(ve,We,function Xh(t){const r=t.toLowerCase();return"svg"===r?go:"math"===r?"math":null}(We)),nn=this.componentDef.onPush?288:272,_n=pc(0,null,null,1,0,null,null,null,null,null),zn=hc(null,_n,null,nn,null,null,F,ve,Q,I,null);let cr,Tr;zo(zn);try{const Br=this.componentDef;let ii,tr=null;Br.findHostDirectiveDefs?(ii=[],tr=new Map,Br.findHostDirectiveDefs(Br,ii,tr),ii.push(Br)):ii=[Br];const _i=function _m(t,r){const i=t[dn],u=_e;return t[u]=r,fc(i,u,2,"#host",null)}(zn,It),us=function ef(t,r,i,u,h,v,I,F){const Q=h[dn];!function tf(t,r,i,u){for(const h of t)r.mergedAttrs=A(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(Nl(r,r.mergedAttrs,!0),null!==i&&Vs(u,i,r))}(u,t,r,I);const ve=v.createRenderer(r,i),We=hc(h,kl(i),null,i.onPush?32:16,h[t.index],t,v,ve,F||null,null,null);return Q.firstCreatePass&&od(Q,t,u.length-1),Ol(h,We),h[t.index]=We}(_i,It,Br,ii,zn,F,ve);Tr=$o(_n,_e),It&&function hp(t,r,i,u){if(u)l(t,i,["ng-version",Qp.full]);else{const{attrs:h,classes:v}=function Uf(t){const r=[],i=[];let u=1,h=2;for(;u<t.length;){let v=t[u];if("string"==typeof v)2===h?""!==v&&r.push(v,t[++u]):8===h&&i.push(v);else{if(!ma(h))break;h=v}u++}return{attrs:r,classes:i}}(r.selectors[0]);h&&l(t,i,h),v&&v.length>0&&Vc(t,i,v.join(" "))}}(ve,Br,It,u),void 0!==i&&function fp(t,r,i){const u=t.projection=[];for(let h=0;h<r.length;h++){const v=i[h];u.push(null!=v?Array.from(v):null)}}(Tr,this.ngContentSelectors,i),cr=function dp(t,r,i,u,h,v){const I=oi(),F=h[dn],Q=Yi(I,h);op(F,h,I,i,null,u);for(let We=0;We<i.length;We++)Ms(si(h,F,I.directiveStart+We,I),h);Wh(F,h,I),Q&&Ms(Q,h);const ve=si(h,F,I.directiveStart+I.componentOffset,I);if(t[Mr]=h[Mr]=ve,null!==v)for(const We of v)We(ve,r);return nd(F,I,t),ve}(us,Br,ii,tr,zn,[bm]),Vd(_n,zn,null)}finally{_()}return new Jh(this.componentType,cr,Ca(Tr,zn),zn,Tr)}}class Jh extends Wp{constructor(r,i,u,h,v){super(),this.location=u,this._rootLView=h,this._tNode=v,this.instance=i,this.hostView=this.changeDetectorRef=new cp(h),this.componentType=r}setInput(r,i){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[r])){const v=this._rootLView;Jo(v[dn],v,h,r,i),Kd(ti(this._tNode.index,v))}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function bm(){const t=oi();ss(Pn()[dn],t)}function rf(t){let r=function nf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const u=[t];for(;r;){let h;if(Ai(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ye(903,!1);h=r.\u0275dir}if(h){if(i){u.push(h);const I=t;I.inputs=_c(t.inputs),I.declaredInputs=_c(t.declaredInputs),I.outputs=_c(t.outputs);const F=h.hostBindings;F&&mp(t,F);const Q=h.viewQuery,ve=h.contentQueries;if(Q&&af(t,Q),ve&&pp(t,ve),te(t.inputs,h.inputs),te(t.declaredInputs,h.declaredInputs),te(t.outputs,h.outputs),Ai(h)&&h.data.animation){const We=t.data;We.animation=(We.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let I=0;I<v.length;I++){const F=v[I];F&&F.ngInherit&&F(t),F===rf&&(i=!1)}}r=Object.getPrototypeOf(r)}!function sf(t){let r=0,i=null;for(let u=t.length-1;u>=0;u--){const h=t[u];h.hostVars=r+=h.hostVars,h.hostAttrs=A(h.hostAttrs,i=A(i,h.hostAttrs))}}(u)}function _c(t){return t===ln?{}:t===qt?[]:t}function af(t,r){const i=t.viewQuery;t.viewQuery=i?(u,h)=>{r(u,h),i(u,h)}:r}function pp(t,r){const i=t.contentQueries;t.contentQueries=i?(u,h,v)=>{r(u,h,v),i(u,h,v)}:r}function mp(t,r){const i=t.hostBindings;t.hostBindings=i?(u,h)=>{r(u,h),i(u,h)}:r}function Ou(t){return r=>{r.findHostDirectiveDefs=$a,r.hostDirectives=(Array.isArray(t)?t:t()).map(i=>"function"==typeof i?{directive:Se(i),inputs:ln,outputs:ln}:{directive:Se(i.directive),inputs:gp(i.inputs),outputs:gp(i.outputs)})}}function $a(t,r,i){if(null!==t.hostDirectives)for(const u of t.hostDirectives){const h=$e(u.directive);wm(h.declaredInputs,u.inputs),$a(h,r,i),i.set(h,u),r.push(h)}}function gp(t){if(void 0===t||0===t.length)return ln;const r={};for(let i=0;i<t.length;i+=2)r[t[i]]=t[i+1];return r}function wm(t,r){for(const i in r)r.hasOwnProperty(i)&&(t[r[i]]=t[i])}function Ll(t){return!!bc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function bc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,r,i){return t[r]=i}function wc(t,r){return t[r]}function Wi(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function tu(t,r,i,u){const h=Wi(t,r,i);return Wi(t,r+1,u)||h}function Qd(t,r,i,u,h){const v=tu(t,r,i,u);return Wi(t,r+2,h)||v}function e(t,r,i,u,h,v){const I=tu(t,r,i,u);return tu(t,r+2,h,v)||I}function a(t,r,i,u){const h=Pn();return Wi(h,Do(),r)&&(Vr(),function Ga(t,r,i,u,h,v){const I=Yi(t,r);Gd(r[jr],I,v,t.value,i,u,h)}(sn(),h,t,r,i,u)),a}function P(t,r,i,u){return Wi(t,Do(),i)?r+yt(i)+u:ci}function $(t,r,i,u,h,v){const F=tu(t,Lo(),i,h);return vo(2),F?r+yt(i)+u+yt(h)+v:ci}function Bg(t,r,i,u,h,v,I,F){const Q=Pn(),ve=Vr(),We=t+_e,It=ve.firstCreatePass?function z_(t,r,i,u,h,v,I,F,Q){const ve=r.consts,We=fc(r,t,4,I||null,Xi(ve,F));Wd(r,i,We,Xi(ve,Q)),ss(r,We);const It=We.tView=pc(2,We,u,h,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ve);return null!==r.queries&&(r.queries.template(r,We),It.queries=r.queries.embeddedTView(We)),We}(We,ve,Q,r,i,u,h,v,I):ve.data[We];Ji(It,!1);const nn=Q[jr].createComment("");Da(ve,Q,nn,It),Ms(nn,Q),Ol(Q,Q[We]=$h(nn,Q,nn,It)),Ki(It)&&rd(ve,Q,It),null!=I&&zd(Q,It,F)}function jg(t){return Fs(function ps(){return Or.lFrame.contextLView}(),_e+t)}function Sm(t,r,i){const u=Pn();return Wi(u,Do(),r)&&aa(Vr(),sn(),u,t,r,u[jr],i,!1),Sm}function Tm(t,r,i,u,h){const I=h?"class":"style";Jo(t,i,r.inputs[I],I,u)}function yp(t,r,i,u){const h=Pn(),v=Vr(),I=_e+t,F=h[jr],Q=v.firstCreatePass?function G_(t,r,i,u,h,v){const I=r.consts,Q=fc(r,t,2,u,Xi(I,h));return Wd(r,i,Q,Xi(I,v)),null!==Q.attrs&&Nl(Q,Q.attrs,!1),null!==Q.mergedAttrs&&Nl(Q,Q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Q),Q}(I,v,h,r,i,u):v.data[I],ve=h[I]=Gl(F,r,function Xo(){return Or.lFrame.currentNamespace}()),We=Ki(Q);return Ji(Q,!0),Vs(F,ve,Q),32!=(32&Q.flags)&&Da(v,h,ve,Q),0===function Ls(){return Or.lFrame.elementDepthCount}()&&Ms(ve,h),function os(){Or.lFrame.elementDepthCount++}(),We&&(rd(v,h,Q),nd(v,Q,h)),null!==u&&zd(h,Q),yp}function _p(){let t=oi();Bs()?ts():(t=t.parent,Ji(t,!1));const r=t;!function To(){Or.lFrame.elementDepthCount--}();const i=Vr();return i.firstCreatePass&&(ss(i,t),ao(t)&&i.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Nr(t){return 0!=(8&t.flags)}(r)&&Tm(i,r,Pn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function li(t){return 0!=(16&t.flags)}(r)&&Tm(i,r,Pn(),r.stylesWithoutHost,!1),_p}function Dm(t,r,i,u){return yp(t,r,i,u),_p(),Dm}function bp(t,r,i){const u=Pn(),h=Vr(),v=t+_e,I=h.firstCreatePass?function K_(t,r,i,u,h){const v=r.consts,I=Xi(v,u),F=fc(r,t,8,"ng-container",I);return null!==I&&Nl(F,I,!0),Wd(r,i,F,Xi(v,h)),null!==r.queries&&r.queries.elementStart(r,F),F}(v,h,u,r,i):h.data[v];Ji(I,!0);const F=u[v]=u[jr].createComment("");return Da(h,u,F,I),Ms(F,u),Ki(I)&&(rd(h,u,I),nd(h,I,u)),null!=i&&zd(u,I),bp}function wp(){let t=oi();const r=Vr();return Bs()?ts():(t=t.parent,Ji(t,!1)),r.firstCreatePass&&(ss(r,t),ao(t)&&r.queries.elementEnd(t)),wp}function Cm(t,r,i){return bp(t,r,i),wp(),Cm}function Yg(){return Pn()}function Im(t){return!!t&&"function"==typeof t.then}function Ug(t){return!!t&&"function"==typeof t.subscribe}const Vg=Ug;function Pm(t,r,i,u){const h=Pn(),v=Vr(),I=oi();return Hg(v,h,h[jr],I,t,r,u),Pm}function xm(t,r){const i=oi(),u=Pn(),h=Vr();return Hg(h,u,vc(Cs(h.data),i,u),i,t,r),xm}function Hg(t,r,i,u,h,v,I){const F=Ki(u),ve=t.firstCreatePass&&sd(t),We=r[Mr],It=Ei(r);let nn=!0;if(3&u.type||I){const cr=Yi(u,r),Tr=I?I(cr):cr,Br=It.length,ii=I?_i=>I(Ti(_i[u.index])):u.index;let tr=null;if(!I&&F&&(tr=function $_(t,r,i,u){const h=t.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const I=h[v];if(I===i&&h[v+1]===u){const F=r[di],Q=h[v+2];return F.length>Q?F[Q]:null}"string"==typeof I&&(v+=2)}return null}(t,r,h,u.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=v,tr.__ngLastListenerFn__=v,nn=!1;else{v=Wg(u,r,We,v,!1);const _i=i.listen(Tr,h,v);It.push(v,_i),ve&&ve.push(h,ii,Br,Br+1)}}else v=Wg(u,r,We,v,!1);const _n=u.outputs;let zn;if(nn&&null!==_n&&(zn=_n[h])){const cr=zn.length;if(cr)for(let Tr=0;Tr<cr;Tr+=2){const us=r[zn[Tr]][zn[Tr+1]].subscribe(v),Rs=It.length;It.push(v,us),ve&&ve.push(h,u.index,Rs,-(Rs+1))}}}function zg(t,r,i,u){try{return Ur(6,r,i),!1!==i(u)}catch(h){return up(t,h),!1}finally{Ur(7,r,i)}}function Wg(t,r,i,u,h){return function v(I){if(I===Function)return u;Kd(t.componentOffset>-1?ti(t.index,r):r);let Q=zg(r,i,u,I),ve=v.__ngNextListenerFn__;for(;ve;)Q=zg(r,i,ve,I)&&Q,ve=ve.__ngNextListenerFn__;return h&&!1===Q&&(I.preventDefault(),I.returnValue=!1),Q}}function Gg(t=1){return function H(t){return(Or.lFrame.contextLView=function fe(t,r){for(;t>0;)r=r[to],t--;return r}(t,Or.lFrame.contextLView))[Mr]}(t)}function q_(t,r){let i=null;const u=function Bf(t){const r=t.attrs;if(null!=r){const i=r.indexOf(5);if(!(1&i))return r[i+1]}return null}(t);for(let h=0;h<r.length;h++){const v=r[h];if("*"!==v){if(null===u?Zc(t,v,!0):Ch(u,v))return h}else i=h}return i}function Kg(t){const r=Pn()[Mi][xi];if(!r.projection){const u=r.projection=M(t?t.length:1,null),h=u.slice();let v=r.child;for(;null!==v;){const I=t?q_(v,t):0;null!==I&&(h[I]?h[I].projectionNext=v:u[I]=v,h[I]=v),v=v.next}}}function $g(t,r=0,i){const u=Pn(),h=Vr(),v=fc(h,_e+t,16,null,i||null);null===v.projection&&(v.projection=r),ts(),32!=(32&v.flags)&&function gd(t,r,i){Uc(r[jr],0,r,i,Xu(t,i,r),Zu(i.parent||r[xi],i,r))}(h,u,v)}function Mm(t,r,i){return Ep(t,"",r,"",i),Mm}function Ep(t,r,i,u,h){const v=Pn(),I=P(v,r,i,u);return I!==ci&&aa(Vr(),sn(),v,t,I,v[jr],h,!1),Ep}function Sp(t,r){return t<<17|r<<2}function Ec(t){return t>>17&32767}function Am(t){return 2|t}function ld(t){return(131068&t)>>2}function km(t,r){return-131069&t|r<<2}function Om(t){return 1|t}function rv(t,r,i,u,h){const v=t[i+1],I=null===r;let F=u?Ec(v):ld(v),Q=!1;for(;0!==F&&(!1===Q||I);){const We=t[F+1];tb(t[F],r)&&(Q=!0,t[F+1]=u?Om(We):Am(We)),F=u?Ec(We):ld(We)}Q&&(t[i+1]=u?Am(v):Om(v))}function tb(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&on(t,r)>=0}const Gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iv(t){return t.substring(Gs.key,Gs.keyEnd)}function nb(t){return t.substring(Gs.value,Gs.valueEnd)}function ov(t,r){const i=Gs.textEnd;return i===r?-1:(r=Gs.keyEnd=function ob(t,r,i){for(;r<i&&t.charCodeAt(r)>32;)r++;return r}(t,Gs.key=r,i),Zd(t,r,i))}function sv(t,r){const i=Gs.textEnd;let u=Gs.key=Zd(t,r,i);return i===u?-1:(u=Gs.keyEnd=function sb(t,r,i){let u;for(;r<i&&(45===(u=t.charCodeAt(r))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)r++;return r}(t,u,i),u=lv(t,u,i),u=Gs.value=Zd(t,u,i),u=Gs.valueEnd=function ab(t,r,i){let u=-1,h=-1,v=-1,I=r,F=I;for(;I<i;){const Q=t.charCodeAt(I++);if(59===Q)return F;34===Q||39===Q?F=I=uv(t,Q,I,i):r===I-4&&85===v&&82===h&&76===u&&40===Q?F=I=uv(t,41,I,i):Q>32&&(F=I),v=h,h=u,u=-33&Q}return F}(t,u,i),lv(t,u,i))}function av(t){Gs.key=0,Gs.keyEnd=0,Gs.value=0,Gs.valueEnd=0,Gs.textEnd=t.length}function Zd(t,r,i){for(;r<i&&t.charCodeAt(r)<=32;)r++;return r}function lv(t,r,i,u){return(r=Zd(t,r,i))<i&&r++,r}function uv(t,r,i,u){let h=-1,v=i;for(;v<u;){const I=t.charCodeAt(v++);if(I==r&&92!==h)return v;h=92==I&&92===h?0:I}throw new Error}function Rm(t,r,i){return jl(t,r,i,!1),Rm}function Nm(t,r){return jl(t,r,null,!0),Nm}function Bl(t){Yl(fv,lb,t,!1)}function lb(t,r){for(let i=function ib(t){return av(t),sv(t,Zd(t,0,Gs.textEnd))}(r);i>=0;i=sv(r,i))fv(t,iv(r),nb(r))}function cv(t){Yl(pb,nu,t,!0)}function nu(t,r){for(let i=function rb(t){return av(t),ov(t,Zd(t,0,Gs.textEnd))}(r);i>=0;i=ov(r,i))Ie(t,iv(r),!0)}function jl(t,r,i,u){const h=Pn(),v=Vr(),I=vo(2);v.firstUpdatePass&&hv(v,t,I,u),r!==ci&&Wi(h,I,r)&&pv(v,v.data[qe()],h,h[jr],t,h[I+1]=function gb(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ge(Ua(t)))),t}(r,i),u,I)}function Yl(t,r,i,u){const h=Vr(),v=vo(2);h.firstUpdatePass&&hv(h,null,v,u);const I=Pn();if(i!==ci&&Wi(I,v,i)){const F=h.data[qe()];if(gv(F,u)&&!dv(h,v)){let Q=u?F.classesWithoutHost:F.stylesWithoutHost;null!==Q&&(i=ie(Q,i||"")),Tm(h,F,I,i,u)}else!function mb(t,r,i,u,h,v,I,F){h===ci&&(h=qt);let Q=0,ve=0,We=0<h.length?h[0]:null,It=0<v.length?v[0]:null;for(;null!==We||null!==It;){const nn=Q<h.length?h[Q+1]:void 0,_n=ve<v.length?v[ve+1]:void 0;let cr,zn=null;We===It?(Q+=2,ve+=2,nn!==_n&&(zn=It,cr=_n)):null===It||null!==We&&We<It?(Q+=2,zn=We):(ve+=2,zn=It,cr=_n),null!==zn&&pv(t,r,i,u,zn,cr,I,F),We=Q<h.length?h[Q]:null,It=ve<v.length?v[ve]:null}}(h,F,I,I[jr],I[v+1],I[v+1]=function fb(t,r,i){if(null==i||""===i)return qt;const u=[],h=Ua(i);if(Array.isArray(h))for(let v=0;v<h.length;v++)t(u,h[v],!0);else if("object"==typeof h)for(const v in h)h.hasOwnProperty(v)&&t(u,v,h[v]);else"string"==typeof h&&r(u,h);return u}(t,r,i),u,v)}}function dv(t,r){return r>=t.expandoStartIndex}function hv(t,r,i,u){const h=t.data;if(null===h[i+1]){const v=h[qe()],I=dv(t,i);gv(v,u)&&null===r&&!I&&(r=!1),r=function ub(t,r,i,u){const h=Cs(t);let v=u?r.residualClasses:r.residualStyles;if(null===h)0===(u?r.classBindings:r.styleBindings)&&(i=cf(i=Fm(null,t,r,i,u),r.attrs,u),v=null);else{const I=r.directiveStylingLast;if(-1===I||t[I]!==h)if(i=Fm(h,t,r,i,u),null===v){let Q=function cb(t,r,i){const u=i?r.classBindings:r.styleBindings;if(0!==ld(u))return t[Ec(u)]}(t,r,u);void 0!==Q&&Array.isArray(Q)&&(Q=Fm(null,t,r,Q[1],u),Q=cf(Q,r.attrs,u),function db(t,r,i,u){t[Ec(i?r.classBindings:r.styleBindings)]=u}(t,r,u,Q))}else v=function hb(t,r,i){let u;const h=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<h;v++)u=cf(u,t[v].hostAttrs,i);return cf(u,r.attrs,i)}(t,r,u)}return void 0!==v&&(u?r.residualClasses=v:r.residualStyles=v),i}(h,v,r,u),function J_(t,r,i,u,h,v){let I=v?r.classBindings:r.styleBindings,F=Ec(I),Q=ld(I);t[u]=i;let We,ve=!1;if(Array.isArray(i)?(We=i[1],(null===We||on(i,We)>0)&&(ve=!0)):We=i,h)if(0!==Q){const nn=Ec(t[F+1]);t[u+1]=Sp(nn,F),0!==nn&&(t[nn+1]=km(t[nn+1],u)),t[F+1]=function X_(t,r){return 131071&t|r<<17}(t[F+1],u)}else t[u+1]=Sp(F,0),0!==F&&(t[F+1]=km(t[F+1],u)),F=u;else t[u+1]=Sp(Q,0),0===F?F=u:t[Q+1]=km(t[Q+1],u),Q=u;ve&&(t[u+1]=Am(t[u+1])),rv(t,We,u,!0),rv(t,We,u,!1),function eb(t,r,i,u,h){const v=h?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof r&&on(v,r)>=0&&(i[u+1]=Om(i[u+1]))}(r,We,t,u,v),I=Sp(F,Q),v?r.classBindings=I:r.styleBindings=I}(h,v,r,i,I,u)}}function Fm(t,r,i,u,h){let v=null;const I=i.directiveEnd;let F=i.directiveStylingLast;for(-1===F?F=i.directiveStart:F++;F<I&&(v=r[F],u=cf(u,v.hostAttrs,h),v!==t);)F++;return null!==t&&(i.directiveStylingLast=F),u}function cf(t,r,i){const u=i?1:2;let h=-1;if(null!==r)for(let v=0;v<r.length;v++){const I=r[v];"number"==typeof I?h=I:h===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ie(t,I,!!i||r[++v]))}return void 0===t?null:t}function fv(t,r,i){Ie(t,r,Ua(i))}function pb(t,r,i){const u=String(r);""!==u&&!u.includes(" ")&&Ie(t,u,i)}function pv(t,r,i,u,h,v,I,F){if(!(3&r.type))return;const Q=t.data,ve=Q[F+1],We=function Z_(t){return 1==(1&t)}(ve)?mv(Q,r,i,h,ld(ve),I):void 0;Tp(We)||(Tp(v)||function Q_(t){return 2==(2&t)}(ve)&&(v=mv(Q,null,i,h,F,I)),function vd(t,r,i,u,h){if(r)h?t.addClass(i,u):t.removeClass(i,u);else{let v=-1===u.indexOf("-")?void 0:Qs.DashCase;null==h?t.removeStyle(i,u,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=Qs.Important),t.setStyle(i,u,h,v))}}(u,I,hi(qe(),i),h,v))}function mv(t,r,i,u,h,v){const I=null===r;let F;for(;h>0;){const Q=t[h],ve=Array.isArray(Q),We=ve?Q[1]:Q,It=null===We;let nn=i[h+1];nn===ci&&(nn=It?qt:void 0);let _n=It?Ze(nn,u):We===u?nn:void 0;if(ve&&!Tp(_n)&&(_n=Ze(Q,u)),Tp(_n)&&(F=_n,I))return F;const zn=t[h+1];h=I?Ec(zn):ld(zn)}if(null!==r){let Q=v?r.residualClasses:r.residualStyles;null!=Q&&(F=Ze(Q,u))}return F}function Tp(t){return void 0!==t}function gv(t,r){return 0!=(t.flags&(r?8:16))}function vv(t,r=""){const i=Pn(),u=Vr(),h=t+_e,v=u.firstCreatePass?fc(u,h,1,r,null):u.data[h],I=i[h]=qu(i[jr],r);Da(u,i,I,v),Ji(v,!1)}function Lm(t){return Dp("",t,""),Lm}function Dp(t,r,i){const u=Pn(),h=P(u,t,r,i);return h!==ci&&va(u,qe(),h),Dp}function Bm(t,r,i,u,h){const v=Pn(),I=$(v,t,r,i,u,h);return I!==ci&&va(v,qe(),I),Bm}function jm(t,r,i,u,h,v,I){const F=Pn(),Q=function we(t,r,i,u,h,v,I,F){const ve=Qd(t,Lo(),i,h,I);return vo(3),ve?r+yt(i)+u+yt(h)+v+yt(I)+F:ci}(F,t,r,i,u,h,v,I);return Q!==ci&&va(F,qe(),Q),jm}function Tv(t,r,i,u,h){Yl(Ie,nu,$(Pn(),t,r,i,u,h),!0)}function Ym(t,r,i){const u=Pn();return Wi(u,Do(),r)&&aa(Vr(),sn(),u,t,r,u[jr],i,!0),Ym}function Um(t,r,i){const u=Pn();if(Wi(u,Do(),r)){const v=Vr(),I=sn();aa(v,I,u,t,r,vc(Cs(v.data),I,u),i,!0)}return Um}const ud=void 0;var Nb=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rb(t){const i=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let Jd={};function Fb(t,r,i){"string"!=typeof r&&(i=r,r=t[ni.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),Jd[r]=t,i&&(Jd[r][ni.ExtraData]=i)}function Vm(t){const r=function Lb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Nv(r);if(i)return i;const u=r.split("-")[0];if(i=Nv(u),i)return i;if("en"===u)return Nb;throw new ye(701,!1)}function Rv(t){return Vm(t)[ni.PluralCase]}function Nv(t){return t in Jd||(Jd[t]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[t]),Jd[t]}var ni=(()=>((ni=ni||{})[ni.LocaleId=0]="LocaleId",ni[ni.DayPeriodsFormat=1]="DayPeriodsFormat",ni[ni.DayPeriodsStandalone=2]="DayPeriodsStandalone",ni[ni.DaysFormat=3]="DaysFormat",ni[ni.DaysStandalone=4]="DaysStandalone",ni[ni.MonthsFormat=5]="MonthsFormat",ni[ni.MonthsStandalone=6]="MonthsStandalone",ni[ni.Eras=7]="Eras",ni[ni.FirstDayOfWeek=8]="FirstDayOfWeek",ni[ni.WeekendRange=9]="WeekendRange",ni[ni.DateFormat=10]="DateFormat",ni[ni.TimeFormat=11]="TimeFormat",ni[ni.DateTimeFormat=12]="DateTimeFormat",ni[ni.NumberSymbols=13]="NumberSymbols",ni[ni.NumberFormats=14]="NumberFormats",ni[ni.CurrencyCode=15]="CurrencyCode",ni[ni.CurrencySymbol=16]="CurrencySymbol",ni[ni.CurrencyName=17]="CurrencyName",ni[ni.Currencies=18]="Currencies",ni[ni.Directionality=19]="Directionality",ni[ni.PluralCase=20]="PluralCase",ni[ni.ExtraData=21]="ExtraData",ni))();const Bb=["zero","one","two","few","many"],eh="en-US",Cp={marker:"element"},Ip={marker:"ICU"};var Ss=(()=>((Ss=Ss||{})[Ss.SHIFT=2]="SHIFT",Ss[Ss.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ss[Ss.COMMENT=2]="COMMENT",Ss))();let Fv=eh;function Lv(t){(function ce(t,r){null==t&&re(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(Fv=t.toLowerCase().replace(/_/g,"-"))}function Bv(t,r,i){const u=r.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?Xs(t,0,i):Ti(i[h])}function jv(t,r,i,u,h){const v=r.insertBeforeIndex;if(Array.isArray(v)){let I=u,F=null;if(3&r.type||(F=I,I=h),null!==I&&-1===r.componentOffset)for(let Q=1;Q<v.length;Q++)Ta(t,I,i[v[Q]],F,!1)}}function Yv(t,r){if(t.push(r),t.length>1)for(let i=t.length-2;i>=0;i--){const u=t[i];Uv(u)||Vb(u,r)&&null===Hb(u)&&zb(u,r.index)}}function Uv(t){return!(64&t.type)}function Vb(t,r){return Uv(r)||t.index>r.index}function Hb(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function zb(t,r){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=r:(Yc(Bv,jv),t.insertBeforeIndex=r)}function df(t,r){const i=t.data[r];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function Kb(t,r,i){const u=Ml(t,i,64,null,null);return Yv(r,u),u}function Pp(t,r){const i=r[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function Vv(t){return t>>>17}function Hv(t){return(131070&t)>>>1}let hf=0,ff=0;function Wv(t,r,i,u){const h=i[jr];let I,v=null;for(let F=0;F<r.length;F++){const Q=r[F];if("string"==typeof Q){const ve=r[++F];null===i[ve]&&(i[ve]=qu(h,Q))}else if("number"==typeof Q)switch(1&Q){case 0:const ve=Vv(Q);let We,It;if(null===v&&(v=ve,I=rl(h,u)),ve===v?(We=u,It=I):(We=null,It=Ti(i[ve])),null!==It){const cr=Hv(Q);Ta(h,It,i[cr],We,!1);const Br=df(t,cr);if(null!==Br&&"object"==typeof Br){const ii=Pp(Br,i);null!==ii&&Wv(t,Br.create[ii],i,i[Br.anchorIdx])}}break;case 1:const _n=r[++F],zn=r[++F];Gd(h,hi(Q>>>1,i),null,null,_n,zn,null)}else switch(Q){case Ip:const ve=r[++F],We=r[++F];null===i[We]&&Ms(i[We]=pu(h,ve),i);break;case Cp:const It=r[++F],nn=r[++F];null===i[nn]&&Ms(i[nn]=Gl(h,It,null),i)}}}function Gv(t,r,i,u,h){for(let v=0;v<i.length;v++){const I=i[v],F=i[++v];if(I&h){let Q="";for(let ve=v+1;ve<=v+F;ve++){const We=i[ve];if("string"==typeof We)Q+=We;else if("number"==typeof We)if(We<0)Q+=yt(r[u-We]);else{const It=We>>>2;switch(3&We){case 1:const nn=i[++ve],_n=i[++ve],zn=t.data[It];"string"==typeof zn?Gd(r[jr],r[It],null,zn,nn,Q,_n):aa(t,zn,r,nn,Q,r[jr],_n,!1);break;case 0:const cr=r[It];null!==cr&&el(r[jr],cr,Q);break;case 2:Zb(t,df(t,It),r,Q);break;case 3:Kv(t,df(t,It),u,r)}}}}else{const Q=i[v+1];if(Q>0&&3==(3&Q)){const We=df(t,Q>>>2);r[We.currentCaseLViewIndex]<0&&Kv(t,We,u,r)}}v+=F}}function Kv(t,r,i,u){let h=u[r.currentCaseLViewIndex];if(null!==h){let v=hf;h<0&&(h=u[r.currentCaseLViewIndex]=~h,v=-1),Gv(t,u,r.update[h],i,v)}}function Zb(t,r,i,u){const h=function Jb(t,r){let i=t.cases.indexOf(r);if(-1===i)switch(t.type){case 1:{const u=function jb(t,r){const i=Rv(r)(parseInt(t,10)),u=Bb[i];return void 0!==u?u:"other"}(r,function Ub(){return Fv}());i=t.cases.indexOf(u),-1===i&&"other"!==u&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(r,u);if(Pp(r,i)!==h&&($v(t,r,i),i[r.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const I=i[r.anchorIdx];I&&Wv(t,r.create[h],i,I)}}function $v(t,r,i){let u=Pp(r,i);if(null!==u){const h=r.remove[u];for(let v=0;v<h.length;v++){const I=h[v];if(I>0){const F=hi(I,i);null!==F&&_l(i[jr],F)}else $v(t,df(t,~I),i)}}}function e0(){const t=[];let i,u,r=-1;function v(F,Q){r=0;const ve=Pp(F,Q);u=null!==ve?F.remove[ve]:qt}function I(){if(r<u.length){const F=u[r++];return F>0?i[F]:(t.push(r,u),v(i[dn].data[~F],i),I())}return 0===t.length?null:(u=t.pop(),r=t.pop(),I())}return function h(F,Q){for(i=Q;t.length;)t.pop();return v(F.value,Q),I}}const xp=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,Qv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pf="\ufffd",r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,o0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,s0=/\uE500/g;function Xv(t,r,i,u,h,v,I){const F=Al(t,u,1,null);let Q=F<<Ss.SHIFT,ve=Di();r===ve&&(ve=null),null===ve&&(Q|=Ss.APPEND_EAGERLY),I&&(Q|=Ss.COMMENT,function oh(t){void 0===Gu&&(Gu=t())}(e0)),h.push(Q,null===v?"":v);const We=Ml(t,F,I?32:1,null===v?"":v,null);Yv(i,We);const It=We.index;return Ji(We,!1),null!==ve&&r!==ve&&function Gb(t,r){let i=t.insertBeforeIndex;null===i?(Yc(Bv,jv),i=t.insertBeforeIndex=[null,r]):(function J(t,r,i){t!=r&&re(i,t,r,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(r))}(ve,It),We}function u0(t,r,i,u,h,v,I){const F=I.match(xp),Q=Xv(t,r,i,v,u,F?null:I,!1);F&&mf(h,I,Q.index,null,0,null)}function mf(t,r,i,u,h,v){const I=t.length,F=I+1;t.push(null,null);const Q=I+2,ve=r.split(xp);let We=0;for(let It=0;It<ve.length;It++){const nn=ve[It];if(1&It){const _n=h+parseInt(nn,10);t.push(-1-_n),We|=Zv(_n)}else""!==nn&&t.push(nn)}return t.push(i<<2|(u?1:0)),u&&t.push(u,v),t[I]=We,t[F]=t.length-Q,We}function Zv(t){return 1<<Math.min(t,31)}function Jv(t){let r,v,i="",u=0,h=!1;for(;null!==(r=r0.exec(t));)h?r[0]===`${pf}/*${v}${pf}`&&(u=r.index,h=!1):(i+=t.substring(u,r.index+r[0].length),v=r[1],h=!0);return i+=t.slice(u),i}function ey(t,r,i,u,h,v){let I=0;const F={type:h.type,currentCaseLViewIndex:Al(t,r,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function v0(t,r,i){t.push(Zv(r.mainBinding),2,-1-r.mainBinding,i<<2|2)})(i,h,v),function Wb(t,r,i){const u=t.data[r];null===u?t.data[r]=i:u.value=i}(t,v,F);const Q=h.values;for(let ve=0;ve<Q.length;ve++){const We=Q[ve],It=[];for(let nn=0;nn<We.length;nn++){const _n=We[nn];if("string"!=typeof _n){const zn=It.push(_n)-1;We[nn]=`\x3c!--\ufffd${zn}\ufffd--\x3e`}}I=m0(t,F,r,i,u,h.cases[ve],We.join(""),It)|I}I&&function y0(t,r,i){t.push(r,1,i<<2|3)}(i,I,v)}function p0(t){const r=[],i=[];let u=1,h=0;const v=Hm(t=t.replace(Qv,function(I,F,Q){return u="select"===Q?0:1,h=parseInt(F.slice(1),10),""}));for(let I=0;I<v.length;){let F=v[I++].trim();1===u&&(F=F.replace(/\s*(?:=)?(\w+)\s*/,"$1")),F.length&&r.push(F);const Q=Hm(v[I++]);r.length>i.length&&i.push(Q)}return{type:u,mainBinding:h,cases:r,values:i}}function Hm(t){if(!t)return[];let r=0;const i=[],u=[],h=/[{}]/g;let v;for(h.lastIndex=0;v=h.exec(t);){const F=v.index;if("}"==v[0]){if(i.pop(),0==i.length){const Q=t.substring(r,F);Qv.test(Q)?u.push(p0(Q)):u.push(Q),r=F+1}}else{if(0==i.length){const Q=t.substring(r,F);u.push(Q),r=F+1}i.push("{")}}const I=t.substring(r);return u.push(I),u}function m0(t,r,i,u,h,v,I,F){const Q=[],ve=[],We=[];r.cases.push(v),r.create.push(Q),r.remove.push(ve),r.update.push(We);const nn=c(zc()).getInertBodyElement(I),_n=Tu(nn)||nn;return _n?ty(t,r,i,u,Q,ve,We,_n,h,F,0):0}function ty(t,r,i,u,h,v,I,F,Q,ve,We){let It=0,nn=F.firstChild;for(;nn;){const _n=Al(t,i,1,null);switch(nn.nodeType){case Node.ELEMENT_NODE:const zn=nn,cr=zn.tagName.toLowerCase();if(Er.hasOwnProperty(cr)){zm(h,Cp,cr,Q,_n),t.data[_n]=cr;const tr=zn.attributes;for(let _i=0;_i<tr.length;_i++){const us=tr.item(_i),Rs=us.name.toLowerCase();us.value.match(xp)?Rr.hasOwnProperty(Rs)&&mf(I,us.value,_n,us.name,0,Wr[Rs]?he:null):_0(h,_n,us)}It=ty(t,r,i,u,h,v,I,nn,_n,ve,We+1)|It,ny(v,_n,We)}break;case Node.TEXT_NODE:const Tr=nn.textContent||"",Br=Tr.match(xp);zm(h,null,Br?"":Tr,Q,_n),ny(v,_n,We),Br&&(It=mf(I,Tr,_n,null,0,null)|It);break;case Node.COMMENT_NODE:const ii=n0.exec(nn.textContent||"");if(ii){const _i=ve[parseInt(ii[1],10)];zm(h,Ip,"",Q,_n),ey(t,i,u,Q,_i,_n),g0(v,_n,We)}}nn=nn.nextSibling}return It}function ny(t,r,i){0===i&&t.push(r)}function g0(t,r,i){0===i&&(t.push(~r),t.push(r))}function zm(t,r,i,u,h){null!==r&&t.push(r),t.push(i,h,function $b(t,r,i){return t|r<<17|i<<1}(0,u,h))}function _0(t,r,i){t.push(r<<1|1,i.name,i.value)}function iy(t,r,i=-1){const u=Vr(),h=Pn(),v=_e+t,I=Xi(u.consts,r),F=Di();u.firstCreatePass&&function l0(t,r,i,u,h,v){const I=Di(),F=[],Q=[],ve=[[]];h=function f0(t,r){if(function h0(t){return-1===t}(r))return Jv(t);{const i=t.indexOf(`:${r}${pf}`)+2+r.toString().length,u=t.search(new RegExp(`${pf}\\/\\*\\d+:${r}${pf}`));return Jv(t.substring(i,u))}}(h,v);const We=function a0(t){return t.replace(s0," ")}(h).split(o0);for(let It=0;It<We.length;It++){let nn=We[It];if(1&It){const _n=47===nn.charCodeAt(0),cr=(nn.charCodeAt(_n?1:0),_e+Number.parseInt(nn.substring(_n?2:1)));if(_n)ve.shift(),Ji(Di(),!1);else{const Tr=Kb(t,ve[0],cr);ve.unshift([]),Ji(Tr,!0)}}else{const _n=Hm(nn);for(let zn=0;zn<_n.length;zn++){let cr=_n[zn];if(1&zn){const Tr=cr;if("object"!=typeof Tr)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ey(t,i,Q,r,Tr,Xv(t,I,ve[0],i,F,"",!0).index)}else""!==cr&&u0(t,I,ve[0],F,Q,i,cr)}}}t.data[u]={create:F,update:Q}}(u,null===F?0:F.index,h,v,I,i);const Q=u.data[v],We=mu(u,F===h[xi]?null:F,h);(function Xb(t,r,i,u){const h=t[jr];for(let v=0;v<r.length;v++){const I=r[v++],F=r[v],ve=(I&Ss.APPEND_EAGERLY)===Ss.APPEND_EAGERLY,We=I>>>Ss.SHIFT;let It=t[We];null===It&&(It=t[We]=(I&Ss.COMMENT)===Ss.COMMENT?h.createComment(F):qu(h,F)),ve&&null!==i&&Ta(h,i,It,u,!1)}})(h,Q.create,We,F&&8&F.type?h[F.index]:null),Bo(!0)}function sy(t,r,i){iy(t,r,i),function oy(){Bo(!1)}()}function Wm(t){return function qb(t){t&&(hf|=1<<Math.min(ff,31)),ff++}(Wi(Pn(),Do(),t)),Wm}function ay(t){!function Qb(t,r,i){if(ff>0){const u=t.data[i];Gv(t,r,Array.isArray(u)?u:u.update,Lo()-ff-1,hf)}hf=0,ff=0}(Vr(),Pn(),t+_e)}function Gm(t,r,i,u,h){if(t=Se(t),Array.isArray(t))for(let v=0;v<t.length;v++)Gm(t[v],r,i,u,h);else{const v=Vr(),I=Pn();let F=za(t)?t:Se(t.provide),Q=Md(t);const ve=oi(),We=1048575&ve.providerIndexes,It=ve.directiveStart,nn=ve.providerIndexes>>20;if(za(t)||!t.multi){const _n=new At(Q,h,al),zn=$m(F,r,h?We:We+nn,It);-1===zn?(rn(ue(ve,I),v,F),Km(v,t,r.length),r.push(F),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(_n),I.push(_n)):(i[zn]=_n,I[zn]=_n)}else{const _n=$m(F,r,We+nn,It),zn=$m(F,r,We,We+nn),Tr=zn>=0&&i[zn];if(h&&!Tr||!h&&!(_n>=0&&i[_n])){rn(ue(ve,I),v,F);const Br=function O0(t,r,i,u,h){const v=new At(t,i,al);return v.multi=[],v.index=r,v.componentProviders=0,ly(v,h,u&&!i),v}(h?k0:A0,i.length,h,u,Q);!h&&Tr&&(i[zn].providerFactory=Br),Km(v,t,r.length,0),r.push(F),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(Br),I.push(Br)}else Km(v,t,_n>-1?_n:zn,ly(i[h?zn:_n],Q,!h&&u));!h&&u&&Tr&&i[zn].componentProviders++}}}function Km(t,r,i,u){const h=za(r),v=function sc(t){return!!t.useClass}(r);if(h||v){const Q=(v?Se(r.useClass):r).prototype.ngOnDestroy;if(Q){const ve=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const We=ve.indexOf(i);-1===We?ve.push(i,[u,Q]):ve[We+1].push(u,Q)}else ve.push(i,Q)}}}function ly(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function $m(t,r,i,u){for(let h=i;h<u;h++)if(r[h]===t)return h;return-1}function A0(t,r,i,u){return qm(this.multi,[])}function k0(t,r,i,u){const h=this.multi;let v;if(this.providerFactory){const I=this.providerFactory.componentProviders,F=si(i,i[dn],this.providerFactory.index,u);v=F.slice(0,I),qm(h,v);for(let Q=I;Q<F.length;Q++)v.push(F[Q])}else v=[],qm(h,v);return v}function qm(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function uy(t,r=[]){return i=>{i.providersResolver=(u,h)=>function M0(t,r,i){const u=Vr();if(u.firstCreatePass){const h=Ai(t);Gm(i,u.data,u.blueprint,h,!0),Gm(r,u.data,u.blueprint,h,!1)}}(u,h?h(t):t,r)}}class th{}class cy{}function R0(t,r){return new dy(t,r??null)}class dy extends th{constructor(r,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ad(this);const u=Lt(r);this._bootstrapComponents=Pl(u.bootstrap),this._r3Injector=Ah(r,i,[{provide:th,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],Ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Qm extends cy{constructor(r){super(),this.moduleType=r}create(r){return new dy(this.moduleType,r)}}class N0 extends th{constructor(r,i,u){super(),this.componentFactoryResolver=new ad(this),this.instance=null;const h=new Qc([...r,{provide:th,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],i||qc(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Xm(t,r,i=null){return new N0(t,r,i).injector}let F0=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const u=ph(0,i.type),h=u.length>0?Xm([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,h)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Et({token:t,providedIn:"environment",factory:()=>new t(hn(Wa))}),t})();function hy(t){t.getStandaloneInjector=r=>r.get(F0).getOrCreateStandaloneInjector(t)}function _y(t,r,i){const u=co()+t,h=Pn();return h[u]===ci?so(h,u,i?r.call(i):r()):wc(h,u)}function by(t,r,i,u){return Py(Pn(),co(),t,r,i,u)}function wy(t,r,i,u,h){return xy(Pn(),co(),t,r,i,u,h)}function Ey(t,r,i,u,h,v){return function My(t,r,i,u,h,v,I,F){const Q=r+i;return Qd(t,Q,h,v,I)?so(t,Q+3,F?u.call(F,h,v,I):u(h,v,I)):gf(t,Q+3)}(Pn(),co(),t,r,i,u,h,v)}function Sy(t,r,i,u,h,v,I){return function Ay(t,r,i,u,h,v,I,F,Q){const ve=r+i;return e(t,ve,h,v,I,F)?so(t,ve+4,Q?u.call(Q,h,v,I,F):u(h,v,I,F)):gf(t,ve+4)}(Pn(),co(),t,r,i,u,h,v,I)}function Ty(t,r,i,u,h,v,I,F){const Q=co()+t,ve=Pn(),We=e(ve,Q,i,u,h,v);return Wi(ve,Q+4,I)||We?so(ve,Q+5,F?r.call(F,i,u,h,v,I):r(i,u,h,v,I)):wc(ve,Q+5)}function Dy(t,r,i,u,h,v,I,F,Q){const ve=co()+t,We=Pn(),It=e(We,ve,i,u,h,v);return tu(We,ve+4,I,F)||It?so(We,ve+6,Q?r.call(Q,i,u,h,v,I,F):r(i,u,h,v,I,F)):wc(We,ve+6)}function Cy(t,r,i,u,h,v,I,F,Q,ve){const We=co()+t,It=Pn();let nn=e(It,We,i,u,h,v);return Qd(It,We+4,I,F,Q)||nn?so(It,We+7,ve?r.call(ve,i,u,h,v,I,F,Q):r(i,u,h,v,I,F,Q)):wc(It,We+7)}function Iy(t,r,i,u){return function ky(t,r,i,u,h,v){let I=r+i,F=!1;for(let Q=0;Q<h.length;Q++)Wi(t,I++,h[Q])&&(F=!0);return F?so(t,I,u.apply(v,h)):gf(t,I)}(Pn(),co(),t,r,i,u)}function gf(t,r){const i=t[r];return i===ci?void 0:i}function Py(t,r,i,u,h,v){const I=r+i;return Wi(t,I,h)?so(t,I+1,v?u.call(v,h):u(h)):gf(t,I+1)}function xy(t,r,i,u,h,v,I){const F=r+i;return tu(t,F,h,v)?so(t,F+2,I?u.call(I,h,v):u(h,v)):gf(t,F+2)}function Oy(t,r){const i=Vr();let u;const h=t+_e;i.firstCreatePass?(u=function G0(t,r){if(r)for(let i=r.length-1;i>=0;i--){const u=r[i];if(t===u.name)return u}}(r,i.pipeRegistry),i.data[h]=u,u.onDestroy&&(i.destroyHooks??(i.destroyHooks=[])).push(h,u.onDestroy)):u=i.data[h];const v=u.factory||(u.factory=Mn(u.type)),I=Oe(al);try{const F=yn(!1),Q=v();return yn(F),function W_(t,r,i,u){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),r[i]=u}(i,Pn(),h,Q),Q}finally{Oe(I)}}function Ry(t,r,i){const u=t+_e,h=Pn(),v=Fs(h,u);return vf(h,u)?Py(h,co(),r,v.transform,i,v):v.transform(i)}function Ny(t,r,i,u){const h=t+_e,v=Pn(),I=Fs(v,h);return vf(v,h)?xy(v,co(),r,I.transform,i,u,I):I.transform(i,u)}function vf(t,r){return t[dn].data[r].pure}function Jm(t){return r=>{setTimeout(t,void 0,r)}}const ru=class Q0 extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,i,u){let h=r,v=i||(()=>null),I=u;if(r&&"object"==typeof r){const Q=r;h=Q.next?.bind(Q),v=Q.error?.bind(Q),I=Q.complete?.bind(Q)}this.__isAsync&&(v=Jm(v),h&&(h=Jm(h)),I&&(I=Jm(I)));const F=super.subscribe({next:h,error:v,complete:I});return r instanceof E.w0&&r.add(F),F}};function X0(){return this._results[Symbol.iterator]()}class Mp{get changes(){return this._changes||(this._changes=new ru)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Mp.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=X0)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){const u=this;u.dirty=!1;const h=function Ps(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ua(t,r,i){if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++){let h=t[u],v=r[u];if(i&&(h=i(h),v=i(v)),v!==h)return!1}return!0}(u._results,h,i))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yf=(()=>{class t{}return t.__NG_ELEMENT_ID__=ew,t})();const Z0=yf,J0=class extends Z0{constructor(r,i,u){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=u}createEmbeddedView(r,i){const u=this._declarationTContainer.tView,h=hc(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,i||null);h[No]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[ze];return null!==I&&(h[ze]=I.createEmbeddedView(u)),Vd(u,h,r),new Au(h)}};function ew(){return Ap(oi(),Pn())}function Ap(t,r){return 4&t.type?new J0(r,t,Ca(t,r)):null}let kp=(()=>{class t{}return t.__NG_ELEMENT_ID__=tw,t})();function tw(){return By(oi(),Pn())}const nw=kp,Fy=class extends nw{constructor(r,i,u){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=u}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){const r=kt(this._hostTNode,this._hostLView);if(de(r)){const i=et(r,this._hostLView),u=Ce(r);return new ho(i[dn].data[u+8],i)}return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=Ly(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(r,i,u){let h,v;"number"==typeof u?h=u:null!=u&&(h=u.index,v=u.injector);const I=r.createEmbeddedView(i||{},v);return this.insert(I,h),I}createComponent(r,i,u,h,v){const I=r&&!function Ia(t){return"function"==typeof t}(r);let F;if(I)F=i;else{const It=i||{};F=It.index,u=It.injector,h=It.projectableNodes,v=It.environmentInjector||It.ngModuleRef}const Q=I?r:new ku(be(r)),ve=u||this.parentInjector;if(!v&&null==Q.ngModule){const nn=(I?ve:this.parentInjector).get(Wa,null);nn&&(v=nn)}const We=Q.create(ve,h,void 0,v);return this.insert(We.hostView,F),We}insert(r,i){const u=r._lView,h=u[dn];if(function uo(t){return ki(t[fr])}(u)){const We=this.indexOf(r);if(-1!==We)this.detach(We);else{const It=u[fr],nn=new Fy(It,It[xi],It[fr]);nn.detach(nn.indexOf(r))}}const v=this._adjustIndex(i),I=this._lContainer;!function vl(t,r,i,u){const h=vr+u,v=i.length;u>0&&(i[h-1][ai]=r),u<v-vr?(r[ai]=i[h],bs(i,vr+u,r)):(i.push(r),r[ai]=null),r[fr]=i;const I=r[No];null!==I&&i!==I&&function Bc(t,r){const i=t[gr];r[Mi]!==r[fr][fr][Mi]&&(t[$n]=!0),null===i?t[gr]=[r]:i.push(r)}(I,r);const F=r[ze];null!==F&&F.insertView(t),r[sr]|=64}(h,u,I,v);const F=Xl(v,I),Q=u[jr],ve=rl(Q,I[ur]);return null!==ve&&function Sa(t,r,i,u,h,v){u[rr]=h,u[xi]=r,bl(t,u,i,1,h,v)}(h,I[xi],Q,u,ve,F),r.attachToViewContainerRef(),bs(eg(I),v,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=Ly(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),u=nl(this._lContainer,i);u&&(Pa(eg(this._lContainer),i),$l(u[dn],u))}detach(r){const i=this._adjustIndex(r,-1),u=nl(this._lContainer,i);return u&&null!=Pa(eg(this._lContainer),i)?new Au(u):null}_adjustIndex(r,i=0){return r??this.length+i}};function Ly(t){return t[kr]}function eg(t){return t[kr]||(t[kr]=[])}function By(t,r){let i;const u=r[t.index];if(ki(u))i=u;else{let h;if(8&t.type)h=Ti(u);else{const v=r[jr];h=v.createComment("");const I=Yi(t,r);Ta(v,rl(v,I),h,function ia(t,r){return t.nextSibling(r)}(v,I),!1)}r[t.index]=i=$h(u,r,h,t),Ol(r,i)}return new Fy(i,t,r)}class tg{constructor(r){this.queryList=r,this.matches=null}clone(){return new tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ng{constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const u=null!==r.contentQueries?r.contentQueries[0]:i.length,h=[];for(let v=0;v<u;v++){const I=i.getByIndex(v);h.push(this.queries[I.indexInDeclarationView].clone())}return new ng(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==Ky(r,i).matches&&this.queries[i].setDirty()}}class jy{constructor(r,i,u=null){this.predicate=r,this.flags=i,this.read=u}}class rg{constructor(r=[]){this.queries=r}elementStart(r,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let u=0;u<this.length;u++){const h=null!==i?i.length:0,v=this.getByIndex(u).embeddedTView(r,h);v&&(v.indexInDeclarationView=u,null!==i?i.push(v):i=[v])}return null!==i?new rg(i):null}template(r,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ig{constructor(r,i=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new ig(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const v=u[h];this.matchTNodeWithReadOption(r,i,rw(i,v)),this.matchTNodeWithReadOption(r,i,Yr(i,r,v,!1,!1))}else u===yf?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,Yr(i,r,u,!1,!1))}matchTNodeWithReadOption(r,i,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===sl||h===kp||h===yf&&4&i.type)this.addMatch(i.index,-2);else{const v=Yr(i,r,h,!1,!1);null!==v&&this.addMatch(i.index,v)}else this.addMatch(i.index,u)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function rw(t,r){const i=t.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===r)return i[u+1];return null}function ow(t,r,i,u){return-1===i?function iw(t,r){return 11&t.type?Ca(t,r):4&t.type?Ap(t,r):null}(r,t):-2===i?function sw(t,r,i){return i===sl?Ca(r,t):i===yf?Ap(r,t):i===kp?By(r,t):void 0}(t,r,u):si(t,t[dn],i,r)}function Yy(t,r,i,u){const h=r[ze].queries[u];if(null===h.matches){const v=t.data,I=i.matches,F=[];for(let Q=0;Q<I.length;Q+=2){const ve=I[Q];F.push(ve<0?null:ow(r,v[ve],I[Q+1],i.metadata.read))}h.matches=F}return h.matches}function og(t,r,i,u){const h=t.queries.getByIndex(i),v=h.matches;if(null!==v){const I=Yy(t,r,h,i);for(let F=0;F<v.length;F+=2){const Q=v[F];if(Q>0)u.push(I[F/2]);else{const ve=v[F+1],We=r[-Q];for(let It=vr;It<We.length;It++){const nn=We[It];nn[No]===nn[fr]&&og(nn[dn],nn,ve,u)}if(null!==We[gr]){const It=We[gr];for(let nn=0;nn<It.length;nn++){const _n=It[nn];og(_n[dn],_n,ve,u)}}}}}return u}function Uy(t){const r=Pn(),i=Vr(),u=Xn();Ci(u+1);const h=Ky(i,u);if(t.dirty&&function Qr(t){return 4==(4&t[sr])}(r)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const v=h.crossesNgTemplate?og(i,r,u,[]):Yy(i,r,h,u);t.reset(v,Kp),t.notifyOnChanges()}return!0}return!1}function Vy(t,r,i){const u=Vr();u.firstCreatePass&&(Gy(u,new jy(t,r,i),-1),2==(2&r)&&(u.staticViewQueries=!0)),Wy(u,Pn(),r)}function Hy(t,r,i,u){const h=Vr();if(h.firstCreatePass){const v=oi();Gy(h,new jy(r,i,u),v.index),function lw(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}Wy(h,Pn(),i)}function zy(){return function aw(t,r){return t[ze].queries[r].queryList}(Pn(),Xn())}function Wy(t,r,i){const u=new Mp(4==(4&i));tp(t,r,u,u.destroy),null===r[ze]&&(r[ze]=new ng),r[ze].queries.push(new tg(u))}function Gy(t,r,i){null===t.queries&&(t.queries=new rg),t.queries.track(new ig(r,i))}function Ky(t,r){return t.queries.getByIndex(r)}function $y(t,r){return Ap(t,r)}function sg(t){return!!Lt(t)}const Pw=Fr("Input",t=>({bindingPropertyName:t})),xw=Fr("Output",t=>({bindingPropertyName:t}));function Rp(...t){}const h_=new Sr("Application Initializer");let Np=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const i=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const v=this.appInits[h]();if(Im(v))i.push(v);else if(Vg(v)){const I=new Promise((F,Q)=>{v.subscribe({complete:F,error:Q})});i.push(I)}}Promise.all(i).then(()=>{u()}).catch(h=>{this.reject(h)}),0===i.length&&u(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(hn(h_,8))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f_=new Sr("AppId",{providedIn:"root",factory:function p_(){return`${dg()}${dg()}${dg()}`}});function dg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m_=new Sr("Platform Initializer"),Mw=new Sr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Aw=new Sr("AnimationModuleType");let kw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Fp=new Sr("LocaleId",{providedIn:"root",factory:()=>Vt(Fp,Nn.Optional|Nn.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||eh}()}),Rw=new Sr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nw{constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let Fw=(()=>{class t{compileModuleSync(i){return new Qm(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),v=Pl(Lt(i).declarations).reduce((I,F)=>{const Q=be(F);return Q&&I.push(new ku(Q)),I},[]);return new Nw(u,v)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jw=(()=>Promise.resolve(0))();function hg(t){typeof Zone>"u"?jw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class dl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&i,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Yw(){let t=Qt.requestAnimationFrame,r=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Hw(t){const r=()=>{!function Vw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pg(t),t.isCheckStableRunning=!0,fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,u,h,v,I,F)=>{try{return y_(t),i.invokeTask(h,v,I,F)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||t.shouldCoalesceRunChangeDetection)&&r(),__(t)}},onInvoke:(i,u,h,v,I,F,Q)=>{try{return y_(t),i.invoke(h,v,I,F,Q)}finally{t.shouldCoalesceRunChangeDetection&&r(),__(t)}},onHasTask:(i,u,h,v)=>{i.hasTask(h,v),u===h&&("microTask"==v.change?(t._hasPendingMicrotasks=v.microTask,pg(t),fg(t)):"macroTask"==v.change&&(t.hasPendingMacrotasks=v.macroTask))},onHandleError:(i,u,h,v)=>(i.handleError(h,v),t.runOutsideAngular(()=>t.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dl.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(dl.isInAngularZone())throw new ye(909,!1)}run(r,i,u){return this._inner.run(r,i,u)}runTask(r,i,u,h){const v=this._inner,I=v.scheduleEventTask("NgZoneEvent: "+h,r,Uw,Rp,Rp);try{return v.runTask(I,i,u)}finally{v.cancelTask(I)}}runGuarded(r,i,u){return this._inner.runGuarded(r,i,u)}runOutsideAngular(r){return this._outer.run(r)}}const Uw={};function fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function y_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function __(t){t._nesting--,fg(t)}class zw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(r,i,u){return r.apply(i,u)}runGuarded(r,i,u){return r.apply(i,u)}runOutsideAngular(r){return r()}runTask(r,i,u,h){return r.apply(i,u)}}const b_=new Sr(""),w_=new Sr("");let mg,Ww=(()=>{class t{constructor(i,u,h){this._ngZone=i,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mg||(function Gw(t){mg=t}(h),h.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dl.assertNotInAngularZone(),hg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hg(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,h){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),i(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:i,timeoutId:v,updateCb:h})}whenStable(i,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,h){return[]}}return t.\u0275fac=function(i){return new(i||t)(hn(dl),hn(E_),hn(w_))},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t})(),E_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return mg?.findTestabilityInTree(this,i,u)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ru=!1;let Sc=null;const S_=new Sr("AllowMultipleToken"),gg=new Sr("PlatformDestroyListeners"),T_=new Sr("appBootstrapListener");class qw{constructor(r,i){this.name=r,this.token=i}}function C_(t,r,i=[]){const u=`Platform: ${r}`,h=new Sr(u);return(v=[])=>{let I=vg();if(!I||I.injector.get(S_,!1)){const F=[...i,...v,{provide:h,useValue:!0}];t?t(F):function Qw(t){if(Sc&&!Sc.get(S_,!1))throw new ye(400,!1);Sc=t;const r=t.get(P_);(function D_(t){const r=t.get(m_,null);r&&r.forEach(i=>i())})(t)}(function I_(t=[],r){return Mu.create({name:r,providers:[{provide:Id,useValue:"platform"},{provide:gg,useValue:new Set([()=>Sc=null])},...t]})}(F,u))}return function Zw(t){const r=vg();if(!r)throw new ye(401,!1);return r}()}}function vg(){return Sc?.get(P_)??null}let P_=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const h=function M_(t,r){let i;return i="noop"===t?new zw:("zone.js"===t?void 0:t)||new dl(r),i}(u?.ngZone,function x_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(u)),v=[{provide:dl,useValue:h}];return h.run(()=>{const I=Mu.create({providers:v,parent:this.injector,name:i.moduleType.name}),F=i.create(I),Q=F.injector.get(lc,null);if(!Q)throw new ye(402,!1);return h.runOutsideAngular(()=>{const ve=h.onError.subscribe({next:We=>{Q.handleError(We)}});F.onDestroy(()=>{Bp(this._modules,F),ve.unsubscribe()})}),function A_(t,r,i){try{const u=i();return Im(u)?u.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):u}catch(u){throw r.runOutsideAngular(()=>t.handleError(u)),u}}(Q,h,()=>{const ve=F.injector.get(Np);return ve.runInitializers(),ve.donePromise.then(()=>(Lv(F.injector.get(Fp,eh)||eh),this._moduleDoBootstrap(F),F))})})}bootstrapModule(i,u=[]){const h=k_({},u);return function Kw(t,r,i){const u=new Qm(i);return Promise.resolve(u)}(0,0,i).then(v=>this.bootstrapModuleFactory(v,h))}_moduleDoBootstrap(i){const u=i.injector.get(Lp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new ye(-403,!1);i.instance.ngDoBootstrap(u)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(gg,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(hn(Mu))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function k_(t,r){return Array.isArray(r)?r.reduce(k_,t):{...t,...r}}let Lp=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(i,u,h){this._zone=i,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new j.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),I=new j.y(F=>{let Q;this._zone.runOutsideAngular(()=>{Q=this._zone.onStable.subscribe(()=>{dl.assertNotInAngularZone(),hg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{dl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{Q.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,Pe.T)(v,I.pipe((0,z.B)()))}bootstrap(i,u){const h=i instanceof Mf;if(!this._injector.get(Np).done){!h&&Mt(i);throw new ye(405,Ru)}let I;I=h?i:this._injector.get(Iu).resolveComponentFactory(i),this.componentTypes.push(I.componentType);const F=function $w(t){return t.isBoundToModule}(I)?void 0:this._injector.get(th),ve=I.create(Mu.NULL,[],u||I.selector,F),We=ve.location.nativeElement,It=ve.injector.get(b_,null);return It?.registerApplication(We),ve.onDestroy(()=>{this.detachView(ve.hostView),Bp(this.components,ve),It?.unregisterApplication(We)}),this._loadComponent(ve),ve}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;Bp(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(T_,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Bp(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ye(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)(hn(dl),hn(Wa),hn(lc))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bp(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function eE(){return!1}function tE(){}let nE=(()=>{class t{}return t.__NG_ELEMENT_ID__=rE,t})();function rE(t){return function iE(t,r,i){if(Oi(t)&&!i){const u=ti(t.index,r);return new Au(u,u)}return 47&t.type?new Au(r[Mi],r):null}(oi(),Pn(),16==(16&t))}class L_{constructor(){}supports(r){return Ll(r)}create(r){return new cE(r)}}const uE=(t,r)=>r;class cE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||uE}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,u=this._removalsHead,h=0,v=null;for(;i||u;){const I=!u||i&&i.currentIndex<j_(u,h,v)?i:u,F=j_(I,h,v),Q=I.currentIndex;if(I===u)h--,u=u._nextRemoved;else if(i=i._next,null==I.previousIndex)h++;else{v||(v=[]);const ve=F-h,We=Q-h;if(ve!=We){for(let nn=0;nn<ve;nn++){const _n=nn<v.length?v[nn]:v[nn]=0,zn=_n+nn;We<=zn&&zn<ve&&(v[nn]=_n+1)}v[I.previousIndex]=We-ve}}F!==Q&&r(I,F,Q)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!Ll(r))throw new ye(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,v,I,i=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let F=0;F<this.length;F++)v=r[F],I=this._trackByFn(F,v),null!==i&&Object.is(i.trackById,I)?(u&&(i=this._verifyReinsertion(i,v,I,F)),Object.is(i.item,v)||this._addIdentityChange(i,v)):(i=this._mismatch(i,v,I,F),u=!0),i=i._next}else h=0,function vp(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let u;for(;!(u=i.next()).done;)r(u.value)}}(r,F=>{I=this._trackByFn(h,F),null!==i&&Object.is(i.trackById,I)?(u&&(i=this._verifyReinsertion(i,F,I,h)),Object.is(i.item,F)||this._addIdentityChange(i,F)):(i=this._mismatch(i,F,I,h),u=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,u,h){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,v,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,v,h)):r=this._addAfter(new dE(i,u),v,h),r}_verifyReinsertion(r,i,u,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?r=this._reinsertAfter(v,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,v=r._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(r,i,u),this._addToMoves(r,u),r}_moveAfter(r,i,u){return this._unlink(r),this._insertAfter(r,i,u),this._addToMoves(r,u),r}_addAfter(r,i,u){return this._insertAfter(r,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,u){const h=null===i?this._itHead:i._next;return r._next=h,r._prev=i,null===h?this._itTail=r:h._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new B_),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,u=r._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B_),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class dE{constructor(r,i){this.item=r,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const i=r._prevDup,u=r._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class B_{constructor(){this.map=new Map}put(r){const i=r.trackById;let u=this.map.get(i);u||(u=new hE,this.map.set(i,u)),u.add(r)}get(r,i){const h=this.map.get(r);return h?h.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j_(t,r,i){const u=t.previousIndex;if(null===u)return u;let h=0;return i&&u<i.length&&(h=i[u]),u+r+h}class Y_{constructor(){}supports(r){return r instanceof Map||bc(r)}create(){return new fE}}class fE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||bc(r)))throw new ye(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const v=this._getOrCreateRecordForKey(h,u);i=this._insertBeforeOrAppend(i,v)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const u=r._prev;return i._next=r,i._prev=u,r._prev=i,u&&(u._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,i);const v=h._prev,I=h._next;return v&&(v._next=I),I&&(I._prev=v),h._next=null,h._prev=null,h}const u=new pE(r);return this._records.set(r,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(u=>i(r[u],u))}}class pE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U_(){return new Eg([new L_])}let Eg=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(null!=u){const h=u.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||U_()),deps:[[t,new Qa,new Ma]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(null!=u)return u;throw new ye(901,!1)}}return t.\u0275prov=Et({token:t,providedIn:"root",factory:U_}),t})();function V_(){return new Sg([new Y_])}let Sg=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(u){const h=u.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||V_()),deps:[[t,new Qa,new Ma]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(u)return u;throw new ye(901,!1)}}return t.\u0275prov=Et({token:t,providedIn:"root",factory:V_}),t})();const vE=C_(null,"core",[]);let yE=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(hn(Lp))},t.\u0275mod=pt({type:t}),t.\u0275inj=_t({}),t})();function _E(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wE(t,r){const i=be(t),u=r.elementInjector||qc();return new ku(i).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}},4859:(Ln,it,N)=>{"use strict";N.d(it,{lW:()=>tt,ot:()=>at});var y=N(83353),E=N(94650),j=N(12687),Pe=N(3238);const z=["mat-button",""],Qe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],te=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Nt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],yt=(0,Pe.pj)((0,Pe.Id)((0,Pe.Kr)(class{constructor(ee){this._elementRef=ee}})));let en=(()=>{class ee extends yt{constructor(re,Ne,Ue,ht){super(re),this._platform=Ne,this._ngZone=Ue,this._animationMode=ht,this._focusMonitor=(0,E.f3M)(j.tE),this._isFab=!1;const Et=re.nativeElement.classList;for(const gn of Nt)this._hasHostAttributes(gn.selector)&&gn.mdcClasses.forEach(_t=>{Et.add(_t)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(re="program",Ne){re?this._focusMonitor.focusVia(this._elementRef.nativeElement,re,Ne):this._elementRef.nativeElement.focus(Ne)}_hasHostAttributes(...re){return re.some(Ne=>this._elementRef.nativeElement.hasAttribute(Ne))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return ee.\u0275fac=function(re){E.$Z()},ee.\u0275dir=E.lG2({type:ee,viewQuery:function(re,Ne){if(1&re&&E.Gf(Pe.wG,5),2&re){let Ue;E.iGM(Ue=E.CRH())&&(Ne.ripple=Ue.first)}},features:[E.qOj]}),ee})(),tt=(()=>{class ee extends en{constructor(re,Ne,Ue,ht){super(re,Ne,Ue,ht)}}return ee.\u0275fac=function(re){return new(re||ee)(E.Y36(E.SBq),E.Y36(y.t4),E.Y36(E.R0b),E.Y36(E.QbO,8))},ee.\u0275cmp=E.Xpm({type:ee,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(re,Ne){2&re&&(E.uIk("disabled",Ne.disabled||null),E.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[E.qOj],attrs:z,ngContentSelectors:te,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(re,Ne){1&re&&(E.F$t(Qe),E._UZ(0,"span",0),E.Hsn(1),E.TgZ(2,"span",1),E.Hsn(3,1),E.qZA(),E.Hsn(4,2),E._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&re&&(E.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab),E.xp6(6),E.Q6J("matRippleDisabled",Ne._isRippleDisabled())("matRippleTrigger",Ne._elementRef.nativeElement))},dependencies:[Pe.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ee})(),at=(()=>{class ee{}return ee.\u0275fac=function(re){return new(re||ee)},ee.\u0275mod=E.oAB({type:ee}),ee.\u0275inj=E.cJS({imports:[Pe.BQ,Pe.si,Pe.BQ]}),ee})()},3238:(Ln,it,N)=>{"use strict";N.d(it,{Y2:()=>pn,BQ:()=>Ot,us:()=>Qt,wG:()=>Oe,si:()=>vt,IR:()=>Nn,pj:()=>k,Kr:()=>T,Id:()=>f,sb:()=>W});var y=N(94650),E=N(12687),j=N(40445),z=N(36895),Qe=N(83353),te=N(21281);const en=new y.OlP("mat-sanity-checks",{providedIn:"root",factory:function yt(){return!0}});let Ot=(()=>{class hn{constructor(Vt,Te,le){this._sanityChecks=Te,this._document=le,this._hasDoneGlobalChecks=!1,Vt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Vt){return!(0,Qe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Vt])}}return hn.\u0275fac=function(Vt){return new(Vt||hn)(y.LFG(E.qm),y.LFG(en,8),y.LFG(z.K0))},hn.\u0275mod=y.oAB({type:hn}),hn.\u0275inj=y.cJS({imports:[j.vT,j.vT]}),hn})();function f(hn){return class extends hn{get disabled(){return this._disabled}set disabled(Pt){this._disabled=(0,te.Ig)(Pt)}constructor(...Pt){super(...Pt),this._disabled=!1}}}function k(hn,Pt){return class extends hn{get color(){return this._color}set color(Vt){const Te=Vt||this.defaultColor;Te!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Te&&this._elementRef.nativeElement.classList.add(`mat-${Te}`),this._color=Te)}constructor(...Vt){super(...Vt),this.defaultColor=Pt,this.color=Pt}}}function T(hn){return class extends hn{get disableRipple(){return this._disableRipple}set disableRipple(Pt){this._disableRipple=(0,te.Ig)(Pt)}constructor(...Pt){super(...Pt),this._disableRipple=!1}}}function W(hn,Pt=0){return class extends hn{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Vt){this._tabIndex=null!=Vt?(0,te.su)(Vt):this.defaultTabIndex}constructor(...Vt){super(...Vt),this._tabIndex=Pt,this.defaultTabIndex=Pt}}}class ft{constructor(Pt,Vt,Te,le=!1){this._renderer=Pt,this.element=Vt,this.config=Te,this._animationForciblyDisabledThroughCss=le,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ut=(0,Qe.i$)({passive:!0,capture:!0});class Xt{constructor(){this._events=new Map,this._delegateEventHandler=Pt=>{const Vt=(0,Qe.sA)(Pt);Vt&&this._events.get(Pt.type)?.forEach((Te,le)=>{(le===Vt||le.contains(Vt))&&Te.forEach(ae=>ae.handleEvent(Pt))})}}addHandler(Pt,Vt,Te,le){const ae=this._events.get(Vt);if(ae){const rt=ae.get(Te);rt?rt.add(le):ae.set(Te,new Set([le]))}else this._events.set(Vt,new Map([[Te,new Set([le])]])),Pt.runOutsideAngular(()=>{document.addEventListener(Vt,this._delegateEventHandler,Ut)})}removeHandler(Pt,Vt,Te){const le=this._events.get(Pt);if(!le)return;const ae=le.get(Vt);ae&&(ae.delete(Te),0===ae.size&&le.delete(Vt),0===le.size&&(this._events.delete(Pt),document.removeEventListener(Pt,this._delegateEventHandler,Ut)))}}const fn={enterDuration:225,exitDuration:150},xn=(0,Qe.i$)({passive:!0,capture:!0}),er=["mousedown","touchstart"],Qn=["mouseup","mouseleave","touchend","touchcancel"];class Nn{constructor(Pt,Vt,Te,le){this._target=Pt,this._ngZone=Vt,this._platform=le,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,le.isBrowser&&(this._containerElement=(0,te.fI)(Te))}fadeInRipple(Pt,Vt,Te={}){const le=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ae={...fn,...Te.animation};Te.centered&&(Pt=le.left+le.width/2,Vt=le.top+le.height/2);const rt=Te.radius||function Dr(hn,Pt,Vt){const Te=Math.max(Math.abs(hn-Vt.left),Math.abs(hn-Vt.right)),le=Math.max(Math.abs(Pt-Vt.top),Math.abs(Pt-Vt.bottom));return Math.sqrt(Te*Te+le*le)}(Pt,Vt,le),Tt=Pt-le.left,bn=Vt-le.top,xe=ae.enterDuration,Ct=document.createElement("div");Ct.classList.add("mat-ripple-element"),Ct.style.left=Tt-rt+"px",Ct.style.top=bn-rt+"px",Ct.style.height=2*rt+"px",Ct.style.width=2*rt+"px",null!=Te.color&&(Ct.style.backgroundColor=Te.color),Ct.style.transitionDuration=`${xe}ms`,this._containerElement.appendChild(Ct);const Yt=window.getComputedStyle(Ct),qt=Yt.transitionDuration,ot="none"===Yt.transitionProperty||"0s"===qt||"0s, 0s"===qt||0===le.width&&0===le.height,nt=new ft(this,Ct,Te,ot);Ct.style.transform="scale3d(1, 1, 1)",nt.state=0,Te.persistent||(this._mostRecentTransientRipple=nt);let De=null;return!ot&&(xe||ae.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Dt=()=>this._finishRippleTransition(nt),Ft=()=>this._destroyRipple(nt);Ct.addEventListener("transitionend",Dt),Ct.addEventListener("transitioncancel",Ft),De={onTransitionEnd:Dt,onTransitionCancel:Ft}}),this._activeRipples.set(nt,De),(ot||!xe)&&this._finishRippleTransition(nt),nt}fadeOutRipple(Pt){if(2===Pt.state||3===Pt.state)return;const Vt=Pt.element,Te={...fn,...Pt.config.animation};Vt.style.transitionDuration=`${Te.exitDuration}ms`,Vt.style.opacity="0",Pt.state=2,(Pt._animationForciblyDisabledThroughCss||!Te.exitDuration)&&this._finishRippleTransition(Pt)}fadeOutAll(){this._getActiveRipples().forEach(Pt=>Pt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Pt=>{Pt.config.persistent||Pt.fadeOut()})}setupTriggerEvents(Pt){const Vt=(0,te.fI)(Pt);!this._platform.isBrowser||!Vt||Vt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Vt,er.forEach(Te=>{Nn._eventManager.addHandler(this._ngZone,Te,Vt,this)}))}handleEvent(Pt){"mousedown"===Pt.type?this._onMousedown(Pt):"touchstart"===Pt.type?this._onTouchStart(Pt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Qn.forEach(Vt=>{this._triggerElement.addEventListener(Vt,this,xn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Pt){0===Pt.state?this._startFadeOutTransition(Pt):2===Pt.state&&this._destroyRipple(Pt)}_startFadeOutTransition(Pt){const Vt=Pt===this._mostRecentTransientRipple,{persistent:Te}=Pt.config;Pt.state=1,!Te&&(!Vt||!this._isPointerDown)&&Pt.fadeOut()}_destroyRipple(Pt){const Vt=this._activeRipples.get(Pt)??null;this._activeRipples.delete(Pt),this._activeRipples.size||(this._containerRect=null),Pt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Pt.state=3,null!==Vt&&(Pt.element.removeEventListener("transitionend",Vt.onTransitionEnd),Pt.element.removeEventListener("transitioncancel",Vt.onTransitionCancel)),Pt.element.remove()}_onMousedown(Pt){const Vt=(0,E.X6)(Pt),Te=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Vt&&!Te&&(this._isPointerDown=!0,this.fadeInRipple(Pt.clientX,Pt.clientY,this._target.rippleConfig))}_onTouchStart(Pt){if(!this._target.rippleDisabled&&!(0,E.yG)(Pt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Vt=Pt.changedTouches;for(let Te=0;Te<Vt.length;Te++)this.fadeInRipple(Vt[Te].clientX,Vt[Te].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Pt=>{!Pt.config.persistent&&(1===Pt.state||Pt.config.terminateOnPointerUp&&0===Pt.state)&&Pt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Pt=this._triggerElement;Pt&&(er.forEach(Vt=>Nn._eventManager.removeHandler(Vt,Pt,this)),this._pointerUpEventsRegistered&&Qn.forEach(Vt=>Pt.removeEventListener(Vt,this,xn)))}}Nn._eventManager=new Xt;const pn=new y.OlP("mat-ripple-global-options");let Oe=(()=>{class hn{get disabled(){return this._disabled}set disabled(Vt){Vt&&this.fadeOutAllNonPersistent(),this._disabled=Vt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Vt){this._trigger=Vt,this._setupTriggerEventsIfEnabled()}constructor(Vt,Te,le,ae,rt){this._elementRef=Vt,this._animationMode=rt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ae||{},this._rippleRenderer=new Nn(this,Te,Vt,le)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Vt,Te=0,le){return"number"==typeof Vt?this._rippleRenderer.fadeInRipple(Vt,Te,{...this.rippleConfig,...le}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Vt})}}return hn.\u0275fac=function(Vt){return new(Vt||hn)(y.Y36(y.SBq),y.Y36(y.R0b),y.Y36(Qe.t4),y.Y36(pn,8),y.Y36(y.QbO,8))},hn.\u0275dir=y.lG2({type:hn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Vt,Te){2&Vt&&y.ekj("mat-ripple-unbounded",Te.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),hn})(),vt=(()=>{class hn{}return hn.\u0275fac=function(Vt){return new(Vt||hn)},hn.\u0275mod=y.oAB({type:hn}),hn.\u0275inj=y.cJS({imports:[Ot,Ot]}),hn})(),Qt=(()=>{class hn{}return hn.\u0275fac=function(Vt){return new(Vt||hn)},hn.\u0275mod=y.oAB({type:hn}),hn.\u0275inj=y.cJS({imports:[Ot]}),hn})()},11481:(Ln,it,N)=>{"use strict";N.d(it,{Dx:()=>mn,H7:()=>Ct,b2:()=>pn,q6:()=>er,se:()=>ge});var y=N(36895),E=N(94650);class j extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pe extends j{static makeCurrent(){(0,y.HT)(new Pe)}onAndCancel(nt,De,Dt){return nt.addEventListener(De,Dt,!1),()=>{nt.removeEventListener(De,Dt,!1)}}dispatchEvent(nt,De){nt.dispatchEvent(De)}remove(nt){nt.parentNode&&nt.parentNode.removeChild(nt)}createElement(nt,De){return(De=De||this.getDefaultDocument()).createElement(nt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(nt){return nt.nodeType===Node.ELEMENT_NODE}isShadowRoot(nt){return nt instanceof DocumentFragment}getGlobalEventTarget(nt,De){return"window"===De?window:"document"===De?nt:"body"===De?nt.body:null}getBaseHref(nt){const De=function Qe(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==De?null:function Ge(ot){te=te||document.createElement("a"),te.setAttribute("href",ot);const nt=te.pathname;return"/"===nt.charAt(0)?nt:`/${nt}`}(De)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(nt){return(0,y.Mx)(document.cookie,nt)}}let te,z=null;const ie=new E.OlP("TRANSITION_ID"),Ae=[{provide:E.ip1,useFactory:function K(ot,nt,De){return()=>{De.get(E.CZH).donePromise.then(()=>{const Dt=(0,y.q)(),Ft=nt.querySelectorAll(`style[ng-transition="${ot}"]`);for(let vn=0;vn<Ft.length;vn++)Dt.remove(Ft[vn])})}},deps:[ie,y.K0,E.zs3],multi:!0}];let Fe=(()=>{class ot{build(){return new XMLHttpRequest}}return ot.\u0275fac=function(De){return new(De||ot)},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const bt=new E.OlP("EventManagerPlugins");let Zt=(()=>{class ot{constructor(De,Dt){this._zone=Dt,this._eventNameToPlugin=new Map,De.forEach(Ft=>{Ft.manager=this}),this._plugins=De.slice().reverse()}addEventListener(De,Dt,Ft){return this._findPluginFor(Dt).addEventListener(De,Dt,Ft)}addGlobalEventListener(De,Dt,Ft){return this._findPluginFor(Dt).addGlobalEventListener(De,Dt,Ft)}getZone(){return this._zone}_findPluginFor(De){const Dt=this._eventNameToPlugin.get(De);if(Dt)return Dt;const Ft=this._plugins;for(let vn=0;vn<Ft.length;vn++){const Zn=Ft[vn];if(Zn.supports(De))return this._eventNameToPlugin.set(De,Zn),Zn}throw new Error(`No event manager plugin found for event ${De}`)}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(bt),E.LFG(E.R0b))},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Wt{constructor(nt){this._doc=nt}addGlobalEventListener(nt,De,Dt){const Ft=(0,y.q)().getGlobalEventTarget(this._doc,nt);if(!Ft)throw new Error(`Unsupported event target ${Ft} for event ${De}`);return this.addEventListener(Ft,De,Dt)}}let ye=(()=>{class ot{constructor(){this.usageCount=new Map}addStyles(De){for(const Dt of De)1===this.changeUsageCount(Dt,1)&&this.onStyleAdded(Dt)}removeStyles(De){for(const Dt of De)0===this.changeUsageCount(Dt,-1)&&this.onStyleRemoved(Dt)}onStyleRemoved(De){}onStyleAdded(De){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(De,Dt){const Ft=this.usageCount;let vn=Ft.get(De)??0;return vn+=Dt,vn>0?Ft.set(De,vn):Ft.delete(De),vn}ngOnDestroy(){for(const De of this.getAllStyles())this.onStyleRemoved(De);this.usageCount.clear()}}return ot.\u0275fac=function(De){return new(De||ot)},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Nt=(()=>{class ot extends ye{constructor(De){super(),this.doc=De,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(De){for(const Dt of this.hostNodes)this.addStyleToHost(Dt,De)}onStyleRemoved(De){const Dt=this.styleRef;Dt.get(De)?.forEach(vn=>vn.remove()),Dt.delete(De)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(De){this.hostNodes.add(De);for(const Dt of this.getAllStyles())this.addStyleToHost(De,Dt)}removeHost(De){this.hostNodes.delete(De)}addStyleToHost(De,Dt){const Ft=this.doc.createElement("style");Ft.textContent=Dt,De.appendChild(Ft);const vn=this.styleRef.get(Dt);vn?vn.push(Ft):this.styleRef.set(Dt,[Ft])}resetHostNodes(){const De=this.hostNodes;De.clear(),De.add(this.doc.head)}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(y.K0))},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},en=/%COMP%/g,k=new E.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function J(ot,nt){return nt.flat(100).map(De=>De.replace(en,ot))}function R(ot){return nt=>{if("__ngUnwrap__"===nt)return ot;!1===ot(nt)&&(nt.preventDefault(),nt.returnValue=!1)}}let ge=(()=>{class ot{constructor(De,Dt,Ft,vn){this.eventManager=De,this.sharedStylesHost=Dt,this.appId=Ft,this.removeStylesOnCompDestory=vn,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(De)}createRenderer(De,Dt){if(!De||!Dt)return this.defaultRenderer;const Ft=this.getOrCreateRenderer(De,Dt);return Ft instanceof ce?Ft.applyToHost(De):Ft instanceof ee&&Ft.applyStyles(),Ft}getOrCreateRenderer(De,Dt){const Ft=this.rendererByCompId;let vn=Ft.get(Dt.id);if(!vn){const Zn=this.eventManager,Cn=this.sharedStylesHost,yr=this.removeStylesOnCompDestory;switch(Dt.encapsulation){case E.ifc.Emulated:vn=new ce(Zn,Cn,Dt,this.appId,yr);break;case E.ifc.ShadowDom:return new at(Zn,Cn,De,Dt);default:vn=new ee(Zn,Cn,Dt,yr)}vn.onDestroy=()=>Ft.delete(Dt.id),Ft.set(Dt.id,vn)}return vn}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(Zt),E.LFG(Nt),E.LFG(E.AFp),E.LFG(k))},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Ke{constructor(nt){this.eventManager=nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(nt,De){return De?document.createElementNS(yt[De]||De,nt):document.createElement(nt)}createComment(nt){return document.createComment(nt)}createText(nt){return document.createTextNode(nt)}appendChild(nt,De){(ct(nt)?nt.content:nt).appendChild(De)}insertBefore(nt,De,Dt){nt&&(ct(nt)?nt.content:nt).insertBefore(De,Dt)}removeChild(nt,De){nt&&nt.removeChild(De)}selectRootElement(nt,De){let Dt="string"==typeof nt?document.querySelector(nt):nt;if(!Dt)throw new Error(`The selector "${nt}" did not match any elements`);return De||(Dt.textContent=""),Dt}parentNode(nt){return nt.parentNode}nextSibling(nt){return nt.nextSibling}setAttribute(nt,De,Dt,Ft){if(Ft){De=Ft+":"+De;const vn=yt[Ft];vn?nt.setAttributeNS(vn,De,Dt):nt.setAttribute(De,Dt)}else nt.setAttribute(De,Dt)}removeAttribute(nt,De,Dt){if(Dt){const Ft=yt[Dt];Ft?nt.removeAttributeNS(Ft,De):nt.removeAttribute(`${Dt}:${De}`)}else nt.removeAttribute(De)}addClass(nt,De){nt.classList.add(De)}removeClass(nt,De){nt.classList.remove(De)}setStyle(nt,De,Dt,Ft){Ft&(E.JOm.DashCase|E.JOm.Important)?nt.style.setProperty(De,Dt,Ft&E.JOm.Important?"important":""):nt.style[De]=Dt}removeStyle(nt,De,Dt){Dt&E.JOm.DashCase?nt.style.removeProperty(De):nt.style[De]=""}setProperty(nt,De,Dt){nt[De]=Dt}setValue(nt,De){nt.nodeValue=De}listen(nt,De,Dt){return"string"==typeof nt?this.eventManager.addGlobalEventListener(nt,De,R(Dt)):this.eventManager.addEventListener(nt,De,R(Dt))}}function ct(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class at extends Ke{constructor(nt,De,Dt,Ft){super(nt),this.sharedStylesHost=De,this.hostEl=Dt,this.shadowRoot=Dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vn=J(Ft.id,Ft.styles);for(const Zn of vn){const Cn=document.createElement("style");Cn.textContent=Zn,this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(nt){return nt===this.hostEl?this.shadowRoot:nt}appendChild(nt,De){return super.appendChild(this.nodeOrShadowRoot(nt),De)}insertBefore(nt,De,Dt){return super.insertBefore(this.nodeOrShadowRoot(nt),De,Dt)}removeChild(nt,De){return super.removeChild(this.nodeOrShadowRoot(nt),De)}parentNode(nt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(nt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ee extends Ke{constructor(nt,De,Dt,Ft,vn=Dt.id){super(nt),this.sharedStylesHost=De,this.removeStylesOnCompDestory=Ft,this.rendererUsageCount=0,this.styles=J(vn,Dt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ce extends ee{constructor(nt,De,Dt,Ft,vn){const Zn=Ft+"-"+Dt.id;super(nt,De,Dt,vn,Zn),this.contentAttr=function T(ot){return"_ngcontent-%COMP%".replace(en,ot)}(Zn),this.hostAttr=function W(ot){return"_nghost-%COMP%".replace(en,ot)}(Zn)}applyToHost(nt){this.applyStyles(),this.setAttribute(nt,this.hostAttr,"")}createElement(nt,De){const Dt=super.createElement(nt,De);return super.setAttribute(Dt,this.contentAttr,""),Dt}}let re=(()=>{class ot extends Wt{constructor(De){super(De)}supports(De){return!0}addEventListener(De,Dt,Ft){return De.addEventListener(Dt,Ft,!1),()=>this.removeEventListener(De,Dt,Ft)}removeEventListener(De,Dt,Ft){return De.removeEventListener(Dt,Ft)}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(y.K0))},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Ne=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Et=(()=>{class ot extends Wt{constructor(De){super(De)}supports(De){return null!=ot.parseEventName(De)}addEventListener(De,Dt,Ft){const vn=ot.parseEventName(Dt),Zn=ot.eventCallback(vn.fullKey,Ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(De,vn.domEventName,Zn))}static parseEventName(De){const Dt=De.toLowerCase().split("."),Ft=Dt.shift();if(0===Dt.length||"keydown"!==Ft&&"keyup"!==Ft)return null;const vn=ot._normalizeKey(Dt.pop());let Zn="",Cn=Dt.indexOf("code");if(Cn>-1&&(Dt.splice(Cn,1),Zn="code."),Ne.forEach(ei=>{const st=Dt.indexOf(ei);st>-1&&(Dt.splice(st,1),Zn+=ei+".")}),Zn+=vn,0!=Dt.length||0===vn.length)return null;const yr={};return yr.domEventName=Ft,yr.fullKey=Zn,yr}static matchEventFullKeyCode(De,Dt){let Ft=Ue[De.key]||De.key,vn="";return Dt.indexOf("code.")>-1&&(Ft=De.code,vn="code."),!(null==Ft||!Ft)&&(Ft=Ft.toLowerCase()," "===Ft?Ft="space":"."===Ft&&(Ft="dot"),Ne.forEach(Zn=>{Zn!==Ft&&(0,ht[Zn])(De)&&(vn+=Zn+".")}),vn+=Ft,vn===Dt)}static eventCallback(De,Dt,Ft){return vn=>{ot.matchEventFullKeyCode(vn,De)&&Ft.runGuarded(()=>Dt(vn))}}static _normalizeKey(De){return"esc"===De?"escape":De}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(y.K0))},ot.\u0275prov=E.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const er=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:y.bD},{provide:E.g9A,useValue:function Xt(){Pe.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function jn(){return(0,E.RDi)(document),document},deps:[]}]),Qn=new E.OlP(""),Nn=[{provide:E.rWj,useClass:class Se{addToWindow(nt){E.dqk.getAngularTestability=(Dt,Ft=!0)=>{const vn=nt.findTestabilityInTree(Dt,Ft);if(null==vn)throw new Error("Could not find testability for element.");return vn},E.dqk.getAllAngularTestabilities=()=>nt.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>nt.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(Dt=>{const Ft=E.dqk.getAllAngularTestabilities();let vn=Ft.length,Zn=!1;const Cn=function(yr){Zn=Zn||yr,vn--,0==vn&&Dt(Zn)};Ft.forEach(function(yr){yr.whenStable(Cn)})})}findTestabilityInTree(nt,De,Dt){return null==De?null:nt.getTestability(De)??(Dt?(0,y.q)().isShadowRoot(De)?this.findTestabilityInTree(nt,De.host,!0):this.findTestabilityInTree(nt,De.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Dr=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function fn(){return new E.qLn},deps:[]},{provide:bt,useClass:re,multi:!0,deps:[y.K0,E.R0b,E.Lbi]},{provide:bt,useClass:Et,multi:!0,deps:[y.K0]},{provide:ge,useClass:ge,deps:[Zt,Nt,E.AFp,k]},{provide:E.FYo,useExisting:ge},{provide:ye,useExisting:Nt},{provide:Nt,useClass:Nt,deps:[y.K0]},{provide:Zt,useClass:Zt,deps:[bt,E.R0b]},{provide:y.JF,useClass:Fe,deps:[]},[]];let pn=(()=>{class ot{constructor(De){}static withServerTransition(De){return{ngModule:ot,providers:[{provide:E.AFp,useValue:De.appId},{provide:ie,useExisting:E.AFp},Ae]}}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(Qn,12))},ot.\u0275mod=E.oAB({type:ot}),ot.\u0275inj=E.cJS({providers:[...Dr,...Nn],imports:[y.ez,E.hGG]}),ot})(),mn=(()=>{class ot{constructor(De){this._doc=De}getTitle(){return this._doc.title}setTitle(De){this._doc.title=De||""}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(y.K0))},ot.\u0275prov=E.Yz7({token:ot,factory:function(De){let Dt=null;return Dt=De?new De:function Qt(){return new mn((0,E.LFG)(y.K0))}(),Dt},providedIn:"root"}),ot})();typeof window<"u"&&window;let Ct=(()=>{class ot{}return ot.\u0275fac=function(De){return new(De||ot)},ot.\u0275prov=E.Yz7({token:ot,factory:function(De){let Dt=null;return Dt=De?new(De||ot):E.LFG(ln),Dt},providedIn:"root"}),ot})(),ln=(()=>{class ot extends Ct{constructor(De){super(),this._doc=De}sanitize(De,Dt){if(null==Dt)return null;switch(De){case E.q3G.NONE:return Dt;case E.q3G.HTML:return(0,E.qzn)(Dt,"HTML")?(0,E.z3N)(Dt):(0,E.EiD)(this._doc,String(Dt)).toString();case E.q3G.STYLE:return(0,E.qzn)(Dt,"Style")?(0,E.z3N)(Dt):Dt;case E.q3G.SCRIPT:if((0,E.qzn)(Dt,"Script"))return(0,E.z3N)(Dt);throw new Error("unsafe value used in a script context");case E.q3G.URL:return(0,E.qzn)(Dt,"URL")?(0,E.z3N)(Dt):(0,E.mCW)(String(Dt));case E.q3G.RESOURCE_URL:if((0,E.qzn)(Dt,"ResourceURL"))return(0,E.z3N)(Dt);throw new Error(`unsafe value used in a resource URL context (see ${E.JZr})`);default:throw new Error(`Unexpected SecurityContext ${De} (see ${E.JZr})`)}}bypassSecurityTrustHtml(De){return(0,E.JVY)(De)}bypassSecurityTrustStyle(De){return(0,E.L6k)(De)}bypassSecurityTrustScript(De){return(0,E.eBb)(De)}bypassSecurityTrustUrl(De){return(0,E.LAX)(De)}bypassSecurityTrustResourceUrl(De){return(0,E.pB0)(De)}}return ot.\u0275fac=function(De){return new(De||ot)(E.LFG(y.K0))},ot.\u0275prov=E.Yz7({token:ot,factory:function(De){let Dt=null;return Dt=De?new De:function Yt(ot){return new ln(ot.get(y.K0))}(E.LFG(E.zs3)),Dt},providedIn:"root"}),ot})()},89299:(Ln,it,N)=>{"use strict";N.d(it,{gz:()=>$i,m2:()=>Ni,F0:()=>rn,rH:()=>lr,Od:()=>_r,Bz:()=>ls,lC:()=>or});var y=N(94650),E=N(88996),j=N(39646),Pe=N(61135);const Qe=(0,N(83888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"});var te=N(39841),Ge=N(97272),ie=N(49770),K=N(89635),Ae=N(62843),Se=N(69751),Fe=N(60515),bt=N(94033),Zt=N(77579),Wt=N(36895),ye=N(54004),Nt=N(63900),yt=N(95698),en=N(68675),Ot=N(39300),Le=N(95577),Me=N(54482),tt=N(25403);function f(M){return(0,Me.e)((O,C)=>{let V=!1;O.subscribe((0,tt.x)(C,se=>{V=!0,C.next(se)},()=>{V||C.next(M),C.complete()}))})}function k(M=T){return(0,Me.e)((O,C)=>{let V=!1;O.subscribe((0,tt.x)(C,se=>{V=!0,C.next(se)},()=>V?C.complete():C.error(M())))})}function T(){return new Qe}var W=N(44671);function J(M,O){const C=arguments.length>=2;return V=>V.pipe(M?(0,Ot.h)((se,Ie)=>M(se,Ie,V)):W.y,(0,yt.q)(1),C?f(O):k(()=>new Qe))}var R=N(24351),ge=N(18505),Ke=N(70262);function He(M,O){return(0,Me.e)(function Tn(M,O,C,V,se){return(Ie,Ze)=>{let on=C,Un=O,hr=0;Ie.subscribe((0,tt.x)(Ze,pr=>{const wi=hr++;Un=on?M(Un,pr,wi):(on=!0,pr),V&&Ze.next(Un)},se&&(()=>{on&&Ze.next(Un),Ze.complete()})))}}(M,O,arguments.length>=2,!0))}function ct(M){return M<=0?()=>Fe.E:(0,Me.e)((O,C)=>{let V=[];O.subscribe((0,tt.x)(C,se=>{V.push(se),M<V.length&&V.shift()},()=>{for(const se of V)C.next(se);C.complete()},void 0,()=>{V=null}))})}function at(M,O){const C=arguments.length>=2;return V=>V.pipe(M?(0,Ot.h)((se,Ie)=>M(se,Ie,V)):W.y,ct(1),C?f(O):k(()=>new Qe))}var ee=N(22529),ce=N(69718),re=N(28746),Ne=N(38343),Ue=N(8189),ht=N(11481);const Et="primary",gn=Symbol("RouteTitle");class _t{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const C=this.params[O];return Array.isArray(C)?C[0]:C}return null}getAll(O){if(this.has(O)){const C=this.params[O];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function an(M){return new _t(M)}function ft(M,O,C){const V=C.path.split("/");if(V.length>M.length||"full"===C.pathMatch&&(O.hasChildren()||V.length<M.length))return null;const se={};for(let Ie=0;Ie<V.length;Ie++){const Ze=V[Ie],on=M[Ie];if(Ze.startsWith(":"))se[Ze.substring(1)]=on;else if(Ze!==on.path)return null}return{consumed:M.slice(0,V.length),posParams:se}}function Xt(M,O){const C=M?Object.keys(M):void 0,V=O?Object.keys(O):void 0;if(!C||!V||C.length!=V.length)return!1;let se;for(let Ie=0;Ie<C.length;Ie++)if(se=C[Ie],!fn(M[se],O[se]))return!1;return!0}function fn(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const C=[...M].sort(),V=[...O].sort();return C.every((se,Ie)=>V[Ie]===se)}return M===O}function jn(M){return Array.prototype.concat.apply([],M)}function xn(M){return M.length>0?M[M.length-1]:null}function Qn(M,O){for(const C in M)M.hasOwnProperty(C)&&O(M[C],C)}function Nn(M){return(0,y.CqO)(M)?M:(0,y.QGY)(M)?(0,E.D)(Promise.resolve(M)):(0,j.of)(M)}const Dr=!1,pn={exact:function Qt(M,O,C){if(!Wn(M.segments,O.segments)||!xt(M.segments,O.segments,C)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const V in O.children)if(!M.children[V]||!Qt(M.children[V],O.children[V],C))return!1;return!0},subset:Je},Oe={exact:function Bt(M,O){return Xt(M,O)},subset:function mn(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(C=>fn(M[C],O[C]))},ignored:()=>!0};function vt(M,O,C){return pn[C.paths](M.root,O.root,C.matrixParams)&&Oe[C.queryParams](M.queryParams,O.queryParams)&&!("exact"===C.fragment&&M.fragment!==O.fragment)}function Je(M,O,C){return Ee(M,O,O.segments,C)}function Ee(M,O,C,V){if(M.segments.length>C.length){const se=M.segments.slice(0,C.length);return!(!Wn(se,C)||O.hasChildren()||!xt(se,C,V))}if(M.segments.length===C.length){if(!Wn(M.segments,C)||!xt(M.segments,C,V))return!1;for(const se in O.children)if(!M.children[se]||!Je(M.children[se],O.children[se],V))return!1;return!0}{const se=C.slice(0,M.segments.length),Ie=C.slice(M.segments.length);return!!(Wn(M.segments,se)&&xt(M.segments,se,V)&&M.children[Et])&&Ee(M.children[Et],O,Ie,V)}}function xt(M,O,C){return O.every((V,se)=>Oe[C](M[se].parameters,V.parameters))}class Rt{constructor(O=new dt([],{}),C={},V=null){this.root=O,this.queryParams=C,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return xr.serialize(this)}}class dt{constructor(O,C){this.segments=O,this.children=C,this.parent=null,Qn(C,(V,se)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class En{constructor(O,C){this.path=O,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return bn(this)}}function Wn(M,O){return M.length===O.length&&M.every((C,V)=>C.path===O[V].path)}let Rn=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return new nr},providedIn:"root"}),M})();class nr{parse(O){const C=new Dt(O);return new Rt(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(O){const C=`/${Pt(O.root,!0)}`,V=function Ct(M){const O=Object.keys(M).map(C=>{const V=M[C];return Array.isArray(V)?V.map(se=>`${Te(C)}=${Te(se)}`).join("&"):`${Te(C)}=${Te(V)}`}).filter(C=>!!C);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${C}${V}${"string"==typeof O.fragment?`#${function le(M){return encodeURI(M)}(O.fragment)}`:""}`}}const xr=new nr;function hn(M){return M.segments.map(O=>bn(O)).join("/")}function Pt(M,O){if(!M.hasChildren())return hn(M);if(O){const C=M.children[Et]?Pt(M.children[Et],!1):"",V=[];return Qn(M.children,(se,Ie)=>{Ie!==Et&&V.push(`${Ie}:${Pt(se,!1)}`)}),V.length>0?`${C}(${V.join("//")})`:C}{const C=function kn(M,O){let C=[];return Qn(M.children,(V,se)=>{se===Et&&(C=C.concat(O(V,se)))}),Qn(M.children,(V,se)=>{se!==Et&&(C=C.concat(O(V,se)))}),C}(M,(V,se)=>se===Et?[Pt(M.children[Et],!1)]:[`${se}:${Pt(V,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Et]?`${hn(M)}/${C[0]}`:`${hn(M)}/(${C.join("//")})`}}function Vt(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Te(M){return Vt(M).replace(/%3B/gi,";")}function ae(M){return Vt(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(M){return decodeURIComponent(M)}function Tt(M){return rt(M.replace(/\+/g,"%20"))}function bn(M){return`${ae(M.path)}${function xe(M){return Object.keys(M).map(O=>`;${ae(O)}=${ae(M[O])}`).join("")}(M.parameters)}`}const Yt=/^[^\/()?;=#]+/;function ln(M){const O=M.match(Yt);return O?O[0]:""}const qt=/^[^=?&#]+/,nt=/^[^&#]+/;class Dt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(O.length>0||Object.keys(C).length>0)&&(V[Et]=new dt(O,C)),V}parseSegment(){const O=ln(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new y.vHH(4009,Dr);return this.capture(O),new En(rt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const C=ln(this.remaining);if(!C)return;this.capture(C);let V="";if(this.consumeOptional("=")){const se=ln(this.remaining);se&&(V=se,this.capture(V))}O[rt(C)]=rt(V)}parseQueryParam(O){const C=function ot(M){const O=M.match(qt);return O?O[0]:""}(this.remaining);if(!C)return;this.capture(C);let V="";if(this.consumeOptional("=")){const Ze=function De(M){const O=M.match(nt);return O?O[0]:""}(this.remaining);Ze&&(V=Ze,this.capture(V))}const se=Tt(C),Ie=Tt(V);if(O.hasOwnProperty(se)){let Ze=O[se];Array.isArray(Ze)||(Ze=[Ze],O[se]=Ze),Ze.push(Ie)}else O[se]=Ie}parseParens(O){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=ln(this.remaining),se=this.remaining[V.length];if("/"!==se&&")"!==se&&";"!==se)throw new y.vHH(4010,Dr);let Ie;V.indexOf(":")>-1?(Ie=V.slice(0,V.indexOf(":")),this.capture(Ie),this.capture(":")):O&&(Ie=Et);const Ze=this.parseChildren();C[Ie]=1===Object.keys(Ze).length?Ze[Et]:new dt([],Ze),this.consumeOptional("//")}return C}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new y.vHH(4011,Dr)}}function Ft(M){return M.segments.length>0?new dt([],{[Et]:M}):M}function vn(M){const O={};for(const V of Object.keys(M.children)){const Ie=vn(M.children[V]);(Ie.segments.length>0||Ie.hasChildren())&&(O[V]=Ie)}return function Zn(M){if(1===M.numberOfChildren&&M.children[Et]){const O=M.children[Et];return new dt(M.segments.concat(O.segments),O.children)}return M}(new dt(M.segments,O))}function Cn(M){return M instanceof Rt}const yr=!1;function St(M,O,C,V,se){if(0===C.length)return q(O.root,O.root,O.root,V,se);const Ie=function mt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new $e(!0,0,M);let O=0,C=!1;const V=M.reduce((se,Ie,Ze)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const on={};return Qn(Ie.outlets,(Un,hr)=>{on[hr]="string"==typeof Un?Un.split("/"):Un}),[...se,{outlets:on}]}if(Ie.segmentPath)return[...se,Ie.segmentPath]}return"string"!=typeof Ie?[...se,Ie]:0===Ze?(Ie.split("/").forEach((on,Un)=>{0==Un&&"."===on||(0==Un&&""===on?C=!0:".."===on?O++:""!=on&&se.push(on))}),se):[...se,Ie]},[]);return new $e(C,O,V)}(C);return Ie.toRoot()?q(O.root,O.root,new dt([],{}),V,se):function Ze(Un){const hr=function Yn(M,O,C,V){if(M.isAbsolute)return new Mt(O.root,!0,0);if(-1===V)return new Mt(C,C===O.root,0);return function Kn(M,O,C){let V=M,se=O,Ie=C;for(;Ie>se;){if(Ie-=se,V=V.parent,!V)throw new y.vHH(4005,yr&&"Invalid number of '../'");se=V.segments.length}return new Mt(V,!1,se-Ie)}(C,V+(zt(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ie,O,M.snapshot?._urlSegment,Un),pr=hr.processChildren?dn(hr.segmentGroup,hr.index,Ie.commands):rr(hr.segmentGroup,hr.index,Ie.commands);return q(O.root,hr.segmentGroup,pr,V,se)}(M.snapshot?._lastPathIndex)}function zt(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function ke(M){return"object"==typeof M&&null!=M&&M.outlets}function q(M,O,C,V,se){let Ze,Ie={};V&&Qn(V,(Un,hr)=>{Ie[hr]=Array.isArray(Un)?Un.map(pr=>`${pr}`):`${Un}`}),Ze=M===O?C:be(M,O,C);const on=Ft(vn(Ze));return new Rt(on,Ie,se)}function be(M,O,C){const V={};return Qn(M.children,(se,Ie)=>{V[Ie]=se===O?C:be(se,O,C)}),new dt(M.segments,V)}class $e{constructor(O,C,V){if(this.isAbsolute=O,this.numberOfDoubleDots=C,this.commands=V,O&&V.length>0&&zt(V[0]))throw new y.vHH(4003,yr&&"Root segment cannot have matrix parameters");const se=V.find(ke);if(se&&se!==xn(V))throw new y.vHH(4004,yr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mt{constructor(O,C,V){this.segmentGroup=O,this.processChildren=C,this.index=V}}function rr(M,O,C){if(M||(M=new dt([],{})),0===M.segments.length&&M.hasChildren())return dn(M,O,C);const V=function sr(M,O,C){let V=0,se=O;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;se<M.segments.length;){if(V>=C.length)return Ie;const Ze=M.segments[se],on=C[V];if(ke(on))break;const Un=`${on}`,hr=V<C.length-1?C[V+1]:null;if(se>0&&void 0===Un)break;if(Un&&hr&&"object"==typeof hr&&void 0===hr.outlets){if(!xi(Un,hr,Ze))return Ie;V+=2}else{if(!xi(Un,{},Ze))return Ie;V++}se++}return{match:!0,pathIndex:se,commandIndex:V}}(M,O,C),se=C.slice(V.commandIndex);if(V.match&&V.pathIndex<M.segments.length){const Ie=new dt(M.segments.slice(0,V.pathIndex),{});return Ie.children[Et]=new dt(M.segments.slice(V.pathIndex),M.children),dn(Ie,0,se)}return V.match&&0===se.length?new dt(M.segments,{}):V.match&&!M.hasChildren()?fr(M,O,C):V.match?dn(M,0,se):fr(M,O,C)}function dn(M,O,C){if(0===C.length)return new dt(M.segments,{});{const V=function mr(M){return ke(M[0])?M[0].outlets:{[Et]:M}}(C),se={};if(!V[Et]&&M.children[Et]&&1===M.numberOfChildren&&0===M.children[Et].segments.length){const Ie=dn(M.children[Et],O,C);return new dt(M.segments,Ie.children)}return Qn(V,(Ie,Ze)=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(se[Ze]=rr(M.children[Ze],O,Ie))}),Qn(M.children,(Ie,Ze)=>{void 0===V[Ze]&&(se[Ze]=Ie)}),new dt(M.segments,se)}}function fr(M,O,C){const V=M.segments.slice(0,O);let se=0;for(;se<C.length;){const Ie=C[se];if(ke(Ie)){const Un=ai(Ie.outlets);return new dt(V,Un)}if(0===se&&zt(C[0])){V.push(new En(M.segments[O].path,Cr(C[0]))),se++;continue}const Ze=ke(Ie)?Ie.outlets[Et]:`${Ie}`,on=se<C.length-1?C[se+1]:null;Ze&&on&&zt(on)?(V.push(new En(Ze,Cr(on))),se+=2):(V.push(new En(Ze,{})),se++)}return new dt(V,{})}function ai(M){const O={};return Qn(M,(C,V)=>{"string"==typeof C&&(C=[C]),null!==C&&(O[V]=fr(new dt([],{}),0,C))}),O}function Cr(M){const O={};return Qn(M,(C,V)=>O[V]=`${C}`),O}function xi(M,O,C){return M==C.path&&Xt(O,C.parameters)}const di="imperative";class Mr{constructor(O,C){this.id=O,this.url=C}}class Bi extends Mr{constructor(O,C,V="imperative",se=null){super(O,C),this.type=0,this.navigationTrigger=V,this.restoredState=se}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ni extends Mr{constructor(O,C,V){super(O,C),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jr extends Mr{constructor(O,C,V,se){super(O,C),this.reason=V,this.code=se,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qi extends Mr{constructor(O,C,V,se){super(O,C),this.reason=V,this.code=se,this.type=16}}class ji extends Mr{constructor(O,C,V,se){super(O,C),this.error=V,this.target=se,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class io extends Mr{constructor(O,C,V,se){super(O,C),this.urlAfterRedirects=V,this.state=se,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to extends Mr{constructor(O,C,V,se){super(O,C),this.urlAfterRedirects=V,this.state=se,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Mr{constructor(O,C,V,se,Ie){super(O,C),this.urlAfterRedirects=V,this.state=se,this.shouldActivate=Ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class No extends Mr{constructor(O,C,V,se){super(O,C),this.urlAfterRedirects=V,this.state=se,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Mr{constructor(O,C,V,se){super(O,C),this.urlAfterRedirects=V,this.state=se,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pe{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class B{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _e{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $n{constructor(O,C,V){this.routerEvent=O,this.position=C,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let gr=(()=>{class M{createUrlTree(C,V,se,Ie,Ze,on){return St(C||V.root,se,Ie,Ze,on)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})(),ir=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(O){return gr.\u0275fac(O)},providedIn:"root"}),M})();class ar{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const C=this.pathFromRoot(O);return C.length>1?C[C.length-2]:null}children(O){const C=ki(O,this._root);return C?C.children.map(V=>V.value):[]}firstChild(O){const C=ki(O,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(O){const C=ao(O,this._root);return C.length<2?[]:C[C.length-2].children.map(se=>se.value).filter(se=>se!==O)}pathFromRoot(O){return ao(O,this._root).map(C=>C.value)}}function ki(M,O){if(M===O.value)return O;for(const C of O.children){const V=ki(M,C);if(V)return V}return null}function ao(M,O){if(M===O.value)return[O];for(const C of O.children){const V=ao(M,C);if(V.length)return V.unshift(O),V}return[]}class Oi{constructor(O,C){this.value=O,this.children=C}toString(){return`TreeNode(${this.value})`}}function Ki(M){const O={};return M&&M.children.forEach(C=>O[C.value.outlet]=C),O}class Ai extends ar{constructor(O,C){super(O),this.snapshot=C,Ns(this,O)}toString(){return this.snapshot.toString()}}function Gr(M,O){const C=function So(M,O){const Ze=new Ko([],{},{},"",{},Et,O,null,M.root,-1,{});return new cs("",new Oi(Ze,[]))}(M,O),V=new Pe.X([new En("",{})]),se=new Pe.X({}),Ie=new Pe.X({}),Ze=new Pe.X({}),on=new Pe.X(""),Un=new $i(V,se,Ze,on,Ie,Et,O,C.root);return Un.snapshot=C.root,new Ai(new Oi(Un,[]),C)}class $i{constructor(O,C,V,se,Ie,Ze,on,Un){this.url=O,this.params=C,this.queryParams=V,this.fragment=se,this.data=Ie,this.outlet=Ze,this.component=on,this.title=this.data?.pipe((0,ye.U)(hr=>hr[gn]))??(0,j.of)(void 0),this._futureSnapshot=Un}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(O=>an(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(O=>an(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oo(M,O="emptyOnly"){const C=M.pathFromRoot;let V=0;if("always"!==O)for(V=C.length-1;V>=1;){const se=C[V],Ie=C[V-1];if(se.routeConfig&&""===se.routeConfig.path)V--;else{if(Ie.component)break;V--}}return function Ts(M){return M.reduce((O,C)=>({params:{...O.params,...C.params},data:{...O.data,...C.data},resolve:{...C.data,...O.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(V))}class Ko{get title(){return this.data?.[gn]}constructor(O,C,V,se,Ie,Ze,on,Un,hr,pr,wi){this.url=O,this.params=C,this.queryParams=V,this.fragment=se,this.data=Ie,this.outlet=Ze,this.component=on,this.routeConfig=Un,this._urlSegment=hr,this._lastPathIndex=pr,this._resolve=wi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cs extends ar{constructor(O,C){super(C),this.url=O,Ns(this,C)}toString(){return mi(this._root)}}function Ns(M,O){O.value._routerState=M,O.children.forEach(C=>Ns(M,C))}function mi(M){const O=M.children.length>0?` { ${M.children.map(mi).join(", ")} } `:"";return`${M.value}${O}`}function Ds(M){if(M.snapshot){const O=M.snapshot,C=M._futureSnapshot;M.snapshot=C,Xt(O.queryParams,C.queryParams)||M.queryParams.next(C.queryParams),O.fragment!==C.fragment&&M.fragment.next(C.fragment),Xt(O.params,C.params)||M.params.next(C.params),function Ut(M,O){if(M.length!==O.length)return!1;for(let C=0;C<M.length;++C)if(!Xt(M[C],O[C]))return!1;return!0}(O.url,C.url)||M.url.next(C.url),Xt(O.data,C.data)||M.data.next(C.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Fo(M,O){const C=Xt(M.params,O.params)&&function On(M,O){return Wn(M,O)&&M.every((C,V)=>Xt(C.parameters,O[V].parameters))}(M.url,O.url);return C&&!(!M.parent!=!O.parent)&&(!M.parent||Fo(M.parent,O.parent))}function lo(M,O,C){if(C&&M.shouldReuseRoute(O.value,C.value.snapshot)){const V=C.value;V._futureSnapshot=O.value;const se=function oe(M,O,C){return O.children.map(V=>{for(const se of C.children)if(M.shouldReuseRoute(V.value,se.value.snapshot))return lo(M,V,se);return lo(M,V)})}(M,O,C);return new Oi(V,se)}{if(M.shouldAttach(O.value)){const Ie=M.retrieve(O.value);if(null!==Ie){const Ze=Ie.route;return Ze.value._futureSnapshot=O.value,Ze.children=O.children.map(on=>lo(M,on)),Ze}}const V=function ne(M){return new $i(new Pe.X(M.url),new Pe.X(M.params),new Pe.X(M.queryParams),new Pe.X(M.fragment),new Pe.X(M.data),M.outlet,M.component,M)}(O.value),se=O.children.map(Ie=>lo(M,Ie));return new Oi(V,se)}}const Be="ngNavigationCancelingError";function wt(M,O){const{redirectTo:C,navigationBehaviorOptions:V}=Cn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,se=jt(!1,0,O);return se.url=C,se.navigationBehaviorOptions=V,se}function jt(M,O,C){const V=new Error("NavigationCancelingError: "+(M||""));return V[Be]=!0,V.cancellationCode=O,C&&(V.url=C),V}function Jt(M){return Sn(M)&&Cn(M.url)}function Sn(M){return M&&M[Be]}class Hn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mn,this.attachRef=null}}let Mn=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(C,V){const se=this.getOrCreateContext(C);se.outlet=V,this.contexts.set(C,se)}onChildOutletDestroyed(C){const V=this.getContext(C);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let V=this.getContext(C);return V||(V=new Hn,this.contexts.set(C,V)),V}getContext(C){return this.contexts.get(C)||null}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const qn=!1;let or=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Mn),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(C){if(C.name){const{firstChange:V,previousValue:se}=C.name;if(V)return;this.isTrackedInParentContexts(se)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(se)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,qn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,qn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,qn);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,V){this.activated=C,this._activatedRoute=V,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,V){if(this.isActivated)throw new y.vHH(4013,qn);this._activatedRoute=C;const se=this.location,Ze=C.snapshot.component,on=this.parentContexts.getOrCreateContext(this.name).children,Un=new Kr(C,on,se.injector);if(V&&function Ar(M){return!!M.resolveComponentFactory}(V)){const hr=V.resolveComponentFactory(Ze);this.activated=se.createComponent(hr,se.length,Un)}else this.activated=se.createComponent(Ze,{index:se.length,injector:Un,environmentInjector:V??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=y.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),M})();class Kr{constructor(O,C,V){this.route=O,this.childContexts=C,this.parent=V}get(O,C){return O===$i?this.route:O===Mn?this.childContexts:this.parent.get(O,C)}}let gi=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275cmp=y.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(C,V){1&C&&y._UZ(0,"router-outlet")},dependencies:[or],encapsulation:2}),M})();function $r(M,O){return M.providers&&!M._injector&&(M._injector=(0,y.MMx)(M.providers,O,`Route: ${M.path}`)),M._injector??O}function yi(M){const O=M.children&&M.children.map(yi),C=O?{...M,children:O}:{...M};return!C.component&&!C.loadComponent&&(O||C.loadChildren)&&C.outlet&&C.outlet!==Et&&(C.component=gi),C}function hi(M){return M.outlet||Et}function Yi(M,O){const C=M.filter(V=>hi(V)===O);return C.push(...M.filter(V=>hi(V)!==O)),C}function Vo(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let O=M.parent;O;O=O.parent){const C=O.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Fs{constructor(O,C,V,se){this.routeReuseStrategy=O,this.futureState=C,this.currState=V,this.forwardEvent=se}activate(O){const C=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,V,O),Ds(this.futureState.root),this.activateChildRoutes(C,V,O)}deactivateChildRoutes(O,C,V){const se=Ki(C);O.children.forEach(Ie=>{const Ze=Ie.value.outlet;this.deactivateRoutes(Ie,se[Ze],V),delete se[Ze]}),Qn(se,(Ie,Ze)=>{this.deactivateRouteAndItsChildren(Ie,V)})}deactivateRoutes(O,C,V){const se=O.value,Ie=C?C.value:null;if(se===Ie)if(se.component){const Ze=V.getContext(se.outlet);Ze&&this.deactivateChildRoutes(O,C,Ze.children)}else this.deactivateChildRoutes(O,C,V);else Ie&&this.deactivateRouteAndItsChildren(C,V)}deactivateRouteAndItsChildren(O,C){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,C):this.deactivateRouteAndOutlet(O,C)}detachAndStoreRouteSubtree(O,C){const V=C.getContext(O.value.outlet),se=V&&O.value.component?V.children:C,Ie=Ki(O);for(const Ze of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[Ze],se);if(V&&V.outlet){const Ze=V.outlet.detach(),on=V.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ze,route:O,contexts:on})}}deactivateRouteAndOutlet(O,C){const V=C.getContext(O.value.outlet),se=V&&O.value.component?V.children:C,Ie=Ki(O);for(const Ze of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[Ze],se);V&&(V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated()),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(O,C,V){const se=Ki(C);O.children.forEach(Ie=>{this.activateRoutes(Ie,se[Ie.value.outlet],V),this.forwardEvent(new un(Ie.value.snapshot))}),O.children.length&&this.forwardEvent(new _e(O.value.snapshot))}activateRoutes(O,C,V){const se=O.value,Ie=C?C.value:null;if(Ds(se),se===Ie)if(se.component){const Ze=V.getOrCreateContext(se.outlet);this.activateChildRoutes(O,C,Ze.children)}else this.activateChildRoutes(O,C,V);else if(se.component){const Ze=V.getOrCreateContext(se.outlet);if(this.routeReuseStrategy.shouldAttach(se.snapshot)){const on=this.routeReuseStrategy.retrieve(se.snapshot);this.routeReuseStrategy.store(se.snapshot,null),Ze.children.onOutletReAttached(on.contexts),Ze.attachRef=on.componentRef,Ze.route=on.route.value,Ze.outlet&&Ze.outlet.attach(on.componentRef,on.route.value),Ds(on.route.value),this.activateChildRoutes(O,null,Ze.children)}else{const on=Vo(se.snapshot),Un=on?.get(y._Vd)??null;Ze.attachRef=null,Ze.route=se,Ze.resolver=Un,Ze.injector=on,Ze.outlet&&Ze.outlet.activateWith(se,Ze.injector),this.activateChildRoutes(O,null,Ze.children)}}else this.activateChildRoutes(O,null,V)}}class ti{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Qr{constructor(O,C){this.component=O,this.route=C}}function Ui(M,O,C){const V=M._root;return is(V,O?O._root:null,C,[V.value])}function Xi(M,O){const C=Symbol(),V=O.get(M,C);return V===C?"function"!=typeof M||(0,y.Z0I)(M)?O.get(M):M:V}function is(M,O,C,V,se={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=Ki(O);return M.children.forEach(Ze=>{(function Vi(M,O,C,V,se={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=M.value,Ze=O?O.value:null,on=C?C.getContext(M.value.outlet):null;if(Ze&&Ie.routeConfig===Ze.routeConfig){const Un=function Or(M,O,C){if("function"==typeof C)return C(M,O);switch(C){case"pathParamsChange":return!Wn(M.url,O.url);case"pathParamsOrQueryParamsChange":return!Wn(M.url,O.url)||!Xt(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fo(M,O)||!Xt(M.queryParams,O.queryParams);default:return!Fo(M,O)}}(Ze,Ie,Ie.routeConfig.runGuardsAndResolvers);Un?se.canActivateChecks.push(new ti(V)):(Ie.data=Ze.data,Ie._resolvedData=Ze._resolvedData),is(M,O,Ie.component?on?on.children:null:C,V,se),Un&&on&&on.outlet&&on.outlet.isActivated&&se.canDeactivateChecks.push(new Qr(on.outlet.component,Ze))}else Ze&&_o(O,on,se),se.canActivateChecks.push(new ti(V)),is(M,null,Ie.component?on?on.children:null:C,V,se)})(Ze,Ie[Ze.value.outlet],C,V.concat([Ze.value]),se),delete Ie[Ze.value.outlet]}),Qn(Ie,(Ze,on)=>_o(Ze,C.getContext(on),se)),se}function _o(M,O,C){const V=Ki(M),se=M.value;Qn(V,(Ie,Ze)=>{_o(Ie,se.component?O?O.children.getContext(Ze):null:O,C)}),C.canDeactivateChecks.push(new Qr(se.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,se))}function hs(M){return"function"==typeof M}function fs(M){return M instanceof Qe||"EmptyError"===M?.name}const qo=Symbol("INITIAL_VALUE");function oi(){return(0,Nt.w)(M=>(0,te.a)(M.map(O=>O.pipe((0,yt.q)(1),(0,en.O)(qo)))).pipe((0,ye.U)(O=>{for(const C of O)if(!0!==C){if(C===qo)return qo;if(!1===C||C instanceof Rt)return C}return!0}),(0,Ot.h)(O=>O!==qo),(0,yt.q)(1)))}function Lo(M){return(0,K.z)((0,ge.b)(O=>{if(Cn(O))throw wt(0,O)}),(0,ye.U)(O=>!0===O))}const Do={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vo(M,O,C,V,se){const Ie=Ho(M,O,C);return Ie.matched?function xo(M,O,C,V){const se=O.canMatch;if(!se||0===se.length)return(0,j.of)(!0);const Ie=se.map(Ze=>{const on=Xi(Ze,M);return Nn(function Ks(M){return M&&hs(M.canMatch)}(on)?on.canMatch(O,C):M.runInContext(()=>on(O,C)))});return(0,j.of)(Ie).pipe(oi(),Lo())}(V=$r(O,V),O,C).pipe((0,ye.U)(Ze=>!0===Ze?Ie:{...Do})):(0,j.of)(Ie)}function Ho(M,O,C){if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||C.length>0)?{...Do}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const se=(O.matcher||ft)(C,M,O);if(!se)return{...Do};const Ie={};Qn(se.posParams,(on,Un)=>{Ie[Un]=on.path});const Ze=se.consumed.length>0?{...Ie,...se.consumed[se.consumed.length-1].parameters}:Ie;return{matched:!0,consumedSegments:se.consumed,remainingSegments:C.slice(se.consumed.length),parameters:Ze,positionalParamSegments:se.posParams??{}}}function Bo(M,O,C,V){if(C.length>0&&function fi(M,O,C){return C.some(V=>Xn(M,O,V)&&hi(V)!==Et)}(M,C,V)){const Ie=new dt(O,function js(M,O,C,V){const se={};se[Et]=V,V._sourceSegment=M,V._segmentIndexShift=O.length;for(const Ie of C)if(""===Ie.path&&hi(Ie)!==Et){const Ze=new dt([],{});Ze._sourceSegment=M,Ze._segmentIndexShift=O.length,se[hi(Ie)]=Ze}return se}(M,O,V,new dt(C,M.children)));return Ie._sourceSegment=M,Ie._segmentIndexShift=O.length,{segmentGroup:Ie,slicedSegments:[]}}if(0===C.length&&function Cs(M,O,C){return C.some(V=>Xn(M,O,V))}(M,C,V)){const Ie=new dt(M.segments,function Qo(M,O,C,V,se){const Ie={};for(const Ze of V)if(Xn(M,C,Ze)&&!se[hi(Ze)]){const on=new dt([],{});on._sourceSegment=M,on._segmentIndexShift=O.length,Ie[hi(Ze)]=on}return{...se,...Ie}}(M,O,C,V,M.children));return Ie._sourceSegment=M,Ie._segmentIndexShift=O.length,{segmentGroup:Ie,slicedSegments:C}}const se=new dt(M.segments,M.children);return se._sourceSegment=M,se._segmentIndexShift=O.length,{segmentGroup:se,slicedSegments:C}}function Xn(M,O,C){return(!(M.hasChildren()||O.length>0)||"full"!==C.pathMatch)&&""===C.path}function Ci(M,O,C,V){return!!(hi(M)===V||V!==Et&&Xn(O,C,M))&&("**"===M.path||Ho(O,M,C).matched)}function vs(M,O,C){return 0===O.length&&!M.children[C]}const ys=!1;class zo{constructor(O){this.segmentGroup=O||null}}class bo{constructor(O){this.urlTree=O}}function Ys(M){return(0,Ae._)(new zo(M))}function ms(M){return(0,Ae._)(new bo(M))}class fe{constructor(O,C,V,se,Ie){this.injector=O,this.configLoader=C,this.urlSerializer=V,this.urlTree=se,this.config=Ie,this.allowRedirects=!0}apply(){const O=Bo(this.urlTree.root,[],[],this.config).segmentGroup,C=new dt(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,C,Et).pipe((0,ye.U)(Ie=>this.createUrlTree(vn(Ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(Ie=>{if(Ie instanceof bo)return this.allowRedirects=!1,this.match(Ie.urlTree);throw Ie instanceof zo?this.noMatchError(Ie):Ie}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Et).pipe((0,ye.U)(se=>this.createUrlTree(vn(se),O.queryParams,O.fragment))).pipe((0,Ke.K)(se=>{throw se instanceof zo?this.noMatchError(se):se}))}noMatchError(O){return new y.vHH(4002,ys)}createUrlTree(O,C,V){const se=Ft(O);return new Rt(se,C,V)}expandSegmentGroup(O,C,V,se){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(O,C,V).pipe((0,ye.U)(Ie=>new dt([],Ie))):this.expandSegment(O,V,C,V.segments,se,!0)}expandChildren(O,C,V){const se=[];for(const Ie of Object.keys(V.children))"primary"===Ie?se.unshift(Ie):se.push(Ie);return(0,E.D)(se).pipe((0,R.b)(Ie=>{const Ze=V.children[Ie],on=Yi(C,Ie);return this.expandSegmentGroup(O,on,Ze,Ie).pipe((0,ye.U)(Un=>({segment:Un,outlet:Ie})))}),He((Ie,Ze)=>(Ie[Ze.outlet]=Ze.segment,Ie),{}),at())}expandSegment(O,C,V,se,Ie,Ze){return(0,E.D)(V).pipe((0,R.b)(on=>this.expandSegmentAgainstRoute(O,C,V,on,se,Ie,Ze).pipe((0,Ke.K)(hr=>{if(hr instanceof zo)return(0,j.of)(null);throw hr}))),J(on=>!!on),(0,Ke.K)((on,Un)=>{if(fs(on))return vs(C,se,Ie)?(0,j.of)(new dt([],{})):Ys(C);throw on}))}expandSegmentAgainstRoute(O,C,V,se,Ie,Ze,on){return Ci(se,C,Ie,Ze)?void 0===se.redirectTo?this.matchSegmentAgainstRoute(O,C,se,Ie,Ze):on&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,C,V,se,Ie,Ze):Ys(C):Ys(C)}expandSegmentAgainstRouteUsingRedirect(O,C,V,se,Ie,Ze){return"**"===se.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,V,se,Ze):this.expandRegularSegmentAgainstRouteUsingRedirect(O,C,V,se,Ie,Ze)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,C,V,se){const Ie=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?ms(Ie):this.lineralizeSegments(V,Ie).pipe((0,Le.z)(Ze=>{const on=new dt(Ze,{});return this.expandSegment(O,on,C,Ze,se,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,C,V,se,Ie,Ze){const{matched:on,consumedSegments:Un,remainingSegments:hr,positionalParamSegments:pr}=Ho(C,se,Ie);if(!on)return Ys(C);const wi=this.applyRedirectCommands(Un,se.redirectTo,pr);return se.redirectTo.startsWith("/")?ms(wi):this.lineralizeSegments(se,wi).pipe((0,Le.z)(Wo=>this.expandSegment(O,C,V,Wo.concat(hr),Ze,!1)))}matchSegmentAgainstRoute(O,C,V,se,Ie){return"**"===V.path?(O=$r(V,O),V.loadChildren?(V._loadedRoutes?(0,j.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):this.configLoader.loadChildren(O,V)).pipe((0,ye.U)(on=>(V._loadedRoutes=on.routes,V._loadedInjector=on.injector,new dt(se,{})))):(0,j.of)(new dt(se,{}))):vo(C,V,se,O).pipe((0,Nt.w)(({matched:Ze,consumedSegments:on,remainingSegments:Un})=>Ze?this.getChildConfig(O=V._injector??O,V,se).pipe((0,Le.z)(pr=>{const wi=pr.injector??O,Wo=pr.routes,{segmentGroup:ca,slicedSegments:ea}=Bo(C,on,Un,Wo),Yo=new dt(ca.segments,ca.children);if(0===ea.length&&Yo.hasChildren())return this.expandChildren(wi,Wo,Yo).pipe((0,ye.U)(Ma=>new dt(on,Ma)));if(0===Wo.length&&0===ea.length)return(0,j.of)(new dt(on,{}));const ws=hi(V)===Ie;return this.expandSegment(wi,Yo,Wo,ea,ws?Et:Ie,!0).pipe((0,ye.U)(xa=>new dt(on.concat(xa.segments),xa.children)))})):Ys(C)))}getChildConfig(O,C,V){return C.children?(0,j.of)({routes:C.children,injector:O}):C.loadChildren?void 0!==C._loadedRoutes?(0,j.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function co(M,O,C,V){const se=O.canLoad;if(void 0===se||0===se.length)return(0,j.of)(!0);const Ie=se.map(Ze=>{const on=Xi(Ze,M);return Nn(function os(M){return M&&hs(M.canLoad)}(on)?on.canLoad(O,C):M.runInContext(()=>on(O,C)))});return(0,j.of)(Ie).pipe(oi(),Lo())}(O,C,V).pipe((0,Le.z)(se=>se?this.configLoader.loadChildren(O,C).pipe((0,ge.b)(Ie=>{C._loadedRoutes=Ie.routes,C._loadedInjector=Ie.injector})):function _(M){return(0,Ae._)(jt(ys,3))}())):(0,j.of)({routes:[],injector:O})}lineralizeSegments(O,C){let V=[],se=C.root;for(;;){if(V=V.concat(se.segments),0===se.numberOfChildren)return(0,j.of)(V);if(se.numberOfChildren>1||!se.children[Et])return O.redirectTo,(0,Ae._)(new y.vHH(4e3,ys));se=se.children[Et]}}applyRedirectCommands(O,C,V){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),O,V)}applyRedirectCreateUrlTree(O,C,V,se){const Ie=this.createSegmentGroup(O,C.root,V,se);return new Rt(Ie,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(O,C){const V={};return Qn(O,(se,Ie)=>{if("string"==typeof se&&se.startsWith(":")){const on=se.substring(1);V[Ie]=C[on]}else V[Ie]=se}),V}createSegmentGroup(O,C,V,se){const Ie=this.createSegments(O,C.segments,V,se);let Ze={};return Qn(C.children,(on,Un)=>{Ze[Un]=this.createSegmentGroup(O,on,V,se)}),new dt(Ie,Ze)}createSegments(O,C,V,se){return C.map(Ie=>Ie.path.startsWith(":")?this.findPosParam(O,Ie,se):this.findOrReturn(Ie,V))}findPosParam(O,C,V){const se=V[C.path.substring(1)];if(!se)throw new y.vHH(4001,ys);return se}findOrReturn(O,C){let V=0;for(const se of C){if(se.path===O.path)return C.splice(V),se;V++}return O}}class sn{}class Xr{constructor(O,C,V,se,Ie,Ze,on){this.injector=O,this.rootComponentType=C,this.config=V,this.urlTree=se,this.url=Ie,this.paramsInheritanceStrategy=Ze,this.urlSerializer=on}recognize(){const O=Bo(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Et).pipe((0,ye.U)(C=>{if(null===C)return null;const V=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),se=new Oi(V,C),Ie=new cs(this.url,se);return this.inheritParamsAndData(Ie._root),Ie}))}inheritParamsAndData(O){const C=O.value,V=oo(C,this.paramsInheritanceStrategy);C.params=Object.freeze(V.params),C.data=Object.freeze(V.data),O.children.forEach(se=>this.inheritParamsAndData(se))}processSegmentGroup(O,C,V,se){return 0===V.segments.length&&V.hasChildren()?this.processChildren(O,C,V):this.processSegment(O,C,V,V.segments,se)}processChildren(O,C,V){return(0,E.D)(Object.keys(V.children)).pipe((0,R.b)(se=>{const Ie=V.children[se],Ze=Yi(C,se);return this.processSegmentGroup(O,Ze,Ie,se)}),He((se,Ie)=>se&&Ie?(se.push(...Ie),se):null),(0,ee.o)(se=>null!==se),f(null),at(),(0,ye.U)(se=>{if(null===se)return null;const Ie=ss(se);return function wo(M){M.sort((O,C)=>O.value.outlet===Et?-1:C.value.outlet===Et?1:O.value.outlet.localeCompare(C.value.outlet))}(Ie),Ie}))}processSegment(O,C,V,se,Ie){return(0,E.D)(C).pipe((0,R.b)(Ze=>this.processSegmentAgainstRoute(Ze._injector??O,Ze,V,se,Ie)),J(Ze=>!!Ze),(0,Ke.K)(Ze=>{if(fs(Ze))return vs(V,se,Ie)?(0,j.of)([]):(0,j.of)(null);throw Ze}))}processSegmentAgainstRoute(O,C,V,se,Ie){if(C.redirectTo||!Ci(C,V,se,Ie))return(0,j.of)(null);let Ze;if("**"===C.path){const on=se.length>0?xn(se).parameters:{},Un=Y(V)+se.length,hr=new Ko(se,on,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(C),hi(C),C.component??C._loadedComponent??null,C,bi(V),Un,Re(C));Ze=(0,j.of)({snapshot:hr,consumedSegments:[],remainingSegments:[]})}else Ze=vo(V,C,se,O).pipe((0,ye.U)(({matched:on,consumedSegments:Un,remainingSegments:hr,parameters:pr})=>{if(!on)return null;const wi=Y(V)+Un.length;return{snapshot:new Ko(Un,pr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(C),hi(C),C.component??C._loadedComponent??null,C,bi(V),wi,Re(C)),consumedSegments:Un,remainingSegments:hr}}));return Ze.pipe((0,Nt.w)(on=>{if(null===on)return(0,j.of)(null);const{snapshot:Un,consumedSegments:hr,remainingSegments:pr}=on;O=C._injector??O;const wi=C._loadedInjector??O,Wo=function Xo(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(C),{segmentGroup:ca,slicedSegments:ea}=Bo(V,hr,pr,Wo.filter(ws=>void 0===ws.redirectTo));if(0===ea.length&&ca.hasChildren())return this.processChildren(wi,Wo,ca).pipe((0,ye.U)(ws=>null===ws?null:[new Oi(Un,ws)]));if(0===Wo.length&&0===ea.length)return(0,j.of)([new Oi(Un,[])]);const Yo=hi(C)===Ie;return this.processSegment(wi,Wo,ca,ea,Yo?Et:Ie).pipe((0,ye.U)(ws=>null===ws?null:[new Oi(Un,ws)]))}))}}function ns(M){const O=M.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function ss(M){const O=[],C=new Set;for(const V of M){if(!ns(V)){O.push(V);continue}const se=O.find(Ie=>V.value.routeConfig===Ie.value.routeConfig);void 0!==se?(se.children.push(...V.children),C.add(se)):O.push(V)}for(const V of C){const se=ss(V.children);O.push(new Oi(V.value,se))}return O.filter(V=>!C.has(V))}function bi(M){let O=M;for(;O._sourceSegment;)O=O._sourceSegment;return O}function Y(M){let O=M,C=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,C+=O._segmentIndexShift??0;return C-1}function Z(M){return M.data||{}}function Re(M){return M.resolve||{}}function li(M){return"string"==typeof M.title||null===M.title}function Hr(M){return(0,Nt.w)(O=>{const C=M(O);return C?(0,E.D)(C).pipe((0,ye.U)(()=>O)):(0,j.of)(O)})}const l=new y.OlP("ROUTES");let d=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,j.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const V=Nn(C.loadComponent()).pipe((0,ye.U)(A),(0,ge.b)(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=Ie}),(0,re.x)(()=>{this.componentLoaders.delete(C)})),se=new bt.c(V,()=>new Zt.x).pipe((0,Ne.x)());return this.componentLoaders.set(C,se),se}loadChildren(C,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,j.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const Ie=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,ye.U)(on=>{this.onLoadEndListener&&this.onLoadEndListener(V);let Un,hr,pr=!1;Array.isArray(on)?hr=on:(Un=on.create(C).injector,hr=jn(Un.get(l,[],y.XFs.Self|y.XFs.Optional)));return{routes:hr.map(yi),injector:Un}}),(0,re.x)(()=>{this.childrenLoaders.delete(V)})),Ze=new bt.c(Ie,()=>new Zt.x).pipe((0,Ne.x)());return this.childrenLoaders.set(V,Ze),Ze}loadModuleFactoryOrRoutes(C){return Nn(C()).pipe((0,ye.U)(A),(0,Le.z)(V=>V instanceof y.YKP||Array.isArray(V)?(0,j.of)(V):(0,E.D)(this.compiler.compileModuleAsync(V))))}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function A(M){return function b(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let de=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Zt.x,this.configLoader=(0,y.f3M)(d),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Rn),this.rootContexts=(0,y.f3M)(Mn),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=se=>this.events.next(new pe(se)),this.configLoader.onLoadStartListener=se=>this.events.next(new ze(se))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const V=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:V})}setupNavigations(C){return this.transitions=new Pe.X({id:0,targetPageId:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:di,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.h)(V=>0!==V.id),(0,ye.U)(V=>({...V,extractedUrl:C.urlHandlingStrategy.extract(V.rawUrl)})),(0,Nt.w)(V=>{let se=!1,Ie=!1;return(0,j.of)(V).pipe((0,ge.b)(Ze=>{this.currentNavigation={id:Ze.id,initialUrl:Ze.rawUrl,extractedUrl:Ze.extractedUrl,trigger:Ze.source,extras:Ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Nt.w)(Ze=>{const on=C.browserUrlTree.toString(),Un=!C.navigated||Ze.extractedUrl.toString()!==on||on!==C.currentUrlTree.toString();if(!Un&&"reload"!==(Ze.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const pr="";return this.events.next(new Qi(Ze.id,C.serializeUrl(V.rawUrl),pr,0)),C.rawUrlTree=Ze.rawUrl,Ze.resolve(null),Fe.E}if(C.urlHandlingStrategy.shouldProcessUrl(Ze.rawUrl))return Ce(Ze.source)&&(C.browserUrlTree=Ze.extractedUrl),(0,j.of)(Ze).pipe((0,Nt.w)(pr=>{const wi=this.transitions?.getValue();return this.events.next(new Bi(pr.id,this.urlSerializer.serialize(pr.extractedUrl),pr.source,pr.restoredState)),wi!==this.transitions?.getValue()?Fe.E:Promise.resolve(pr)}),function qe(M,O,C,V){return(0,Nt.w)(se=>function H(M,O,C,V,se){return new fe(M,O,C,V,se).apply()}(M,O,C,se.extractedUrl,V).pipe((0,ye.U)(Ie=>({...se,urlAfterRedirects:Ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,C.config),(0,ge.b)(pr=>{this.currentNavigation={...this.currentNavigation,finalUrl:pr.urlAfterRedirects},V.urlAfterRedirects=pr.urlAfterRedirects}),function At(M,O,C,V,se){return(0,Le.z)(Ie=>function ri(M,O,C,V,se,Ie,Ze="emptyOnly"){return new Xr(M,O,C,V,se,Ze,Ie).recognize().pipe((0,Nt.w)(on=>null===on?function dr(M){return new Se.y(O=>O.error(M))}(new sn):(0,j.of)(on)))}(M,O,C,Ie.urlAfterRedirects,V.serialize(Ie.urlAfterRedirects),V,se).pipe((0,ye.U)(Ze=>({...Ie,targetSnapshot:Ze}))))}(this.environmentInjector,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,ge.b)(pr=>{if(V.targetSnapshot=pr.targetSnapshot,"eager"===C.urlUpdateStrategy){if(!pr.extras.skipLocationChange){const Wo=C.urlHandlingStrategy.merge(pr.urlAfterRedirects,pr.rawUrl);C.setBrowserUrl(Wo,pr)}C.browserUrlTree=pr.urlAfterRedirects}const wi=new io(pr.id,this.urlSerializer.serialize(pr.extractedUrl),this.urlSerializer.serialize(pr.urlAfterRedirects),pr.targetSnapshot);this.events.next(wi)}));if(Un&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:pr,extractedUrl:wi,source:Wo,restoredState:ca,extras:ea}=Ze,Yo=new Bi(pr,this.urlSerializer.serialize(wi),Wo,ca);this.events.next(Yo);const ws=Gr(wi,this.rootComponentType).snapshot;return V={...Ze,targetSnapshot:ws,urlAfterRedirects:wi,extras:{...ea,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(V)}{const pr="";return this.events.next(new Qi(Ze.id,C.serializeUrl(V.extractedUrl),pr,1)),C.rawUrlTree=Ze.rawUrl,Ze.resolve(null),Fe.E}}),(0,ge.b)(Ze=>{const on=new to(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(on)}),(0,ye.U)(Ze=>V={...Ze,guards:Ui(Ze.targetSnapshot,Ze.currentSnapshot,this.rootContexts)}),function Zi(M,O){return(0,Le.z)(C=>{const{targetSnapshot:V,currentSnapshot:se,guards:{canActivateChecks:Ie,canDeactivateChecks:Ze}}=C;return 0===Ze.length&&0===Ie.length?(0,j.of)({...C,guardsResult:!0}):function Di(M,O,C,V){return(0,E.D)(M).pipe((0,Le.z)(se=>function Hs(M,O,C,V,se){const Ie=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,j.of)(!0);const Ze=Ie.map(on=>{const Un=Vo(O)??se,hr=Xi(on,Un);return Nn(function es(M){return M&&hs(M.canDeactivate)}(hr)?hr.canDeactivate(M,O,C,V):Un.runInContext(()=>hr(M,O,C,V))).pipe(J())});return(0,j.of)(Ze).pipe(oi())}(se.component,se.route,C,O,V)),J(se=>!0!==se,!0))}(Ze,V,se,M).pipe((0,Le.z)(on=>on&&function Ls(M){return"boolean"==typeof M}(on)?function Ji(M,O,C,V){return(0,E.D)(O).pipe((0,R.b)(se=>(0,Ge.z)(function ts(M,O){return null!==M&&O&&O(new B(M)),(0,j.of)(!0)}(se.route.parent,V),function Bs(M,O){return null!==M&&O&&O(new Xe(M)),(0,j.of)(!0)}(se.route,V),function $s(M,O,C){const V=O[O.length-1],Ie=O.slice(0,O.length-1).reverse().map(Ze=>function uo(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(Ze)).filter(Ze=>null!==Ze).map(Ze=>(0,ie.P)(()=>{const on=Ze.guards.map(Un=>{const hr=Vo(Ze.node)??C,pr=Xi(Un,hr);return Nn(function Hi(M){return M&&hs(M.canActivateChild)}(pr)?pr.canActivateChild(V,M):hr.runInContext(()=>pr(V,M))).pipe(J())});return(0,j.of)(on).pipe(oi())}));return(0,j.of)(Ie).pipe(oi())}(M,se.path,C),function ps(M,O,C){const V=O.routeConfig?O.routeConfig.canActivate:null;if(!V||0===V.length)return(0,j.of)(!0);const se=V.map(Ie=>(0,ie.P)(()=>{const Ze=Vo(O)??C,on=Xi(Ie,Ze);return Nn(function To(M){return M&&hs(M.canActivate)}(on)?on.canActivate(O,M):Ze.runInContext(()=>on(O,M))).pipe(J())}));return(0,j.of)(se).pipe(oi())}(M,se.route,C))),J(se=>!0!==se,!0))}(V,Ie,M,O):(0,j.of)(on)),(0,ye.U)(on=>({...C,guardsResult:on})))})}(this.environmentInjector,Ze=>this.events.next(Ze)),(0,ge.b)(Ze=>{if(V.guardsResult=Ze.guardsResult,Cn(Ze.guardsResult))throw wt(0,Ze.guardsResult);const on=new Mi(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot,!!Ze.guardsResult);this.events.next(on)}),(0,Ot.h)(Ze=>!!Ze.guardsResult||(C.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",3),!1)),Hr(Ze=>{if(Ze.guards.canActivateChecks.length)return(0,j.of)(Ze).pipe((0,ge.b)(on=>{const Un=new No(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Un)}),(0,Nt.w)(on=>{let Un=!1;return(0,j.of)(on).pipe(function wn(M,O){return(0,Le.z)(C=>{const{targetSnapshot:V,guards:{canActivateChecks:se}}=C;if(!se.length)return(0,j.of)(C);let Ie=0;return(0,E.D)(se).pipe((0,R.b)(Ze=>function Fn(M,O,C,V){const se=M.routeConfig,Ie=M._resolve;return void 0!==se?.title&&!li(se)&&(Ie[gn]=se.title),function br(M,O,C,V){const se=function qr(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===se.length)return(0,j.of)({});const Ie={};return(0,E.D)(se).pipe((0,Le.z)(Ze=>function Nr(M,O,C,V){const se=Vo(O)??V,Ie=Xi(M,se);return Nn(Ie.resolve?Ie.resolve(O,C):se.runInContext(()=>Ie(O,C)))}(M[Ze],O,C,V).pipe(J(),(0,ge.b)(on=>{Ie[Ze]=on}))),ct(1),(0,ce.h)(Ie),(0,Ke.K)(Ze=>fs(Ze)?Fe.E:(0,Ae._)(Ze)))}(Ie,M,O,V).pipe((0,ye.U)(Ze=>(M._resolvedData=Ze,M.data=oo(M,C).resolve,se&&li(se)&&(M.data[gn]=se.title),null)))}(Ze.route,V,M,O)),(0,ge.b)(()=>Ie++),ct(1),(0,Le.z)(Ze=>Ie===se.length?(0,j.of)(C):Fe.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,ge.b)({next:()=>Un=!0,complete:()=>{Un||(C.restoreHistory(on),this.cancelNavigationTransition(on,"",2))}}))}),(0,ge.b)(on=>{const Un=new Gi(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Un)}))}),Hr(Ze=>{const on=Un=>{const hr=[];Un.routeConfig?.loadComponent&&!Un.routeConfig._loadedComponent&&hr.push(this.configLoader.loadComponent(Un.routeConfig).pipe((0,ge.b)(pr=>{Un.component=pr}),(0,ye.U)(()=>{})));for(const pr of Un.children)hr.push(...on(pr));return hr};return(0,te.a)(on(Ze.targetSnapshot.root)).pipe(f(),(0,yt.q)(1))}),Hr(()=>this.afterPreactivation()),(0,ye.U)(Ze=>{const on=function ds(M,O,C){const V=lo(M,O._root,C?C._root:void 0);return new Ai(V,O)}(C.routeReuseStrategy,Ze.targetSnapshot,Ze.currentRouterState);return V={...Ze,targetRouterState:on}}),(0,ge.b)(Ze=>{C.currentUrlTree=Ze.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(Ze.urlAfterRedirects,Ze.rawUrl),C.routerState=Ze.targetRouterState,"deferred"===C.urlUpdateStrategy&&(Ze.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,Ze),C.browserUrlTree=Ze.urlAfterRedirects)}),((M,O,C)=>(0,ye.U)(V=>(new Fs(O,V.targetRouterState,V.currentRouterState,C).activate(M),V)))(this.rootContexts,C.routeReuseStrategy,Ze=>this.events.next(Ze)),(0,yt.q)(1),(0,ge.b)({next:Ze=>{se=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new Ni(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(Ze.targetRouterState.snapshot),Ze.resolve(!0)},complete:()=>{se=!0}}),(0,re.x)(()=>{se||Ie||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,Ke.K)(Ze=>{if(Ie=!0,Sn(Ze)){Jt(Ze)||(C.navigated=!0,C.restoreHistory(V,!0));const on=new jr(V.id,this.urlSerializer.serialize(V.extractedUrl),Ze.message,Ze.cancellationCode);if(this.events.next(on),Jt(Ze)){const Un=C.urlHandlingStrategy.merge(Ze.url,C.rawUrlTree),hr={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||Ce(V.source)};C.scheduleNavigation(Un,di,null,hr,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{C.restoreHistory(V,!0);const on=new ji(V.id,this.urlSerializer.serialize(V.extractedUrl),Ze,V.targetSnapshot??void 0);this.events.next(on);try{V.resolve(C.errorHandler(Ze))}catch(Un){V.reject(Un)}}return Fe.E}))}))}cancelNavigationTransition(C,V,se){const Ie=new jr(C.id,this.urlSerializer.serialize(C.extractedUrl),V,se);this.events.next(Ie),C.resolve(!1)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ce(M){return M!==di}let ut=(()=>{class M{buildTitle(C){let V,se=C.root;for(;void 0!==se;)V=this.getResolvedTitleForRoute(se)??V,se=se.children.find(Ie=>Ie.outlet===Et);return V}getResolvedTitleForRoute(C){return C.data[gn]}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(et)},providedIn:"root"}),M})(),et=(()=>{class M extends ut{constructor(C){super(),this.title=C}updateTitle(C){const V=this.buildTitle(C);void 0!==V&&this.title.setTitle(V)}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(ht.Dx))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),tn=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(In)},providedIn:"root"}),M})();class yn{shouldDetach(O){return!1}store(O,C){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,C){return O.routeConfig===C.routeConfig}}let In=(()=>{class M extends yn{}return M.\u0275fac=function(){let O;return function(V){return(O||(O=y.n5z(M)))(V||M)}}(),M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const X=new y.OlP("",{providedIn:"root",factory:()=>({})});let D=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(S)},providedIn:"root"}),M})(),S=(()=>{class M{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,V){return C}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const L=!1;function ue(M){throw M}function Ye(M,O,C){return O.parse("/")}const lt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(X,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ye,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(D),this.routeReuseStrategy=(0,y.f3M)(tn),this.urlCreationStrategy=(0,y.f3M)(ir),this.titleStrategy=(0,y.f3M)(ut),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jn((0,y.f3M)(l,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(de),this.urlSerializer=(0,y.f3M)(Rn),this.location=(0,y.f3M)(Wt.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),di,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const V="popstate"===C.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,V,C.state)},0)}))}navigateToSyncWithBrowser(C,V,se){const Ie={replaceUrl:!0},Ze=se?.navigationId?se:null;if(se){const Un={...se};delete Un.navigationId,delete Un.\u0275routerPageId,0!==Object.keys(Un).length&&(Ie.state=Un)}const on=this.parseUrl(C);this.scheduleNavigation(on,V,Ze,Ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(C){this.config=C.map(yi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,V={}){const{relativeTo:se,queryParams:Ie,fragment:Ze,queryParamsHandling:on,preserveFragment:Un}=V,hr=Un?this.currentUrlTree.fragment:Ze;let pr=null;switch(on){case"merge":pr={...this.currentUrlTree.queryParams,...Ie};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=Ie||null}return null!==pr&&(pr=this.removeEmptyProps(pr)),this.urlCreationStrategy.createUrlTree(se,this.routerState,this.currentUrlTree,C,pr,hr??null)}navigateByUrl(C,V={skipLocationChange:!1}){const se=Cn(C)?C:this.parseUrl(C),Ie=this.urlHandlingStrategy.merge(se,this.rawUrlTree);return this.scheduleNavigation(Ie,di,null,V)}navigate(C,V={skipLocationChange:!1}){return function An(M){for(let O=0;O<M.length;O++){const C=M[O];if(null==C)throw new y.vHH(4008,L)}}(C),this.navigateByUrl(this.createUrlTree(C,V),V)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let V;try{V=this.urlSerializer.parse(C)}catch(se){V=this.malformedUriErrorHandler(se,this.urlSerializer,C)}return V}isActive(C,V){let se;if(se=!0===V?{...lt}:!1===V?{...kt}:V,Cn(C))return vt(this.currentUrlTree,C,se);const Ie=this.parseUrl(C);return vt(this.currentUrlTree,Ie,se)}removeEmptyProps(C){return Object.keys(C).reduce((V,se)=>{const Ie=C[se];return null!=Ie&&(V[se]=Ie),V},{})}scheduleNavigation(C,V,se,Ie,Ze){if(this.disposed)return Promise.resolve(!1);let on,Un,hr,pr;return Ze?(on=Ze.resolve,Un=Ze.reject,hr=Ze.promise):hr=new Promise((wi,Wo)=>{on=wi,Un=Wo}),pr="computed"===this.canceledNavigationResolution?se&&se.\u0275routerPageId?se.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:pr,source:V,restoredState:se,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:Ie,resolve:on,reject:Un,promise:hr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),hr.catch(wi=>Promise.reject(wi))}setBrowserUrl(C,V){const se=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(se)||V.extras.replaceUrl){const Ze={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId)};this.location.replaceState(se,"",Ze)}else{const Ie={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.go(se,"",Ie)}}restoreHistory(C,V=!1){if("computed"===this.canceledNavigationResolution){const Ie=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ie?this.location.historyGo(Ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ie&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,V){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:V}:{navigationId:C}}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),lr=(()=>{class M{constructor(C,V,se,Ie,Ze,on){this.router=C,this.route=V,this.tabIndexAttribute=se,this.renderer=Ie,this.el=Ze,this.locationStrategy=on,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Zt.x;const Un=Ze.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Un||"area"===Un,this.isAnchorElement?this.subscription=C.events.subscribe(hr=>{hr instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(C){this._preserveFragment=(0,y.D6c)(C)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(C){this._skipLocationChange=(0,y.D6c)(C)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(C){this._replaceUrl=(0,y.D6c)(C)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,V,se,Ie,Ze){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||V||se||Ie||Ze||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const C=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",C)}applyAttributeValue(C,V){const se=this.renderer,Ie=this.el.nativeElement;null!==V?se.setAttribute(Ie,C,V):se.removeAttribute(Ie,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(C){return new(C||M)(y.Y36(rn),y.Y36($i),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Wt.S$))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,V){1&C&&y.NdJ("click",function(Ie){return V.onClick(Ie.button,Ie.ctrlKey,Ie.shiftKey,Ie.altKey,Ie.metaKey)}),2&C&&y.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),M})(),_r=(()=>{class M{get isActive(){return this._isActive}constructor(C,V,se,Ie,Ze){this.router=C,this.element=V,this.renderer=se,this.cdr=Ie,this.link=Ze,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=C.events.subscribe(on=>{on instanceof Ni&&this.update()})}ngAfterContentInit(){(0,j.of)(this.links.changes,(0,j.of)(null)).pipe((0,Ue.J)()).subscribe(C=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const C=[...this.links.toArray(),this.link].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,E.D)(C).pipe((0,Ue.J)()).subscribe(V=>{this._isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(C){const V=Array.isArray(C)?C:C.split(" ");this.classes=V.filter(se=>!!se)}ngOnChanges(C){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const C=this.hasActiveLinks();this._isActive!==C&&(this._isActive=C,this.cdr.markForCheck(),this.classes.forEach(V=>{C?this.renderer.addClass(this.element.nativeElement,V):this.renderer.removeClass(this.element.nativeElement,V)}),C&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(C))})}isLinkActive(C){const V=function ui(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return se=>!!se.urlTree&&C.isActive(se.urlTree,V)}hasActiveLinks(){const C=this.isLinkActive(this.router);return this.link&&C(this.link)||this.links.some(C)}}return M.\u0275fac=function(C){return new(C||M)(y.Y36(rn),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(lr,8))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(C,V,se){if(1&C&&y.Suo(se,lr,5),2&C){let Ie;y.iGM(Ie=y.CRH())&&(V.links=Ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),M})();class Zr{}let si=(()=>{class M{constructor(C,V,se,Ie,Ze){this.router=C,this.injector=se,this.preloadingStrategy=Ie,this.loader=Ze}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(C=>C instanceof Ni),(0,R.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,V){const se=[];for(const Ie of V){Ie.providers&&!Ie._injector&&(Ie._injector=(0,y.MMx)(Ie.providers,C,`Route: ${Ie.path}`));const Ze=Ie._injector??C,on=Ie._loadedInjector??Ze;(Ie.loadChildren&&!Ie._loadedRoutes&&void 0===Ie.canLoad||Ie.loadComponent&&!Ie._loadedComponent)&&se.push(this.preloadConfig(Ze,Ie)),(Ie.children||Ie._loadedRoutes)&&se.push(this.processRoutes(on,Ie.children??Ie._loadedRoutes))}return(0,E.D)(se).pipe((0,Ue.J)())}preloadConfig(C,V){return this.preloadingStrategy.preload(V,()=>{let se;se=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(C,V):(0,j.of)(null);const Ie=se.pipe((0,Le.z)(Ze=>null===Ze?(0,j.of)(void 0):(V._loadedRoutes=Ze.routes,V._loadedInjector=Ze.injector,this.processRoutes(Ze.injector??C,Ze.routes))));if(V.loadComponent&&!V._loadedComponent){const Ze=this.loader.loadComponent(V);return(0,E.D)([Ie,Ze]).pipe((0,Ue.J)())}return Ie})}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(rn),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Zr),y.LFG(d))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Fi=new y.OlP("");let yo=(()=>{class M{constructor(C,V,se,Ie,Ze={}){this.urlSerializer=C,this.transitions=V,this.viewportScroller=se,this.zone=Ie,this.options=Ze,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ze.scrollPositionRestoration=Ze.scrollPositionRestoration||"disabled",Ze.anchorScrolling=Ze.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Ni&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof $n&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $n(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return M.\u0275fac=function(C){y.$Z()},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();var eo=(()=>((eo=eo||{})[eo.COMPLETE=0]="COMPLETE",eo[eo.FAILED=1]="FAILED",eo[eo.REDIRECTING=2]="REDIRECTING",eo))();const Mo=!1;function as(M,O){return{\u0275kind:M,\u0275providers:O}}const _s=new y.OlP("",{providedIn:"root",factory:()=>!1});function jo(){const M=(0,y.f3M)(y.zs3);return O=>{const C=M.get(y.z2F);if(O!==C.components[0])return;const V=M.get(rn),se=M.get(qi);1===M.get(ko)&&V.initialNavigation(),M.get(Sr,null,y.XFs.Optional)?.setUpPreloading(),M.get(Fi,null,y.XFs.Optional)?.init(),V.resetRootComponentType(C.componentTypes[0]),se.closed||(se.next(),se.complete(),se.unsubscribe())}}const qi=new y.OlP(Mo?"bootstrap done indicator":"",{factory:()=>new Zt.x}),ko=new y.OlP(Mo?"initial navigation":"",{providedIn:"root",factory:()=>1});function wr(){let M=[];return M=Mo?[{provide:y.Xts,multi:!0,useFactory:()=>{const O=(0,y.f3M)(rn);return()=>O.events.subscribe(C=>{console.group?.(`Router Event: ${C.constructor.name}`),console.log(function ur(M){if(!("type"in M))return`Unknown Router Event: ${M.constructor.name}`;switch(M.type){case 14:return`ActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state}, shouldActivate: ${M.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 2:return`NavigationCancel(id: ${M.id}, url: '${M.url}')`;case 16:return`NavigationSkipped(id: ${M.id}, url: '${M.url}')`;case 1:return`NavigationEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${M.id}, url: '${M.url}', error: ${M.error})`;case 0:return`NavigationStart(id: ${M.id}, url: '${M.url}')`;case 6:return`ResolveEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 5:return`ResolveStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 10:return`RouteConfigLoadEnd(path: ${M.route.path})`;case 9:return`RouteConfigLoadStart(path: ${M.route.path})`;case 4:return`RoutesRecognized(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 15:return`Scroll(anchor: '${M.anchor}', position: '${M.position?`${M.position[0]}, ${M.position[1]}`:null}')`}}(C)),console.log(C),console.groupEnd?.()})}}]:[],as(1,M)}const Sr=new y.OlP(Mo?"router preloader":"");function zi(M){return as(0,[{provide:Sr,useExisting:si},{provide:Zr,useExisting:M}])}const no=!1,qa=new y.OlP(no?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Oo=[Wt.Ye,{provide:Rn,useClass:nr},rn,Mn,{provide:$i,useFactory:function Ao(M){return M.routerState.root},deps:[rn]},d,no?{provide:_s,useValue:!0}:[]];function na(){return new y.PXZ("Router",rn)}let ls=(()=>{class M{constructor(C){}static forRoot(C,V){return{ngModule:M,providers:[Oo,no&&V?.enableTracing?wr().\u0275providers:[],{provide:l,multi:!0,useValue:C},{provide:qa,useFactory:ua,deps:[[rn,new y.FiY,new y.tp0]]},{provide:X,useValue:V||{}},V?.useHash?{provide:Wt.S$,useClass:Wt.Do}:{provide:Wt.S$,useClass:Wt.b0},{provide:Fi,useFactory:()=>{const M=(0,y.f3M)(Wt.EM),O=(0,y.f3M)(y.R0b),C=(0,y.f3M)(X),V=(0,y.f3M)(de),se=(0,y.f3M)(Rn);return C.scrollOffset&&M.setOffset(C.scrollOffset),new yo(se,V,M,O,C)}},V?.preloadingStrategy?zi(V.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:na},V?.initialNavigation?Ps(V):[],[{provide:Js,useFactory:jo},{provide:y.tb,multi:!0,useExisting:Js}]]}}static forChild(C){return{ngModule:M,providers:[{provide:l,multi:!0,useValue:C}]}}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(qa,8))},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({imports:[gi]}),M})();function ua(M){if(no&&M)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ps(M){return["disabled"===M.initialNavigation?as(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const O=(0,y.f3M)(rn);return()=>{O.setUpLocationChangeListener()}}},{provide:ko,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?as(2,[{provide:ko,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:O=>{const C=O.get(Wt.V_,Promise.resolve());return()=>C.then(()=>new Promise(V=>{const se=O.get(rn),Ie=O.get(qi);(function ho(M,O){M.events.pipe((0,Ot.h)(C=>C instanceof Ni||C instanceof jr||C instanceof ji||C instanceof Qi),(0,ye.U)(C=>C instanceof Ni||C instanceof Qi?eo.COMPLETE:C instanceof jr&&(0===C.code||1===C.code)?eo.REDIRECTING:eo.FAILED),(0,Ot.h)(C=>C!==eo.REDIRECTING),(0,yt.q)(1)).subscribe(()=>{O()})})(se,()=>{V(!0)}),O.get(de).afterPreactivation=()=>(V(!0),Ie.closed?(0,j.of)(void 0):Ie),se.initialNavigation()}))}}]).\u0275providers:[]]}const Js=new y.OlP(no?"Router Initializer":"")},76188:(Ln,it,N)=>{"use strict";N.d(it,{Zw:()=>bt,aw:()=>He,X$:()=>Tn,sK:()=>ge});var y=N(94650),E=N(39646),j=N(69751),Pe=N(30576);function z(ct){return!!ct&&(ct instanceof j.y||(0,Pe.m)(ct.lift)&&(0,Pe.m)(ct.subscribe))}var Qe=N(4128),te=N(97272),Ge=N(49770),ie=N(95698),K=N(34782),Ae=N(54004),Se=N(24351),Fe=N(63900);class bt{}let Zt=(()=>{class ct extends bt{getTranslation(ee){return(0,E.of)({})}}return ct.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ct)))(ce||ct)}}(),ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class Wt{}let ye=(()=>{class ct{handle(ee){return ee.key}}return ct.\u0275fac=function(ee){return new(ee||ct)},ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})();function Nt(ct,at){if(ct===at)return!0;if(null===ct||null===at)return!1;if(ct!=ct&&at!=at)return!0;let re,Ne,Ue,ee=typeof ct;if(ee==typeof at&&"object"==ee){if(!Array.isArray(ct)){if(Array.isArray(at))return!1;for(Ne in Ue=Object.create(null),ct){if(!Nt(ct[Ne],at[Ne]))return!1;Ue[Ne]=!0}for(Ne in at)if(!(Ne in Ue)&&typeof at[Ne]<"u")return!1;return!0}if(!Array.isArray(at))return!1;if((re=ct.length)==at.length){for(Ne=0;Ne<re;Ne++)if(!Nt(ct[Ne],at[Ne]))return!1;return!0}}return!1}function yt(ct){return typeof ct<"u"&&null!==ct}function en(ct){return ct&&"object"==typeof ct&&!Array.isArray(ct)}function Ot(ct,at){let ee=Object.assign({},ct);return en(ct)&&en(at)&&Object.keys(at).forEach(ce=>{en(at[ce])?ce in ct?ee[ce]=Ot(ct[ce],at[ce]):Object.assign(ee,{[ce]:at[ce]}):Object.assign(ee,{[ce]:at[ce]})}),ee}class Le{}let Me=(()=>{class ct extends Le{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ee,ce){let re;return re="string"==typeof ee?this.interpolateString(ee,ce):"function"==typeof ee?this.interpolateFunction(ee,ce):ee,re}getValue(ee,ce){let re="string"==typeof ce?ce.split("."):[ce];ce="";do{ce+=re.shift(),!yt(ee)||!yt(ee[ce])||"object"!=typeof ee[ce]&&re.length?re.length?ce+=".":ee=void 0:(ee=ee[ce],ce="")}while(re.length);return ee}interpolateFunction(ee,ce){return ee(ce)}interpolateString(ee,ce){return ce?ee.replace(this.templateMatcher,(re,Ne)=>{let Ue=this.getValue(ce,Ne);return yt(Ue)?Ue:re}):ee}}return ct.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ct)))(ce||ct)}}(),ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class tt{}let f=(()=>{class ct extends tt{compile(ee,ce){return ee}compileTranslations(ee,ce){return ee}}return ct.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ct)))(ce||ct)}}(),ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class k{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new y.vpe,this.onLangChange=new y.vpe,this.onDefaultLangChange=new y.vpe}}const T=new y.OlP("USE_STORE"),W=new y.OlP("USE_DEFAULT_LANG"),J=new y.OlP("DEFAULT_LANGUAGE"),R=new y.OlP("USE_EXTEND");let ge=(()=>{class ct{constructor(ee,ce,re,Ne,Ue,ht=!0,Et=!1,gn=!1,_t){this.store=ee,this.currentLoader=ce,this.compiler=re,this.parser=Ne,this.missingTranslationHandler=Ue,this.useDefaultLang=ht,this.isolate=Et,this.extend=gn,this.pending=!1,this._onTranslationChange=new y.vpe,this._onLangChange=new y.vpe,this._onDefaultLangChange=new y.vpe,this._langs=[],this._translations={},this._translationRequests={},_t&&this.setDefaultLang(_t)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ee){this.isolate?this._defaultLang=ee:this.store.defaultLang=ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ee){this.isolate?this._currentLang=ee:this.store.currentLang=ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ee){this.isolate?this._langs=ee:this.store.langs=ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ee){this.isolate?this._translations=ee:this.store.translations=ee}setDefaultLang(ee){if(ee===this.defaultLang)return;let ce=this.retrieveTranslations(ee);typeof ce<"u"?(null==this.defaultLang&&(this.defaultLang=ee),ce.pipe((0,ie.q)(1)).subscribe(re=>{this.changeDefaultLang(ee)})):this.changeDefaultLang(ee)}getDefaultLang(){return this.defaultLang}use(ee){if(ee===this.currentLang)return(0,E.of)(this.translations[ee]);let ce=this.retrieveTranslations(ee);return typeof ce<"u"?(this.currentLang||(this.currentLang=ee),ce.pipe((0,ie.q)(1)).subscribe(re=>{this.changeLang(ee)}),ce):(this.changeLang(ee),(0,E.of)(this.translations[ee]))}retrieveTranslations(ee){let ce;return(typeof this.translations[ee]>"u"||this.extend)&&(this._translationRequests[ee]=this._translationRequests[ee]||this.getTranslation(ee),ce=this._translationRequests[ee]),ce}getTranslation(ee){this.pending=!0;const ce=this.currentLoader.getTranslation(ee).pipe((0,K.d)(1),(0,ie.q)(1));return this.loadingTranslations=ce.pipe((0,Ae.U)(re=>this.compiler.compileTranslations(re,ee)),(0,K.d)(1),(0,ie.q)(1)),this.loadingTranslations.subscribe({next:re=>{this.translations[ee]=this.extend&&this.translations[ee]?{...re,...this.translations[ee]}:re,this.updateLangs(),this.pending=!1},error:re=>{this.pending=!1}}),ce}setTranslation(ee,ce,re=!1){ce=this.compiler.compileTranslations(ce,ee),this.translations[ee]=(re||this.extend)&&this.translations[ee]?Ot(this.translations[ee],ce):ce,this.updateLangs(),this.onTranslationChange.emit({lang:ee,translations:this.translations[ee]})}getLangs(){return this.langs}addLangs(ee){ee.forEach(ce=>{-1===this.langs.indexOf(ce)&&this.langs.push(ce)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ee,ce,re){let Ne;if(ce instanceof Array){let Ue={},ht=!1;for(let Et of ce)Ue[Et]=this.getParsedResult(ee,Et,re),z(Ue[Et])&&(ht=!0);if(ht){const Et=ce.map(gn=>z(Ue[gn])?Ue[gn]:(0,E.of)(Ue[gn]));return(0,Qe.D)(Et).pipe((0,Ae.U)(gn=>{let _t={};return gn.forEach((an,ft)=>{_t[ce[ft]]=an}),_t}))}return Ue}if(ee&&(Ne=this.parser.interpolate(this.parser.getValue(ee,ce),re)),typeof Ne>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ne=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ce),re)),typeof Ne>"u"){let Ue={key:ce,translateService:this};typeof re<"u"&&(Ue.interpolateParams=re),Ne=this.missingTranslationHandler.handle(Ue)}return typeof Ne<"u"?Ne:ce}get(ee,ce){if(!yt(ee)||!ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Se.b)(re=>z(re=this.getParsedResult(re,ee,ce))?re:(0,E.of)(re)));{let re=this.getParsedResult(this.translations[this.currentLang],ee,ce);return z(re)?re:(0,E.of)(re)}}getStreamOnTranslationChange(ee,ce){if(!yt(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,te.z)((0,Ge.P)(()=>this.get(ee,ce)),this.onTranslationChange.pipe((0,Fe.w)(re=>{const Ne=this.getParsedResult(re.translations,ee,ce);return"function"==typeof Ne.subscribe?Ne:(0,E.of)(Ne)})))}stream(ee,ce){if(!yt(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,te.z)((0,Ge.P)(()=>this.get(ee,ce)),this.onLangChange.pipe((0,Fe.w)(re=>{const Ne=this.getParsedResult(re.translations,ee,ce);return z(Ne)?Ne:(0,E.of)(Ne)})))}instant(ee,ce){if(!yt(ee)||!ee.length)throw new Error('Parameter "key" required');let re=this.getParsedResult(this.translations[this.currentLang],ee,ce);if(z(re)){if(ee instanceof Array){let Ne={};return ee.forEach((Ue,ht)=>{Ne[ee[ht]]=ee[ht]}),Ne}return ee}return re}set(ee,ce,re=this.currentLang){this.translations[re][ee]=this.compiler.compile(ce,re),this.updateLangs(),this.onTranslationChange.emit({lang:re,translations:this.translations[re]})}changeLang(ee){this.currentLang=ee,this.onLangChange.emit({lang:ee,translations:this.translations[ee]}),null==this.defaultLang&&this.changeDefaultLang(ee)}changeDefaultLang(ee){this.defaultLang=ee,this.onDefaultLangChange.emit({lang:ee,translations:this.translations[ee]})}reloadLang(ee){return this.resetLang(ee),this.getTranslation(ee)}resetLang(ee){this._translationRequests[ee]=void 0,this.translations[ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof ee>"u"?void 0:(-1!==ee.indexOf("-")&&(ee=ee.split("-")[0]),-1!==ee.indexOf("_")&&(ee=ee.split("_")[0]),ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ee}}return ct.\u0275fac=function(ee){return new(ee||ct)(y.LFG(k),y.LFG(bt),y.LFG(tt),y.LFG(Le),y.LFG(Wt),y.LFG(W),y.LFG(T),y.LFG(R),y.LFG(J))},ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Tn=(()=>{class ct{constructor(ee,ce){this.translate=ee,this._ref=ce,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ee,ce,re){let Ne=Ue=>{this.value=void 0!==Ue?Ue:ee,this.lastKey=ee,this._ref.markForCheck()};if(re){let Ue=this.translate.getParsedResult(re,ee,ce);z(Ue.subscribe)?Ue.subscribe(Ne):Ne(Ue)}this.translate.get(ee,ce).subscribe(Ne)}transform(ee,...ce){if(!ee||!ee.length)return ee;if(Nt(ee,this.lastKey)&&Nt(ce,this.lastParams))return this.value;let re;if(yt(ce[0])&&ce.length)if("string"==typeof ce[0]&&ce[0].length){let Ne=ce[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{re=JSON.parse(Ne)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ce[0]}`)}}else"object"==typeof ce[0]&&!Array.isArray(ce[0])&&(re=ce[0]);return this.lastKey=ee,this.lastParams=ce,this.updateValue(ee,re),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ne=>{this.lastKey&&Ne.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ee,re,Ne.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ne=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,re,Ne.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,re))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ct.\u0275fac=function(ee){return new(ee||ct)(y.Y36(ge,16),y.Y36(y.sBO,16))},ct.\u0275pipe=y.Yjl({name:"translate",type:ct,pure:!1}),ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),He=(()=>{class ct{static forRoot(ee={}){return{ngModule:ct,providers:[ee.loader||{provide:bt,useClass:Zt},ee.compiler||{provide:tt,useClass:f},ee.parser||{provide:Le,useClass:Me},ee.missingTranslationHandler||{provide:Wt,useClass:ye},k,{provide:T,useValue:ee.isolate},{provide:W,useValue:ee.useDefaultLang},{provide:R,useValue:ee.extend},{provide:J,useValue:ee.defaultLanguage},ge]}}static forChild(ee={}){return{ngModule:ct,providers:[ee.loader||{provide:bt,useClass:Zt},ee.compiler||{provide:tt,useClass:f},ee.parser||{provide:Le,useClass:Me},ee.missingTranslationHandler||{provide:Wt,useClass:ye},{provide:T,useValue:ee.isolate},{provide:W,useValue:ee.useDefaultLang},{provide:R,useValue:ee.extend},{provide:J,useValue:ee.defaultLanguage},ge]}}}return ct.\u0275fac=function(ee){return new(ee||ct)},ct.\u0275mod=y.oAB({type:ct}),ct.\u0275inj=y.cJS({}),ct})()},91811:(Ln,it,N)=>{"use strict";N.d(it,{YI:()=>Ge,iF:()=>E,u7:()=>Pe});var y=N(94650),E={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const Pe=new y.OlP("nz-i18n");new y.OlP("nz-date-locale");let Ge=(()=>{class le{}return le.\u0275fac=function(rt){return new(rt||le)},le.\u0275mod=y.oAB({type:le}),le.\u0275inj=y.cJS({}),le})();new y.OlP("date-config")},85657:(Ln,it,N)=>{"use strict";N.d(it,{N:()=>j});var y=N(94650),E=N(36895);let j=(()=>{class Pe{constructor(Qe,te){this.document=Qe,this.platformId=te,this.documentIsAccessible=(0,E.NF)(this.platformId)}static getCookieRegExp(Qe){const te=Qe.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+te+"|;\\s*"+te+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(Qe){try{return decodeURIComponent(Qe)}catch{return Qe}}check(Qe){return!!this.documentIsAccessible&&(Qe=encodeURIComponent(Qe),Pe.getCookieRegExp(Qe).test(this.document.cookie))}get(Qe){if(this.documentIsAccessible&&this.check(Qe)){Qe=encodeURIComponent(Qe);const Ge=Pe.getCookieRegExp(Qe).exec(this.document.cookie);return Ge[1]?Pe.safeDecodeURIComponent(Ge[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const Qe={},te=this.document;return te.cookie&&""!==te.cookie&&te.cookie.split(";").forEach(Ge=>{const[ie,K]=Ge.split("=");Qe[Pe.safeDecodeURIComponent(ie.replace(/^ /,""))]=Pe.safeDecodeURIComponent(K)}),Qe}set(Qe,te,Ge,ie,K,Ae,Se){if(!this.documentIsAccessible)return;if("number"==typeof Ge||Ge instanceof Date||ie||K||Ae||Se)return void this.set(Qe,te,{expires:Ge,path:ie,domain:K,secure:Ae,sameSite:Se||"Lax"});let Fe=encodeURIComponent(Qe)+"="+encodeURIComponent(te)+";";const bt=Ge||{};bt.expires&&(Fe+="number"==typeof bt.expires?"expires="+new Date((new Date).getTime()+1e3*bt.expires*60*60*24).toUTCString()+";":"expires="+bt.expires.toUTCString()+";"),bt.path&&(Fe+="path="+bt.path+";"),bt.domain&&(Fe+="domain="+bt.domain+";"),!1===bt.secure&&"None"===bt.sameSite&&(bt.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${Qe} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),bt.secure&&(Fe+="secure;"),bt.sameSite||(bt.sameSite="Lax"),Fe+="sameSite="+bt.sameSite+";",this.document.cookie=Fe}delete(Qe,te,Ge,ie,K="Lax"){this.documentIsAccessible&&this.set(Qe,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:te,domain:Ge,secure:ie,sameSite:K})}deleteAll(Qe,te,Ge,ie="Lax"){if(!this.documentIsAccessible)return;const K=this.getAll();for(const Ae in K)K.hasOwnProperty(Ae)&&this.delete(Ae,Qe,te,Ge,ie)}}return Pe.\u0275fac=function(Qe){return new(Qe||Pe)(y.LFG(E.K0),y.LFG(y.Lbi))},Pe.\u0275prov=y.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},43648:(Ln,it,N)=>{"use strict";N.d(it,{Rh:()=>He,_W:()=>R});var y=N(94650),E=N(37340),j=N(36895),Pe=N(77579),z=N(11481);const Qe=["toast-component",""];function te(re,Ne){if(1&re){const Ue=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(Ue);const Et=y.oxw();return y.KtG(Et.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Ge(re,Ne){if(1&re&&(y.ynx(0),y._uU(1),y.BQk()),2&re){const Ue=y.oxw(2);y.xp6(1),y.hij("[",Ue.duplicatesCount+1,"]")}}function ie(re,Ne){if(1&re&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Ge,2,1,"ng-container",4),y.qZA()),2&re){const Ue=y.oxw();y.Tol(Ue.options.titleClass),y.uIk("aria-label",Ue.title),y.xp6(1),y.hij(" ",Ue.title," "),y.xp6(1),y.Q6J("ngIf",Ue.duplicatesCount)}}function K(re,Ne){if(1&re&&y._UZ(0,"div",7),2&re){const Ue=y.oxw();y.Tol(Ue.options.messageClass),y.Q6J("innerHTML",Ue.message,y.oJD)}}function Ae(re,Ne){if(1&re&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&re){const Ue=y.oxw();y.Tol(Ue.options.messageClass),y.uIk("aria-label",Ue.message),y.xp6(1),y.hij(" ",Ue.message," ")}}function Se(re,Ne){if(1&re&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&re){const Ue=y.oxw();y.xp6(1),y.Udp("width",Ue.width+"%")}}class en{_attachedHost;component;viewContainerRef;injector;constructor(Ne,Ue){this.component=Ne,this.injector=Ue}attach(Ne,Ue){return this._attachedHost=Ne,Ne.attach(this,Ue)}detach(){const Ne=this._attachedHost;if(Ne)return this._attachedHost=void 0,Ne.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ne){this._attachedHost=Ne}}class Ot{_attachedPortal;_disposeFn;attach(Ne,Ue){return this._attachedPortal=Ne,this.attachComponentPortal(Ne,Ue)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ne){this._disposeFn=Ne}}class Le{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pe.x;_activate=new Pe.x;_manualClose=new Pe.x;_resetTimeout=new Pe.x;_countDuplicate=new Pe.x;constructor(Ne){this._overlayRef=Ne}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ne,Ue){Ne&&this._resetTimeout.next(),Ue&&this._countDuplicate.next(++this.duplicatesCount)}}class Me{toastId;config;message;title;toastType;toastRef;_onTap=new Pe.x;_onAction=new Pe.x;constructor(Ne,Ue,ht,Et,gn,_t){this.toastId=Ne,this.config=Ue,this.message=ht,this.title=Et,this.toastType=gn,this.toastRef=_t,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ne){this._onAction.next(Ne)}onAction(){return this._onAction.asObservable()}}const f=new y.OlP("ToastConfig");class k extends Ot{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Ne,Ue,ht){super(),this._hostDomElement=Ne,this._componentFactoryResolver=Ue,this._appRef=ht}attachComponentPortal(Ne,Ue){const ht=this._componentFactoryResolver.resolveComponentFactory(Ne.component);let Et;return Et=ht.create(Ne.injector),this._appRef.attachView(Et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Et.hostView),Et.destroy()}),Ue?this._hostDomElement.insertBefore(this._getComponentRootNode(Et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Et)),Et}_getComponentRootNode(Ne){return Ne.hostView.rootNodes[0]}}let T=(()=>{class re{_document=(0,y.f3M)(j.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ue=this._document.createElement("div");Ue.classList.add("overlay-container"),Ue.setAttribute("aria-live","polite"),this._document.body.appendChild(Ue),this._containerElement=Ue}static \u0275fac=function(ht){return new(ht||re)};static \u0275prov=y.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();class W{_portalHost;constructor(Ne){this._portalHost=Ne}attach(Ne,Ue=!0){return this._portalHost.attach(Ne,Ue)}detach(){return this._portalHost.detach()}}let J=(()=>{class re{_overlayContainer=(0,y.f3M)(T);_componentFactoryResolver=(0,y.f3M)(y._Vd);_appRef=(0,y.f3M)(y.z2F);_document=(0,y.f3M)(j.K0);_paneElements=new Map;create(Ue,ht){return this._createOverlayRef(this.getPaneElement(Ue,ht))}getPaneElement(Ue="",ht){return this._paneElements.get(ht)||this._paneElements.set(ht,{}),this._paneElements.get(ht)[Ue]||(this._paneElements.get(ht)[Ue]=this._createPaneElement(Ue,ht)),this._paneElements.get(ht)[Ue]}_createPaneElement(Ue,ht){const Et=this._document.createElement("div");return Et.id="toast-container",Et.classList.add(Ue),Et.classList.add("toast-container"),ht?ht.getContainerElement().appendChild(Et):this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalHost(Ue){return new k(Ue,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ue){return new W(this._createPortalHost(Ue))}static \u0275fac=function(ht){return new(ht||re)};static \u0275prov=y.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})(),R=(()=>{class re{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Ue,ht,Et,gn,_t){this.overlay=ht,this._injector=Et,this.sanitizer=gn,this.ngZone=_t,this.toastrConfig={...Ue.default,...Ue.config},Ue.config.iconClasses&&(this.toastrConfig.iconClasses={...Ue.default.iconClasses,...Ue.config.iconClasses})}show(Ue,ht,Et={},gn=""){return this._preBuildNotification(gn,Ue,ht,this.applyConfig(Et))}success(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ue,ht,this.applyConfig(Et))}error(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ue,ht,this.applyConfig(Et))}info(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ue,ht,this.applyConfig(Et))}warning(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ue,ht,this.applyConfig(Et))}clear(Ue){for(const ht of this.toasts)if(void 0!==Ue){if(ht.toastId===Ue)return void ht.toastRef.manualClose()}else ht.toastRef.manualClose()}remove(Ue){const ht=this._findToast(Ue);if(!ht||(ht.activeToast.toastRef.close(),this.toasts.splice(ht.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Et=this.toasts[this.currentlyActive].toastRef;Et.isInactive()||(this.currentlyActive=this.currentlyActive+1,Et.activate())}return!0}findDuplicate(Ue="",ht="",Et,gn){const{includeTitleDuplicates:_t}=this.toastrConfig;for(const an of this.toasts)if((!_t||_t&&an.title===Ue)&&an.message===ht)return an.toastRef.onDuplicate(Et,gn),an;return null}applyConfig(Ue={}){return{...this.toastrConfig,...Ue}}_findToast(Ue){for(let ht=0;ht<this.toasts.length;ht++)if(this.toasts[ht].toastId===Ue)return{index:ht,activeToast:this.toasts[ht]};return null}_preBuildNotification(Ue,ht,Et,gn){return gn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ue,ht,Et,gn)):this._buildNotification(Ue,ht,Et,gn)}_buildNotification(Ue,ht,Et,gn){if(!gn.toastComponent)throw new Error("toastComponent required");const _t=this.findDuplicate(Et,ht,this.toastrConfig.resetTimeoutOnDuplicate&&gn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Et||ht)&&this.toastrConfig.preventDuplicates&&null!==_t)return _t;this.previousToastMessage=ht;let an=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(an=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ft=this.overlay.create(gn.positionClass,this.overlayContainer);this.index=this.index+1;let Ut=ht;ht&&gn.enableHtml&&(Ut=this.sanitizer.sanitize(y.q3G.HTML,ht));const Xt=new Le(ft),fn=new Me(this.index,gn,Ut,Et,Ue,Xt),xn=y.zs3.create({providers:[{provide:Me,useValue:fn}],parent:this._injector}),er=new en(gn.toastComponent,xn),Qn=ft.attach(er,gn.newestOnTop);Xt.componentInstance=Qn.instance;const Nn={toastId:this.index,title:Et||"",message:ht||"",toastRef:Xt,onShown:Xt.afterActivate(),onHidden:Xt.afterClosed(),onTap:fn.onTap(),onAction:fn.onAction(),portal:Qn};return an||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Nn.toastRef.activate()})),this.toasts.push(Nn),Nn}static \u0275fac=function(ht){return new(ht||re)(y.LFG(f),y.LFG(J),y.LFG(y.zs3),y.LFG(z.H7),y.LFG(y.R0b))};static \u0275prov=y.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const Ke={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class re{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Ue,ht,Et){this.toastrService=Ue,this.toastPackage=ht,this.ngZone=Et,this.message=ht.message,this.title=ht.title,this.options=ht.config,this.originalTimeout=ht.config.timeOut,this.toastClasses=`${ht.toastType} ${ht.config.toastClass}`,this.sub=ht.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ht.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ht.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ht.toastRef.countDuplicate().subscribe(gn=>{this.duplicatesCount=gn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ue=(new Date).getTime();this.width=(this.hideTime-Ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ue,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ue),ht)):this.timeout=setTimeout(()=>Ue(),ht)}outsideInterval(Ue,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ue),ht)):this.intervalId=setInterval(()=>Ue(),ht)}runInsideAngular(Ue){this.ngZone?this.ngZone.run(()=>Ue()):Ue()}static \u0275fac=function(ht){return new(ht||re)(y.Y36(R),y.Y36(Me),y.Y36(y.R0b))};static \u0275cmp=y.Xpm({type:re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ht,Et){1&ht&&y.NdJ("click",function(){return Et.tapToast()})("mouseenter",function(){return Et.stickAround()})("mouseleave",function(){return Et.delayedHideToast()}),2&ht&&(y.d8E("@flyInOut",Et.state),y.Tol(Et.toastClasses),y.Udp("display",Et.displayStyle))},standalone:!0,features:[y.jDz],attrs:Qe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ht,Et){1&ht&&(y.YNc(0,te,3,0,"button",0),y.YNc(1,ie,3,5,"div",1),y.YNc(2,K,1,3,"div",2),y.YNc(3,Ae,2,4,"div",3),y.YNc(4,Se,2,2,"div",4)),2&ht&&(y.Q6J("ngIf",Et.options.closeButton),y.xp6(1),y.Q6J("ngIf",Et.title),y.xp6(1),y.Q6J("ngIf",Et.message&&Et.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Et.message&&!Et.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Et.options.progressBar))},dependencies:[j.O5],encapsulation:2,data:{animation:[(0,E.X$)("flyInOut",[(0,E.SB)("inactive",(0,E.oB)({opacity:0})),(0,E.SB)("active",(0,E.oB)({opacity:1})),(0,E.SB)("removed",(0,E.oB)({opacity:0})),(0,E.eR)("inactive => active",(0,E.jt)("{{ easeTime }}ms {{ easing }}")),(0,E.eR)("active => removed",(0,E.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return re})()},Tn=(re={})=>(0,y.MR2)([{provide:f,useValue:{default:Ke,config:re}}]);let He=(()=>{class re{static forRoot(Ue={}){return{ngModule:re,providers:[Tn(Ue)]}}static \u0275fac=function(ht){return new(ht||re)};static \u0275mod=y.oAB({type:re});static \u0275inj=y.cJS({})}return re})()},15861:(Ln,it,N)=>{"use strict";function y(j,Pe,z,Qe,te,Ge,ie){try{var K=j[Ge](ie),Ae=K.value}catch(Se){return void z(Se)}K.done?Pe(Ae):Promise.resolve(Ae).then(Qe,te)}function E(j){return function(){var Pe=this,z=arguments;return new Promise(function(Qe,te){var Ge=j.apply(Pe,z);function ie(Ae){y(Ge,Qe,te,ie,K,"next",Ae)}function K(Ae){y(Ge,Qe,te,ie,K,"throw",Ae)}ie(void 0)})}}N.d(it,{Z:()=>E})},97582:(Ln,it,N)=>{"use strict";function z(at,ee,ce,re){var ht,Ne=arguments.length,Ue=Ne<3?ee:null===re?re=Object.getOwnPropertyDescriptor(ee,ce):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(at,ee,ce,re);else for(var Et=at.length-1;Et>=0;Et--)(ht=at[Et])&&(Ue=(Ne<3?ht(Ue):Ne>3?ht(ee,ce,Ue):ht(ee,ce))||Ue);return Ne>3&&Ue&&Object.defineProperty(ee,ce,Ue),Ue}function Se(at,ee,ce,re){return new(ce||(ce=Promise))(function(Ue,ht){function Et(an){try{_t(re.next(an))}catch(ft){ht(ft)}}function gn(an){try{_t(re.throw(an))}catch(ft){ht(ft)}}function _t(an){an.done?Ue(an.value):function Ne(Ue){return Ue instanceof ce?Ue:new ce(function(ht){ht(Ue)})}(an.value).then(Et,gn)}_t((re=re.apply(at,ee||[])).next())})}function Ot(at){return this instanceof Ot?(this.v=at,this):new Ot(at)}function Le(at,ee,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,re=ce.apply(at,ee||[]),Ue=[];return Ne={},ht("next"),ht("throw"),ht("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ht(Ut){re[Ut]&&(Ne[Ut]=function(Xt){return new Promise(function(fn,jn){Ue.push([Ut,Xt,fn,jn])>1||Et(Ut,Xt)})})}function Et(Ut,Xt){try{!function gn(Ut){Ut.value instanceof Ot?Promise.resolve(Ut.value.v).then(_t,an):ft(Ue[0][2],Ut)}(re[Ut](Xt))}catch(fn){ft(Ue[0][3],fn)}}function _t(Ut){Et("next",Ut)}function an(Ut){Et("throw",Ut)}function ft(Ut,Xt){Ut(Xt),Ue.shift(),Ue.length&&Et(Ue[0][0],Ue[0][1])}}function tt(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ee=at[Symbol.asyncIterator];return ee?ee.call(at):(at=function Wt(at){var ee="function"==typeof Symbol&&Symbol.iterator,ce=ee&&at[ee],re=0;if(ce)return ce.call(at);if(at&&"number"==typeof at.length)return{next:function(){return at&&re>=at.length&&(at=void 0),{value:at&&at[re++],done:!at}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(at),ce={},re("next"),re("throw"),re("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function re(Ue){ce[Ue]=at[Ue]&&function(ht){return new Promise(function(Et,gn){!function Ne(Ue,ht,Et,gn){Promise.resolve(gn).then(function(_t){Ue({value:_t,done:Et})},ht)}(Et,gn,(ht=at[Ue](ht)).done,ht.value)})}}}N.d(it,{FC:()=>Le,KL:()=>tt,gn:()=>z,mG:()=>Se,qq:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError}},Ln=>{Ln(Ln.s=22712)}]);