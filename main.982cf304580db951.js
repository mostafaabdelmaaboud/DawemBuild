(self.webpackChunkDawem=self.webpackChunkDawem||[]).push([[179],{75646:(Nn,nt,F)=>{"use strict";function z(ze,pe,j,ye){var Gn,Qe=arguments.length,on=Qe<3?pe:null===ye?ye=Object.getOwnPropertyDescriptor(pe,j):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)on=Reflect.decorate(ze,pe,j,ye);else for(var rr=ze.length-1;rr>=0;rr--)(Gn=ze[rr])&&(on=(Qe<3?Gn(on):Qe>3?Gn(pe,j,on):Gn(pe,j))||on);return Qe>3&&on&&Object.defineProperty(pe,j,on),on}function Xe(ze,pe){return function(j,ye){pe(j,ye,ze)}}function ee(ze,pe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ze,pe)}function Ge(ze,pe,j,ye){return new(j||(j=Promise))(function(on,Gn){function rr(vr){try{gr(ye.next(vr))}catch(ir){Gn(ir)}}function Lr(vr){try{gr(ye.throw(vr))}catch(ir){Gn(ir)}}function gr(vr){vr.done?on(vr.value):function Qe(on){return on instanceof j?on:new j(function(Gn){Gn(on)})}(vr.value).then(rr,Lr)}gr((ye=ye.apply(ze,pe||[])).next())})}F.d(nt,{uU:()=>kn,su:()=>Gi,SA:()=>Cn,pt:()=>it});var f=F(94650),k=F(69751),D=F(61135),G=F(88996),J=F(5963),N=F(77579),ge=F(30576),Ke=F(83268);function Tn(ze,pe,j){return j?Tn(ze,pe).pipe((0,Ke.Z)(j)):new k.y(ye=>{const Qe=(...Gn)=>ye.next(1===Gn.length?Gn[0]:Gn),on=ze(Qe);return(0,ge.m)(pe)?()=>pe(Qe,on):void 0})}var He=F(56451),ut=F(4707),at=F(93532),te=F(49468),ce=F(85363);class ie extends N.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(pe){const{hasError:j,_hasValue:ye,_value:Qe,thrownError:on,isStopped:Gn,_isComplete:rr}=this;j?pe.error(on):(Gn||rr)&&(ye&&pe.next(Qe),pe.complete())}next(pe){this.isStopped||(this._value=pe,this._hasValue=!0)}complete(){const{_hasValue:pe,_value:j,_isComplete:ye}=this;ye||(this._isComplete=!0,pe&&super.next(j),super.complete())}}function Le(ze,pe,j,ye){if(j){if(!(0,at.K)(j))return function(...Qe){return Le(ze,pe,ye).apply(this,Qe).pipe((0,Ke.Z)(j))};ye=j}return ye?function(...Qe){return Le(ze,pe).apply(this,Qe).pipe((0,te.R)(ye),(0,ce.Q)(ye))}:function(...Qe){const on=new ie;let Gn=!0;return new k.y(rr=>{const Lr=on.subscribe(rr);if(Gn){Gn=!1;let gr=!1,vr=!1;pe.apply(this,[...Qe,(...ir)=>{if(ze){const or=ir.shift();if(null!=or)return void on.error(or)}on.next(1<ir.length?ir:ir[0]),vr=!0,gr&&on.complete()}]),vr&&on.complete(),gr=!0}return Lr})}}function Ue(ze,pe,j){return Le(!1,ze,pe,j)}var ht=F(39646),Et=F(62843);const bt=F(95577).z;var sn=F(54482),ft=F(25032),Ut=F(25403),dn=F(63900),Bn=F(54004),xn=F(34782),On=(F(71884),F(82722),F(68675)),br=F(35684),hn=F(94033),Fe=F(38421);const Yt={connector:()=>new N.x};var ot=F(36895);const Se=["*"];let Mt=(()=>{let ze=class{};return ze.\u0275fac=function(j){return new(j||ze)},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze})(),Nt=(()=>{let ze=class{constructor(j,ye){this._loader=j,this._zone=ye,this._map=new Promise(Qe=>{this._mapResolver=Qe})}createMap(j,ye){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const Qe=new google.maps.Map(j,ye);this._mapResolver(Qe)}))}setMapOptions(j){return this._zone.runOutsideAngular(()=>{this._map.then(ye=>{ye.setOptions(j)})})}createMarker(j={},ye=!0){return this._zone.runOutsideAngular(()=>this._map.then(Qe=>(ye&&(j.map=Qe),new google.maps.Marker(j))))}createInfoWindow(j){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(j)))}createCircle(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>("string"==typeof j.strokePosition&&(j.strokePosition=google.maps.StrokePosition[j.strokePosition]),j.map=ye,new google.maps.Circle(j))))}createRectangle(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>(j.map=ye,new google.maps.Rectangle(j))))}createPolyline(j){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(ye=>{let Qe=new google.maps.Polyline(j);return Qe.setMap(ye),Qe}))}createPolygon(j){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(ye=>{let Qe=new google.maps.Polygon(j);return Qe.setMap(ye),Qe}))}createDataLayer(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>{let Qe=new google.maps.Data(j);return Qe.setMap(ye),Qe}))}createTransitLayer(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>{let Qe=new google.maps.TransitLayer;return Qe.setMap(j.visible?ye:null),Qe}))}createBicyclingLayer(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>{let Qe=new google.maps.BicyclingLayer;return Qe.setMap(j.visible?ye:null),Qe}))}containsLocation(j,ye){return google.maps.geometry.poly.containsLocation(j,ye)}subscribeToMapEvent(j){return new k.y(ye=>{this._map.then(Qe=>{Qe.addListener(j,on=>{this._zone.run(()=>ye.next(on))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(j=>{google.maps.event.clearInstanceListeners(j)})})}setCenter(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>ye.setCenter(j)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(j=>j.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(j=>j.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(j=>j.getMapTypeId()))}setZoom(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>ye.setZoom(j)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(j=>j.getCenter()))}panTo(j){return this._zone.runOutsideAngular(()=>this._map.then(ye=>ye.panTo(j)))}panBy(j,ye){return this._zone.runOutsideAngular(()=>this._map.then(Qe=>Qe.panBy(j,ye)))}fitBounds(j,ye){return this._zone.runOutsideAngular(()=>this._map.then(Qe=>Qe.fitBounds(j,ye)))}panToBounds(j,ye){return this._zone.runOutsideAngular(()=>this._map.then(Qe=>Qe.panToBounds(j,ye)))}getNativeMap(){return this._map}triggerMapEvent(j){return this._map.then(ye=>google.maps.event.trigger(ye,j))}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Mt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Mt,f.R0b])],ze),ze})(),ct=(()=>{let ze=class{constructor(j){this._wrapper=j,this._layers=new Map}addTransitLayer(j,ye){const Qe=this._wrapper.createTransitLayer(ye);this._layers.set(j,Qe)}addBicyclingLayer(j,ye){const Qe=this._wrapper.createBicyclingLayer(ye);this._layers.set(j,Qe)}deleteLayer(j){return this._layers.get(j).then(ye=>{ye.setMap(null),this._layers.delete(j)})}toggleLayerVisibility(j,ye){return this._layers.get(j).then(Qe=>{if(ye.visible)return this._wrapper.getNativeMap().then(on=>{Qe.setMap(on)});Qe.setMap(null)})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt])],ze),ze})(),Hn=(()=>{let ze=class{constructor(j,ye){this._apiWrapper=j,this._zone=ye,this._circles=new Map}addCircle(j){this._circles.set(j,this._apiWrapper.createCircle({center:{lat:j.latitude,lng:j.longitude},clickable:j.clickable,draggable:j.draggable,editable:j.editable,fillColor:j.fillColor,fillOpacity:j.fillOpacity,radius:j.radius,strokeColor:j.strokeColor,strokeOpacity:j.strokeOpacity,strokePosition:j.strokePosition,strokeWeight:j.strokeWeight,visible:j.visible,zIndex:j.zIndex}))}removeCircle(j){return this._circles.get(j).then(ye=>{ye.setMap(null),this._circles.delete(j)})}setOptions(j,ye){return this._circles.get(j).then(Qe=>{"string"==typeof ye.strokePosition&&(ye.strokePosition=google.maps.StrokePosition[ye.strokePosition]),Qe.setOptions(ye)})}getBounds(j){return this._circles.get(j).then(ye=>ye.getBounds())}getCenter(j){return this._circles.get(j).then(ye=>ye.getCenter())}getRadius(j){return this._circles.get(j).then(ye=>ye.getRadius())}setCenter(j){return this._circles.get(j).then(ye=>ye.setCenter({lat:j.latitude,lng:j.longitude}))}setEditable(j){return this._circles.get(j).then(ye=>ye.setEditable(j.editable))}setDraggable(j){return this._circles.get(j).then(ye=>ye.setDraggable(j.draggable))}setVisible(j){return this._circles.get(j).then(ye=>ye.setVisible(j.visible))}setRadius(j){return this._circles.get(j).then(ye=>ye.setRadius(j.radius))}getNativeCircle(j){return this._circles.get(j)}createEventObservable(j,ye){return new k.y(Qe=>{let on=null;return this._circles.get(ye).then(Gn=>{on=Gn.addListener(j,rr=>this._zone.run(()=>Qe.next(rr)))}),()=>{null!==on&&on.remove()}})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})();var Rn;let kn=Rn=class{constructor(pe){this._manager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new f.vpe,this.circleClick=new f.vpe,this.circleDblClick=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.dragStart=new f.vpe,this.mouseDown=new f.vpe,this.mouseMove=new f.vpe,this.mouseOut=new f.vpe,this.mouseOver=new f.vpe,this.mouseUp=new f.vpe,this.radiusChange=new f.vpe,this.rightClick=new f.vpe,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(pe){this._circleAddedToManager&&((pe.latitude||pe.longitude)&&this._manager.setCenter(this),pe.editable&&this._manager.setEditable(this),pe.draggable&&this._manager.setDraggable(this),pe.visible&&this._manager.setVisible(this),pe.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(pe))}_updateCircleOptionsChanges(pe){let j={},ye=Object.keys(pe).filter(Qe=>-1!==Rn._mapOptions.indexOf(Qe));ye.forEach(Qe=>{j[Qe]=pe[Qe].currentValue}),ye.length>0&&this._manager.setOptions(this,j)}_registerEventListeners(){let pe=new Map;pe.set("center_changed",this.centerChange),pe.set("click",this.circleClick),pe.set("dblclick",this.circleDblClick),pe.set("drag",this.drag),pe.set("dragend",this.dragEnd),pe.set("dragstart",this.dragStart),pe.set("mousedown",this.mouseDown),pe.set("mousemove",this.mouseMove),pe.set("mouseout",this.mouseOut),pe.set("mouseover",this.mouseOver),pe.set("mouseup",this.mouseUp),pe.set("radius_changed",this.radiusChange),pe.set("rightclick",this.rightClick),pe.forEach((j,ye)=>{this._eventSubscriptions.push(this._manager.createEventObservable(ye,this).subscribe(Qe=>{switch(ye){case"radius_changed":this._manager.getRadius(this).then(on=>j.emit(on));break;case"center_changed":this._manager.getCenter(this).then(on=>j.emit({lat:on.lat(),lng:on.lng()}));break;default:j.emit({coords:{lat:Qe.latLng.lat(),lng:Qe.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(pe){pe.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};kn.\u0275fac=function(pe){return new(pe||kn)(f.Y36(Hn))},kn.\u0275dir=f.lG2({type:kn,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[f.TTD]}),kn._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],kn.ctorParameters=()=>[{type:Hn}],z([(0,f.IIB)(),ee("design:type",Number)],kn.prototype,"latitude",void 0),z([(0,f.IIB)(),ee("design:type",Number)],kn.prototype,"longitude",void 0),z([(0,f.IIB)(),ee("design:type",Object)],kn.prototype,"clickable",void 0),z([(0,f.IIB)("circleDraggable"),ee("design:type",Object)],kn.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],kn.prototype,"editable",void 0),z([(0,f.IIB)(),ee("design:type",String)],kn.prototype,"fillColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],kn.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),ee("design:type",Object)],kn.prototype,"radius",void 0),z([(0,f.IIB)(),ee("design:type",String)],kn.prototype,"strokeColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],kn.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),ee("design:type",String)],kn.prototype,"strokePosition",void 0),z([(0,f.IIB)(),ee("design:type",Object)],kn.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),ee("design:type",Object)],kn.prototype,"visible",void 0),z([(0,f.IIB)(),ee("design:type",Number)],kn.prototype,"zIndex",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"centerChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"circleClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"circleDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"drag",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"dragEnd",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"dragStart",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"mouseDown",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"mouseMove",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"mouseOut",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"mouseOver",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"mouseUp",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"radiusChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],kn.prototype,"rightClick",void 0),kn=Rn=z([ee("design:paramtypes",[Hn])],kn);let Jn=(()=>{let ze=class{constructor(j,ye){this._wrapper=j,this._zone=ye,this._layers=new Map}addDataLayer(j){const ye=this._wrapper.createDataLayer({style:j.style}).then(Qe=>(j.geoJson&&this.getDataFeatures(Qe,j.geoJson).then(on=>Qe.features=on),Qe));this._layers.set(j,ye)}deleteDataLayer(j){this._layers.get(j).then(ye=>{ye.setMap(null),this._layers.delete(j)})}updateGeoJson(j,ye){this._layers.get(j).then(Qe=>{Qe.forEach(function(on){Qe.remove(on);var Gn=Qe.features.indexOf(on,0);Gn>-1&&Qe.features.splice(Gn,1)}),this.getDataFeatures(Qe,ye).then(on=>Qe.features=on)})}setDataOptions(j,ye){this._layers.get(j).then(Qe=>{Qe.setControlPosition(ye.controlPosition),Qe.setControls(ye.controls),Qe.setDrawingMode(ye.drawingMode),Qe.setStyle(ye.style)})}createEventObservable(j,ye){return new k.y(Qe=>{this._layers.get(ye).then(on=>{on.addListener(j,Gn=>this._zone.run(()=>Qe.next(Gn)))})})}getDataFeatures(j,ye){return new Promise((Qe,on)=>{if("object"==typeof ye)try{Qe(j.addGeoJson(ye))}catch(Gn){on(Gn)}else"string"==typeof ye?j.loadGeoJson(ye,null,Qe):on("Impossible to extract features from geoJson: wrong argument type")})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})();var Ir;let cn=0,Pt=Ir=class{constructor(pe){this._manager=pe,this._addedToManager=!1,this._id=(cn++).toString(),this._subscriptions=[],this.layerClick=new f.vpe,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:j=>this.layerClick.emit(j)}].forEach(j=>{const ye=this._manager.createEventObservable(j.name,this).subscribe(j.handler);this._subscriptions.push(ye)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}ngOnChanges(pe){if(!this._addedToManager)return;var j=pe.geoJson;j&&this._manager.updateGeoJson(this,j.currentValue);let ye={};Ir._dataOptionsAttributes.forEach(Qe=>ye[Qe]=pe.hasOwnProperty(Qe)?pe[Qe].currentValue:this[Qe]),this._manager.setDataOptions(this,ye)}};Pt.\u0275fac=function(pe){return new(pe||Pt)(f.Y36(Jn))},Pt.\u0275dir=f.lG2({type:Pt,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[f.TTD]}),Pt._dataOptionsAttributes=["style"],Pt.ctorParameters=()=>[{type:Jn}],z([(0,f.r_U)(),ee("design:type",f.vpe)],Pt.prototype,"layerClick",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Pt.prototype,"geoJson",void 0),z([(0,f.IIB)(),ee("design:type",Function)],Pt.prototype,"style",void 0),Pt=Ir=z([ee("design:paramtypes",[Jn])],Pt);class Vt{}let Ce=(()=>{let ze=class{constructor(j){this._boundsChangeSampleTime$=new D.X(200),this._includeInBounds$=new D.X(new Map),this.bounds$=(0,G.D)(j.load()).pipe(bt(()=>this._includeInBounds$),function Xt(ze){return(0,sn.e)((pe,j)=>{let ye=!1,Qe=null;pe.subscribe((0,Ut.x)(j,on=>{ye=!0,Qe=on})),ze.subscribe((0,Ut.x)(j,()=>{if(ye){ye=!1;const on=Qe;Qe=null,j.next(on)}},ft.Z))})}(this._boundsChangeSampleTime$.pipe((0,dn.w)(ye=>(0,J.H)(0,ye)))),(0,Bn.U)(ye=>this._generateBounds(ye)),(0,xn.d)(1))}_generateBounds(j){const ye=new google.maps.LatLngBounds;return j.forEach(Qe=>ye.extend(Qe)),ye}addToBounds(j){const ye=this._createIdentifier(j);if(this._includeInBounds$.value.has(ye))return;const Qe=this._includeInBounds$.value;Qe.set(ye,j),this._includeInBounds$.next(Qe)}removeFromBounds(j){const ye=this._includeInBounds$.value;ye.delete(this._createIdentifier(j)),this._includeInBounds$.next(ye)}changeFitBoundsChangeSampleTime(j){this._boundsChangeSampleTime$.next(j)}getBounds$(){return this.bounds$}_createIdentifier(j){return`${j.lat}+${j.lng}`}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Mt))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Mt])],ze),ze})(),le=(()=>{let ze=class{constructor(j,ye){this._mapsWrapper=j,this._zone=ye,this._markers=new Map}convertAnimation(j){return Ge(this,void 0,void 0,function*(){return null===j?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[j])})}deleteMarker(j){const ye=this._markers.get(j);return null==ye?Promise.resolve():ye.then(Qe=>this._zone.run(()=>{Qe.setMap(null),this._markers.delete(j)}))}updateMarkerPosition(j){return this._markers.get(j).then(ye=>ye.setPosition({lat:j.latitude,lng:j.longitude}))}updateTitle(j){return this._markers.get(j).then(ye=>ye.setTitle(j.title))}updateLabel(j){return this._markers.get(j).then(ye=>{ye.setLabel(j.label)})}updateDraggable(j){return this._markers.get(j).then(ye=>ye.setDraggable(j.draggable))}updateIcon(j){return this._markers.get(j).then(ye=>ye.setIcon(j.iconUrl))}updateOpacity(j){return this._markers.get(j).then(ye=>ye.setOpacity(j.opacity))}updateVisible(j){return this._markers.get(j).then(ye=>ye.setVisible(j.visible))}updateZIndex(j){return this._markers.get(j).then(ye=>ye.setZIndex(j.zIndex))}updateClickable(j){return this._markers.get(j).then(ye=>ye.setClickable(j.clickable))}updateAnimation(j){return Ge(this,void 0,void 0,function*(){(yield this._markers.get(j)).setAnimation(yield this.convertAnimation(j.animation))})}addMarker(j){const ye=new Promise(Qe=>Ge(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:j.latitude,lng:j.longitude},label:j.label,draggable:j.draggable,icon:j.iconUrl,opacity:j.opacity,visible:j.visible,zIndex:j.zIndex,title:j.title,clickable:j.clickable,animation:yield this.convertAnimation(j.animation)}).then(Qe)}));this._markers.set(j,ye)}getNativeMarker(j){return this._markers.get(j)}createEventObservable(j,ye){return new k.y(Qe=>{this._markers.get(ye).then(on=>{on.addListener(j,Gn=>this._zone.run(()=>Qe.next(Gn)))})})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})(),tt=(()=>{let ze=class{constructor(j,ye,Qe){this._mapsWrapper=j,this._zone=ye,this._markerManager=Qe,this._infoWindows=new Map}deleteInfoWindow(j){const ye=this._infoWindows.get(j);return null==ye?Promise.resolve():ye.then(Qe=>this._zone.run(()=>{Qe.close(),this._infoWindows.delete(j)}))}setPosition(j){return this._infoWindows.get(j).then(ye=>ye.setPosition({lat:j.latitude,lng:j.longitude}))}setZIndex(j){return this._infoWindows.get(j).then(ye=>ye.setZIndex(j.zIndex))}open(j){return this._infoWindows.get(j).then(ye=>null!=j.hostMarker?this._markerManager.getNativeMarker(j.hostMarker).then(Qe=>this._mapsWrapper.getNativeMap().then(on=>ye.open(on,Qe))):this._mapsWrapper.getNativeMap().then(Qe=>ye.open(Qe)))}close(j){return this._infoWindows.get(j).then(ye=>ye.close())}setOptions(j,ye){return this._infoWindows.get(j).then(Qe=>Qe.setOptions(ye))}addInfoWindow(j){const ye={content:j.content,maxWidth:j.maxWidth,zIndex:j.zIndex,disableAutoPan:j.disableAutoPan};"number"==typeof j.latitude&&"number"==typeof j.longitude&&(ye.position={lat:j.latitude,lng:j.longitude});const Qe=this._mapsWrapper.createInfoWindow(ye);this._infoWindows.set(j,Qe)}createEventObservable(j,ye){return new k.y(Qe=>{this._infoWindows.get(ye).then(on=>{on.addListener(j,Gn=>this._zone.run(()=>Qe.next(Gn)))})})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b),f.LFG(le))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b,le])],ze),ze})();var St;let vn=0,Oe=St=class{constructor(pe,j){this._infoWindowManager=pe,this._el=j,this.isOpen=!1,this.infoWindowClose=new f.vpe,this._infoWindowAddedToManager=!1,this._id=(vn++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(pe){this._infoWindowAddedToManager&&((pe.latitude||pe.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),pe.zIndex&&this._infoWindowManager.setZIndex(this),pe.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(pe))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(pe){let j={};Object.keys(pe).filter(Qe=>-1!==St._infoWindowOptionsInputs.indexOf(Qe)).forEach(Qe=>{j[Qe]=pe[Qe].currentValue}),this._infoWindowManager.setOptions(this,j)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};Oe.\u0275fac=function(pe){return new(pe||Oe)(f.Y36(tt),f.Y36(f.SBq))},Oe.\u0275cmp=f.Xpm({type:Oe,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[f.TTD],ngContentSelectors:Se,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(pe,j){1&pe&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},encapsulation:2}),Oe._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],Oe.ctorParameters=()=>[{type:tt},{type:f.SBq}],z([(0,f.IIB)(),ee("design:type",Number)],Oe.prototype,"latitude",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Oe.prototype,"longitude",void 0),z([(0,f.IIB)(),ee("design:type",Boolean)],Oe.prototype,"disableAutoPan",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Oe.prototype,"zIndex",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Oe.prototype,"maxWidth",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Oe.prototype,"isOpen",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Oe.prototype,"infoWindowClose",void 0),Oe=St=z([ee("design:paramtypes",[tt,f.SBq])],Oe);let It=(()=>{let ze=class{constructor(j,ye){this._wrapper=j,this._zone=ye,this._layers=new Map}addKmlLayer(j){const ye=this._wrapper.getNativeMap().then(Qe=>new google.maps.KmlLayer({clickable:j.clickable,map:Qe,preserveViewport:j.preserveViewport,screenOverlays:j.screenOverlays,suppressInfoWindows:j.suppressInfoWindows,url:j.url,zIndex:j.zIndex}));this._layers.set(j,ye)}setOptions(j,ye){this._layers.get(j).then(Qe=>Qe.setOptions(ye))}deleteKmlLayer(j){this._layers.get(j).then(ye=>{ye.setMap(null),this._layers.delete(j)})}createEventObservable(j,ye){return new k.y(Qe=>{this._layers.get(ye).then(on=>{on.addListener(j,Gn=>this._zone.run(()=>Qe.next(Gn)))})})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})();var Bt;let ln=0,qt=Bt=class{constructor(pe){this._manager=pe,this._addedToManager=!1,this._id=(ln++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new f.vpe,this.defaultViewportChange=new f.vpe,this.statusChange=new f.vpe}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(pe){this._addedToManager&&this._updatePolygonOptions(pe)}_updatePolygonOptions(pe){const j=Object.keys(pe).filter(ye=>-1!==Bt._kmlLayerOptions.indexOf(ye)).reduce((ye,Qe)=>(ye[Qe]=pe[Qe].currentValue,ye),{});Object.keys(j).length>0&&this._manager.setOptions(this,j)}_addEventListeners(){[{name:"click",handler:j=>this.layerClick.emit(j)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(j=>{const ye=this._manager.createEventObservable(j.name,this).subscribe(j.handler);this._subscriptions.push(ye)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}};function st(ze){const pe=["insert_at","remove_at","set_at"];return Tn(j=>pe.map(ye=>ze.addListener(ye,(Qe,on)=>j.apply(ze,[{newArr:ze.getArray(),evName:ye,index:Qe,previous:on}]))),(j,ye)=>ye.forEach(Qe=>Qe.remove()))}qt.\u0275fac=function(pe){return new(pe||qt)(f.Y36(It))},qt.\u0275dir=f.lG2({type:qt,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[f.TTD]}),qt._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],qt.ctorParameters=()=>[{type:It}],z([(0,f.IIB)(),ee("design:type",Object)],qt.prototype,"clickable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],qt.prototype,"preserveViewport",void 0),z([(0,f.IIB)(),ee("design:type",Object)],qt.prototype,"screenOverlays",void 0),z([(0,f.IIB)(),ee("design:type",Object)],qt.prototype,"suppressInfoWindows",void 0),z([(0,f.IIB)(),ee("design:type",String)],qt.prototype,"url",void 0),z([(0,f.IIB)(),ee("design:type",Number)],qt.prototype,"zIndex",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],qt.prototype,"layerClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],qt.prototype,"defaultViewportChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],qt.prototype,"statusChange",void 0),qt=Bt=z([ee("design:paramtypes",[It])],qt);let Ie=(()=>{let ze=class{constructor(j,ye){this._mapsWrapper=j,this._zone=ye,this._polygons=new Map}addPolygon(j){const ye=this._mapsWrapper.createPolygon({clickable:j.clickable,draggable:j.draggable,editable:j.editable,fillColor:j.fillColor,fillOpacity:j.fillOpacity,geodesic:j.geodesic,paths:j.paths,strokeColor:j.strokeColor,strokeOpacity:j.strokeOpacity,strokeWeight:j.strokeWeight,visible:j.visible,zIndex:j.zIndex});this._polygons.set(j,ye)}updatePolygon(j){const ye=this._polygons.get(j);return null==ye?Promise.resolve():ye.then(Qe=>this._zone.run(()=>{Qe.setPaths(j.paths)}))}setPolygonOptions(j,ye){return this._polygons.get(j).then(Qe=>{Qe.setOptions(ye)})}deletePolygon(j){const ye=this._polygons.get(j);return null==ye?Promise.resolve():ye.then(Qe=>this._zone.run(()=>{Qe.setMap(null),this._polygons.delete(j)}))}getPath(j){return this._polygons.get(j).then(ye=>ye.getPath().getArray())}getPaths(j){return this._polygons.get(j).then(ye=>ye.getPaths().getArray().map(Qe=>Qe.getArray()))}createEventObservable(j,ye){return new k.y(Qe=>{this._polygons.get(ye).then(on=>{on.addListener(j,Gn=>this._zone.run(()=>Qe.next(Gn)))})})}createPathEventObservable(j){return Ge(this,void 0,void 0,function*(){const Qe=(yield this._polygons.get(j)).getPaths();return st(Qe).pipe((0,On.O)({newArr:Qe.getArray()}),(0,dn.w)(Gn=>(0,He.T)(...Gn.newArr.map((rr,Lr)=>st(rr).pipe((0,Bn.U)(gr=>({parentMVEvent:Gn,chMVCEvent:gr,pathIndex:Lr}))))).pipe((0,On.O)({parentMVEvent:Gn,chMVCEvent:null,pathIndex:null}))),(0,br.T)(1),(0,Bn.U)(({parentMVEvent:Gn,chMVCEvent:rr,pathIndex:Lr})=>{let gr;return rr?(gr={newArr:Gn.newArr.map(vr=>vr.getArray().map(ir=>ir.toJSON())),pathIndex:Lr,eventName:rr.evName,index:rr.index},rr.previous&&(gr.previous=rr.previous)):(gr={newArr:Gn.newArr.map(vr=>vr.getArray().map(ir=>ir.toJSON())),eventName:Gn.evName,index:Gn.index},Gn.previous&&(gr.previous=Gn.previous.getArray())),gr}))})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})();var Dt;let Ft=Dt=class{constructor(pe,j){this._mapsWrapper=pe,this._zone=j,this._polylines=new Map}static _convertPoints(pe){return pe._getPoints().map(ye=>({lat:ye.latitude,lng:ye.longitude}))}static _convertPath(pe){const j=google.maps.SymbolPath[pe];return"number"==typeof j?j:pe}static _convertIcons(pe){const j=pe._getIcons().map(ye=>({fixedRotation:ye.fixedRotation,offset:ye.offset,repeat:ye.repeat,icon:{anchor:new google.maps.Point(ye.anchorX,ye.anchorY),fillColor:ye.fillColor,fillOpacity:ye.fillOpacity,path:Dt._convertPath(ye.path),rotation:ye.rotation,scale:ye.scale,strokeColor:ye.strokeColor,strokeOpacity:ye.strokeOpacity,strokeWeight:ye.strokeWeight}}));return j.forEach(ye=>{Object.entries(ye).forEach(([Qe,on])=>{typeof on>"u"&&delete ye[Qe]}),(typeof ye.icon.anchor.x>"u"||typeof ye.icon.anchor.y>"u")&&delete ye.icon.anchor}),j}addPolyline(pe){const j=this._mapsWrapper.getNativeMap().then(()=>[Dt._convertPoints(pe),Dt._convertIcons(pe)]).then(([ye,Qe])=>this._mapsWrapper.createPolyline({clickable:pe.clickable,draggable:pe.draggable,editable:pe.editable,geodesic:pe.geodesic,strokeColor:pe.strokeColor,strokeOpacity:pe.strokeOpacity,strokeWeight:pe.strokeWeight,visible:pe.visible,zIndex:pe.zIndex,path:ye,icons:Qe}));this._polylines.set(pe,j)}updatePolylinePoints(pe){const j=Dt._convertPoints(pe),ye=this._polylines.get(pe);return null==ye?Promise.resolve():ye.then(Qe=>this._zone.run(()=>{Qe.setPath(j)}))}updateIconSequences(pe){return Ge(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const j=Dt._convertIcons(pe),ye=this._polylines.get(pe);if(null!=ye)return ye.then(Qe=>this._zone.run(()=>Qe.setOptions({icons:j})))})}setPolylineOptions(pe,j){return this._polylines.get(pe).then(ye=>{ye.setOptions(j)})}deletePolyline(pe){const j=this._polylines.get(pe);return null==j?Promise.resolve():j.then(ye=>this._zone.run(()=>{ye.setMap(null),this._polylines.delete(pe)}))}getMVCPath(pe){return Ge(this,void 0,void 0,function*(){return(yield this._polylines.get(pe)).getPath()})}getPath(pe){return Ge(this,void 0,void 0,function*(){return(yield this.getMVCPath(pe)).getArray()})}createEventObservable(pe,j){return new k.y(ye=>{this._polylines.get(j).then(Qe=>{Qe.addListener(pe,on=>this._zone.run(()=>ye.next(on)))})})}createPathEventObservable(pe){return Ge(this,void 0,void 0,function*(){return st(yield this.getMVCPath(pe))})}};Ft.\u0275fac=function(pe){return new(pe||Ft)(f.LFG(Nt),f.LFG(f.R0b))},Ft.\u0275prov=f.Yz7({token:Ft,factory:function(ze){return Ft.\u0275fac(ze)}}),Ft.ctorParameters=()=>[{type:Nt},{type:f.R0b}],Ft=Dt=z([ee("design:paramtypes",[Nt,f.R0b])],Ft);let pn=(()=>{let ze=class{constructor(j,ye){this._apiWrapper=j,this._zone=ye,this._rectangles=new Map}addRectangle(j){this._rectangles.set(j,this._apiWrapper.createRectangle({bounds:{north:j.north,east:j.east,south:j.south,west:j.west},clickable:j.clickable,draggable:j.draggable,editable:j.editable,fillColor:j.fillColor,fillOpacity:j.fillOpacity,strokeColor:j.strokeColor,strokeOpacity:j.strokeOpacity,strokePosition:j.strokePosition,strokeWeight:j.strokeWeight,visible:j.visible,zIndex:j.zIndex}))}removeRectangle(j){return this._rectangles.get(j).then(ye=>{ye.setMap(null),this._rectangles.delete(j)})}setOptions(j,ye){return this._rectangles.get(j).then(Qe=>Qe.setOptions(ye))}getBounds(j){return this._rectangles.get(j).then(ye=>ye.getBounds())}setBounds(j){return this._rectangles.get(j).then(ye=>ye.setBounds({north:j.north,east:j.east,south:j.south,west:j.west}))}setEditable(j){return this._rectangles.get(j).then(ye=>ye.setEditable(j.editable))}setDraggable(j){return this._rectangles.get(j).then(ye=>ye.setDraggable(j.draggable))}setVisible(j){return this._rectangles.get(j).then(ye=>ye.setVisible(j.visible))}createEventObservable(j,ye){return k.y.create(Qe=>{let on=null;return this._rectangles.get(ye).then(Gn=>{on=Gn.addListener(j,rr=>this._zone.run(()=>Qe.next(rr)))}),()=>{null!==on&&on.remove()}})}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Nt),f.LFG(f.R0b))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([ee("design:paramtypes",[Nt,f.R0b])],ze),ze})();var Qn;let Cn=Qn=class{constructor(pe,j,ye,Qe,on){this._elem=pe,this._mapsWrapper=j,this._platformId=ye,this._fitBoundsService=Qe,this._zone=on,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new f.vpe,this.mapRightClick=new f.vpe,this.mapDblClick=new f.vpe,this.centerChange=new f.vpe,this.boundsChange=new f.vpe,this.mapTypeIdChange=new f.vpe,this.idle=new f.vpe,this.zoomChange=new f.vpe,this.mapReady=new f.vpe,this.tilesLoaded=new f.vpe}ngOnInit(){if((0,ot.PM)(this._platformId))return;const pe=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(pe)}_initMapInstance(pe){this._mapsWrapper.createMap(pe,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(j=>this.mapReady.emit(j)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(pe=>pe.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(pe){this._updateMapOptionsChanges(pe),this._updatePosition(pe)}_updateMapOptionsChanges(pe){let j={};Object.keys(pe).filter(Qe=>-1!==Qn._mapOptionsAttributes.indexOf(Qe)).forEach(Qe=>{j[Qe]=pe[Qe].currentValue}),this._mapsWrapper.setMapOptions(j)}triggerResize(pe=!0){return new Promise(j=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{pe&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),j()}))})}_updatePosition(pe){if(null!=pe.latitude||null!=pe.longitude||pe.fitBounds){if("fitBounds"in pe)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){let pe={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(pe):this._mapsWrapper.setCenter(pe)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(pe=>{this._zone.run(()=>this._updateBounds(pe,this.fitBoundsPadding))})})}_updateBounds(pe,j){if(pe){if(this._isLatLngBoundsLiteral(pe)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){const ye=new google.maps.LatLngBounds;ye.union(pe),pe=ye}if(this.usePanning)return void this._mapsWrapper.panToBounds(pe,j);this._mapsWrapper.fitBounds(pe,j)}}_isLatLngBoundsLiteral(pe){return null!=pe&&void 0===pe.extend}_handleMapCenterChange(){const pe=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(j=>{this.latitude=j.lat(),this.longitude=j.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(pe)}_handleBoundsChange(){const pe=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(j=>{this.boundsChange.emit(j)})});this._observableSubscriptions.push(pe)}_handleMapTypeIdChange(){const pe=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(j=>{this.mapTypeIdChange.emit(j)})});this._observableSubscriptions.push(pe)}_handleMapZoomChange(){const pe=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(j=>{this.zoom=j,this.zoomChange.emit(j)})});this._observableSubscriptions.push(pe)}_handleIdleEvent(){const pe=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(pe)}_handleTilesLoadedEvent(){const pe=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(pe)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(j=>{const ye=this._mapsWrapper.subscribeToMapEvent(j.name).subscribe(Qe=>{let on={coords:{lat:Qe.latLng.lat(),lng:Qe.latLng.lng()},placeId:Qe.placeId};on.placeId&&!this.showDefaultInfoWindow&&Qe.stop(),j.emitter.emit(on)});this._observableSubscriptions.push(ye)})}};var lr;Cn.\u0275fac=function(pe){return new(pe||Cn)(f.Y36(f.SBq),f.Y36(Nt),f.Y36(f.Lbi),f.Y36(Ce),f.Y36(f.R0b))},Cn.\u0275cmp=f.Xpm({type:Cn,selectors:[["agm-map"]],hostVars:2,hostBindings:function(pe,j){2&pe&&f.ekj("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[f._Bn([Hn,Jn,Jn,Ce,Nt,tt,It,ct,le,Ie,Ft,pn]),f.TTD],ngContentSelectors:Se,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(pe,j){1&pe&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),Cn._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],Cn.ctorParameters=()=>[{type:f.SBq},{type:Nt},{type:Object,decorators:[{type:f.tBr,args:[f.Lbi]}]},{type:Ce},{type:f.R0b}],z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"longitude",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"latitude",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"zoom",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Cn.prototype,"minZoom",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Cn.prototype,"maxZoom",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Cn.prototype,"controlSize",void 0),z([(0,f.IIB)("mapDraggable"),ee("design:type",Object)],Cn.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"disableDoubleClickZoom",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"disableDefaultUI",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"scrollwheel",void 0),z([(0,f.IIB)(),ee("design:type",String)],Cn.prototype,"backgroundColor",void 0),z([(0,f.IIB)(),ee("design:type",String)],Cn.prototype,"draggableCursor",void 0),z([(0,f.IIB)(),ee("design:type",String)],Cn.prototype,"draggingCursor",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"keyboardShortcuts",void 0),z([(0,f.IIB)(),ee("design:type",Boolean)],Cn.prototype,"zoomControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"zoomControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Array)],Cn.prototype,"styles",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"usePanning",void 0),z([(0,f.IIB)(),ee("design:type",Boolean)],Cn.prototype,"streetViewControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"streetViewControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"fitBounds",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"fitBoundsPadding",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"scaleControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"scaleControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"mapTypeControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"mapTypeControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"panControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"panControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"rotateControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"rotateControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"fullscreenControl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"fullscreenControlOptions",void 0),z([(0,f.IIB)(),ee("design:type",String)],Cn.prototype,"mapTypeId",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"clickableIcons",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"showDefaultInfoWindow",void 0),z([(0,f.IIB)(),ee("design:type",String)],Cn.prototype,"gestureHandling",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"tilt",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Cn.prototype,"restriction",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"mapClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"mapRightClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"mapDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"centerChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"boundsChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"mapTypeIdChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"idle",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"zoomChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"mapReady",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Cn.prototype,"tilesLoaded",void 0),Cn=Qn=z([Xe(2,(0,f.tBr)(f.Lbi)),ee("design:paramtypes",[f.SBq,Nt,Object,Ce,f.R0b])],Cn);let ei=0,it=lr=class{constructor(pe){this._markerManager=pe,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new f.vpe,this.markerClick=new f.vpe,this.markerDblClick=new f.vpe,this.markerRightClick=new f.vpe,this.dragStart=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.mouseOver=new f.vpe,this.mouseOut=new f.vpe,this.infoWindow=new f.n_E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ut.t(1),this._id=(ei++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(pe=>{pe.hostMarker=this})}ngOnChanges(pe){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(pe.latitude||pe.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),pe.title&&this._markerManager.updateTitle(this),pe.label&&this._markerManager.updateLabel(this),pe.draggable&&this._markerManager.updateDraggable(this),pe.iconUrl&&this._markerManager.updateIcon(this),pe.opacity&&this._markerManager.updateOpacity(this),pe.visible&&this._markerManager.updateVisible(this),pe.zIndex&&this._markerManager.updateZIndex(this),pe.clickable&&this._markerManager.updateClickable(this),pe.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const pe=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(vr=>vr.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(pe);const j=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(j);const ye=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(ye);const Qe=this._markerManager.createEventObservable("dragstart",this).subscribe(vr=>{this.dragStart.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(Qe);const on=this._markerManager.createEventObservable("drag",this).subscribe(vr=>{this.drag.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(on);const Gn=this._markerManager.createEventObservable("dragend",this).subscribe(vr=>{this.dragEnd.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(Gn);const rr=this._markerManager.createEventObservable("mouseover",this).subscribe(vr=>{this.mouseOver.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(rr);const Lr=this._markerManager.createEventObservable("mouseout",this).subscribe(vr=>{this.mouseOut.emit({coords:{lat:vr.latLng.lat(),lng:vr.latLng.lng()}})});this._observableSubscriptions.push(Lr);const gr=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(gr)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(pe=>pe.unsubscribe())}};var pt;it.\u0275fac=function(pe){return new(pe||it)(f.Y36(le))},it.\u0275dir=f.lG2({type:it,selectors:[["agm-marker"]],contentQueries:function(pe,j,ye){if(1&pe&&f.Suo(ye,Oe,4),2&pe){let Qe;f.iGM(Qe=f.CRH())&&(j.infoWindow=Qe)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[f._Bn([{provide:Vt,useExisting:(0,f.Gpc)(()=>lr)}]),f.TTD]}),it.ctorParameters=()=>[{type:le}],z([(0,f.IIB)(),ee("design:type",Number)],it.prototype,"latitude",void 0),z([(0,f.IIB)(),ee("design:type",Number)],it.prototype,"longitude",void 0),z([(0,f.IIB)(),ee("design:type",String)],it.prototype,"title",void 0),z([(0,f.IIB)(),ee("design:type",Object)],it.prototype,"label",void 0),z([(0,f.IIB)("markerDraggable"),ee("design:type",Object)],it.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",String)],it.prototype,"iconUrl",void 0),z([(0,f.IIB)(),ee("design:type",Object)],it.prototype,"visible",void 0),z([(0,f.IIB)(),ee("design:type",Object)],it.prototype,"openInfoWindow",void 0),z([(0,f.IIB)(),ee("design:type",Object)],it.prototype,"opacity",void 0),z([(0,f.IIB)(),ee("design:type",Object)],it.prototype,"zIndex",void 0),z([(0,f.IIB)("markerClickable"),ee("design:type",Object)],it.prototype,"clickable",void 0),z([(0,f.IIB)(),ee("design:type",String)],it.prototype,"animation",void 0),z([(0,f.r_U)(),ee("design:type",Object)],it.prototype,"animationChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"markerClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"markerDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"markerRightClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"dragStart",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"drag",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"dragEnd",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"mouseOver",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],it.prototype,"mouseOut",void 0),z([(0,f.AcB)(Oe),ee("design:type",f.n_E)],it.prototype,"infoWindow",void 0),it=lr=z([ee("design:paramtypes",[le])],it);let Tt=pt=class{constructor(pe){this._polygonManager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new f.vpe,this.polyDblClick=new f.vpe,this.polyDrag=new f.vpe,this.polyDragEnd=new f.vpe,this.polyDragStart=new f.vpe,this.polyMouseDown=new f.vpe,this.polyMouseMove=new f.vpe,this.polyMouseOut=new f.vpe,this.polyMouseOver=new f.vpe,this.polyMouseUp=new f.vpe,this.polyRightClick=new f.vpe,this.polyPathsChange=new f.vpe,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(pe){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(pe)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:j=>this.polyClick.emit(j)},{name:"dblclick",handler:j=>this.polyDblClick.emit(j)},{name:"drag",handler:j=>this.polyDrag.emit(j)},{name:"dragend",handler:j=>this.polyDragEnd.emit(j)},{name:"dragstart",handler:j=>this.polyDragStart.emit(j)},{name:"mousedown",handler:j=>this.polyMouseDown.emit(j)},{name:"mousemove",handler:j=>this.polyMouseMove.emit(j)},{name:"mouseout",handler:j=>this.polyMouseOut.emit(j)},{name:"mouseover",handler:j=>this.polyMouseOver.emit(j)},{name:"mouseup",handler:j=>this.polyMouseUp.emit(j)},{name:"rightclick",handler:j=>this.polyRightClick.emit(j)}].forEach(j=>{const ye=this._polygonManager.createEventObservable(j.name,this).subscribe(j.handler);this._subscriptions.push(ye)}),this._polygonManager.createPathEventObservable(this).then(j=>{const ye=j.subscribe(Qe=>this.polyPathsChange.emit(Qe));this._subscriptions.push(ye)})}_updatePolygonOptions(pe){return Object.keys(pe).filter(j=>-1!==pt._polygonOptionsAttributes.indexOf(j)).reduce((j,ye)=>(j[ye]=pe[ye].currentValue,j),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};Tt.\u0275fac=function(pe){return new(pe||Tt)(f.Y36(Ie))},Tt.\u0275dir=f.lG2({type:Tt,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[f.TTD]}),Tt._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],Tt.ctorParameters=()=>[{type:Ie}],z([(0,f.IIB)(),ee("design:type",Object)],Tt.prototype,"clickable",void 0),z([(0,f.IIB)("polyDraggable"),ee("design:type",Object)],Tt.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Tt.prototype,"editable",void 0),z([(0,f.IIB)(),ee("design:type",String)],Tt.prototype,"fillColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Tt.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Tt.prototype,"geodesic",void 0),z([(0,f.IIB)(),ee("design:type",Array)],Tt.prototype,"paths",void 0),z([(0,f.IIB)(),ee("design:type",String)],Tt.prototype,"strokeColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Tt.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Tt.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),ee("design:type",Boolean)],Tt.prototype,"visible",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Tt.prototype,"zIndex",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyDrag",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyDragEnd",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyDragStart",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyMouseDown",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyMouseMove",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyMouseOut",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyMouseOver",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyMouseUp",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Tt.prototype,"polyRightClick",void 0),z([(0,f.r_U)(),ee("design:type",Object)],Tt.prototype,"polyPathsChange",void 0),Tt=pt=z([ee("design:paramtypes",[Ie])],Tt);let Gt=(()=>{let ze=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};return ze.\u0275fac=function(j){return new(j||ze)},ze.\u0275dir=f.lG2({type:ze,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),z([(0,f.IIB)(),ee("design:type",Boolean)],ze.prototype,"fixedRotation",void 0),z([(0,f.IIB)(),ee("design:type",String)],ze.prototype,"offset",void 0),z([(0,f.IIB)(),ee("design:type",String)],ze.prototype,"repeat",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"anchorX",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"anchorY",void 0),z([(0,f.IIB)(),ee("design:type",String)],ze.prototype,"fillColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),ee("design:type",String)],ze.prototype,"path",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"rotation",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"scale",void 0),z([(0,f.IIB)(),ee("design:type",String)],ze.prototype,"strokeColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),ee("design:type",Number)],ze.prototype,"strokeWeight",void 0),ze})();var Re;let q=Re=class{constructor(){this.positionChanged=new f.vpe}ngOnChanges(pe){(pe.latitude||pe.longitude)&&this.positionChanged.emit({lat:pe.latitude?pe.latitude.currentValue:this.latitude,lng:pe.longitude?pe.longitude.currentValue:this.longitude})}getFitBoundsDetails$(){return this.positionChanged.pipe((0,On.O)({lat:this.latitude,lng:this.longitude}),(0,Bn.U)(pe=>({latLng:pe})))}};var _e;q.\u0275fac=function(pe){return new(pe||q)},q.\u0275dir=f.lG2({type:q,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[f._Bn([{provide:Vt,useExisting:(0,f.Gpc)(()=>Re)}]),f.TTD]}),z([(0,f.IIB)(),ee("design:type",Number)],q.prototype,"latitude",void 0),z([(0,f.IIB)(),ee("design:type",Number)],q.prototype,"longitude",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],q.prototype,"positionChanged",void 0),q=Re=z([ee("design:paramtypes",[])],q);let qe=0,gt=_e=class{constructor(pe){this._polylineManager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new f.vpe,this.lineDblClick=new f.vpe,this.lineDrag=new f.vpe,this.lineDragEnd=new f.vpe,this.lineDragStart=new f.vpe,this.lineMouseDown=new f.vpe,this.lineMouseMove=new f.vpe,this.lineMouseOut=new f.vpe,this.lineMouseOver=new f.vpe,this.lineMouseUp=new f.vpe,this.lineRightClick=new f.vpe,this.polyPathChange=new f.vpe,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(qe++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(ye=>{const Qe=ye.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(Qe)}),this._polylineAddedToManager||this._init();const pe=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(pe),this._polylineManager.updatePolylinePoints(this);const j=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(j)}ngOnChanges(pe){if(!this._polylineAddedToManager)return void this._init();let j={};Object.keys(pe).filter(Qe=>-1!==_e._polylineOptionsAttributes.indexOf(Qe)).forEach(Qe=>j[Qe]=pe[Qe].currentValue),this._polylineManager.setPolylineOptions(this,j)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:j=>this.lineClick.emit(j)},{name:"dblclick",handler:j=>this.lineDblClick.emit(j)},{name:"drag",handler:j=>this.lineDrag.emit(j)},{name:"dragend",handler:j=>this.lineDragEnd.emit(j)},{name:"dragstart",handler:j=>this.lineDragStart.emit(j)},{name:"mousedown",handler:j=>this.lineMouseDown.emit(j)},{name:"mousemove",handler:j=>this.lineMouseMove.emit(j)},{name:"mouseout",handler:j=>this.lineMouseOut.emit(j)},{name:"mouseover",handler:j=>this.lineMouseOver.emit(j)},{name:"mouseup",handler:j=>this.lineMouseUp.emit(j)},{name:"rightclick",handler:j=>this.lineRightClick.emit(j)}].forEach(j=>{const ye=this._polylineManager.createEventObservable(j.name,this).subscribe(j.handler);this._subscriptions.push(ye)}),this._polylineManager.createPathEventObservable(this).then(j=>{const ye=j.subscribe(Qe=>this.polyPathChange.emit(Qe));this._subscriptions.push(ye)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(pe=>pe.unsubscribe())}};var kt;gt.\u0275fac=function(pe){return new(pe||gt)(f.Y36(Ft))},gt.\u0275dir=f.lG2({type:gt,selectors:[["agm-polyline"]],contentQueries:function(pe,j,ye){if(1&pe&&(f.Suo(ye,q,4),f.Suo(ye,Gt,4)),2&pe){let Qe;f.iGM(Qe=f.CRH())&&(j.points=Qe),f.iGM(Qe=f.CRH())&&(j.iconSequences=Qe)}},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[f.TTD]}),gt._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],gt.ctorParameters=()=>[{type:Ft}],z([(0,f.IIB)(),ee("design:type",Object)],gt.prototype,"clickable",void 0),z([(0,f.IIB)("polylineDraggable"),ee("design:type",Object)],gt.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],gt.prototype,"editable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],gt.prototype,"geodesic",void 0),z([(0,f.IIB)(),ee("design:type",String)],gt.prototype,"strokeColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],gt.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),ee("design:type",Number)],gt.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),ee("design:type",Object)],gt.prototype,"visible",void 0),z([(0,f.IIB)(),ee("design:type",Number)],gt.prototype,"zIndex",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineDrag",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineDragEnd",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineDragStart",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineMouseDown",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineMouseMove",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineMouseOut",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineMouseOver",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineMouseUp",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],gt.prototype,"lineRightClick",void 0),z([(0,f.r_U)(),ee("design:type",Object)],gt.prototype,"polyPathChange",void 0),z([(0,f.AcB)(q),ee("design:type",f.n_E)],gt.prototype,"points",void 0),z([(0,f.AcB)(Gt),ee("design:type",f.n_E)],gt.prototype,"iconSequences",void 0),gt=_e=z([ee("design:paramtypes",[Ft])],gt);let Lt=kt=class{constructor(pe){this._manager=pe,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new f.vpe,this.rectangleClick=new f.vpe,this.rectangleDblClick=new f.vpe,this.drag=new f.vpe,this.dragEnd=new f.vpe,this.dragStart=new f.vpe,this.mouseDown=new f.vpe,this.mouseMove=new f.vpe,this.mouseOut=new f.vpe,this.mouseOver=new f.vpe,this.mouseUp=new f.vpe,this.rightClick=new f.vpe,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(pe){this._rectangleAddedToManager&&((pe.north||pe.east||pe.south||pe.west)&&this._manager.setBounds(this),pe.editable&&this._manager.setEditable(this),pe.draggable&&this._manager.setDraggable(this),pe.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(pe))}_updateRectangleOptionsChanges(pe){let j={},ye=Object.keys(pe).filter(Qe=>-1!==kt._mapOptions.indexOf(Qe));ye.forEach(Qe=>{j[Qe]=pe[Qe].currentValue}),ye.length>0&&this._manager.setOptions(this,j)}_registerEventListeners(){let pe=new Map;pe.set("bounds_changed",this.boundsChange),pe.set("click",this.rectangleClick),pe.set("dblclick",this.rectangleDblClick),pe.set("drag",this.drag),pe.set("dragend",this.dragEnd),pe.set("dragStart",this.dragStart),pe.set("mousedown",this.mouseDown),pe.set("mousemove",this.mouseMove),pe.set("mouseout",this.mouseOut),pe.set("mouseover",this.mouseOver),pe.set("mouseup",this.mouseUp),pe.set("rightclick",this.rightClick),pe.forEach((j,ye)=>{this._eventSubscriptions.push(this._manager.createEventObservable(ye,this).subscribe(Qe=>{"bounds_changed"===ye?this._manager.getBounds(this).then(on=>j.emit({north:on.getNorthEast().lat(),east:on.getNorthEast().lng(),south:on.getSouthWest().lat(),west:on.getSouthWest().lng()})):j.emit({coords:{lat:Qe.latLng.lat(),lng:Qe.latLng.lng()}})}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(pe){pe.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};Lt.\u0275fac=function(pe){return new(pe||Lt)(f.Y36(pn))},Lt.\u0275dir=f.lG2({type:Lt,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[f.TTD]}),Lt._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Lt.ctorParameters=()=>[{type:pn}],z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"north",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"east",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"south",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"west",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Lt.prototype,"clickable",void 0),z([(0,f.IIB)("rectangleDraggable"),ee("design:type",Object)],Lt.prototype,"draggable",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Lt.prototype,"editable",void 0),z([(0,f.IIB)(),ee("design:type",String)],Lt.prototype,"fillColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"fillOpacity",void 0),z([(0,f.IIB)(),ee("design:type",String)],Lt.prototype,"strokeColor",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"strokeOpacity",void 0),z([(0,f.IIB)(),ee("design:type",String)],Lt.prototype,"strokePosition",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Lt.prototype,"strokeWeight",void 0),z([(0,f.IIB)(),ee("design:type",Object)],Lt.prototype,"visible",void 0),z([(0,f.IIB)(),ee("design:type",Number)],Lt.prototype,"zIndex",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"boundsChange",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"rectangleClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"rectangleDblClick",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"drag",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"dragEnd",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"dragStart",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"mouseDown",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"mouseMove",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"mouseOut",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"mouseOver",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"mouseUp",void 0),z([(0,f.r_U)(),ee("design:type",f.vpe)],Lt.prototype,"rightClick",void 0),Lt=kt=z([ee("design:paramtypes",[pn])],Lt);var ai=(()=>{return(ze=ai||(ai={})).ERROR="ERROR",ze.INVALID_REQUEST="INVALID_REQUEST",ze.OK="OK",ze.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",ze.REQUEST_DENIED="REQUEST_DENIED",ze.UNKNOWN_ERROR="UNKNOWN_ERROR",ze.ZERO_RESULTS="ZERO_RESULTS",ai;var ze})();let Dr=class{constructor(pe){const j=new k.y(ye=>{pe.load().then(()=>ye.next())}).pipe((0,Bn.U)(()=>this._createGeocoder()),function gn(ze,pe){const j=(0,ge.m)(ze)?ze:()=>ze;return(0,ge.m)(pe)?function Qt(ze,pe=Yt){const{connector:j}=pe;return(0,sn.e)((ye,Qe)=>{const on=j();(0,Fe.Xf)(ze(function dt(ze){return new k.y(pe=>ze.subscribe(pe))}(on))).subscribe(Qe),Qe.add(ye.subscribe(on))})}(pe,{connector:j}):ye=>new hn.c(ye,j)}(new ut.t(1)));j.connect(),this.geocoder$=j}geocode(pe){return this.geocoder$.pipe((0,dn.w)(j=>this._getGoogleResults(j,pe)))}_getGoogleResults(pe,j){return Ue(pe.geocode)(j).pipe((0,dn.w)(([Qe,on])=>on===ai.OK?(0,ht.of)(Qe):(0,Et._)(on)))}_createGeocoder(){return new google.maps.Geocoder}};Dr.\u0275fac=function(pe){return new(pe||Dr)(f.LFG(Mt))},Dr.\u0275prov=f.Yz7({token:Dr,factory:function(ze){return Dr.\u0275fac(ze)},providedIn:"root"}),Dr.ngInjectableDef=(0,f.Yz7)({factory:function(){return new Dr((0,f.LFG)(Mt))},token:Dr,providedIn:"root"}),Dr=z([ee("design:paramtypes",[Mt])],Dr);class Ri{getNativeWindow(){return window}}class Ni{getNativeDocument(){return document}}const Mr=[Ri,Ni];var Wi=(()=>{return(ze=Wi||(Wi={}))[ze.HTTP=1]="HTTP",ze[ze.HTTPS=2]="HTTPS",ze[ze.AUTO=3]="AUTO",Wi;var ze})();const Fi=new f.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let mo=(()=>{let ze=class extends Mt{constructor(j=null,ye,Qe,on){super(),this.localeId=on,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=j||{},this._windowRef=ye,this._documentRef=Qe}load(){const j=this._windowRef.getNativeWindow();if(j.google&&j.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const ye=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(ye)return this._assignScriptLoadingPromise(ye),this._scriptLoadingPromise;const Qe=this._documentRef.getNativeDocument().createElement("script");return Qe.type="text/javascript",Qe.async=!0,Qe.defer=!0,Qe.id=this._SCRIPT_ID,Qe.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(Qe),this._documentRef.getNativeDocument().body.appendChild(Qe),this._scriptLoadingPromise}_assignScriptLoadingPromise(j){this._scriptLoadingPromise=new Promise((ye,Qe)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{ye()},j.onerror=on=>{Qe(on)}})}_getScriptSrc(j){let Qe;switch(this._config&&this._config.protocol||Wi.HTTPS){case Wi.AUTO:Qe="";break;case Wi.HTTP:Qe="http:";break;case Wi.HTTPS:Qe="https:"}const Gn={v:this._config.apiVersion||"quarterly",callback:j,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${Qe}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(Gn).filter(Lr=>null!=Gn[Lr]).filter(Lr=>!Array.isArray(Gn[Lr])||Array.isArray(Gn[Lr])&&Gn[Lr].length>0).map(Lr=>{let gr=Gn[Lr];return Array.isArray(gr)?{key:Lr,value:gr.join(",")}:{key:Lr,value:Gn[Lr]}}).map(Lr=>`${Lr.key}=${Lr.value}`).join("&")}`}};return ze.\u0275fac=function(j){return new(j||ze)(f.LFG(Fi,8),f.LFG(Ri),f.LFG(Ni),f.LFG(f.soG))},ze.\u0275prov=f.Yz7({token:ze,factory:function(pe){return ze.\u0275fac(pe)}}),ze=z([Xe(0,(0,f.FiY)()),Xe(0,(0,f.tBr)(Fi)),Xe(3,(0,f.tBr)(f.soG)),ee("design:paramtypes",[Object,Ri,Ni,String])],ze),ze})();var Mi;let Gi=Mi=class{static forRoot(pe){return{ngModule:Mi,providers:[...Mr,{provide:Mt,useClass:mo},{provide:Fi,useValue:pe}]}}};Gi.\u0275fac=function(pe){return new(pe||Gi)},Gi.\u0275mod=f.oAB({type:Gi}),Gi.\u0275inj=f.cJS({})},20454:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{factory:()=>Ce,getGlobalVars:()=>cn,registerAnalytics:()=>St,resetGlobalVars:()=>Ir,settings:()=>Pt});var Y=function(){return Y=Object.assign||function(It){for(var Bt,ln=1,qt=arguments.length;ln<qt;ln++)for(var st in Bt=arguments[ln])Object.prototype.hasOwnProperty.call(Bt,st)&&(It[st]=Bt[st]);return It},Y.apply(this,arguments)};function Ge(Oe,It,Bt,ln){return new(Bt||(Bt=Promise))(function(st,rt){function Ie(pn){try{Ft(ln.next(pn))}catch(Qn){rt(Qn)}}function Dt(pn){try{Ft(ln.throw(pn))}catch(Qn){rt(Qn)}}function Ft(pn){pn.done?st(pn.value):function qt(st){return st instanceof Bt?st:new Bt(function(rt){rt(st)})}(pn.value).then(Ie,Dt)}Ft((ln=ln.apply(Oe,It||[])).next())})}function oe(Oe,It){var ln,qt,st,rt,Bt={label:0,sent:function(){if(1&st[0])throw st[1];return st[1]},trys:[],ops:[]};return rt={next:Ie(0),throw:Ie(1),return:Ie(2)},"function"==typeof Symbol&&(rt[Symbol.iterator]=function(){return this}),rt;function Ie(Ft){return function(pn){return function Dt(Ft){if(ln)throw new TypeError("Generator is already executing.");for(;Bt;)try{if(ln=1,qt&&(st=2&Ft[0]?qt.return:Ft[0]?qt.throw||((st=qt.return)&&st.call(qt),0):qt.next)&&!(st=st.call(qt,Ft[1])).done)return st;switch(qt=0,st&&(Ft=[2&Ft[0],st.value]),Ft[0]){case 0:case 1:st=Ft;break;case 4:return Bt.label++,{value:Ft[1],done:!1};case 5:Bt.label++,qt=Ft[1],Ft=[0];continue;case 7:Ft=Bt.ops.pop(),Bt.trys.pop();continue;default:if(!(st=(st=Bt.trys).length>0&&st[st.length-1])&&(6===Ft[0]||2===Ft[0])){Bt=0;continue}if(3===Ft[0]&&(!st||Ft[1]>st[0]&&Ft[1]<st[3])){Bt.label=Ft[1];break}if(6===Ft[0]&&Bt.label<st[1]){Bt.label=st[1],st=Ft;break}if(st&&Bt.label<st[2]){Bt.label=st[2],Bt.ops.push(Ft);break}st[2]&&Bt.ops.pop(),Bt.trys.pop();continue}Ft=It.call(Oe,Bt)}catch(pn){Ft=[6,pn],qt=0}finally{ln=st=0}if(5&Ft[0])throw Ft[1];return{value:Ft[0]?Ft[1]:void 0,done:!0}}([Ft,pn])}}}var f=F(39278),D=(F(78660),F(64003)),G=F(1270),J=F(46355),N="firebase_id",ge="origin",Ke=6e4,Tn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",He="https://www.googletagmanager.com/gtag/js",ut=(()=>{return(Oe=ut||(ut={})).EVENT="event",Oe.SET="set",Oe.CONFIG="config",ut;var Oe})(),at=(()=>{return(Oe=at||(at={})).ADD_SHIPPING_INFO="add_shipping_info",Oe.ADD_PAYMENT_INFO="add_payment_info",Oe.ADD_TO_CART="add_to_cart",Oe.ADD_TO_WISHLIST="add_to_wishlist",Oe.BEGIN_CHECKOUT="begin_checkout",Oe.CHECKOUT_PROGRESS="checkout_progress",Oe.EXCEPTION="exception",Oe.GENERATE_LEAD="generate_lead",Oe.LOGIN="login",Oe.PAGE_VIEW="page_view",Oe.PURCHASE="purchase",Oe.REFUND="refund",Oe.REMOVE_FROM_CART="remove_from_cart",Oe.SCREEN_VIEW="screen_view",Oe.SEARCH="search",Oe.SELECT_CONTENT="select_content",Oe.SELECT_ITEM="select_item",Oe.SELECT_PROMOTION="select_promotion",Oe.SET_CHECKOUT_OPTION="set_checkout_option",Oe.SHARE="share",Oe.SIGN_UP="sign_up",Oe.TIMING_COMPLETE="timing_complete",Oe.VIEW_CART="view_cart",Oe.VIEW_ITEM="view_item",Oe.VIEW_ITEM_LIST="view_item_list",Oe.VIEW_PROMOTION="view_promotion",Oe.VIEW_SEARCH_RESULTS="view_search_results",at;var Oe})(),ht=new D.Logger("@firebase/analytics");function bt(Oe,It,Bt,ln,qt,st){return Ge(this,void 0,void 0,function(){var rt,Ie,Dt,Ft;return oe(this,function(pn){switch(pn.label){case 0:rt=ln[qt],pn.label=1;case 1:return pn.trys.push([1,7,,8]),rt?[4,It[rt]]:[3,3];case 2:return pn.sent(),[3,6];case 3:return[4,Promise.all(Bt)];case 4:return Ie=pn.sent(),(Dt=Ie.find(function(Qn){return Qn.measurementId===qt}))?[4,It[Dt.appId]]:[3,6];case 5:pn.sent(),pn.label=6;case 6:return[3,8];case 7:return Ft=pn.sent(),ht.error(Ft),[3,8];case 8:return Oe(ut.CONFIG,qt,st),[2]}})})}function sn(Oe,It,Bt,ln,qt){return Ge(this,void 0,void 0,function(){var st,rt,Ie,Dt,Ft,pn,lr;return oe(this,function(ei){switch(ei.label){case 0:return ei.trys.push([0,4,,5]),st=[],qt&&qt.send_to?(rt=qt.send_to,Array.isArray(rt)||(rt=[rt]),[4,Promise.all(Bt)]):[3,2];case 1:for(Ie=ei.sent(),Dt=function(it){var pt=Ie.find(function(Gt){return Gt.measurementId===it}),Tt=pt&&It[pt.appId];if(!Tt)return st=[],"break";st.push(Tt)},Ft=0,pn=rt;Ft<pn.length&&"break"!==Dt(pn[Ft]);Ft++);ei.label=2;case 2:return 0===st.length&&(st=Object.values(It)),[4,Promise.all(st)];case 3:return ei.sent(),Oe(ut.EVENT,ln,qt||{}),[3,5];case 4:return lr=ei.sent(),ht.error(lr),[3,5];case 5:return[2]}})})}var dn,Bn=((dn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",dn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",dn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",dn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",dn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",dn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",dn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",dn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',dn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',dn),xn=new G.ErrorFactory("analytics","Analytics",Bn),$n=30,zn=1e3,br=new(function(){function Oe(It,Bt){void 0===It&&(It={}),void 0===Bt&&(Bt=zn),this.throttleMetadata=It,this.intervalMillis=Bt}return Oe.prototype.getThrottleMetadata=function(It){return this.throttleMetadata[It]},Oe.prototype.setThrottleMetadata=function(It,Bt){this.throttleMetadata[It]=Bt},Oe.prototype.deleteThrottleMetadata=function(It){delete this.throttleMetadata[It]},Oe}());function hn(Oe){return new Headers({Accept:"application/json","x-goog-api-key":Oe})}function Fe(Oe){var It;return Ge(this,void 0,void 0,function(){var Bt,qt,st,rt,Ie,Dt;return oe(this,function(pn){switch(pn.label){case 0:return Bt=Oe.appId,qt={method:"GET",headers:hn(Oe.apiKey)},st=Tn.replace("{app-id}",Bt),[4,fetch(st,qt)];case 1:if(200===(rt=pn.sent()).status||304===rt.status)return[3,6];Ie="",pn.label=2;case 2:return pn.trys.push([2,4,,5]),[4,rt.json()];case 3:return Dt=pn.sent(),!(null===(It=Dt.error)||void 0===It)&&It.message&&(Ie=Dt.error.message),[3,5];case 4:return pn.sent(),[3,5];case 5:throw xn.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Ie});case 6:return[2,rt.json()]}})})}function Yt(Oe,It,Bt,ln){var qt=It.throttleEndTimeMillis,st=It.backoffCount;return void 0===ln&&(ln=br),Ge(this,void 0,void 0,function(){var rt,Ie,Dt,Ft,pn,Qn,Cn;return oe(this,function(lr){switch(lr.label){case 0:rt=Oe.appId,Ie=Oe.measurementId,lr.label=1;case 1:return lr.trys.push([1,3,,4]),[4,Qt(Bt,qt)];case 2:return lr.sent(),[3,4];case 3:if(Dt=lr.sent(),Ie)return ht.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Ie+' provided in the "measurementId" field in the local Firebase config. ['+Dt.message+"]"),[2,{appId:rt,measurementId:Ie}];throw Dt;case 4:return lr.trys.push([4,6,,7]),[4,Fe(Oe)];case 5:return Ft=lr.sent(),ln.deleteThrottleMetadata(rt),[2,Ft];case 6:if(!function gn(Oe){if(!(Oe instanceof G.FirebaseError))return!1;var It=Number(Oe.httpStatus);return 429===It||500===It||503===It||504===It}(pn=lr.sent())){if(ln.deleteThrottleMetadata(rt),Ie)return ht.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Ie+' provided in the "measurementId" field in the local Firebase config. ['+pn.message+"]"),[2,{appId:rt,measurementId:Ie}];throw pn}return Qn=503===Number(pn.httpStatus)?(0,G.calculateBackoffMillis)(st,ln.intervalMillis,$n):(0,G.calculateBackoffMillis)(st,ln.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+Qn,backoffCount:st+1},ln.setThrottleMetadata(rt,Cn),ht.debug("Calling attemptFetch again in "+Qn+" millis"),[2,Yt(Oe,Cn,Bt,ln)];case 7:return[2]}})})}function Qt(Oe,It){return new Promise(function(Bt,ln){var qt=Math.max(It-Date.now(),0),st=setTimeout(Bt,qt);Oe.addEventListener(function(){clearTimeout(st),ln(xn.create("fetch-throttle",{throttleEndTimeMillis:It}))})})}var ot=function(){function Oe(){this.listeners=[]}return Oe.prototype.addEventListener=function(It){this.listeners.push(It)},Oe.prototype.abort=function(){this.listeners.forEach(function(It){return It()})},Oe}();var Rn,kn,Nt={},ct=[],wn={},An="dataLayer",Hn="gtag",Jn=!1;function Ir(Oe,It,Bt){void 0===Oe&&(Oe=!1),void 0===It&&(It={}),void 0===Bt&&(Bt=[]),Jn=Oe,Nt=It,ct=Bt,An="dataLayer",Hn="gtag"}function cn(){return{initializationPromisesMap:Nt,dynamicConfigPromisesList:ct}}function Pt(Oe){if(Jn)throw xn.create("already-initialized");Oe.dataLayerName&&(An=Oe.dataLayerName),Oe.gtagName&&(Hn=Oe.gtagName)}function Ce(Oe,It){!function Vt(){var Oe=[];if((0,G.isBrowserExtension)()&&Oe.push("This is a browser extension environment."),(0,G.areCookiesEnabled)()||Oe.push("Cookies are not available."),Oe.length>0){var It=Oe.map(function(ln,qt){return"("+(qt+1)+") "+ln}).join(" "),Bt=xn.create("invalid-analytics-context",{errorInfo:It});ht.warn(Bt.message)}}();var Bt=Oe.options.appId;if(!Bt)throw xn.create("no-app-id");if(!Oe.options.apiKey){if(!Oe.options.measurementId)throw xn.create("no-api-key");ht.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+Oe.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Nt[Bt])throw xn.create("already-exists",{id:Bt});if(!Jn){(function Xt(){for(var Oe=window.document.getElementsByTagName("script"),It=0,Bt=Object.values(Oe);It<Bt.length;It++){var ln=Bt[It];if(ln.src&&ln.src.includes(He))return ln}return null})()||function Et(Oe){var It=document.createElement("script");It.src=He+"?l="+Oe,It.async=!0,document.head.appendChild(It)}(An),function mn(Oe){var It=[];Array.isArray(window[Oe])?It=window[Oe]:window[Oe]=It}(An);var ln=function Ut(Oe,It,Bt,ln,qt){var st=function(){for(var rt=[],Ie=0;Ie<arguments.length;Ie++)rt[Ie]=arguments[Ie];window[ln].push(arguments)};return window[qt]&&"function"==typeof window[qt]&&(st=window[qt]),window[qt]=function ft(Oe,It,Bt,ln){return function qt(st,rt,Ie){return Ge(this,void 0,void 0,function(){var Dt;return oe(this,function(Ft){switch(Ft.label){case 0:return Ft.trys.push([0,6,,7]),st!==ut.EVENT?[3,2]:[4,sn(Oe,It,Bt,rt,Ie)];case 1:return Ft.sent(),[3,5];case 2:return st!==ut.CONFIG?[3,4]:[4,bt(Oe,It,Bt,ln,rt,Ie)];case 3:return Ft.sent(),[3,5];case 4:Oe(ut.SET,rt),Ft.label=5;case 5:return[3,7];case 6:return Dt=Ft.sent(),ht.error(Dt),[3,7];case 7:return[2]}})})}}(st,Oe,It,Bt),{gtagCore:st,wrappedGtag:window[qt]}}(Nt,ct,wn,An,Hn);kn=ln.wrappedGtag,Rn=ln.gtagCore,Jn=!0}Nt[Bt]=function Mt(Oe,It,Bt,ln,qt){return Ge(this,void 0,void 0,function(){var st,rt,Ie,Dt,Ft,pn,Qn;return oe(this,function(Cn){switch(Cn.label){case 0:return st=function dt(Oe,It,Bt){return void 0===It&&(It=br),Ge(this,void 0,void 0,function(){var ln,qt,st,rt,Ie,Dt,Ft=this;return oe(this,function(pn){if(st=(ln=Oe.options).apiKey,rt=ln.measurementId,!(qt=ln.appId))throw xn.create("no-app-id");if(!st){if(rt)return[2,{measurementId:rt,appId:qt}];throw xn.create("no-api-key")}return Ie=It.getThrottleMetadata(qt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new ot,setTimeout(function(){return Ge(Ft,void 0,void 0,function(){return oe(this,function(Qn){return Dt.abort(),[2]})})},void 0!==Bt?Bt:Ke),[2,Yt({appId:qt,apiKey:st,measurementId:rt},Ie,Dt,It)]})})}(Oe),st.then(function(lr){Bt[lr.measurementId]=lr.appId,Oe.options.measurementId&&lr.measurementId!==Oe.options.measurementId&&ht.warn("The measurement ID in the local Firebase config ("+Oe.options.measurementId+") does not match the measurement ID fetched from the server ("+lr.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(lr){return ht.error(lr)}),It.push(st),rt=function Se(){return Ge(this,void 0,void 0,function(){var Oe;return oe(this,function(It){switch(It.label){case 0:return(0,G.isIndexedDBAvailable)()?[3,1]:(ht.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return It.trys.push([1,3,,4]),[4,(0,G.validateIndexedDBOpenable)()];case 2:return It.sent(),[3,4];case 3:return Oe=It.sent(),ht.warn(xn.create("indexeddb-unavailable",{errorInfo:Oe}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(lr){if(lr)return ln.getId()}),[4,Promise.all([st,rt])];case 1:return Ie=Cn.sent(),Dt=Ie[0],Ft=Ie[1],qt("js",new Date),(Qn={})[ge]="firebase",Qn.update=!0,pn=Qn,null!=Ft&&(pn[N]=Ft),qt(ut.CONFIG,Dt.measurementId,pn),[2,Dt.measurementId]}})})}(Oe,ct,wn,It,Rn);var rt={app:Oe,logEvent:function(Ie,Dt,Ft){(function te(Oe,It,Bt,ln,qt){return Ge(this,void 0,void 0,function(){var st,rt;return oe(this,function(Ie){switch(Ie.label){case 0:return qt&&qt.global?(Oe(ut.EVENT,Bt,ln),[2]):[3,1];case 1:return[4,It];case 2:st=Ie.sent(),rt=Y(Y({},ln),{send_to:st}),Oe(ut.EVENT,Bt,rt),Ie.label=3;case 3:return[2]}})})})(kn,Nt[Bt],Ie,Dt,Ft).catch(function(pn){return ht.error(pn)})},setCurrentScreen:function(Ie,Dt){(function ce(Oe,It,Bt,ln){return Ge(this,void 0,void 0,function(){var qt;return oe(this,function(st){switch(st.label){case 0:return ln&&ln.global?(Oe(ut.SET,{screen_name:Bt}),[2,Promise.resolve()]):[3,1];case 1:return[4,It];case 2:qt=st.sent(),Oe(ut.CONFIG,qt,{update:!0,screen_name:Bt}),st.label=3;case 3:return[2]}})})})(kn,Nt[Bt],Ie,Dt).catch(function(Ft){return ht.error(Ft)})},setUserId:function(Ie,Dt){(function ie(Oe,It,Bt,ln){return Ge(this,void 0,void 0,function(){var qt;return oe(this,function(st){switch(st.label){case 0:return ln&&ln.global?(Oe(ut.SET,{user_id:Bt}),[2,Promise.resolve()]):[3,1];case 1:return[4,It];case 2:qt=st.sent(),Oe(ut.CONFIG,qt,{update:!0,user_id:Bt}),st.label=3;case 3:return[2]}})})})(kn,Nt[Bt],Ie,Dt).catch(function(Ft){return ht.error(Ft)})},setUserProperties:function(Ie,Dt){(function Le(Oe,It,Bt,ln){return Ge(this,void 0,void 0,function(){var qt,st,rt,Ie,Dt;return oe(this,function(Ft){switch(Ft.label){case 0:if(!ln||!ln.global)return[3,1];for(qt={},st=0,rt=Object.keys(Bt);st<rt.length;st++)qt["user_properties."+(Ie=rt[st])]=Bt[Ie];return Oe(ut.SET,qt),[2,Promise.resolve()];case 1:return[4,It];case 2:Dt=Ft.sent(),Oe(ut.CONFIG,Dt,{update:!0,user_properties:Bt}),Ft.label=3;case 3:return[2]}})})})(kn,Nt[Bt],Ie,Dt).catch(function(Ft){return ht.error(Ft)})},setAnalyticsCollectionEnabled:function(Ie){(function Ue(Oe,It){return Ge(this,void 0,void 0,function(){var Bt;return oe(this,function(ln){switch(ln.label){case 0:return[4,Oe];case 1:return Bt=ln.sent(),window["ga-disable-"+Bt]=!It,[2]}})})})(Nt[Bt],Ie).catch(function(Dt){return ht.error(Dt)})},INTERNAL:{delete:function(){return delete Nt[Bt],Promise.resolve()}}};return rt}var ue="@firebase/analytics",le="0.6.0",tt="analytics";function St(Oe){Oe.INTERNAL.registerComponent(new J.Component(tt,function(Bt){return Ce(Bt.getProvider("app").getImmediate(),Bt.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Pt,EventName:at,isSupported:vn})),Oe.INTERNAL.registerComponent(new J.Component("analytics-internal",function It(Bt){try{return{logEvent:Bt.getProvider(tt).getImmediate().logEvent}}catch(qt){throw xn.create("interop-component-reg-failed",{reason:qt})}},"PRIVATE")),Oe.registerVersion(ue,le)}function vn(){return Ge(this,void 0,void 0,function(){return oe(this,function(Bt){switch(Bt.label){case 0:if((0,G.isBrowserExtension)())return[2,!1];if(!(0,G.areCookiesEnabled)())return[2,!1];if(!(0,G.isIndexedDBAvailable)())return[2,!1];Bt.label=1;case 1:return Bt.trys.push([1,3,,4]),[4,(0,G.validateIndexedDBOpenable)()];case 2:return[2,Bt.sent()];case 3:return Bt.sent(),[2,!1];case 4:return[2]}})})}St(f.default)},39278:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var z,Ot,y=F(99628),T=F(1270),Y=F(46355),Pe=F(64003),Xe=((z={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",z["bad-app-name"]="Illegal App name: '{$appName}",z["duplicate-app"]="Firebase App named '{$appName}' already exists",z["app-deleted"]="Firebase App named '{$appName}' already deleted",z["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",z["invalid-log-argument"]="First argument to `onLog` must be null or a function.",z),ee=new T.ErrorFactory("app","Firebase",Xe),Ge="@firebase/app",je="[DEFAULT]",ke=((Ot={})[Ge]="fire-core",Ot["@firebase/analytics"]="fire-analytics",Ot["@firebase/auth"]="fire-auth",Ot["@firebase/database"]="fire-rtdb",Ot["@firebase/functions"]="fire-fn",Ot["@firebase/installations"]="fire-iid",Ot["@firebase/messaging"]="fire-fcm",Ot["@firebase/performance"]="fire-perf",Ot["@firebase/remote-config"]="fire-rc",Ot["@firebase/storage"]="fire-gcs",Ot["@firebase/firestore"]="fire-fst",Ot["fire-js"]="fire-js",Ot["firebase-wrapper"]="fire-js-all",Ot),et=new Pe.Logger("@firebase/app"),f=function(){function at(te,ce,ie){var Le,Ue,ht=this;this.firebase_=ie,this.isDeleted_=!1,this.name_=ce.name,this.automaticDataCollectionEnabled_=ce.automaticDataCollectionEnabled||!1,this.options_=T.deepCopy(te),this.container=new Y.ComponentContainer(ce.name),this._addComponent(new Y.Component("app",function(){return ht},"PUBLIC"));try{for(var Et=y.__values(this.firebase_.INTERNAL.components.values()),mn=Et.next();!mn.done;mn=Et.next())this._addComponent(mn.value)}catch(sn){Le={error:sn}}finally{try{mn&&!mn.done&&(Ue=Et.return)&&Ue.call(Et)}finally{if(Le)throw Le.error}}}return Object.defineProperty(at.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(te){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=te},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),at.prototype.delete=function(){var te=this;return new Promise(function(ce){te.checkDestroyed_(),ce()}).then(function(){return te.firebase_.INTERNAL.removeApp(te.name_),Promise.all(te.container.getProviders().map(function(ce){return ce.delete()}))}).then(function(){te.isDeleted_=!0})},at.prototype._getService=function(te,ce){return void 0===ce&&(ce=je),this.checkDestroyed_(),this.container.getProvider(te).getImmediate({identifier:ce})},at.prototype._removeServiceInstance=function(te,ce){void 0===ce&&(ce=je),this.container.getProvider(te).clearInstance(ce)},at.prototype._addComponent=function(te){try{this.container.addComponent(te)}catch(ce){et.debug("Component "+te.name+" failed to register with FirebaseApp "+this.name,ce)}},at.prototype._addOrOverwriteComponent=function(te){this.container.addOrOverwriteComponent(te)},at.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ee.create("app-deleted",{appName:this.name_})},at}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var J=function G(){var at=function D(at){var te={},ce=new Map,ie={__esModule:!0,initializeApp:function ht(Ut,Xt){void 0===Xt&&(Xt={}),("object"!=typeof Xt||null===Xt)&&(Xt={name:Xt});var Bn=Xt;void 0===Bn.name&&(Bn.name=je);var xn=Bn.name;if("string"!=typeof xn||!xn)throw ee.create("bad-app-name",{appName:String(xn)});if(T.contains(te,xn))throw ee.create("duplicate-app",{appName:xn});var $n=new at(Ut,Bn,ie);return te[xn]=$n,$n},app:Ue,registerVersion:function bt(Ut,Xt,dn){var Bn,xn=null!==(Bn=ke[Ut])&&void 0!==Bn?Bn:Ut;dn&&(xn+="-"+dn);var $n=xn.match(/\s|\//),zn=Xt.match(/\s|\//);if($n||zn){var On=['Unable to register library "'+xn+'" with version "'+Xt+'":'];return $n&&On.push('library name "'+xn+'" contains illegal characters (whitespace or "/")'),$n&&zn&&On.push("and"),zn&&On.push('version name "'+Xt+'" contains illegal characters (whitespace or "/")'),void et.warn(On.join(" "))}mn(new Y.Component(xn+"-version",function(){return{library:xn,version:Xt}},"VERSION"))},setLogLevel:Pe.setLogLevel,onLog:function sn(Ut,Xt){if(null!==Ut&&"function"!=typeof Ut)throw ee.create("invalid-log-argument",{appName:name});Pe.setUserLogHandler(Ut,Xt)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:mn,removeApp:function Le(Ut){delete te[Ut]},components:ce,useAsService:function ft(Ut,Xt){return"serverAuth"===Xt?null:Xt}}};function Ue(Ut){if(!T.contains(te,Ut=Ut||je))throw ee.create("no-app",{appName:Ut});return te[Ut]}function mn(Ut){var Xt,dn,Bn=Ut.name;if(ce.has(Bn))return et.debug("There were multiple attempts to register component "+Bn+"."),"PUBLIC"===Ut.type?ie[Bn]:null;if(ce.set(Bn,Ut),"PUBLIC"===Ut.type){var xn=function(br){if(void 0===br&&(br=Ue()),"function"!=typeof br[Bn])throw ee.create("invalid-app-argument",{appName:Bn});return br[Bn]()};void 0!==Ut.serviceProps&&T.deepExtend(xn,Ut.serviceProps),ie[Bn]=xn,at.prototype[Bn]=function(){for(var br=[],hn=0;hn<arguments.length;hn++)br[hn]=arguments[hn];return this._getService.bind(this,Bn).apply(this,Ut.multipleInstances?br:[])}}try{for(var $n=y.__values(Object.keys(te)),zn=$n.next();!zn.done;zn=$n.next())te[zn.value]._addComponent(Ut)}catch(br){Xt={error:br}}finally{try{zn&&!zn.done&&(dn=$n.return)&&dn.call($n)}finally{if(Xt)throw Xt.error}}return"PUBLIC"===Ut.type?ie[Bn]:null}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function Et(){return Object.keys(te).map(function(Ut){return te[Ut]})}}),Ue.App=at,ie}(f);return at.INTERNAL=y.__assign(y.__assign({},at.INTERNAL),{createFirebaseNamespace:G,extendNamespace:function te(ce){T.deepExtend(at,ce)},createSubscribe:T.createSubscribe,ErrorFactory:T.ErrorFactory,deepExtend:T.deepExtend}),at}(),N=function(){function at(te){this.container=te}return at.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ce){if(function ge(at){return"VERSION"===at.getComponent()?.type}(ce)){var ie=ce.getImmediate();return ie.library+"/"+ie.version}return null}).filter(function(ce){return ce}).join(" ")},at}();if(T.isBrowser()&&void 0!==self.firebase){et.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tn=self.firebase.SDK_VERSION;Tn&&Tn.indexOf("LITE")>=0&&et.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var He=J.initializeApp;J.initializeApp=function(){for(var at=[],te=0;te<arguments.length;te++)at[te]=arguments[te];return T.isNode()&&et.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),He.apply(void 0,at)};var ut=J;(function Ke(at,te){at.INTERNAL.registerComponent(new Y.Component("platform-logger",function(ce){return new N(ce)},"PRIVATE")),at.registerVersion(Ge,"0.6.11",te),at.registerVersion("fire-js","")})(ut),nt.default=ut,nt.firebase=ut},92451:(Nn,nt,F)=>{(function(){var T,y=F(39278).default,Y="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,m){e!=Array.prototype&&e!=Object.prototype&&(e[a]=m.value)},z=function Pe(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var a=0;a<e.length;++a){var m=e[a];if(m&&m.Math==Math)return m}return globalThis}(this);function ee(e){var a=0;return function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}}}function Ge(e){var a=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return a?a.call(e):{next:ee(e)}}!function Xe(e,a){if(a){var m=z;e=e.split(".");for(var P=0;P<e.length-1;P++){var Q=e[P];Q in m||(m[Q]={}),m=m[Q]}(a=a(P=m[e=e[e.length-1]]))!=P&&null!=a&&Y(m,e,{configurable:!0,writable:!0,value:a})}}("Promise",function(e){function a(Ve){this.b=0,this.c=void 0,this.a=[];var Ht=this.f();try{Ve(Ht.resolve,Ht.reject)}catch(Ln){Ht.reject(Ln)}}function m(){this.a=null}function P(Ve){return Ve instanceof a?Ve:new a(function(Ht){Ht(Ve)})}if(e)return e;m.prototype.b=function(Ve){if(null==this.a){this.a=[];var Ht=this;this.c(function(){Ht.g()})}this.a.push(Ve)};var Q=z.setTimeout;m.prototype.c=function(Ve){Q(Ve,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var Ve=this.a;this.a=[];for(var Ht=0;Ht<Ve.length;++Ht){var Ln=Ve[Ht];Ve[Ht]=null;try{Ln()}catch(Xn){this.f(Xn)}}}this.a=null},m.prototype.f=function(Ve){this.c(function(){throw Ve})},a.prototype.f=function(){function Ve(Xn){return function(qr){Ln||(Ln=!0,Xn.call(Ht,qr))}}var Ht=this,Ln=!1;return{resolve:Ve(this.m),reject:Ve(this.g)}},a.prototype.m=function(Ve){if(Ve===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Ve instanceof a)this.s(Ve);else{e:switch(typeof Ve){case"object":var Ht=null!=Ve;break e;case"function":Ht=!0;break e;default:Ht=!1}Ht?this.u(Ve):this.h(Ve)}},a.prototype.u=function(Ve){var Ht=void 0;try{Ht=Ve.then}catch(Ln){return void this.g(Ln)}"function"==typeof Ht?this.w(Ht,Ve):this.h(Ve)},a.prototype.g=function(Ve){this.i(2,Ve)},a.prototype.h=function(Ve){this.i(1,Ve)},a.prototype.i=function(Ve,Ht){if(0!=this.b)throw Error("Cannot settle("+Ve+", "+Ht+"): Promise already settled in state"+this.b);this.b=Ve,this.c=Ht,this.l()},a.prototype.l=function(){if(null!=this.a){for(var Ve=0;Ve<this.a.length;++Ve)Ee.b(this.a[Ve]);this.a=null}};var Ee=new m;return a.prototype.s=function(Ve){var Ht=this.f();Ve.Oa(Ht.resolve,Ht.reject)},a.prototype.w=function(Ve,Ht){var Ln=this.f();try{Ve.call(Ht,Ln.resolve,Ln.reject)}catch(Xn){Ln.reject(Xn)}},a.prototype.then=function(Ve,Ht){function Ln(Ji,Ms){return"function"==typeof Ji?function(ll){try{Xn(Ji(ll))}catch(Xd){qr(Xd)}}:Ms}var Xn,qr,Eo=new a(function(Ji,Ms){Xn=Ji,qr=Ms});return this.Oa(Ln(Ve,Xn),Ln(Ht,qr)),Eo},a.prototype.catch=function(Ve){return this.then(void 0,Ve)},a.prototype.Oa=function(Ve,Ht){function Ln(){switch(Xn.b){case 1:Ve(Xn.c);break;case 2:Ht(Xn.c);break;default:throw Error("Unexpected state: "+Xn.b)}}var Xn=this;null==this.a?Ee.b(Ln):this.a.push(Ln)},a.resolve=P,a.reject=function(Ve){return new a(function(Ht,Ln){Ln(Ve)})},a.race=function(Ve){return new a(function(Ht,Ln){for(var Xn=Ge(Ve),qr=Xn.next();!qr.done;qr=Xn.next())P(qr.value).Oa(Ht,Ln)})},a.all=function(Ve){var Ht=Ge(Ve),Ln=Ht.next();return Ln.done?P([]):new a(function(Xn,qr){function Eo(ll){return function(Xd){Ji[ll]=Xd,0==--Ms&&Xn(Ji)}}var Ji=[],Ms=0;do{Ji.push(void 0),Ms++,P(Ln.value).Oa(Eo(Ji.length-1),qr),Ln=Ht.next()}while(!Ln.done)})},a});var oe=oe||{},$=this||self,Me=/^[\w+/_-]+[=]{0,2}$/,Te=null;function De(){}function _t(e){var a=typeof e;if("object"==a){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return a;var m=Object.prototype.toString.call(e);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof e.length&&typeof e.splice<"u"&&typeof e.propertyIsEnumerable<"u"&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||typeof e.call<"u"&&typeof e.propertyIsEnumerable<"u"&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==a&&typeof e.call>"u")return"object";return a}function Zt(e){var a=_t(e);return"array"==a||"object"==a&&"number"==typeof e.length}function zt(e){return"function"==_t(e)}function we(e){var a=typeof e;return"object"==a&&null!=e||"function"==a}function Rt(e){return Object.prototype.hasOwnProperty.call(e,vt)&&e[vt]||(e[vt]=++en)}var vt="closure_uid_"+(1e9*Math.random()>>>0),en=0;function Ot(e,a,m){return e.call.apply(e.bind,arguments)}function je(e,a,m){if(!e)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),e.apply(a,Q)}}return function(){return e.apply(a,arguments)}}function ke(e,a,m){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:je).apply(null,arguments)}function et(e,a){var m=Array.prototype.slice.call(arguments,1);return function(){var P=m.slice();return P.push.apply(P,arguments),e.apply(this,P)}}var f=Date.now||function(){return+new Date};function k(e,a){function m(){}m.prototype=a.prototype,e.Za=a.prototype,e.prototype=new m,e.prototype.constructor=e}function D(e,a,m){this.code=J+e,this.message=a||N[e]||"",this.a=m||null}function G(e){var a=e&&e.code;return a?new D(a.substring(J.length),e.message,e.serverResponse):null}k(D,Error),D.prototype.v=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},D.prototype.toJSON=function(){return this.v()};var Tn,J="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ge={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ke(e){for(var a in ge)if(ge[a].id===e)return{firebaseEndpoint:(e=ge[a]).Ra,secureTokenEndpoint:e.Xa,identityPlatformEndpoint:e.Ua};return null}function He(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch{return!1}}function ut(e){if(Error.captureStackTrace)Error.captureStackTrace(this,ut);else{var a=Error().stack;a&&(this.stack=a)}e&&(this.message=String(e))}function at(e,a){for(var m="",P=(e=e.split("%s")).length-1,Q=0;Q<P;Q++)m+=e[Q]+(Q<a.length?a[Q]:"%s");ut.call(this,m+e[P])}function te(e,a){throw new at("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function ce(e,a){this.c=e,this.f=a,this.b=0,this.a=null}function ie(e,a){e.f(a),100>e.b&&(e.b++,a.next=e.a,e.a=a)}function Le(){this.b=this.a=null}Tn=Ke("__EID__")?"__EID__":void 0,k(ut,Error),ut.prototype.name="CustomError",k(at,ut),at.prototype.name="AssertionError",ce.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ue=new ce(function(){return new Et},function(e){e.reset()});function ht(){var e=j,a=null;return e.a&&(a=e.a,e.a=e.a.next,e.a||(e.b=null),a.next=null),a}function Et(){this.next=this.b=this.a=null}Le.prototype.add=function(e,a){var m=Ue.get();m.set(e,a),this.b?this.b.next=m:this.a=m,this.b=m},Et.prototype.set=function(e,a){this.a=e,this.b=a,this.next=null},Et.prototype.reset=function(){this.next=this.b=this.a=null};var mn=Array.prototype.indexOf?function(e,a){return Array.prototype.indexOf.call(e,a,void 0)}:function(e,a){if("string"==typeof e)return"string"!=typeof a||1!=a.length?-1:e.indexOf(a,0);for(var m=0;m<e.length;m++)if(m in e&&e[m]===a)return m;return-1},bt=Array.prototype.forEach?function(e,a,m){Array.prototype.forEach.call(e,a,m)}:function(e,a,m){for(var P=e.length,Q="string"==typeof e?e.split(""):e,Ee=0;Ee<P;Ee++)Ee in Q&&a.call(m,Q[Ee],Ee,e)},ft=Array.prototype.filter?function(e,a){return Array.prototype.filter.call(e,a,void 0)}:function(e,a){for(var m=e.length,P=[],Q=0,Ee="string"==typeof e?e.split(""):e,Ve=0;Ve<m;Ve++)if(Ve in Ee){var Ht=Ee[Ve];a.call(void 0,Ht,Ve,e)&&(P[Q++]=Ht)}return P},Ut=Array.prototype.map?function(e,a){return Array.prototype.map.call(e,a,void 0)}:function(e,a){for(var m=e.length,P=Array(m),Q="string"==typeof e?e.split(""):e,Ee=0;Ee<m;Ee++)Ee in Q&&(P[Ee]=a.call(void 0,Q[Ee],Ee,e));return P},Xt=Array.prototype.some?function(e,a){return Array.prototype.some.call(e,a,void 0)}:function(e,a){for(var m=e.length,P="string"==typeof e?e.split(""):e,Q=0;Q<m;Q++)if(Q in P&&a.call(void 0,P[Q],Q,e))return!0;return!1};function Bn(e,a){return 0<=mn(e,a)}function xn(e,a){var m;return(m=0<=(a=mn(e,a)))&&Array.prototype.splice.call(e,a,1),m}function $n(e,a){!function sn(e,a){for(var m="string"==typeof e?e.split(""):e,P=e.length-1;0<=P;--P)P in m&&a.call(void 0,m[P],P,e)}(e,function(P,Q){a.call(void 0,P,Q,e)&&Array.prototype.splice.call(e,Q,1)})}function zn(e){return Array.prototype.concat.apply([],arguments)}function On(e){var a=e.length;if(0<a){for(var m=Array(a),P=0;P<a;P++)m[P]=e[P];return m}return[]}var Nt,br=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},hn=/&/g,Fe=/</g,dt=/>/g,Yt=/"/g,Qt=/'/g,gn=/\x00/g,ot=/[\x00&<>"']/;function Se(e,a){return-1!=e.indexOf(a)}function Mt(e,a){return e<a?-1:e>a?1:0}e:{var ct=$.navigator;if(ct){var wn=ct.userAgent;if(wn){Nt=wn;break e}}Nt=""}function An(e){return Se(Nt,e)}function Hn(e,a){for(var m in e)a.call(void 0,e[m],m,e)}function Rn(e){for(var a in e)return!1;return!0}function kn(e){var m,a={};for(m in e)a[m]=e[m];return a}var Jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ir(e,a){for(var m,P,Q=1;Q<arguments.length;Q++){for(m in P=arguments[Q])e[m]=P[m];for(var Ee=0;Ee<Jn.length;Ee++)m=Jn[Ee],Object.prototype.hasOwnProperty.call(P,m)&&(e[m]=P[m])}}function cn(e,a){e:{try{var m=e&&e.ownerDocument,P=m&&(m.defaultView||m.parentWindow);if((P=P||$).Element&&P.Location){var Q=P;break e}}catch{}Q=null}if(Q&&typeof Q[a]<"u"&&(!e||!(e instanceof Q[a])&&(e instanceof Q.Location||e instanceof Q.Element))){if(we(e))try{var Ee=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{Ee="<object could not be stringified>"}else Ee=void 0===e?"undefined":null===e?"null":typeof e;te("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,Ee)}}function Pt(e,a){this.a=e===ue&&a||"",this.b=Ce}function Vt(e){return e instanceof Pt&&e.constructor===Pt&&e.b===Ce?e.a:(te("expected object of type Const, got '"+e+"'"),"type_error:Const")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a},Pt.prototype.toString=function(){return"Const{"+this.a+"}"};var Ce={},ue={},le=new Pt(ue,"");function tt(e,a){this.a=e===ln&&a||"",this.b=Bt}function St(e){return e instanceof tt&&e.constructor===tt&&e.b===Bt?e.a:(te("expected object of type TrustedResourceUrl, got '"+e+"' of type "+_t(e)),"type_error:TrustedResourceUrl")}function vn(e,a){var m=Vt(e);if(!It.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return e=m.replace(Oe,function(P,Q){if(!Object.prototype.hasOwnProperty.call(a,Q))throw Error('Found marker, "'+Q+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(a));return(P=a[Q])instanceof Pt?Vt(P):encodeURIComponent(String(P))}),new tt(ln,e)}tt.prototype.ra=!0,tt.prototype.qa=function(){return this.a.toString()},tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Oe=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Bt={},ln={};function qt(e,a){this.a=e===Ft&&a||"",this.b=Dt}function st(e){return e instanceof qt&&e.constructor===qt&&e.b===Dt?e.a:(te("expected object of type SafeUrl, got '"+e+"' of type "+_t(e)),"type_error:SafeUrl")}qt.prototype.ra=!0,qt.prototype.qa=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ie(e){return e instanceof qt?e:(e="object"==typeof e&&e.ra?e.qa():String(e),rt.test(e)||(e="about:invalid#zClosurez"),new qt(Ft,e))}var Dt={},Ft={};function pn(){this.a="",this.b=Cn}function Qn(e){return e instanceof pn&&e.constructor===pn&&e.b===Cn?e.a:(te("expected object of type SafeHtml, got '"+e+"' of type "+_t(e)),"type_error:SafeHtml")}pn.prototype.ra=!0,pn.prototype.qa=function(){return this.a.toString()},pn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Cn={};function lr(e){var a=new pn;return a.a=e,a}lr("<!DOCTYPE html>");var ei=lr("");function Tt(e,a){for(var m=e.split("%s"),P="",Q=Array.prototype.slice.call(arguments,1);Q.length&&1<m.length;)P+=m.shift()+Q.shift();return P+m.join("%s")}function Gt(e){return ot.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(hn,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Fe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(dt,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Yt,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Qt,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(gn,"&#0;"))),e}function Re(e){return Re[" "](e),e}lr("<br>"),Re[" "]=De;var hr,e,_e=An("Opera"),qe=An("Trident")||An("MSIE"),gt=An("Edge"),kt=gt||qe,Lt=An("Gecko")&&!(Se(Nt.toLowerCase(),"webkit")&&!An("Edge"))&&!(An("Trident")||An("MSIE"))&&!An("Edge"),Mn=Se(Nt.toLowerCase(),"webkit")&&!An("Edge");function Wn(){var e=$.document;return e?e.documentMode:void 0}e:{var tr="",fn=(e=Nt,Lt?/rv:([^\);]+)(\)|;)/.exec(e):gt?/Edge\/([\d\.]+)/.exec(e):qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mn?/WebKit\/(\S+)/.exec(e):_e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(fn&&(tr=fn?fn[1]:""),qe){var sr=Wn();if(null!=sr&&sr>parseFloat(tr)){hr=String(sr);break e}}hr=tr}var Er,mr={};function gi(e){return function q(e,a){var m=mr;return Object.prototype.hasOwnProperty.call(m,e)?m[e]:m[e]=a(e)}(e,function(){for(var a=0,m=br(String(hr)).split("."),P=br(String(e)).split("."),Q=Math.max(m.length,P.length),Ee=0;0==a&&Ee<Q;Ee++){var Ve=m[Ee]||"",Ht=P[Ee]||"";do{if(Ve=/(\d*)(\D*)(.*)/.exec(Ve)||["","","",""],Ht=/(\d*)(\D*)(.*)/.exec(Ht)||["","","",""],0==Ve[0].length&&0==Ht[0].length)break;a=Mt(0==Ve[1].length?0:parseInt(Ve[1],10),0==Ht[1].length?0:parseInt(Ht[1],10))||Mt(0==Ve[2].length,0==Ht[2].length)||Mt(Ve[2],Ht[2]),Ve=Ve[3],Ht=Ht[3]}while(0==a)}return 0<=a})}Er=$.document&&qe?Wn():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var vi=!qe||9<=Number(Er);function ai(e){var a=document;return"string"==typeof e?a.getElementById(e):e}function Dr(e,a){Hn(a,function(m,P){m&&"object"==typeof m&&m.ra&&(m=m.qa()),"style"==P?e.style.cssText=m:"class"==P?e.className=m:"for"==P?e.htmlFor=m:Ri.hasOwnProperty(P)?e.setAttribute(Ri[P],m):0==P.lastIndexOf("aria-",0)||0==P.lastIndexOf("data-",0)?e.setAttribute(P,m):e[P]=m})}var eo,Gi,Ri={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wi(e,a){return a=String(a),"application/xhtml+xml"===e.contentType&&(a=a.toLowerCase()),e.createElement(a)}function Fi(e){if(e&&"number"==typeof e.length){if(we(e))return"function"==typeof e.item||"string"==typeof e.item;if(zt(e))return"function"==typeof e.item}return!1}function mo(e){$.setTimeout(function(){throw e},0)}function Ro(e,a){Gi||function ze(){if($.Promise&&$.Promise.resolve){var e=$.Promise.resolve(void 0);Gi=function(){e.then(ye)}}else Gi=function(){var a=ye;!zt($.setImmediate)||$.Window&&$.Window.prototype&&!An("Edge")&&$.Window.prototype.setImmediate==$.setImmediate?(eo||(eo=function Mi(){var e=$.MessageChannel;if(typeof e>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!An("Presto")&&(e=function(){var Q=Wi(document,"IFRAME");Q.style.display="none",function it(e){var a=new tt(ln,Vt(le));cn(e,"HTMLIFrameElement"),e.src=St(a).toString()}(Q),document.documentElement.appendChild(Q);var Ee=Q.contentWindow;(Q=Ee.document).open(),Q.write(Qn(ei)),Q.close();var Ve="callImmediate"+Math.random(),Ht="file:"==Ee.location.protocol?"*":Ee.location.protocol+"//"+Ee.location.host;Q=ke(function(Ln){("*"==Ht||Ln.origin==Ht)&&Ln.data==Ve&&this.port1.onmessage()},this),Ee.addEventListener("message",Q,!1),this.port1={},this.port2={postMessage:function(){Ee.postMessage(Ve,Ht)}}}),typeof e<"u"&&!An("Trident")&&!An("MSIE")){var a=new e,m={},P=m;return a.port1.onmessage=function(){if(void 0!==m.next){var Q=(m=m.next).Db;m.Db=null,Q()}},function(Q){P.next={Db:Q},P=P.next,a.port2.postMessage(0)}}return function(Q){$.setTimeout(Q,0)}}()),eo(a)):$.setImmediate(a)}}(),pe||(Gi(),pe=!0),j.add(e,a)}var pe=!1,j=new Le;function ye(){for(var e;e=ht();){try{e.a.call(e.b)}catch(a){mo(a)}ie(Ue,e)}pe=!1}function Qe(e,a){if(this.a=on,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=De)try{var m=this;e.call(a,function(P){Co(m,Gn,P)},function(P){if(!(P instanceof So))try{throw P instanceof Error?P:Error("Promise rejected.")}catch{}Co(m,rr,P)})}catch(P){Co(this,rr,P)}}var on=0,Gn=2,rr=3;function Lr(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Lr.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var gr=new ce(function(){return new Lr},function(e){e.reset()});function vr(e,a,m){var P=gr.get();return P.g=e,P.b=a,P.f=m,P}function ir(e){if(e instanceof Qe)return e;var a=new Qe(De);return Co(a,Gn,e),a}function or(e){return new Qe(function(a,m){m(e)})}function Ii(e,a,m){Qi(e,a,m,null)||Ro(et(a,e))}function Ei(e){return new Qe(function(a){var m=e.length,P=[];if(m)for(var Q=function(Ht,Ln,Xn){m--,P[Ht]=Ln?{Mb:!0,value:Xn}:{Mb:!1,reason:Xn},0==m&&a(P)},Ee=0;Ee<e.length;Ee++)Ii(e[Ee],et(Q,Ee,!0),et(Q,Ee,!1));else a(P)})}function Li(e,a){if(e.a==on)if(e.c){var m=e.c;if(m.b){for(var P=0,Q=null,Ee=null,Ve=m.b;Ve&&(Ve.c||(P++,Ve.a==e&&(Q=Ve),!(Q&&1<P)));Ve=Ve.next)Q||(Ee=Ve);Q&&(m.a==on&&1==P?Li(m,a):(Ee?((P=Ee).next==m.f&&(m.f=P),P.next=P.next.next):qo(m),os(m,Q,rr,a)))}e.c=null}else Co(e,rr,a)}function Pi(e,a){e.b||e.a!=Gn&&e.a!=rr||is(e),e.f?e.f.next=a:e.b=a,e.f=a}function Hr(e,a,m,P){var Q=vr(null,null,null);return Q.a=new Qe(function(Ee,Ve){Q.g=a?function(Ht){try{var Ln=a.call(P,Ht);Ee(Ln)}catch(Xn){Ve(Xn)}}:Ee,Q.b=m?function(Ht){try{var Ln=m.call(P,Ht);void 0===Ln&&Ht instanceof So?Ve(Ht):Ee(Ln)}catch(Xn){Ve(Xn)}}:Ve}),Q.a.c=e,Pi(e,Q),Q.a}function Co(e,a,m){e.a==on&&(e===m&&(a=rr,m=new TypeError("Promise cannot resolve to itself")),e.a=1,Qi(m,e.Yc,e.Zc,e)||(e.i=m,e.a=a,e.c=null,is(e),a!=rr||m instanceof So||function di(e,a){e.g=!0,Ro(function(){e.g&&Qo.call(null,a)})}(e,m)))}function Qi(e,a,m,P){if(e instanceof Qe)return Pi(e,vr(a||De,m||null,P)),!0;if(He(e))return e.then(a,m,P),!0;if(we(e))try{var Q=e.then;if(zt(Q))return function yo(e,a,m,P,Q){function Ee(Ln){Ht||(Ht=!0,P.call(Q,Ln))}var Ht=!1;try{a.call(e,function Ve(Ln){Ht||(Ht=!0,m.call(Q,Ln))},Ee)}catch(Ln){Ee(Ln)}}(e,Q,a,m,P),!0}catch(Ee){return m.call(P,Ee),!0}return!1}function is(e){e.h||(e.h=!0,Ro(e.ec,e))}function qo(e){var a=null;return e.b&&(e.b=(a=e.b).next,a.next=null),e.b||(e.f=null),a}function os(e,a,m,P){if(m==rr&&a.b&&!a.c)for(;e&&e.g;e=e.c)e.g=!1;if(a.a)a.a.c=null,Es(a,m,P);else try{a.c?a.g.call(a.f):Es(a,m,P)}catch(Q){Qo.call(null,Q)}ie(gr,a)}function Es(e,a,m){a==Gn?e.g.call(e.f,m):e.b&&e.b.call(e.f,m)}Qe.prototype.then=function(e,a,m){return Hr(this,zt(e)?e:null,zt(a)?a:null,m)},Qe.prototype.$goog_Thenable=!0,(T=Qe.prototype).ma=function(e,a){return(e=vr(e,e,a)).c=!0,Pi(this,e),this},T.o=function(e,a){return Hr(this,null,e,a)},T.cancel=function(e){if(this.a==on){var a=new So(e);Ro(function(){Li(this,a)},this)}},T.Yc=function(e){this.a=on,Co(this,Gn,e)},T.Zc=function(e){this.a=on,Co(this,rr,e)},T.ec=function(){for(var e;e=qo(this);)os(this,e,this.a,this.i);this.h=!1};var Qo=mo;function So(e){ut.call(this,e)}function cs(){0!=lo&&(se[Rt(this)]=this),this.wa=this.wa,this.na=this.na}k(So,ut),So.prototype.name="cancel";var lo=0,se={};function ne(e){if(!e.wa&&(e.wa=!0,e.Ba(),0!=lo)){var a=Rt(e);if(0!=lo&&e.na&&0<e.na.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete se[a]}}cs.prototype.wa=!1,cs.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(e){return e},wt=!qe||9<=Number(Er),jt=qe&&!gi("9"),Jt=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var e=!1,a=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$.addEventListener("test",De,a),$.removeEventListener("test",De,a)}catch{}return e}();function En(e,a){this.type=e,this.b=this.target=a,this.defaultPrevented=!1}function Un(e,a){if(En.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var m=this.type=e.type,P=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=a,a=e.relatedTarget){if(Lt){e:{try{Re(a.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(a=null)}}else"mouseover"==m?a=e.fromElement:"mouseout"==m&&(a=e.toElement);this.relatedTarget=a,P?(this.clientX=void 0!==P.clientX?P.clientX:P.pageX,this.clientY=void 0!==P.clientY?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Pn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}En.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Un,En);var Pn=Be({2:"touch",3:"pen",4:"mouse"});Un.prototype.preventDefault=function(){Un.Za.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,jt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}},Un.prototype.f=function(){return this.a};var qn="closure_listenable_"+(1e6*Math.random()|0),nr=0;function zr(e,a,m,P,Q){this.listener=e,this.proxy=null,this.src=a,this.type=m,this.capture=!!P,this.Ta=Q,this.key=++nr,this.ua=this.Na=!1}function Pr(e){e.ua=!0,e.listener=null,e.proxy=null,e.src=null,e.Ta=null}function hi(e){this.src=e,this.a={},this.b=0}function Kr(e,a){var m=a.type;m in e.a&&xn(e.a[m],a)&&(Pr(a),0==e.a[m].length&&(delete e.a[m],e.b--))}function Ai(e,a,m,P){for(var Q=0;Q<e.length;++Q){var Ee=e[Q];if(!Ee.ua&&Ee.listener==a&&Ee.capture==!!m&&Ee.Ta==P)return Q}return-1}hi.prototype.add=function(e,a,m,P,Q){var Ee=e.toString();(e=this.a[Ee])||(e=this.a[Ee]=[],this.b++);var Ve=Ai(e,a,P,Q);return-1<Ve?(a=e[Ve],m||(a.Na=!1)):((a=new zr(a,this.src,Ee,!!P,Q)).Na=m,e.push(a)),a};var fi="closure_lm_"+(1e6*Math.random()|0),Si={};function Ar(e,a,m,P,Q){if(P&&P.once)ki(e,a,m,P,Q);else if(Array.isArray(a))for(var Ee=0;Ee<a.length;Ee++)Ar(e,a[Ee],m,P,Q);else m=ni(m),e&&e[qn]?Xi(e,a,m,we(P)?!!P.capture:!!P,Q):to(e,a,m,!1,P,Q)}function to(e,a,m,P,Q,Ee){if(!a)throw Error("Invalid event type");var Ve=we(Q)?!!Q.capture:!!Q,Ht=$r(e);if(Ht||(e[fi]=Ht=new hi(e)),!(m=Ht.add(a,m,P,Ve,Ee)).proxy)if(P=function uo(){var e=Ss,a=wt?function(m){return e.call(a.src,a.listener,m)}:function(m){if(!(m=e.call(a.src,a.listener,m)))return m};return a}(),m.proxy=P,P.src=e,P.listener=m,e.addEventListener)Jt||(Q=Ve),void 0===Q&&(Q=!1),e.addEventListener(a.toString(),P,Q);else if(e.attachEvent)e.attachEvent(Ui(a.toString()),P);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(P)}}function ki(e,a,m,P,Q){if(Array.isArray(a))for(var Ee=0;Ee<a.length;Ee++)ki(e,a[Ee],m,P,Q);else m=ni(m),e&&e[qn]?ss(e,a,m,we(P)?!!P.capture:!!P,Q):to(e,a,m,!0,P,Q)}function Ti(e,a,m,P,Q){if(Array.isArray(a))for(var Ee=0;Ee<a.length;Ee++)Ti(e,a[Ee],m,P,Q);else P=we(P)?!!P.capture:!!P,m=ni(m),e&&e[qn]?(e=e.u,(a=String(a).toString())in e.a&&-1<(m=Ai(Ee=e.a[a],m,P,Q))&&(Pr(Ee[m]),Array.prototype.splice.call(Ee,m,1),0==Ee.length&&(delete e.a[a],e.b--))):e&&(e=$r(e))&&(a=e.a[a.toString()],e=-1,a&&(e=Ai(a,m,P,Q)),(m=-1<e?a[e]:null)&&pi(m))}function pi(e){if("number"!=typeof e&&e&&!e.ua){var a=e.src;if(a&&a[qn])Kr(a.u,e);else{var m=e.type,P=e.proxy;a.removeEventListener?a.removeEventListener(m,P,e.capture):a.detachEvent?a.detachEvent(Ui(m),P):a.addListener&&a.removeListener&&a.removeListener(P),(m=$r(a))?(Kr(m,e),0==m.b&&(m.src=null,a[fi]=null)):Pr(e)}}}function Ui(e){return e in Si?Si[e]:Si[e]="on"+e}function _o(e,a,m,P){var Q=!0;if((e=$r(e))&&(a=e.a[a.toString()]))for(a=a.concat(),e=0;e<a.length;e++){var Ee=a[e];Ee&&Ee.capture==m&&!Ee.ua&&(Ee=Xo(Ee,P),Q=Q&&!1!==Ee)}return Q}function Xo(e,a){var m=e.listener,P=e.Ta||e.src;return e.Na&&pi(e),m.call(P,a)}function Ss(e,a){if(e.ua)return!0;if(!wt){if(!a)e:{a=["window","event"];for(var m=$,P=0;P<a.length;P++)if(null==(m=m[a[P]])){a=null;break e}a=m}if(a=new Un(P=a,this),m=!0,!(0>P.keyCode||null!=P.returnValue)){e:{var Q=!1;if(0==P.keyCode)try{P.keyCode=-1;break e}catch{Q=!0}(Q||null==P.returnValue)&&(P.returnValue=!0)}for(P=[],Q=a.b;Q;Q=Q.parentNode)P.push(Q);for(e=e.type,Q=P.length-1;0<=Q;Q--){a.b=P[Q];var Ee=_o(P[Q],e,!0,a);m=m&&Ee}for(Q=0;Q<P.length;Q++)a.b=P[Q],Ee=_o(P[Q],e,!1,a),m=m&&Ee}return m}return Xo(e,new Un(a,this))}function $r(e){return(e=e[fi])instanceof hi?e:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ni(e){return zt(e)?e:(e[Qr]||(e[Qr]=function(a){return e.handleEvent(a)}),e[Qr])}function Ki(){cs.call(this),this.u=new hi(this),this.Yb=this,this.eb=null}function Xi(e,a,m,P,Q){e.u.add(String(a),m,!1,P,Q)}function ss(e,a,m,P,Q){e.u.add(String(a),m,!0,P,Q)}function Io(e,a,m,P){if(!(a=e.u.a[String(a)]))return!0;a=a.concat();for(var Q=!0,Ee=0;Ee<a.length;++Ee){var Ve=a[Ee];if(Ve&&!Ve.ua&&Ve.capture==m){var Ht=Ve.listener,Ln=Ve.Ta||Ve.src;Ve.Na&&Kr(e.u,Ve),Q=!1!==Ht.call(Ln,P)&&Q}}return Q&&!P.defaultPrevented}function Nr(e,a,m){if(zt(e))m&&(e=ke(e,m));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ke(e.handleEvent,e)}return 2147483647<Number(a)?-1:$.setTimeout(e,a||0)}function co(e){var a=null;return new Qe(function(m,P){-1==(a=Nr(function(){m(void 0)},e))&&P(Error("Failed to schedule timer."))}).o(function(m){throw $.clearTimeout(a),m})}function Yo(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(Zt(e)){for(var a=[],m=e.length,P=0;P<m;P++)a.push(e[P]);return a}for(P in a=[],m=0,e)a[m++]=e[P];return a}function Ls(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.V||"function"!=typeof e.V){if(Zt(e)||"string"==typeof e){var a=[];e=e.length;for(var m=0;m<e;m++)a.push(m);return a}for(var P in a=[],m=0,e)a[m++]=P;return a}}function go(e,a){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var P=0;P<m;P+=2)this.set(arguments[P],arguments[P+1])}else if(e)if(e instanceof go)for(m=e.X(),P=0;P<m.length;P++)this.set(m[P],e.get(m[P]));else for(P in e)this.set(P,e[P])}function Zi(e){if(e.c!=e.a.length){for(var a=0,m=0;a<e.a.length;){var P=e.a[a];Uo(e.b,P)&&(e.a[m++]=P),a++}e.a.length=m}if(e.c!=e.a.length){var Q={};for(m=a=0;a<e.a.length;)Uo(Q,P=e.a[a])||(e.a[m++]=P,Q[P]=1),a++;e.a.length=m}}function Uo(e,a){return Object.prototype.hasOwnProperty.call(e,a)}k(Ki,cs),Ki.prototype[qn]=!0,Ki.prototype.addEventListener=function(e,a,m,P){Ar(this,e,a,m,P)},Ki.prototype.removeEventListener=function(e,a,m,P){Ti(this,e,a,m,P)},Ki.prototype.dispatchEvent=function(e){var a,m=this.eb;if(m)for(a=[];m;m=m.eb)a.push(m);m=this.Yb;var P=e.type||e;if("string"==typeof e)e=new En(e,m);else if(e instanceof En)e.target=e.target||m;else{var Q=e;Ir(e=new En(P,m),Q)}if(Q=!0,a)for(var Ee=a.length-1;0<=Ee;Ee--){var Ve=e.b=a[Ee];Q=Io(Ve,P,!0,e)&&Q}if(Q=Io(Ve=e.b=m,P,!0,e)&&Q,Q=Io(Ve,P,!1,e)&&Q,a)for(Ee=0;Ee<a.length;Ee++)Q=Io(Ve=e.b=a[Ee],P,!1,e)&&Q;return Q},Ki.prototype.Ba=function(){if(Ki.Za.Ba.call(this),this.u){var m,e=this.u;for(m in e.a){for(var P=e.a[m],Q=0;Q<P.length;Q++)Pr(P[Q]);delete e.a[m],e.b--}}this.eb=null},(T=go.prototype).V=function(){Zi(this);for(var e=[],a=0;a<this.a.length;a++)e.push(this.b[this.a[a]]);return e},T.X=function(){return Zi(this),this.a.concat()},T.clear=function(){this.b={},this.c=this.a.length=0},T.get=function(e,a){return Uo(this.b,e)?this.b[e]:a},T.set=function(e,a){Uo(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=a},T.forEach=function(e,a){for(var m=this.X(),P=0;P<m.length;P++){var Q=m[P],Ee=this.get(Q);e.call(a,Ee,Q,this)}};var Vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Br(e,a){var m;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof Br?(this.h=void 0!==a?a:e.h,ds(this,e.f),this.i=e.i,this.b=e.b,Vo(this,e.l),this.c=e.c,ci(this,ps(e.a)),this.g=e.g):e&&(m=String(e).match(Vs))?(this.h=!!a,ds(this,m[1]||"",!0),this.i=hs(m[2]||""),this.b=hs(m[3]||"",!0),Vo(this,m[4]),this.c=hs(m[5]||"",!0),ci(this,m[6]||"",!0),this.g=hs(m[7]||"")):(this.h=!!a,this.a=new so(null,this.h))}function ds(e,a,m){e.f=m?hs(a,!0):a,e.f&&(e.f=e.f.replace(/:$/,""))}function Vo(e,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);e.l=a}else e.l=null}function ci(e,a,m){a instanceof so?(e.a=a,function ri(e,a){a&&!e.f&&(No(e),e.c=null,e.a.forEach(function(m,P){var Q=P.toLowerCase();P!=Q&&(as(this,P),li(this,Q,m))},e)),e.f=a}(e.a,e.h)):(m||(a=fs(a,bo)),e.a=new so(a,e.h))}function Bi(e,a,m){e.a.set(a,m)}function _i(e,a){return e.a.get(a)}function $i(e){return e instanceof Br?new Br(e):new Br(e,void 0)}function ks(e,a){var m=new Br(null,void 0);return ds(m,"https"),e&&(m.b=e),a&&(m.c=a),m}function hs(e,a){return e?a?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fs(e,a,m){return"string"==typeof e?(e=encodeURI(e).replace(a,Hs),m&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Br.prototype.toString=function(){var e=[],a=this.f;a&&e.push(fs(a,zs,!0),":");var m=this.b;return(m||"file"==a)&&(e.push("//"),(a=this.i)&&e.push(fs(a,zs,!0),"@"),e.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.l)&&e.push(":",String(m))),(m=this.c)&&(this.b&&"/"!=m.charAt(0)&&e.push("/"),e.push(fs(m,"/"==m.charAt(0)?Po:oo,!0))),(m=this.a.toString())&&e.push("?",m),(m=this.g)&&e.push("#",fs(m,ho)),e.join("")},Br.prototype.resolve=function(e){var a=new Br(this),m=!!e.f;m?ds(a,e.f):m=!!e.i,m?a.i=e.i:m=!!e.b,m?a.b=e.b:m=null!=e.l;var P=e.c;if(m)Vo(a,e.l);else if(m=!!e.c){if("/"!=P.charAt(0))if(this.b&&!this.c)P="/"+P;else{var Q=a.c.lastIndexOf("/");-1!=Q&&(P=a.c.substr(0,Q+1)+P)}if(".."==(Q=P)||"."==Q)P="";else if(Se(Q,"./")||Se(Q,"/.")){P=0==Q.lastIndexOf("/",0),Q=Q.split("/");for(var Ee=[],Ve=0;Ve<Q.length;){var Ht=Q[Ve++];"."==Ht?P&&Ve==Q.length&&Ee.push(""):".."==Ht?((1<Ee.length||1==Ee.length&&""!=Ee[0])&&Ee.pop(),P&&Ve==Q.length&&Ee.push("")):(Ee.push(Ht),P=!0)}P=Ee.join("/")}else P=Q}return m?a.c=P:m=""!==e.a.toString(),m?ci(a,ps(e.a)):m=!!e.g,m&&(a.g=e.g),a};var zs=/[#\/\?@]/g,oo=/[#\?:]/g,Po=/[#\?]/g,bo=/[#\?@]/g,ho=/#/g;function so(e,a){this.b=this.a=null,this.c=e||null,this.f=!!a}function No(e){e.a||(e.a=new go,e.b=0,e.c&&function In(e,a){if(e){e=e.split("&");for(var m=0;m<e.length;m++){var P=e[m].indexOf("="),Q=null;if(0<=P){var Ee=e[m].substring(0,P);Q=e[m].substring(P+1)}else Ee=e[m];a(Ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}(e.c,function(a,m){e.add(decodeURIComponent(a.replace(/\+/g," ")),m)}))}function Ho(e){var a=Ls(e);if(typeof a>"u")throw Error("Keys are undefined");var m=new so(null,void 0);e=Yo(e);for(var P=0;P<a.length;P++){var Q=a[P],Ee=e[P];Array.isArray(Ee)?li(m,Q,Ee):m.add(Q,Ee)}return m}function as(e,a){No(e),a=Kn(e,a),Uo(e.a.b,a)&&(e.c=null,e.b-=e.a.get(a).length,Uo((e=e.a).b,a)&&(delete e.b[a],e.c--,e.a.length>2*e.c&&Zi(e)))}function Ws(e,a){return No(e),a=Kn(e,a),Uo(e.a.b,a)}function li(e,a,m){as(e,a),0<m.length&&(e.c=null,e.a.set(Kn(e,a),On(m)),e.b+=m.length)}function ps(e){var a=new so;return a.c=e.c,e.a&&(a.a=new go(e.a),a.b=e.b),a}function Kn(e,a){return a=String(a),e.f&&(a=a.toLowerCase()),a}function ms(e){var a=[];return fo(new gs,e,a),a.join("")}function gs(){}function fo(e,a,m){if(null==a)m.push("null");else{if("object"==typeof a){if(Array.isArray(a)){var P=a;a=P.length,m.push("[");for(var Q="",Ee=0;Ee<a;Ee++)m.push(Q),fo(e,P[Ee],m),Q=",";return void m.push("]")}if(!(a instanceof String||a instanceof Number||a instanceof Boolean)){for(P in m.push("{"),Q="",a)Object.prototype.hasOwnProperty.call(a,P)&&"function"!=typeof(Ee=a[P])&&(m.push(Q),ls(P,m),m.push(":"),fo(e,Ee,m),Q=",");return void m.push("}")}a=a.valueOf()}switch(typeof a){case"string":ls(a,m);break;case"number":m.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":m.push(String(a));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}(T=so.prototype).add=function(e,a){No(this),this.c=null,e=Kn(this,e);var m=this.a.get(e);return m||this.a.set(e,m=[]),m.push(a),this.b+=1,this},T.clear=function(){this.a=this.c=null,this.b=0},T.forEach=function(e,a){No(this),this.a.forEach(function(m,P){bt(m,function(Q){e.call(a,Q,P,this)},this)},this)},T.X=function(){No(this);for(var e=this.a.V(),a=this.a.X(),m=[],P=0;P<a.length;P++)for(var Q=e[P],Ee=0;Ee<Q.length;Ee++)m.push(a[P]);return m},T.V=function(e){No(this);var a=[];if("string"==typeof e)Ws(this,e)&&(a=zn(a,this.a.get(Kn(this,e))));else{e=this.a.V();for(var m=0;m<e.length;m++)a=zn(a,e[m])}return a},T.set=function(e,a){return No(this),this.c=null,Ws(this,e=Kn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[a]),this.b+=1,this},T.get=function(e,a){return e&&0<(e=this.V(e)).length?String(e[0]):a},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],a=this.a.X(),m=0;m<a.length;m++){var P=a[m],Q=encodeURIComponent(String(P));P=this.V(P);for(var Ee=0;Ee<P.length;Ee++){var Ve=Q;""!==P[Ee]&&(Ve+="="+encodeURIComponent(String(P[Ee]))),e.push(Ve)}}return this.c=e.join("&")};var xo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},zo=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ls(e,a){a.push('"',e.replace(zo,function(m){var P=xo[m];return P||(P="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),xo[m]=P),P}),'"')}function Vi(){var e=Wr();return qe&&!!Er&&11==Er||/Edge\/\d+/.test(e)}function _(){return $.window&&$.window.location.href||self&&self.location&&self.location.href||""}function W(e,a){a=a||$.window;var m="about:blank";e&&(m=st(Ie(e))),a.location.href=m}function fe(e,a){var P,m=[];for(P in e)P in a?typeof e[P]!=typeof a[P]?m.push(P):"object"==typeof e[P]&&null!=e[P]&&null!=a[P]?0<fe(e[P],a[P]).length&&m.push(P):e[P]!==a[P]&&m.push(P):m.push(P);for(P in a)P in e||m.push(P);return m}function Wt(e){return!!((e=(e||Wr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function rn(e){e=e||$.window;try{e.close()}catch{}}function ur(e,a,m){var P=Math.floor(1e9*Math.random()).toString();a=a||500,m=m||600;var Q=(window.screen.availHeight-m)/2,Ee=(window.screen.availWidth-a)/2;for(Ve in a={width:a,height:m,top:0<Q?Q:0,left:0<Ee?Ee:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=Wr().toLowerCase(),P&&(a.target=P,Se(m,"crios/")&&(a.target="_blank")),_n(Wr())==Ne&&(e=e||"http://localhost",a.scrollbars=!0),m=e||"",(e=a)||(e={}),P=window,a=m instanceof qt?m:Ie(typeof m.href<"u"?m.href:String(m)),m=e.target||m.target,Q=[],e)switch(Ve){case"width":case"height":case"top":case"left":Q.push(Ve+"="+e[Ve]);break;case"target":case"noopener":case"noreferrer":break;default:Q.push(Ve+"="+(e[Ve]?1:0))}var Ve=Q.join(",");if((An("iPhone")&&!An("iPod")&&!An("iPad")||An("iPad")||An("iPod"))&&P.navigator&&P.navigator.standalone&&m&&"_self"!=m?(cn(Ve=Wi(document,"A"),"HTMLAnchorElement"),a instanceof qt||a instanceof qt||(a="object"==typeof a&&a.ra?a.qa():String(a),rt.test(a)||(a="about:invalid#zClosurez"),a=new qt(Ft,a)),Ve.href=st(a),Ve.setAttribute("target",m),e.noreferrer&&Ve.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,P,1),Ve.dispatchEvent(e),Ve={}):e.noreferrer?(Ve=P.open("",m,Ve),e=st(a),Ve&&(kt&&Se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),Ve.opener=null,e=lr('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(e)+'">'),P=Ve.document)&&(P.write(Qn(e)),P.close())):(Ve=P.open(st(a),m,Ve))&&e.noopener&&(Ve.opener=null),Ve)try{Ve.focus()}catch{}return Ve}var Xr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^[^@]+@[^@]+$/;function Mo(){var e=null;return new Qe(function(a){"complete"==$.document.readyState?a():(e=function(){a()},ki(window,"load",e))}).o(function(a){throw Ti(window,"load",e),a})}function Jo(e){return e=e||Wr(),!("file:"!==l()&&"ionic:"!==l()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function es(){var e=$.window;try{return!(!e||e==e.top)}catch{return!1}}function xi(){return typeof $.WorkerGlobalScope<"u"&&"function"==typeof $.importScripts}function U(){return y.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":y.INTERNAL.hasOwnProperty("node")?"Node":xi()?"Worker":"Browser"}function me(){var e=U();return"ReactNative"===e||"Node"===e}var Ne="Firefox",At="Chrome";function _n(e){var a=e.toLowerCase();return Se(a,"opera/")||Se(a,"opr/")||Se(a,"opios/")?"Opera":Se(a,"iemobile")?"IEMobile":Se(a,"msie")||Se(a,"trident/")?"IE":Se(a,"edge/")?"Edge":Se(a,"firefox/")?Ne:Se(a,"silk/")?"Silk":Se(a,"blackberry")?"Blackberry":Se(a,"webos")?"Webos":!Se(a,"safari/")||Se(a,"chrome/")||Se(a,"crios/")||Se(a,"android")?!Se(a,"chrome/")&&!Se(a,"crios/")||Se(a,"edge/")?Se(a,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":At:"Safari"}var Fn={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function yr(e,a){a=a||[];var Q,m=[],P={};for(Q in Fn)P[Fn[Q]]=!0;for(Q=0;Q<a.length;Q++)typeof P[a[Q]]<"u"&&(delete P[a[Q]],m.push(a[Q]));return m.sort(),(a=m).length||(a=["FirebaseCore-web"]),"Browser"===(m=U())?m=_n(P=Wr()):"Worker"===m&&(m=_n(P=Wr())+"-"+m),m+"/JsCore/"+e+"/"+a.join(",")}function Wr(){return $.navigator&&$.navigator.userAgent||""}function Fr(e,a){e=e.split("."),a=a||$;for(var m=0;m<e.length&&"object"==typeof a&&null!=a;m++)a=a[e[m]];return m!=e.length&&(a=void 0),a}function oi(){try{var e=$.localStorage,a=he();if(e)return e.setItem(a,"1"),e.removeItem(a),!Vi()||!!$.indexedDB}catch{return xi()&&!!$.indexedDB}return!1}function jr(){return(g()||"chrome-extension:"===l()||Jo())&&!me()&&oi()&&!xi()}function g(){return"http:"===l()||"https:"===l()}function l(){return $.location&&$.location.protocol||null}function d(e){return!(Wt(e=e||Wr())||_n(e)==Ne)}function b(e){return typeof e>"u"?null:ms(e)}function A(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&null!=e[m]&&(a[m]=e[m]);return a}function V(e){if(null!==e)return JSON.parse(e)}function he(e){return e||Math.floor(1e9*Math.random()).toString()}function xe(e){return!("Safari"==_n(e=e||Wr())||e.toLowerCase().match(/iphone|ipad|ipod/))}function lt(){var e=$.___jsl;if(e&&e.H)for(var a in e.H)if(e.H[a].r=e.H[a].r||[],e.H[a].L=e.H[a].L||[],e.H[a].r=e.H[a].L.concat(),e.CP)for(var m=0;m<e.CP.length;m++)e.CP[m]=null}function Je(e,a){if(e>a)throw Error("Short delay should be less than long delay!");this.a=e,this.c=a,e=Wr(),a=U(),this.b=Wt(e)||"ReactNative"===a}function L(){var e=$.document;return!(e&&typeof e.visibilityState<"u")||"visible"==e.visibilityState}function E(e){try{var a=new Date(parseInt(e,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(e))return a.toUTCString()}catch{}return null}function O(){return!(!Fr("fireauth.oauthhelper",$)&&!Fr("fireauth.iframe",$))}Je.prototype.get=function(){var e=$.navigator;return e&&"boolean"==typeof e.onLine&&(g()||"chrome-extension:"===l()||typeof e.connection<"u")&&!e.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var an,yt={};function Ct(e){yt[e]||(yt[e]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(e))}try{var Sn={};Object.defineProperty(Sn,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sn,"abcd",{configurable:!0,enumerable:!0,value:2}),an=2==Sn.abcd}catch{an=!1}function bn(e,a,m){an?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,value:m}):e[a]=m}function er(e,a){if(a)for(var m in a)a.hasOwnProperty(m)&&bn(e,m,a[m])}function Sr(e){var a={};return er(a,e),a}function Vr(e){var a=e;if("object"==typeof e&&null!=e)for(var m in a="length"in e?[]:{},e)bn(a,m,Vr(e[m]));return a}function Oi(e){var a=e&&(e[Bs]?"phone":null);if(!(a&&e&&e[Hi]))throw new D("internal-error","Internal assert: invalid MultiFactorInfo object");bn(this,"uid",e[Hi]),bn(this,"displayName",e[Fo]||null);var m=null;e[no]&&(m=new Date(e[no]).toUTCString()),bn(this,"enrollmentTime",m),bn(this,"factorId",a)}function ji(e){try{var a=new ts(e)}catch{a=null}return a}Oi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Fo="displayName",no="enrolledAt",Hi="mfaEnrollmentId",Bs="phoneInfo";function ts(e){Oi.call(this,e),bn(this,"phoneNumber",e[Bs])}function qi(e){var a={},m=e[Xs],P=e[Rs],Q=e[Ka];if(e=ji(e[Os]),!Q||Q!=po&&Q!=ns&&!m||Q==ns&&!P||Q==Ko&&!e)throw Error("Invalid checkActionCode response!");Q==ns?(a[cr]=m||null,a[pr]=m||null,a[ia]=P):(a[cr]=P||null,a[pr]=P||null,a[ia]=m||null),a[Tr]=e||null,bn(this,vo,Q),bn(this,Yr,Vr(a))}k(ts,Oi),ts.prototype.v=function(){var e=ts.Za.v.call(this);return e.phoneNumber=this.phoneNumber,e};var Ko="REVERT_SECOND_FACTOR_ADDITION",po="EMAIL_SIGNIN",ns="VERIFY_AND_CHANGE_EMAIL",Xs="email",Os="mfaInfo",Rs="newEmail",Ka="requestType",ia="email",cr="fromEmail",Tr="multiFactorInfo",pr="previousEmail",Yr="data",vo="operation";function vs(e){var a=_i(e=$i(e),Di)||null,m=_i(e,Zr)||null,P=_i(e,Ts)||null;if(P=P&&js[P]||null,!a||!m||!P)throw new D("argument-error",Di+", "+Zr+"and "+Ts+" are required in a valid action code URL.");er(this,{apiKey:a,operation:P,code:m,continueUrl:_i(e,Ci)||null,languageCode:_i(e,$o)||null,tenantId:_i(e,To)||null})}var Di="apiKey",Zr="oobCode",Ci="continueUrl",$o="languageCode",Ts="mode",To="tenantId",js={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ko,signIn:po,verifyAndChangeEmail:ns,verifyEmail:"VERIFY_EMAIL"};function Lo(e){try{return new vs(e)}catch{return null}}function oa(e){var a=e[ga];if(typeof a>"u")throw new D("missing-continue-uri");if("string"!=typeof a||"string"==typeof a&&!a.length)throw new D("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var m=e[Zs];if(m&&"object"==typeof m){a=m[Ds];var P=m[Da];if(m=m[sa],"string"==typeof a&&a.length){if(this.a=a,typeof P<"u"&&"boolean"!=typeof P)throw new D("argument-error",Da+" property must be a boolean when specified.");if(this.g=!!P,typeof m<"u"&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new D("argument-error",sa+" property must be a non empty string when specified.");this.b=m||null}else{if(typeof a<"u")throw new D("argument-error",Ds+" property must be a non empty string when specified.");if(typeof P<"u"||typeof m<"u")throw new D("missing-android-pkg-name")}}else if(typeof m<"u")throw new D("argument-error",Zs+" property must be a non null object when specified.");if(this.f=null,(a=e[Wo])&&"object"==typeof a){if("string"==typeof(a=a[$s])&&a.length)this.f=a;else if(typeof a<"u")throw new D("argument-error",$s+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new D("argument-error",Wo+" property must be a non null object when specified.");if(typeof(a=e[cl])<"u"&&"boolean"!=typeof a)throw new D("argument-error",cl+" property must be a boolean when specified.");if(this.c=!!a,typeof(e=e[Ru])<"u"&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new D("argument-error",Ru+" property must be a non empty string when specified.");this.i=e||null}var Zs="android",Ru="dynamicLinkDomain",cl="handleCodeInApp",Wo="iOS",ga="url",Da="installApp",sa="minimumVersion",Ds="packageName",$s="bundleId";function ys(e){var a={};for(var m in a.continueUrl=e.h,a.canHandleCodeInApp=e.c,(a.androidPackageName=e.a)&&(a.androidMinimumVersion=e.b,a.androidInstallApp=e.g),a.iOSBundleId=e.f,a.dynamicLinkDomain=e.i,a)null===a[m]&&delete a[m];return a}var M=null;function ae(e){var a=Ze(e);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.g=e,this.c=a.exp,this.h=a.sub,f(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function Ae(e){try{return new ae(e)}catch{return null}}function Ze(e){if(!e||3!=(e=e.split(".")).length)return null;for(var a=(4-(e=e[1]).length%4)%4,m=0;m<a;m++)e+=".";try{return JSON.parse(function R(e){var a="";return function C(e,a){function m(Ln){for(;P<e.length;){var Xn=e.charAt(P++),qr=M[Xn];if(null!=qr)return qr;if(!/^[\s\xa0]*$/.test(Xn))throw Error("Unknown base64 encoding at char: "+Xn)}return Ln}!function H(){if(!M){M={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var P=e.concat(a[m].split("")),Q=0;Q<P.length;Q++){var Ee=P[Q];void 0===M[Ee]&&(M[Ee]=Q)}}}();for(var P=0;;){var Q=m(-1),Ee=m(0),Ve=m(64),Ht=m(64);if(64===Ht&&-1===Q)break;a(Q<<2|Ee>>4),64!=Ve&&(a(Ee<<4&240|Ve>>2),64!=Ht&&a(Ve<<6&192|Ht))}}(e,function(m){a+=String.fromCharCode(m)}),a}(e))}catch{}return null}ae.prototype.S=function(){return this.f},ae.prototype.i=function(){return this.b},ae.prototype.toString=function(){return this.g};var nn="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),jn=["client_id","response_type","scope","redirect_uri","state"],dr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:jn},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:jn},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:jn},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:nn},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function fr(e){for(var a in dr)if(dr[a].ea==e)return dr[a];return null}function bi(e){var a={};a["facebook.com"]=_s,a["google.com"]=Ia,a["github.com"]=jo,a["twitter.com"]=Pa;var m=e&&e[aa];try{if(m)return a[m]?new a[m](e):new ko(e);if(typeof e[Bo]<"u")return new qs(e)}catch{}return null}var Bo="idToken",aa="providerId";function qs(e){var a=e[aa];if(!a&&e[Bo]){var m=Ae(e[Bo]);m&&m.a&&(a=m.a)}if(!a)throw Error("Invalid additional user info!");("anonymous"==a||"custom"==a)&&(a=null),m=!1,typeof e.isNewUser<"u"?m=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(m=!0),bn(this,"providerId",a),bn(this,"isNewUser",m)}function ko(e){qs.call(this,e),bn(this,"profile",Vr((e=V(e.rawUserInfo||"{}"))||{}))}function _s(e){if(ko.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function jo(e){if(ko.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");bn(this,"username",this.profile&&this.profile.login||null)}function Ia(e){if(ko.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Pa(e){if(ko.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");bn(this,"username",e.screenName||null)}function Nu(e){var a=$i(e),m=_i(a,"link"),P=_i($i(m),"link");return a=_i(a,"deep_link_id"),_i($i(a),"link")||a||P||m||e}function $a(e,a){if(!e&&!a)throw new D("internal-error","Internal assert: no raw session string available");if(e&&a)throw new D("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=a||null,this.type=this.a?ru:Ul}k(ko,qs),k(_s,ko),k(jo,ko),k(Ia,ko),k(Pa,ko);var ru="enroll",Ul="signin";function va(){}function xa(e,a){return e.then(function(m){if(m[Ks]){var P=Ae(m[Ks]);if(!P||a!=P.h)throw new D("user-mismatch");return m}throw new D("user-mismatch")}).o(function(m){throw m&&m.code&&m.code==J+"user-not-found"?new D("user-mismatch"):m})}function qa(e,a){if(!a)throw new D("internal-error","failed to construct a credential");this.a=a,bn(this,"providerId",e),bn(this,"signInMethod",e)}function Tc(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ih(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new qa(e.providerId,e.pendingToken)}catch{}return null}function bs(e,a,m){if(this.a=null,a.idToken||a.accessToken)a.idToken&&bn(this,"idToken",a.idToken),a.accessToken&&bn(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&bn(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else{if(!a.oauthToken||!a.oauthTokenSecret)throw new D("internal-error","failed to construct a credential");bn(this,"accessToken",a.oauthToken),bn(this,"secret",a.oauthTokenSecret)}bn(this,"providerId",e),bn(this,"signInMethod",m)}function Js(e){var a={};return e.idToken&&(a.id_token=e.idToken),e.accessToken&&(a.access_token=e.accessToken),e.secret&&(a.oauth_token_secret=e.secret),a.providerId=e.providerId,e.nonce&&!e.a&&(a.nonce=e.nonce),a={postBody:Ho(a).toString(),requestUri:"http://localhost"},e.a&&(delete a.postBody,a.pendingToken=e.a),a}function dd(e){if(e&&e.providerId&&e.signInMethod){var a={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bs(e.providerId,a,e.signInMethod)}catch{}}return null}function Ma(e,a){this.Oc=a||[],er(this,{providerId:e,isOAuthProvider:!0}),this.Fb={},this.lb=(fr(e)||{}).Ha||null,this.kb=null}function dl(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new D("argument-error",'SAML provider IDs must be prefixed with "saml."');Ma.call(this,e,[])}function Ys(e){Ma.call(this,e,jn),this.a=[]}function hl(){Ys.call(this,"facebook.com")}function Fu(e){if(!e)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return we(e)&&(a=e.accessToken),(new hl).credential({accessToken:a})}function Aa(){Ys.call(this,"github.com")}function ka(e){if(!e)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=e;return we(e)&&(a=e.accessToken),(new Aa).credential({accessToken:a})}function la(){Ys.call(this,"google.com"),this.Aa("profile")}function Dc(e,a){var m=e;return we(e)&&(m=e.idToken,a=e.accessToken),(new la).credential({idToken:m,accessToken:a})}function Vl(){Ma.call(this,"twitter.com",nn)}function Cc(e,a){var m=e;if(we(m)||(m={oauthToken:e,oauthTokenSecret:a}),!m.oauthToken||!m.oauthTokenSecret)throw new D("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bs("twitter.com",m,"twitter.com")}function ya(e,a,m){this.a=e,this.f=a,bn(this,"providerId","password"),bn(this,"signInMethod",m===Ns.EMAIL_LINK_SIGN_IN_METHOD?Ns.EMAIL_LINK_SIGN_IN_METHOD:Ns.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ic(e){return e&&e.email&&e.password?new ya(e.email,e.password,e.signInMethod):null}function Ns(){er(this,{providerId:"password",isOAuthProvider:!1})}function Pc(e,a){if(!(a=Lu(a)))throw new D("argument-error","Invalid email link!");return new ya(e,a.code,Ns.EMAIL_LINK_SIGN_IN_METHOD)}function Lu(e){return(e=Lo(e=Nu(e)))&&e.operation===po?e:null}function _a(e){if(!(e.bb&&e.ab||e.Ja&&e.da))throw new D("internal-error");this.a=e,bn(this,"providerId","phone"),this.ea="phone",bn(this,"signInMethod","phone")}function bf(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var a={};return bt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){e[m]&&(a[m]=e[m])}),new _a(a)}return null}function Bu(e){return e.a.Ja&&e.a.da?{temporaryProof:e.a.Ja,phoneNumber:e.a.da}:{sessionInfo:e.a.bb,code:e.a.ab}}function ua(e){try{this.a=e||y.auth()}catch{throw new D("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}function xc(e,a){if(!e)throw new D("missing-verification-id");if(!a)throw new D("missing-verification-code");return new _a({bb:e,ab:a})}function fl(e){if(e.temporaryProof&&e.phoneNumber)return new _a({Ja:e.temporaryProof,da:e.phoneNumber});var a=e&&e.providerId;if(!a||"password"===a)return null;var m=e&&e.oauthAccessToken,P=e&&e.oauthTokenSecret,Q=e&&e.nonce,Ee=e&&e.oauthIdToken,Ve=e&&e.pendingToken;try{switch(a){case"google.com":return Dc(Ee,m);case"facebook.com":return Fu(m);case"github.com":return ka(m);case"twitter.com":return Cc(m,P);default:return m||P||Ee||Ve?Ve?0==a.indexOf("saml.")?new qa(a,Ve):new bs(a,{pendingToken:Ve,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},a):new Ys(a).credential({idToken:Ee,accessToken:m,rawNonce:Q}):null}}catch{return null}}function Oa(e){if(!e.isOAuthProvider)throw new D("invalid-oauth-provider")}function ca(e,a,m,P,Q,Ee,Ve){if(this.c=e,this.b=a||null,this.g=m||null,this.f=P||null,this.i=Ee||null,this.h=Ve||null,this.a=Q||null,!this.g&&!this.a)throw new D("invalid-auth-event");if(this.g&&this.a)throw new D("invalid-auth-event");if(this.g&&!this.f)throw new D("invalid-auth-event")}function hd(e){return(e=e||{}).type?new ca(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&G(e.error),e.postBody,e.tenantId):null}function fd(){this.b=null,this.a=[]}$a.prototype.Fa=function(){return ir(this.a?this.a:this.b)},$a.prototype.v=function(){return this.type==ru?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},va.prototype.ia=function(){},va.prototype.b=function(){},va.prototype.c=function(){},va.prototype.v=function(){},qa.prototype.ia=function(e){return Dl(e,Tc(this))},qa.prototype.b=function(e,a){var m=Tc(this);return m.idToken=a,Zl(e,m)},qa.prototype.c=function(e,a){return xa(_u(e,Tc(this)),a)},qa.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bs.prototype.ia=function(e){return Dl(e,Js(this))},bs.prototype.b=function(e,a){var m=Js(this);return m.idToken=a,Zl(e,m)},bs.prototype.c=function(e,a){return xa(_u(e,Js(this)),a)},bs.prototype.v=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Ma.prototype.Ia=function(e){return this.Fb=kn(e),this},k(dl,Ma),k(Ys,Ma),Ys.prototype.Aa=function(e){return Bn(this.a,e)||this.a.push(e),this},Ys.prototype.Nb=function(){return On(this.a)},Ys.prototype.credential=function(e,a){var m;if(!(m=we(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:a||null}).idToken&&!m.accessToken)throw new D("argument-error","credential failed: must provide the ID token and/or the access token.");return new bs(this.providerId,m,this.providerId)},k(hl,Ys),bn(hl,"PROVIDER_ID","facebook.com"),bn(hl,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Aa,Ys),bn(Aa,"PROVIDER_ID","github.com"),bn(Aa,"GITHUB_SIGN_IN_METHOD","github.com"),k(la,Ys),bn(la,"PROVIDER_ID","google.com"),bn(la,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Vl,Ma),bn(Vl,"PROVIDER_ID","twitter.com"),bn(Vl,"TWITTER_SIGN_IN_METHOD","twitter.com"),ya.prototype.ia=function(e){return this.signInMethod==Ns.EMAIL_LINK_SIGN_IN_METHOD?xr(e,Ba,{email:this.a,oobCode:this.f}):xr(e,Cr,{email:this.a,password:this.f})},ya.prototype.b=function(e,a){return this.signInMethod==Ns.EMAIL_LINK_SIGN_IN_METHOD?xr(e,ja,{idToken:a,email:this.a,oobCode:this.f}):xr(e,de,{idToken:a,email:this.a,password:this.f})},ya.prototype.c=function(e,a){return xa(this.ia(e),a)},ya.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},er(Ns,{PROVIDER_ID:"password"}),er(Ns,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(Ns,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_a.prototype.ia=function(e){return e.cb(Bu(this))},_a.prototype.b=function(e,a){var m=Bu(this);return m.idToken=a,xr(e,Ur,m)},_a.prototype.c=function(e,a){var m=Bu(this);return m.operation="REAUTH",xa(e=xr(e,ui,m),a)},_a.prototype.v=function(){var e={providerId:"phone"};return this.a.bb&&(e.verificationId=this.a.bb),this.a.ab&&(e.verificationCode=this.a.ab),this.a.Ja&&(e.temporaryProof=this.a.Ja),this.a.da&&(e.phoneNumber=this.a.da),e},ua.prototype.cb=function(e,a){var m=this.a.b;return ir(a.verify()).then(function(P){if("string"!=typeof P)throw new D("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===a.type){var Ve,Q=we(e)?e.session:null,Ee=we(e)?e.phoneNumber:e;return Ve=Q&&Q.type==ru?Q.Fa().then(function(Ht){return function yd(e,a){return xr(e,mt,a).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:Ht,phoneEnrollmentInfo:{phoneNumber:Ee,recaptchaToken:P}})}):Q&&Q.type==Ul?Q.Fa().then(function(Ht){return function uh(e,a){return xr(e,Kt,a).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:Ht,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:P}})}):function El(e,a){return xr(e,x,a)}(m,{phoneNumber:Ee,recaptchaToken:P}),Ve.then(function(Ht){return"function"==typeof a.reset&&a.reset(),Ht},function(Ht){throw"function"==typeof a.reset&&a.reset(),Ht})}throw new D("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},er(ua,{PROVIDER_ID:"phone"}),er(ua,{PHONE_SIGN_IN_METHOD:"phone"}),ca.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},ca.prototype.S=function(){return this.h},ca.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Uu,ju=null;function Yu(e){var a="unauthorized-domain",m=void 0,P=$i(e);e=P.b,"chrome-extension"==(P=P.f)?m=Tt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==P||"https"==P?m=Tt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):a="operation-not-supported-in-this-environment",D.call(this,a,m)}function Hl(e,a,m){D.call(this,e,m),(e=a||{}).Gb&&bn(this,"email",e.Gb),e.da&&bn(this,"phoneNumber",e.da),e.credential&&bn(this,"credential",e.credential),e.Wb&&bn(this,"tenantId",e.Wb)}function pl(e){if(e.code){var a=e.code||"";0==a.indexOf(J)&&(a=a.substring(J.length));var m={credential:fl(e),Wb:e.tenantId};if(e.email)m.Gb=e.email;else if(e.phoneNumber)m.da=e.phoneNumber;else if(!m.credential)return new D(a,e.message||void 0);return new Hl(a,m,e.message)}return null}function Gs(){}function Vu(){}function kc(e){if(!e.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<a.length;m++){var P=a[m];try{return new ActiveXObject(P),e.f=P}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function zl(){}function Hu(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=ke(this.oc,this),this.a.onerror=ke(this.Pb,this),this.a.onprogress=ke(this.pc,this),this.a.ontimeout=ke(this.tc,this)}function iu(e,a){e.readyState=a,e.onreadystatechange&&e.onreadystatechange()}function Qa(e,a,m){this.reset(e,a,m,void 0,void 0)}function ou(e){this.f=e,this.b=this.c=this.a=null}function su(e,a){this.name=e,this.value=a}k(Yu,D),k(Hl,D),Hl.prototype.v=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var a=this.credential&&this.credential.v();return a&&Ir(e,a),e},Hl.prototype.toJSON=function(){return this.v()},Gs.prototype.c=null,k(Vu,Gs),Vu.prototype.a=function(){var e=kc(this);return e?new ActiveXObject(e):new XMLHttpRequest},Vu.prototype.b=function(){var e={};return kc(this)&&(e[0]=!0,e[1]=!0),e},Uu=new Vu,k(zl,Gs),zl.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if(typeof XDomainRequest<"u")return new Hu;throw Error("Unsupported browser")},zl.prototype.b=function(){return{}},(T=Hu.prototype).open=function(e,a,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(e,a)},T.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},T.abort=function(){this.a.abort()},T.setRequestHeader=function(){},T.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},T.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,iu(this,4)},T.Pb=function(){this.status=500,this.response=this.responseText="",iu(this,4)},T.tc=function(){this.Pb()},T.pc=function(){this.status=200,iu(this,1)},T.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qa.prototype.a=null,Qa.prototype.reset=function(e,a,m,P,Q){P||f(),delete this.a},su.prototype.toString=function(){return this.name};var Cs=new su("SEVERE",1e3),da=new su("WARNING",900),pd=new su("CONFIG",700),Rc=new su("FINE",500);function Is(e){return e.c?e.c:e.a?Is(e.a):(te("Root logger has no level set."),null)}ou.prototype.log=function(e,a,m){if(e.value>=Is(this).value)for(zt(a)&&(a=a()),e=new Qa(e,String(a),this.f),m&&(e.a=m),m=this;m;)m=m.a};var ml={},au=null;function lu(e){var a;if(au||(au=new ou(""),ml[""]=au,au.c=pd),!(a=ml[e])){a=new ou(e);var m=e.lastIndexOf("."),P=e.substr(m+1);(m=lu(e.substr(0,m))).b||(m.b={}),m.b[P]=a,a.a=m,ml[e]=a}return a}function Qs(e,a){e&&e.log(Rc,a,void 0)}function uu(e){this.f=e}function Nc(e){Ki.call(this),this.s=e,this.readyState=zu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=lu("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(uu,Gs),uu.prototype.a=function(){return new Nc(this.f)},uu.prototype.b=function(e){return function(){return e}}({}),k(Nc,Ki);var zu=0;function Wu(e){e.c.read().then(e.nc.bind(e)).catch(e.Sa.bind(e))}function Xa(e,a){a&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,cu(e)}function cu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function du(e){Ki.call(this),this.headers=new go,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=Gu,this.w=this.R=!1}(T=Nc.prototype).open=function(e,a){if(this.readyState!=zu)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=a,this.readyState=1,cu(this)},T.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(a.body=e),this.s.fetch(new Request(this.g,a)).then(this.sc.bind(this),this.Sa.bind(this))},T.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Xa(this,!1)),this.readyState=zu},T.sc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,cu(this)),this.a&&(this.readyState=3,cu(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):typeof $.ReadableStream<"u"&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Wu(this)):e.text().then(this.rc.bind(this),this.Sa.bind(this)))))},T.nc=function(e){if(this.a){var a=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});a&&(this.response=this.responseText+=a),e.done?Xa(this,!0):cu(this),3==this.readyState&&Wu(this)}},T.rc=function(e){this.a&&(this.response=this.responseText=e,Xa(this,!0))},T.qc=function(e){this.a&&(this.response=e,Xa(this,!0))},T.Sa=function(e){var a=this.h;a&&a.log(da,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Xa(this,!0)},T.setRequestHeader=function(e,a){this.i.append(e,a)},T.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(da,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},T.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(da,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var a=this.b.entries(),m=a.next();!m.done;)e.push((m=m.value)[0]+": "+m[1]),m=a.next();return e.join("\r\n")},k(du,Ki);var Gu="";du.prototype.b=lu("goog.net.XhrIo");var Fc=/^https?$/i,oh=["POST","PUT"];function ah(e){return"content-type"==e.toLowerCase()}function Ku(e,a){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=a,$u(e),ba(e)}function $u(e){e.N||(e.N=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Lc(e){if(e.c&&typeof oe<"u")if(e.B[1]&&4==Za(e)&&2==fu(e))Qs(e.b,Ra(e,"Local request error detected and ignored"));else if(e.i&&4==Za(e))Nr(e.Sb,0,e);else if(e.dispatchEvent("readystatechange"),4==Za(e)){Qs(e.b,Ra(e,"Request complete")),e.c=!1;try{var P,a=fu(e);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(P=m)){var Q;if(Q=0===a){var Ee=String(e.l).match(Vs)[1]||null;if(!Ee&&$.self&&$.self.location){var Ve=$.self.location.protocol;Ee=Ve.substr(0,Ve.length-1)}Q=!Fc.test(Ee?Ee.toLowerCase():"")}P=Q}if(P)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var Ht=2<Za(e)?e.a.statusText:""}catch(Ln){Qs(e.b,"Can not get status: "+Ln.message),Ht=""}e.h=Ht+" ["+fu(e)+"]",$u(e)}}finally{ba(e)}}}function ba(e,a){if(e.a){qu(e);var m=e.a,P=e.B[0]?De:null;e.a=null,e.B=null,a||e.dispatchEvent("ready");try{m.onreadystatechange=P}catch(Q){(e=e.b)&&e.log(Cs,"Problem encountered resetting onreadystatechange: "+Q.message,void 0)}}}function qu(e){e.a&&e.w&&(e.a.ontimeout=null),e.s&&($.clearTimeout(e.s),e.s=null)}function Za(e){return e.a?e.a.readyState:0}function fu(e){try{return 2<Za(e)?e.a.status:-1}catch{return-1}}function Ra(e,a){return a+" ["+e.P+" "+e.l+" "+fu(e)+"]"}function wa(e){var a=Ea;this.g=[],this.w=a,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ja(e,a,m){e.a=!0,e.c=m,e.f=!a,el(e)}function Gl(e){if(e.a){if(!e.u)throw new Kl(e);e.u=!1}}function Bc(e,a,m,P){e.g.push([a,m,P]),e.a&&el(e)}function Na(e){return Xt(e.g,function(a){return zt(a[1])})}function el(e){if(e.h&&e.a&&Na(e)){var a=e.h,m=Qu[a];m&&($.clearTimeout(m.a),delete Qu[a]),e.h=0}e.b&&(e.b.l--,delete e.b),a=e.c;for(var P=m=!1;e.g.length&&!e.i;){var Q=e.g.shift(),Ee=Q[0],Ve=Q[1];if(Q=Q[2],Ee=e.f?Ve:Ee)try{var Ht=Ee.call(Q||e.s,a);void 0!==Ht&&(e.f=e.f&&(Ht==a||Ht instanceof Error),e.c=a=Ht),(He(a)||"function"==typeof $.Promise&&a instanceof $.Promise)&&(P=!0,e.i=!0)}catch(Ln){a=Ln,e.f=!0,Na(e)||(m=!0)}}e.c=a,P&&(Ht=ke(e.m,e,!0),P=ke(e.m,e,!1),a instanceof wa?(Bc(a,Ht,P),a.B=!0):a.then(Ht,P)),m&&(a=new md(a),Qu[a.a]=a,e.h=a.a)}function Kl(){ut.call(this)}function vl(){ut.call(this)}function md(e){this.a=$.setTimeout(ke(this.c,this),0),this.b=e}(T=du.prototype).Ka=function(){typeof oe<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Qs(this.b,Ra(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},T.abort=function(){this.a&&this.c&&(Qs(this.b,Ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},T.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),du.Za.Ba.call(this)},T.Sb=function(){this.wa||(this.O||this.i||this.f?Lc(this):this.Hc())},T.Hc=function(){Lc(this)},T.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Gu:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Cs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Qs(this.b,"Can not get response: "+a.message),null}},wa.prototype.cancel=function(e){if(this.a)this.c instanceof wa&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,e?a.cancel(e):(a.l--,0>=a.l&&a.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(e=new vl(this),Gl(this),Ja(this,!1,e))}},wa.prototype.m=function(e,a){this.i=!1,Ja(this,e,a)},wa.prototype.then=function(e,a,m){var P,Q,Ee=new Qe(function(Ve,Ht){P=Ve,Q=Ht});return Bc(this,P,function(Ve){Ve instanceof vl?Ee.cancel():Q(Ve)}),Ee.then(e,a,m)},wa.prototype.$goog_Thenable=!0,k(Kl,ut),Kl.prototype.message="Deferred has already fired",Kl.prototype.name="AlreadyCalledError",k(vl,ut),vl.prototype.message="Deferred was canceled",vl.prototype.name="CanceledError",md.prototype.c=function(){throw delete Qu[this.a],this.b};var Qu={};function Xu(e){var a={},m=a.document||document,P=St(e).toString(),Q=Wi(document,"SCRIPT"),Ee={Tb:Q,Ka:void 0},Ve=new wa(Ee),Ht=null,Ln=null!=a.timeout?a.timeout:5e3;return 0<Ln&&(Ht=window.setTimeout(function(){mu(Q,!0);var Xn=new jc(lh,"Timeout reached for loading script "+P);Gl(Ve),Ja(Ve,!1,Xn)},Ln),Ee.Ka=Ht),Q.onload=Q.onreadystatechange=function(){Q.readyState&&"loaded"!=Q.readyState&&"complete"!=Q.readyState||(mu(Q,a.ud||!1,Ht),Gl(Ve),Ja(Ve,!0,null))},Q.onerror=function(){mu(Q,!0,Ht);var Xn=new jc($l,"Error while loading script "+P);Gl(Ve),Ja(Ve,!1,Xn)},Ir(Ee=a.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Dr(Q,Ee),function pt(e,a){cn(e,"HTMLScriptElement"),e.src=St(a),null===Te&&(Te=(a=(a=$.document).querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&Me.test(a)?a:""),(a=Te)&&e.setAttribute("nonce",a)}(Q,e),function pu(e){var a;return(a=(e||document).getElementsByTagName("HEAD"))&&0!=a.length?a[0]:e.documentElement}(m).appendChild(Q),Ve}function Ea(){if(this&&this.Tb){var e=this.Tb;e&&"SCRIPT"==e.tagName&&mu(e,!0,this.Ka)}}function mu(e,a,m){null!=m&&$.clearTimeout(m),e.onload=De,e.onerror=De,e.onreadystatechange=De,a&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var $l=0,lh=1;function jc(e,a){var m="Jsloader error (code #"+e+")";a&&(m+=": "+a),ut.call(this,m),this.code=e}function tl(e){this.f=e}function ea(e,a,m){if(this.c=e,this.u=(e=a||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ju,this.g=kn(e.secureTokenHeaders||gu),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=e.firebaseTimeout||Yc,this.a=kn(e.firebaseHeaders||Sa),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==U(),!(m=$.XMLHttpRequest||m&&y.INTERNAL.node&&y.INTERNAL.node.XMLHttpRequest)&&!xi())throw new D("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=xi()?new uu(self):me()?new tl(m):new zl,this.b=null}k(jc,ut),k(tl,Gs),tl.prototype.a=function(){return new this.f},tl.prototype.b=function(){return{}};var Zu,Ks="idToken",Ju=new Je(3e4,6e4),gu={"Content-Type":"application/x-www-form-urlencoded"},Yc=new Je(3e4,6e4),Sa={"Content-Type":"application/json"};function ql(e,a){a?e.a["X-Firebase-Locale"]=a:delete e.a["X-Firebase-Locale"]}function ec(e,a){a?(e.a["X-Client-Version"]=a,e.g["X-Client-Version"]=a):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Ql(e,a,m,P,Q,Ee,Ve){(function $e(){var e=Wr();return!((e=_n(e)!=At?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||qe&&Er&&!(9<Er))})()||xi()?e=ke(e.w,e):(Zu||(Zu=new Qe(function(Ht,Ln){!function _l(e,a){((window.gapi||{}).client||{}).request?e():($[Xl]=function(){((window.gapi||{}).client||{}).request?e():a(Error("CORS_UNSUPPORTED"))},function gl(e,a){Bc(e,null,a,void 0)}(Xu(vn(yl,{onload:Xl})),function(){a(Error("CORS_UNSUPPORTED"))}))}(Ht,Ln)})),e=ke(e.s,e)),e(a,m,P,Q,Ee,Ve)}ea.prototype.S=function(){return this.b},ea.prototype.w=function(e,a,m,P,Q,Ee){if(xi()&&(typeof $.fetch>"u"||typeof $.Headers>"u"||typeof $.Request>"u"))throw new D("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Ve=new du(this.f);if(Ee){Ve.g=Math.max(0,Ee);var Ht=setTimeout(function(){Ve.dispatchEvent("timeout")},Ee)}Xi(Ve,"complete",function(){Ht&&clearTimeout(Ht);var Ln=null;try{Ln=JSON.parse(function Wl(e){try{return e.a?e.a.responseText:""}catch(a){return Qs(e.b,"Can not get responseText: "+a.message),""}}(this))||null}catch{Ln=null}a&&a(Ln)}),ss(Ve,"ready",function(){Ht&&clearTimeout(Ht),ne(this)}),ss(Ve,"timeout",function(){Ht&&clearTimeout(Ht),ne(this),a&&a(null)}),function hu(e,a,m,P,Q){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+a);m=m?m.toUpperCase():"GET",e.l=a,e.h="",e.P=m,e.N=!1,e.c=!0,e.a=e.D?e.D.a():Uu.a(),e.B=function Ac(e){return e.c||(e.c=e.b())}(e.D?e.D:Uu),e.a.onreadystatechange=ke(e.Sb,e);try{Qs(e.b,Ra(e,"Opening Xhr")),e.O=!0,e.a.open(m,String(a),!0),e.O=!1}catch(Ve){return Qs(e.b,Ra(e,"Error opening Xhr: "+Ve.message)),void Ku(e,Ve)}a=P||"";var Ee=new go(e.headers);Q&&function Zo(e,a){if(e.forEach&&"function"==typeof e.forEach)e.forEach(a,void 0);else if(Zt(e)||"string"==typeof e)bt(e,a,void 0);else for(var m=Ls(e),P=Yo(e),Q=P.length,Ee=0;Ee<Q;Ee++)a.call(void 0,P[Ee],m&&m[Ee],e)}(Q,function(Ve,Ht){Ee.set(Ht,Ve)}),Q=function dn(e){e:{for(var a=ah,m=e.length,P="string"==typeof e?e.split(""):e,Q=0;Q<m;Q++)if(Q in P&&a.call(void 0,P[Q],Q,e)){a=Q;break e}a=-1}return 0>a?null:"string"==typeof e?e.charAt(a):e[a]}(Ee.X()),P=$.FormData&&a instanceof $.FormData,!Bn(oh,m)||Q||P||Ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Ee.forEach(function(Ve,Ht){this.a.setRequestHeader(Ht,Ve)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{qu(e),0<e.g&&(e.w=function sh(e){return qe&&gi(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Qs(e.b,Ra(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.w)),e.w?(e.a.timeout=e.g,e.a.ontimeout=ke(e.Ka,e)):e.s=Nr(e.Ka,e.g,e)),Qs(e.b,Ra(e,"Sending request")),e.i=!0,e.a.send(a),e.i=!1}catch(Ve){Qs(e.b,Ra(e,"Send error: "+Ve.message)),Ku(e,Ve)}}(Ve,e,m,P,Q)};var yl=new Pt(ue,"https://apis.google.com/js/client.js?onload=%{onload}"),Xl="__fcb"+Math.floor(1e6*Math.random()).toString();function bl(e){if("string"!=typeof(e=e.email)||!ao.test(e))throw new D("invalid-email")}function vd(e){"email"in e&&bl(e)}function Fs(e){if(!e[Ks])throw e.mfaPendingCredential?new D("multi-factor-auth-required",null,kn(e)):new D("internal-error")}function wl(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new D("internal-error")}else{if(!e.sessionInfo)throw new D("missing-verification-id");if(!e.code)throw new D("missing-verification-code")}}ea.prototype.s=function(e,a,m,P,Q){var Ee=this;Zu.then(function(){window.gapi.client.setApiKey(Ee.c);var Ve=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:m,body:P,headers:Q,authType:"none",callback:function(Ht){window.gapi.auth.setToken(Ve),a&&a(Ht)}})}).o(function(Ve){a&&a({error:{message:Ve&&Ve.message||"CORS_UNSUPPORTED"}})})},ea.prototype.vb=function(){return xr(this,Ye,{})},ea.prototype.xb=function(e,a){return xr(this,K,{idToken:e,email:a})},ea.prototype.yb=function(e,a){return xr(this,de,{idToken:e,password:a})};var yu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Fa(e){if(!e.phoneVerificationInfo)throw new D("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new D("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new D("missing-verification-code")}function Tl(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new D("internal-error")}function Hc(e,a){return a.oauthIdToken&&a.providerId&&0==a.providerId.indexOf("oidc.")&&!a.pendingToken&&(e.sessionId?a.nonce=e.sessionId:e.postBody&&Ws(e=new so(e.postBody),"nonce")&&(a.nonce=e.get("nonce"))),a}function zc(e){var a=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",a=pl(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",a=pl(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",a=pl(e)):e.errorMessage&&(a=wo(e.errorMessage)),a)throw a;Fs(e)}function Dl(e,a){return a.returnIdpCredential=!0,xr(e,$t,a)}function Zl(e,a){return a.returnIdpCredential=!0,xr(e,Dn,a)}function _u(e,a){return a.returnIdpCredential=!0,a.autoCreate=!1,xr(e,un,a)}function bu(e){if(!e.oobCode)throw new D("invalid-action-code")}(T=ea.prototype).zb=function(e,a){var m={idToken:e},P=[];return Hn(yu,function(Q,Ee){var Ve=a[Ee];null===Ve?P.push(Q):Ee in a&&(m[Ee]=Ve)}),P.length&&(m.deleteAttribute=P),xr(this,K,m)},T.rb=function(e,a){return Ir(e={requestType:"PASSWORD_RESET",email:e},a),xr(this,o,e)},T.sb=function(e,a){return Ir(e={requestType:"EMAIL_SIGNIN",email:e},a),xr(this,wd,e)},T.qb=function(e,a){return Ir(e={requestType:"VERIFY_EMAIL",idToken:e},a),xr(this,s,e)},T.Ab=function(e,a,m){return Ir(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:a},m),xr(this,n,e)},T.cb=function(e){return xr(this,_r,e)},T.jb=function(e,a){return xr(this,w,{oobCode:e,newPassword:a})},T.Pa=function(e){return xr(this,La,{oobCode:e})},T.fb=function(e){return xr(this,wu,{oobCode:e})};var wu={endpoint:"setAccountInfo",A:bu,Y:"email",C:!0},La={endpoint:"resetPassword",A:bu,G:function(e){var a=e.requestType;if(!a||!e.email&&"EMAIL_SIGNIN"!=a&&"VERIFY_AND_CHANGE_EMAIL"!=a)throw new D("internal-error")},C:!0},tc={endpoint:"signupNewUser",A:function(e){if(bl(e),!e.password)throw new D("weak-password")},G:Fs,U:!0,C:!0},Wc={endpoint:"createAuthUri",C:!0},_d={endpoint:"deleteAccount",M:["idToken"]},bd={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(e){if("array"!=_t(e.deleteProvider))throw new D("internal-error")}},Ba={endpoint:"emailLinkSignin",M:["email","oobCode"],A:bl,G:Fs,U:!0,C:!0},ja={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:bl,G:Fs,U:!0},nl={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:Fa,G:Fs,C:!0,La:!0},ch={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:Fa,G:Fs,C:!0,La:!0},dh={endpoint:"getAccountInfo"},wd={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new D("internal-error");bl(e)},Y:"email",C:!0},s={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new D("internal-error")},Y:"email",C:!0},n={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new D("internal-error")},Y:"email",C:!0},o={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new D("internal-error");bl(e)},Y:"email",C:!0},c={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},p={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new D("internal-error")}},w={endpoint:"resetPassword",A:bu,Y:"email",C:!0},x={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},K={endpoint:"setAccountInfo",M:["idToken"],A:vd,U:!0},de={endpoint:"setAccountInfo",M:["idToken"],A:function(e){if(vd(e),!e.password)throw new D("weak-password")},G:Fs,U:!0},Ye={endpoint:"signupNewUser",G:Fs,U:!0,C:!0},mt={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new D("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new D("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new D("internal-error")},C:!0,La:!0},Kt={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new D("internal-error")},C:!0,La:!0},$t={endpoint:"verifyAssertion",A:Tl,Wa:Hc,G:zc,U:!0,C:!0},un={endpoint:"verifyAssertion",A:Tl,Wa:Hc,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new D("user-not-found");if(e.errorMessage)throw wo(e.errorMessage);Fs(e)},U:!0,C:!0},Dn={endpoint:"verifyAssertion",A:function(e){if(Tl(e),!e.idToken)throw new D("internal-error")},Wa:Hc,G:zc,U:!0},Yn={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new D("invalid-custom-token")},G:Fs,U:!0,C:!0},Cr={endpoint:"verifyPassword",A:function(e){if(bl(e),!e.password)throw new D("wrong-password")},G:Fs,U:!0,C:!0},_r={endpoint:"verifyPhoneNumber",A:wl,G:Fs,C:!0},Ur={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new D("internal-error");wl(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",pl(e);Fs(e)}},ui={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:wl,G:Fs,C:!0},Yi={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ks]^!!e.refreshToken)throw new D("internal-error")},C:!0,La:!0};function xr(e,a,m){if(!function kr(e,a){if(!a||!a.length)return!0;if(!e)return!1;for(var m=0;m<a.length;m++){var P=e[a[m]];if(null==P||""===P)return!1}return!0}(m,a.M))return or(new D("internal-error"));var Ee,P=!!a.La,Q=a.Rb||"POST";return ir(m).then(a.A).then(function(){return a.U&&(m.returnSecureToken=!0),a.C&&e.b&&typeof m.tenantId>"u"&&(m.tenantId=e.b),function Uc(e,a,m,P,Q,Ee,Ve){var Ht=$i(a+m);Bi(Ht,"key",e.c),Ve&&Bi(Ht,"cb",f().toString());var Ln="GET"==P;if(Ln)for(var Xn in Q)Q.hasOwnProperty(Xn)&&Bi(Ht,Xn,Q[Xn]);return new Qe(function(qr,Eo){Ql(e,Ht.toString(),function(Ji){Ji?Ji.error?Eo(ta(Ji,Ee||{})):qr(Ji):Eo(new D("network-request-failed"))},P,Ln?void 0:ms(A(Q)),e.a,e.i.get())})}(e,P?e.l:e.h,a.endpoint,Q,m,a.Eb,a.hb||!1)}).then(function(Ve){return Ee=Ve,a.Wa?a.Wa(m,Ee):Ee}).then(a.G).then(function(){if(!a.Y)return Ee;if(!(a.Y in Ee))throw new D("internal-error");return Ee[a.Y]})}function wo(e){return ta({error:{errors:[{message:e}],code:400,message:e}})}function ta(e,a){var m=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",P={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=P[m]?new D(P[m]):null)return m;for(var Q in m=e.error&&e.error.message||"",Ir(P={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},a||{}),a=(a=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0,P)if(0===m.indexOf(Q))return new D(P[Q],a);return!a&&e&&(a=b(e)),new D("internal-error",a)}function Ya(e){this.b=e,this.a=null,this.nb=function Jl(e){return function na(){return Oo||(Oo=new Qe(function(e,a){function m(){lt(),Fr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){lt(),a(Error("Network Error"))},timeout:Su.get()})}if(Fr("gapi.iframes.Iframe"))e();else if(Fr("gapi.load"))m();else{var P="__iframefcb"+Math.floor(1e6*Math.random()).toString();$[P]=function(){Fr("gapi.load")?m():a(Error("Network Error"))},ir(Xu(P=vn(Cl,{onload:P}))).o(function(){a(Error("Network Error"))})}}).o(function(e){throw Oo=null,e}))}().then(function(){return new Qe(function(a,m){Fr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(P){function Q(){clearTimeout(Ee),a()}e.a=P,e.a.restyle({setHideOnLeave:!1});var Ee=setTimeout(function(){m(Error("Network Error"))},Gc.get());P.ping(Q).then(Q,function(){m(Error("Network Error"))})})})})}(this)}var Cl=new Pt(ue,"https://apis.google.com/js/api.js?onload=%{onload}"),Su=new Je(3e4,6e4),Gc=new Je(5e3,15e3),Oo=null;function Ua(e,a,m){this.i=e,this.g=a,this.h=m,this.f=null,this.a=ks(this.i,"/__/auth/iframe"),Bi(this.a,"apiKey",this.g),Bi(this.a,"appName",this.h),this.b=null,this.c=[]}function Kc(e,a,m,P,Q){this.s=e,this.m=a,this.c=m,this.u=P,this.i=this.g=this.l=null,this.a=Q,this.h=this.f=null}function Ed(e){try{return y.app(e).auth().Ea()}catch{return[]}}function wf(e,a,m,P,Q){this.u=e,this.f=a,this.b=m,this.c=P||null,this.h=Q||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function Ef(e){var a=_();return function Vc(e){return xr(e,c,{}).then(function(a){return a.authorizedDomains||[]})}(e).then(function(m){e:{var P=$i(a),Q=P.f;P=P.b;for(var Ee=0;Ee<m.length;Ee++){var Ve=m[Ee],Ht=P,Ln=Q;if(0==Ve.indexOf("chrome-extension://")?Ht=$i(Ve).b==Ht&&"chrome-extension"==Ln:"http"!=Ln&&"https"!=Ln?Ht=!1:Xr.test(Ve)?Ht=Ht==Ve:(Ve=Ve.split(".").join("\\."),Ht=new RegExp("^(.+\\."+Ve+"|"+Ve+")$","i").test(Ht)),Ht){m=!0;break e}}m=!1}if(!m)throw new Yu(_())})}function Sf(e){return e.l||(e.l=Mo().then(function(){if(!e.s){var a=e.c,m=e.h,P=Ed(e.b),Q=new Ua(e.u,e.f,e.b);Q.f=a,Q.b=m,Q.c=On(P||[]),e.s=Q.toString()}e.i=new Ya(e.s),function Tg(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function rl(e,a){e.nb.then(function(){e.a.register("authEvent",a,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.i,function(a){var m={};if(a&&a.authEvent){var P=!1;for(a=hd(a.authEvent),m=0;m<e.g.length;m++)P=e.g[m](a)||P;return(m={}).status=P?"ACK":"ERROR",ir(m)}return m.status="ERROR",ir(m)})}(e)})),e.l}function Tf(e){return e.m||(e.w=e.c?yr(e.c,Ed(e.b)):null,e.m=new ea(e.f,Ke(e.h),e.w)),e.m}function nc(e,a,m,P,Q,Ee,Ve,Ht,Ln,Xn,qr){return(e=new Kc(e,a,m,P,Q)).l=Ee,e.g=Ve,e.i=Ht,e.b=kn(Ln||null),e.f=Xn,e.ub(qr).toString()}function rc(e){if(this.a=e||y.INTERNAL.reactNative&&y.INTERNAL.reactNative.AsyncStorage,!this.a)throw new D("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Sd(e){this.b=e,this.a={},this.f=ke(this.c,this)}Ua.prototype.toString=function(){return this.f?Bi(this.a,"v",this.f):as(this.a.a,"v"),this.b?Bi(this.a,"eid",this.b):as(this.a.a,"eid"),this.c.length?Bi(this.a,"fw",this.c.join(",")):as(this.a.a,"fw"),this.a.toString()},Kc.prototype.ub=function(e){return this.h=e,this},Kc.prototype.toString=function(){var e=ks(this.s,"/__/auth/handler");if(Bi(e,"apiKey",this.m),Bi(e,"appName",this.c),Bi(e,"authType",this.u),this.a.isOAuthProvider){var a=this.a;try{var m=y.app(this.c).auth().ja()}catch{m=null}for(var P in a.kb=m,Bi(e,"providerId",this.a.providerId),m=A((a=this.a).Fb))m[P]=m[P].toString();P=a.Oc,m=kn(m);for(var Q=0;Q<P.length;Q++){var Ee=P[Q];Ee in m&&delete m[Ee]}a.lb&&a.kb&&!m[a.lb]&&(m[a.lb]=a.kb),Rn(m)||Bi(e,"customParameters",b(m))}if("function"==typeof this.a.Nb&&(a=this.a.Nb()).length&&Bi(e,"scopes",a.join(",")),this.l?Bi(e,"redirectUrl",this.l):as(e.a,"redirectUrl"),this.g?Bi(e,"eventId",this.g):as(e.a,"eventId"),this.i?Bi(e,"v",this.i):as(e.a,"v"),this.b)for(var Ve in this.b)this.b.hasOwnProperty(Ve)&&!_i(e,Ve)&&Bi(e,Ve,this.b[Ve]);return this.h?Bi(e,"tid",this.h):as(e.a,"tid"),this.f?Bi(e,"eid",this.f):as(e.a,"eid"),(Ve=Ed(this.c)).length&&Bi(e,"fw",Ve.join(",")),e.toString()},(T=wf.prototype).Lb=function(e,a,m){var P=new D("popup-closed-by-user"),Q=new D("web-storage-unsupported"),Ee=this,Ve=!1;return this.ka().then(function(){(function Dg(e){var a={type:"webStorageSupport"};return Sf(e).then(function(){return function Eu(e,a){return e.nb.then(function(){return new Qe(function(m){e.a.send(a.type,a,m,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.i,a)}).then(function(m){if(m&&m.length&&typeof m[0].webStorageSupport<"u")return m[0].webStorageSupport;throw Error()})})(Ee).then(function(Ht){Ht||(e&&rn(e),a(Q),Ve=!0)})}).o(function(){}).then(function(){if(!Ve)return function ii(e){return new Qe(function(a){return function m(){co(2e3).then(function(){if(e&&!e.closed)return m();a()})}()})}(e)}).then(function(){if(!Ve)return co(m).then(function(){a(P)})})},T.Ub=function(){var e=Wr();return!d(e)&&!xe(e)},T.Qb=function(){return!1},T.Jb=function(e,a,m,P,Q,Ee,Ve,Ht){if(!e)return or(new D("popup-blocked"));if(Ve&&!d())return this.ka().o(function(Xn){rn(e),Q(Xn)}),P(),ir();this.a||(this.a=Ef(Tf(this)));var Ln=this;return this.a.then(function(){var Xn=Ln.ka().o(function(qr){throw rn(e),Q(qr),qr});return P(),Xn}).then(function(){Oa(m),Ve||W(nc(Ln.u,Ln.f,Ln.b,a,m,null,Ee,Ln.c,void 0,Ln.h,Ht),e)}).o(function(Xn){throw"auth/network-request-failed"==Xn.code&&(Ln.a=null),Xn})},T.Kb=function(e,a,m,P){this.a||(this.a=Ef(Tf(this)));var Q=this;return this.a.then(function(){Oa(a),W(nc(Q.u,Q.f,Q.b,e,a,_(),m,Q.c,void 0,Q.h,P))}).o(function(Ee){throw"auth/network-request-failed"==Ee.code&&(Q.a=null),Ee})},T.ka=function(){var e=this;return Sf(this).then(function(){return e.i.nb}).o(function(){throw e.a=null,new D("network-request-failed")})},T.Xb=function(){return!0},T.Ca=function(e){this.g.push(e)},T.Qa=function(e){$n(this.g,function(a){return a==e})},(T=rc.prototype).get=function(e){return ir(this.a.getItem(e)).then(function(a){return a&&V(a)})},T.set=function(e,a){return ir(this.a.setItem(e,b(a)))},T.T=function(e){return ir(this.a.removeItem(e))},T.ba=function(){},T.ha=function(){};var Pf,hh=[];function fh(e,a,m){Rn(e.a)&&e.b.addEventListener("message",e.f),typeof e.a[a]>"u"&&(e.a[a]=[]),e.a[a].push(m)}function Cf(e){this.a=e}function If(e){this.c=e,this.b=!1,this.a=[]}function ph(e,a,m,P){var Q,Ve,Ht,Ln,Ee=m||{},Xn=null;if(e.b)return or(Error("connection_unavailable"));var qr=P?800:50,Eo=typeof MessageChannel<"u"?new MessageChannel:null;return new Qe(function(Ji,Ms){Eo?(Q=Math.floor(Math.random()*Math.pow(10,20)).toString(),Eo.port1.start(),Ht=setTimeout(function(){Ms(Error("unsupported_event"))},qr),e.a.push(Xn={messageChannel:Eo,onMessage:Ve=function(ll){ll.data.eventId===Q&&("ack"===ll.data.status?(clearTimeout(Ht),Ln=setTimeout(function(){Ms(Error("timeout"))},3e3)):"done"===ll.data.status?(clearTimeout(Ln),typeof ll.data.response<"u"?Ji(ll.data.response):Ms(Error("unknown_error"))):(clearTimeout(Ht),clearTimeout(Ln),Ms(Error("invalid_response"))))}}),Eo.port1.addEventListener("message",Ve),e.c.postMessage({eventType:a,eventId:Q,data:Ee},[Eo.port2])):Ms(Error("connection_unavailable"))}).then(function(Ji){return Td(e,Xn),Ji}).o(function(Ji){throw Td(e,Xn),Ji})}function Td(e,a){if(a){var m=a.messageChannel;m&&(m.port1.removeEventListener("message",a.onMessage),m.port1.close()),$n(e.a,function(Q){return Q==a})}}function Dd(){if(!Cd())throw new D("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=$.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var e=this;xi()&&self?(this.l=function Df(){var e=xi()?self:null;if(bt(hh,function(m){m.b==e&&(a=m)}),!a){var a=new Sd(e);hh.push(a)}return a}(),fh(this.l,"keyChanged",function(a,m){return $c(e).then(function(P){return 0<P.length&&bt(e.a,function(Q){Q(P)}),{keyProcessed:Bn(P,m.key)}})}),fh(this.l,"ping",function(){return ir(["keyChanged"])})):function be(){var e=$.navigator;return e&&e.serviceWorker?ir().then(function(){return e.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):ir(null)}().then(function(a){(e.h=a)&&(e.g=new If(new Cf(a)),ph(e.g,"ping",null,!0).then(function(m){m[0].fulfilled&&Bn(m[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function xf(e){return new Qe(function(a,m){var P=e.u.open("firebaseLocalStorageDb",1);P.onerror=function(Q){try{Q.preventDefault()}catch{}m(Error(Q.target.error))},P.onupgradeneeded=function(Q){Q=Q.target.result;try{Q.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Ee){m(Ee)}},P.onsuccess=function(Q){(Q=Q.target.result).objectStoreNames.contains("firebaseLocalStorage")?a(Q):function mh(e){return new Qe(function(a,m){var P=e.u.deleteDatabase("firebaseLocalStorageDb");P.onsuccess=function(){a()},P.onerror=function(Q){m(Error(Q.target.error))}})}(e).then(function(){return xf(e)}).then(function(Ee){a(Ee)}).o(function(Ee){m(Ee)})}})}function ic(e){return e.m||(e.m=xf(e)),e.m}function Cd(){try{return!!$.indexedDB}catch{return!1}}function oc(e){return e.objectStore("firebaseLocalStorage")}function Va(e,a){return e.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function sc(e){return new Qe(function(a,m){e.onsuccess=function(P){P&&P.target?a(P.target.result):a()},e.onerror=function(P){m(P.target.error)}})}function Id(e,a){return e.g&&e.h&&function re(){var e=$.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ph(e.g,"keyChanged",{key:a},e.s).then(function(){}).o(function(){}):ir()}function $c(e){return ic(e).then(function(a){var m=oc(Va(a,!1));return m.getAll?sc(m.getAll()):new Qe(function(P,Q){var Ee=[],Ve=m.openCursor();Ve.onsuccess=function(Ht){(Ht=Ht.target.result)?(Ee.push(Ht.value),Ht.continue()):P(Ee)},Ve.onerror=function(Ht){Q(Ht.target.error)}})}).then(function(a){var m={},P=[];if(0==e.b){for(P=0;P<a.length;P++)m[a[P].fbase_key]=a[P].value;P=fe(e.c,m),e.c=m}return P})}function Pd(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function qc(e){var a=this,m=null;this.a=[],this.type="indexedDB",this.c=e,this.b=ir().then(function(){if(Cd()){var P=he(),Q="__sak"+P;return Pf||(Pf=new Dd),(m=Pf).set(Q,P).then(function(){return m.get(Q)}).then(function(Ee){if(Ee!==P)throw Error("indexedDB not supported!");return m.T(Q)}).then(function(){return m}).o(function(){return a.c})}return a.c}).then(function(P){return a.type=P.type,P.ba(function(Q){bt(a.a,function(Ee){Ee(Q)})}),P})}function Ha(){this.a={},this.type="inMemory"}function Qc(){if(!function Vp(){var e="Node"==U();if(!(e=xd()||e&&y.INTERNAL.node&&y.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==U()?new D("internal-error","The LocalStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=xd()||y.INTERNAL.node.localStorage,this.type="localStorage"}function xd(){try{var e=$.localStorage,a=he();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch{return null}}function gh(){this.type="nullStorage"}function Md(){if(!function Hp(){var e="Node"==U();if(!(e=Tu()||e&&y.INTERNAL.node&&y.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==U()?new D("internal-error","The SessionStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=Tu()||y.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Tu(){try{var e=$.sessionStorage,a=he();return e&&(e.setItem(a,"1"),e.removeItem(a)),e}catch{return null}}function zp(){var e={};e.Browser=yh,e.Node=Wp,e.ReactNative=Mf,e.Worker=Gp,this.a=e[U()]}Sd.prototype.c=function(e){var a=e.data.eventType,m=e.data.eventId,P=this.a[a];if(P&&0<P.length){e.ports[0].postMessage({status:"ack",eventId:m,eventType:a,response:null});var Q=[];bt(P,function(Ee){Q.push(ir().then(function(){return Ee(e.origin,e.data.data)}))}),Ei(Q).then(function(Ee){var Ve=[];bt(Ee,function(Ht){Ve.push({fulfilled:Ht.Mb,value:Ht.value,reason:Ht.reason?Ht.reason.message:void 0})}),bt(Ve,function(Ht){for(var Ln in Ht)typeof Ht[Ln]>"u"&&delete Ht[Ln]}),e.ports[0].postMessage({status:"done",eventId:m,eventType:a,response:Ve})})}},Cf.prototype.postMessage=function(e,a){this.a.postMessage(e,a)},If.prototype.close=function(){for(;0<this.a.length;)Td(this,this.a[0]);this.b=!0},(T=Dd.prototype).set=function(e,a){var P,m=!1,Q=this;return ic(this).then(function(Ee){return sc((Ee=oc(Va(P=Ee,!0))).get(e))}).then(function(Ee){var Ve=oc(Va(P,!0));return Ee?(Ee.value=a,sc(Ve.put(Ee))):(Q.b++,m=!0,(Ee={}).fbase_key=e,Ee.value=a,sc(Ve.add(Ee)))}).then(function(){return Q.c[e]=a,Id(Q,e)}).ma(function(){m&&Q.b--})},T.get=function(e){return ic(this).then(function(a){return sc(oc(Va(a,!1)).get(e))}).then(function(a){return a&&a.value})},T.T=function(e){var a=!1,m=this;return ic(this).then(function(P){return a=!0,m.b++,sc(oc(Va(P,!0)).delete(e))}).then(function(){return delete m.c[e],Id(m,e)}).ma(function(){a&&m.b--})},T.ba=function(e){0==this.a.length&&function Up(e){Pd(e),function a(){e.f=setTimeout(function(){e.i=$c(e).then(function(m){0<m.length&&bt(e.a,function(P){P(m)})}).then(function(){a()}).o(function(m){"STOP_EVENT"!=m.message&&a()})},800)}()}(this),this.a.push(e)},T.ha=function(e){$n(this.a,function(a){return a==e}),0==this.a.length&&Pd(this)},(T=qc.prototype).get=function(e){return this.b.then(function(a){return a.get(e)})},T.set=function(e,a){return this.b.then(function(m){return m.set(e,a)})},T.T=function(e){return this.b.then(function(a){return a.T(e)})},T.ba=function(e){this.a.push(e)},T.ha=function(e){$n(this.a,function(a){return a==e})},(T=Ha.prototype).get=function(e){return ir(this.a[e])},T.set=function(e,a){return this.a[e]=a,ir()},T.T=function(e){return delete this.a[e],ir()},T.ba=function(){},T.ha=function(){},(T=Qc.prototype).get=function(e){var a=this;return ir().then(function(){return V(a.a.getItem(e))})},T.set=function(e,a){var m=this;return ir().then(function(){var P=b(a);null===P?m.T(e):m.a.setItem(e,P)})},T.T=function(e){var a=this;return ir().then(function(){a.a.removeItem(e)})},T.ba=function(e){$.window&&Ar($.window,"storage",e)},T.ha=function(e){$.window&&Ti($.window,"storage",e)},(T=gh.prototype).get=function(){return ir(null)},T.set=function(){return ir()},T.T=function(){return ir()},T.ba=function(){},T.ha=function(){},(T=Md.prototype).get=function(e){var a=this;return ir().then(function(){return V(a.a.getItem(e))})},T.set=function(e,a){var m=this;return ir().then(function(){var P=b(a);null===P?m.T(e):m.a.setItem(e,P)})},T.T=function(e){var a=this;return ir().then(function(){a.a.removeItem(e)})},T.ba=function(){},T.ha=function(){};var vh,Cu,yh={F:Qc,$a:Md},Wp={F:Qc,$a:Md},Mf={F:rc,$a:gh},Gp={F:Qc,$a:gh},Du={od:"local",NONE:"none",qd:"session"};function Af(){var e=!(xe(Wr())||!es()),a=d(),m=oi();this.m=e,this.h=a,this.l=m,this.a={},vh||(vh=new zp),e=vh;try{this.g=!Vi()&&O()||!$.indexedDB?new e.a.F:new qc(xi()?new Ha:new e.a.F)}catch{this.g=new Ha,this.h=!0}try{this.i=new e.a.$a}catch{this.i=new Ha}this.u=new Ha,this.f=ke(this.Vb,this),this.b={}}function Xc(){return Cu||(Cu=new Af),Cu}function Ta(e,a){switch(a){case"session":return e.i;case"none":return e.u;default:return e.g}}function il(e,a){return"firebase:"+e.name+(a?":"+a:"")}function Iu(e,a,m){return m=il(a,m),"local"==a.F&&(e.b[m]=null),Ta(e,a.F).T(m)}function _h(e){e.c&&(clearInterval(e.c),e.c=null)}function qp(e){this.a=e,this.b=Xc()}(T=Af.prototype).get=function(e,a){return Ta(this,e.F).get(il(e,a))},T.set=function(e,a,m){var P=il(e,m),Q=this,Ee=Ta(this,e.F);return Ee.set(P,a).then(function(){return Ee.get(P)}).then(function(Ve){"local"==e.F&&(Q.b[P]=Ve)})},T.addListener=function(e,a,m){e=il(e,a),this.l&&(this.b[e]=$.localStorage.getItem(e)),Rn(this.a)&&(Ta(this,"local").ba(this.f),this.h||(Vi()||!O())&&$.indexedDB||!this.l||function $p(e){_h(e),e.c=setInterval(function(){for(var a in e.a){var m=$.localStorage.getItem(a),P=e.b[a];m!=P&&(e.b[a]=m,m=new Un({type:"storage",key:a,target:window,oldValue:P,newValue:m,a:!0}),e.Vb(m))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(m)},T.removeListener=function(e,a,m){e=il(e,a),this.a[e]&&($n(this.a[e],function(P){return P==m}),0==this.a[e].length&&delete this.a[e]),Rn(this.a)&&(Ta(this,"local").ha(this.f),_h(this))},T.Vb=function(e){if(e&&e.f){var a=e.a.key;if(null==a)for(var m in this.a){var P=this.b[m];typeof P>"u"&&(P=null);var Q=$.localStorage.getItem(m);Q!==P&&(this.b[m]=Q,this.ib(m))}else if(0==a.indexOf("firebase:")&&this.a[a]){if(typeof e.a.a<"u"?Ta(this,"local").ha(this.f):_h(this),this.m)if(m=$.localStorage.getItem(a),(P=e.a.newValue)!==m)null!==P?$.localStorage.setItem(a,P):$.localStorage.removeItem(a);else if(this.b[a]===P&&typeof e.a.a>"u")return;var Ee=this;m=function(){(typeof e.a.a<"u"||Ee.b[a]!==$.localStorage.getItem(a))&&(Ee.b[a]=$.localStorage.getItem(a),Ee.ib(a))},qe&&Er&&10==Er&&$.localStorage.getItem(a)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(m,10):m()}}else bt(e,ke(this.ib,this))},T.ib=function(e){this.a[e]&&bt(this.a[e],function(a){a()})};var ac,Ad={name:"authEvent",F:"local"};function bh(){this.a=Xc()}function kd(e,a){this.b=lc,this.f=$.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=a,this.l=$.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=$.Int32Array?new Int32Array(Rf):Rf),this.reset()}k(kd,function wh(){this.b=-1});for(var lc=64,Xp=lc-1,kf=[],Eh=0;Eh<Xp;Eh++)kf[Eh]=0;var Of=zn(128,kf);function Sh(e){for(var a=e.f,m=e.l,P=0,Q=0;Q<a.length;)m[P++]=a[Q]<<24|a[Q+1]<<16|a[Q+2]<<8|a[Q+3],Q=4*P;for(a=16;64>a;a++){var Ee=(0|m[a-16])+(((Q=0|m[a-15])>>>7|Q<<25)^(Q>>>18|Q<<14)^Q>>>3)|0,Ve=(0|m[a-7])+(((P=0|m[a-2])>>>17|P<<15)^(P>>>19|P<<13)^P>>>10)|0;m[a]=Ee+Ve|0}P=0|e.a[0],Q=0|e.a[1];var Ht=0|e.a[2],Ln=0|e.a[3],Xn=0|e.a[4],qr=0|e.a[5],Eo=0|e.a[6];for(Ee=0|e.a[7],a=0;64>a;a++){var Ji=((P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10))+(P&Q^P&Ht^Q&Ht)|0;Ve=(Ee=Ee+((Xn>>>6|Xn<<26)^(Xn>>>11|Xn<<21)^(Xn>>>25|Xn<<7))|0)+((Ve=(Ve=Xn&qr^~Xn&Eo)+(0|ac[a])|0)+(0|m[a])|0)|0,Ee=Eo,Eo=qr,qr=Xn,Xn=Ln+Ve|0,Ln=Ht,Ht=Q,Q=P,P=Ve+Ji|0}e.a[0]=e.a[0]+P|0,e.a[1]=e.a[1]+Q|0,e.a[2]=e.a[2]+Ht|0,e.a[3]=e.a[3]+Ln|0,e.a[4]=e.a[4]+Xn|0,e.a[5]=e.a[5]+qr|0,e.a[6]=e.a[6]+Eo|0,e.a[7]=e.a[7]+Ee|0}function Od(e,a,m){void 0===m&&(m=a.length);var P=0,Q=e.c;if("string"==typeof a)for(;P<m;)e.f[Q++]=a.charCodeAt(P++),Q==e.b&&(Sh(e),Q=0);else{if(!Zt(a))throw Error("message must be string or array");for(;P<m;){var Ee=a[P++];if(!("number"==typeof Ee&&0<=Ee&&255>=Ee&&Ee==(0|Ee)))throw Error("message must be a byte array");e.f[Q++]=Ee,Q==e.b&&(Sh(e),Q=0)}}e.c=Q,e.g+=m}kd.prototype.reset=function(){this.g=this.c=0,this.a=$.Int32Array?new Int32Array(this.h):On(this.h)};var Rf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pu(){kd.call(this,8,Il)}k(Pu,kd);var Il=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nf(e,a,m,P,Q){this.u=e,this.i=a,this.l=m,this.m=P||null,this.s=Q||null,this.h=a+":"+m,this.w=new bh,this.g=new qp(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rd(e){return new D("invalid-cordova-configuration",e)}function Zp(e,a){for(var m=0;m<e.b.length;m++)try{e.b[m](a)}catch{}}function Th(e){return e.f||(e.f=e.ka().then(function(){return new Qe(function(a){e.Ca(function m(P){return a(P),e.Qa(m),!1}),function Jp(e){function a(Ve){P=!0,Q&&Q.cancel(),Nd(e).then(function(Ht){var Ln=m;if(Ht&&Ve&&Ve.url){var Xn=null;-1!=(Ln=Nu(Ve.url)).indexOf("/__/auth/callback")&&(Xn=(Xn="object"==typeof(Xn=V(_i(Xn=$i(Ln),"firebaseError")||null))?G(Xn):null)?new ca(Ht.c,Ht.b,null,null,Xn,null,Ht.S()):new ca(Ht.c,Ht.b,Ln,Ht.f,null,null,Ht.S())),Ln=Xn||m}Zp(e,Ln)})}var m=new ca("unknown",null,null,null,new D("no-auth-event")),P=!1,Q=co(500).then(function(){return Nd(e).then(function(){P||Zp(e,m)})}),Ee=$.handleOpenURL;$.handleOpenURL=function(Ve){if(0==Ve.toLowerCase().indexOf(Fr("BuildInfo.packageName",$).toLowerCase()+"://")&&a({url:Ve}),"function"==typeof Ee)try{Ee(Ve)}catch(Ht){console.error(Ht)}},ju||(ju=new fd),function Mc(e){var a=ju;a.a.push(e),a.b||(a.b=function(m){for(var P=0;P<a.a.length;P++)a.a[P](m)},"function"==typeof(e=Fr("universalLinks.subscribe",$))&&e(null,a.b))}(a)}(e)})})),e.f}function Nd(e){var a=null;return function Qp(e){return e.b.get(Ad,e.a).then(function(a){return hd(a)})}(e.g).then(function(m){return a=m,Iu((m=e.g).b,Ad,m.a)}).then(function(){return a})}function Lf(e){this.a=e,this.b=Xc()}(T=Nf.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=function Ao(){return Jo(void 0)?Mo().then(function(){return new Qe(function(e,a){var m=$.document,P=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(P),e()},!1)})}):or(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Fr("universalLinks.subscribe",$))throw Rd("cordova-universal-links-plugin-fix is not installed");if(typeof Fr("BuildInfo.packageName",$)>"u")throw Rd("cordova-plugin-buildinfo is not installed");if("function"!=typeof Fr("cordova.plugins.browsertab.openUrl",$))throw Rd("cordova-plugin-browsertab is not installed");if("function"!=typeof Fr("cordova.InAppBrowser.open",$))throw Rd("cordova-plugin-inappbrowser is not installed")},function(){throw new D("cordova-not-ready")})},T.Lb=function(e,a){return a(new D("operation-not-supported-in-this-environment")),ir()},T.Jb=function(){return or(new D("operation-not-supported-in-this-environment"))},T.Xb=function(){return!1},T.Ub=function(){return!0},T.Qb=function(){return!0},T.Kb=function(e,a,m,P){if(this.c)return or(new D("redirect-operation-pending"));var Q=this,Ee=$.document,Ve=null,Ht=null,Ln=null,Xn=null;return this.c=ir().then(function(){return Oa(a),Th(Q)}).then(function(){return function Ff(e,a,m,P,Q){var Ee=function Ig(){for(var e=20,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}(),Ve=new ca(a,P,null,Ee,new D("no-auth-event"),null,Q),Ht=Fr("BuildInfo.packageName",$);if("string"!=typeof Ht)throw new D("invalid-cordova-configuration");var Ln=Fr("BuildInfo.displayName",$),Xn={};if(Wr().toLowerCase().match(/iphone|ipad|ipod/))Xn.ibi=Ht;else{if(!Wr().toLowerCase().match(/android/))return or(new D("operation-not-supported-in-this-environment"));Xn.apn=Ht}Ln&&(Xn.appDisplayName=Ln),Ee=function Pg(e){var a=new Pu;Od(a,e),e=[];var m=8*a.g;Od(a,Of,56>a.c?56-a.c:a.b-(a.c-56));for(var P=63;56<=P;P--)a.f[P]=255&m,m/=256;for(Sh(a),P=m=0;P<a.i;P++)for(var Q=24;0<=Q;Q-=8)e[m++]=a.a[P]>>Q&255;return function Ca(e){return Ut(e,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}(e)}(Ee),Xn.sessionId=Ee;var qr=nc(e.u,e.i,e.l,a,m,null,P,e.m,Xn,e.s,Q);return e.ka().then(function(){var Eo=e.h;return e.w.a.set(Ad,Ve.v(),Eo)}).then(function(){var Eo=Fr("cordova.plugins.browsertab.isAvailable",$);if("function"!=typeof Eo)throw new D("invalid-cordova-configuration");var Ji=null;Eo(function(Ms){if(Ms){if("function"!=typeof(Ji=Fr("cordova.plugins.browsertab.openUrl",$)))throw new D("invalid-cordova-configuration");Ji(qr)}else{if("function"!=typeof(Ji=Fr("cordova.InAppBrowser.open",$)))throw new D("invalid-cordova-configuration");Ms=Wr(),e.a=Ji(qr,Ms.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ms.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(Q,e,a,m,P)}).then(function(){return new Qe(function(qr,Eo){Ht=function(){var Ji=Fr("cordova.plugins.browsertab.close",$);return qr(),"function"==typeof Ji&&Ji(),Q.a&&"function"==typeof Q.a.close&&(Q.a.close(),Q.a=null),!1},Q.Ca(Ht),Xn=function(){L()&&Ln()},Ee.addEventListener("resume",Ln=function(){Ve||(Ve=co(2e3).then(function(){Eo(new D("redirect-cancelled-by-user"))}))},!1),Wr().toLowerCase().match(/android/)||Ee.addEventListener("visibilitychange",Xn,!1)}).o(function(qr){return Nd(Q).then(function(){throw qr})})}).ma(function(){Ln&&Ee.removeEventListener("resume",Ln,!1),Xn&&Ee.removeEventListener("visibilitychange",Xn,!1),Ve&&Ve.cancel(),Ht&&Q.Qa(Ht),Q.c=null})},T.Ca=function(e){this.b.push(e),Th(this).o(function(a){"auth/invalid-cordova-configuration"===a.code&&(a=new ca("unknown",null,null,null,new D("no-auth-event")),e(a))})},T.Qa=function(e){$n(this.b,function(a){return a==e})};var Dh={name:"pendingRedirect",F:"session"};function ha(e){return Iu(e.b,Dh,e.a)}function Zc(e,a,m){this.i={},this.w=0,this.D=e,this.u=a,this.m=m,this.h=[],this.f=!1,this.l=ke(this.s,this),this.b=new Ld,this.B=new Ah,this.g=new Lf(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Bf(this.D,this.u,this.m,Tn)}function Bf(e,a,m,P){var Q=y.SDK_VERSION||null;return Jo()?new Nf(e,a,m,Q,P):new wf(e,a,m,Q,P)}function jf(e){e.f||(e.f=!0,e.a.Ca(e.l));var a=e.a;return e.a.ka().o(function(m){throw e.a==a&&e.reset(),m})}function Yf(e){e.a.Ub()&&jf(e).o(function(a){var m=new ca("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));si(a)&&e.s(m)}),e.a.Qb()||Mh(e.b)}function Ch(e,a){Bn(e.h,a)||e.h.push(a),e.f||function tm(e){return e.b.get(Dh,e.a).then(function(a){return"pending"==a})}(e.g).then(function(m){m?ha(e.g).then(function(){jf(e).o(function(P){var Q=new ca("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));si(P)&&e.s(Q)})}):Yf(e)}).o(function(){Yf(e)})}function Ih(e,a){$n(e.h,function(m){return m==a})}Zc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Bf(this.D,this.u,this.m),this.i={}},Zc.prototype.s=function(e){if(!e)throw new D("invalid-auth-event");if(6e5<=f()-this.w&&(this.i={},this.w=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var a=!1,m=0;m<this.h.length;m++){var P=this.h[m];if(P.Cb(e.c,e.b)){(a=this.c[e.c])&&(a.h(e,P),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.w=f())),a=!0;break}}return Mh(this.b),a};var nm=new Je(2e3,1e4),rm=new Je(3e4,6e4);function Uf(e,a,m,P,Q,Ee,Ve){return e.a.Jb(a,m,P,function(){e.f||(e.f=!0,e.a.Ca(e.l))},function(){e.reset()},Q,Ee,Ve)}function si(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ph(e,a,m,P,Q){var Ee;return function em(e){return e.b.set(Dh,"pending",e.a)}(e.g).then(function(){return e.a.Kb(a,m,P,Q).o(function(Ve){if(si(Ve))throw new D("operation-not-supported-in-this-environment");return Ee=Ve,ha(e.g).then(function(){throw Ee})}).then(function(){return e.a.Xb()?new Qe(function(){}):ha(e.g).then(function(){return e.pa()}).then(function(){}).o(function(){})})})}function xh(e,a,m,P,Q){return e.a.Lb(P,function(Ee){a.la(m,null,Ee,Q)},nm.get())}Zc.prototype.pa=function(){return this.b.pa()};var Fd={};function Vf(e,a,m){var P=a+":"+m;return Fd[P]||(Fd[P]=new Zc(e,a,m)),Fd[P]}function Ld(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mh(e){e.g||(e.g=!0,uc(e,!1,null,null))}function Bd(e){e.g&&!e.i&&uc(e,!1,null,null)}function zf(e,a){if(e.b=function(){return ir(a)},e.f.length)for(var m=0;m<e.f.length;m++)e.f[m](a)}function uc(e,a,m,P){a?P?function im(e,a){if(e.b=function(){return or(a)},e.c.length)for(var m=0;m<e.c.length;m++)e.c[m](a)}(e,P):zf(e,m):zf(e,{user:null}),e.f=[],e.c=[]}function Ah(){}function Gf(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(e){this.Bb=e},enumerable:!1})}function Jc(e,a){this.a=a,bn(this,"verificationId",e)}function ed(e,a,m,P){return new ua(e).cb(a,m).then(function(Q){return new Jc(Q,P)})}function om(e){var a=Ze(e);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new D("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:e,expirationTime:E(1e3*a.exp),authTime:E(1e3*a.auth_time),issuedAtTime:E(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Kf(e,a,m){var P=a&&a[am];if(!P)throw new D("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=kn(a),this.g=m,this.c=new $a(null,P),this.b=[];var Q=this;bt(a[sm]||[],function(Ee){(Ee=ji(Ee))&&Q.b.push(Ee)}),bn(this,"auth",this.a),bn(this,"session",this.c),bn(this,"hints",this.b)}Ld.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ld.prototype.h=function(e,a){if(e){this.reset(),this.g=!0;var m=e.c,P=e.b,Q=e.a&&"auth/web-storage-unsupported"==e.a.code,Ee=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!Q&&!Ee),"unknown"!=m||Q||Ee?e.a?(uc(this,!0,null,e.a),ir()):a.Da(m,P)?function Hf(e,a,m){m=m.Da(a.c,a.b);var P=a.g,Q=a.f,Ee=a.i,Ve=a.S(),Ht=!!a.c.match(/Redirect$/);m(P,Q,Ve,Ee).then(function(Ln){uc(e,Ht,Ln,null)}).o(function(Ln){uc(e,Ht,null,Ln)})}(this,e,a):or(new D("invalid-auth-event")):(uc(this,!1,null,null),ir())}else or(new D("invalid-auth-event"))},Ld.prototype.pa=function(){var e=this;return new Qe(function(a,m){e.b?e.b().then(a,m):(e.f.push(a),e.c.push(m),function Wf(e){var a=new D("timeout");e.a&&e.a.cancel(),e.a=co(rm.get()).then(function(){e.b||(e.g=!0,uc(e,!0,null,a))})}(e))})},Ah.prototype.h=function(e,a){if(e){var m=e.c,P=e.b;e.a?(a.la(e.c,null,e.a,e.b),ir()):a.Da(m,P)?function xu(e,a){var m=e.b,P=e.c;a.Da(P,m)(e.g,e.f,e.S(),e.i).then(function(Q){a.la(P,Q,null,m)}).o(function(Q){a.la(P,null,Q,m)})}(e,a):or(new D("invalid-auth-event"))}else or(new D("invalid-auth-event"))},Jc.prototype.confirm=function(e){return e=xc(this.verificationId,e),this.a(e)};var sm="mfaInfo",am="mfaPendingCredential";function kh(e,a,m,P){D.call(this,"multi-factor-auth-required",P,a),this.b=new Kf(e,a,m),bn(this,"resolver",this.b)}function Oh(e,a,m){if(e&&we(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new kh(a,e.serverResponse,m,e.message)}catch{}return null}function lm(){}function Rh(e){bn(this,"factorId",e.ea),this.a=e}function Nh(e){if(Rh.call(this,e),this.a.ea!=ua.PROVIDER_ID)throw new D("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Pl(e,a){for(var m in En.call(this,e),a)this[m]=a[m]}function Fh(e,a){this.a=e,this.b=[],this.c=ke(this.wc,this),Ar(this.a,"userReloaded",this.c);var m=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&bt(a.multiFactor.enrolledFactors,function(P){var Q=null,Ee={};if(P){P.uid&&(Ee[Hi]=P.uid),P.displayName&&(Ee[Fo]=P.displayName),P.enrollmentTime&&(Ee[no]=new Date(P.enrollmentTime).toISOString()),P.phoneNumber&&(Ee[Bs]=P.phoneNumber);try{Q=new ts(Ee)}catch{}P=Q}else P=null;P&&m.push(P)}),jd(this,m)}function jd(e,a){e.b=a,bn(e,"enrolledFactors",a)}function Lh(e,a,m){if(this.h=e,this.i=a,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Bh(e,a){e.stop(),e.b=co(function cm(e,a){return a?(e.a=e.c,e.g()):(a=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),a)}(e,a)).then(function(){return function S(){var e=$.document,a=null;return L()||!e?ir():new Qe(function(m){a=function(){L()&&(e.removeEventListener("visibilitychange",a,!1),m())},e.addEventListener("visibilitychange",a,!1)}).o(function(m){throw e.removeEventListener("visibilitychange",a,!1),m})}()}).then(function(){return e.h()}).then(function(){Bh(e,!0)}).o(function(m){e.i(m)&&Bh(e,!1)})}function jh(e){this.c=e,this.b=this.a=null}function Yd(e){return e.b&&1e3*e.b.c||0}function qf(e,a){var m=a.refreshToken;e.b=Ae(a[Ks]||""),e.a=m}function dc(e,a){this.a=e||null,this.b=a||null,er(this,{lastSignInTime:E(a||null),creationTime:E(e||null)})}function Yh(e,a,m,P,Q,Ee){er(this,{uid:e,displayName:P||null,photoURL:Q||null,email:m||null,phoneNumber:Ee||null,providerId:a})}function fa(e,a,m){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null,e=y.SDK_VERSION?yr(y.SDK_VERSION):null,this.a=new ea(this.l,Ke(Tn),e),this.b=new jh(this.a),hc(this,a[Ks]),qf(this.b,a),bn(this,"refreshToken",this.b.a),Vd(this,m||{}),Ki.call(this),this.P=!1,this.s&&jr()&&(this.i=Vf(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function Jf(e){return new Lh(function(){return e.I(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var a=Yd(e.b)-f()-3e5;return 0<a?a:0})}(this),this.Z=ke(this.Ma,this);var P=this;this.oa=null,this.za=function(Q){P.va(Q.g)},this.aa=null,this.W=[],this.ya=function(Q){ol(P,Q.c)},this.$=null,this.O=new Fh(this,m),bn(this,"multiFactor",this.O)}function Zf(e,a){e.aa&&Ti(e.aa,"languageCodeChanged",e.za),(e.aa=a)&&Ar(a,"languageCodeChanged",e.za)}function ol(e,a){e.W=a,ec(e.a,y.SDK_VERSION?yr(y.SDK_VERSION,e.W):null)}function Ud(e,a){e.$&&Ti(e.$,"frameworkChanged",e.ya),(e.$=a)&&Ar(a,"frameworkChanged",e.ya)}function Uh(e){try{return y.app(e.m).auth()}catch{throw new D("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ep(e){e.D||e.B.b||(e.B.start(),Ti(e,"tokenChanged",e.Z),Ar(e,"tokenChanged",e.Z))}function Vh(e){Ti(e,"tokenChanged",e.Z),e.B.stop()}function hc(e,a){e.xa=a,bn(e,"_lat",a)}function xl(e){for(var a=[],m=0;m<e.R.length;m++)a.push(e.R[m](e));return Ei(a).then(function(){return e})}function Ml(e){e.i&&!e.P&&(e.P=!0,Ch(e.i,e))}function Vd(e,a){er(e,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new dc(a.createdAt,a.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function td(){}function Hd(e){return ir().then(function(){if(e.D)throw new D("app-deleted")})}function nd(e){return Ut(e.providerData,function(a){return a.providerId})}function rd(e,a){a&&(zd(e,a.providerId),e.providerData.push(a))}function zd(e,a){$n(e.providerData,function(m){return m.providerId==a})}function Al(e,a,m){("uid"!=a||m)&&e.hasOwnProperty(a)&&bn(e,a,m)}function pc(e,a){e!=a&&(er(e,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),bn(e,"metadata",a.metadata?function xg(e){return new dc(e.a,e.b)}(a.metadata):new dc),bt(a.providerData,function(m){rd(e,m)}),function Qf(e,a){e.b=a.b,e.a=a.a}(e.b,a.b),bn(e,"refreshToken",e.b.a),jd(e.O,a.O.b))}function Hh(e){return e.I().then(function(a){var m=e.isAnonymous;return function tp(e,a){return xr(e.a,dh,{idToken:a}).then(ke(e.Ic,e))}(e,a).then(function(){return m||Al(e,"isAnonymous",!1),a})})}function sl(e,a){a[Ks]&&e.xa!=a[Ks]&&(qf(e.b,a),e.dispatchEvent(new Pl("tokenChanged")),hc(e,a[Ks]),Al(e,"refreshToken",e.b.a))}function id(e,a){return Hh(e).then(function(){if(Bn(nd(e),a))return xl(e).then(function(){throw new D("provider-already-linked")})})}function mc(e,a,m){return Sr({user:e,credential:fl(a),additionalUserInfo:a=bi(a),operationType:m})}function np(e,a){return sl(e,a),e.reload().then(function(){return e})}function rp(e,a,m,P,Q){if(!jr())return or(new D("operation-not-supported-in-this-environment"));if(e.h&&!Q)return or(e.h);var Ee=fr(m.providerId),Ve=he(e.uid+":::"),Ht=null;(!d()||es())&&e.s&&m.isOAuthProvider&&(Ht=nc(e.s,e.l,e.m,a,m,null,Ve,y.SDK_VERSION||null,null,null,e.tenantId));var Ln=ur(Ht,Ee&&Ee.ta,Ee&&Ee.sa);return P=P().then(function(){if(ip(e),!Q)return e.I().then(function(){})}).then(function(){return Uf(e.i,Ln,a,m,Ve,!!Ht,e.tenantId)}).then(function(){return new Qe(function(Xn,qr){e.la(a,null,new D("cancelled-popup-request"),e.g||null),e.f=Xn,e.w=qr,e.g=Ve,e.c=xh(e.i,e,a,Ln,Ve)})}).then(function(Xn){return Ln&&rn(Ln),Xn?Sr(Xn):null}).o(function(Xn){throw Ln&&rn(Ln),Xn}),Ps(e,P,Q)}function ra(e,a,m,P,Q){if(!jr())return or(new D("operation-not-supported-in-this-environment"));if(e.h&&!Q)return or(e.h);var Ee=null,Ve=he(e.uid+":::");return P=P().then(function(){if(ip(e),!Q)return e.I().then(function(){})}).then(function(){return e.fa=Ve,xl(e)}).then(function(Ht){return e.ga&&(Ht=(Ht=e.ga).b.set(zh,e.v(),Ht.a)),Ht}).then(function(){return Ph(e.i,a,m,Ve,e.tenantId)}).o(function(Ht){if(Ee=Ht,e.ga)return Wh(e.ga);throw Ee}).then(function(){if(Ee)throw Ee}),Ps(e,P,Q)}function ip(e){if(!e.i||!e.P)throw new D(e.i&&!e.P?"internal-error":"auth-domain-config-required")}function Ps(e,a,m){var P=function Mg(e,a,m){return e.h&&!m?(a.cancel(),or(e.h)):a.o(function(P){throw!P||"auth/user-disabled"!=P.code&&"auth/user-token-expired"!=P.code||(e.h||e.dispatchEvent(new Pl("userInvalidated")),e.h=P),P})}(e,a,m);return e.N.push(P),P.ma(function(){xn(e.N,P)}),P.o(function(Q){var Ee=null;throw Q&&"auth/multi-factor-auth-required"===Q.code&&(Ee=Oh(Q.v(),Uh(e),ke(e.hc,e))),Ee||Q})}function Wd(e){if(!e.apiKey)return null;var a={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},m={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;m[Ks]=e.stsTokenManager.accessToken,m.refreshToken=e.stsTokenManager.refreshToken||null;var P=new fa(a,m,e);return e.providerData&&bt(e.providerData,function(Q){Q&&rd(P,Sr(Q))}),e.redirectEventId&&(P.fa=e.redirectEventId),P}function fm(e){this.a=e,this.b=Xc()}Kf.prototype.Pc=function(e){var a=this;return e.ob(this.a.b,this.c).then(function(m){var P=kn(a.f);return delete P[sm],delete P[am],Ir(P,m),a.g(P)})},k(kh,D),lm.prototype.ob=function(e,a,m){return a.type==ru?function um(e,a,m,P){return m.Fa().then(function(Q){return Q={idToken:Q},typeof P<"u"&&(Q.displayName=P),Ir(Q,{phoneVerificationInfo:Bu(e.a)}),xr(a,nl,Q)})}(this,e,a,m):function cc(e,a,m){return m.Fa().then(function(P){return Ir(P={mfaPendingCredential:P},{phoneVerificationInfo:Bu(e.a)}),xr(a,ch,P)})}(this,e,a)},k(Rh,lm),k(Nh,Rh),k(Pl,En),(T=Fh.prototype).wc=function(e){jd(this,function $f(e){var a=[];return bt(e.mfaInfo||[],function(m){(m=ji(m))&&a.push(m)}),a}(e.ed))},T.Ob=function(){return this.a.I().then(function(e){return new $a(e,null)})},T.dc=function(e,a){var m=this,P=this.a.a;return this.Ob().then(function(Q){return e.ob(P,Q,a)}).then(function(Q){return sl(m.a,Q),m.a.reload()})},T.$c=function(e){var a=this,m="string"==typeof e?e:e.uid,P=this.a.a;return this.a.I().then(function(Q){return xr(P,Yi,{idToken:Q,mfaEnrollmentId:m})}).then(function(Q){var Ee=ft(a.b,function(Ve){return Ve.uid!=m});return jd(a,Ee),sl(a.a,Q),a.a.reload().o(function(Ve){if("auth/user-token-expired"!=Ve.code)throw Ve})})},T.v=function(){return{multiFactor:{enrolledFactors:Ut(this.b,function(e){return e.v()})}}},Lh.prototype.start=function(){this.a=this.c,Bh(this,!0)},Lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},jh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Yd(this)}},jh.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?or(new D("user-token-expired")):e||!this.b||f()>Yd(this)-3e4?this.a?function Xf(e,a){return function gd(e,a){return new Qe(function(m,P){"refresh_token"==a.grant_type&&a.refresh_token||"authorization_code"==a.grant_type&&a.code?Ql(e,e.u+"?key="+encodeURIComponent(e.c),function(Q){Q?Q.error?P(ta(Q)):Q.access_token&&Q.refresh_token?m(Q):P(new D("internal-error")):P(new D("network-request-failed"))},"POST",Ho(a).toString(),e.g,e.m.get()):P(new D("internal-error"))})}(e.c,a).then(function(m){return e.b=Ae(m.access_token),e.a=m.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(m){throw"auth/user-token-expired"==m.code&&(e.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ir(null):ir({accessToken:this.b.toString(),refreshToken:this.a})},dc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(fa,Ki),fa.prototype.va=function(e){this.oa=e,ql(this.a,e)},fa.prototype.ja=function(){return this.oa},fa.prototype.Ea=function(){return On(this.W)},fa.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},bn(fa.prototype,"providerId","firebase"),(T=fa.prototype).reload=function(){var e=this;return Ps(this,Hd(this).then(function(){return Hh(e).then(function(){return xl(e)}).then(td)}))},T.mc=function(e){return this.I(e).then(function(a){return new om(a)})},T.I=function(e){var a=this;return Ps(this,Hd(this).then(function(){return a.b.getToken(e)}).then(function(m){if(!m)throw new D("internal-error");return m.accessToken!=a.xa&&(hc(a,m.accessToken),a.dispatchEvent(new Pl("tokenChanged"))),Al(a,"refreshToken",m.refreshToken),m.accessToken}))},T.Ic=function(e){if(!(e=e.users)||!e.length)throw new D("internal-error");Vd(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var a=function dm(e){return(e=e.providerUserInfo)&&e.length?Ut(e,function(a){return new Yh(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}(e),m=0;m<a.length;m++)rd(this,a[m]);Al(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Pl("userReloaded",{ed:e}))},T.Jc=function(e){return Ct("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(e)},T.pb=function(e){var a=this,m=null;return Ps(this,e.c(this.a,this.uid).then(function(P){return sl(a,P),m=mc(a,P,"reauthenticate"),a.h=null,a.reload()}).then(function(){return m}),!0)},T.Ac=function(e){return Ct("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(e)},T.mb=function(e){var a=this,m=null;return Ps(this,id(this,e.providerId).then(function(){return a.I()}).then(function(P){return e.b(a.a,P)}).then(function(P){return m=mc(a,P,"link"),np(a,P)}).then(function(){return m}))},T.Bc=function(e,a){var m=this;return Ps(this,id(this,"phone").then(function(){return ed(Uh(m),e,a,ke(m.mb,m))}))},T.Kc=function(e,a){var m=this;return Ps(this,ir().then(function(){return ed(Uh(m),e,a,ke(m.pb,m))}),!0)},T.xb=function(e){var a=this;return Ps(this,this.I().then(function(m){return a.a.xb(m,e)}).then(function(m){return sl(a,m),a.reload()}))},T.cd=function(e){var a=this;return Ps(this,this.I().then(function(m){return e.b(a.a,m)}).then(function(m){return sl(a,m),a.reload()}))},T.yb=function(e){var a=this;return Ps(this,this.I().then(function(m){return a.a.yb(m,e)}).then(function(m){return sl(a,m),a.reload()}))},T.zb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Hd(this);var a=this;return Ps(this,this.I().then(function(m){return a.a.zb(m,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(m){return sl(a,m),Al(a,"displayName",m.displayName||null),Al(a,"photoURL",m.photoUrl||null),bt(a.providerData,function(P){"password"===P.providerId&&(bn(P,"displayName",a.displayName),bn(P,"photoURL",a.photoURL))}),xl(a)}).then(td))},T.ad=function(e){var a=this;return Ps(this,Hh(this).then(function(m){return Bn(nd(a),e)?function Sl(e,a,m){return xr(e,bd,{idToken:a,deleteProvider:m})}(a.a,m,[e]).then(function(P){var Q={};return bt(P.providerUserInfo||[],function(Ee){Q[Ee.providerId]=!0}),bt(nd(a),function(Ee){Q[Ee]||zd(a,Ee)}),Q[ua.PROVIDER_ID]||bn(a,"phoneNumber",null),xl(a)}):xl(a).then(function(){throw new D("no-such-provider")})}))},T.delete=function(){var e=this;return Ps(this,this.I().then(function(a){return xr(e.a,_d,{idToken:a})}).then(function(){e.dispatchEvent(new Pl("userDeleted"))})).then(function(){for(var a=0;a<e.N.length;a++)e.N[a].cancel("app-deleted");Zf(e,null),Ud(e,null),e.N=[],e.D=!0,Vh(e),bn(e,"refreshToken",null),e.i&&Ih(e.i,e)})},T.Cb=function(e,a){return!!("linkViaPopup"==e&&(this.g||null)==a&&this.f||"reauthViaPopup"==e&&(this.g||null)==a&&this.f||"linkViaRedirect"==e&&(this.fa||null)==a||"reauthViaRedirect"==e&&(this.fa||null)==a)},T.la=function(e,a,m,P){"linkViaPopup"!=e&&"reauthViaPopup"!=e||P!=(this.g||null)||(m&&this.w?this.w(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},T.Da=function(e,a){return"linkViaPopup"==e&&a==(this.g||null)?ke(this.Hb,this):"reauthViaPopup"==e&&a==(this.g||null)?ke(this.Ib,this):"linkViaRedirect"==e&&(this.fa||null)==a?ke(this.Hb,this):"reauthViaRedirect"==e&&(this.fa||null)==a?ke(this.Ib,this):null},T.Cc=function(e){var a=this;return rp(this,"linkViaPopup",e,function(){return id(a,e.providerId).then(function(){return xl(a)})},!1)},T.Lc=function(e){return rp(this,"reauthViaPopup",e,function(){return ir()},!0)},T.Dc=function(e){var a=this;return ra(this,"linkViaRedirect",e,function(){return id(a,e.providerId)},!1)},T.Mc=function(e){return ra(this,"reauthViaRedirect",e,function(){return ir()},!0)},T.Hb=function(e,a,m,P){var Q=this;this.c&&(this.c.cancel(),this.c=null);var Ee=null;return Ps(this,this.I().then(function(Ve){return Zl(Q.a,{requestUri:e,postBody:P,sessionId:a,idToken:Ve})}).then(function(Ve){return Ee=mc(Q,Ve,"link"),np(Q,Ve)}).then(function(){return Ee}))},T.Ib=function(e,a,m,P){var Q=this;this.c&&(this.c.cancel(),this.c=null);var Ee=null;return Ps(this,ir().then(function(){return xa(_u(Q.a,{requestUri:e,sessionId:a,postBody:P,tenantId:m}),Q.uid)}).then(function(Ht){return Ee=mc(Q,Ht,"reauthenticate"),sl(Q,Ht),Q.h=null,Q.reload()}).then(function(){return Ee}),!0)},T.qb=function(e){var a=this,m=null;return Ps(this,this.I().then(function(P){return m=P,typeof e>"u"||Rn(e)?{}:ys(new oa(e))}).then(function(P){return a.a.qb(m,P)}).then(function(P){if(a.email!=P)return a.reload()}).then(function(){}))},T.Ab=function(e,a){var m=this,P=null;return Ps(this,this.I().then(function(Q){return P=Q,typeof a>"u"||Rn(a)?{}:ys(new oa(a))}).then(function(Q){return m.a.Ab(P,e,Q)}).then(function(Q){if(m.email!=Q)return m.reload()}).then(function(){}))},T.hc=function(e){var a=null,m=this;return Ps(this,e=xa(ir(e),m.uid).then(function(P){return a=mc(m,P,"reauthenticate"),sl(m,P),m.h=null,m.reload()}).then(function(){return a}),!0)},T.toJSON=function(){return this.v()},T.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&Ir(e,this.metadata.v()),bt(this.providerData,function(a){e.providerData.push(function Gr(e){var m,a={};for(m in e)e.hasOwnProperty(m)&&(a[m]=e[m]);return a}(a))}),Ir(e,this.O.v()),e};var zh={name:"redirectUser",F:"session"};function Wh(e){return Iu(e.b,zh,e.a)}function Gh(e){this.a=e,this.b=Xc(),this.c=null,this.f=function mm(e){var a=al("local"),m=al("session"),P=al("none");return function Kp(e,a,m){var P=il(a,m),Q=Ta(e,a.F);return e.get(a,m).then(function(Ee){var Ve=null;try{Ve=V($.localStorage.getItem(P))}catch{}if(Ve&&!Ee)return $.localStorage.removeItem(P),e.set(a,Ve,m);Ve&&Ee&&"localStorage"!=Q.type&&$.localStorage.removeItem(P)})}(e.b,a,e.a).then(function(){return e.b.get(m,e.a)}).then(function(Q){return Q?m:e.b.get(P,e.a).then(function(Ee){return Ee?P:e.b.get(a,e.a).then(function(Ve){return Ve?a:e.b.get(Kh,e.a).then(function(Ht){return Ht?al(Ht):a})})})}).then(function(Q){return e.c=Q,od(e,Q.F)}).o(function(){e.c||(e.c=a)})}(this),this.b.addListener(al("local"),this.a,ke(this.g,this))}function od(e,a){var P,m=[];for(P in Du)Du[P]!==a&&m.push(Iu(e.b,al(Du[P]),e.a));return m.push(Iu(e.b,Kh,e.a)),function io(e){return new Qe(function(a,m){var P=e.length,Q=[];if(P)for(var Ee=function(Xn,qr){P--,Q[Xn]=qr,0==P&&a(Q)},Ve=function(Xn){m(Xn)},Ht=0;Ht<e.length;Ht++)Ii(e[Ht],et(Ee,Ht),Ve);else a(Q)})}(m)}Gh.prototype.g=function(){var e=this,a=al("local");gc(this,function(){return ir().then(function(){return e.c&&"local"!=e.c.F?e.b.get(a,e.a):null}).then(function(m){if(m)return od(e,"local").then(function(){e.c=a})})})};var Kh={name:"persistence",F:"session"};function al(e){return{name:"authUser",F:e}}function sp(e,a){return gc(e,function(){return e.b.set(e.c,a.v(),e.a)})}function za(e){return gc(e,function(){return Iu(e.b,e.c,e.a)})}function Gd(e,a){return gc(e,function(){return e.b.get(e.c,e.a).then(function(m){return m&&a&&(m.authDomain=a),Wd(m||{})})})}function gc(e,a){return e.f=e.f.then(a,a),e.f}function Wa(e){if(this.l=!1,bn(this,"settings",new Gf),bn(this,"app",e),!Do(this).options||!Do(this).options.apiKey)throw new D("invalid-api-key");e=y.SDK_VERSION?yr(y.SDK_VERSION):null,this.b=new ea(Do(this).options&&Do(this).options.apiKey,Ke(Tn),e),this.P=[],this.m=[],this.O=[],this.$b=y.INTERNAL.createSubscribe(ke(this.xc,this)),this.W=void 0,this.ac=y.INTERNAL.createSubscribe(ke(this.yc,this)),kl(this,null),this.i=new Gh(Do(this).options.apiKey+":"+Do(this).name),this.B=new fm(Do(this).options.apiKey+":"+Do(this).name),this.Z=Go(this,function $d(e){var a=Do(e).options.authDomain,m=function Kd(e){var a=function pm(e,a){return e.b.get(zh,e.a).then(function(m){return m&&a&&(m.authDomain=a),Wd(m||{})})}(e.B,Do(e).options.authDomain).then(function(m){return(e.D=m)&&(m.ga=e.B),Wh(e.B)});return Go(e,a)}(e).then(function(){return Gd(e.i,a)}).then(function(P){return P?(P.ga=e.B,e.D&&(e.D.fa||null)==(P.fa||null)?P:P.reload().then(function(){return sp(e.i,P).then(function(){return P})}).o(function(Q){return"auth/network-request-failed"==Q.code?P:za(e.i)})):null}).then(function(P){kl(e,P||null)});return Go(e,m)}(this)),this.h=Go(this,function Ag(e){return e.Z.then(function(){return lp(e)}).o(function(){}).then(function(){if(!e.l)return e.oa()}).o(function(){}).then(function(){if(!e.l){e.aa=!0;var a=e.i;a.b.addListener(al("local"),a.a,e.oa)}})}(this)),this.aa=!1,this.oa=ke(this.Xc,this),this.Ma=ke(this.ca,this),this.xa=ke(this.jc,this),this.ya=ke(this.uc,this),this.za=ke(this.vc,this),this.a=null,function Qh(e){var a=Do(e).options.authDomain,m=Do(e).options.apiKey;a&&jr()&&(e.Zb=e.Z.then(function(){if(!e.l){if(e.a=Vf(a,m,Do(e).name),Ch(e.a,e),wi(e)&&Ml(wi(e)),e.D){Ml(e.D);var P=e.D;P.va(e.ja()),Zf(P,e),ol(P=e.D,e.N),Ud(P,e),e.D=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=ke(this.delete,this),this.INTERNAL.logFramework=ke(this.Ec,this),this.s=0,Ki.call(this),function vm(e){Object.defineProperty(e,"lc",{get:function(){return this.ja()},set:function(a){this.va(a)},enumerable:!1}),e.$=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(a){this.ub(a)},enumerable:!1}),e.R=null}(this),this.N=[]}function $h(e){En.call(this,"languageCodeChanged"),this.g=e}function ap(e){En.call(this,"frameworkChanged"),this.c=e}function qh(e){return e.Zb||or(new D("auth-domain-config-required"))}function lp(e){if(!jr())return or(new D("operation-not-supported-in-this-environment"));var a=qh(e).then(function(){return e.a.pa()}).then(function(m){return m?Sr(m):null});return Go(e,a)}function kl(e,a){wi(e)&&(function fc(e,a){$n(e.R,function(m){return m==a})}(wi(e),e.Ma),Ti(wi(e),"tokenChanged",e.xa),Ti(wi(e),"userDeleted",e.ya),Ti(wi(e),"userInvalidated",e.za),Vh(wi(e))),a&&(a.R.push(e.Ma),Ar(a,"tokenChanged",e.xa),Ar(a,"userDeleted",e.ya),Ar(a,"userInvalidated",e.za),0<e.s&&ep(a)),bn(e,"currentUser",a),a&&(a.va(e.ja()),Zf(a,e),ol(a,e.N),Ud(a,e))}function Ol(e,a){var m=null,P=null;return Go(e,a.then(function(Q){return m=fl(Q),P=bi(Q),function ym(e,a){var m={};return m.apiKey=Do(e).options.apiKey,m.authDomain=Do(e).options.authDomain,m.appName=Do(e).name,e.Z.then(function(){return function op(e,a,m,P){var Q=new fa(e,a);return m&&(Q.ga=m),P&&ol(Q,P),Q.reload().then(function(){return Q})}(m,a,e.B,e.Ea())}).then(function(P){return wi(e)&&P.uid==wi(e).uid?(pc(wi(e),P),e.ca(P)):(kl(e,P),Ml(P),e.ca(P))}).then(function(){vc(e)})}(e,Q)},function(Q){var Ee=null;throw Q&&"auth/multi-factor-auth-required"===Q.code&&(Ee=Oh(Q.v(),e,ke(e.ic,e))),Ee||Q}).then(function(){return Sr({user:wi(e),credential:m,additionalUserInfo:P,operationType:"signIn"})}))}function Do(e){return e.app}function wi(e){return e.currentUser}function sd(e){return wi(e)&&wi(e)._lat||null}function vc(e){if(e.aa){for(var a=0;a<e.m.length;a++)e.m[a]&&e.m[a](sd(e));if(e.W!==e.getUid()&&e.O.length)for(e.W=e.getUid(),a=0;a<e.O.length;a++)e.O[a]&&e.O[a](sd(e))}}function Go(e,a){return e.P.push(a),a.ma(function(){xn(e.P,a)}),a}function pa(){}function Rl(){this.a={},this.b=1e12}Gh.prototype.tb=function(e){var a=null,m=this;return function Cg(e){var a=new D("invalid-persistence-type"),m=new D("unsupported-persistence-type");e:{for(P in Du)if(Du[P]==e){var P=!0;break e}P=!1}if(!P||"string"!=typeof e)throw a;switch(U()){case"ReactNative":if("session"===e)throw m;break;case"Node":if("none"!==e)throw m;break;case"Worker":if("session"===e||!Cd()&&"none"!==e)throw m;break;default:if(!oi()&&"none"!==e)throw m}}(e),gc(this,function(){return e!=m.c.F?m.b.get(m.c,m.a).then(function(P){return a=P,od(m,e)}).then(function(){if(m.c=al(e),a)return m.b.set(m.c,a,m.a)}):ir()})},k(Wa,Ki),k($h,En),k(ap,En),(T=Wa.prototype).tb=function(e){return Go(this,e=this.i.tb(e))},T.va=function(e){this.$===e||this.l||(this.$=e,ql(this.b,this.$),this.dispatchEvent(new $h(this.ja())))},T.ja=function(){return this.$},T.dd=function(){var e=$.navigator;this.va(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},T.Ec=function(e){this.N.push(e),ec(this.b,y.SDK_VERSION?yr(y.SDK_VERSION,this.N):null),this.dispatchEvent(new ap(this.N))},T.Ea=function(){return On(this.N)},T.ub=function(e){this.R===e||this.l||(this.R=e,this.b.b=this.R)},T.S=function(){return this.R},T.toJSON=function(){return{apiKey:Do(this).options.apiKey,authDomain:Do(this).options.authDomain,appName:Do(this).name,currentUser:wi(this)&&wi(this).v()}},T.Cb=function(e,a){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},T.la=function(e,a,m,P){"signInViaPopup"==e&&this.g==P&&(m&&this.w?this.w(m):a&&!m&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},T.Da=function(e,a){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==a&&this.f?ke(this.gc,this):null},T.gc=function(e,a,m,P){var Q=this,Ee={requestUri:e,postBody:P,sessionId:a,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),Q.Z.then(function(){return Ol(Q,Dl(Q.b,Ee))})},T.Vc=function(e){if(!jr())return or(new D("operation-not-supported-in-this-environment"));var a=this,m=fr(e.providerId),P=he(),Q=null;(!d()||es())&&Do(this).options.authDomain&&e.isOAuthProvider&&(Q=nc(Do(this).options.authDomain,Do(this).options.apiKey,Do(this).name,"signInViaPopup",e,null,P,y.SDK_VERSION||null,null,null,this.S()));var Ee=ur(Q,m&&m.ta,m&&m.sa);return Go(this,m=qh(this).then(function(Ve){return Uf(Ve,Ee,"signInViaPopup",e,P,!!Q,a.S())}).then(function(){return new Qe(function(Ve,Ht){a.la("signInViaPopup",null,new D("cancelled-popup-request"),a.g),a.f=Ve,a.w=Ht,a.g=P,a.c=xh(a.a,a,"signInViaPopup",Ee,P)})}).then(function(Ve){return Ee&&rn(Ee),Ve?Sr(Ve):null}).o(function(Ve){throw Ee&&rn(Ee),Ve}))},T.Wc=function(e){if(!jr())return or(new D("operation-not-supported-in-this-environment"));var a=this,m=qh(this).then(function(){return function gm(e){return gc(e,function(){return e.b.set(Kh,e.c.F,e.a)})}(a.i)}).then(function(){return Ph(a.a,"signInViaRedirect",e,void 0,a.S())});return Go(this,m)},T.pa=function(){var e=this;return lp(this).then(function(a){return e.a&&Bd(e.a.b),a}).o(function(a){throw e.a&&Bd(e.a.b),a})},T.bd=function(e){if(!e)return or(new D("null-user"));if(this.R!=e.tenantId)return or(new D("tenant-id-mismatch"));var a=this,m={};m.apiKey=Do(this).options.apiKey,m.authDomain=Do(this).options.authDomain,m.appName=Do(this).name;var P=function hm(e,a,m,P){var Q=e.b,Ee={};return Ee[Ks]=Q.b&&Q.b.toString(),Ee.refreshToken=Q.a,a=new fa(a||{apiKey:e.l,authDomain:e.s,appName:e.m},Ee),m&&(a.ga=m),P&&ol(a,P),pc(a,e),a}(e,m,a.B,a.Ea());return Go(this,this.h.then(function(){if(Do(a).options.apiKey!=e.l)return P.reload()}).then(function(){return wi(a)&&e.uid==wi(a).uid?(pc(wi(a),e),a.ca(e)):(kl(a,P),Ml(P),a.ca(P))}).then(function(){vc(a)}))},T.wb=function(){var e=this;return Go(this,this.h.then(function(){return e.a&&Bd(e.a.b),wi(e)?(kl(e,null),za(e.i).then(function(){vc(e)})):ir()}))},T.Xc=function(){var e=this;return Gd(this.i,Do(this).options.authDomain).then(function(a){if(!e.l){var m;if(m=wi(e)&&a){m=wi(e).uid;var P=a.uid;m=null!=m&&""!==m&&null!=P&&""!==P&&m==P}if(m)return pc(wi(e),a),wi(e).I();(wi(e)||a)&&(kl(e,a),a&&(Ml(a),a.ga=e.B),e.a&&Ch(e.a,e),vc(e))}})},T.ca=function(e){return sp(this.i,e)},T.jc=function(){vc(this),this.ca(wi(this))},T.uc=function(){this.wb()},T.vc=function(){this.wb()},T.ic=function(e){var a=this;return this.h.then(function(){return Ol(a,ir(e))})},T.xc=function(e){var a=this;this.addAuthTokenListener(function(){e.next(wi(a))})},T.yc=function(e){var a=this;!function up(e,a){e.O.push(a),Go(e,e.h.then(function(){!e.l&&Bn(e.O,a)&&e.W!==e.getUid()&&(e.W=e.getUid(),a(sd(e)))}))}(this,function(){e.next(wi(a))})},T.Gc=function(e,a,m){var P=this;return this.aa&&Promise.resolve().then(function(){"function"==typeof e?e(wi(P)):"function"==typeof e.next&&e.next(wi(P))}),this.$b(e,a,m)},T.Fc=function(e,a,m){var P=this;return this.aa&&Promise.resolve().then(function(){P.W=P.getUid(),"function"==typeof e?e(wi(P)):"function"==typeof e.next&&e.next(wi(P))}),this.ac(e,a,m)},T.kc=function(e){var a=this;return Go(this,this.h.then(function(){return wi(a)?wi(a).I(e).then(function(P){return{accessToken:P}}):null}))},T.Rc=function(e){var a=this;return this.h.then(function(){return Ol(a,xr(a.b,Yn,{token:e}))}).then(function(m){var P=m.user;return Al(P,"isAnonymous",!1),a.ca(P),m})},T.Sc=function(e,a){var m=this;return this.h.then(function(){return Ol(m,xr(m.b,Cr,{email:e,password:a}))})},T.cc=function(e,a){var m=this;return this.h.then(function(){return Ol(m,xr(m.b,tc,{email:e,password:a}))})},T.Ya=function(e){var a=this;return this.h.then(function(){return Ol(a,e.ia(a.b))})},T.Qc=function(e){return Ct("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(e)},T.vb=function(){var e=this;return this.h.then(function(){var a=wi(e);if(a&&a.isAnonymous){var m=Sr({providerId:null,isNewUser:!1});return Sr({user:a,credential:null,additionalUserInfo:m,operationType:"signIn"})}return Ol(e,e.b.vb()).then(function(P){var Q=P.user;return Al(Q,"isAnonymous",!0),e.ca(Q),P})})},T.getUid=function(){return wi(this)&&wi(this).uid||null},T.bc=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&wi(this)&&ep(wi(this))},T.Nc=function(e){var a=this;bt(this.m,function(m){m==e&&a.s--}),0>this.s&&(this.s=0),0==this.s&&wi(this)&&Vh(wi(this)),this.removeAuthTokenListener(e)},T.addAuthTokenListener=function(e){var a=this;this.m.push(e),Go(this,this.h.then(function(){a.l||Bn(a.m,e)&&e(sd(a))}))},T.removeAuthTokenListener=function(e){$n(this.m,function(a){return a==e})},T.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(al("local"),e.a,this.oa),this.a&&(Ih(this.a,this),Bd(this.a.b)),Promise.resolve()},T.fc=function(e){return Go(this,function vu(e,a){return xr(e,Wc,{identifier:a,continueUri:g()?_():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.b,e))},T.zc=function(e){return!!Lu(e)},T.sb=function(e,a){var m=this;return Go(this,ir().then(function(){var P=new oa(a);if(!P.c)throw new D("argument-error",cl+" must be true when sending sign in link to email");return ys(P)}).then(function(P){return m.b.sb(e,P)}).then(function(){}))},T.fd=function(e){return this.Pa(e).then(function(a){return a.data.email})},T.jb=function(e,a){return Go(this,this.b.jb(e,a).then(function(){}))},T.Pa=function(e){return Go(this,this.b.Pa(e).then(function(a){return new qi(a)}))},T.fb=function(e){return Go(this,this.b.fb(e).then(function(){}))},T.rb=function(e,a){var m=this;return Go(this,ir().then(function(){return typeof a>"u"||Rn(a)?{}:ys(new oa(a))}).then(function(P){return m.b.rb(e,P)}).then(function(){}))},T.Uc=function(e,a){return Go(this,ed(this,e,a,ke(this.Ya,this)))},T.Tc=function(e,a){var m=this;return Go(this,ir().then(function(){var P=a||_(),Q=Pc(e,P);if(!(P=Lu(P)))throw new D("argument-error","Invalid email link!");if(P.tenantId!==m.S())throw new D("tenant-id-mismatch");return m.Ya(Q)}))},pa.prototype.render=function(){},pa.prototype.reset=function(){},pa.prototype.getResponse=function(){},pa.prototype.execute=function(){};var yc=null;function Mu(e,a){return(a=cp(a))&&e.a[a]||null}function cp(e){return(e=typeof e>"u"?1e12:e)?e.toString():null}function ad(e,a){this.g=!1,this.c=a,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ai(e);var m=this;this.i=function(){m.execute()},this.h?this.execute():Ar(this.f,"click",this.i)}function qd(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Xh(){}function Zh(){}Rl.prototype.render=function(e,a){return this.a[this.b.toString()]=new ad(e,a),this.b++},Rl.prototype.reset=function(e){var a=Mu(this,e);e=cp(e),a&&e&&(a.delete(),delete this.a[e])},Rl.prototype.getResponse=function(e){return(e=Mu(this,e))?e.getResponse():null},Rl.prototype.execute=function(e){(e=Mu(this,e))&&e.execute()},ad.prototype.getResponse=function(){return qd(this),this.b},ad.prototype.execute=function(){qd(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function Z(){for(var e=50,a=[];0<e;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return a.join("")}();var a=e.c.callback,m=e.c["expired-callback"];if(a)try{a(e.b)}catch{}e.a=setTimeout(function(){if(e.a=null,e.b=null,m)try{m()}catch{}e.h&&e.execute()},6e4)},500))},ad.prototype.delete=function(){qd(this),this.g=!0,clearTimeout(this.a),this.a=null,Ti(this.f,"click",this.i)},bn(Xh,"FACTOR_ID","phone"),Zh.prototype.g=function(){return yc||(yc=new Rl),ir(yc)},Zh.prototype.c=function(){};var Au=null;function Jh(){this.b=$.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kg=new Pt(ue,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_m=new Je(3e4,6e4);Jh.prototype.g=function(e){var a=this;return new Qe(function(m,P){var Q=setTimeout(function(){P(new D("network-request-failed"))},_m.get());!$.grecaptcha||e!==a.f&&!a.b?($[a.a]=function(){if($.grecaptcha){a.f=e;var Ve=$.grecaptcha.render;$.grecaptcha.render=function(Ht,Ln){return Ht=Ve(Ht,Ln),a.b++,Ht},clearTimeout(Q),m($.grecaptcha)}else clearTimeout(Q),P(new D("internal-error"));delete $[a.a]},ir(Xu(vn(kg,{onload:a.a,hl:e||""}))).o(function(){clearTimeout(Q),P(new D("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(Q),m($.grecaptcha))})},Jh.prototype.c=function(){this.b--};var ef=null;function tf(e,a,m,P,Q,Ee,Ve){if(bn(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=a,this.g=null,Ve?(Au||(Au=new Zh),Ve=Au):(ef||(ef=new Jh),Ve=ef),this.m=Ve,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[fp])throw new D("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bm],!$.document)throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ai(a)||!this.i&&ai(a).hasChildNodes())throw new D("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ea(e,Ee||null,Q||null),this.w=P||function(){return null};var Ht=this;this.l=[];var Ln=this.a[dp];this.a[dp]=function(qr){if(nf(Ht,qr),"function"==typeof Ln)Ln(qr);else if("string"==typeof Ln){var Eo=Fr(Ln,$);"function"==typeof Eo&&Eo(qr)}};var Xn=this.a[hp];this.a[hp]=function(){if(nf(Ht,null),"function"==typeof Xn)Xn();else if("string"==typeof Xn){var qr=Fr(Xn,$);"function"==typeof qr&&qr()}}}var dp="callback",hp="expired-callback",fp="sitekey",bm="size";function nf(e,a){for(var m=0;m<e.l.length;m++)try{e.l[m](a)}catch{}}function sf(e,a){return e.h.push(a),a.ma(function(){xn(e.h,a)}),a}function _c(e){if(e.D)throw new D("internal-error","RecaptchaVerifier instance has been destroyed.")}function af(e,a,m){var P=!1;try{this.b=m||y.app()}catch{throw new D("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new D("invalid-api-key");m=this.b.options.apiKey;var Q=this,Ee=null;try{Ee=this.b.auth().Ea()}catch{}try{P=this.b.auth().settings.appVerificationDisabledForTesting}catch{}Ee=y.SDK_VERSION?yr(y.SDK_VERSION,Ee):null,tf.call(this,m,e,a,function(){try{var Ve=Q.b.auth().ja()}catch{Ve=null}return Ve},Ee,Ke(Tn),P)}function pp(e,a,m,P){e:{m=Array.prototype.slice.call(m);for(var Q=0,Ee=!1,Ve=0;Ve<a.length;Ve++)if(a[Ve].optional)Ee=!0;else{if(Ee)throw new D("internal-error","Argument validator encountered a required argument after an optional argument.");Q++}if(Ee=a.length,m.length<Q||Ee<m.length)P="Expected "+(Q==Ee?1==Q?"1 argument":Q+" arguments":Q+"-"+Ee+" arguments")+" but got "+m.length+".";else{for(Q=0;Q<m.length;Q++)if(Ee=a[Q].optional&&void 0===m[Q],!a[Q].K(m[Q])&&!Ee){if(a=a[Q],0>Q||Q>=mp.length)throw new D("internal-error","Argument validator received an unsupported number of arguments.");m=mp[Q],P=(P?"":m+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.J+".";break e}P=null}}if(P)throw new D("argument-error",e+" failed: "+P)}(T=tf.prototype).Ga=function(){var e=this;return this.f?this.f:this.f=sf(this,ir().then(function(){if(g()&&!xi())return Mo();throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.w())}).then(function(a){return e.g=a,xr(e.s,p,{})}).then(function(a){e.a[fp]=a.recaptchaSiteKey}).o(function(a){throw e.f=null,a}))},T.render=function(){_c(this);var e=this;return sf(this,this.Ga().then(function(){if(null===e.c){var a=e.u;if(!e.i){var m=ai(a);a=function Ni(e,a,m){var P=arguments,Q=document,Ee=String(P[0]),Ve=P[1];if(!vi&&Ve&&(Ve.name||Ve.type)){if(Ee=["<",Ee],Ve.name&&Ee.push(' name="',Gt(Ve.name),'"'),Ve.type){Ee.push(' type="',Gt(Ve.type),'"');var Ht={};Ir(Ht,Ve),delete Ht.type,Ve=Ht}Ee.push(">"),Ee=Ee.join("")}return Ee=Wi(Q,Ee),Ve&&("string"==typeof Ve?Ee.className=Ve:Array.isArray(Ve)?Ee.className=Ve.join(" "):Dr(Ee,Ve)),2<P.length&&function Mr(e,a,m){function P(Ve){Ve&&a.appendChild("string"==typeof Ve?e.createTextNode(Ve):Ve)}for(var Q=2;Q<m.length;Q++){var Ee=m[Q];!Zt(Ee)||we(Ee)&&0<Ee.nodeType?P(Ee):bt(Fi(Ee)?On(Ee):Ee,P)}}(Q,Ee,P),Ee}("DIV"),m.appendChild(a)}e.c=e.g.render(a,e.a)}return e.c}))},T.verify=function(){_c(this);var e=this;return sf(this,this.render().then(function(a){return new Qe(function(m){var P=e.g.getResponse(a);if(P)m(P);else{var Q=function(Ee){Ee&&(function rf(e,a){$n(e.l,function(m){return m==a})}(e,Q),m(Ee))};e.l.push(Q),e.i&&e.g.execute(e.c)}})}))},T.reset=function(){_c(this),null!==this.c&&this.g.reset(this.c)},T.clear=function(){_c(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ai(this.u);for(var a;a=e.firstChild;)e.removeChild(a)}},k(af,tf);var mp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Or(e,a){return{name:e||"",J:"a valid string",optional:!!a,K:function(m){return"string"==typeof m}}}function lf(e,a){return{name:e||"",J:"a boolean",optional:!!a,K:function(m){return"boolean"==typeof m}}}function xs(e,a){return{name:e||"",J:"a valid object",optional:!!a,K:we}}function ku(e,a){return{name:e||"",J:"a function",optional:!!a,K:function(m){return"function"==typeof m}}}function Ga(e,a){return{name:e||"",J:"null",optional:!!a,K:function(m){return null===m}}}function Nl(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(a){return!!a&&!(!a.ia||e&&a.providerId!==e)}}}function uf(e,a){return we(e)&&"string"==typeof e.type&&e.type===a&&"function"==typeof e.Fa}function vp(e){return we(e)&&"string"==typeof e.uid}function us(e,a,m,P){return{name:m||"",J:e.J+" or "+a.J,optional:!!P,K:function(Q){return e.K(Q)||a.K(Q)}}}function ro(e,a){for(var m in a){var P=a[m].name;e[P]=eu(P,e[m],a[m].j)}}function wc(e,a){for(var m in a){var P=a[m].name;P!==m&&Object.defineProperty(e,P,{get:et(function(Q){return this[Q]},m),set:et(function(Q,Ee,Ve,Ht){pp(Q,[Ve],[Ht],!0),this[Ee]=Ht},P,m,a[m].gb),enumerable:!0})}}function zi(e,a,m,P){e[a]=eu(a,m,P)}function eu(e,a,m){function P(){var Ve=Array.prototype.slice.call(arguments);return pp(Q,m,Ve),a.apply(this,Ve)}if(!m)return a;var Ee,Q=function Qd(e){return(e=e.split("."))[e.length-1]}(e);for(Ee in a)P[Ee]=a[Ee];for(Ee in a.prototype)P.prototype[Ee]=a.prototype[Ee];return P}ro(Wa.prototype,{fb:{name:"applyActionCode",j:[Or("code")]},Pa:{name:"checkActionCode",j:[Or("code")]},jb:{name:"confirmPasswordReset",j:[Or("code"),Or("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Or("email"),Or("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Or("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Or("emailLink")]},Fc:{name:"onAuthStateChanged",j:[us(xs(),ku(),"nextOrObserver"),ku("opt_error",!0),ku("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[us(xs(),ku(),"nextOrObserver"),ku("opt_error",!0),ku("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Or("email"),us(xs("opt_actionCodeSettings",!0),Ga(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Or("email"),xs("actionCodeSettings")]},tb:{name:"setPersistence",j:[Or("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Nl()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Nl()]},Rc:{name:"signInWithCustomToken",j:[Or("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Or("email"),Or("password")]},Tc:{name:"signInWithEmailLink",j:[Or("email"),Or("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Or("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[us({name:"user",J:"an instance of Firebase User",optional:!1,K:function(a){return!!(a&&a instanceof fa)}},Ga(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Or(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Or("code")]}}),wc(Wa.prototype,{lc:{name:"languageCode",gb:us(Or(),Ga(),"languageCode")},ti:{name:"tenantId",gb:us(Or(),Ga(),"tenantId")}}),(Wa.Persistence=Du).LOCAL="local",Wa.Persistence.SESSION="session",Wa.Persistence.NONE="none",ro(fa.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[lf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[lf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Nl()]},mb:{name:"linkWithCredential",j:[Nl()]},Bc:{name:"linkWithPhoneNumber",j:[Or("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Nl()]},pb:{name:"reauthenticateWithCredential",j:[Nl()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Or("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[us(xs("opt_actionCodeSettings",!0),Ga(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Or(null,!0)]},ad:{name:"unlink",j:[Or("provider")]},xb:{name:"updateEmail",j:[Or("email")]},yb:{name:"updatePassword",j:[Or("password")]},cd:{name:"updatePhoneNumber",j:[Nl("phone")]},zb:{name:"updateProfile",j:[xs("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Or("email"),us(xs("opt_actionCodeSettings",!0),Ga(null,!0),"opt_actionCodeSettings",!0)]}}),ro(Rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ro(pa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ro(Qe.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),wc(Gf.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:lf("appVerificationDisabledForTesting")}}),ro(Jc.prototype,{confirm:{name:"confirm",j:[Or("verificationCode")]}}),zi(va,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var a,m=[dd,Ic,bf,ih],P=0;P<m.length;P++)if(a=m[P](e))return a;return null},[us(Or(),xs(),"json")]),zi(Ns,"credential",function(e,a){return new ya(e,a)},[Or("email"),Or("password")]),ro(ya.prototype,{v:{name:"toJSON",j:[Or(null,!0)]}}),ro(hl.prototype,{Aa:{name:"addScope",j:[Or("scope")]},Ia:{name:"setCustomParameters",j:[xs("customOAuthParameters")]}}),zi(hl,"credential",Fu,[us(Or(),xs(),"token")]),zi(Ns,"credentialWithLink",Pc,[Or("email"),Or("emailLink")]),ro(Aa.prototype,{Aa:{name:"addScope",j:[Or("scope")]},Ia:{name:"setCustomParameters",j:[xs("customOAuthParameters")]}}),zi(Aa,"credential",ka,[us(Or(),xs(),"token")]),ro(la.prototype,{Aa:{name:"addScope",j:[Or("scope")]},Ia:{name:"setCustomParameters",j:[xs("customOAuthParameters")]}}),zi(la,"credential",Dc,[us(Or(),us(xs(),Ga()),"idToken"),us(Or(),Ga(),"accessToken",!0)]),ro(Vl.prototype,{Ia:{name:"setCustomParameters",j:[xs("customOAuthParameters")]}}),zi(Vl,"credential",Cc,[us(Or(),xs(),"token"),Or("secret",!0)]),ro(Ys.prototype,{Aa:{name:"addScope",j:[Or("scope")]},credential:{name:"credential",j:[us(Or(),us(xs(),Ga()),"optionsOrIdToken"),us(Or(),Ga(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[xs("customOAuthParameters")]}}),ro(bs.prototype,{v:{name:"toJSON",j:[Or(null,!0)]}}),ro(qa.prototype,{v:{name:"toJSON",j:[Or(null,!0)]}}),zi(ua,"credential",xc,[Or("verificationId"),Or("verificationCode")]),ro(ua.prototype,{cb:{name:"verifyPhoneNumber",j:[us(Or(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(m){return!!m&&(m.session&&m.phoneNumber?uf(m.session,ru)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?uf(m.session,Ul)&&vp(m.multiFactorHint):m.session&&m.multiFactorUid?uf(m.session,Ul)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),ro(_a.prototype,{v:{name:"toJSON",j:[Or(null,!0)]}}),ro(D.prototype,{toJSON:{name:"toJSON",j:[Or(null,!0)]}}),ro(Hl.prototype,{toJSON:{name:"toJSON",j:[Or(null,!0)]}}),ro(Yu.prototype,{toJSON:{name:"toJSON",j:[Or(null,!0)]}}),ro(kh.prototype,{toJSON:{name:"toJSON",j:[Or(null,!0)]}}),ro(Kf.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}}]}}),ro(Fh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}},Or("displayName",!0)]},$c:{name:"unenroll",j:[us({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:vp},Or(),"multiFactorInfoIdentifier")]}}),ro(af.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zi(vs,"parseLink",Lo,[Or("link")]),zi(Xh,"assertion",function(e){return new Nh(e)},[Nl("phone")]),function(){if(!(typeof y<"u"&&y.INTERNAL&&y.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:po,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ko,VERIFY_AND_CHANGE_EMAIL:ns,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Wa,AuthCredential:va,Error:D};zi(e,"EmailAuthProvider",Ns,[]),zi(e,"FacebookAuthProvider",hl,[]),zi(e,"GithubAuthProvider",Aa,[]),zi(e,"GoogleAuthProvider",la,[]),zi(e,"TwitterAuthProvider",Vl,[]),zi(e,"OAuthProvider",Ys,[Or("providerId")]),zi(e,"SAMLAuthProvider",dl,[Or("providerId")]),zi(e,"PhoneAuthProvider",ua,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof Wa)}}]),zi(e,"RecaptchaVerifier",af,[us(Or(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),xs("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof y.app.App)}}]),zi(e,"ActionCodeURL",vs,[]),zi(e,"PhoneMultiFactorGenerator",Xh,[]),y.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return new Wa(a=a.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),y.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return{getUid:ke((a=a.getProvider("auth").getImmediate()).getUid,a),getToken:ke(a.kc,a),addAuthTokenListener:ke(a.bc,a),removeAuthTokenListener:ke(a.Nc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),y.registerVersion("@firebase/auth","0.14.9"),y.INTERNAL.extendNamespace({User:fa})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},46355:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(77754),T=F(1270),Y=function(){function oe($,Me,Te){this.name=$,this.instanceFactory=Me,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return oe.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},oe.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},oe.prototype.setServiceProps=function($){return this.serviceProps=$,this},oe}(),Pe="[DEFAULT]",z=function(){function oe($,Me){this.name=$,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return oe.prototype.get=function($){void 0===$&&($=Pe);var Me=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(Me)){var Te=new T.Deferred;this.instancesDeferred.set(Me,Te);try{var De=this.getOrInitializeService(Me);De&&Te.resolve(De)}catch{}}return this.instancesDeferred.get(Me).promise},oe.prototype.getImmediate=function($){var Me=y.__assign({identifier:Pe,optional:!1},$),De=Me.optional,_t=this.normalizeInstanceIdentifier(Me.identifier);try{var Zt=this.getOrInitializeService(_t);if(!Zt){if(De)return null;throw Error("Service "+this.name+" is not available")}return Zt}catch(zt){if(De)return null;throw zt}},oe.prototype.getComponent=function(){return this.component},oe.prototype.setComponent=function($){var Me,Te;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,function ee(oe){return"EAGER"===oe.instantiationMode}($))try{this.getOrInitializeService(Pe)}catch{}try{for(var De=y.__values(this.instancesDeferred.entries()),_t=De.next();!_t.done;_t=De.next()){var Zt=y.__read(_t.value,2),we=Zt[1],Rt=this.normalizeInstanceIdentifier(Zt[0]);try{var vt=this.getOrInitializeService(Rt);we.resolve(vt)}catch{}}}catch(en){Me={error:en}}finally{try{_t&&!_t.done&&(Te=De.return)&&Te.call(De)}finally{if(Me)throw Me.error}}},oe.prototype.clearInstance=function($){void 0===$&&($=Pe),this.instancesDeferred.delete($),this.instances.delete($)},oe.prototype.delete=function(){return y.__awaiter(this,void 0,void 0,function(){var $;return y.__generator(this,function(Me){switch(Me.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all(y.__spread($.filter(function(Te){return"INTERNAL"in Te}).map(function(Te){return Te.INTERNAL.delete()}),$.filter(function(Te){return"_delete"in Te}).map(function(Te){return Te._delete()})))];case 1:return Me.sent(),[2]}})})},oe.prototype.isComponentSet=function(){return null!=this.component},oe.prototype.getOrInitializeService=function($){var Me=this.instances.get($);return!Me&&this.component&&(Me=this.component.instanceFactory(this.container,function Xe(oe){return oe===Pe?void 0:oe}($)),this.instances.set($,Me)),Me||null},oe.prototype.normalizeInstanceIdentifier=function($){return this.component?this.component.multipleInstances?$:Pe:$},oe}(),Ge=function(){function oe($){this.name=$,this.providers=new Map}return oe.prototype.addComponent=function($){var Me=this.getProvider($.name);if(Me.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);Me.setComponent($)},oe.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},oe.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var Me=new z($,this);return this.providers.set($,Me),Me},oe.prototype.getProviders=function(){return Array.from(this.providers.values())},oe}();nt.Component=Y,nt.ComponentContainer=Ge,nt.Provider=z},61925:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(39278),T=F(44255),Y=F(1270),Pe=F(64003),z=F(46355);function Xe(g){return g&&"object"==typeof g&&"default"in g?g:{default:g}}var g,ee=Xe(y),Ge=function(){function g(l){this.domStorage_=l,this.prefix_="firebase:"}return g.prototype.set=function(l,d){null==d?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),Y.stringify(d))},g.prototype.get=function(l){var d=this.domStorage_.getItem(this.prefixedName_(l));return null==d?null:Y.jsonEval(d)},g.prototype.remove=function(l){this.domStorage_.removeItem(this.prefixedName_(l))},g.prototype.prefixedName_=function(l){return this.prefix_+l},g.prototype.toString=function(){return this.domStorage_.toString()},g}(),oe=function(){function g(){this.cache_={},this.isInMemoryStorage=!0}return g.prototype.set=function(l,d){null==d?delete this.cache_[l]:this.cache_[l]=d},g.prototype.get=function(l){return Y.contains(this.cache_,l)?this.cache_[l]:null},g.prototype.remove=function(l){delete this.cache_[l]},g}(),$=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){var l=window[g];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new Ge(l)}}catch{}return new oe},Me=$("localStorage"),Te=$("sessionStorage"),De=new Pe.Logger("@firebase/database"),_t=(g=1,function(){return g++}),Zt=function(g){var l=Y.stringToByteArray(g),d=new Y.Sha1;d.update(l);var b=d.digest();return Y.base64.encodeByteArray(b)},zt=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];for(var d="",b=0;b<g.length;b++){var A=g[b];Array.isArray(A)||A&&"object"==typeof A&&"number"==typeof A.length?d+=zt.apply(null,A):d+="object"==typeof A?Y.stringify(A):A,d+=" "}return d},we=null,Rt=!0,vt=function(g,l){Y.assert(!l||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(De.logLevel=Pe.LogLevel.VERBOSE,we=De.log.bind(De),l&&Te.set("logging_enabled",!0)):"function"==typeof g?we=g:(we=null,Te.remove("logging_enabled"))},en=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];if(!0===Rt&&(Rt=!1,null===we&&!0===Te.get("logging_enabled")&&vt(!0)),we){var d=zt.apply(null,g);we(d)}},Ot=function(g){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];en.apply(void 0,T.__spread([g],l))}},je=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE INTERNAL ERROR: "+zt.apply(void 0,T.__spread(g));De.error(d)},ke=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE FATAL ERROR: "+zt.apply(void 0,T.__spread(g));throw De.error(d),new Error(d)},et=function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];var d="FIREBASE WARNING: "+zt.apply(void 0,T.__spread(g));De.warn(d)},k=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},G="[MIN_NAME]",J="[MAX_NAME]",N=function(g,l){if(g===l)return 0;if(g===G||l===J)return-1;if(l===G||g===J)return 1;var d=Ue(g),b=Ue(l);return null!==d?null!==b?d-b==0?g.length-l.length:d-b:-1:null!==b?1:g<l?-1:1},ge=function(g,l){return g===l?0:g<l?-1:1},Ke=function(g,l){if(l&&g in l)return l[g];throw new Error("Missing required key ("+g+") in object: "+Y.stringify(l))},Tn=function(g){if("object"!=typeof g||null===g)return Y.stringify(g);var l=[];for(var d in g)l.push(d);l.sort();for(var b="{",A=0;A<l.length;A++)0!==A&&(b+=","),b+=Y.stringify(l[A]),b+=":",b+=Tn(g[l[A]]);return b+"}"},He=function(g,l){var d=g.length;if(d<=l)return[g];for(var b=[],A=0;A<d;A+=l)b.push(g.substring(A,A+l>d?d:A+l));return b};function ut(g,l){for(var d in g)g.hasOwnProperty(d)&&l(d,g[d])}var Bt,st,Ft,Qn,Cn,kt,at=function(g){Y.assert(!k(g),"Invalid JSON number");var A,V,he,xe,lt,b=1023;0===g?(V=0,he=0,A=1/g==-1/0?1:0):(A=g<0,(g=Math.abs(g))>=Math.pow(2,1-b)?(V=(xe=Math.min(Math.floor(Math.log(g)/Math.LN2),b))+b,he=Math.round(g*Math.pow(2,52-xe)-Math.pow(2,52))):(V=0,he=Math.round(g/Math.pow(2,-1074))));var Je=[];for(lt=52;lt;lt-=1)Je.push(he%2?1:0),he=Math.floor(he/2);for(lt=11;lt;lt-=1)Je.push(V%2?1:0),V=Math.floor(V/2);Je.push(A?1:0),Je.reverse();var L=Je.join(""),S="";for(lt=0;lt<64;lt+=8){var E=parseInt(L.substr(lt,8),2).toString(16);1===E.length&&(E="0"+E),S+=E}return S.toLowerCase()},Le=new RegExp("^-?(0*)\\d{1,10}$"),Ue=function(g){if(Le.test(g)){var l=Number(g);if(l>=-2147483648&&l<=2147483647)return l}return null},ht=function(g){try{g()}catch(l){setTimeout(function(){throw et("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Et=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mn=function(g,l){var d=setTimeout(g,l);return"object"==typeof d&&d.unref&&d.unref(),d},bt=function(){function g(l,d){if(void 0===d){this.pieces_=l.split("/");for(var b=0,A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[b]=this.pieces_[A],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=d}return Object.defineProperty(g,"Empty",{get:function(){return new g("")},enumerable:!1,configurable:!0}),g.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},g.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},g.prototype.popFront=function(){var l=this.pieceNum_;return l<this.pieces_.length&&l++,new g(this.pieces_,l)},g.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},g.prototype.toString=function(){for(var l="",d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(l+="/"+this.pieces_[d]);return l||"/"},g.prototype.toUrlEncodedString=function(){for(var l="",d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(l+="/"+encodeURIComponent(String(this.pieces_[d])));return l||"/"},g.prototype.slice=function(l){return void 0===l&&(l=0),this.pieces_.slice(this.pieceNum_+l)},g.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var l=[],d=this.pieceNum_;d<this.pieces_.length-1;d++)l.push(this.pieces_[d]);return new g(l,0)},g.prototype.child=function(l){for(var d=[],b=this.pieceNum_;b<this.pieces_.length;b++)d.push(this.pieces_[b]);if(l instanceof g)for(b=l.pieceNum_;b<l.pieces_.length;b++)d.push(l.pieces_[b]);else{var A=l.split("/");for(b=0;b<A.length;b++)A[b].length>0&&d.push(A[b])}return new g(d,0)},g.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},g.relativePath=function(l,d){var b=l.getFront(),A=d.getFront();if(null===b)return d;if(b===A)return g.relativePath(l.popFront(),d.popFront());throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+l+")")},g.comparePaths=function(l,d){for(var b=l.slice(),A=d.slice(),V=0;V<b.length&&V<A.length;V++){var he=N(b[V],A[V]);if(0!==he)return he}return b.length===A.length?0:b.length<A.length?-1:1},g.prototype.equals=function(l){if(this.getLength()!==l.getLength())return!1;for(var d=this.pieceNum_,b=l.pieceNum_;d<=this.pieces_.length;d++,b++)if(this.pieces_[d]!==l.pieces_[b])return!1;return!0},g.prototype.contains=function(l){var d=this.pieceNum_,b=l.pieceNum_;if(this.getLength()>l.getLength())return!1;for(;d<this.pieces_.length;){if(this.pieces_[d]!==l.pieces_[b])return!1;++d,++b}return!0},g}(),sn=function(){function g(l,d){this.errorPrefix_=d,this.parts_=l.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=Y.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(g,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(g,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),g.prototype.push=function(l){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(l),this.byteLength_+=Y.stringLength(l),this.checkValid_()},g.prototype.pop=function(){var l=this.parts_.pop();this.byteLength_-=Y.stringLength(l),this.parts_.length>0&&(this.byteLength_-=1)},g.prototype.checkValid_=function(){if(this.byteLength_>g.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+g.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>g.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},g.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},g}(),xn="firebaseio.com",On="websocket",br="long_polling",hn=function(){function g(l,d,b,A,V,he,xe){void 0===V&&(V=!1),void 0===he&&(he=""),void 0===xe&&(xe=!1),this.secure=d,this.namespace=b,this.webSocketOnly=A,this.nodeAdmin=V,this.persistenceKey=he,this.includeNamespaceInQueryParams=xe,this.host=l.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Me.get("host:"+l)||this.host}return g.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},g.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},g.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},g.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},g.prototype.updateHost=function(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&Me.set("host:"+this.host,this.internalHost))},g.prototype.connectionURL=function(l,d){var b;if(Y.assert("string"==typeof l,"typeof type must == string"),Y.assert("object"==typeof d,"typeof params must == object"),l===On)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(l!==br)throw new Error("Unknown connection type: "+l);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(d.ns=this.namespace);var A=[];return ut(d,function(V,he){A.push(V+"="+he)}),b+A.join("&")},g.prototype.toString=function(){var l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l},g.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},g}(),Yt=function(g,l){var d=Qt(g),b=d.namespace;return"firebase.com"===d.domain&&ke(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==d.domain&&ke("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hn(d.host,d.secure,b,l,"ws"===d.scheme||"wss"===d.scheme,"",b!==d.subdomain),path:new bt(d.pathString)}},Qt=function(g){var l="",d="",b="",A="",V="",he=!0,xe="https",lt=443;if("string"==typeof g){var Je=g.indexOf("//");Je>=0&&(xe=g.substring(0,Je-1),g=g.substring(Je+2));var L=g.indexOf("/");-1===L&&(L=g.length);var S=g.indexOf("?");-1===S&&(S=g.length),l=g.substring(0,Math.min(L,S)),L<S&&(A=function Fe(g){for(var l="",d=g.split("/"),b=0;b<d.length;b++)if(d[b].length>0){var A=d[b];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch{}l+="/"+A}return l}(g.substring(L,S)));var E=function dt(g){var l,d,b={};"?"===g.charAt(0)&&(g=g.substring(1));try{for(var A=T.__values(g.split("&")),V=A.next();!V.done;V=A.next()){var he=V.value;if(0!==he.length){var xe=he.split("=");2===xe.length?b[decodeURIComponent(xe[0])]=decodeURIComponent(xe[1]):et("Invalid query segment '"+he+"' in query '"+g+"'")}}}catch(lt){l={error:lt}}finally{try{V&&!V.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}return b}(g.substring(Math.min(g.length,S)));(Je=l.indexOf(":"))>=0?(he="https"===xe||"wss"===xe,lt=parseInt(l.substring(Je+1),10)):Je=l.length;var O=l.slice(0,Je);if("localhost"===O.toLowerCase())d="localhost";else if(O.split(".").length<=2)d=O;else{var re=l.indexOf(".");b=l.substring(0,re).toLowerCase(),d=l.substring(re+1),V=b}"ns"in E&&(V=E.ns)}return{host:l,port:lt,domain:d,subdomain:b,secure:he,scheme:xe,pathString:A,namespace:V}},gn=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,Se=10485760,Mt=function(g){return"string"==typeof g&&0!==g.length&&!gn.test(g)},Nt=function(g){return"string"==typeof g&&0!==g.length&&!ot.test(g)},wn=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!k(g)||g&&"object"==typeof g&&Y.contains(g,".sv")},An=function(g,l,d,b,A){A&&void 0===d||Hn(Y.errorPrefix(g,l,A),d,b)},Hn=function(g,l,d){var b=d instanceof bt?new sn(d,g):d;if(void 0===l)throw new Error(g+"contains undefined "+b.toErrorString());if("function"==typeof l)throw new Error(g+"contains a function "+b.toErrorString()+" with contents = "+l.toString());if(k(l))throw new Error(g+"contains "+l.toString()+" "+b.toErrorString());if("string"==typeof l&&l.length>Se/3&&Y.stringLength(l)>Se)throw new Error(g+"contains a string greater than "+Se+" utf8 bytes "+b.toErrorString()+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){var A=!1,V=!1;if(ut(l,function(he,xe){if(".value"===he)A=!0;else if(".priority"!==he&&".sv"!==he&&(V=!0,!Mt(he)))throw new Error(g+" contains an invalid key ("+he+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(he),Hn(g,xe,b),b.pop()}),A&&V)throw new Error(g+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},kn=function(g,l,d,b,A){if(!A||void 0!==d){var V=Y.errorPrefix(g,l,A);if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(V+" must be an object containing the children to replace.");var he=[];ut(d,function(xe,lt){var Je=new bt(xe);if(Hn(V,lt,b.child(Je)),".priority"===Je.getBack()&&!wn(lt))throw new Error(V+"contains an invalid value for '"+Je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");he.push(Je)}),function(g,l){var d,b;for(d=0;d<l.length;d++)for(var A=(b=l[d]).slice(),V=0;V<A.length;V++)if((".priority"!==A[V]||V!==A.length-1)&&!Mt(A[V]))throw new Error(g+"contains an invalid key ("+A[V]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.sort(bt.comparePaths);var he=null;for(d=0;d<l.length;d++){if(b=l[d],null!==he&&he.contains(b))throw new Error(g+"contains a path "+he.toString()+" that is ancestor of another path "+b.toString());he=b}}(V,he)}},Jn=function(g,l,d,b){if(!b||void 0!==d){if(k(d))throw new Error(Y.errorPrefix(g,l,b)+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wn(d))throw new Error(Y.errorPrefix(g,l,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ir=function(g,l,d,b){if(!b||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Y.errorPrefix(g,l,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},cn=function(g,l,d,b){if(!(b&&void 0===d||Mt(d)))throw new Error(Y.errorPrefix(g,l,b)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pt=function(g,l,d,b){if(!(b&&void 0===d||Nt(d)))throw new Error(Y.errorPrefix(g,l,b)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vt=function(g,l,d,b){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Pt(g,l,d,b)},Ce=function(g,l){if(".info"===l.getFront())throw new Error(g+" failed = Can't modify data under /.info/")},ue=function(g,l,d){var b=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Mt(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==b.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Nt(g)}(b))throw new Error(Y.errorPrefix(g,l,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},le=function(g,l,d,b){if((!b||void 0!==d)&&"boolean"!=typeof d)throw new Error(Y.errorPrefix(g,l,b)+"must be a boolean.")},tt=function(){function g(l,d){this.repo_=l,this.path_=d}return g.prototype.cancel=function(l){Y.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),Y.validateCallback("OnDisconnect.cancel",1,l,!0);var d=new Y.Deferred;return this.repo_.onDisconnectCancel(this.path_,d.wrapCallback(l)),d.promise},g.prototype.remove=function(l){Y.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ce("OnDisconnect.remove",this.path_),Y.validateCallback("OnDisconnect.remove",1,l,!0);var d=new Y.Deferred;return this.repo_.onDisconnectSet(this.path_,null,d.wrapCallback(l)),d.promise},g.prototype.set=function(l,d){Y.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ce("OnDisconnect.set",this.path_),An("OnDisconnect.set",1,l,this.path_,!1),Y.validateCallback("OnDisconnect.set",2,d,!0);var b=new Y.Deferred;return this.repo_.onDisconnectSet(this.path_,l,b.wrapCallback(d)),b.promise},g.prototype.setWithPriority=function(l,d,b){Y.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ce("OnDisconnect.setWithPriority",this.path_),An("OnDisconnect.setWithPriority",1,l,this.path_,!1),Jn("OnDisconnect.setWithPriority",2,d,!1),Y.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var A=new Y.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,l,d,A.wrapCallback(b)),A.promise},g.prototype.update=function(l,d){if(Y.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ce("OnDisconnect.update",this.path_),Array.isArray(l)){for(var b={},A=0;A<l.length;++A)b[""+A]=l[A];l=b,et("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kn("OnDisconnect.update",1,l,this.path_,!1),Y.validateCallback("OnDisconnect.update",2,d,!0);var V=new Y.Deferred;return this.repo_.onDisconnectUpdate(this.path_,l,V.wrapCallback(d)),V.promise},g}(),St=function(){function g(l,d){this.committed=l,this.snapshot=d}return g.prototype.toJSON=function(){return Y.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}(),vn=function(){var g="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",l=0,d=[];return function(b){var A=b===l;l=b;var V,he=new Array(8);for(V=7;V>=0;V--)he[V]=g.charAt(b%64),b=Math.floor(b/64);Y.assert(0===b,"Cannot push at time == 0");var xe=he.join("");if(A){for(V=11;V>=0&&63===d[V];V--)d[V]=0;d[V]++}else for(V=0;V<12;V++)d[V]=Math.floor(64*Math.random());for(V=0;V<12;V++)xe+=g.charAt(d[V]);return Y.assert(20===xe.length,"nextPushId: Length should be 20."),xe}}(),Oe=function(){function g(l,d){this.name=l,this.node=d}return g.Wrap=function(l,d){return new g(l,d)},g}(),It=function(){function g(){}return g.prototype.getCompare=function(){return this.compare.bind(this)},g.prototype.indexedValueChanged=function(l,d){var b=new Oe(G,l),A=new Oe(G,d);return 0!==this.compare(b,A)},g.prototype.minPost=function(){return Oe.MIN},g}(),ln=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return T.__extends(l,g),Object.defineProperty(l,"__EMPTY_NODE",{get:function(){return Bt},set:function(d){Bt=d},enumerable:!1,configurable:!0}),l.prototype.compare=function(d,b){return N(d.name,b.name)},l.prototype.isDefinedOn=function(d){throw Y.assertionError("KeyIndex.isDefinedOn not expected to be called.")},l.prototype.indexedValueChanged=function(d,b){return!1},l.prototype.minPost=function(){return Oe.MIN},l.prototype.maxPost=function(){return new Oe(J,Bt)},l.prototype.makePost=function(d,b){return Y.assert("string"==typeof d,"KeyIndex indexValue must always be a string."),new Oe(d,Bt)},l.prototype.toString=function(){return".key"},l}(It),qt=new ln,Ie=function(g){return"number"==typeof g?"number:"+at(g):"string:"+g},Dt=function(g){if(g.isLeafNode()){var l=g.val();Y.assert("string"==typeof l||"number"==typeof l||"object"==typeof l&&Y.contains(l,".sv"),"Priority must be a string or number.")}else Y.assert(g===st||g.isEmpty(),"priority of unexpected type.");Y.assert(g===st||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},pn=function(){function g(l,d){void 0===d&&(d=g.__childrenNodeConstructor.EMPTY_NODE),this.value_=l,this.priorityNode_=d,this.lazyHash_=null,Y.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Dt(this.priorityNode_)}return Object.defineProperty(g,"__childrenNodeConstructor",{get:function(){return Ft},set:function(l){Ft=l},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!0},g.prototype.getPriority=function(){return this.priorityNode_},g.prototype.updatePriority=function(l){return new g(this.value_,l)},g.prototype.getImmediateChild=function(l){return".priority"===l?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.getChild=function(l){return l.isEmpty()?this:".priority"===l.getFront()?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.hasChild=function(){return!1},g.prototype.getPredecessorChildName=function(l,d){return null},g.prototype.updateImmediateChild=function(l,d){return".priority"===l?this.updatePriority(d):d.isEmpty()&&".priority"!==l?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,d).updatePriority(this.priorityNode_)},g.prototype.updateChild=function(l,d){var b=l.getFront();return null===b?d:d.isEmpty()&&".priority"!==b?this:(Y.assert(".priority"!==b||1===l.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(l.popFront(),d)))},g.prototype.isEmpty=function(){return!1},g.prototype.numChildren=function(){return 0},g.prototype.forEachChild=function(l,d){return!1},g.prototype.val=function(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},g.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.priorityNode_.isEmpty()||(l+="priority:"+Ie(this.priorityNode_.val())+":");var d=typeof this.value_;l+=d+":",l+="number"===d?at(this.value_):this.value_,this.lazyHash_=Zt(l)}return this.lazyHash_},g.prototype.getValue=function(){return this.value_},g.prototype.compareTo=function(l){return l===g.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof g.__childrenNodeConstructor?-1:(Y.assert(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))},g.prototype.compareToLeafNode_=function(l){var d=typeof l.value_,b=typeof this.value_,A=g.VALUE_TYPE_ORDER.indexOf(d),V=g.VALUE_TYPE_ORDER.indexOf(b);return Y.assert(A>=0,"Unknown leaf type: "+d),Y.assert(V>=0,"Unknown leaf type: "+b),A===V?"object"===b?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:V-A},g.prototype.withIndex=function(){return this},g.prototype.isIndexed=function(){return!0},g.prototype.equals=function(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))},g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g}(),it=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return T.__extends(l,g),l.prototype.compare=function(d,b){var A=d.node.getPriority(),V=b.node.getPriority(),he=A.compareTo(V);return 0===he?N(d.name,b.name):he},l.prototype.isDefinedOn=function(d){return!d.getPriority().isEmpty()},l.prototype.indexedValueChanged=function(d,b){return!d.getPriority().equals(b.getPriority())},l.prototype.minPost=function(){return Oe.MIN},l.prototype.maxPost=function(){return new Oe(J,new pn("[PRIORITY-POST]",Cn))},l.prototype.makePost=function(d,b){var A=Qn(d);return new Oe(b,new pn("[PRIORITY-POST]",A))},l.prototype.toString=function(){return".priority"},l}(It),pt=new it,Tt=function(){function g(l,d,b,A,V){void 0===V&&(V=null),this.isReverse_=A,this.resultGenerator_=V,this.nodeStack_=[];for(var he=1;!l.isEmpty();)if(he=d?b(l.key,d):1,A&&(he*=-1),he<0)l=this.isReverse_?l.left:l.right;else{if(0===he){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}return g.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var d,l=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return d},g.prototype.hasNext=function(){return this.nodeStack_.length>0},g.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}},g}(),Gt=function(){function g(l,d,b,A,V){this.key=l,this.value=d,this.color=b??g.RED,this.left=A??q.EMPTY_NODE,this.right=V??q.EMPTY_NODE}return g.prototype.copy=function(l,d,b,A,V){return new g(l??this.key,d??this.value,b??this.color,A??this.left,V??this.right)},g.prototype.count=function(){return this.left.count()+1+this.right.count()},g.prototype.isEmpty=function(){return!1},g.prototype.inorderTraversal=function(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)},g.prototype.reverseTraversal=function(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)},g.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},g.prototype.minKey=function(){return this.min_().key},g.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},g.prototype.insert=function(l,d,b){var A=this,V=b(l,A.key);return(A=V<0?A.copy(null,null,null,A.left.insert(l,d,b),null):0===V?A.copy(null,d,null,null,null):A.copy(null,null,null,null,A.right.insert(l,d,b))).fixUp_()},g.prototype.removeMin_=function(){if(this.left.isEmpty())return q.EMPTY_NODE;var l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),(l=l.copy(null,null,null,l.left.removeMin_(),null)).fixUp_()},g.prototype.remove=function(l,d){var b,A;if(d(l,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(l,d),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===d(l,b.key)){if(b.right.isEmpty())return q.EMPTY_NODE;A=b.right.min_(),b=b.copy(A.key,A.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(l,d))}return b.fixUp_()},g.prototype.isRed_=function(){return this.color},g.prototype.fixUp_=function(){var l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l},g.prototype.moveRedLeft_=function(){var l=this.colorFlip_();return l.right.left.isRed_()&&(l=(l=(l=l.copy(null,null,null,null,l.right.rotateRight_())).rotateLeft_()).colorFlip_()),l},g.prototype.moveRedRight_=function(){var l=this.colorFlip_();return l.left.left.isRed_()&&(l=(l=l.rotateRight_()).colorFlip_()),l},g.prototype.rotateLeft_=function(){var l=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},g.prototype.rotateRight_=function(){var l=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},g.prototype.colorFlip_=function(){var l=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,d)},g.prototype.checkMaxDepth_=function(){var l=this.check_();return Math.pow(2,l)<=this.count()+1},g.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)},g.RED=!0,g.BLACK=!1,g}(),Re=function(){function g(){}return g.prototype.copy=function(l,d,b,A,V){return this},g.prototype.insert=function(l,d,b){return new Gt(l,d,null)},g.prototype.remove=function(l,d){return this},g.prototype.count=function(){return 0},g.prototype.isEmpty=function(){return!0},g.prototype.inorderTraversal=function(l){return!1},g.prototype.reverseTraversal=function(l){return!1},g.prototype.minKey=function(){return null},g.prototype.maxKey=function(){return null},g.prototype.check_=function(){return 0},g.prototype.isRed_=function(){return!1},g}(),q=function(){function g(l,d){void 0===d&&(d=g.EMPTY_NODE),this.comparator_=l,this.root_=d}return g.prototype.insert=function(l,d){return new g(this.comparator_,this.root_.insert(l,d,this.comparator_).copy(null,null,Gt.BLACK,null,null))},g.prototype.remove=function(l){return new g(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,Gt.BLACK,null,null))},g.prototype.get=function(l){for(var d,b=this.root_;!b.isEmpty();){if(0===(d=this.comparator_(l,b.key)))return b.value;d<0?b=b.left:d>0&&(b=b.right)}return null},g.prototype.getPredecessorKey=function(l){for(var d,b=this.root_,A=null;!b.isEmpty();){if(0===(d=this.comparator_(l,b.key))){if(b.left.isEmpty())return A?A.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}d<0?b=b.left:d>0&&(A=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},g.prototype.isEmpty=function(){return this.root_.isEmpty()},g.prototype.count=function(){return this.root_.count()},g.prototype.minKey=function(){return this.root_.minKey()},g.prototype.maxKey=function(){return this.root_.maxKey()},g.prototype.inorderTraversal=function(l){return this.root_.inorderTraversal(l)},g.prototype.reverseTraversal=function(l){return this.root_.reverseTraversal(l)},g.prototype.getIterator=function(l){return new Tt(this.root_,null,this.comparator_,!1,l)},g.prototype.getIteratorFrom=function(l,d){return new Tt(this.root_,l,this.comparator_,!1,d)},g.prototype.getReverseIteratorFrom=function(l,d){return new Tt(this.root_,l,this.comparator_,!0,d)},g.prototype.getReverseIterator=function(l){return new Tt(this.root_,null,this.comparator_,!0,l)},g.EMPTY_NODE=new Re,g}(),_e=Math.log(2),qe=function(){function g(l){this.count=parseInt(Math.log(l+1)/_e,10),this.current_=this.count-1;var A=parseInt(Array(this.count+1).join("1"),2);this.bits_=l+1&A}return g.prototype.nextBitIsOne=function(){var l=!(this.bits_&1<<this.current_);return this.current_--,l},g}(),gt=function(g,l,d,b){g.sort(l);var A=function(lt,Je){var S,E,L=Je-lt;if(0===L)return null;if(1===L)return S=g[lt],E=d?d(S):S,new Gt(E,S.node,Gt.BLACK,null,null);var O=parseInt(L/2,10)+lt,re=A(lt,O),be=A(O+1,Je);return S=g[O],E=d?d(S):S,new Gt(E,S.node,Gt.BLACK,re,be)},xe=function(lt){for(var Je=null,L=null,S=g.length,E=function(Ct,an){var Sn=S-Ct,bn=S;S-=Ct;var er=A(Sn+1,bn),Sr=g[Sn],Gr=d?d(Sr):Sr;O(new Gt(Gr,Sr.node,an,null,er))},O=function(Ct){Je?(Je.left=Ct,Je=Ct):(L=Ct,Je=Ct)},re=0;re<lt.count;++re){var be=lt.nextBitIsOne(),yt=Math.pow(2,lt.count-(re+1));be?E(yt,Gt.BLACK):(E(yt,Gt.BLACK),E(yt,Gt.RED))}return L}(new qe(g.length));return new q(b||l,xe)},Lt={},Mn=function(){function g(l,d){this.indexes_=l,this.indexSet_=d}return Object.defineProperty(g,"Default",{get:function(){return Y.assert(Lt&&pt,"ChildrenNode.ts has not been loaded"),kt=kt||new g({".priority":Lt},{".priority":pt})},enumerable:!1,configurable:!0}),g.prototype.get=function(l){var d=Y.safeGet(this.indexes_,l);if(!d)throw new Error("No index defined for "+l);return d instanceof q?d:null},g.prototype.hasIndex=function(l){return Y.contains(this.indexSet_,l.toString())},g.prototype.addIndex=function(l,d){Y.assert(l!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],A=!1,V=d.getIterator(Oe.Wrap),he=V.getNext();he;)A=A||l.isDefinedOn(he.node),b.push(he),he=V.getNext();var xe;xe=A?gt(b,l.getCompare()):Lt;var lt=l.toString(),Je=T.__assign({},this.indexSet_);Je[lt]=l;var L=T.__assign({},this.indexes_);return L[lt]=xe,new g(L,Je)},g.prototype.addToIndexes=function(l,d){var b=this;return new g(Y.map(this.indexes_,function(V,he){var xe=Y.safeGet(b.indexSet_,he);if(Y.assert(xe,"Missing index implementation for "+he),V===Lt){if(xe.isDefinedOn(l.node)){for(var lt=[],Je=d.getIterator(Oe.Wrap),L=Je.getNext();L;)L.name!==l.name&&lt.push(L),L=Je.getNext();return lt.push(l),gt(lt,xe.getCompare())}return Lt}var S=d.get(l.name),E=V;return S&&(E=E.remove(new Oe(l.name,S))),E.insert(l,l.node)}),this.indexSet_)},g.prototype.removeFromIndexes=function(l,d){return new g(Y.map(this.indexes_,function(A){if(A===Lt)return A;var V=d.get(l.name);return V?A.remove(new Oe(l.name,V)):A}),this.indexSet_)},g}();function Wn(g,l){return N(g.name,l.name)}function hr(g,l){return N(g,l)}var tr,fn=function(){function g(l,d,b){this.children_=l,this.priorityNode_=d,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&Dt(this.priorityNode_),this.children_.isEmpty()&&Y.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(g,"EMPTY_NODE",{get:function(){return tr||(tr=new g(new q(hr),null,Mn.Default))},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!1},g.prototype.getPriority=function(){return this.priorityNode_||tr},g.prototype.updatePriority=function(l){return this.children_.isEmpty()?this:new g(this.children_,l,this.indexMap_)},g.prototype.getImmediateChild=function(l){if(".priority"===l)return this.getPriority();var d=this.children_.get(l);return null===d?tr:d},g.prototype.getChild=function(l){var d=l.getFront();return null===d?this:this.getImmediateChild(d).getChild(l.popFront())},g.prototype.hasChild=function(l){return null!==this.children_.get(l)},g.prototype.updateImmediateChild=function(l,d){if(Y.assert(d,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(d);var b=new Oe(l,d),A=void 0,V=void 0;d.isEmpty()?(A=this.children_.remove(l),V=this.indexMap_.removeFromIndexes(b,this.children_)):(A=this.children_.insert(l,d),V=this.indexMap_.addToIndexes(b,this.children_));var he=A.isEmpty()?tr:this.priorityNode_;return new g(A,he,V)},g.prototype.updateChild=function(l,d){var b=l.getFront();if(null===b)return d;Y.assert(".priority"!==l.getFront()||1===l.getLength(),".priority must be the last token in a path");var A=this.getImmediateChild(b).updateChild(l.popFront(),d);return this.updateImmediateChild(b,A)},g.prototype.isEmpty=function(){return this.children_.isEmpty()},g.prototype.numChildren=function(){return this.children_.count()},g.prototype.val=function(l){if(this.isEmpty())return null;var d={},b=0,A=0,V=!0;if(this.forEachChild(pt,function(lt,Je){d[lt]=Je.val(l),b++,V&&g.INTEGER_REGEXP_.test(lt)?A=Math.max(A,Number(lt)):V=!1}),!l&&V&&A<2*b){var he=[];for(var xe in d)he[xe]=d[xe];return he}return l&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d},g.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.getPriority().isEmpty()||(l+="priority:"+Ie(this.getPriority().val())+":"),this.forEachChild(pt,function(d,b){var A=b.hash();""!==A&&(l+=":"+d+":"+A)}),this.lazyHash_=""===l?"":Zt(l)}return this.lazyHash_},g.prototype.getPredecessorChildName=function(l,d,b){var A=this.resolveIndex_(b);if(A){var V=A.getPredecessorKey(new Oe(l,d));return V?V.name:null}return this.children_.getPredecessorKey(l)},g.prototype.getFirstChildName=function(l){var d=this.resolveIndex_(l);if(d){var b=d.minKey();return b&&b.name}return this.children_.minKey()},g.prototype.getFirstChild=function(l){var d=this.getFirstChildName(l);return d?new Oe(d,this.children_.get(d)):null},g.prototype.getLastChildName=function(l){var d=this.resolveIndex_(l);if(d){var b=d.maxKey();return b&&b.name}return this.children_.maxKey()},g.prototype.getLastChild=function(l){var d=this.getLastChildName(l);return d?new Oe(d,this.children_.get(d)):null},g.prototype.forEachChild=function(l,d){var b=this.resolveIndex_(l);return b?b.inorderTraversal(function(A){return d(A.name,A.node)}):this.children_.inorderTraversal(d)},g.prototype.getIterator=function(l){return this.getIteratorFrom(l.minPost(),l)},g.prototype.getIteratorFrom=function(l,d){var b=this.resolveIndex_(d);if(b)return b.getIteratorFrom(l,function(he){return he});for(var A=this.children_.getIteratorFrom(l.name,Oe.Wrap),V=A.peek();null!=V&&d.compare(V,l)<0;)A.getNext(),V=A.peek();return A},g.prototype.getReverseIterator=function(l){return this.getReverseIteratorFrom(l.maxPost(),l)},g.prototype.getReverseIteratorFrom=function(l,d){var b=this.resolveIndex_(d);if(b)return b.getReverseIteratorFrom(l,function(he){return he});for(var A=this.children_.getReverseIteratorFrom(l.name,Oe.Wrap),V=A.peek();null!=V&&d.compare(V,l)>0;)A.getNext(),V=A.peek();return A},g.prototype.compareTo=function(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===mr?-1:0},g.prototype.withIndex=function(l){if(l===qt||this.indexMap_.hasIndex(l))return this;var d=this.indexMap_.addIndex(l,this.children_);return new g(this.children_,this.priorityNode_,d)},g.prototype.isIndexed=function(l){return l===qt||this.indexMap_.hasIndex(l)},g.prototype.equals=function(l){if(l===this)return!0;if(l.isLeafNode())return!1;var d=l;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){for(var b=this.getIterator(pt),A=d.getIterator(pt),V=b.getNext(),he=A.getNext();V&&he;){if(V.name!==he.name||!V.node.equals(he.node))return!1;V=b.getNext(),he=A.getNext()}return null===V&&null===he}return!1}return!1},g.prototype.resolveIndex_=function(l){return l===qt?null:this.indexMap_.get(l.toString())},g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g}(),sr=function(g){function l(){return g.call(this,new q(hr),fn.EMPTY_NODE,Mn.Default)||this}return T.__extends(l,g),l.prototype.compareTo=function(d){return d===this?0:1},l.prototype.equals=function(d){return d===this},l.prototype.getPriority=function(){return this},l.prototype.getImmediateChild=function(d){return fn.EMPTY_NODE},l.prototype.isEmpty=function(){return!1},l}(fn),mr=new sr;Object.defineProperties(Oe,{MIN:{value:new Oe(G,fn.EMPTY_NODE)},MAX:{value:new Oe(J,mr)}}),ln.__EMPTY_NODE=fn.EMPTY_NODE,pn.__childrenNodeConstructor=fn,function rt(g){st=g}(mr),function ei(g){Cn=g}(mr);var gi=!0;function Er(g,l){if(void 0===l&&(l=null),null===g)return fn.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(l=g[".priority"]),Y.assert(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new pn(g,Er(l));if(g instanceof Array||!gi){var lt=fn.EMPTY_NODE;return ut(g,function(Je,L){if(Y.contains(g,Je)&&"."!==Je.substring(0,1)){var S=Er(L);(S.isLeafNode()||!S.isEmpty())&&(lt=lt.updateImmediateChild(Je,S))}}),lt.updatePriority(Er(l))}var b=[],A=!1;if(ut(g,function(Je,L){if("."!==Je.substring(0,1)){var S=Er(L);S.isEmpty()||(A=A||!S.getPriority().isEmpty(),b.push(new Oe(Je,S)))}}),0===b.length)return fn.EMPTY_NODE;var he=gt(b,Wn,function(Je){return Je.name},hr);if(A){var xe=gt(b,pt.getCompare());return new fn(he,Er(l),new Mn({".priority":xe},{".priority":pt}))}return new fn(he,Er(l),Mn.Default)}!function lr(g){Qn=g}(Er);var mo,vi=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return T.__extends(l,g),l.prototype.compare=function(d,b){var A=d.node.compareTo(b.node);return 0===A?N(d.name,b.name):A},l.prototype.isDefinedOn=function(d){return!0},l.prototype.indexedValueChanged=function(d,b){return!d.equals(b)},l.prototype.minPost=function(){return Oe.MIN},l.prototype.maxPost=function(){return Oe.MAX},l.prototype.makePost=function(d,b){var A=Er(d);return new Oe(b,A)},l.prototype.toString=function(){return".value"},l}(It),ai=new vi,Dr=function(g){function l(d){var b=g.call(this)||this;return b.indexPath_=d,Y.assert(!d.isEmpty()&&".priority"!==d.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return T.__extends(l,g),l.prototype.extractChild=function(d){return d.getChild(this.indexPath_)},l.prototype.isDefinedOn=function(d){return!d.getChild(this.indexPath_).isEmpty()},l.prototype.compare=function(d,b){var A=this.extractChild(d.node),V=this.extractChild(b.node),he=A.compareTo(V);return 0===he?N(d.name,b.name):he},l.prototype.makePost=function(d,b){var A=Er(d),V=fn.EMPTY_NODE.updateChild(this.indexPath_,A);return new Oe(b,V)},l.prototype.maxPost=function(){var d=fn.EMPTY_NODE.updateChild(this.indexPath_,mr);return new Oe(J,d)},l.prototype.toString=function(){return this.indexPath_.slice().join("/")},l}(It),Ri=function(){function g(l,d,b){this.node_=l,this.ref_=d,this.index_=b}return g.prototype.val=function(){return Y.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},g.prototype.exportVal=function(){return Y.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},g.prototype.toJSON=function(){return Y.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},g.prototype.exists=function(){return Y.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},g.prototype.child=function(l){Y.validateArgCount("DataSnapshot.child",0,1,arguments.length),l=String(l),Pt("DataSnapshot.child",1,l,!1);var d=new bt(l),b=this.ref_.child(d);return new g(this.node_.getChild(d),b,pt)},g.prototype.hasChild=function(l){Y.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Pt("DataSnapshot.hasChild",1,l,!1);var d=new bt(l);return!this.node_.getChild(d).isEmpty()},g.prototype.getPriority=function(){return Y.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},g.prototype.forEach=function(l){var d=this;return Y.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),Y.validateCallback("DataSnapshot.forEach",1,l,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(A,V){return l(new g(V,d.ref_.child(A),pt))})},g.prototype.hasChildren=function(){return Y.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(g.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),g.prototype.numChildren=function(){return Y.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},g.prototype.getRef=function(){return Y.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Ni=function(){function g(l,d,b,A){this.eventType=l,this.eventRegistration=d,this.snapshot=b,this.prevName=A}return g.prototype.getPath=function(){var l=this.snapshot.getRef();return"value"===this.eventType?l.path:l.getParent().path},g.prototype.getEventType=function(){return this.eventType},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Y.stringify(this.snapshot.exportVal())},g}(),Mr=function(){function g(l,d,b){this.eventRegistration=l,this.error=d,this.path=b}return g.prototype.getPath=function(){return this.path},g.prototype.getEventType=function(){return"cancel"},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.path.toString()+":cancel"},g}(),Wi=function(){function g(l,d,b){this.callback_=l,this.cancelCallback_=d,this.context_=b}return g.prototype.respondsTo=function(l){return"value"===l},g.prototype.createEvent=function(l,d){var b=d.getQueryParams().getIndex();return new Ni("value",this,new Ri(l.snapshotNode,d.getRef(),b))},g.prototype.getEventRunner=function(l){var d=this.context_;if("cancel"===l.getEventType()){Y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(d,l.error)}}var A=this.callback_;return function(){A.call(d,l.snapshot)}},g.prototype.createCancelEvent=function(l,d){return this.cancelCallback_?new Mr(this,l,d):null},g.prototype.matches=function(l){return l instanceof g&&(!l.callback_||!this.callback_||l.callback_===this.callback_&&l.context_===this.context_)},g.prototype.hasAnyCallback=function(){return null!==this.callback_},g}(),Fi=function(){function g(l,d,b){this.callbacks_=l,this.cancelCallback_=d,this.context_=b}return g.prototype.respondsTo=function(l){var d="children_added"===l?"child_added":l;return Y.contains(this.callbacks_,d="children_removed"===d?"child_removed":d)},g.prototype.createCancelEvent=function(l,d){return this.cancelCallback_?new Mr(this,l,d):null},g.prototype.createEvent=function(l,d){Y.assert(null!=l.childName,"Child events should have a childName.");var b=d.getRef().child(l.childName),A=d.getQueryParams().getIndex();return new Ni(l.type,this,new Ri(l.snapshotNode,b,A),l.prevName)},g.prototype.getEventRunner=function(l){var d=this.context_;if("cancel"===l.getEventType()){Y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(d,l.error)}}var A=this.callbacks_[l.eventType];return function(){A.call(d,l.snapshot,l.prevName)}},g.prototype.matches=function(l){var d=this;if(l instanceof g){if(!this.callbacks_||!l.callbacks_)return!0;if(this.context_===l.context_){var b=Object.keys(l.callbacks_),A=Object.keys(this.callbacks_),V=b.length;if(V===A.length){if(1===V){var xe=b[0],lt=A[0];return!(lt!==xe||l.callbacks_[xe]&&this.callbacks_[lt]&&l.callbacks_[xe]!==this.callbacks_[lt])}return A.every(function(Je){return l.callbacks_[Je]===d.callbacks_[Je]})}}}return!1},g.prototype.hasAnyCallback=function(){return null!==this.callbacks_},g}(),eo=function(){function g(l,d,b,A){this.repo=l,this.path=d,this.queryParams_=b,this.orderByCalled_=A}return Object.defineProperty(g,"__referenceConstructor",{get:function(){return Y.assert(mo,"Reference.ts has not been loaded"),mo},set:function(l){mo=l},enumerable:!1,configurable:!0}),g.validateQueryEndpoints_=function(l){var d=null,b=null;if(l.hasStart()&&(d=l.getIndexStartValue()),l.hasEnd()&&(b=l.getIndexEndValue()),l.getIndex()===qt){var A="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",V="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(l.hasStart()){if(l.getIndexStartName()!==G)throw new Error(A);if("string"!=typeof d)throw new Error(V)}if(l.hasEnd()){if(l.getIndexEndName()!==J)throw new Error(A);if("string"!=typeof b)throw new Error(V)}}else if(l.getIndex()===pt){if(null!=d&&!wn(d)||null!=b&&!wn(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Y.assert(l.getIndex()instanceof Dr||l.getIndex()===ai,"unknown index type."),null!=d&&"object"==typeof d||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},g.validateLimit_=function(l){if(l.hasStart()&&l.hasEnd()&&l.hasLimit()&&!l.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},g.prototype.validateNoPreviousOrderByCall_=function(l){if(!0===this.orderByCalled_)throw new Error(l+": You can't combine multiple orderBy calls.")},g.prototype.getQueryParams=function(){return this.queryParams_},g.prototype.getRef=function(){return Y.validateArgCount("Query.ref",0,0,arguments.length),new g.__referenceConstructor(this.repo,this.path)},g.prototype.on=function(l,d,b,A){Y.validateArgCount("Query.on",2,4,arguments.length),Ir("Query.on",1,l,!1),Y.validateCallback("Query.on",2,d,!1);var V=g.getCancelAndContextArgs_("Query.on",b,A);if("value"===l)this.onValueEvent(d,V.cancel,V.context);else{var he={};he[l]=d,this.onChildEvent(he,V.cancel,V.context)}return d},g.prototype.onValueEvent=function(l,d,b){var A=new Wi(l,d||null,b||null);this.repo.addEventCallbackForQuery(this,A)},g.prototype.onChildEvent=function(l,d,b){var A=new Fi(l,d,b);this.repo.addEventCallbackForQuery(this,A)},g.prototype.off=function(l,d,b){Y.validateArgCount("Query.off",0,3,arguments.length),Ir("Query.off",1,l,!0),Y.validateCallback("Query.off",2,d,!0),Y.validateContextObject("Query.off",3,b,!0);var A=null,V=null;"value"===l?A=new Wi(d||null,null,b||null):l&&(d&&((V={})[l]=d),A=new Fi(V,null,b||null)),this.repo.removeEventCallbackForQuery(this,A)},g.prototype.once=function(l,d,b,A){var V=this;Y.validateArgCount("Query.once",1,4,arguments.length),Ir("Query.once",1,l,!1),Y.validateCallback("Query.once",2,d,!0);var he=g.getCancelAndContextArgs_("Query.once",b,A),xe=!0,lt=new Y.Deferred;lt.promise.catch(function(){});var Je=function(L){xe&&(xe=!1,V.off(l,Je),d&&d.bind(he.context)(L),lt.resolve(L))};return this.on(l,Je,function(L){V.off(l,Je),he.cancel&&he.cancel.bind(he.context)(L),lt.reject(L)}),lt.promise},g.prototype.limitToFirst=function(l){if(Y.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new g(this.repo,this.path,this.queryParams_.limitToFirst(l),this.orderByCalled_)},g.prototype.limitToLast=function(l){if(Y.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new g(this.repo,this.path,this.queryParams_.limitToLast(l),this.orderByCalled_)},g.prototype.orderByChild=function(l){if(Y.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===l)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===l)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===l)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pt("Query.orderByChild",1,l,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var d=new bt(l);if(d.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new Dr(d),A=this.queryParams_.orderBy(b);return g.validateQueryEndpoints_(A),new g(this.repo,this.path,A,!0)},g.prototype.orderByKey=function(){Y.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var l=this.queryParams_.orderBy(qt);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.orderByPriority=function(){Y.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var l=this.queryParams_.orderBy(pt);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.orderByValue=function(){Y.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var l=this.queryParams_.orderBy(ai);return g.validateQueryEndpoints_(l),new g(this.repo,this.path,l,!0)},g.prototype.startAt=function(l,d){void 0===l&&(l=null),Y.validateArgCount("Query.startAt",0,2,arguments.length),An("Query.startAt",1,l,this.path,!0),cn("Query.startAt",2,d,!0);var b=this.queryParams_.startAt(l,d);if(g.validateLimit_(b),g.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===l&&(l=null,d=null),new g(this.repo,this.path,b,this.orderByCalled_)},g.prototype.endAt=function(l,d){void 0===l&&(l=null),Y.validateArgCount("Query.endAt",0,2,arguments.length),An("Query.endAt",1,l,this.path,!0),cn("Query.endAt",2,d,!0);var b=this.queryParams_.endAt(l,d);if(g.validateLimit_(b),g.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new g(this.repo,this.path,b,this.orderByCalled_)},g.prototype.equalTo=function(l,d){if(Y.validateArgCount("Query.equalTo",1,2,arguments.length),An("Query.equalTo",1,l,this.path,!1),cn("Query.equalTo",2,d,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(l,d).endAt(l,d)},g.prototype.toString=function(){return Y.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},g.prototype.toJSON=function(){return Y.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},g.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},g.prototype.queryIdentifier=function(){var l=this.queryObject(),d=Tn(l);return"{}"===d?"default":d},g.prototype.isEqual=function(l){if(Y.validateArgCount("Query.isEqual",1,1,arguments.length),!(l instanceof g))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var b=this.repo===l.repo,A=this.path.equals(l.path),V=this.queryIdentifier()===l.queryIdentifier();return b&&A&&V},g.getCancelAndContextArgs_=function(l,d,b){var A={cancel:null,context:null};if(d&&b)A.cancel=d,Y.validateCallback(l,3,A.cancel,!0),A.context=b,Y.validateContextObject(l,4,A.context,!0);else if(d)if("object"==typeof d&&null!==d)A.context=d;else{if("function"!=typeof d)throw new Error(Y.errorPrefix(l,3,!0)+" must either be a cancel callback or a context object.");A.cancel=d}return A},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Mi=function(){function g(l){this.node_=l}return g.prototype.getImmediateChild=function(l){return new g(this.node_.getImmediateChild(l))},g.prototype.node=function(){return this.node_},g}(),Ro=function(){function g(l,d){this.syncTree_=l,this.path_=d}return g.prototype.getImmediateChild=function(l){var d=this.path_.child(l);return new g(this.syncTree_,d)},g.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},g}(),ze=function(g,l,d){return g&&"object"==typeof g?(Y.assert(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?pe(g[".sv"],l,d):"object"==typeof g[".sv"]?j(g[".sv"],l):void Y.assert(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},pe=function(g,l,d){if("timestamp"===g)return d.timestamp;Y.assert(!1,"Unexpected server value: "+g)},j=function(g,l,d){g.hasOwnProperty("increment")||Y.assert(!1,"Unexpected server value: "+JSON.stringify(g,null,2));var b=g.increment;"number"!=typeof b&&Y.assert(!1,"Unexpected increment value: "+b);var A=l.node();if(Y.assert(null!==A&&typeof A<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return b;var he=A.getValue();return"number"!=typeof he?b:he+b},ye=function(g,l,d,b){return on(l,new Ro(d,g),b)},Qe=function(g,l,d){return on(g,new Mi(l),d)};function on(g,l,d){var V,b=g.getPriority().val(),A=ze(b,l.getImmediateChild(".priority"),d);if(g.isLeafNode()){var he=g,xe=ze(he.getValue(),l,d);return xe!==he.getValue()||A!==he.getPriority().val()?new pn(xe,Er(A)):g}var lt=g;return V=lt,A!==lt.getPriority().val()&&(V=V.updatePriority(new pn(A))),lt.forEachChild(pt,function(Je,L){var S=on(L,l.getImmediateChild(Je),d);S!==L&&(V=V.updateImmediateChild(Je,S))}),V}var vr,So,Gn=function(){function g(){this.value=null,this.children=new Map}return g.prototype.find=function(l){if(null!=this.value)return this.value.getChild(l);if(!l.isEmpty()&&this.children.size>0){var d=l.getFront();return l=l.popFront(),this.children.has(d)?this.children.get(d).find(l):null}return null},g.prototype.remember=function(l,d){if(l.isEmpty())this.value=d,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(l,d);else{var b=l.getFront();this.children.has(b)||this.children.set(b,new g);var A=this.children.get(b);l=l.popFront(),A.remember(l,d)}},g.prototype.forget=function(l){if(l.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var d=this.value;this.value=null;var b=this;return d.forEachChild(pt,function(he,xe){b.remember(new bt(he),xe)}),this.forget(l)}if(this.children.size>0){var A=l.getFront();return l=l.popFront(),this.children.has(A)&&this.children.get(A).forget(l)&&this.children.delete(A),0===this.children.size}return!0},g.prototype.forEachTree=function(l,d){null!==this.value?d(l,this.value):this.forEachChild(function(b,A){var V=new bt(l.toString()+"/"+b);A.forEachTree(V,d)})},g.prototype.forEachChild=function(l){this.children.forEach(function(d,b){l(b,d)})},g}(),rr=(()=>(function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rr||(rr={})),rr))(),Lr=function(){function g(l,d,b,A){this.fromUser=l,this.fromServer=d,this.queryId=b,this.tagged=A,Y.assert(!A||d,"Tagged queries must be from server.")}return g.User=new g(!0,!1,null,!1),g.Server=new g(!1,!0,null,!1),g.forServerTaggedQuery=function(l){return new g(!1,!0,l,!0)},g}(),gr=function(){function g(l,d,b){this.path=l,this.affectedTree=d,this.revert=b,this.type=rr.ACK_USER_WRITE,this.source=Lr.User}return g.prototype.operationForChild=function(l){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Y.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var d=this.affectedTree.subtree(new bt(l));return new g(bt.Empty,d,this.revert)}return Y.assert(this.path.getFront()===l,"operationForChild called for unrelated child."),new g(this.path.popFront(),this.affectedTree,this.revert)},g}(),ir=function(){return vr||(vr=new q(ge)),vr},or=function(){function g(l,d){void 0===d&&(d=ir()),this.value=l,this.children=d}return g.fromObject=function(l){var d=g.Empty;return ut(l,function(b,A){d=d.set(new bt(b),A)}),d},g.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},g.prototype.findRootMostMatchingPathAndValue=function(l,d){if(null!=this.value&&d(this.value))return{path:bt.Empty,value:this.value};if(l.isEmpty())return null;var b=l.getFront(),A=this.children.get(b);if(null!==A){var V=A.findRootMostMatchingPathAndValue(l.popFront(),d);return null!=V?{path:new bt(b).child(V.path),value:V.value}:null}return null},g.prototype.findRootMostValueAndPath=function(l){return this.findRootMostMatchingPathAndValue(l,function(){return!0})},g.prototype.subtree=function(l){if(l.isEmpty())return this;var d=l.getFront(),b=this.children.get(d);return null!==b?b.subtree(l.popFront()):g.Empty},g.prototype.set=function(l,d){if(l.isEmpty())return new g(d,this.children);var b=l.getFront(),V=(this.children.get(b)||g.Empty).set(l.popFront(),d),he=this.children.insert(b,V);return new g(this.value,he)},g.prototype.remove=function(l){if(l.isEmpty())return this.children.isEmpty()?g.Empty:new g(null,this.children);var d=l.getFront(),b=this.children.get(d);if(b){var A=b.remove(l.popFront()),V=void 0;return V=A.isEmpty()?this.children.remove(d):this.children.insert(d,A),null===this.value&&V.isEmpty()?g.Empty:new g(this.value,V)}return this},g.prototype.get=function(l){if(l.isEmpty())return this.value;var d=l.getFront(),b=this.children.get(d);return b?b.get(l.popFront()):null},g.prototype.setTree=function(l,d){if(l.isEmpty())return d;var he,b=l.getFront(),V=(this.children.get(b)||g.Empty).setTree(l.popFront(),d);return he=V.isEmpty()?this.children.remove(b):this.children.insert(b,V),new g(this.value,he)},g.prototype.fold=function(l){return this.fold_(bt.Empty,l)},g.prototype.fold_=function(l,d){var b={};return this.children.inorderTraversal(function(A,V){b[A]=V.fold_(l.child(A),d)}),d(l,this.value,b)},g.prototype.findOnPath=function(l,d){return this.findOnPath_(l,bt.Empty,d)},g.prototype.findOnPath_=function(l,d,b){var A=!!this.value&&b(d,this.value);if(A)return A;if(l.isEmpty())return null;var V=l.getFront(),he=this.children.get(V);return he?he.findOnPath_(l.popFront(),d.child(V),b):null},g.prototype.foreachOnPath=function(l,d){return this.foreachOnPath_(l,bt.Empty,d)},g.prototype.foreachOnPath_=function(l,d,b){if(l.isEmpty())return this;this.value&&b(d,this.value);var A=l.getFront(),V=this.children.get(A);return V?V.foreachOnPath_(l.popFront(),d.child(A),b):g.Empty},g.prototype.foreach=function(l){this.foreach_(bt.Empty,l)},g.prototype.foreach_=function(l,d){this.children.inorderTraversal(function(b,A){A.foreach_(l.child(b),d)}),this.value&&d(l,this.value)},g.prototype.foreachChild=function(l){this.children.inorderTraversal(function(d,b){b.value&&l(d,b.value)})},g.Empty=new g(null),g}(),Ii=function(){function g(l,d){this.source=l,this.path=d,this.type=rr.LISTEN_COMPLETE}return g.prototype.operationForChild=function(l){return this.path.isEmpty()?new g(this.source,bt.Empty):new g(this.source,this.path.popFront())},g}(),io=function(){function g(l,d,b){this.source=l,this.path=d,this.snap=b,this.type=rr.OVERWRITE}return g.prototype.operationForChild=function(l){return this.path.isEmpty()?new g(this.source,bt.Empty,this.snap.getImmediateChild(l)):new g(this.source,this.path.popFront(),this.snap)},g}(),Ei=function(){function g(l,d,b){this.source=l,this.path=d,this.children=b,this.type=rr.MERGE}return g.prototype.operationForChild=function(l){if(this.path.isEmpty()){var d=this.children.subtree(new bt(l));return d.isEmpty()?null:d.value?new io(this.source,bt.Empty,d.value):new g(this.source,bt.Empty,d)}return Y.assert(this.path.getFront()===l,"Can't get a merge for a child not on the path of the operation"),new g(this.source,this.path.popFront(),this.children)},g.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g}(),Li=function(){function g(l,d,b){this.node_=l,this.fullyInitialized_=d,this.filtered_=b}return g.prototype.isFullyInitialized=function(){return this.fullyInitialized_},g.prototype.isFiltered=function(){return this.filtered_},g.prototype.isCompleteForPath=function(l){if(l.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var d=l.getFront();return this.isCompleteForChild(d)},g.prototype.isCompleteForChild=function(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)},g.prototype.getNode=function(){return this.node_},g}(),Pi=function(){function g(l,d){this.eventCache_=l,this.serverCache_=d}return g.prototype.updateEventSnap=function(l,d,b){return new g(new Li(l,d,b),this.serverCache_)},g.prototype.updateServerSnap=function(l,d,b){return new g(this.eventCache_,new Li(l,d,b))},g.prototype.getEventCache=function(){return this.eventCache_},g.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},g.prototype.getServerCache=function(){return this.serverCache_},g.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},g.Empty=new g(new Li(fn.EMPTY_NODE,!1,!1),new Li(fn.EMPTY_NODE,!1,!1)),g}(),Hr=function(){function g(l,d,b,A,V){this.type=l,this.snapshotNode=d,this.childName=b,this.oldSnap=A,this.prevName=V}return g.valueChange=function(l){return new g(g.VALUE,l)},g.childAddedChange=function(l,d){return new g(g.CHILD_ADDED,d,l)},g.childRemovedChange=function(l,d){return new g(g.CHILD_REMOVED,d,l)},g.childChangedChange=function(l,d,b){return new g(g.CHILD_CHANGED,d,l,b)},g.childMovedChange=function(l,d){return new g(g.CHILD_MOVED,d,l)},g.CHILD_ADDED="child_added",g.CHILD_REMOVED="child_removed",g.CHILD_CHANGED="child_changed",g.CHILD_MOVED="child_moved",g.VALUE="value",g}(),Co=function(){function g(l){this.index_=l}return g.prototype.updateChild=function(l,d,b,A,V,he){Y.assert(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");var xe=l.getImmediateChild(d);return xe.getChild(A).equals(b.getChild(A))&&xe.isEmpty()===b.isEmpty()||(null!=he&&(b.isEmpty()?l.hasChild(d)?he.trackChildChange(Hr.childRemovedChange(d,xe)):Y.assert(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):xe.isEmpty()?he.trackChildChange(Hr.childAddedChange(d,b)):he.trackChildChange(Hr.childChangedChange(d,b,xe))),l.isLeafNode()&&b.isEmpty())?l:l.updateImmediateChild(d,b).withIndex(this.index_)},g.prototype.updateFullNode=function(l,d,b){return null!=b&&(l.isLeafNode()||l.forEachChild(pt,function(A,V){d.hasChild(A)||b.trackChildChange(Hr.childRemovedChange(A,V))}),d.isLeafNode()||d.forEachChild(pt,function(A,V){if(l.hasChild(A)){var he=l.getImmediateChild(A);he.equals(V)||b.trackChildChange(Hr.childChangedChange(A,V,he))}else b.trackChildChange(Hr.childAddedChange(A,V))})),d.withIndex(this.index_)},g.prototype.updatePriority=function(l,d){return l.isEmpty()?fn.EMPTY_NODE:l.updatePriority(d)},g.prototype.filtersNodes=function(){return!1},g.prototype.getIndexedFilter=function(){return this},g.prototype.getIndex=function(){return this.index_},g}(),Qi=function(){function g(){this.changeMap=new Map}return g.prototype.trackChildChange=function(l){var d=l.type,b=l.childName;Y.assert(d===Hr.CHILD_ADDED||d===Hr.CHILD_CHANGED||d===Hr.CHILD_REMOVED,"Only child changes supported for tracking"),Y.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var A=this.changeMap.get(b);if(A){var V=A.type;if(d===Hr.CHILD_ADDED&&V===Hr.CHILD_REMOVED)this.changeMap.set(b,Hr.childChangedChange(b,l.snapshotNode,A.snapshotNode));else if(d===Hr.CHILD_REMOVED&&V===Hr.CHILD_ADDED)this.changeMap.delete(b);else if(d===Hr.CHILD_REMOVED&&V===Hr.CHILD_CHANGED)this.changeMap.set(b,Hr.childRemovedChange(b,A.oldSnap));else if(d===Hr.CHILD_CHANGED&&V===Hr.CHILD_ADDED)this.changeMap.set(b,Hr.childAddedChange(b,l.snapshotNode));else{if(d!==Hr.CHILD_CHANGED||V!==Hr.CHILD_CHANGED)throw Y.assertionError("Illegal combination of changes: "+l+" occurred after "+A);this.changeMap.set(b,Hr.childChangedChange(b,l.snapshotNode,A.oldSnap))}}else this.changeMap.set(b,l)},g.prototype.getChanges=function(){return Array.from(this.changeMap.values())},g}(),yo=function(){function g(){}return g.prototype.getCompleteChild=function(l){return null},g.prototype.getChildAfterChild=function(l,d,b){return null},g}(),is=new yo,qo=function(){function g(l,d,b){void 0===b&&(b=null),this.writes_=l,this.viewCache_=d,this.optCompleteServerCache_=b}return g.prototype.getCompleteChild=function(l){var d=this.viewCache_.getEventCache();if(d.isCompleteForChild(l))return d.getNode().getImmediateChild(l);var b=null!=this.optCompleteServerCache_?new Li(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(l,b)},g.prototype.getChildAfterChild=function(l,d,b){var A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),V=this.writes_.calcIndexedSlice(A,d,1,b,l);return 0===V.length?null:V[0]},g}(),os=function g(l,d){this.viewCache=l,this.changes=d},Es=function(){function g(l){this.filter_=l}return g.prototype.assertIndexed=function(l){Y.assert(l.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Y.assert(l.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},g.prototype.applyOperation=function(l,d,b,A){var he,xe,V=new Qi;if(d.type===rr.OVERWRITE){var lt=d;lt.source.fromUser?he=this.applyUserOverwrite_(l,lt.path,lt.snap,b,A,V):(Y.assert(lt.source.fromServer,"Unknown source."),xe=lt.source.tagged||l.getServerCache().isFiltered()&&!lt.path.isEmpty(),he=this.applyServerOverwrite_(l,lt.path,lt.snap,b,A,xe,V))}else if(d.type===rr.MERGE){var Je=d;Je.source.fromUser?he=this.applyUserMerge_(l,Je.path,Je.children,b,A,V):(Y.assert(Je.source.fromServer,"Unknown source."),xe=Je.source.tagged||l.getServerCache().isFiltered(),he=this.applyServerMerge_(l,Je.path,Je.children,b,A,xe,V))}else if(d.type===rr.ACK_USER_WRITE){var L=d;he=L.revert?this.revertUserWrite_(l,L.path,b,A,V):this.ackUserWrite_(l,L.path,L.affectedTree,b,A,V)}else{if(d.type!==rr.LISTEN_COMPLETE)throw Y.assertionError("Unknown operation type: "+d.type);he=this.listenComplete_(l,d.path,b,V)}var S=V.getChanges();return g.maybeAddValueEvent_(l,he,S),new os(he,S)},g.maybeAddValueEvent_=function(l,d,b){var A=d.getEventCache();if(A.isFullyInitialized()){var V=A.getNode().isLeafNode()||A.getNode().isEmpty(),he=l.getCompleteEventSnap();(b.length>0||!l.getEventCache().isFullyInitialized()||V&&!A.getNode().equals(he)||!A.getNode().getPriority().equals(he.getPriority()))&&b.push(Hr.valueChange(d.getCompleteEventSnap()))}},g.prototype.generateEventCacheAfterServerEvent_=function(l,d,b,A,V){var he=l.getEventCache();if(null!=b.shadowingWrite(d))return l;var xe=void 0,lt=void 0;if(d.isEmpty())if(Y.assert(l.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),l.getServerCache().isFiltered()){var Je=l.getCompleteServerSnap(),S=b.calcCompleteEventChildren(Je instanceof fn?Je:fn.EMPTY_NODE);xe=this.filter_.updateFullNode(l.getEventCache().getNode(),S,V)}else{var E=b.calcCompleteEventCache(l.getCompleteServerSnap());xe=this.filter_.updateFullNode(l.getEventCache().getNode(),E,V)}else{var O=d.getFront();if(".priority"===O){Y.assert(1===d.getLength(),"Can't have a priority with additional path components");var re=he.getNode();lt=l.getServerCache().getNode();var be=b.calcEventCacheAfterServerOverwrite(d,re,lt);xe=null!=be?this.filter_.updatePriority(re,be):he.getNode()}else{var yt=d.popFront(),Ct=void 0;if(he.isCompleteForChild(O)){lt=l.getServerCache().getNode();var an=b.calcEventCacheAfterServerOverwrite(d,he.getNode(),lt);Ct=null!=an?he.getNode().getImmediateChild(O).updateChild(yt,an):he.getNode().getImmediateChild(O)}else Ct=b.calcCompleteChild(O,l.getServerCache());xe=null!=Ct?this.filter_.updateChild(he.getNode(),O,Ct,yt,A,V):he.getNode()}}return l.updateEventSnap(xe,he.isFullyInitialized()||d.isEmpty(),this.filter_.filtersNodes())},g.prototype.applyServerOverwrite_=function(l,d,b,A,V,he,xe){var Je,lt=l.getServerCache(),L=he?this.filter_:this.filter_.getIndexedFilter();if(d.isEmpty())Je=L.updateFullNode(lt.getNode(),b,null);else if(L.filtersNodes()&&!lt.isFiltered()){var S=lt.getNode().updateChild(d,b);Je=L.updateFullNode(lt.getNode(),S,null)}else{var E=d.getFront();if(!lt.isCompleteForPath(d)&&d.getLength()>1)return l;var O=d.popFront(),be=lt.getNode().getImmediateChild(E).updateChild(O,b);Je=".priority"===E?L.updatePriority(lt.getNode(),be):L.updateChild(lt.getNode(),E,be,O,is,null)}var yt=l.updateServerSnap(Je,lt.isFullyInitialized()||d.isEmpty(),L.filtersNodes()),Ct=new qo(A,yt,V);return this.generateEventCacheAfterServerEvent_(yt,d,A,Ct,xe)},g.prototype.applyUserOverwrite_=function(l,d,b,A,V,he){var lt,Je,xe=l.getEventCache(),L=new qo(A,l,V);if(d.isEmpty())Je=this.filter_.updateFullNode(l.getEventCache().getNode(),b,he),lt=l.updateEventSnap(Je,!0,this.filter_.filtersNodes());else{var S=d.getFront();if(".priority"===S)Je=this.filter_.updatePriority(l.getEventCache().getNode(),b),lt=l.updateEventSnap(Je,xe.isFullyInitialized(),xe.isFiltered());else{var E=d.popFront(),O=xe.getNode().getImmediateChild(S),re=void 0;if(E.isEmpty())re=b;else{var be=L.getCompleteChild(S);re=null!=be?".priority"===E.getBack()&&be.getChild(E.parent()).isEmpty()?be:be.updateChild(E,b):fn.EMPTY_NODE}if(O.equals(re))lt=l;else{var yt=this.filter_.updateChild(xe.getNode(),S,re,E,L,he);lt=l.updateEventSnap(yt,xe.isFullyInitialized(),this.filter_.filtersNodes())}}}return lt},g.cacheHasChild_=function(l,d){return l.getEventCache().isCompleteForChild(d)},g.prototype.applyUserMerge_=function(l,d,b,A,V,he){var xe=this,lt=l;return b.foreach(function(Je,L){var S=d.child(Je);g.cacheHasChild_(l,S.getFront())&&(lt=xe.applyUserOverwrite_(lt,S,L,A,V,he))}),b.foreach(function(Je,L){var S=d.child(Je);g.cacheHasChild_(l,S.getFront())||(lt=xe.applyUserOverwrite_(lt,S,L,A,V,he))}),lt},g.prototype.applyMerge_=function(l,d){return d.foreach(function(b,A){l=l.updateChild(b,A)}),l},g.prototype.applyServerMerge_=function(l,d,b,A,V,he,xe){var lt=this;if(l.getServerCache().getNode().isEmpty()&&!l.getServerCache().isFullyInitialized())return l;var L,Je=l;L=d.isEmpty()?b:or.Empty.setTree(d,b);var S=l.getServerCache().getNode();return L.children.inorderTraversal(function(E,O){if(S.hasChild(E)){var re=l.getServerCache().getNode().getImmediateChild(E),be=lt.applyMerge_(re,O);Je=lt.applyServerOverwrite_(Je,new bt(E),be,A,V,he,xe)}}),L.children.inorderTraversal(function(E,O){var re=!l.getServerCache().isCompleteForChild(E)&&null==O.value;if(!S.hasChild(E)&&!re){var be=l.getServerCache().getNode().getImmediateChild(E),yt=lt.applyMerge_(be,O);Je=lt.applyServerOverwrite_(Je,new bt(E),yt,A,V,he,xe)}}),Je},g.prototype.ackUserWrite_=function(l,d,b,A,V,he){if(null!=A.shadowingWrite(d))return l;var xe=l.getServerCache().isFiltered(),lt=l.getServerCache();if(null!=b.value){if(d.isEmpty()&&lt.isFullyInitialized()||lt.isCompleteForPath(d))return this.applyServerOverwrite_(l,d,lt.getNode().getChild(d),A,V,xe,he);if(d.isEmpty()){var Je=or.Empty;return lt.getNode().forEachChild(qt,function(S,E){Je=Je.set(new bt(S),E)}),this.applyServerMerge_(l,d,Je,A,V,xe,he)}return l}var L=or.Empty;return b.foreach(function(S,E){var O=d.child(S);lt.isCompleteForPath(O)&&(L=L.set(S,lt.getNode().getChild(O)))}),this.applyServerMerge_(l,d,L,A,V,xe,he)},g.prototype.listenComplete_=function(l,d,b,A){var V=l.getServerCache(),he=l.updateServerSnap(V.getNode(),V.isFullyInitialized()||d.isEmpty(),V.isFiltered());return this.generateEventCacheAfterServerEvent_(he,d,b,is,A)},g.prototype.revertUserWrite_=function(l,d,b,A,V){var he;if(null!=b.shadowingWrite(d))return l;var xe=new qo(b,l,A),lt=l.getEventCache().getNode(),Je=void 0;if(d.isEmpty()||".priority"===d.getFront()){var L=void 0;if(l.getServerCache().isFullyInitialized())L=b.calcCompleteEventCache(l.getCompleteServerSnap());else{var S=l.getServerCache().getNode();Y.assert(S instanceof fn,"serverChildren would be complete if leaf node"),L=b.calcCompleteEventChildren(S)}Je=this.filter_.updateFullNode(lt,L,V)}else{var E=d.getFront(),O=b.calcCompleteChild(E,l.getServerCache());null==O&&l.getServerCache().isCompleteForChild(E)&&(O=lt.getImmediateChild(E)),(Je=null!=O?this.filter_.updateChild(lt,E,O,d.popFront(),xe,V):l.getEventCache().getNode().hasChild(E)?this.filter_.updateChild(lt,E,fn.EMPTY_NODE,d.popFront(),xe,V):lt).isEmpty()&&l.getServerCache().isFullyInitialized()&&(he=b.calcCompleteEventCache(l.getCompleteServerSnap())).isLeafNode()&&(Je=this.filter_.updateFullNode(Je,he,V))}return he=l.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(bt.Empty),l.updateEventSnap(Je,he,this.filter_.filtersNodes())},g}(),di=function(){function g(l){this.query_=l,this.index_=this.query_.getQueryParams().getIndex()}return g.prototype.generateEventsForChanges=function(l,d,b){var A=this,V=[],he=[];return l.forEach(function(xe){xe.type===Hr.CHILD_CHANGED&&A.index_.indexedValueChanged(xe.oldSnap,xe.snapshotNode)&&he.push(Hr.childMovedChange(xe.childName,xe.snapshotNode))}),this.generateEventsForType_(V,Hr.CHILD_REMOVED,l,b,d),this.generateEventsForType_(V,Hr.CHILD_ADDED,l,b,d),this.generateEventsForType_(V,Hr.CHILD_MOVED,he,b,d),this.generateEventsForType_(V,Hr.CHILD_CHANGED,l,b,d),this.generateEventsForType_(V,Hr.VALUE,l,b,d),V},g.prototype.generateEventsForType_=function(l,d,b,A,V){var he=this,xe=b.filter(function(lt){return lt.type===d});xe.sort(this.compareChanges_.bind(this)),xe.forEach(function(lt){var Je=he.materializeSingleChange_(lt,V);A.forEach(function(L){L.respondsTo(lt.type)&&l.push(L.createEvent(Je,he.query_))})})},g.prototype.materializeSingleChange_=function(l,d){return"value"===l.type||"child_removed"===l.type||(l.prevName=d.getPredecessorChildName(l.childName,l.snapshotNode,this.index_)),l},g.prototype.compareChanges_=function(l,d){if(null==l.childName||null==d.childName)throw Y.assertionError("Should only compare child_ events.");var b=new Oe(l.childName,l.snapshotNode),A=new Oe(d.childName,d.snapshotNode);return this.index_.compare(b,A)},g}(),Qo=function(){function g(l,d){this.query_=l,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),A=new Co(b.getIndex()),V=b.getNodeFilter();this.processor_=new Es(V);var he=d.getServerCache(),xe=d.getEventCache(),lt=A.updateFullNode(fn.EMPTY_NODE,he.getNode(),null),Je=V.updateFullNode(fn.EMPTY_NODE,xe.getNode(),null),L=new Li(lt,he.isFullyInitialized(),A.filtersNodes()),S=new Li(Je,xe.isFullyInitialized(),V.filtersNodes());this.viewCache_=new Pi(S,L),this.eventGenerator_=new di(this.query_)}return g.prototype.getQuery=function(){return this.query_},g.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},g.prototype.getCompleteServerCache=function(l){var d=this.viewCache_.getCompleteServerSnap();return d&&(this.query_.getQueryParams().loadsAllData()||!l.isEmpty()&&!d.getImmediateChild(l.getFront()).isEmpty())?d.getChild(l):null},g.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},g.prototype.addEventRegistration=function(l){this.eventRegistrations_.push(l)},g.prototype.removeEventRegistration=function(l,d){var b=[];if(d){Y.assert(null==l,"A cancel should cancel all event registrations.");var A=this.query_.path;this.eventRegistrations_.forEach(function(lt){var Je=lt.createCancelEvent(d,A);Je&&b.push(Je)})}if(l){for(var V=[],he=0;he<this.eventRegistrations_.length;++he){var xe=this.eventRegistrations_[he];if(xe.matches(l)){if(l.hasAnyCallback()){V=V.concat(this.eventRegistrations_.slice(he+1));break}}else V.push(xe)}this.eventRegistrations_=V}else this.eventRegistrations_=[];return b},g.prototype.applyOperation=function(l,d,b){l.type===rr.MERGE&&null!==l.source.queryId&&(Y.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Y.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var A=this.viewCache_,V=this.processor_.applyOperation(A,l,d,b);return this.processor_.assertIndexed(V.viewCache),Y.assert(V.viewCache.getServerCache().isFullyInitialized()||!A.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=V.viewCache,this.generateEventsForChanges_(V.changes,V.viewCache.getEventCache().getNode(),null)},g.prototype.getInitialEvents=function(l){var d=this.viewCache_.getEventCache(),b=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(pt,function(V,he){b.push(Hr.childAddedChange(V,he))}),d.isFullyInitialized()&&b.push(Hr.valueChange(d.getNode())),this.generateEventsForChanges_(b,d.getNode(),l)},g.prototype.generateEventsForChanges_=function(l,d,b){return this.eventGenerator_.generateEventsForChanges(l,d,b?[b]:this.eventRegistrations_)},g}(),cs=function(){function g(){this.views=new Map}return Object.defineProperty(g,"__referenceConstructor",{get:function(){return Y.assert(So,"Reference.ts has not been loaded"),So},set:function(l){Y.assert(!So,"__referenceConstructor has already been defined"),So=l},enumerable:!1,configurable:!0}),g.prototype.isEmpty=function(){return 0===this.views.size},g.prototype.applyOperation=function(l,d,b){var A,V,he=l.source.queryId;if(null!==he){var xe=this.views.get(he);return Y.assert(null!=xe,"SyncTree gave us an op for an invalid query."),xe.applyOperation(l,d,b)}var lt=[];try{for(var Je=T.__values(this.views.values()),L=Je.next();!L.done;L=Je.next())lt=lt.concat((xe=L.value).applyOperation(l,d,b))}catch(S){A={error:S}}finally{try{L&&!L.done&&(V=Je.return)&&V.call(Je)}finally{if(A)throw A.error}}return lt},g.prototype.addEventRegistration=function(l,d,b,A,V){var he=l.queryIdentifier(),xe=this.views.get(he);if(!xe){var lt=b.calcCompleteEventCache(V?A:null),Je=!1;lt?Je=!0:A instanceof fn?(lt=b.calcCompleteEventChildren(A),Je=!1):(lt=fn.EMPTY_NODE,Je=!1);var L=new Pi(new Li(lt,Je,!1),new Li(A,V,!1));xe=new Qo(l,L),this.views.set(he,xe)}return xe.addEventRegistration(d),xe.getInitialEvents(d)},g.prototype.removeEventRegistration=function(l,d,b){var A,V,he=l.queryIdentifier(),xe=[],lt=[],Je=this.hasCompleteView();if("default"===he)try{for(var L=T.__values(this.views.entries()),S=L.next();!S.done;S=L.next()){var re,E=T.__read(S.value,2),O=E[0];lt=lt.concat((re=E[1]).removeEventRegistration(d,b)),re.isEmpty()&&(this.views.delete(O),re.getQuery().getQueryParams().loadsAllData()||xe.push(re.getQuery()))}}catch(be){A={error:be}}finally{try{S&&!S.done&&(V=L.return)&&V.call(L)}finally{if(A)throw A.error}}else(re=this.views.get(he))&&(lt=lt.concat(re.removeEventRegistration(d,b)),re.isEmpty()&&(this.views.delete(he),re.getQuery().getQueryParams().loadsAllData()||xe.push(re.getQuery())));return Je&&!this.hasCompleteView()&&xe.push(new g.__referenceConstructor(l.repo,l.path)),{removed:xe,events:lt}},g.prototype.getQueryViews=function(){var l,d,b=[];try{for(var A=T.__values(this.views.values()),V=A.next();!V.done;V=A.next()){var he=V.value;he.getQuery().getQueryParams().loadsAllData()||b.push(he)}}catch(xe){l={error:xe}}finally{try{V&&!V.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}return b},g.prototype.getCompleteServerCache=function(l){var d,b,A=null;try{for(var V=T.__values(this.views.values()),he=V.next();!he.done;he=V.next())A=A||he.value.getCompleteServerCache(l)}catch(lt){d={error:lt}}finally{try{he&&!he.done&&(b=V.return)&&b.call(V)}finally{if(d)throw d.error}}return A},g.prototype.viewForQuery=function(l){if(l.getQueryParams().loadsAllData())return this.getCompleteView();var b=l.queryIdentifier();return this.views.get(b)},g.prototype.viewExistsForQuery=function(l){return null!=this.viewForQuery(l)},g.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},g.prototype.getCompleteView=function(){var l,d;try{for(var b=T.__values(this.views.values()),A=b.next();!A.done;A=b.next()){var V=A.value;if(V.getQuery().getQueryParams().loadsAllData())return V}}catch(he){l={error:he}}finally{try{A&&!A.done&&(d=b.return)&&d.call(b)}finally{if(l)throw l.error}}return null},g}(),lo=function(){function g(l){this.writeTree_=l}return g.prototype.addWrite=function(l,d){if(l.isEmpty())return new g(new or(d));var b=this.writeTree_.findRootMostValueAndPath(l);if(null!=b){var A=b.path,V=b.value,he=bt.relativePath(A,l);return V=V.updateChild(he,d),new g(this.writeTree_.set(A,V))}var xe=new or(d);return new g(this.writeTree_.setTree(l,xe))},g.prototype.addWrites=function(l,d){var b=this;return ut(d,function(A,V){b=b.addWrite(l.child(A),V)}),b},g.prototype.removeWrite=function(l){return l.isEmpty()?g.Empty:new g(this.writeTree_.setTree(l,or.Empty))},g.prototype.hasCompleteWrite=function(l){return null!=this.getCompleteNode(l)},g.prototype.getCompleteNode=function(l){var d=this.writeTree_.findRootMostValueAndPath(l);return null!=d?this.writeTree_.get(d.path).getChild(bt.relativePath(d.path,l)):null},g.prototype.getCompleteChildren=function(){var l=[],d=this.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(pt,function(b,A){l.push(new Oe(b,A))}):this.writeTree_.children.inorderTraversal(function(b,A){null!=A.value&&l.push(new Oe(b,A.value))}),l},g.prototype.childCompoundWrite=function(l){if(l.isEmpty())return this;var d=this.getCompleteNode(l);return new g(null!=d?new or(d):this.writeTree_.subtree(l))},g.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},g.prototype.apply=function(l){return se(bt.Empty,this.writeTree_,l)},g.Empty=new g(new or(null)),g}();function se(g,l,d){if(null!=l.value)return d.updateChild(g,l.value);var b=null;return l.children.inorderTraversal(function(A,V){".priority"===A?(Y.assert(null!==V.value,"Priority writes must always be leaf nodes"),b=V.value):d=se(g.child(A),V,d)}),!d.getChild(g).isEmpty()&&null!==b&&(d=d.updateChild(g.child(".priority"),b)),d}var ne=function(){function g(){this.visibleWrites_=lo.Empty,this.allWrites_=[],this.lastWriteId_=-1}return g.prototype.childWrites=function(l){return new Be(l,this)},g.prototype.addOverwrite=function(l,d,b,A){Y.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),this.allWrites_.push({path:l,snap:d,writeId:b,visible:A}),A&&(this.visibleWrites_=this.visibleWrites_.addWrite(l,d)),this.lastWriteId_=b},g.prototype.addMerge=function(l,d,b){Y.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:l,children:d,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(l,d),this.lastWriteId_=b},g.prototype.getWrite=function(l){for(var d=0;d<this.allWrites_.length;d++){var b=this.allWrites_[d];if(b.writeId===l)return b}return null},g.prototype.removeWrite=function(l){var d=this,b=this.allWrites_.findIndex(function(L){return L.writeId===l});Y.assert(b>=0,"removeWrite called with nonexistent writeId.");var A=this.allWrites_[b];this.allWrites_.splice(b,1);for(var V=A.visible,he=!1,xe=this.allWrites_.length-1;V&&xe>=0;){var lt=this.allWrites_[xe];lt.visible&&(xe>=b&&this.recordContainsPath_(lt,A.path)?V=!1:A.path.contains(lt.path)&&(he=!0)),xe--}return!!V&&(he?(this.resetTree_(),!0):(A.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(A.path):ut(A.children,function(L){d.visibleWrites_=d.visibleWrites_.removeWrite(A.path.child(L))}),!0))},g.prototype.getCompleteWriteData=function(l){return this.visibleWrites_.getCompleteNode(l)},g.prototype.calcCompleteEventCache=function(l,d,b,A){if(b||A){var lt=this.visibleWrites_.childCompoundWrite(l);return!A&&lt.isEmpty()?d:A||null!=d||lt.hasCompleteWrite(bt.Empty)?g.layerTree_(this.allWrites_,function(E){return(E.visible||A)&&(!b||!~b.indexOf(E.writeId))&&(E.path.contains(l)||l.contains(E.path))},l).apply(d||fn.EMPTY_NODE):null}var V=this.visibleWrites_.getCompleteNode(l);if(null!=V)return V;var he=this.visibleWrites_.childCompoundWrite(l);return he.isEmpty()?d:null!=d||he.hasCompleteWrite(bt.Empty)?he.apply(d||fn.EMPTY_NODE):null},g.prototype.calcCompleteEventChildren=function(l,d){var b=fn.EMPTY_NODE,A=this.visibleWrites_.getCompleteNode(l);if(A)return A.isLeafNode()||A.forEachChild(pt,function(xe,lt){b=b.updateImmediateChild(xe,lt)}),b;if(d){var V=this.visibleWrites_.childCompoundWrite(l);return d.forEachChild(pt,function(xe,lt){var Je=V.childCompoundWrite(new bt(xe)).apply(lt);b=b.updateImmediateChild(xe,Je)}),V.getCompleteChildren().forEach(function(xe){b=b.updateImmediateChild(xe.name,xe.node)}),b}return this.visibleWrites_.childCompoundWrite(l).getCompleteChildren().forEach(function(xe){b=b.updateImmediateChild(xe.name,xe.node)}),b},g.prototype.calcEventCacheAfterServerOverwrite=function(l,d,b,A){Y.assert(b||A,"Either existingEventSnap or existingServerSnap must exist");var V=l.child(d);if(this.visibleWrites_.hasCompleteWrite(V))return null;var he=this.visibleWrites_.childCompoundWrite(V);return he.isEmpty()?A.getChild(d):he.apply(A.getChild(d))},g.prototype.calcCompleteChild=function(l,d,b){var A=l.child(d),V=this.visibleWrites_.getCompleteNode(A);return null!=V?V:b.isCompleteForChild(d)?this.visibleWrites_.childCompoundWrite(A).apply(b.getNode().getImmediateChild(d)):null},g.prototype.shadowingWrite=function(l){return this.visibleWrites_.getCompleteNode(l)},g.prototype.calcIndexedSlice=function(l,d,b,A,V,he){var xe,lt=this.visibleWrites_.childCompoundWrite(l),Je=lt.getCompleteNode(bt.Empty);if(null!=Je)xe=Je;else{if(null==d)return[];xe=lt.apply(d)}if((xe=xe.withIndex(he)).isEmpty()||xe.isLeafNode())return[];for(var L=[],S=he.getCompare(),E=V?xe.getReverseIteratorFrom(b,he):xe.getIteratorFrom(b,he),O=E.getNext();O&&L.length<A;)0!==S(O,b)&&L.push(O),O=E.getNext();return L},g.prototype.recordContainsPath_=function(l,d){if(l.snap)return l.path.contains(d);for(var b in l.children)if(l.children.hasOwnProperty(b)&&l.path.child(b).contains(d))return!0;return!1},g.prototype.resetTree_=function(){this.visibleWrites_=g.layerTree_(this.allWrites_,g.DefaultFilter_,bt.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},g.DefaultFilter_=function(l){return l.visible},g.layerTree_=function(l,d,b){for(var A=lo.Empty,V=0;V<l.length;++V){var he=l[V];if(d(he)){var xe=he.path,lt=void 0;if(he.snap)b.contains(xe)?(lt=bt.relativePath(b,xe),A=A.addWrite(lt,he.snap)):xe.contains(b)&&(lt=bt.relativePath(xe,b),A=A.addWrite(bt.Empty,he.snap.getChild(lt)));else{if(!he.children)throw Y.assertionError("WriteRecord should have .snap or .children");if(b.contains(xe))lt=bt.relativePath(b,xe),A=A.addWrites(lt,he.children);else if(xe.contains(b))if((lt=bt.relativePath(xe,b)).isEmpty())A=A.addWrites(bt.Empty,he.children);else{var Je=Y.safeGet(he.children,lt.getFront());if(Je){var L=Je.getChild(lt.popFront());A=A.addWrite(bt.Empty,L)}}}}}return A},g}(),Be=function(){function g(l,d){this.treePath_=l,this.writeTree_=d}return g.prototype.calcCompleteEventCache=function(l,d,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,l,d,b)},g.prototype.calcCompleteEventChildren=function(l){return this.writeTree_.calcCompleteEventChildren(this.treePath_,l)},g.prototype.calcEventCacheAfterServerOverwrite=function(l,d,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,l,d,b)},g.prototype.shadowingWrite=function(l){return this.writeTree_.shadowingWrite(this.treePath_.child(l))},g.prototype.calcIndexedSlice=function(l,d,b,A,V){return this.writeTree_.calcIndexedSlice(this.treePath_,l,d,b,A,V)},g.prototype.calcCompleteChild=function(l,d){return this.writeTree_.calcCompleteChild(this.treePath_,l,d)},g.prototype.child=function(l){return new g(this.treePath_.child(l),this.writeTree_)},g}(),wt=function(){function g(l){this.listenProvider_=l,this.syncPointTree_=or.Empty,this.pendingWriteTree_=new ne,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return g.prototype.applyUserOverwrite=function(l,d,b,A){return this.pendingWriteTree_.addOverwrite(l,d,b,A),A?this.applyOperationToSyncPoints_(new io(Lr.User,l,d)):[]},g.prototype.applyUserMerge=function(l,d,b){this.pendingWriteTree_.addMerge(l,d,b);var A=or.fromObject(d);return this.applyOperationToSyncPoints_(new Ei(Lr.User,l,A))},g.prototype.ackUserWrite=function(l,d){void 0===d&&(d=!1);var b=this.pendingWriteTree_.getWrite(l);if(this.pendingWriteTree_.removeWrite(l)){var V=or.Empty;return null!=b.snap?V=V.set(bt.Empty,!0):ut(b.children,function(he,xe){V=V.set(new bt(he),xe)}),this.applyOperationToSyncPoints_(new gr(b.path,V,d))}return[]},g.prototype.applyServerOverwrite=function(l,d){return this.applyOperationToSyncPoints_(new io(Lr.Server,l,d))},g.prototype.applyServerMerge=function(l,d){var b=or.fromObject(d);return this.applyOperationToSyncPoints_(new Ei(Lr.Server,l,b))},g.prototype.applyListenComplete=function(l){return this.applyOperationToSyncPoints_(new Ii(Lr.Server,l))},g.prototype.applyTaggedQueryOverwrite=function(l,d,b){var A=this.queryKeyForTag_(b);if(null!=A){var V=g.parseQueryKey_(A),he=V.path,xe=V.queryId,lt=bt.relativePath(he,l),Je=new io(Lr.forServerTaggedQuery(xe),lt,d);return this.applyTaggedOperation_(he,Je)}return[]},g.prototype.applyTaggedQueryMerge=function(l,d,b){var A=this.queryKeyForTag_(b);if(A){var V=g.parseQueryKey_(A),he=V.path,xe=V.queryId,lt=bt.relativePath(he,l),Je=or.fromObject(d),L=new Ei(Lr.forServerTaggedQuery(xe),lt,Je);return this.applyTaggedOperation_(he,L)}return[]},g.prototype.applyTaggedListenComplete=function(l,d){var b=this.queryKeyForTag_(d);if(b){var A=g.parseQueryKey_(b),V=A.path,he=A.queryId,xe=bt.relativePath(V,l),lt=new Ii(Lr.forServerTaggedQuery(he),xe);return this.applyTaggedOperation_(V,lt)}return[]},g.prototype.addEventRegistration=function(l,d){var b=l.path,A=null,V=!1;this.syncPointTree_.foreachOnPath(b,function(be,yt){var Ct=bt.relativePath(be,b);A=A||yt.getCompleteServerCache(Ct),V=V||yt.hasCompleteView()});var xe,he=this.syncPointTree_.get(b);he?(V=V||he.hasCompleteView(),A=A||he.getCompleteServerCache(bt.Empty)):(he=new cs,this.syncPointTree_=this.syncPointTree_.set(b,he)),null!=A?xe=!0:(xe=!1,A=fn.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(be,yt){var Ct=yt.getCompleteServerCache(bt.Empty);Ct&&(A=A.updateImmediateChild(be,Ct))}));var Je=he.viewExistsForQuery(l);if(!Je&&!l.getQueryParams().loadsAllData()){var L=g.makeQueryKey_(l);Y.assert(!this.queryToTagMap.has(L),"View does not exist, but we have a tag");var S=g.getNextQueryTag_();this.queryToTagMap.set(L,S),this.tagToQueryMap.set(S,L)}var E=this.pendingWriteTree_.childWrites(b),O=he.addEventRegistration(l,d,E,A,xe);if(!Je&&!V){var re=he.viewForQuery(l);O=O.concat(this.setupListener_(l,re))}return O},g.prototype.removeEventRegistration=function(l,d,b){var A=this,V=l.path,he=this.syncPointTree_.get(V),xe=[];if(he&&("default"===l.queryIdentifier()||he.viewExistsForQuery(l))){var lt=he.removeEventRegistration(l,d,b);he.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(V));var Je=lt.removed;xe=lt.events;var L=-1!==Je.findIndex(function(Sn){return Sn.getQueryParams().loadsAllData()}),S=this.syncPointTree_.findOnPath(V,function(Sn,bn){return bn.hasCompleteView()});if(L&&!S){var E=this.syncPointTree_.subtree(V);if(!E.isEmpty())for(var O=this.collectDistinctViewsForSubTree_(E),re=0;re<O.length;++re){var be=O[re],yt=be.getQuery(),Ct=this.createListenerForView_(be);this.listenProvider_.startListening(g.queryForListening_(yt),this.tagForQuery_(yt),Ct.hashFn,Ct.onComplete)}}!S&&Je.length>0&&!b&&(L?this.listenProvider_.stopListening(g.queryForListening_(l),null):Je.forEach(function(Sn){var bn=A.queryToTagMap.get(g.makeQueryKey_(Sn));A.listenProvider_.stopListening(g.queryForListening_(Sn),bn)})),this.removeTags_(Je)}return xe},g.prototype.calcCompleteEventCache=function(l,d){var A=this.pendingWriteTree_,V=this.syncPointTree_.findOnPath(l,function(he,xe){var lt=bt.relativePath(he,l),Je=xe.getCompleteServerCache(lt);if(Je)return Je});return A.calcCompleteEventCache(l,V,d,!0)},g.prototype.collectDistinctViewsForSubTree_=function(l){return l.fold(function(d,b,A){if(b&&b.hasCompleteView())return[b.getCompleteView()];var he=[];return b&&(he=b.getQueryViews()),ut(A,function(xe,lt){he=he.concat(lt)}),he})},g.prototype.removeTags_=function(l){for(var d=0;d<l.length;++d){var b=l[d];if(!b.getQueryParams().loadsAllData()){var A=g.makeQueryKey_(b),V=this.queryToTagMap.get(A);this.queryToTagMap.delete(A),this.tagToQueryMap.delete(V)}}},g.queryForListening_=function(l){return l.getQueryParams().loadsAllData()&&!l.getQueryParams().isDefault()?l.getRef():l},g.prototype.setupListener_=function(l,d){var b=l.path,A=this.tagForQuery_(l),V=this.createListenerForView_(d),he=this.listenProvider_.startListening(g.queryForListening_(l),A,V.hashFn,V.onComplete),xe=this.syncPointTree_.subtree(b);if(A)Y.assert(!xe.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var lt=xe.fold(function(S,E,O){if(!S.isEmpty()&&E&&E.hasCompleteView())return[E.getCompleteView().getQuery()];var re=[];return E&&(re=re.concat(E.getQueryViews().map(function(be){return be.getQuery()}))),ut(O,function(be,yt){re=re.concat(yt)}),re}),Je=0;Je<lt.length;++Je){var L=lt[Je];this.listenProvider_.stopListening(g.queryForListening_(L),this.tagForQuery_(L))}return he},g.prototype.createListenerForView_=function(l){var d=this,b=l.getQuery(),A=this.tagForQuery_(b);return{hashFn:function(){return(l.getServerCache()||fn.EMPTY_NODE).hash()},onComplete:function(V){if("ok"===V)return A?d.applyTaggedListenComplete(b.path,A):d.applyListenComplete(b.path);var he=function(g,l){var d="Unknown Error";"too_big"===g?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?d="Client doesn't have permission to access the desired data.":"unavailable"===g&&(d="The service is unavailable");var b=new Error(g+" at "+l.path.toString()+": "+d);return b.code=g.toUpperCase(),b}(V,b);return d.removeEventRegistration(b,null,he)}}},g.makeQueryKey_=function(l){return l.path.toString()+"$"+l.queryIdentifier()},g.parseQueryKey_=function(l){var d=l.indexOf("$");return Y.assert(-1!==d&&d<l.length-1,"Bad queryKey."),{queryId:l.substr(d+1),path:new bt(l.substr(0,d))}},g.prototype.queryKeyForTag_=function(l){return this.tagToQueryMap.get(l)},g.prototype.tagForQuery_=function(l){var d=g.makeQueryKey_(l);return this.queryToTagMap.get(d)},g.getNextQueryTag_=function(){return g.nextQueryTag_++},g.prototype.applyTaggedOperation_=function(l,d){var b=this.syncPointTree_.get(l);Y.assert(b,"Missing sync point for query tag that we're tracking");var A=this.pendingWriteTree_.childWrites(l);return b.applyOperation(d,A,null)},g.prototype.applyOperationToSyncPoints_=function(l){return this.applyOperationHelper_(l,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(bt.Empty))},g.prototype.applyOperationHelper_=function(l,d,b,A){if(l.path.isEmpty())return this.applyOperationDescendantsHelper_(l,d,b,A);var V=d.get(bt.Empty);null==b&&null!=V&&(b=V.getCompleteServerCache(bt.Empty));var he=[],xe=l.path.getFront(),lt=l.operationForChild(xe),Je=d.children.get(xe);if(Je&&lt){var L=b?b.getImmediateChild(xe):null,S=A.child(xe);he=he.concat(this.applyOperationHelper_(lt,Je,L,S))}return V&&(he=he.concat(V.applyOperation(l,A,b))),he},g.prototype.applyOperationDescendantsHelper_=function(l,d,b,A){var V=this,he=d.get(bt.Empty);null==b&&null!=he&&(b=he.getCompleteServerCache(bt.Empty));var xe=[];return d.children.inorderTraversal(function(lt,Je){var L=b?b.getImmediateChild(lt):null,S=A.child(lt),E=l.operationForChild(lt);E&&(xe=xe.concat(V.applyOperationDescendantsHelper_(E,Je,L,S)))}),he&&(xe=xe.concat(he.applyOperation(l,A,b))),xe},g.nextQueryTag_=1,g}(),jt=function(){function g(){this.rootNode_=fn.EMPTY_NODE}return g.prototype.getNode=function(l){return this.rootNode_.getChild(l)},g.prototype.updateSnapshot=function(l,d){this.rootNode_=this.rootNode_.updateChild(l,d)},g}(),Jt=function(){function g(){this.counters_={}}return g.prototype.incrementCounter=function(l,d){void 0===d&&(d=1),Y.contains(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=d},g.prototype.get=function(){return Y.deepCopy(this.counters_)},g}(),En=function(){function g(){}return g.getCollection=function(l){var d=l.toString();return this.collections_[d]||(this.collections_[d]=new Jt),this.collections_[d]},g.getOrCreateReporter=function(l,d){var b=l.toString();return this.reporters_[b]||(this.reporters_[b]=d()),this.reporters_[b]},g.collections_={},g.reporters_={},g}(),Un=function(){function g(l){this.collection_=l,this.last_=null}return g.prototype.get=function(){var l=this.collection_.get(),d=T.__assign({},l);return this.last_&&ut(this.last_,function(b,A){d[b]=d[b]-A}),this.last_=l,d},g}(),Pn=1e4,qn=3e4,zr=function(){function g(l,d){this.server_=d,this.statsToReport_={},this.statsListener_=new Un(l);var b=Pn+(qn-Pn)*Math.random();mn(this.reportStats_.bind(this),Math.floor(b))}return g.prototype.includeStat=function(l){this.statsToReport_[l]=!0},g.prototype.reportStats_=function(){var l=this,d=this.statsListener_.get(),b={},A=!1;ut(d,function(V,he){he>0&&Y.contains(l.statsToReport_,V)&&(b[V]=he,A=!0)}),A&&this.server_.reportStats(b),mn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},g}(),Pr=function(){function g(){this.eventLists_=[],this.recursionDepth_=0}return g.prototype.queueEvents=function(l){for(var d=null,b=0;b<l.length;b++){var A=l[b],V=A.getPath();null!==d&&!V.equals(d.getPath())&&(this.eventLists_.push(d),d=null),null===d&&(d=new hi(V)),d.add(A)}d&&this.eventLists_.push(d)},g.prototype.raiseEventsAtPath=function(l,d){this.queueEvents(d),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(l)})},g.prototype.raiseEventsForChangedPath=function(l,d){this.queueEvents(d),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(l)||l.contains(b)})},g.prototype.raiseQueuedEventsMatchingPredicate_=function(l){this.recursionDepth_++;for(var d=!0,b=0;b<this.eventLists_.length;b++){var A=this.eventLists_[b];A&&(l(A.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):d=!1)}d&&(this.eventLists_=[]),this.recursionDepth_--},g}(),hi=function(){function g(l){this.path_=l,this.events_=[]}return g.prototype.add=function(l){this.events_.push(l)},g.prototype.raise=function(){for(var l=0;l<this.events_.length;l++){var d=this.events_[l];if(null!==d){this.events_[l]=null;var b=d.getEventRunner();we&&en("event: "+d.toString()),ht(b)}}},g.prototype.getPath=function(){return this.path_},g}(),Kr=function(){function g(l){this.allowedEvents_=l,this.listeners_={},Y.assert(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}return g.prototype.trigger=function(l){for(var d=[],b=1;b<arguments.length;b++)d[b-1]=arguments[b];if(Array.isArray(this.listeners_[l]))for(var A=T.__spread(this.listeners_[l]),V=0;V<A.length;V++)A[V].callback.apply(A[V].context,d)},g.prototype.on=function(l,d,b){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:d,context:b});var A=this.getInitialEvent(l);A&&d.apply(b,A)},g.prototype.off=function(l,d,b){this.validateEventType_(l);for(var A=this.listeners_[l]||[],V=0;V<A.length;V++)if(A[V].callback===d&&(!b||b===A[V].context))return void A.splice(V,1)},g.prototype.validateEventType_=function(l){Y.assert(this.allowedEvents_.find(function(d){return d===l}),"Unknown event: "+l)},g}(),Ai=function(g){function l(){var b,A,d=g.call(this,["visible"])||this;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(A="visibilitychange",b="hidden"):typeof document.mozHidden<"u"?(A="mozvisibilitychange",b="mozHidden"):typeof document.msHidden<"u"?(A="msvisibilitychange",b="msHidden"):typeof document.webkitHidden<"u"&&(A="webkitvisibilitychange",b="webkitHidden")),d.visible_=!0,A&&document.addEventListener(A,function(){var V=!document[b];V!==d.visible_&&(d.visible_=V,d.trigger("visible",V))},!1),d}return T.__extends(l,g),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(d){return Y.assert("visible"===d,"Unknown event type: "+d),[this.visible_]},l}(Kr),fi=function(g){function l(){var d=g.call(this,["online"])||this;return d.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y.isMobileCordova()&&(window.addEventListener("online",function(){d.online_||(d.online_=!0,d.trigger("online",!0))},!1),window.addEventListener("offline",function(){d.online_&&(d.online_=!1,d.trigger("online",!1))},!1)),d}return T.__extends(l,g),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(d){return Y.assert("online"===d,"Unknown event type: "+d),[this.online_]},l.prototype.currentlyOnline=function(){return this.online_},l}(Kr),Si=function(){function g(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g.prototype.closeAfter=function(l,d){this.closeAfterResponse=l,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},g.prototype.handleResponse=function(l,d){var b=this;this.pendingResponses[l]=d;for(var A=function(){var xe=V.pendingResponses[V.currentResponseNum];delete V.pendingResponses[V.currentResponseNum];for(var lt=function(L){xe[L]&&ht(function(){b.onMessage_(xe[L])})},Je=0;Je<xe.length;++Je)lt(Je);if(V.currentResponseNum===V.closeAfterResponse)return V.onClose&&(V.onClose(),V.onClose=null),"break";V.currentResponseNum++},V=this;this.pendingResponses[this.currentResponseNum]&&"break"!==A(););},g}(),yi="start",Ar="close",to="pLPCommand",uo="pRTLPCB",Io=function(){function g(l,d,b,A,V){this.connId=l,this.repoInfo=d,this.applicationId=b,this.transportSessionId=A,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ot(l),this.stats_=En.getCollection(d),this.urlFn=function(he){return d.connectionURL(br,he)}}return g.prototype.open=function(l,d){var b=this;this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new Si(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if(Y.isNodeSdk()||"complete"===document.readyState)g();else{var l=!1,d=function(){document.body?l||(l=!0,g()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Nr(function(){for(var he=[],xe=0;xe<arguments.length;xe++)he[xe]=arguments[xe];var lt=T.__read(he,5),Je=lt[0],L=lt[1],S=lt[2];if(b.incrementIncomingBytes_(he),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,Je===yi)b.id=L,b.password=S;else{if(Je!==Ar)throw new Error("Unrecognized command received: "+Je);L?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(L,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var he=[],xe=0;xe<arguments.length;xe++)he[xe]=arguments[xe];var lt=T.__read(he,2),Je=lt[0],L=lt[1];b.incrementIncomingBytes_(he),b.myPacketOrderer.handleResponse(Je,L)},function(){b.onClosed_()},b.urlFn);var A={};A[yi]="t",A.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(A.cb=b.scriptTagHolder.uniqueCallbackIdentifier),A.v="5",b.transportSessionId&&(A.s=b.transportSessionId),b.lastSessionId&&(A.ls=b.lastSessionId),b.applicationId&&(A.p=b.applicationId),typeof location<"u"&&location.href&&-1!==location.href.indexOf(xn)&&(A.r="f");var V=b.urlFn(A);b.log_("Connecting via long-poll to "+V),b.scriptTagHolder.addTag(V,function(){})}})},g.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},g.forceAllow=function(){g.forceAllow_=!0},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){return!(Y.isNodeSdk()||!g.forceAllow_&&(g.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},g.prototype.markConnectionHealthy=function(){},g.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},g.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},g.prototype.send=function(l){var d=Y.stringify(l);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);for(var b=Y.base64Encode(d),A=He(b,1840),V=0;V<A.length;V++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[V]),this.curSegmentNum++},g.prototype.addDisconnectPingFrame=function(l,d){if(!Y.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=l,b.pw=d,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},g.prototype.incrementIncomingBytes_=function(l){var d=Y.stringify(l).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)},g}(),Nr=function(){function g(l,d,b,A){if(this.onDisconnect=b,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Y.isNodeSdk())this.commandCB=l,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=_t(),window[to+this.uniqueCallbackIdentifier]=l,window[uo+this.uniqueCallbackIdentifier]=d,this.myIFrame=g.createIFrame_();var V="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(V='<script>document.domain="'+document.domain+'";<\/script>');var xe="<html><body>"+V+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(xe),this.myIFrame.doc.close()}catch(lt){en("frame writing exception"),lt.stack&&en(lt.stack),en(lt)}}}return g.createIFrame_=function(){var l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||en("No IE domain setting required")}catch{var b=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l},g.prototype.close=function(){var l=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==l.myIFrame&&(document.body.removeChild(l.myIFrame),l.myIFrame=null)},Math.floor(0)));var d=this.onDisconnect;d&&(this.onDisconnect=null,d())},g.prototype.startLongPoll=function(l,d){for(this.myID=l,this.myPW=d,this.alive=!0;this.newRequest_(););},g.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;for(var d=this.urlFn(l),b="",A=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var he=this.pendingSegs.shift();b=b+"&seg"+A+"="+he.seg+"&ts"+A+"="+he.ts+"&d"+A+"="+he.d,A++}return this.addLongPollTag_(d+=b,this.currentSerial),!0}return!1},g.prototype.enqueueSegment=function(l,d,b){this.pendingSegs.push({seg:l,ts:d,d:b}),this.alive&&this.newRequest_()},g.prototype.addLongPollTag_=function(l,d){var b=this;this.outstandingRequests.add(d);var A=function(){b.outstandingRequests.delete(d),b.newRequest_()},V=setTimeout(A,Math.floor(25e3));this.addTag(l,function(){clearTimeout(V),A()})},g.prototype.addTag=function(l,d){var b=this;Y.isNodeSdk()?this.doNodeLongPoll(l,d):setTimeout(function(){try{if(!b.sendNewPolls)return;var A=b.myIFrame.doc.createElement("script");A.type="text/javascript",A.async=!0,A.src=l,A.onload=A.onreadystatechange=function(){var V=A.readyState;(!V||"loaded"===V||"complete"===V)&&(A.onload=A.onreadystatechange=null,A.parentNode&&A.parentNode.removeChild(A),d())},A.onerror=function(){en("Long-poll script failed to load: "+l),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(A)}catch{}},Math.floor(1))},g}(),co="",go=null;typeof MozWebSocket<"u"?go=MozWebSocket:typeof WebSocket<"u"&&(go=WebSocket);var Zi=function(){function g(l,d,b,A,V){this.connId=l,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ot(this.connId),this.stats_=En.getCollection(d),this.connURL=g.connectionURL_(d,A,V),this.nodeAdmin=d.nodeAdmin}return g.connectionURL_=function(l,d,b){var A={v:"5"};return!Y.isNodeSdk()&&typeof location<"u"&&location.href&&-1!==location.href.indexOf(xn)&&(A.r="f"),d&&(A.s=d),b&&(A.ls=b),l.connectionURL(On,A)},g.prototype.open=function(l,d){var b=this;this.onDisconnect=d,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Me.set("previous_websocket_failure",!0);try{if(Y.isNodeSdk()){var V={headers:{"User-Agent":"Firebase/5/"+co+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},he=process.env,xe=0===this.connURL.indexOf("wss://")?he.HTTPS_PROXY||he.https_proxy:he.HTTP_PROXY||he.http_proxy;xe&&(V.proxy={origin:xe}),this.mySock=new go(this.connURL,[],V)}else this.mySock=new go(this.connURL,[],V={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(Je){this.log_("Error instantiating WebSocket.");var lt=Je.message||Je.data;return lt&&this.log_(lt),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(Je){b.handleIncomingFrame(Je)},this.mySock.onerror=function(Je){b.log_("WebSocket error.  Closing connection.");var L=Je.message||Je.data;L&&b.log_(L),b.onClosed_()}},g.prototype.start=function(){},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){var l=!1;if(typeof navigator<"u"&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(l=!0)}return!l&&null!==go&&!g.forceDisallow_},g.previouslyFailed=function(){return Me.isInMemoryStorage||!0===Me.get("previous_websocket_failure")},g.prototype.markConnectionHealthy=function(){Me.remove("previous_websocket_failure")},g.prototype.appendFrame_=function(l){if(this.frames.push(l),this.frames.length===this.totalFrames){var d=this.frames.join("");this.frames=null;var b=Y.jsonEval(d);this.onMessage(b)}},g.prototype.handleNewFrameCount_=function(l){this.totalFrames=l,this.frames=[]},g.prototype.extractFrameCount_=function(l){if(Y.assert(null===this.frames,"We already have a frame buffer"),l.length<=6){var d=Number(l);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),l},g.prototype.handleIncomingFrame=function(l){if(null!==this.mySock){var d=l.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{var b=this.extractFrameCount_(d);null!==b&&this.appendFrame_(b)}}},g.prototype.send=function(l){this.resetKeepAlive();var d=Y.stringify(l);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);var b=He(d,16384);b.length>1&&this.sendString_(String(b.length));for(var A=0;A<b.length;A++)this.sendString_(b[A])},g.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},g.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},g.prototype.resetKeepAlive=function(){var l=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){l.mySock&&l.sendString_("0"),l.resetKeepAlive()},Math.floor(45e3))},g.prototype.sendString_=function(l){try{this.mySock.send(l)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g}(),Uo=function(){function g(l){this.initTransports_(l)}return Object.defineProperty(g,"ALL_TRANSPORTS",{get:function(){return[Io,Zi]},enumerable:!1,configurable:!0}),g.prototype.initTransports_=function(l){var d,b,A=Zi&&Zi.isAvailable(),V=A&&!Zi.previouslyFailed();if(l.webSocketOnly&&(A||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),V=!0),V)this.transports_=[Zi];else{var he=this.transports_=[];try{for(var xe=T.__values(g.ALL_TRANSPORTS),lt=xe.next();!lt.done;lt=xe.next()){var Je=lt.value;Je&&Je.isAvailable()&&he.push(Je)}}catch(L){d={error:L}}finally{try{lt&&!lt.done&&(b=xe.return)&&b.call(xe)}finally{if(d)throw d.error}}}},g.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},g.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},g}(),oo=function(){function g(l,d,b,A,V,he,xe,lt){this.id=l,this.repoInfo_=d,this.applicationId_=b,this.onMessage_=A,this.onReady_=V,this.onDisconnect_=he,this.onKill_=xe,this.lastSessionId=lt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ot("c:"+this.id+":"),this.transportManager_=new Uo(d),this.log_("Connection created"),this.start_()}return g.prototype.start_=function(){var l=this,d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),A=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){l.conn_&&l.conn_.open(b,A)},Math.floor(0));var V=d.healthyTimeout||0;V>0&&(this.healthyTimeout_=mn(function(){l.healthyTimeout_=null,l.isHealthy_||(l.conn_&&l.conn_.bytesReceived>102400?(l.log_("Connection exceeded healthy timeout but has received "+l.conn_.bytesReceived+" bytes.  Marking connection healthy."),l.isHealthy_=!0,l.conn_.markConnectionHealthy()):l.conn_&&l.conn_.bytesSent>10240?l.log_("Connection exceeded healthy timeout but has sent "+l.conn_.bytesSent+" bytes.  Leaving connection alive."):(l.log_("Closing unhealthy connection after timeout."),l.close()))},Math.floor(V)))},g.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},g.prototype.disconnReceiver_=function(l){var d=this;return function(b){l===d.conn_?d.onConnectionLost_(b):l===d.secondaryConn_?(d.log_("Secondary connection lost."),d.onSecondaryConnectionLost_()):d.log_("closing an old connection")}},g.prototype.connReceiver_=function(l){var d=this;return function(b){2!==d.state_&&(l===d.rx_?d.onPrimaryMessageReceived_(b):l===d.secondaryConn_?d.onSecondaryMessageReceived_(b):d.log_("message on old connection"))}},g.prototype.sendRequest=function(l){this.sendData_({t:"d",d:l})},g.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},g.prototype.onSecondaryControl_=function(l){if("t"in l){var d=l.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},g.prototype.onSecondaryMessageReceived_=function(l){var d=Ke("t",l),b=Ke("d",l);if("c"===d)this.onSecondaryControl_(b);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(b)}},g.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},g.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},g.prototype.onPrimaryMessageReceived_=function(l){var d=Ke("t",l),b=Ke("d",l);"c"===d?this.onControl_(b):"d"===d&&this.onDataMessage_(b)},g.prototype.onDataMessage_=function(l){this.onPrimaryResponse_(),this.onMessage_(l)},g.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},g.prototype.onControl_=function(l){var d=Ke("t",l);if("d"in l){var b=l.d;if("h"===d)this.onHandshake_(b);else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(b):"r"===d?this.onReset_(b):"e"===d?je("Server Error: "+b):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):je("Unknown control packet command: "+d)}},g.prototype.onHandshake_=function(l){var d=l.ts,b=l.v,A=l.h;this.sessionId=l.s,this.repoInfo_.updateHost(A),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==b&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())},g.prototype.tryStartUpgrade_=function(){var l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)},g.prototype.startUpgrade_=function(l){var d=this;this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),A=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,A),mn(function(){d.secondaryConn_&&(d.log_("Timed out trying to upgrade."),d.secondaryConn_.close())},Math.floor(6e4))},g.prototype.onReset_=function(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.updateHost(l),1===this.state_?this.close():(this.closeConnections_(),this.start_())},g.prototype.onConnectionEstablished_=function(l,d){var b=this;this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},g.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},g.prototype.onSecondaryConnectionLost_=function(){var l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()},g.prototype.onConnectionLost_=function(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Me.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},g.prototype.onConnectionShutdown_=function(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()},g.prototype.sendData_=function(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)},g.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},g.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},g}(),Po=function(){function g(){}return g.prototype.put=function(l,d,b,A){},g.prototype.merge=function(l,d,b,A){},g.prototype.refreshAuthToken=function(l){},g.prototype.onDisconnectPut=function(l,d,b){},g.prototype.onDisconnectMerge=function(l,d,b){},g.prototype.onDisconnectCancel=function(l,d){},g.prototype.reportStats=function(l){},g}(),bo=1e3,ho=3e5,li=function(g){function l(d,b,A,V,he,xe,lt){var Je=g.call(this)||this;if(Je.repoInfo_=d,Je.applicationId_=b,Je.onDataUpdate_=A,Je.onConnectStatus_=V,Je.onServerInfoUpdate_=he,Je.authTokenProvider_=xe,Je.authOverride_=lt,Je.id=l.nextPersistentConnectionId_++,Je.log_=Ot("p:"+Je.id+":"),Je.interruptReasons_={},Je.listens=new Map,Je.outstandingPuts_=[],Je.outstandingPutCount_=0,Je.onDisconnectRequestQueue_=[],Je.connected_=!1,Je.reconnectDelay_=bo,Je.maxReconnectDelay_=ho,Je.securityDebugCallback_=null,Je.lastSessionId=null,Je.establishConnectionTimer_=null,Je.visible_=!1,Je.requestCBHash_={},Je.requestNumber_=0,Je.realtime_=null,Je.authToken_=null,Je.forceTokenRefresh_=!1,Je.invalidAuthTokenCount_=0,Je.firstConnection_=!0,Je.lastConnectionAttemptTime_=null,Je.lastConnectionEstablishedTime_=null,lt&&!Y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Je.scheduleConnect_(0),Ai.getInstance().on("visible",Je.onVisible_,Je),-1===d.host.indexOf("fblocal")&&fi.getInstance().on("online",Je.onOnline_,Je),Je}return T.__extends(l,g),l.prototype.sendRequest=function(d,b,A){var V=++this.requestNumber_,he={r:V,a:d,b};this.log_(Y.stringify(he)),Y.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(he),A&&(this.requestCBHash_[V]=A)},l.prototype.listen=function(d,b,A,V){var he=d.queryIdentifier(),xe=d.path.toString();this.log_("Listen called for "+xe+" "+he),this.listens.has(xe)||this.listens.set(xe,new Map),Y.assert(d.getQueryParams().isDefault()||!d.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Y.assert(!this.listens.get(xe).has(he),"listen() called twice for same path/queryId.");var lt={onComplete:V,hashFn:b,query:d,tag:A};this.listens.get(xe).set(he,lt),this.connected_&&this.sendListen_(lt)},l.prototype.sendListen_=function(d){var b=this,A=d.query,V=A.path.toString(),he=A.queryIdentifier();this.log_("Listen on "+V+" for "+he);var xe={p:V};d.tag&&(xe.q=A.queryObject(),xe.t=d.tag),xe.h=d.hashFn(),this.sendRequest("q",xe,function(Je){var L=Je.d,S=Je.s;l.warnOnListenWarnings_(L,A),(b.listens.get(V)&&b.listens.get(V).get(he))===d&&(b.log_("listen response",Je),"ok"!==S&&b.removeListen_(V,he),d.onComplete&&d.onComplete(S,L))})},l.warnOnListenWarnings_=function(d,b){if(d&&"object"==typeof d&&Y.contains(d,"w")){var A=Y.safeGet(d,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){var V='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',he=b.path.toString();et("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+V+" at "+he+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(d)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(d){(d&&40===d.length||Y.isAdmin(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.tryAuth=function(){var d=this;if(this.connected_&&this.authToken_){var b=this.authToken_,A=Y.isValidFormat(b)?"auth":"gauth",V={cred:b};null===this.authOverride_?V.noauth=!0:"object"==typeof this.authOverride_&&(V.authvar=this.authOverride_),this.sendRequest(A,V,function(he){var xe=he.s,lt=he.d||"error";d.authToken_===b&&("ok"===xe?d.invalidAuthTokenCount_=0:d.onAuthRevoked_(xe,lt))})}},l.prototype.unlisten=function(d,b){var A=d.path.toString(),V=d.queryIdentifier();this.log_("Unlisten called for "+A+" "+V),Y.assert(d.getQueryParams().isDefault()||!d.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,V)&&this.connected_&&this.sendUnlisten_(A,V,d.queryObject(),b)},l.prototype.sendUnlisten_=function(d,b,A,V){this.log_("Unlisten on "+d+" for "+b);var he={p:d};V&&(he.q=A,he.t=V),this.sendRequest("n",he)},l.prototype.onDisconnectPut=function(d,b,A){this.connected_?this.sendOnDisconnect_("o",d,b,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:b,onComplete:A})},l.prototype.onDisconnectMerge=function(d,b,A){this.connected_?this.sendOnDisconnect_("om",d,b,A):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:b,onComplete:A})},l.prototype.onDisconnectCancel=function(d,b){this.connected_?this.sendOnDisconnect_("oc",d,null,b):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:b})},l.prototype.sendOnDisconnect_=function(d,b,A,V){var he={p:b,d:A};this.log_("onDisconnect "+d,he),this.sendRequest(d,he,function(xe){V&&setTimeout(function(){V(xe.s,xe.d)},Math.floor(0))})},l.prototype.put=function(d,b,A,V){this.putInternal("p",d,b,A,V)},l.prototype.merge=function(d,b,A,V){this.putInternal("m",d,b,A,V)},l.prototype.putInternal=function(d,b,A,V,he){var xe={p:b,d:A};void 0!==he&&(xe.h=he),this.outstandingPuts_.push({action:d,request:xe,onComplete:V}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},l.prototype.sendPut_=function(d){var b=this,A=this.outstandingPuts_[d].action,V=this.outstandingPuts_[d].request,he=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(A,V,function(xe){b.log_(A+" response",xe),delete b.outstandingPuts_[d],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),he&&he(xe.s,xe.d)})},l.prototype.reportStats=function(d){var b=this;if(this.connected_){var A={c:d};this.log_("reportStats",A),this.sendRequest("s",A,function(V){"ok"!==V.s&&b.log_("reportStats","Error sending stats: "+V.d)})}},l.prototype.onDataMessage_=function(d){if("r"in d){this.log_("from server: "+Y.stringify(d));var b=d.r,A=this.requestCBHash_[b];A&&(delete this.requestCBHash_[b],A(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}},l.prototype.onDataPush_=function(d,b){this.log_("handleServerMessage",d,b),"d"===d?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===d?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===d?this.onListenRevoked_(b.p,b.q):"ac"===d?this.onAuthRevoked_(b.s,b.d):"sd"===d?this.onSecurityDebugPacket_(b):je("Unrecognized action received from server: "+Y.stringify(d)+"\nAre you using the latest client?")},l.prototype.onReady_=function(d,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(d){var b=this;Y.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(d))},l.prototype.onVisible_=function(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=d},l.prototype.onOnline_=function(d){d?(this.log_("Browser went online."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,A=Math.max(0,this.reconnectDelay_-b);A=Math.random()*A,this.log_("Trying to reconnect in "+A+"ms"),this.scheduleConnect_(A),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){var d=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),A=this.onReady_.bind(this),V=this.onRealtimeDisconnect_.bind(this),he=this.id+":"+l.nextConnectionId_++,xe=this,lt=this.lastSessionId,Je=!1,L=null,S=function(){L?L.close():(Je=!0,V())};this.realtime_={close:S,sendRequest:function(re){Y.assert(L,"sendRequest call when we're not connected not allowed."),L.sendRequest(re)}};var O=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(O).then(function(re){Je?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),xe.authToken_=re&&re.accessToken,L=new oo(he,xe.repoInfo_,xe.applicationId_,b,A,V,function(be){et(be+" ("+xe.repoInfo_.toString()+")"),xe.interrupt("server_kill")},lt))}).then(null,function(re){xe.log_("Failed to get token: "+re),Je||(d.repoInfo_.nodeAdmin&&et(re),S())})}},l.prototype.interrupt=function(d){en("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(d){en("Resuming connection for reason: "+d),delete this.interruptReasons_[d],Y.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(d){var b=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},l.prototype.cancelSentTransactions_=function(){for(var d=0;d<this.outstandingPuts_.length;d++){var b=this.outstandingPuts_[d];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(d,b){var A;A=b?b.map(function(he){return Tn(he)}).join("$"):"default";var V=this.removeListen_(d,A);V&&V.onComplete&&V.onComplete("permission_denied")},l.prototype.removeListen_=function(d,b){var V,A=new bt(d).toString();if(this.listens.has(A)){var he=this.listens.get(A);V=he.get(b),he.delete(b),0===he.size&&this.listens.delete(A)}else V=void 0;return V},l.prototype.onAuthRevoked_=function(d,b){en("Auth token revoked: "+d+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onSecurityDebugPacket_=function(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var d,b,A,V;this.tryAuth();try{for(var he=T.__values(this.listens.values()),xe=he.next();!xe.done;xe=he.next()){var lt=xe.value;try{for(var Je=(A=void 0,T.__values(lt.values())),L=Je.next();!L.done;L=Je.next())this.sendListen_(L.value)}catch(re){A={error:re}}finally{try{L&&!L.done&&(V=Je.return)&&V.call(Je)}finally{if(A)throw A.error}}}}catch(re){d={error:re}}finally{try{xe&&!xe.done&&(b=he.return)&&b.call(he)}finally{if(d)throw d.error}}for(var E=0;E<this.outstandingPuts_.length;E++)this.outstandingPuts_[E]&&this.sendPut_(E);for(;this.onDisconnectRequestQueue_.length;){var O=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(O.action,O.pathString,O.data,O.onComplete)}},l.prototype.sendConnectStats_=function(){var d={},b="js";Y.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+b+"."+co.replace(/\./g,"-")]=1,Y.isMobileCordova()?d["framework.cordova"]=1:Y.isReactNative()&&(d["framework.reactnative"]=1),this.reportStats(d)},l.prototype.shouldReconnect_=function(){var d=fi.getInstance().currentlyOnline();return Y.isEmpty(this.interruptReasons_)&&d},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Po),ps=function(g){function l(d,b,A){var V=g.call(this)||this;return V.repoInfo_=d,V.onDataUpdate_=b,V.authTokenProvider_=A,V.log_=Ot("p:rest:"),V.listens_={},V}return T.__extends(l,g),l.prototype.reportStats=function(d){throw new Error("Method not implemented.")},l.getListenId_=function(d,b){return void 0!==b?"tag$"+b:(Y.assert(d.getQueryParams().isDefault(),"should have a tag if it's not a default query."),d.path.toString())},l.prototype.listen=function(d,b,A,V){var he=this,xe=d.path.toString();this.log_("Listen called for "+xe+" "+d.queryIdentifier());var lt=l.getListenId_(d,A),Je={};this.listens_[lt]=Je;var L=d.getQueryParams().toRestQueryStringParameters();this.restRequest_(xe+".json",L,function(S,E){var O=E;404===S&&(O=null,S=null),null===S&&he.onDataUpdate_(xe,O,!1,A),Y.safeGet(he.listens_,lt)===Je&&V(S?401===S?"permission_denied":"rest_error:"+S:"ok",null)})},l.prototype.unlisten=function(d,b){var A=l.getListenId_(d,b);delete this.listens_[A]},l.prototype.refreshAuthToken=function(d){},l.prototype.restRequest_=function(d,b,A){var V=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(he){var xe=he&&he.accessToken;xe&&(b.auth=xe);var lt=(V.repoInfo_.secure?"https://":"http://")+V.repoInfo_.host+d+"?ns="+V.repoInfo_.namespace+Y.querystring(b);V.log_("Sending REST request for "+lt);var Je=new XMLHttpRequest;Je.onreadystatechange=function(){if(A&&4===Je.readyState){V.log_("REST Response for "+lt+" received. status:",Je.status,"response:",Je.responseText);var L=null;if(Je.status>=200&&Je.status<300){try{L=Y.jsonEval(Je.responseText)}catch{et("Failed to parse JSON response for "+lt+": "+Je.responseText)}A(null,L)}else 401!==Je.status&&404!==Je.status&&et("Got unsuccessful REST response for "+lt+" Status: "+Je.status),A(Je.status);A=null}},Je.open("GET",lt,!0),Je.send()})},l}(Po),Kn="repo_interrupt",ri=function(){function g(l,d,b,A){var V=this;if(this.repoInfo_=l,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Gn,this.persistentConnection_=null,this.stats_=En.getCollection(l),d||Et())this.server_=new ps(this.repoInfo_,this.onDataUpdate_.bind(this),A),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var he=b.options.databaseAuthVariableOverride;if(typeof he<"u"&&null!==he){if("object"!=typeof he)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Y.stringify(he)}catch(xe){throw new Error("Invalid authOverride provided: "+xe)}}this.persistentConnection_=new li(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),A,he),this.server_=this.persistentConnection_}A.addTokenChangeListener(function(xe){V.server_.refreshAuthToken(xe)}),this.statsReporter_=En.getOrCreateReporter(l,function(){return new zr(V.stats_,V.server_)}),this.transactionsInit_(),this.infoData_=new jt,this.infoSyncTree_=new wt({startListening:function(xe,lt,Je,L){var S=[],E=V.infoData_.getNode(xe.path);return E.isEmpty()||(S=V.infoSyncTree_.applyServerOverwrite(xe.path,E),setTimeout(function(){L("ok")},0)),S},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new wt({startListening:function(xe,lt,Je,L){return V.server_.listen(xe,Je,lt,function(S,E){var O=L(S,E);V.eventQueue_.raiseEventsForChangedPath(xe.path,O)}),[]},stopListening:function(xe,lt){V.server_.unlisten(xe,lt)}})}return g.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},g.prototype.name=function(){return this.repoInfo_.namespace},g.prototype.serverTime=function(){var d=this.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d},g.prototype.generateServerValues=function(){return function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g}({timestamp:this.serverTime()})},g.prototype.onDataUpdate_=function(l,d,b,A){this.dataUpdateCount++;var V=new bt(l);d=this.interceptServerDataCallback_?this.interceptServerDataCallback_(l,d):d;var he=[];if(A)if(b){var xe=Y.map(d,function(E){return Er(E)});he=this.serverSyncTree_.applyTaggedQueryMerge(V,xe,A)}else{var lt=Er(d);he=this.serverSyncTree_.applyTaggedQueryOverwrite(V,lt,A)}else if(b){var Je=Y.map(d,function(E){return Er(E)});he=this.serverSyncTree_.applyServerMerge(V,Je)}else{var L=Er(d);he=this.serverSyncTree_.applyServerOverwrite(V,L)}var S=V;he.length>0&&(S=this.rerunTransactions_(V)),this.eventQueue_.raiseEventsForChangedPath(S,he)},g.prototype.interceptServerData_=function(l){this.interceptServerDataCallback_=l},g.prototype.onConnectStatus_=function(l){this.updateInfo_("connected",l),!1===l&&this.runOnDisconnectEvents_()},g.prototype.onServerInfoUpdate_=function(l){var d=this;ut(l,function(b,A){d.updateInfo_(b,A)})},g.prototype.updateInfo_=function(l,d){var b=new bt("/.info/"+l),A=Er(d);this.infoData_.updateSnapshot(b,A);var V=this.infoSyncTree_.applyServerOverwrite(b,A);this.eventQueue_.raiseEventsForChangedPath(b,V)},g.prototype.getNextWriteId_=function(){return this.nextWriteId_++},g.prototype.setWithPriority=function(l,d,b,A){var V=this;this.log_("set",{path:l.toString(),value:d,priority:b});var he=this.generateServerValues(),xe=Er(d,b),lt=this.serverSyncTree_.calcCompleteEventCache(l),Je=Qe(xe,lt,he),L=this.getNextWriteId_(),S=this.serverSyncTree_.applyUserOverwrite(l,Je,L,!0);this.eventQueue_.queueEvents(S),this.server_.put(l.toString(),xe.val(!0),function(O,re){var be="ok"===O;be||et("set at "+l+" failed: "+O);var yt=V.serverSyncTree_.ackUserWrite(L,!be);V.eventQueue_.raiseEventsForChangedPath(l,yt),V.callOnCompleteCallback(A,O,re)});var E=this.abortTransactions_(l);this.rerunTransactions_(E),this.eventQueue_.raiseEventsForChangedPath(E,[])},g.prototype.update=function(l,d,b){var A=this;this.log_("update",{path:l.toString(),value:d});var V=!0,he=this.generateServerValues(),xe={};if(ut(d,function(L,S){V=!1,xe[L]=ye(l.child(L),Er(S),A.serverSyncTree_,he)}),V)en("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var lt=this.getNextWriteId_(),Je=this.serverSyncTree_.applyUserMerge(l,xe,lt);this.eventQueue_.queueEvents(Je),this.server_.merge(l.toString(),d,function(L,S){var E="ok"===L;E||et("update at "+l+" failed: "+L);var O=A.serverSyncTree_.ackUserWrite(lt,!E),re=O.length>0?A.rerunTransactions_(l):l;A.eventQueue_.raiseEventsForChangedPath(re,O),A.callOnCompleteCallback(b,L,S)}),ut(d,function(L){var S=A.abortTransactions_(l.child(L));A.rerunTransactions_(S)}),this.eventQueue_.raiseEventsForChangedPath(l,[])}},g.prototype.runOnDisconnectEvents_=function(){var l=this;this.log_("onDisconnectEvents");var d=this.generateServerValues(),b=new Gn;this.onDisconnect_.forEachTree(bt.Empty,function(V,he){var xe=ye(V,he,l.serverSyncTree_,d);b.remember(V,xe)});var A=[];b.forEachTree(bt.Empty,function(V,he){A=A.concat(l.serverSyncTree_.applyServerOverwrite(V,he));var xe=l.abortTransactions_(V);l.rerunTransactions_(xe)}),this.onDisconnect_=new Gn,this.eventQueue_.raiseEventsForChangedPath(bt.Empty,A)},g.prototype.onDisconnectCancel=function(l,d){var b=this;this.server_.onDisconnectCancel(l.toString(),function(A,V){"ok"===A&&b.onDisconnect_.forget(l),b.callOnCompleteCallback(d,A,V)})},g.prototype.onDisconnectSet=function(l,d,b){var A=this,V=Er(d);this.server_.onDisconnectPut(l.toString(),V.val(!0),function(he,xe){"ok"===he&&A.onDisconnect_.remember(l,V),A.callOnCompleteCallback(b,he,xe)})},g.prototype.onDisconnectSetWithPriority=function(l,d,b,A){var V=this,he=Er(d,b);this.server_.onDisconnectPut(l.toString(),he.val(!0),function(xe,lt){"ok"===xe&&V.onDisconnect_.remember(l,he),V.callOnCompleteCallback(A,xe,lt)})},g.prototype.onDisconnectUpdate=function(l,d,b){var A=this;if(Y.isEmpty(d))return en("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(l.toString(),d,function(V,he){"ok"===V&&ut(d,function(xe,lt){var Je=Er(lt);A.onDisconnect_.remember(l.child(xe),Je)}),A.callOnCompleteCallback(b,V,he)})},g.prototype.addEventCallbackForQuery=function(l,d){var b;b=".info"===l.path.getFront()?this.infoSyncTree_.addEventRegistration(l,d):this.serverSyncTree_.addEventRegistration(l,d),this.eventQueue_.raiseEventsAtPath(l.path,b)},g.prototype.removeEventCallbackForQuery=function(l,d){var b;b=".info"===l.path.getFront()?this.infoSyncTree_.removeEventRegistration(l,d):this.serverSyncTree_.removeEventRegistration(l,d),this.eventQueue_.raiseEventsAtPath(l.path,b)},g.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Kn)},g.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Kn)},g.prototype.stats=function(l){if(void 0===l&&(l=!1),!(typeof console>"u")){var d;l?(this.statsListener_||(this.statsListener_=new Un(this.stats_)),d=this.statsListener_.get()):d=this.stats_.get();var b=Object.keys(d).reduce(function(A,V){return Math.max(V.length,A)},0);ut(d,function(A,V){for(var he=A,xe=A.length;xe<b+2;xe++)he+=" ";console.log(he+V)})}},g.prototype.statsIncrementCounter=function(l){this.stats_.incrementCounter(l),this.statsReporter_.includeStat(l)},g.prototype.log_=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),en.apply(void 0,T.__spread([b],l))},g.prototype.callOnCompleteCallback=function(l,d,b){l&&ht(function(){if("ok"===d)l(null);else{var A=(d||"error").toUpperCase(),V=A;b&&(V+=": "+b);var he=new Error(V);he.code=A,l(he)}})},Object.defineProperty(g.prototype,"database",{get:function(){return this.__database||(this.__database=new rn(this))},enumerable:!1,configurable:!0}),g}(),ms=function(){function g(l){this.indexedFilter_=new Co(l.getIndex()),this.index_=l.getIndex(),this.startPost_=g.getStartPost_(l),this.endPost_=g.getEndPost_(l)}return g.prototype.getStartPost=function(){return this.startPost_},g.prototype.getEndPost=function(){return this.endPost_},g.prototype.matches=function(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0},g.prototype.updateChild=function(l,d,b,A,V,he){return this.matches(new Oe(d,b))||(b=fn.EMPTY_NODE),this.indexedFilter_.updateChild(l,d,b,A,V,he)},g.prototype.updateFullNode=function(l,d,b){d.isLeafNode()&&(d=fn.EMPTY_NODE);var A=d.withIndex(this.index_);A=A.updatePriority(fn.EMPTY_NODE);var V=this;return d.forEachChild(pt,function(he,xe){V.matches(new Oe(he,xe))||(A=A.updateImmediateChild(he,fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,A,b)},g.prototype.updatePriority=function(l,d){return l},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.indexedFilter_},g.prototype.getIndex=function(){return this.index_},g.getStartPost_=function(l){if(l.hasStart()){var d=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),d)}return l.getIndex().minPost()},g.getEndPost_=function(l){if(l.hasEnd()){var d=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),d)}return l.getIndex().maxPost()},g}(),gs=function(){function g(l){this.rangedFilter_=new ms(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}return g.prototype.updateChild=function(l,d,b,A,V,he){return this.rangedFilter_.matches(new Oe(d,b))||(b=fn.EMPTY_NODE),l.getImmediateChild(d).equals(b)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,d,b,A,V,he):this.fullLimitUpdateChild_(l,d,b,V,he)},g.prototype.updateFullNode=function(l,d,b){var A;if(d.isLeafNode()||d.isEmpty())A=fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){A=fn.EMPTY_NODE.withIndex(this.index_);var V=void 0;V=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var he=0;V.hasNext()&&he<this.limit_;){var xe=V.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),xe)<=0:this.index_.compare(xe,this.rangedFilter_.getEndPost())<=0))break;A=A.updateImmediateChild(xe.name,xe.node),he++}}else{A=(A=d.withIndex(this.index_)).updatePriority(fn.EMPTY_NODE);var Je=void 0,L=void 0,S=void 0;if(V=void 0,this.reverse_){V=A.getReverseIterator(this.index_),Je=this.rangedFilter_.getEndPost(),L=this.rangedFilter_.getStartPost();var E=this.index_.getCompare();S=function(yt,Ct){return E(Ct,yt)}}else V=A.getIterator(this.index_),Je=this.rangedFilter_.getStartPost(),L=this.rangedFilter_.getEndPost(),S=this.index_.getCompare();he=0;for(var O=!1;V.hasNext();)xe=V.getNext(),!O&&S(Je,xe)<=0&&(O=!0),O&&he<this.limit_&&S(xe,L)<=0?he++:A=A.updateImmediateChild(xe.name,fn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,A,b)},g.prototype.updatePriority=function(l,d){return l},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},g.prototype.getIndex=function(){return this.index_},g.prototype.fullLimitUpdateChild_=function(l,d,b,A,V){var he;if(this.reverse_){var xe=this.index_.getCompare();he=function(an,Sn){return xe(Sn,an)}}else he=this.index_.getCompare();var lt=l;Y.assert(lt.numChildren()===this.limit_,"");var Je=new Oe(d,b),L=this.reverse_?lt.getFirstChild(this.index_):lt.getLastChild(this.index_),S=this.rangedFilter_.matches(Je);if(lt.hasChild(d)){for(var E=lt.getImmediateChild(d),O=A.getChildAfterChild(this.index_,L,this.reverse_);null!=O&&(O.name===d||lt.hasChild(O.name));)O=A.getChildAfterChild(this.index_,O,this.reverse_);var re=null==O?1:he(O,Je);if(S&&!b.isEmpty()&&re>=0)return V?.trackChildChange(Hr.childChangedChange(d,b,E)),lt.updateImmediateChild(d,b);V?.trackChildChange(Hr.childRemovedChange(d,E));var yt=lt.updateImmediateChild(d,fn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(V?.trackChildChange(Hr.childAddedChange(O.name,O.node)),yt.updateImmediateChild(O.name,O.node)):yt}return b.isEmpty()?l:S&&he(L,Je)>=0?(null!=V&&(V.trackChildChange(Hr.childRemovedChange(L.name,L.node)),V.trackChildChange(Hr.childAddedChange(d,b))),lt.updateImmediateChild(d,b).updateImmediateChild(L.name,fn.EMPTY_NODE)):l},g}(),fo=function(){function g(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}return g.prototype.hasStart=function(){return this.startSet_},g.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},g.prototype.getIndexStartValue=function(){return Y.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},g.prototype.getIndexStartName=function(){return Y.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:G},g.prototype.hasEnd=function(){return this.endSet_},g.prototype.getIndexEndValue=function(){return Y.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},g.prototype.getIndexEndName=function(){return Y.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:J},g.prototype.hasLimit=function(){return this.limitSet_},g.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},g.prototype.getLimit=function(){return Y.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},g.prototype.getIndex=function(){return this.index_},g.prototype.copy_=function(){var l=new g;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l},g.prototype.limit=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_="",d},g.prototype.limitToFirst=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_=g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,d},g.prototype.limitToLast=function(l){var d=this.copy_();return d.limitSet_=!0,d.limit_=l,d.viewFrom_=g.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,d},g.prototype.startAt=function(l,d){var b=this.copy_();return b.startSet_=!0,void 0===l&&(l=null),b.indexStartValue_=l,null!=d?(b.startNameSet_=!0,b.indexStartName_=d):(b.startNameSet_=!1,b.indexStartName_=""),b},g.prototype.endAt=function(l,d){var b=this.copy_();return b.endSet_=!0,void 0===l&&(l=null),b.indexEndValue_=l,void 0!==d?(b.endNameSet_=!0,b.indexEndName_=d):(b.endNameSet_=!1,b.indexEndName_=""),b},g.prototype.orderBy=function(l){var d=this.copy_();return d.index_=l,d},g.prototype.getQueryObject=function(){var l=g.WIRE_PROTOCOL_CONSTANTS_,d={};if(this.startSet_&&(d[l.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(d[l.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(d[l.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(d[l.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){d[l.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?l.VIEW_FROM_LEFT:l.VIEW_FROM_RIGHT),d[l.VIEW_FROM]=b}return this.index_!==pt&&(d[l.INDEX]=this.index_.toString()),d},g.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},g.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===pt},g.prototype.getNodeFilter=function(){return this.loadsAllData()?new Co(this.getIndex()):this.hasLimit()?new gs(this):new ms(this)},g.prototype.toRestQueryStringParameters=function(){var b,l=g.REST_QUERY_CONSTANTS_,d={};return this.isDefault()||(this.index_===pt?b=l.PRIORITY_INDEX:this.index_===ai?b=l.VALUE_INDEX:this.index_===qt?b=l.KEY_INDEX:(Y.assert(this.index_ instanceof Dr,"Unrecognized index type!"),b=this.index_.toString()),d[l.ORDER_BY]=Y.stringify(b),this.startSet_&&(d[l.START_AT]=Y.stringify(this.indexStartValue_),this.startNameSet_&&(d[l.START_AT]+=","+Y.stringify(this.indexStartName_))),this.endSet_&&(d[l.END_AT]=Y.stringify(this.indexEndValue_),this.endNameSet_&&(d[l.END_AT]+=","+Y.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?d[l.LIMIT_TO_FIRST]=this.limit_:d[l.LIMIT_TO_LAST]=this.limit_)),d},g.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},g.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},g.DEFAULT=new g,g}(),xo=function(g){function l(d,b){if(!(d instanceof ri))throw new Error("new Reference() no longer supported - use app.database().");return g.call(this,d,b,fo.DEFAULT,!1)||this}return T.__extends(l,g),l.prototype.getKey=function(){return Y.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},l.prototype.child=function(d){return Y.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof d?d=String(d):d instanceof bt||(null===this.path.getFront()?Vt("Reference.child",1,d,!1):Pt("Reference.child",1,d,!1)),new l(this.repo,this.path.child(d))},l.prototype.getParent=function(){Y.validateArgCount("Reference.parent",0,0,arguments.length);var d=this.path.parent();return null===d?null:new l(this.repo,d)},l.prototype.getRoot=function(){Y.validateArgCount("Reference.root",0,0,arguments.length);for(var d=this;null!==d.getParent();)d=d.getParent();return d},l.prototype.databaseProp=function(){return this.repo.database},l.prototype.set=function(d,b){Y.validateArgCount("Reference.set",1,2,arguments.length),Ce("Reference.set",this.path),An("Reference.set",1,d,this.path,!1),Y.validateCallback("Reference.set",2,b,!0);var A=new Y.Deferred;return this.repo.setWithPriority(this.path,d,null,A.wrapCallback(b)),A.promise},l.prototype.update=function(d,b){if(Y.validateArgCount("Reference.update",1,2,arguments.length),Ce("Reference.update",this.path),Array.isArray(d)){for(var A={},V=0;V<d.length;++V)A[""+V]=d[V];d=A,et("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kn("Reference.update",1,d,this.path,!1),Y.validateCallback("Reference.update",2,b,!0);var he=new Y.Deferred;return this.repo.update(this.path,d,he.wrapCallback(b)),he.promise},l.prototype.setWithPriority=function(d,b,A){if(Y.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ce("Reference.setWithPriority",this.path),An("Reference.setWithPriority",1,d,this.path,!1),Jn("Reference.setWithPriority",2,b,!1),Y.validateCallback("Reference.setWithPriority",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var V=new Y.Deferred;return this.repo.setWithPriority(this.path,d,b,V.wrapCallback(A)),V.promise},l.prototype.remove=function(d){return Y.validateArgCount("Reference.remove",0,1,arguments.length),Ce("Reference.remove",this.path),Y.validateCallback("Reference.remove",1,d,!0),this.set(null,d)},l.prototype.transaction=function(d,b,A){if(Y.validateArgCount("Reference.transaction",1,3,arguments.length),Ce("Reference.transaction",this.path),Y.validateCallback("Reference.transaction",1,d,!1),Y.validateCallback("Reference.transaction",2,b,!0),le("Reference.transaction",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===A&&(A=!0);var V=new Y.Deferred;return"function"==typeof b&&V.promise.catch(function(){}),this.repo.startTransaction(this.path,d,function(xe,lt,Je){xe?V.reject(xe):V.resolve(new St(lt,Je)),"function"==typeof b&&b(xe,lt,Je)},A),V.promise},l.prototype.setPriority=function(d,b){Y.validateArgCount("Reference.setPriority",1,2,arguments.length),Ce("Reference.setPriority",this.path),Jn("Reference.setPriority",1,d,!1),Y.validateCallback("Reference.setPriority",2,b,!0);var A=new Y.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),d,null,A.wrapCallback(b)),A.promise},l.prototype.push=function(d,b){Y.validateArgCount("Reference.push",0,2,arguments.length),Ce("Reference.push",this.path),An("Reference.push",1,d,this.path,!0),Y.validateCallback("Reference.push",2,b,!0);var lt,A=this.repo.serverTime(),V=vn(A),he=this.child(V),xe=this.child(V);return lt=null!=d?he.set(d,b).then(function(){return xe}):Promise.resolve(xe),he.then=lt.then.bind(lt),he.catch=lt.then.bind(lt,void 0),"function"==typeof b&&lt.catch(function(){}),he},l.prototype.onDisconnect=function(){return Ce("Reference.onDisconnect",this.path),new tt(this.repo,this.path)},Object.defineProperty(l.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),l}(eo);eo.__referenceConstructor=xo,cs.__referenceConstructor=xo;var zo=function g(){this.children={},this.childCount=0,this.value=null},ls=function(){function g(l,d,b){void 0===l&&(l=""),void 0===d&&(d=null),void 0===b&&(b=new zo),this.name_=l,this.parent_=d,this.node_=b}return g.prototype.subTree=function(l){for(var d=l instanceof bt?l:new bt(l),b=this,A=d.getFront();null!==A;)b=new g(A,b,Y.safeGet(b.node_.children,A)||new zo),A=(d=d.popFront()).getFront();return b},g.prototype.getValue=function(){return this.node_.value},g.prototype.setValue=function(l){Y.assert(typeof l<"u","Cannot set value to undefined"),this.node_.value=l,this.updateParents_()},g.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},g.prototype.hasChildren=function(){return this.node_.childCount>0},g.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},g.prototype.forEachChild=function(l){var d=this;ut(this.node_.children,function(b,A){l(new g(b,d,A))})},g.prototype.forEachDescendant=function(l,d,b){d&&!b&&l(this),this.forEachChild(function(A){A.forEachDescendant(l,!0,b)}),d&&b&&l(this)},g.prototype.forEachAncestor=function(l,d){for(var b=d?this:this.parent();null!==b;){if(l(b))return!0;b=b.parent()}return!1},g.prototype.forEachImmediateDescendantWithValue=function(l){this.forEachChild(function(d){null!==d.getValue()?l(d):d.forEachImmediateDescendantWithValue(l)})},g.prototype.path=function(){return new bt(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},g.prototype.name=function(){return this.name_},g.prototype.parent=function(){return this.parent_},g.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},g.prototype.updateChild_=function(l,d){var b=d.isEmpty(),A=Y.contains(this.node_.children,l);b&&A?(delete this.node_.children[l],this.node_.childCount--,this.updateParents_()):!b&&!A&&(this.node_.children[l]=d.node_,this.node_.childCount++,this.updateParents_())},g}(),Vi=(()=>(function(g){g[g.RUN=0]="RUN",g[g.SENT=1]="SENT",g[g.COMPLETED=2]="COMPLETED",g[g.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",g[g.NEEDS_ABORT=4]="NEEDS_ABORT"}(Vi||(Vi={})),Vi))();ri.MAX_TRANSACTION_RETRIES_=25,ri.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ls},ri.prototype.startTransaction=function(g,l,d,b){this.log_("transaction on "+g);var A=function(){},V=new xo(this,g);V.on("value",A);var xe={path:g,update:l,onComplete:d,status:null,order:_t(),applyLocally:b,retryCount:0,unwatcher:function(){V.off("value",A)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},lt=this.getLatestState_(g);xe.currentInputSnapshot=lt;var Je=xe.update(lt.val());if(void 0===Je){if(xe.unwatcher(),xe.currentOutputSnapshotRaw=null,xe.currentOutputSnapshotResolved=null,xe.onComplete){var L=new Ri(xe.currentInputSnapshot,new xo(this,xe.path),pt);xe.onComplete(null,!1,L)}}else{Hn("transaction failed: Data returned ",Je,xe.path),xe.status=Vi.RUN;var S=this.transactionQueueTree_.subTree(g),E=S.getValue()||[];E.push(xe),S.setValue(E);var O=void 0;"object"==typeof Je&&null!==Je&&Y.contains(Je,".priority")?(O=Y.safeGet(Je,".priority"),Y.assert(wn(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(this.serverSyncTree_.calcCompleteEventCache(g)||fn.EMPTY_NODE).getPriority().val();var be=this.generateServerValues(),yt=Er(Je,O),Ct=Qe(yt,lt,be);xe.currentOutputSnapshotRaw=yt,xe.currentOutputSnapshotResolved=Ct,xe.currentWriteId=this.getNextWriteId_();var an=this.serverSyncTree_.applyUserOverwrite(g,Ct,xe.currentWriteId,xe.applyLocally);this.eventQueue_.raiseEventsForChangedPath(g,an),this.sendReadyTransactions_()}},ri.prototype.getLatestState_=function(g,l){return this.serverSyncTree_.calcCompleteEventCache(g,l)||fn.EMPTY_NODE},ri.prototype.sendReadyTransactions_=function(g){var l=this;if(void 0===g&&(g=this.transactionQueueTree_),g||this.pruneCompletedTransactionsBelowNode_(g),null!==g.getValue()){var d=this.buildTransactionQueue_(g);Y.assert(d.length>0,"Sending zero length transaction queue"),d.every(function(A){return A.status===Vi.RUN})&&this.sendTransactionQueue_(g.path(),d)}else g.hasChildren()&&g.forEachChild(function(A){l.sendReadyTransactions_(A)})},ri.prototype.sendTransactionQueue_=function(g,l){for(var d=this,b=l.map(function(E){return E.currentWriteId}),A=this.getLatestState_(g,b),V=A,he=A.hash(),xe=0;xe<l.length;xe++){var lt=l[xe];Y.assert(lt.status===Vi.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),lt.status=Vi.SENT,lt.retryCount++;var Je=bt.relativePath(g,lt.path);V=V.updateChild(Je,lt.currentOutputSnapshotRaw)}var L=V.val(!0),S=g;this.server_.put(S.toString(),L,function(E){d.log_("transaction put response",{path:S.toString(),status:E});var O=[];if("ok"===E){for(var re=[],be=0;be<l.length;be++){if(l[be].status=Vi.COMPLETED,O=O.concat(d.serverSyncTree_.ackUserWrite(l[be].currentWriteId)),l[be].onComplete){var yt=l[be].currentOutputSnapshotResolved,Ct=new xo(d,l[be].path),an=new Ri(yt,Ct,pt);re.push(l[be].onComplete.bind(null,null,!0,an))}l[be].unwatcher()}for(d.pruneCompletedTransactionsBelowNode_(d.transactionQueueTree_.subTree(g)),d.sendReadyTransactions_(),d.eventQueue_.raiseEventsForChangedPath(g,O),be=0;be<re.length;be++)ht(re[be])}else{if("datastale"===E)for(be=0;be<l.length;be++)l[be].status=l[be].status===Vi.SENT_NEEDS_ABORT?Vi.NEEDS_ABORT:Vi.RUN;else for(et("transaction at "+S.toString()+" failed: "+E),be=0;be<l.length;be++)l[be].status=Vi.NEEDS_ABORT,l[be].abortReason=E;d.rerunTransactions_(g)}},he)},ri.prototype.rerunTransactions_=function(g){var l=this.getAncestorTransactionNode_(g),d=l.path(),b=this.buildTransactionQueue_(l);return this.rerunTransactionQueue_(b,d),d},ri.prototype.rerunTransactionQueue_=function(g,l){if(0!==g.length){for(var d=[],b=[],V=g.filter(function(er){return er.status===Vi.RUN}).map(function(er){return er.currentWriteId}),he=0;he<g.length;he++){var xe=g[he],lt=bt.relativePath(l,xe.path),Je=!1,L=void 0;if(Y.assert(null!==lt,"rerunTransactionsUnderNode_: relativePath should not be null."),xe.status===Vi.NEEDS_ABORT)Je=!0,L=xe.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(xe.currentWriteId,!0));else if(xe.status===Vi.RUN)if(xe.retryCount>=ri.MAX_TRANSACTION_RETRIES_)Je=!0,L="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(xe.currentWriteId,!0));else{var S=this.getLatestState_(xe.path,V);xe.currentInputSnapshot=S;var E=g[he].update(S.val());if(void 0!==E){Hn("transaction failed: Data returned ",E,xe.path);var O=Er(E);"object"==typeof E&&null!=E&&Y.contains(E,".priority")||(O=O.updatePriority(S.getPriority()));var be=xe.currentWriteId,yt=this.generateServerValues(),Ct=Qe(O,S,yt);xe.currentOutputSnapshotRaw=O,xe.currentOutputSnapshotResolved=Ct,xe.currentWriteId=this.getNextWriteId_(),V.splice(V.indexOf(be),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(xe.path,Ct,xe.currentWriteId,xe.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(be,!0))}else Je=!0,L="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(xe.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(l,b),b=[],Je&&(g[he].status=Vi.COMPLETED,setTimeout(g[he].unwatcher,Math.floor(0)),g[he].onComplete))if("nodata"===L){var an=new xo(this,g[he].path),bn=new Ri(g[he].currentInputSnapshot,an,pt);d.push(g[he].onComplete.bind(null,null,!1,bn))}else d.push(g[he].onComplete.bind(null,new Error(L),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),he=0;he<d.length;he++)ht(d[he]);this.sendReadyTransactions_()}},ri.prototype.getAncestorTransactionNode_=function(g){var l,d=this.transactionQueueTree_;for(l=g.getFront();null!==l&&null===d.getValue();)d=d.subTree(l),l=(g=g.popFront()).getFront();return d},ri.prototype.buildTransactionQueue_=function(g){var l=[];return this.aggregateTransactionQueuesForNode_(g,l),l.sort(function(d,b){return d.order-b.order}),l},ri.prototype.aggregateTransactionQueuesForNode_=function(g,l){var d=this,b=g.getValue();if(null!==b)for(var A=0;A<b.length;A++)l.push(b[A]);g.forEachChild(function(V){d.aggregateTransactionQueuesForNode_(V,l)})},ri.prototype.pruneCompletedTransactionsBelowNode_=function(g){var l=this,d=g.getValue();if(d){for(var b=0,A=0;A<d.length;A++)d[A].status!==Vi.COMPLETED&&(d[b]=d[A],b++);d.length=b,g.setValue(d.length>0?d:null)}g.forEachChild(function(V){l.pruneCompletedTransactionsBelowNode_(V)})},ri.prototype.abortTransactions_=function(g){var l=this,d=this.getAncestorTransactionNode_(g).path(),b=this.transactionQueueTree_.subTree(g);return b.forEachAncestor(function(A){l.abortTransactionsOnNode_(A)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(A){l.abortTransactionsOnNode_(A)}),d},ri.prototype.abortTransactionsOnNode_=function(g){var l=g.getValue();if(null!==l){for(var d=[],b=[],A=-1,V=0;V<l.length;V++)l[V].status!==Vi.SENT_NEEDS_ABORT&&(l[V].status===Vi.SENT?(Y.assert(A===V-1,"All SENT items should be at beginning of queue."),A=V,l[V].status=Vi.SENT_NEEDS_ABORT,l[V].abortReason="set"):(Y.assert(l[V].status===Vi.RUN,"Unexpected transaction status in abort"),l[V].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(l[V].currentWriteId,!0)),l[V].onComplete&&d.push(l[V].onComplete.bind(null,new Error("set"),!1,null))));for(-1===A?g.setValue(null):l.length=A+1,this.eventQueue_.raiseEventsForChangedPath(g.path(),b),V=0;V<d.length;V++)ht(d[V])}};var $e,_=function(){function g(l,d){var b=this;this.app_=l,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.get().then(function(A){return b.auth_=A})}return g.prototype.getToken=function(l){return this.auth_?this.auth_.getToken(l).catch(function(d){return d&&"auth/token-not-initialized"===d.code?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)}):Promise.resolve(null)},g.prototype.addTokenChangeListener=function(l){this.auth_?this.auth_.addAuthTokenListener(l):(setTimeout(function(){return l(null)},0),this.authProvider_.get().then(function(d){return d.addAuthTokenListener(l)}))},g.prototype.removeTokenChangeListener=function(l){this.authProvider_.get().then(function(d){return d.removeAuthTokenListener(l)})},g.prototype.notifyForInvalidToken=function(){var l='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';et(l+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},g}(),W=function(){function g(){}return g.prototype.getToken=function(l){return Promise.resolve({accessToken:g.EMULATOR_AUTH_TOKEN})},g.prototype.addTokenChangeListener=function(l){l(g.EMULATOR_AUTH_TOKEN)},g.prototype.removeTokenChangeListener=function(l){},g.prototype.notifyForInvalidToken=function(){},g.EMULATOR_AUTH_TOKEN="owner",g}(),Wt=function(){function g(){this.repos_={},this.useRestClient_=!1}return g.getInstance=function(){return $e||($e=new g),$e},g.prototype.interrupt=function(){var l,d,b,A;try{for(var V=T.__values(Object.keys(this.repos_)),he=V.next();!he.done;he=V.next()){var xe=he.value;try{for(var lt=(b=void 0,T.__values(Object.keys(this.repos_[xe]))),Je=lt.next();!Je.done;Je=lt.next())this.repos_[xe][Je.value].interrupt()}catch(S){b={error:S}}finally{try{Je&&!Je.done&&(A=lt.return)&&A.call(lt)}finally{if(b)throw b.error}}}}catch(S){l={error:S}}finally{try{he&&!he.done&&(d=V.return)&&d.call(V)}finally{if(l)throw l.error}}},g.prototype.resume=function(){var l,d,b,A;try{for(var V=T.__values(Object.keys(this.repos_)),he=V.next();!he.done;he=V.next()){var xe=he.value;try{for(var lt=(b=void 0,T.__values(Object.keys(this.repos_[xe]))),Je=lt.next();!Je.done;Je=lt.next())this.repos_[xe][Je.value].resume()}catch(S){b={error:S}}finally{try{Je&&!Je.done&&(A=lt.return)&&A.call(lt)}finally{if(b)throw b.error}}}}catch(S){l={error:S}}finally{try{he&&!he.done&&(d=V.return)&&d.call(V)}finally{if(l)throw l.error}}},g.prototype.databaseFromApp=function(l,d,b,A){var V=b||l.options.databaseURL;void 0===V&&(l.options.projectId||ke("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",l.options.projectId),V=l.options.projectId+"-default-rtdb.firebaseio.com");var lt,he=Yt(V,A),xe=he.repoInfo,Je=void 0;typeof process<"u"&&(Je=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Je?(lt=!0,xe=(he=Yt(V="http://"+Je+"?ns="+xe.namespace,A)).repoInfo):lt=!he.repoInfo.secure;var L=A&&lt?new W:new _(l,d);return ue("Invalid Firebase Database URL",1,he),he.path.isEmpty()||ke("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(xe,l,L).database},g.prototype.deleteRepo=function(l){var d=Y.safeGet(this.repos_,l.app.name);(!d||Y.safeGet(d,l.repoInfo_.toURLString())!==l)&&ke("Database "+l.app.name+"("+l.repoInfo_+") has already been deleted."),l.interrupt(),delete d[l.repoInfo_.toURLString()]},g.prototype.createRepo=function(l,d,b){var A=Y.safeGet(this.repos_,d.name);A||(this.repos_[d.name]=A={});var V=Y.safeGet(A,l.toURLString());return V&&ke("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),V=new ri(l,this.useRestClient_,d,b),A[l.toURLString()]=V,V},g.prototype.forceRestClient=function(l){this.useRestClient_=l},g}(),rn=function(){function g(l){this.repo_=l,l instanceof ri||ke("Don't call new Database() directly - please use firebase.database()."),this.root_=new xo(l,bt.Empty),this.INTERNAL=new ur(this)}return Object.defineProperty(g.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),g.prototype.ref=function(l){return this.checkDeleted_("ref"),Y.validateArgCount("database.ref",0,1,arguments.length),l instanceof xo?this.refFromURL(l.toString()):void 0!==l?this.root_.child(l):this.root_},g.prototype.refFromURL=function(l){var d="database.refFromURL";this.checkDeleted_(d),Y.validateArgCount(d,1,1,arguments.length);var b=Yt(l,this.repo_.repoInfo_.nodeAdmin);ue(d,1,b);var A=b.repoInfo;return A.host!==this.repo_.repoInfo_.host&&ke(d+": Host name does not match the current database: (found "+A.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},g.prototype.checkDeleted_=function(l){null===this.repo_&&ke("Cannot call "+l+" on a deleted database.")},g.prototype.goOffline=function(){Y.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},g.prototype.goOnline=function(){Y.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},g.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(l){return{".sv":{increment:l}}}},g}(),ur=function(){function g(l){this.database=l}return g.prototype.delete=function(){return T.__awaiter(this,void 0,void 0,function(){return T.__generator(this,function(l){return this.database.checkDeleted_("delete"),Wt.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},g}(),U=Object.freeze({__proto__:null,forceLongPolling:function(){Zi.forceDisallow(),Io.forceAllow()},forceWebSockets:function(){Io.forceDisallow()},isWebSocketsAvailable:function(){return Zi.isAvailable()},setSecurityDebugCallback:function(g,l){g.repo.persistentConnection_.securityDebugCallback_=l},stats:function(g,l){g.repo.stats(l)},statsIncrementCounter:function(g,l){g.repo.statsIncrementCounter(l)},dataUpdateCount:function(g){return g.repo.dataUpdateCount},interceptServerData:function(g,l){return g.repo.interceptServerData_(l)}}),me=li;li.prototype.simpleListen=function(g,l){this.sendRequest("q",{p:g},l)},li.prototype.echo=function(g,l){this.sendRequest("echo",{d:g},l)};var yr=Object.freeze({__proto__:null,DataConnection:me,RealTimeConnection:oo,hijackHash:function(g){var l=li.prototype.put;return li.prototype.put=function(d,b,A,V){void 0!==V&&(V=g()),l.call(this,d,b,A,V)},function(){li.prototype.put=l}},ConnectionTarget:hn,queryIdentifier:function(g){return g.queryIdentifier()},forceRestClient:function(g){Wt.getInstance().forceRestClient(g)}}),Wr="@firebase/database",Fr="0.6.13",oi=rn.ServerValue;function jr(g){!function Yo(g){co=g}(g.SDK_VERSION);var l=g.INTERNAL.registerComponent(new z.Component("database",function(d,b){var A=d.getProvider("app").getImmediate(),V=d.getProvider("auth-internal");return Wt.getInstance().databaseFromApp(A,V,b)},"PUBLIC").setServiceProps({Reference:xo,Query:eo,Database:rn,DataSnapshot:Ri,enableLogging:vt,INTERNAL:U,ServerValue:oi,TEST_ACCESS:yr}).setMultipleInstances(!0));g.registerVersion(Wr,Fr),Y.isNodeSdk()&&(Nn.exports=l)}jr(ee.default),nt.DataSnapshot=Ri,nt.Database=rn,nt.OnDisconnect=tt,nt.Query=eo,nt.Reference=xo,nt.ServerValue=oi,nt.enableLogging=vt,nt.registerDatabase=jr},70199:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(20617),T=F(39278),Y=F(64003),Pe=F(1270),z=F(70670),Xe=F(46355),Ge=function ee(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}(T),oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=function(s){function n(o,c){var p=this;return(p=s.call(this,c)||this).code=o,p.message=c,p.name="FirebaseError",p.toString=function(){return p.name+": [code="+p.code+"]: "+p.message},p}return y.__extends(n,s),n}(Error),Me=new Y.Logger("@firebase/firestore");function Te(){return Me.logLevel}function De(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Me.logLevel<=Y.LogLevel.DEBUG){var c=n.map(zt);Me.debug.apply(Me,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function _t(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Me.logLevel<=Y.LogLevel.ERROR){var c=n.map(zt);Me.error.apply(Me,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function Zt(s){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(Me.logLevel<=Y.LogLevel.WARN){var c=n.map(zt);Me.warn.apply(Me,y.__spreadArrays(["Firestore (7.23.0): "+s],c))}}function zt(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function we(s){void 0===s&&(s="Unexpected state");var n="FIRESTORE (7.23.0) INTERNAL ASSERTION FAILED: "+s;throw _t(n),new Error(n)}function Rt(s,n){s||we()}function vt(s,n){return s}function en(s){var n=0;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&n++;return n}function Ot(s,n){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&n(o,s[o])}function je(s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}var ke=function(){function s(n,o,c){void 0===o?o=0:o>n.length&&we(),void 0===c?c=n.length-o:c>n.length-o&&we(),this.segments=n,this.offset=o,this.t=c}return Object.defineProperty(s.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return 0===s.i(this,n)},s.prototype.child=function(n){var o=this.segments.slice(this.offset,this.limit());return n instanceof s?n.forEach(function(c){o.push(c)}):o.push(n),this.o(o)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.u=function(n){return this.o(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)},s.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},s.prototype.l=function(){return this.segments[this.offset]},s.prototype._=function(){return this.get(this.length-1)},s.prototype.get=function(n){return this.segments[this.offset+n]},s.prototype.m=function(){return 0===this.length},s.prototype.T=function(n){if(n.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},s.prototype.I=function(n){if(this.length+1!==n.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},s.prototype.forEach=function(n){for(var o=this.offset,c=this.limit();o<c;o++)n(this.segments[o])},s.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},s.i=function(n,o){for(var c=Math.min(n.length,o.length),p=0;p<c;p++){var w=n.get(p),x=o.get(p);if(w<x)return-1;if(w>x)return 1}return n.length<o.length?-1:n.length>o.length?1:0},s}(),et=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.o=function(o,c,p){return new n(o,c,p)},n.prototype.R=function(){return this.A().join("/")},n.prototype.toString=function(){return this.R()},n.P=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];for(var p=[],w=0,x=o;w<x.length;w++){var K=x[w];if(K.indexOf("//")>=0)throw new $(oe.INVALID_ARGUMENT,"Invalid segment ("+K+"). Paths must not contain // in them.");p.push.apply(p,K.split("/").filter(function(de){return de.length>0}))}return new n(p)},n.g=function(){return new n([])},n}(ke),f=/^[_a-zA-Z][_a-zA-Z0-9]*$/,k=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.o=function(o,c,p){return new n(o,c,p)},n.V=function(o){return f.test(o)},n.prototype.R=function(){return this.A().map(function(o){return o=o.replace("\\","\\\\").replace("`","\\`"),n.V(o)||(o="`"+o+"`"),o}).join(".")},n.prototype.toString=function(){return this.R()},n.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},n.v=function(){return new n(["__name__"])},n.S=function(o){for(var c=[],p="",w=0,x=function(){if(0===p.length)throw new $(oe.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(p),p=""},K=!1;w<o.length;){var de=o[w];if("\\"===de){if(w+1===o.length)throw new $(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var Ye=o[w+1];if("\\"!==Ye&&"."!==Ye&&"`"!==Ye)throw new $(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);p+=Ye,w+=2}else"`"===de?(K=!K,w++):"."!==de||K?(p+=de,w++):(x(),w++)}if(x(),K)throw new $(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new n(c)},n.g=function(){return new n([])},n}(ke),D=function(){function s(n){this.path=n}return s.D=function(n){return new s(et.P(n))},s.C=function(n){return new s(et.P(n).u(5))},s.prototype.N=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},s.prototype.isEqual=function(n){return null!==n&&0===et.i(this.path,n.path)},s.prototype.toString=function(){return this.path.toString()},s.i=function(n,o){return et.i(n.path,o.path)},s.F=function(n){return n.length%2==0},s.$=function(n){return new s(new et(n.slice()))},s}();function G(s,n){if(0!==n.length)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() does not support arguments, but was called with "+sn(n.length,"argument")+".")}function J(s,n,o){if(n.length!==o)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires "+sn(o,"argument")+", but was called with "+sn(n.length,"argument")+".")}function N(s,n,o){if(n.length<o)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires at least "+sn(o,"argument")+", but was called with "+sn(n.length,"argument")+".")}function ge(s,n,o,c){if(n.length<o||n.length>c)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires between "+o+" and "+c+" arguments, but was called with "+sn(n.length,"argument")+".")}function Ke(s,n,o,c){ce(s,n,bt(o)+" argument",c)}function Tn(s,n,o,c){void 0!==c&&Ke(s,n,o,c)}function He(s,n,o,c){ce(s,n,o+" option",c)}function ut(s,n,o,c){void 0!==c&&He(s,n,o,c)}function at(s,n,o,c,p){void 0!==c&&function(w,x,K,de,Ye){for(var mt=[],Kt=0,$t=Ye;Kt<$t.length;Kt++){var un=$t[Kt];if(un===de)return;mt.push(Le(un))}var Dn=Le(de);throw new $(oe.INVALID_ARGUMENT,"Invalid value "+Dn+" provided to function "+w+'() for option "'+K+'". Acceptable values: '+mt.join(", "))}(s,0,o,c,p)}function te(s,n,o,c){if(!n.some(function(p){return p===c}))throw new $(oe.INVALID_ARGUMENT,"Invalid value "+Le(c)+" provided to function "+s+"() for its "+bt(o)+" argument. Acceptable values: "+n.join(", "));return c}function ce(s,n,o,c){if(!("object"===n?ie(c):"non-empty string"===n?"string"==typeof c&&""!==c:typeof c===n)){var p=Le(c);throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires its "+o+" to be of type "+n+", but it was: "+p)}}function ie(s){return"object"==typeof s&&null!==s&&(Object.getPrototypeOf(s)===Object.prototype||null===Object.getPrototypeOf(s))}function Le(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var n=function(o){if(o.constructor){var c=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(c&&c.length>1)return c[1]}return null}(s);return n?"a custom "+n+" object":"an object"}return"function"==typeof s?"a function":we()}function Ue(s,n,o){if(void 0===o)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires a valid "+bt(n)+" argument, but it was undefined.")}function ht(s,n,o){Ot(n,function(c,p){if(o.indexOf(c)<0)throw new $(oe.INVALID_ARGUMENT,"Unknown option '"+c+"' passed to function "+s+"(). Available options: "+o.join(", "))})}function Et(s,n,o,c){var p=Le(c);return new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires its "+bt(o)+" argument to be a "+n+", but it was: "+p)}function mn(s,n,o){if(o<=0)throw new $(oe.INVALID_ARGUMENT,"Function "+s+"() requires its "+bt(n)+" argument to be a positive number, but it was: "+o+".")}function bt(s){switch(s){case 1:return"first";case 2:return"second";case 3:return"third";default:return s+"th"}}function sn(s,n){return s+" "+n+(1===s?"":"s")}function ft(s){var n=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(s);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(var c=0;c<s;c++)o[c]=Math.floor(256*Math.random());return o}var Ut=function(){function s(){}return s.k=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length,c="";c.length<20;)for(var p=ft(40),w=0;w<p.length;++w)c.length<20&&p[w]<o&&(c+=n.charAt(p[w]%n.length));return c},s}();function Xt(s,n){return s<n?-1:s>n?1:0}function dn(s,n,o){return s.length===n.length&&s.every(function(c,p){return o(c,n[p])})}function Bn(s){return s+"\0"}var xn=function(){function s(n){this.M=n}return s.fromBase64String=function(n){return new s(atob(n))},s.fromUint8Array=function(n){return new s(function(o){for(var c="",p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(n))},s.prototype.toBase64=function(){return btoa(this.M)},s.prototype.toUint8Array=function(){return function(n){for(var o=new Uint8Array(n.length),c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}(this.M)},s.prototype.O=function(){return 2*this.M.length},s.prototype.L=function(n){return Xt(this.M,n.M)},s.prototype.isEqual=function(n){return this.M===n.M},s}();xn.B=new xn("");var $n=function(){function s(n){this.q=n}return s.fromBase64String=function(n){try{return new s(xn.fromBase64String(n))}catch(o){throw new $(oe.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+o)}},s.fromUint8Array=function(n){return new s(xn.fromUint8Array(n))},s.prototype.toBase64=function(){return this.q.toBase64()},s.prototype.toUint8Array=function(){return this.q.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(n){return this.q.isEqual(n.q)},s}();function zn(){if(typeof Uint8Array>"u")throw new $(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function On(){if(typeof atob>"u")throw new $(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var br=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.fromBase64String=function(o){J("Blob.fromBase64String",arguments,1),Ke("Blob.fromBase64String","string",1,o),On();try{return new n(xn.fromBase64String(o))}catch(c){throw new $(oe.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+c)}},n.fromUint8Array=function(o){if(J("Blob.fromUint8Array",arguments,1),zn(),!(o instanceof Uint8Array))throw Et("Blob.fromUint8Array","Uint8Array",1,o);return new n(xn.fromUint8Array(o))},n.prototype.toBase64=function(){return J("Blob.toBase64",arguments,0),On(),s.prototype.toBase64.call(this)},n.prototype.toUint8Array=function(){return J("Blob.toUint8Array",arguments,0),zn(),s.prototype.toUint8Array.call(this)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}($n),hn=function(s,n,o,c,p){this.U=s,this.persistenceKey=n,this.host=o,this.ssl=c,this.forceLongPolling=p},Fe=function(){function s(n,o){this.projectId=n,this.database=o||"(default)"}return Object.defineProperty(s.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return n instanceof s&&n.projectId===this.projectId&&n.database===this.database},s.prototype.L=function(n){return Xt(this.projectId,n.projectId)||Xt(this.database,n.database)},s}(),dt=function(){function s(n,o){this.j=n,this.K=o,this.G={}}return s.prototype.get=function(n){var o=this.j(n),c=this.G[o];if(void 0!==c)for(var p=0,w=c;p<w.length;p++){var x=w[p],de=x[1];if(this.K(x[0],n))return de}},s.prototype.has=function(n){return void 0!==this.get(n)},s.prototype.set=function(n,o){var c=this.j(n),p=this.G[c];if(void 0!==p){for(var w=0;w<p.length;w++)if(this.K(p[w][0],n))return void(p[w]=[n,o]);p.push([n,o])}else this.G[c]=[[n,o]]},s.prototype.delete=function(n){var o=this.j(n),c=this.G[o];if(void 0===c)return!1;for(var p=0;p<c.length;p++)if(this.K(c[p][0],n))return 1===c.length?delete this.G[o]:c.splice(p,1),!0;return!1},s.prototype.forEach=function(n){Ot(this.G,function(o,c){for(var p=0,w=c;p<w.length;p++){var x=w[p];n(x[0],x[1])}})},s.prototype.m=function(){return je(this.G)},s}(),Yt=function(){function s(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new $(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new $(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new $(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new $(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(n){return s.fromMillis(n.getTime())},s.fromMillis=function(n){var o=Math.floor(n/1e3);return new s(o,1e6*(n-1e3*o))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype.H=function(n){return this.seconds===n.seconds?Xt(this.nanoseconds,n.nanoseconds):Xt(this.seconds,n.seconds)},s.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),Qt=function(){function s(n){this.timestamp=n}return s.Y=function(n){return new s(n)},s.min=function(){return new s(new Yt(0,0))},s.prototype.L=function(n){return this.timestamp.H(n.timestamp)},s.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},s.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.X=function(){return this.timestamp},s}();function gn(s){return null==s}function ot(s){return 0===s&&1/s==-1/0}function Se(s){return"number"==typeof s&&Number.isInteger(s)&&!ot(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var Mt=function(s,n,o,c,p,w,x){void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===x&&(x=null),this.path=s,this.collectionGroup=n,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=w,this.endAt=x,this.Z=null};function Nt(s,n,o,c,p,w,x){return void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w=null),void 0===x&&(x=null),new Mt(s,n,o,c,p,w,x)}function ct(s){var n=vt(s);if(null===n.Z){var o=n.path.R();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(function(c){return(p=c).field.R()+p.op.toString()+hr(p.value);var p}).join(","),o+="|ob:",o+=n.orderBy.map(function(c){return(p=c).field.R()+p.dir;var p}).join(","),gn(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=ho(n.startAt)),n.endAt&&(o+="|ub:",o+=ho(n.endAt)),n.Z=o}return n.Z}function wn(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(var o=0;o<s.orderBy.length;o++)if(!Ws(s.orderBy[o],n.orderBy[o]))return!1;if(s.filters.length!==n.filters.length)return!1;for(var c=0;c<s.filters.length;c++)if((p=s.filters[c]).op!==(w=n.filters[c]).op||!p.field.isEqual(w.field)||!kt(p.value,w.value))return!1;var p,w;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!No(s.startAt,n.startAt)&&No(s.endAt,n.endAt)}function An(s){return D.F(s.path)&&null===s.collectionGroup&&0===s.filters.length}var Hn,Rn,kn=function(){function s(n,o,c,p,w,x,K){void 0===w&&(w=Qt.min()),void 0===x&&(x=Qt.min()),void 0===K&&(K=xn.B),this.target=n,this.targetId=o,this.tt=c,this.sequenceNumber=p,this.et=w,this.lastLimboFreeSnapshotVersion=x,this.resumeToken=K}return s.prototype.nt=function(n){return new s(this.target,this.targetId,this.tt,n,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.st=function(n,o){return new s(this.target,this.targetId,this.tt,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)},s.prototype.it=function(n){return new s(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,n,this.resumeToken)},s}(),Jn=function(s){this.count=s};function Ir(s){switch(s){case oe.OK:return we();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return we()}}function cn(s){if(void 0===s)return _t("GRPC error has no .code"),oe.UNKNOWN;switch(s){case Hn.OK:return oe.OK;case Hn.CANCELLED:return oe.CANCELLED;case Hn.UNKNOWN:return oe.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return oe.INTERNAL;case Hn.UNAVAILABLE:return oe.UNAVAILABLE;case Hn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Hn.NOT_FOUND:return oe.NOT_FOUND;case Hn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Hn.ABORTED:return oe.ABORTED;case Hn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Hn.DATA_LOSS:return oe.DATA_LOSS;default:return we()}}(Rn=Hn||(Hn={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";var Pt=function(){function s(n,o){this.i=n,this.root=o||Ce.EMPTY}return s.prototype.rt=function(n,o){return new s(this.i,this.root.rt(n,o,this.i).copy(null,null,Ce.ot,null,null))},s.prototype.remove=function(n){return new s(this.i,this.root.remove(n,this.i).copy(null,null,Ce.ot,null,null))},s.prototype.get=function(n){for(var o=this.root;!o.m();){var c=this.i(n,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null},s.prototype.indexOf=function(n){for(var o=0,c=this.root;!c.m();){var p=this.i(n,c.key);if(0===p)return o+c.left.size;p<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1},s.prototype.m=function(){return this.root.m()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.at=function(){return this.root.at()},s.prototype.ct=function(){return this.root.ct()},s.prototype.ut=function(n){return this.root.ut(n)},s.prototype.forEach=function(n){this.ut(function(o,c){return n(o,c),!1})},s.prototype.toString=function(){var n=[];return this.ut(function(o,c){return n.push(o+":"+c),!1}),"{"+n.join(", ")+"}"},s.prototype.ht=function(n){return this.root.ht(n)},s.prototype.lt=function(){return new Vt(this.root,null,this.i,!1)},s.prototype._t=function(n){return new Vt(this.root,n,this.i,!1)},s.prototype.ft=function(){return new Vt(this.root,null,this.i,!0)},s.prototype.dt=function(n){return new Vt(this.root,n,this.i,!0)},s}(),Vt=function(){function s(n,o,c,p){this.wt=p,this.Tt=[];for(var w=1;!n.m();)if(w=o?c(n.key,o):1,p&&(w*=-1),w<0)n=this.wt?n.left:n.right;else{if(0===w){this.Tt.push(n);break}this.Tt.push(n),n=this.wt?n.right:n.left}}return s.prototype.Et=function(){var n=this.Tt.pop(),o={key:n.key,value:n.value};if(this.wt)for(n=n.left;!n.m();)this.Tt.push(n),n=n.right;else for(n=n.right;!n.m();)this.Tt.push(n),n=n.left;return o},s.prototype.It=function(){return this.Tt.length>0},s.prototype.At=function(){if(0===this.Tt.length)return null;var n=this.Tt[this.Tt.length-1];return{key:n.key,value:n.value}},s}(),Ce=function(){function s(n,o,c,p,w){this.key=n,this.value=o,this.color=c??s.RED,this.left=p??s.EMPTY,this.right=w??s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(n,o,c,p,w){return new s(n??this.key,o??this.value,c??this.color,p??this.left,w??this.right)},s.prototype.m=function(){return!1},s.prototype.ut=function(n){return this.left.ut(n)||n(this.key,this.value)||this.right.ut(n)},s.prototype.ht=function(n){return this.right.ht(n)||n(this.key,this.value)||this.left.ht(n)},s.prototype.min=function(){return this.left.m()?this:this.left.min()},s.prototype.at=function(){return this.min().key},s.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},s.prototype.rt=function(n,o,c){var p=this,w=c(n,p.key);return(p=w<0?p.copy(null,null,null,p.left.rt(n,o,c),null):0===w?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.rt(n,o,c))).Rt()},s.prototype.Pt=function(){if(this.left.m())return s.EMPTY;var n=this;return n.left.gt()||n.left.left.gt()||(n=n.yt()),(n=n.copy(null,null,null,n.left.Pt(),null)).Rt()},s.prototype.remove=function(n,o){var c,p=this;if(o(n,p.key)<0)p.left.m()||p.left.gt()||p.left.left.gt()||(p=p.yt()),p=p.copy(null,null,null,p.left.remove(n,o),null);else{if(p.left.gt()&&(p=p.Vt()),p.right.m()||p.right.gt()||p.right.left.gt()||(p=p.bt()),0===o(n,p.key)){if(p.right.m())return s.EMPTY;c=p.right.min(),p=p.copy(c.key,c.value,null,null,p.right.Pt())}p=p.copy(null,null,null,null,p.right.remove(n,o))}return p.Rt()},s.prototype.gt=function(){return this.color},s.prototype.Rt=function(){var n=this;return n.right.gt()&&!n.left.gt()&&(n=n.vt()),n.left.gt()&&n.left.left.gt()&&(n=n.Vt()),n.left.gt()&&n.right.gt()&&(n=n.St()),n},s.prototype.yt=function(){var n=this.St();return n.right.left.gt()&&(n=(n=(n=n.copy(null,null,null,null,n.right.Vt())).vt()).St()),n},s.prototype.bt=function(){var n=this.St();return n.left.left.gt()&&(n=(n=n.Vt()).St()),n},s.prototype.vt=function(){var n=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},s.prototype.Vt=function(){var n=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},s.prototype.St=function(){var n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)},s.prototype.Dt=function(){var n=this.Ct();return Math.pow(2,n)<=this.size+1},s.prototype.Ct=function(){if(this.gt()&&this.left.gt()||this.right.gt())throw we();var n=this.left.Ct();if(n!==this.right.Ct())throw we();return n+(this.gt()?0:1)},s}();Ce.EMPTY=null,Ce.RED=!0,Ce.ot=!1,Ce.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),s.prototype.copy=function(n,o,c,p,w){return this},s.prototype.rt=function(n,o,c){return new Ce(n,o)},s.prototype.remove=function(n,o){return this},s.prototype.m=function(){return!0},s.prototype.ut=function(n){return!1},s.prototype.ht=function(n){return!1},s.prototype.at=function(){return null},s.prototype.ct=function(){return null},s.prototype.gt=function(){return!1},s.prototype.Dt=function(){return!0},s.prototype.Ct=function(){return 0},s}());var ue=function(){function s(n){this.i=n,this.data=new Pt(this.i)}return s.prototype.has=function(n){return null!==this.data.get(n)},s.prototype.first=function(){return this.data.at()},s.prototype.last=function(){return this.data.ct()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(n){return this.data.indexOf(n)},s.prototype.forEach=function(n){this.data.ut(function(o,c){return n(o),!1})},s.prototype.Nt=function(n,o){for(var c=this.data._t(n[0]);c.It();){var p=c.Et();if(this.i(p.key,n[1])>=0)return;o(p.key)}},s.prototype.Ft=function(n,o){var c;for(c=void 0!==o?this.data._t(o):this.data.lt();c.It();)if(!n(c.Et().key))return},s.prototype.$t=function(n){var o=this.data._t(n);return o.It()?o.Et().key:null},s.prototype.lt=function(){return new le(this.data.lt())},s.prototype._t=function(n){return new le(this.data._t(n))},s.prototype.add=function(n){return this.copy(this.data.remove(n).rt(n,!0))},s.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},s.prototype.m=function(){return this.data.m()},s.prototype.xt=function(n){var o=this;return o.size<n.size&&(o=n,n=this),n.forEach(function(c){o=o.add(c)}),o},s.prototype.isEqual=function(n){if(!(n instanceof s)||this.size!==n.size)return!1;for(var o=this.data.lt(),c=n.data.lt();o.It();){var p=o.Et().key,w=c.Et().key;if(0!==this.i(p,w))return!1}return!0},s.prototype.A=function(){var n=[];return this.forEach(function(o){n.push(o)}),n},s.prototype.toString=function(){var n=[];return this.forEach(function(o){return n.push(o)}),"SortedSet("+n.toString()+")"},s.prototype.copy=function(n){var o=new s(this.i);return o.data=n,o},s}(),le=function(){function s(n){this.kt=n}return s.prototype.Et=function(){return this.kt.Et().key},s.prototype.It=function(){return this.kt.It()},s}(),tt=new Pt(D.i);function St(){return tt}function vn(){return St()}var Oe=new Pt(D.i);function It(){return Oe}var Bt=new Pt(D.i),ln=new ue(D.i);function qt(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];for(var o=ln,c=0,p=s;c<p.length;c++)o=o.add(p[c]);return o}var st=new ue(Xt);function rt(){return st}var Ie=function(){function s(n){this.i=n?function(o,c){return n(o,c)||D.i(o.key,c.key)}:function(o,c){return D.i(o.key,c.key)},this.Mt=It(),this.Ot=new Pt(this.i)}return s.Lt=function(n){return new s(n.i)},s.prototype.has=function(n){return null!=this.Mt.get(n)},s.prototype.get=function(n){return this.Mt.get(n)},s.prototype.first=function(){return this.Ot.at()},s.prototype.last=function(){return this.Ot.ct()},s.prototype.m=function(){return this.Ot.m()},s.prototype.indexOf=function(n){var o=this.Mt.get(n);return o?this.Ot.indexOf(o):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(n){this.Ot.ut(function(o,c){return n(o),!1})},s.prototype.add=function(n){var o=this.delete(n.key);return o.copy(o.Mt.rt(n.key,n),o.Ot.rt(n,null))},s.prototype.delete=function(n){var o=this.get(n);return o?this.copy(this.Mt.remove(n),this.Ot.remove(o)):this},s.prototype.isEqual=function(n){if(!(n instanceof s)||this.size!==n.size)return!1;for(var o=this.Ot.lt(),c=n.Ot.lt();o.It();){var p=o.Et().key,w=c.Et().key;if(!p.isEqual(w))return!1}return!0},s.prototype.toString=function(){var n=[];return this.forEach(function(o){n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},s.prototype.copy=function(n,o){var c=new s;return c.i=this.i,c.Mt=n,c.Ot=o,c},s}(),Dt=function(){function s(){this.Bt=new Pt(D.i)}return s.prototype.track=function(n){var o=n.doc.key,c=this.Bt.get(o);c?0!==n.type&&3===c.type?this.Bt=this.Bt.rt(o,n):3===n.type&&1!==c.type?this.Bt=this.Bt.rt(o,{type:c.type,doc:n.doc}):2===n.type&&2===c.type?this.Bt=this.Bt.rt(o,{type:2,doc:n.doc}):2===n.type&&0===c.type?this.Bt=this.Bt.rt(o,{type:0,doc:n.doc}):1===n.type&&0===c.type?this.Bt=this.Bt.remove(o):1===n.type&&2===c.type?this.Bt=this.Bt.rt(o,{type:1,doc:c.doc}):0===n.type&&1===c.type?this.Bt=this.Bt.rt(o,{type:2,doc:n.doc}):we():this.Bt=this.Bt.rt(o,n)},s.prototype.qt=function(){var n=[];return this.Bt.ut(function(o,c){n.push(c)}),n},s}(),Ft=function(){function s(n,o,c,p,w,x,K,de){this.query=n,this.docs=o,this.Ut=c,this.docChanges=p,this.Qt=w,this.fromCache=x,this.Wt=K,this.jt=de}return s.Kt=function(n,o,c,p){var w=[];return o.forEach(function(x){w.push({type:0,doc:x})}),new s(n,o,Ie.Lt(o),w,c,p,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.Wt===n.Wt&&this.Qt.isEqual(n.Qt)&&Br(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.Ut.isEqual(n.Ut)))return!1;var o=this.docChanges,c=n.docChanges;if(o.length!==c.length)return!1;for(var p=0;p<o.length;p++)if(o[p].type!==c[p].type||!o[p].doc.isEqual(c[p].doc))return!1;return!0},s}(),pn=function(){function s(n,o,c,p,w){this.et=n,this.Gt=o,this.zt=c,this.Ht=p,this.Yt=w}return s.Jt=function(n,o){var c=new Map;return c.set(n,Qn.Xt(n,o)),new s(Qt.min(),c,rt(),St(),qt())},s}(),Qn=function(){function s(n,o,c,p,w){this.resumeToken=n,this.Zt=o,this.te=c,this.ee=p,this.ne=w}return s.Xt=function(n,o){return new s(xn.B,o,qt(),qt(),qt())},s}(),Cn=function(s,n,o,c){this.se=s,this.removedTargetIds=n,this.key=o,this.ie=c},lr=function(s,n){this.targetId=s,this.re=n},ei=function(s,n,o,c){void 0===o&&(o=xn.B),void 0===c&&(c=null),this.state=s,this.targetIds=n,this.resumeToken=o,this.cause=c},it=function(){function s(){this.oe=0,this.ae=Gt(),this.ce=xn.B,this.ue=!1,this.he=!0}return Object.defineProperty(s.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),s.prototype.fe=function(n){n.O()>0&&(this.he=!0,this.ce=n)},s.prototype.de=function(){var n=qt(),o=qt(),c=qt();return this.ae.forEach(function(p,w){switch(w){case 0:n=n.add(p);break;case 2:o=o.add(p);break;case 1:c=c.add(p);break;default:we()}}),new Qn(this.ce,this.ue,n,o,c)},s.prototype.we=function(){this.he=!1,this.ae=Gt()},s.prototype.me=function(n,o){this.he=!0,this.ae=this.ae.rt(n,o)},s.prototype.Te=function(n){this.he=!0,this.ae=this.ae.remove(n)},s.prototype.Ee=function(){this.oe+=1},s.prototype.Ie=function(){this.oe-=1},s.prototype.Ae=function(){this.he=!0,this.ue=!0},s}(),pt=function(){function s(n){this.Re=n,this.Pe=new Map,this.ge=St(),this.ye=Tt(),this.Ve=new ue(Xt)}return s.prototype.pe=function(n){for(var o=0,c=n.se;o<c.length;o++){var p=c[o];n.ie instanceof Qr?this.be(p,n.ie):n.ie instanceof ni&&this.ve(p,n.key,n.ie)}for(var w=0,x=n.removedTargetIds;w<x.length;w++)this.ve(x[w],n.key,n.ie)},s.prototype.Se=function(n){var o=this;this.De(n,function(c){var p=o.Ce(c);switch(n.state){case 0:o.Ne(c)&&p.fe(n.resumeToken);break;case 1:p.Ie(),p.le||p.we(),p.fe(n.resumeToken);break;case 2:p.Ie(),p.le||o.removeTarget(c);break;case 3:o.Ne(c)&&(p.Ae(),p.fe(n.resumeToken));break;case 4:o.Ne(c)&&(o.Fe(c),p.fe(n.resumeToken));break;default:we()}})},s.prototype.De=function(n,o){var c=this;n.targetIds.length>0?n.targetIds.forEach(o):this.Pe.forEach(function(p,w){c.Ne(w)&&o(w)})},s.prototype.$e=function(n){var o=n.targetId,c=n.re.count,p=this.xe(o);if(p){var w=p.target;if(An(w))if(0===c){var x=new D(w.path);this.ve(o,x,new ni(x,Qt.min()))}else Rt(1===c);else this.ke(o)!==c&&(this.Fe(o),this.Ve=this.Ve.add(o))}},s.prototype.Me=function(n){var o=this,c=new Map;this.Pe.forEach(function(x,K){var de=o.xe(K);if(de){if(x.Zt&&An(de.target)){var Ye=new D(de.target.path);null!==o.ge.get(Ye)||o.Oe(K,Ye)||o.ve(K,Ye,new ni(Ye,n))}x._e&&(c.set(K,x.de()),x.we())}});var p=qt();this.ye.forEach(function(x,K){var de=!0;K.Ft(function(Ye){var mt=o.xe(Ye);return!mt||2===mt.tt||(de=!1,!1)}),de&&(p=p.add(x))});var w=new pn(n,c,this.Ve,this.ge,p);return this.ge=St(),this.ye=Tt(),this.Ve=new ue(Xt),w},s.prototype.be=function(n,o){if(this.Ne(n)){var c=this.Oe(n,o.key)?2:0;this.Ce(n).me(o.key,c),this.ge=this.ge.rt(o.key,o),this.ye=this.ye.rt(o.key,this.Le(o.key).add(n))}},s.prototype.ve=function(n,o,c){if(this.Ne(n)){var p=this.Ce(n);this.Oe(n,o)?p.me(o,1):p.Te(o),this.ye=this.ye.rt(o,this.Le(o).delete(n)),c&&(this.ge=this.ge.rt(o,c))}},s.prototype.removeTarget=function(n){this.Pe.delete(n)},s.prototype.ke=function(n){var o=this.Ce(n).de();return this.Re.Be(n).size+o.te.size-o.ne.size},s.prototype.Ee=function(n){this.Ce(n).Ee()},s.prototype.Ce=function(n){var o=this.Pe.get(n);return o||(o=new it,this.Pe.set(n,o)),o},s.prototype.Le=function(n){var o=this.ye.get(n);return o||(o=new ue(Xt),this.ye=this.ye.rt(n,o)),o},s.prototype.Ne=function(n){var o=null!==this.xe(n);return o||De("WatchChangeAggregator","Detected inactive target",n),o},s.prototype.xe=function(n){var o=this.Pe.get(n);return o&&o.le?null:this.Re.qe(n)},s.prototype.Fe=function(n){var o=this;this.Pe.set(n,new it),this.Re.Be(n).forEach(function(c){o.ve(n,c,null)})},s.prototype.Oe=function(n,o){return this.Re.Be(n).has(o)},s}();function Tt(){return new Pt(D.i)}function Gt(){return new Pt(D.i)}function Re(s){var n,o;return"server_timestamp"===(null===(o=((null===(n=s?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function q(s){var n=s.mapValue.fields.__previous_value__;return Re(n)?q(n):n}function _e(s){var n=fn(s.mapValue.fields.__local_write_time__.timestampValue);return new Yt(n.seconds,n.nanos)}var qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gt(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Re(s)?4:10:we()}function kt(s,n){var p,o=gt(s);if(o!==gt(n))return!1;switch(o){case 0:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return _e(s).isEqual(_e(n));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;var w=fn(c.timestampValue),x=fn(p.timestampValue);return w.seconds===x.seconds&&w.nanos===x.nanos}(s,n);case 5:return s.stringValue===n.stringValue;case 6:return p=n,mr(s.bytesValue).isEqual(mr(p.bytesValue));case 7:return s.referenceValue===n.referenceValue;case 8:return function(c,p){return sr(c.geoPointValue.latitude)===sr(p.geoPointValue.latitude)&&sr(c.geoPointValue.longitude)===sr(p.geoPointValue.longitude)}(s,n);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return sr(c.integerValue)===sr(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){var w=sr(c.doubleValue),x=sr(p.doubleValue);return w===x?ot(w)===ot(x):isNaN(w)&&isNaN(x)}return!1}(s,n);case 9:return dn(s.arrayValue.values||[],n.arrayValue.values||[],kt);case 10:return function(c,p){var w=c.mapValue.fields||{},x=p.mapValue.fields||{};if(en(w)!==en(x))return!1;for(var K in w)if(w.hasOwnProperty(K)&&(void 0===x[K]||!kt(w[K],x[K])))return!1;return!0}(s,n);default:return we()}}function Lt(s,n){return void 0!==(s.values||[]).find(function(o){return kt(o,n)})}function Mn(s,n){var p,w,x,K,o=gt(s),c=gt(n);if(o!==c)return Xt(o,c);switch(o){case 0:return 0;case 1:return Xt(s.booleanValue,n.booleanValue);case 2:return w=n,(x=sr((p=s).integerValue||p.doubleValue))<(K=sr(w.integerValue||w.doubleValue))?-1:x>K?1:x===K?0:isNaN(x)?isNaN(K)?0:-1:1;case 3:return Wn(s.timestampValue,n.timestampValue);case 4:return Wn(_e(s),_e(n));case 5:return Xt(s.stringValue,n.stringValue);case 6:return function(p,w){var x=mr(p),K=mr(w);return x.L(K)}(s.bytesValue,n.bytesValue);case 7:return function(p,w){for(var x=p.split("/"),K=w.split("/"),de=0;de<x.length&&de<K.length;de++){var Ye=Xt(x[de],K[de]);if(0!==Ye)return Ye}return Xt(x.length,K.length)}(s.referenceValue,n.referenceValue);case 8:return function(p,w){var x=Xt(sr(p.latitude),sr(w.latitude));return 0!==x?x:Xt(sr(p.longitude),sr(w.longitude))}(s.geoPointValue,n.geoPointValue);case 9:return function(p,w){for(var x=p.values||[],K=w.values||[],de=0;de<x.length&&de<K.length;++de){var Ye=Mn(x[de],K[de]);if(Ye)return Ye}return Xt(x.length,K.length)}(s.arrayValue,n.arrayValue);case 10:return function(p,w){var x=p.fields||{},K=Object.keys(x),de=w.fields||{},Ye=Object.keys(de);K.sort(),Ye.sort();for(var mt=0;mt<K.length&&mt<Ye.length;++mt){var Kt=Xt(K[mt],Ye[mt]);if(0!==Kt)return Kt;var $t=Mn(x[K[mt]],de[Ye[mt]]);if(0!==$t)return $t}return Xt(K.length,Ye.length)}(s.mapValue,n.mapValue);default:throw we()}}function Wn(s,n){if("string"==typeof s&&"string"==typeof n&&s.length===n.length)return Xt(s,n);var o=fn(s),c=fn(n),p=Xt(o.seconds,c.seconds);return 0!==p?p:Xt(o.nanos,c.nanos)}function hr(s){return tr(s)}function tr(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(p=fn(s.timestampValue)).seconds+","+p.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?mr(s.bytesValue).toBase64():"referenceValue"in s?D.C(s.referenceValue).toString():"geoPointValue"in s?"geo("+(n=s.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in s?function(c){for(var p="[",w=!0,x=0,K=c.values||[];x<K.length;x++)w?w=!1:p+=",",p+=tr(K[x]);return p+"]"}(s.arrayValue):"mapValue"in s?function(c){for(var p="{",w=!0,x=0,K=Object.keys(c.fields||{}).sort();x<K.length;x++){var de=K[x];w?w=!1:p+=",",p+=de+":"+tr(c.fields[de])}return p+"}"}(s.mapValue):we();var p,n}function fn(s){if(Rt(!!s),"string"==typeof s){var n=0,o=qe.exec(s);if(Rt(!!o),o[1]){var c=o[1];c=(c+"000000000").substr(0,9),n=Number(c)}var p=new Date(s);return{seconds:Math.floor(p.getTime()/1e3),nanos:n}}return{seconds:sr(s.seconds),nanos:sr(s.nanos)}}function sr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function mr(s){return"string"==typeof s?xn.fromBase64String(s):xn.fromUint8Array(s)}function gi(s,n){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+n.path.R()}}function Er(s){return!!s&&"integerValue"in s}function vi(s){return!!s&&"arrayValue"in s}function ai(s){return!!s&&"nullValue"in s}function Dr(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ri(s){return!!s&&"mapValue"in s}var Ni={asc:"ASCENDING",desc:"DESCENDING"},Mr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wi=function(s,n){this.U=s,this.Ue=n};function Fi(s){return{integerValue:""+s}}function mo(s,n){if(s.Ue){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ot(n)?"-0":n}}function eo(s,n){return Se(n)?Fi(n):mo(s,n)}function Mi(s,n){return s.Ue?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ro(s,n){return s.Ue?n.toBase64():n.toUint8Array()}function Gi(s,n){return Mi(s,n.X())}function ze(s){return Rt(!!s),Qt.Y((o=fn(s),new Yt(o.seconds,o.nanos)));var o}function pe(s,n){return(o=s,new et(["projects",o.projectId,"databases",o.database])).child("documents").child(n).R();var o}function j(s){var n=et.P(s);return Rt(Es(n)),n}function ye(s,n){return pe(s.U,n.path)}function Qe(s,n){var o=j(n);return Rt(o.get(1)===s.U.projectId),Rt(!o.get(3)&&!s.U.database||o.get(3)===s.U.database),new D(Lr(o))}function on(s,n){return pe(s.U,n)}function Gn(s){var n=j(s);return 4===n.length?et.g():Lr(n)}function rr(s){return new et(["projects",s.U.projectId,"databases",s.U.database]).R()}function Lr(s){return Rt(s.length>4&&"documents"===s.get(4)),s.u(5)}function gr(s,n,o){return{name:ye(s,n),fields:o.proto.mapValue.fields}}function vr(s,n){var o,p;if(n instanceof yi)o={update:gr(s,n.key,n.value)};else if(n instanceof pi)o={delete:ye(s,n.key)};else if(n instanceof Ar)o={update:gr(s,n.key,n.data),updateMask:os(n.Qe)};else if(n instanceof uo)o={transform:{document:ye(s,n.key),fieldTransforms:n.fieldTransforms.map(function(c){return function(p,w){var x=w.transform;if(x instanceof lo)return{fieldPath:w.field.R(),setToServerValue:"REQUEST_TIME"};if(x instanceof se)return{fieldPath:w.field.R(),appendMissingElements:{values:x.elements}};if(x instanceof Be)return{fieldPath:w.field.R(),removeAllFromArray:{values:x.elements}};if(x instanceof jt)return{fieldPath:w.field.R(),increment:x.We};throw we()}(0,c)})}};else{if(!(n instanceof Ui))return we();o={verify:ye(s,n.key)}}return n.Ke.je||(o.currentDocument=void 0!==(p=n.Ke).updateTime?{updateTime:Gi(s,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:we()),o}function ir(s,n){var mt,o=n.currentDocument?void 0!==(mt=n.currentDocument).updateTime?nr.updateTime(ze(mt.updateTime)):void 0!==mt.exists?nr.exists(mt.exists):nr.Ge():nr.Ge();if(n.update){var c=Qe(s,n.update.name),p=new _o({mapValue:{fields:n.update.fields}});if(n.updateMask){var w=function(mt){return new Un((mt.fieldPaths||[]).map(function($t){return k.S($t)}))}(n.updateMask);return new Ar(c,p,w,o)}return new yi(c,p,o)}if(n.delete){var x=Qe(s,n.delete);return new pi(x,o)}if(n.transform){var K=Qe(s,n.transform.document),de=n.transform.fieldTransforms.map(function(mt){return function(Kt,$t){var un=null;"setToServerValue"in $t?(Rt("REQUEST_TIME"===$t.setToServerValue),un=new lo):"appendMissingElements"in $t?un=new se($t.appendMissingElements.values||[]):"removeAllFromArray"in $t?un=new Be($t.removeAllFromArray.values||[]):"increment"in $t?un=new jt(Kt,$t.increment):we();var Cr=k.S($t.fieldPath);return new Pn(Cr,un)}(s,mt)});return Rt(!0===o.exists),new uo(K,de)}if(n.verify){var Ye=Qe(s,n.verify);return new Ui(Ye,o)}return we()}function or(s,n){return{documents:[on(s,n.path)]}}function Ii(s,n){var o={structuredQuery:{}},c=n.path;null!==n.collectionGroup?(o.parent=on(s,c),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=on(s,c.h()),o.structuredQuery.from=[{collectionId:c._()}]);var p=function(K){if(0!==K.length){var de=K.map(function(Ye){return function(mt){if("=="===mt.op){if(Dr(mt.value))return{unaryFilter:{field:Qi(mt.field),op:"IS_NAN"}};if(ai(mt.value))return{unaryFilter:{field:Qi(mt.field),op:"IS_NULL"}}}else if("!="===mt.op){if(Dr(mt.value))return{unaryFilter:{field:Qi(mt.field),op:"IS_NOT_NAN"}};if(ai(mt.value))return{unaryFilter:{field:Qi(mt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(mt.field),op:Co(mt.op),value:mt.value}}}(Ye)});return 1===de.length?de[0]:{compositeFilter:{op:"AND",filters:de}}}}(n.filters);p&&(o.structuredQuery.where=p);var w=function(K){if(0!==K.length)return K.map(function(de){return{field:Qi((Ye=de).field),direction:Hr(Ye.dir)};var Ye})}(n.orderBy);w&&(o.structuredQuery.orderBy=w);var de,x=(de=n.limit,s.Ue||gn(de)?de:{value:de});return null!==x&&(o.structuredQuery.limit=x),n.startAt&&(o.structuredQuery.startAt=Li(n.startAt)),n.endAt&&(o.structuredQuery.endAt=Li(n.endAt)),o}function io(s){var n=Gn(s.parent),o=s.structuredQuery,c=o.from?o.from.length:0,p=null;if(c>0){Rt(1===c);var w=o.from[0];w.allDescendants?p=w.collectionId:n=n.child(w.collectionId)}var x=[];o.where&&(x=Ei(o.where));var K=[];o.orderBy&&(K=o.orderBy.map(function(Kt){return new Ho(yo(($t=Kt).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));var Kt,$t,de=null;o.limit&&(de=gn($t="object"==typeof(Kt=o.limit)?Kt.value:Kt)?null:$t);var Ye=null;o.startAt&&(Ye=Pi(o.startAt));var mt=null;return o.endAt&&(mt=Pi(o.endAt)),Zi(ss(n,p,K,x,de,"F",Ye,mt))}function Ei(s){return s?void 0!==s.unaryFilter?[qo(s)]:void 0!==s.fieldFilter?[is(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(n){return Ei(n)}).reduce(function(n,o){return n.concat(o)}):we():[]}function Li(s){return{before:s.before,values:s.position}}function Pi(s){return new bo(s.values||[],!!s.before)}function Hr(s){return Ni[s]}function Co(s){return Mr[s]}function Qi(s){return{fieldPath:s.R()}}function yo(s){return k.S(s.fieldPath)}function is(s){return _i.create(yo(s.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(s.fieldFilter.op),s.fieldFilter.value)}function qo(s){switch(s.unaryFilter.op){case"IS_NAN":var n=yo(s.unaryFilter.field);return _i.create(n,"==",{doubleValue:NaN});case"IS_NULL":var o=yo(s.unaryFilter.field);return _i.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var c=yo(s.unaryFilter.field);return _i.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var p=yo(s.unaryFilter.field);return _i.create(p,"!=",{nullValue:"NULL_VALUE"});default:return we()}}function os(s){var n=[];return s.fields.forEach(function(o){return n.push(o.R())}),{fieldPaths:n}}function Es(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}var di=function(){this.ze=void 0};function Qo(s,n,o){return s instanceof lo?(w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(c=o).seconds,nanos:c.nanoseconds}}}},(p=n)&&(w.fields.__previous_value__=p),{mapValue:w}):s instanceof se?ne(s,n):s instanceof Be?wt(s,n):function(c,p){var w=cs(c,p),x=Jt(w)+Jt(c.We);return Er(w)&&Er(c.We)?Fi(x):mo(c.serializer,x)}(s,n);var c,p,w}function So(s,n,o){return s instanceof se?ne(s,n):s instanceof Be?wt(s,n):o}function cs(s,n){return s instanceof jt?Er(o=n)||(c=o)&&"doubleValue"in c?n:{integerValue:0}:null;var c,o}var lo=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n}(di),se=function(s){function n(o){var c=this;return(c=s.call(this)||this).elements=o,c}return y.__extends(n,s),n}(di);function ne(s,n){for(var o=En(n),c=function(x){o.some(function(K){return kt(K,x)})||o.push(x)},p=0,w=s.elements;p<w.length;p++)c(w[p]);return{arrayValue:{values:o}}}var Be=function(s){function n(o){var c=this;return(c=s.call(this)||this).elements=o,c}return y.__extends(n,s),n}(di);function wt(s,n){for(var o=En(n),c=function(x){o=o.filter(function(K){return!kt(K,x)})},p=0,w=s.elements;p<w.length;p++)c(w[p]);return{arrayValue:{values:o}}}var jt=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).serializer=o,p.We=c,p}return y.__extends(n,s),n}(di);function Jt(s){return sr(s.integerValue||s.doubleValue)}function En(s){return vi(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Un=function(){function s(n){this.fields=n,n.sort(k.i)}return s.prototype.He=function(n){for(var o=0,c=this.fields;o<c.length;o++)if(c[o].T(n))return!0;return!1},s.prototype.isEqual=function(n){return dn(this.fields,n.fields,function(o,c){return o.isEqual(c)})},s}(),Pn=function(s,n){this.field=s,this.transform=n},qn=function(s,n){this.version=s,this.transformResults=n},nr=function(){function s(n,o){this.updateTime=n,this.exists=o}return s.Ge=function(){return new s},s.exists=function(n){return new s(void 0,n)},s.updateTime=function(n){return new s(n)},Object.defineProperty(s.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},s}();function zr(s,n){return void 0!==s.updateTime?n instanceof Qr&&n.version.isEqual(s.updateTime):void 0===s.exists||s.exists===n instanceof Qr}var Pr=function(){};function hi(s,n,o){return s instanceof yi?new Qr((c=s).key,o.version,c.value,{hasCommittedMutations:!0}):s instanceof Ar?function(c,p,w){if(!zr(c.Ke,p))return new Ki(c.key,w.version);var x=to(c,p);return new Qr(c.key,w.version,x,{hasCommittedMutations:!0})}(s,n,o):s instanceof uo?function(c,p,w){if(Rt(null!=w.transformResults),!zr(c.Ke,p))return new Ki(c.key,w.version);var x=ki(0,p),K=function(mt,Kt,$t){var un=[];Rt(mt.length===$t.length);for(var Dn=0;Dn<$t.length;Dn++){var Yn=mt[Dn],Cr=Yn.transform,_r=null;Kt instanceof Qr&&(_r=Kt.field(Yn.field)),un.push(So(Cr,_r,$t[Dn]))}return un}(c.fieldTransforms,p,w.transformResults),de=w.version,Ye=Ti(c,x.data(),K);return new Qr(c.key,de,Ye,{hasCommittedMutations:!0})}(s,n,o):function(c,p,w){return new ni(c.key,w.version,{hasCommittedMutations:!0})}(s,0,o);var c}function Kr(s,n,o,c){return s instanceof yi?function(p,w){if(!zr(p.Ke,w))return w;var x=Si(w);return new Qr(p.key,x,p.value,{Ye:!0})}(s,n):s instanceof Ar?function(p,w){if(!zr(p.Ke,w))return w;var x=Si(w),K=to(p,w);return new Qr(p.key,x,K,{Ye:!0})}(s,n):s instanceof uo?function(p,w,x,K){if(!zr(p.Ke,w))return w;var de=ki(0,w),Ye=function(Kt,$t,un,Dn){for(var Yn=[],Cr=0,_r=Kt;Cr<_r.length;Cr++){var Ur=_r[Cr],ui=Ur.transform,Yi=null;un instanceof Qr&&(Yi=un.field(Ur.field)),null===Yi&&Dn instanceof Qr&&(Yi=Dn.field(Ur.field)),Yn.push(Qo(ui,Yi,$t))}return Yn}(p.fieldTransforms,x,w,K),mt=Ti(p,de.data(),Ye);return new Qr(p.key,de.version,mt,{Ye:!0})}(s,n,c,o):zr((p=s).Ke,w=n)?new ni(p.key,Qt.min()):w;var p,w}function Ai(s,n){return s instanceof uo?function(o,c){for(var p=null,w=0,x=o.fieldTransforms;w<x.length;w++){var K=x[w],de=c instanceof Qr?c.field(K.field):void 0,Ye=cs(K.transform,de||null);null!=Ye&&(p=null==p?(new Xo).set(K.field,Ye):p.set(K.field,Ye))}return p?p.Je():null}(s,n):null}function fi(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.Ke.isEqual(n.Ke)&&(0===s.type?s.value.isEqual(n.value):1===s.type?s.data.isEqual(n.data)&&s.Qe.isEqual(n.Qe):2!==s.type||dn(s.fieldTransforms,s.fieldTransforms,function(o,c){return(p=o).field.isEqual((w=c).field)&&(K=w.transform,(x=p.transform)instanceof se&&K instanceof se||x instanceof Be&&K instanceof Be?dn(x.elements,K.elements,kt):x instanceof jt&&K instanceof jt?kt(x.We,K.We):x instanceof lo&&K instanceof lo);var p,w,x,K}))}function Si(s){return s instanceof Qr?s.version:Qt.min()}var yi=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).key=o,w.value=c,w.Ke=p,w.type=0,w}return y.__extends(n,s),n}(Pr),Ar=function(s){function n(o,c,p,w){var x=this;return(x=s.call(this)||this).key=o,x.data=c,x.Qe=p,x.Ke=w,x.type=1,x}return y.__extends(n,s),n}(Pr);function to(s,n){return o=s,c=n instanceof Qr?n.data():_o.empty(),p=new Xo(c),o.Qe.fields.forEach(function(w){if(!w.m()){var x=o.data.field(w);null!==x?p.set(w,x):p.delete(w)}}),p.Je();var o,c,p}var uo=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.fieldTransforms=c,p.type=2,p.Ke=nr.exists(!0),p}return y.__extends(n,s),n}(Pr);function ki(s,n){return n}function Ti(s,n,o){for(var c=new Xo(n),p=0;p<s.fieldTransforms.length;p++)c.set(s.fieldTransforms[p].field,o[p]);return c.Je()}var pi=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.Ke=c,p.type=3,p}return y.__extends(n,s),n}(Pr),Ui=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).key=o,p.Ke=c,p.type=4,p}return y.__extends(n,s),n}(Pr),_o=function(){function s(n){this.proto=n}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(n){if(n.m())return this.proto;for(var o=this.proto,c=0;c<n.length-1;++c)if(!o.mapValue.fields||!Ri(o=o.mapValue.fields[n.get(c)]))return null;return(o=(o.mapValue.fields||{})[n._()])||null},s.prototype.isEqual=function(n){return kt(this.proto,n.proto)},s}(),Xo=function(){function s(n){void 0===n&&(n=_o.empty()),this.Xe=n,this.Ze=new Map}return s.prototype.set=function(n,o){return this.tn(n,o),this},s.prototype.delete=function(n){return this.tn(n,null),this},s.prototype.tn=function(n,o){for(var c=this.Ze,p=0;p<n.length-1;++p){var w=n.get(p),x=c.get(w);x instanceof Map?c=x:x&&10===gt(x)?(x=new Map(Object.entries(x.mapValue.fields||{})),c.set(w,x),c=x):(c.set(w,x=new Map),c=x)}c.set(n._(),o)},s.prototype.Je=function(){var n=this.en(k.g(),this.Ze);return null!=n?new _o(n):this.Xe},s.prototype.en=function(n,o){var c=this,p=!1,w=this.Xe.field(n),x=Ri(w)?Object.assign({},w.mapValue.fields):{};return o.forEach(function(K,de){if(K instanceof Map){var Ye=c.en(n.child(de),K);null!=Ye&&(x[de]=Ye,p=!0)}else null!==K?(x[de]=K,p=!0):x.hasOwnProperty(de)&&(delete x[de],p=!0)}),p?{mapValue:{fields:x}}:null},s}();function Ss(s){var n=[];return Ot(s.fields||{},function(o,c){var p=new k([o]);if(Ri(c)){var w=Ss(c.mapValue).fields;if(0===w.length)n.push(p);else for(var x=0,K=w;x<K.length;x++)n.push(p.child(K[x]))}else n.push(p)}),new Un(n)}var $r=function(s,n){this.key=s,this.version=n},Qr=function(s){function n(o,c,p,w){var x=this;return(x=s.call(this,o,c)||this).nn=p,x.Ye=!!w.Ye,x.hasCommittedMutations=!!w.hasCommittedMutations,x}return y.__extends(n,s),n.prototype.field=function(o){return this.nn.field(o)},n.prototype.data=function(){return this.nn},n.prototype.sn=function(){return this.nn.proto},n.prototype.isEqual=function(o){return o instanceof n&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.Ye===o.Ye&&this.hasCommittedMutations===o.hasCommittedMutations&&this.nn.isEqual(o.nn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}($r),ni=function(s){function n(o,c,p){var w=this;return(w=s.call(this,o,c)||this).hasCommittedMutations=!(!p||!p.hasCommittedMutations),w}return y.__extends(n,s),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(o){return o instanceof n&&o.hasCommittedMutations===this.hasCommittedMutations&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},n}($r),Ki=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(o){return o instanceof n&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},n}($r),Xi=function(s,n,o,c,p,w,x,K){void 0===n&&(n=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===w&&(w="F"),void 0===x&&(x=null),void 0===K&&(K=null),this.path=s,this.collectionGroup=n,this.rn=o,this.filters=c,this.limit=p,this.on=w,this.startAt=x,this.endAt=K,this.an=null,this.cn=null};function ss(s,n,o,c,p,w,x,K){return new Xi(s,n,o,c,p,w,x,K)}function Io(s){return new Xi(s)}function Nr(s){return!gn(s.limit)&&"F"===s.on}function co(s){return!gn(s.limit)&&"L"===s.on}function Yo(s){return s.rn.length>0?s.rn[0].field:null}function Ls(s){for(var n=0,o=s.filters;n<o.length;n++){var c=o[n];if(c.un())return c.field}return null}function Zo(s){return null!==s.collectionGroup}function go(s){var n=vt(s);if(null===n.an){n.an=[];var o=Ls(n),c=Yo(n);if(null!==o&&null===c)o.p()||n.an.push(new Ho(o)),n.an.push(new Ho(k.v(),"asc"));else{for(var p=!1,w=0,x=n.rn;w<x.length;w++){var K=x[w];n.an.push(K),K.field.p()&&(p=!0)}if(!p){var de=n.rn.length>0?n.rn[n.rn.length-1].dir:"asc";n.an.push(new Ho(k.v(),de))}}}return n.an}function Zi(s){var n=vt(s);if(!n.cn)if("F"===n.on)n.cn=Nt(n.path,n.collectionGroup,go(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var o=[],c=0,p=go(n);c<p.length;c++){var w=p[c];o.push(new Ho(w.field,"desc"===w.dir?"asc":"desc"))}var K=n.endAt?new bo(n.endAt.position,!n.endAt.before):null,de=n.startAt?new bo(n.startAt.position,!n.startAt.before):null;n.cn=Nt(n.path,n.collectionGroup,o,n.filters,n.limit,K,de)}return n.cn}function Uo(s,n,o){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),n,o,s.startAt,s.endAt)}function Vs(s,n){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),s.limit,s.on,n,s.endAt)}function In(s,n){return new Xi(s.path,s.collectionGroup,s.rn.slice(),s.filters.slice(),s.limit,s.on,s.startAt,n)}function Br(s,n){return wn(Zi(s),Zi(n))&&s.on===n.on}function ds(s){return ct(Zi(s))+"|lt:"+s.on}function Vo(s){return"Query(target="+(o=(n=Zi(s)).path.R(),null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=", filters: ["+n.filters.map(function(c){return(p=c).field.R()+" "+p.op+" "+hr(p.value);var p}).join(", ")+"]"),gn(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=", orderBy: ["+n.orderBy.map(function(c){return(p=c).field.R()+" ("+p.dir+")";var p}).join(", ")+"]"),n.startAt&&(o+=", startAt: "+ho(n.startAt)),n.endAt&&(o+=", endAt: "+ho(n.endAt)),"Target("+o+"); limitType=")+s.on+")";var n,o}function ci(s,n){return p=(c=n).key.path,(null!==(o=s).collectionGroup?c.key.N(o.collectionGroup)&&o.path.T(p):D.F(o.path)?o.path.isEqual(p):o.path.I(p))&&function(o,c){for(var p=0,w=o.rn;p<w.length;p++){var x=w[p];if(!x.field.p()&&null===c.field(x.field))return!1}return!0}(s,n)&&function(o,c){for(var p=0,w=o.filters;p<w.length;p++)if(!w[p].matches(c))return!1;return!0}(s,n)&&function(o,c){return!(o.startAt&&!so(o.startAt,go(o),c)||o.endAt&&so(o.endAt,go(o),c))}(s,n);var o,c,p}function Bi(s){return function(n,o){for(var c=!1,p=0,w=go(s);p<w.length;p++){var x=w[p],K=as(x,n,o);if(0!==K)return K;c=c||x.field.p()}return 0}}var _i=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).field=o,w.op=c,w.value=p,w}return y.__extends(n,s),n.create=function(o,c,p){if(o.p())return"in"===c||"not-in"===c?this.hn(o,c,p):new $i(o,c,p);if(ai(p)){if("=="!==c&&"!="!==c)throw new $(oe.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new n(o,c,p)}if(Dr(p)){if("=="!==c&&"!="!==c)throw new $(oe.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new n(o,c,p)}return"array-contains"===c?new Hs(o,p):"in"===c?new zs(o,p):"not-in"===c?new oo(o,p):"array-contains-any"===c?new Po(o,p):new n(o,c,p)},n.hn=function(o,c,p){return"in"===c?new ks(o,p):new hs(o,p)},n.prototype.matches=function(o){var c=o.field(this.field);return"!="===this.op?null!==c&&this.ln(Mn(c,this.value)):null!==c&&gt(this.value)===gt(c)&&this.ln(Mn(c,this.value))},n.prototype.ln=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return we()}},n.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),$i=function(s){function n(o,c,p){var w=this;return(w=s.call(this,o,c,p)||this).key=D.C(p.referenceValue),w}return y.__extends(n,s),n.prototype.matches=function(o){var c=D.i(o.key,this.key);return this.ln(c)},n}(_i),ks=function(s){function n(o,c){var p=this;return(p=s.call(this,o,"in",c)||this).keys=fs(0,c),p}return y.__extends(n,s),n.prototype.matches=function(o){return this.keys.some(function(c){return c.isEqual(o.key)})},n}(_i),hs=function(s){function n(o,c){var p=this;return(p=s.call(this,o,"not-in",c)||this).keys=fs(0,c),p}return y.__extends(n,s),n.prototype.matches=function(o){return!this.keys.some(function(c){return c.isEqual(o.key)})},n}(_i);function fs(s,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(c){return D.C(c.referenceValue)})}var Hs=function(s){function n(o,c){return s.call(this,o,"array-contains",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=o.field(this.field);return vi(c)&&Lt(c.arrayValue,this.value)},n}(_i),zs=function(s){function n(o,c){return s.call(this,o,"in",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=o.field(this.field);return null!==c&&Lt(this.value.arrayValue,c)},n}(_i),oo=function(s){function n(o,c){return s.call(this,o,"not-in",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){if(Lt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var c=o.field(this.field);return null!==c&&!Lt(this.value.arrayValue,c)},n}(_i),Po=function(s){function n(o,c){return s.call(this,o,"array-contains-any",c)||this}return y.__extends(n,s),n.prototype.matches=function(o){var c=this,p=o.field(this.field);return!(!vi(p)||!p.arrayValue.values)&&p.arrayValue.values.some(function(w){return Lt(c.value.arrayValue,w)})},n}(_i),bo=function(s,n){this.position=s,this.before=n};function ho(s){return(s.before?"b":"a")+":"+s.position.map(function(n){return hr(n)}).join(",")}function so(s,n,o){for(var c=0,p=0;p<s.position.length;p++){var w=n[p],x=s.position[p];if(c=w.field.p()?D.i(D.C(x.referenceValue),o.key):Mn(x,o.field(w.field)),"desc"===w.dir&&(c*=-1),0!==c)break}return s.before?c<=0:c<0}function No(s,n){if(null===s)return null===n;if(null===n||s.before!==n.before||s.position.length!==n.position.length)return!1;for(var o=0;o<s.position.length;o++)if(!kt(s.position[o],n.position[o]))return!1;return!0}var Ho=function(s,n){void 0===n&&(n="asc"),this.field=s,this.dir=n};function as(s,n,o){var p,x,K,de,c=s.field.p()?D.i(n.key,o.key):(x=o,K=n.field(p=s.field),de=x.field(p),null!==K&&null!==de?Mn(K,de):we());switch(s.dir){case"asc":return c;case"desc":return-1*c;default:return we()}}function Ws(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}var li=function(){var s=this;this.promise=new Promise(function(n,o){s.resolve=n,s.reject=o})},ps=function(){function s(n,o,c,p,w){void 0===c&&(c=1e3),void 0===p&&(p=1.5),void 0===w&&(w=6e4),this._n=n,this.fn=o,this.dn=c,this.wn=p,this.mn=w,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return s.prototype.reset=function(){this.Tn=0},s.prototype.An=function(){this.Tn=this.mn},s.prototype.Rn=function(n){var o=this;this.cancel();var c=Math.floor(this.Tn+this.Pn()),p=Math.max(0,Date.now()-this.In),w=Math.max(0,c-p);w>0&&De("ExponentialBackoff","Backing off for "+w+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+c+" ms, last attempt: "+p+" ms ago)"),this.En=this._n.gn(this.fn,w,function(){return o.In=Date.now(),n()}),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},s.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},s.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},s.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},s}(),Kn=function(){function s(n){var o=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,n(function(c){o.vn=!0,o.result=c,o.pn&&o.pn(c)},function(c){o.vn=!0,o.error=c,o.bn&&o.bn(c)})}return s.prototype.catch=function(n){return this.next(void 0,n)},s.prototype.next=function(n,o){var c=this;return this.Sn&&we(),this.Sn=!0,this.vn?this.error?this.Dn(o,this.error):this.Cn(n,this.result):new s(function(p,w){c.pn=function(x){c.Cn(n,x).next(p,w)},c.bn=function(x){c.Dn(o,x).next(p,w)}})},s.prototype.Nn=function(){var n=this;return new Promise(function(o,c){n.next(o,c)})},s.prototype.Fn=function(n){try{var o=n();return o instanceof s?o:s.resolve(o)}catch(c){return s.reject(c)}},s.prototype.Cn=function(n,o){return n?this.Fn(function(){return n(o)}):s.resolve(o)},s.prototype.Dn=function(n,o){return n?this.Fn(function(){return n(o)}):s.reject(o)},s.resolve=function(n){return new s(function(o,c){o(n)})},s.reject=function(n){return new s(function(o,c){c(n)})},s.$n=function(n){return new s(function(o,c){var p=0,w=0,x=!1;n.forEach(function(K){++p,K.next(function(){++w,x&&w===p&&o()},function(de){return c(de)})}),x=!0,w===p&&o()})},s.xn=function(n){for(var o=s.resolve(!1),c=function(x){o=o.next(function(K){return K?s.resolve(K):x()})},p=0,w=n;p<w.length;p++)c(w[p]);return o},s.forEach=function(n,o){var c=this,p=[];return n.forEach(function(w,x){p.push(o.call(c,w,x))}),this.$n(p)},s}(),ri=function(){function s(n,o,c){this.name=n,this.version=o,this.kn=c,12.2===s.Mn(Pe.getUA())&&_t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(n){return De("SimpleDb","Removing database:",n),ls(window.indexedDB.deleteDatabase(n)).Nn()},s.On=function(){if(typeof indexedDB>"u")return!1;if(s.Ln())return!0;var n=Pe.getUA(),o=s.Mn(n),c=0<o&&o<10,p=s.Bn(n),w=0<p&&p<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||c||w)},s.Ln=function(){var n;return typeof process<"u"&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.qn)},s.Un=function(n,o){return n.store(o)},s.Mn=function(n){var o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)},s.Bn=function(n){var o=n.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)},s.prototype.Qn=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.db?[3,2]:(De("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(w,x){var K=indexedDB.open(c.name,c.version);K.onsuccess=function(de){w(de.target.result)},K.onblocked=function(){x(new gs(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},K.onerror=function(de){var Ye=de.target.error;x("VersionError"===Ye.name?new $(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gs(n,Ye))},K.onupgradeneeded=function(de){De("SimpleDb",'Database "'+c.name+'" requires upgrade from version:',de.oldVersion),c.kn.createOrUpgrade(de.target.result,K.transaction,de.oldVersion,c.version).next(function(){De("SimpleDb","Database upgrade to version "+c.version+" complete")})}})]);case 1:o.db=p.sent(),p.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(w){return c.Wn(w)}),this.db)]}})})},s.prototype.jn=function(n){this.Wn=n,this.db&&(this.db.onversionchange=function(o){return n(o)})},s.prototype.runTransaction=function(n,o,c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x,K,de,Ye;return y.__generator(this,function(mt){switch(mt.label){case 0:w="readonly"===o,x=0,K=function(){var Kt,$t,un,Dn,Yn;return y.__generator(this,function(Cr){switch(Cr.label){case 0:++x,Cr.label=1;case 1:return Cr.trys.push([1,4,,5]),[4,de.Qn(n)];case 2:return de.db=Cr.sent(),Kt=xo.open(de.db,n,w?"readonly":"readwrite",c),$t=p(Kt).catch(function(_r){return Kt.abort(_r),Kn.reject(_r)}).Nn(),un={},$t.catch(function(){}),[4,Kt.Kn];case 3:return[2,(un.value=(Cr.sent(),$t),un)];case 4:return De("SimpleDb","Transaction failed with error:",(Dn=Cr.sent()).message,"Retrying:",Yn="FirebaseError"!==Dn.name&&x<3),de.close(),Yn?[3,5]:[2,{value:Promise.reject(Dn)}];case 5:return[2]}})},de=this,mt.label=1;case 1:return[5,K()];case 2:if("object"==typeof(Ye=mt.sent()))return[2,Ye.value];mt.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),ms=function(){function s(n){this.Gn=n,this.zn=!1,this.Hn=null}return Object.defineProperty(s.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(n){this.Gn=n},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.zn=!0},s.prototype.Jn=function(n){this.Hn=n},s.prototype.delete=function(){return ls(this.Gn.delete())},s}(),gs=function(s){function n(o,c){var p=this;return(p=s.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+c)||this).name="IndexedDbTransactionError",p}return y.__extends(n,s),n}($);function fo(s){return"IndexedDbTransactionError"===s.name}var xo=function(){function s(n,o){var c=this;this.action=n,this.transaction=o,this.aborted=!1,this.Xn=new li,this.transaction.oncomplete=function(){c.Xn.resolve()},this.transaction.onabort=function(){o.error?c.Xn.reject(new gs(n,o.error)):c.Xn.resolve()},this.transaction.onerror=function(p){var w=_(p.target.error);c.Xn.reject(new gs(n,w))}}return s.open=function(n,o,c,p){try{return new s(o,n.transaction(p,c))}catch(w){throw new gs(o,w)}},Object.defineProperty(s.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(n){n&&this.Xn.reject(n),this.aborted||(De("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(n){var o=this.transaction.objectStore(n);return new zo(o)},s}(),zo=function(){function s(n){this.store=n}return s.prototype.put=function(n,o){var c;return void 0!==o?(De("SimpleDb","PUT",this.store.name,n,o),c=this.store.put(o,n)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",n),c=this.store.put(n)),ls(c)},s.prototype.add=function(n){return De("SimpleDb","ADD",this.store.name,n,n),ls(this.store.add(n))},s.prototype.get=function(n){var o=this;return ls(this.store.get(n)).next(function(c){return void 0===c&&(c=null),De("SimpleDb","GET",o.store.name,n,c),c})},s.prototype.delete=function(n){return De("SimpleDb","DELETE",this.store.name,n),ls(this.store.delete(n))},s.prototype.count=function(){return De("SimpleDb","COUNT",this.store.name),ls(this.store.count())},s.prototype.Zn=function(n,o){var c=this.cursor(this.options(n,o)),p=[];return this.ts(c,function(w,x){p.push(x)}).next(function(){return p})},s.prototype.es=function(n,o){De("SimpleDb","DELETE ALL",this.store.name);var c=this.options(n,o);c.ns=!1;var p=this.cursor(c);return this.ts(p,function(w,x,K){return K.delete()})},s.prototype.ss=function(n,o){var c;o?c=n:(c={},o=n);var p=this.cursor(c);return this.ts(p,o)},s.prototype.rs=function(n){var o=this.cursor({});return new Kn(function(c,p){o.onerror=function(w){var x=_(w.target.error);p(x)},o.onsuccess=function(w){var x=w.target.result;x?n(x.primaryKey,x.value).next(function(K){K?x.continue():c()}):c()}})},s.prototype.ts=function(n,o){var c=[];return new Kn(function(p,w){n.onerror=function(x){w(x.target.error)},n.onsuccess=function(x){var K=x.target.result;if(K){var de=new ms(K),Ye=o(K.primaryKey,K.value,de);if(Ye instanceof Kn){var mt=Ye.catch(function(Kt){return de.done(),Kn.reject(Kt)});c.push(mt)}de.vn?p():null===de.Yn?K.continue():K.continue(de.Yn)}else p()}}).next(function(){return Kn.$n(c)})},s.prototype.options=function(n,o){var c=void 0;return void 0!==n&&("string"==typeof n?c=n:o=n),{index:c,range:o}},s.prototype.cursor=function(n){var o="next";if(n.reverse&&(o="prev"),n.index){var c=this.store.index(n.index);return n.ns?c.openKeyCursor(n.range,o):c.openCursor(n.range,o)}return this.store.openCursor(n.range,o)},s}();function ls(s){return new Kn(function(n,o){s.onsuccess=function(c){n(c.target.result)},s.onerror=function(c){var p=_(c.target.error);o(p)}})}var Vi=!1;function _(s){var n=ri.Mn(Pe.getUA());if(n>=12.2&&n<13){var o="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(o)>=0){var c=new $("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vi||(Vi=!0,setTimeout(function(){throw c},0)),c}}return s}function W(){return typeof window<"u"?window:null}function fe(){return typeof document<"u"?document:null}var $e=function(){function s(n,o,c,p,w){this.os=n,this.fn=o,this.cs=c,this.op=p,this.us=w,this.hs=new li,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch(function(x){})}return s.ls=function(n,o,c,p,w){var x=new s(n,o,Date.now()+c,p,w);return x.start(c),x},s.prototype.start=function(n){var o=this;this._s=setTimeout(function(){return o.fs()},n)},s.prototype.Vn=function(){return this.fs()},s.prototype.cancel=function(n){null!==this._s&&(this.clearTimeout(),this.hs.reject(new $(oe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},s.prototype.fs=function(){var n=this;this.os.ds(function(){return null!==n._s?(n.clearTimeout(),n.op().then(function(o){return n.hs.resolve(o)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},s}(),Wt=function(){function s(){var n=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new ps(this,"async_queue_retry"),this.ys=function(){var c=fe();c&&De("AsyncQueue","Visibility state changed to  ",c.visibilityState),n.gs.yn()};var o=fe();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(s.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),s.prototype.ds=function(n){this.enqueue(n)},s.prototype.ps=function(n){this.bs(),this.vs(n)},s.prototype.Ss=function(){if(!this.Es){this.Es=!0;var n=fe();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ys)}},s.prototype.enqueue=function(n){return this.bs(),this.Es?new Promise(function(o){}):this.vs(n)},s.prototype.Ds=function(n){var o=this;this.Ts.push(n),this.ds(function(){return o.Cs()})},s.prototype.Cs=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){switch(c.label){case 0:if(0===this.Ts.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return c.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!fo(n=c.sent()))throw n;return De("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:this.Ts.length>0&&this.gs.Rn(function(){return o.Cs()}),c.label=5;case 5:return[2]}})})},s.prototype.vs=function(n){var o=this,c=this.ws.then(function(){return o.Rs=!0,n().catch(function(p){throw o.As=p,o.Rs=!1,_t("INTERNAL UNHANDLED ERROR: ",(x=(w=p).message||"",w.stack&&(x=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),x)),p;var w,x}).then(function(p){return o.Rs=!1,p})});return this.ws=c,c},s.prototype.gn=function(n,o,c){var p=this;this.bs(),this.Ps.indexOf(n)>-1&&(o=0);var w=$e.ls(this,n,o,c,function(x){return p.Ns(x)});return this.Is.push(w),w},s.prototype.bs=function(){this.As&&we()},s.prototype.Fs=function(){},s.prototype.$s=function(){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){switch(o.label){case 0:return[4,n=this.ws];case 1:o.sent(),o.label=2;case 2:if(n!==this.ws)return[3,0];o.label=3;case 3:return[2]}})})},s.prototype.xs=function(n){for(var o=0,c=this.Is;o<c.length;o++)if(c[o].fn===n)return!0;return!1},s.prototype.ks=function(n){var o=this;return this.$s().then(function(){o.Is.sort(function(x,K){return x.cs-K.cs});for(var c=0,p=o.Is;c<p.length;c++){var w=p[c];if(w.Vn(),"all"!==n&&w.fn===n)break}return o.$s()})},s.prototype.Ms=function(n){this.Ps.push(n)},s.prototype.Ns=function(n){var o=this.Is.indexOf(n);this.Is.splice(o,1)},s}();function rn(s,n){if(_t("AsyncQueue",n+": "+s),fo(s))return new $(oe.UNAVAILABLE,n+": "+s);throw s}var ur=function(){this.Os=void 0,this.listeners=[]},ii=function(){this.Ls=new dt(function(s){return ds(s)},Br),this.onlineState="Unknown",this.Bs=new Set};function Xr(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x,K,de;return y.__generator(this,function(Ye){switch(Ye.label){case 0:if(o=vt(s),p=!1,(w=o.Ls.get(c=n.query))||(p=!0,w=new ur),!p)return[3,4];Ye.label=1;case 1:return Ye.trys.push([1,3,,4]),x=w,[4,o.qs(c)];case 2:return x.Os=Ye.sent(),[3,4];case 3:return K=Ye.sent(),de=rn(K,"Initialization of query '"+Vo(n.query)+"' failed"),[2,void n.onError(de)];case 4:return o.Ls.set(c,w),w.listeners.push(n),n.Us(o.onlineState),w.Os&&n.Qs(w.Os)&&Jo(o),[2]}})})}function ao(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x;return y.__generator(this,function(K){return o=vt(s),p=!1,(w=o.Ls.get(c=n.query))&&(x=w.listeners.indexOf(n))>=0&&(w.listeners.splice(x,1),p=0===w.listeners.length),p?[2,(o.Ls.delete(c),o.Ws(c))]:[2]})})}function Mo(s,n){for(var o=vt(s),c=!1,p=0,w=n;p<w.length;p++){var x=w[p],de=o.Ls.get(x.query);if(de){for(var Ye=0,mt=de.listeners;Ye<mt.length;Ye++)mt[Ye].Qs(x)&&(c=!0);de.Os=x}}c&&Jo(o)}function Ao(s,n,o){var c=vt(s),p=c.Ls.get(n);if(p)for(var w=0,x=p.listeners;w<x.length;w++)x[w].onError(o);c.Ls.delete(n)}function Jo(s){s.Bs.forEach(function(n){n.next()})}var es=function(){function s(n,o,c){this.query=n,this.js=o,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=c||{}}return s.prototype.Qs=function(n){if(!this.options.includeMetadataChanges){for(var o=[],c=0,p=n.docChanges;c<p.length;c++){var w=p[c];3!==w.type&&o.push(w)}n=new Ft(n.query,n.docs,n.Ut,o,n.Qt,n.fromCache,n.Wt,!0)}var x=!1;return this.Ks?this.zs(n)&&(this.js.next(n),x=!0):this.Hs(n,this.onlineState)&&(this.Ys(n),x=!0),this.Gs=n,x},s.prototype.onError=function(n){this.js.error(n)},s.prototype.Us=function(n){this.onlineState=n;var o=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,n)&&(this.Ys(this.Gs),o=!0),o},s.prototype.Hs=function(n,o){return!n.fromCache||!(this.options.Js&&"Offline"!==o||n.docs.m()&&"Offline"!==o)},s.prototype.zs=function(n){return n.docChanges.length>0||!!(n.Wt||this.Gs&&this.Gs.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.Ys=function(n){n=Ft.Kt(n.query,n.docs,n.Qt,n.fromCache),this.Ks=!0,this.js.next(n)},s}(),xi=function(){function s(n){this.uid=n}return s.prototype.Xs=function(){return null!=this.uid},s.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(n){return n.uid===this.uid},s}();xi.UNAUTHENTICATED=new xi(null),xi.ti=new xi("google-credentials-uid"),xi.ei=new xi("first-party-uid");var U=function(){function s(n,o){var c=this;this.previousValue=n,o&&(o.ni=function(p){return c.si(p)},this.ii=function(p){return o.ri(p)})}return s.prototype.si=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},s.prototype.next=function(){var n=++this.previousValue;return this.ii&&this.ii(n),n},s}();function me(s,n){return"firestore_clients_"+s+"_"+n}function Z(s,n,o){var c="firestore_mutations_"+s+"_"+o;return n.Xs()&&(c+="_"+n.uid),c}function Ne(s,n){return"firestore_targets_"+s+"_"+n}U.oi=-1;var At=function(){function s(n,o,c,p){this.user=n,this.batchId=o,this.state=c,this.error=p}return s.ai=function(n,o,c){var p=JSON.parse(c),w="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),x=void 0;return w&&p.error&&(w="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(x=new $(p.error.code,p.error.message)),w?new s(n,o,p.state,x):(_t("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+c),null)},s.prototype.ci=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},s}(),_n=function(){function s(n,o,c){this.targetId=n,this.state=o,this.error=c}return s.ai=function(n,o){var c=JSON.parse(o),p="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error),w=void 0;return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(w=new $(c.error.code,c.error.message)),p?new s(n,c.state,w):(_t("SharedClientState","Failed to parse target state for ID '"+n+"': "+o),null)},s.prototype.ci=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},s}(),Fn=function(){function s(n,o){this.clientId=n,this.activeTargetIds=o}return s.ai=function(n,o){for(var c=JSON.parse(o),p="object"==typeof c&&c.activeTargetIds instanceof Array,w=rt(),x=0;p&&x<c.activeTargetIds.length;++x)p=Se(c.activeTargetIds[x]),w=w.add(c.activeTargetIds[x]);return p?new s(n,w):(_t("SharedClientState","Failed to parse client data for instance '"+n+"': "+o),null)},s}(),yr=function(){function s(n,o){this.clientId=n,this.onlineState=o}return s.ai=function(n){var o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new s(o.clientId,o.onlineState):(_t("SharedClientState","Failed to parse online state: "+n),null)},s}(),Wr=function(){function s(){this.activeTargetIds=rt()}return s.prototype.ui=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},s.prototype.hi=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},s.prototype.ci=function(){var n={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(n)},s}(),Fr=function(){function s(n,o,c,p,w){this.window=n,this._n=o,this.persistenceKey=c,this.li=p,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Pt(Xt),this.Ti=!1,this.Ei=[];var x=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Ii=me(this.persistenceKey,this.li),this.Ai="firestore_sequence_number_"+this.persistenceKey,this.mi=this.mi.rt(this.li,new Wr),this.Ri=new RegExp("^firestore_clients_"+x+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+x+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+x+"_(\\d+)$"),this.yi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.di)}return s.On=function(n){return!(!n||!n.localStorage)},s.prototype.start=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,p,w,x,K,de,Ye,mt,$t=this;return y.__generator(this,function(un){switch(un.label){case 0:return[4,this._i.Vi()];case 1:for(n=un.sent(),o=0,c=n;o<c.length;o++)(p=c[o])!==this.li&&(w=this.getItem(me(this.persistenceKey,p)))&&(x=Fn.ai(p,w))&&(this.mi=this.mi.rt(x.clientId,x));for(this.pi(),(K=this.storage.getItem(this.yi))&&(de=this.bi(K))&&this.vi(de),Ye=0,mt=this.Ei;Ye<mt.length;Ye++)this.wi(mt[Ye]);return this.Ei=[],this.window.addEventListener("unload",function(){return $t.Si()}),this.Ti=!0,[2]}})})},s.prototype.ri=function(n){this.setItem(this.Ai,JSON.stringify(n))},s.prototype.Di=function(){return this.Ci(this.mi)},s.prototype.Ni=function(n){var o=!1;return this.mi.forEach(function(c,p){p.activeTargetIds.has(n)&&(o=!0)}),o},s.prototype.Fi=function(n){this.$i(n,"pending")},s.prototype.xi=function(n,o,c){this.$i(n,o,c),this.ki(n)},s.prototype.Mi=function(n){var o="not-current";if(this.Ni(n)){var c=this.storage.getItem(Ne(this.persistenceKey,n));if(c){var p=_n.ai(n,c);p&&(o=p.state)}}return this.Oi.ui(n),this.pi(),o},s.prototype.Li=function(n){this.Oi.hi(n),this.pi()},s.prototype.Bi=function(n){return this.Oi.activeTargetIds.has(n)},s.prototype.qi=function(n){this.removeItem(Ne(this.persistenceKey,n))},s.prototype.Ui=function(n,o,c){this.Qi(n,o,c)},s.prototype.Wi=function(n,o,c){var p=this;o.forEach(function(w){p.ki(w)}),this.currentUser=n,c.forEach(function(w){p.Fi(w)})},s.prototype.ji=function(n){this.Ki(n)},s.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},s.prototype.getItem=function(n){var o=this.storage.getItem(n);return De("SharedClientState","READ",n,o),o},s.prototype.setItem=function(n,o){De("SharedClientState","SET",n,o),this.storage.setItem(n,o)},s.prototype.removeItem=function(n){De("SharedClientState","REMOVE",n),this.storage.removeItem(n)},s.prototype.wi=function(n){var o=this,c=n;if(c.storageArea===this.storage){if(De("SharedClientState","EVENT",c.key,c.newValue),c.key===this.Ii)return void _t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds(function(){return y.__awaiter(o,void 0,void 0,function(){var p,w,x,K,de,Ye;return y.__generator(this,function(mt){if(this.Ti){if(null!==c.key)if(this.Ri.test(c.key)){if(null==c.newValue)return p=this.Gi(c.key),[2,this.zi(p,null)];if(w=this.Hi(c.key,c.newValue))return[2,this.zi(w.clientId,w)]}else if(this.Pi.test(c.key)){if(null!==c.newValue&&(x=this.Yi(c.key,c.newValue)))return[2,this.Ji(x)]}else if(this.gi.test(c.key)){if(null!==c.newValue&&(K=this.Xi(c.key,c.newValue)))return[2,this.Zi(K)]}else if(c.key===this.yi){if(null!==c.newValue&&(de=this.bi(c.newValue)))return[2,this.vi(de)]}else c.key===this.Ai&&(Ye=function(Kt){var $t=U.oi;if(null!=Kt)try{var un=JSON.parse(Kt);Rt("number"==typeof un),$t=un}catch(Dn){_t("SharedClientState","Failed to read sequence number from WebStorage",Dn)}return $t}(c.newValue))!==U.oi&&this.ni(Ye)}else this.Ei.push(c);return[2]})})})}},Object.defineProperty(s.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),s.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},s.prototype.$i=function(n,o,c){var p=new At(this.currentUser,n,o,c),w=Z(this.persistenceKey,this.currentUser,n);this.setItem(w,p.ci())},s.prototype.ki=function(n){var o=Z(this.persistenceKey,this.currentUser,n);this.removeItem(o)},s.prototype.Ki=function(n){this.storage.setItem(this.yi,JSON.stringify({clientId:this.li,onlineState:n}))},s.prototype.Qi=function(n,o,c){var p=Ne(this.persistenceKey,n),w=new _n(n,o,c);this.setItem(p,w.ci())},s.prototype.Gi=function(n){var o=this.Ri.exec(n);return o?o[1]:null},s.prototype.Hi=function(n,o){var c=this.Gi(n);return Fn.ai(c,o)},s.prototype.Yi=function(n,o){var c=this.Pi.exec(n),p=Number(c[1]);return At.ai(new xi(void 0!==c[2]?c[2]:null),p,o)},s.prototype.Xi=function(n,o){var c=this.gi.exec(n),p=Number(c[1]);return _n.ai(p,o)},s.prototype.bi=function(n){return yr.ai(n)},s.prototype.Ji=function(n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){return n.user.uid===this.currentUser.uid?[2,this._i.tr(n.batchId,n.state,n.error)]:(De("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},s.prototype.Zi=function(n){return this._i.er(n.targetId,n.state,n.error)},s.prototype.zi=function(n,o){var c=this,p=o?this.mi.rt(n,o):this.mi.remove(n),w=this.Ci(this.mi),x=this.Ci(p),K=[],de=[];return x.forEach(function(Ye){w.has(Ye)||K.push(Ye)}),w.forEach(function(Ye){x.has(Ye)||de.push(Ye)}),this._i.nr(K,de).then(function(){c.mi=p})},s.prototype.vi=function(n){this.mi.get(n.clientId)&&this.fi(n.onlineState)},s.prototype.Ci=function(n){var o=rt();return n.forEach(function(c,p){o=o.xt(p.activeTargetIds)}),o},s}(),oi=function(){function s(){this.sr=new Wr,this.ir={},this.fi=null,this.ni=null}return s.prototype.Fi=function(n){},s.prototype.xi=function(n,o,c){},s.prototype.Mi=function(n){return this.sr.ui(n),this.ir[n]||"not-current"},s.prototype.Ui=function(n,o,c){this.ir[n]=o},s.prototype.Li=function(n){this.sr.hi(n)},s.prototype.Bi=function(n){return this.sr.activeTargetIds.has(n)},s.prototype.qi=function(n){delete this.ir[n]},s.prototype.Di=function(){return this.sr.activeTargetIds},s.prototype.Ni=function(n){return this.sr.activeTargetIds.has(n)},s.prototype.start=function(){return this.sr=new Wr,Promise.resolve()},s.prototype.Wi=function(n,o,c){},s.prototype.ji=function(n){},s.prototype.Si=function(){},s.prototype.ri=function(n){},s}(),jr=function(){function s(n,o,c,p){this.batchId=n,this.rr=o,this.baseMutations=c,this.mutations=p}return s.prototype.ar=function(n,o,c){for(var p=c.cr,w=0;w<this.mutations.length;w++){var x=this.mutations[w];x.key.isEqual(n)&&(o=hi(x,o,p[w]))}return o},s.prototype.ur=function(n,o){for(var c=0,p=this.baseMutations;c<p.length;c++){var w=p[c];w.key.isEqual(n)&&(o=Kr(w,o,o,this.rr))}for(var x=o,K=0,de=this.mutations;K<de.length;K++){var Ye=de[K];Ye.key.isEqual(n)&&(o=Kr(Ye,o,x,this.rr))}return o},s.prototype.hr=function(n){var o=this,c=n;return this.mutations.forEach(function(p){var w=o.ur(p.key,n.get(p.key));w&&(c=c.rt(p.key,w))}),c},s.prototype.keys=function(){return this.mutations.reduce(function(n,o){return n.add(o.key)},qt())},s.prototype.isEqual=function(n){return this.batchId===n.batchId&&dn(this.mutations,n.mutations,function(o,c){return fi(o,c)})&&dn(this.baseMutations,n.baseMutations,function(o,c){return fi(o,c)})},s}(),g=function(){function s(n,o,c,p){this.batch=n,this.lr=o,this.cr=c,this._r=p}return s.from=function(n,o,c){Rt(n.mutations.length===c.length);for(var p=Bt,w=n.mutations,x=0;x<w.length;x++)p=p.rt(w[x].key,c[x].version);return new s(n,o,c,p)},s}(),l=function(){function s(){this.dr=new dt(function(n){return n.toString()},function(n,o){return n.isEqual(o)}),this.wr=!1}return Object.defineProperty(s.prototype,"readTime",{get:function(){return this.mr},set:function(n){this.mr=n},enumerable:!1,configurable:!0}),s.prototype.Tr=function(n,o){this.Er(),this.readTime=o,this.dr.set(n.key,n)},s.prototype.Ir=function(n,o){this.Er(),o&&(this.readTime=o),this.dr.set(n,null)},s.prototype.Ar=function(n,o){this.Er();var c=this.dr.get(o);return void 0!==c?Kn.resolve(c):this.Rr(n,o)},s.prototype.getEntries=function(n,o){return this.Pr(n,o)},s.prototype.apply=function(n){return this.Er(),this.wr=!0,this.gr(n)},s.prototype.Er=function(){},s}(),d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function s(){this.yr=[]}return s.prototype.Vr=function(n){this.yr.push(n)},s.prototype.pr=function(){this.yr.forEach(function(n){return n()})},s}(),A=function(){function s(n,o,c){this.br=n,this.vr=o,this.Sr=c}return s.prototype.Dr=function(n,o){var c=this;return this.vr.Cr(n,o).next(function(p){return c.Nr(n,o,p)})},s.prototype.Nr=function(n,o,c){return this.br.Ar(n,o).next(function(p){for(var w=0,x=c;w<x.length;w++)p=x[w].ur(o,p);return p})},s.prototype.Fr=function(n,o,c){var p=vn();return o.forEach(function(w,x){for(var K=0,de=c;K<de.length;K++)x=de[K].ur(w,x);p=p.rt(w,x)}),p},s.prototype.$r=function(n,o){var c=this;return this.br.getEntries(n,o).next(function(p){return c.kr(n,p)})},s.prototype.kr=function(n,o){var c=this;return this.vr.Mr(n,o).next(function(p){var w=c.Fr(n,o,p),x=St();return w.forEach(function(K,de){de||(de=new ni(K,Qt.min())),x=x.rt(K,de)}),x})},s.prototype.Or=function(n,o,c){return D.F((p=o).path)&&null===p.collectionGroup&&0===p.filters.length?this.Lr(n,o.path):Zo(o)?this.Br(n,o,c):this.qr(n,o,c);var p},s.prototype.Lr=function(n,o){return this.Dr(n,new D(o)).next(function(c){var p=It();return c instanceof Qr&&(p=p.rt(c.key,c)),p})},s.prototype.Br=function(n,o,c){var p=this,w=o.collectionGroup,x=It();return this.Sr.Ur(n,w).next(function(K){return Kn.forEach(K,function(de){var mt,Kt,Ye=(mt=o,Kt=de.child(w),new Xi(Kt,null,mt.rn.slice(),mt.filters.slice(),mt.limit,mt.on,mt.startAt,mt.endAt));return p.qr(n,Ye,c).next(function(mt){mt.forEach(function(Kt,$t){x=x.rt(Kt,$t)})})}).next(function(){return x})})},s.prototype.qr=function(n,o,c){var p,w,x=this;return this.br.Or(n,o,c).next(function(K){return p=K,x.vr.Qr(n,o)}).next(function(K){return x.Wr(n,w=K,p).next(function(de){p=de;for(var Ye=0,mt=w;Ye<mt.length;Ye++)for(var Kt=mt[Ye],$t=0,un=Kt.mutations;$t<un.length;$t++){var Dn=un[$t],Yn=Dn.key,Cr=p.get(Yn),_r=Kr(Dn,Cr,Cr,Kt.rr);p=_r instanceof Qr?p.rt(Yn,_r):p.remove(Yn)}})}).next(function(){return p.forEach(function(K,de){ci(o,de)||(p=p.remove(K))}),p})},s.prototype.Wr=function(n,o,c){for(var p=qt(),w=0,x=o;w<x.length;w++)for(var K=0,de=x[w].mutations;K<de.length;K++){var Ye=de[K];Ye instanceof Ar&&null===c.get(Ye.key)&&(p=p.add(Ye.key))}var mt=c;return this.br.getEntries(n,p).next(function(Kt){return Kt.forEach(function($t,un){null!==un&&un instanceof Qr&&(mt=mt.rt($t,un))}),mt})},s}(),V=function(){function s(n,o,c,p){this.targetId=n,this.fromCache=o,this.jr=c,this.Kr=p}return s.Gr=function(n,o){for(var c=qt(),p=qt(),w=0,x=o.docChanges;w<x.length;w++){var K=x[w];switch(K.type){case 0:c=c.add(K.doc.key);break;case 1:p=p.add(K.doc.key)}}return new s(n,o.fromCache,c,p)},s}();function he(s,n){var c=s[1],w=n[1],x=Xt(s[0],n[0]);return 0===x?Xt(c,w):x}var xe=function(){function s(n){this.zr=n,this.buffer=new ue(he),this.Hr=0}return s.prototype.Yr=function(){return++this.Hr},s.prototype.Jr=function(n){var o=[n,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(o);else{var c=this.buffer.last();he(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),lt={Xr:!1,Zr:0,eo:0,no:0},Je=function(){function s(n,o,c){this.so=n,this.io=o,this.ro=c}return s.oo=function(n){return new s(n,s.ao,s.co)},s}();Je.uo=-1,Je.ho=1048576,Je.lo=41943040,Je.ao=10,Je.co=1e3,Je._o=new Je(Je.lo,Je.ao,Je.co),Je.fo=new Je(Je.uo,0,0);var L=function(){function s(n,o){this.do=n,this.os=o,this.wo=!1,this.mo=null}return s.prototype.start=function(n){this.do.params.so!==Je.uo&&this.To(n)},s.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(s.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),s.prototype.To=function(n){var o=this,c=this.wo?3e5:6e4;De("LruGarbageCollector","Garbage collection scheduled in "+c+"ms"),this.mo=this.os.gn("lru_garbage_collection",c,function(){return y.__awaiter(o,void 0,void 0,function(){var p;return y.__generator(this,function(w){switch(w.label){case 0:this.mo=null,this.wo=!0,w.label=1;case 1:return w.trys.push([1,3,,7]),[4,n.Eo(this.do)];case 2:return w.sent(),[3,7];case 3:return fo(p=w.sent())?(De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p),[3,6]):[3,4];case 4:return[4,ko(p)];case 5:w.sent(),w.label=6;case 6:return[3,7];case 7:return[4,this.To(n)];case 8:return w.sent(),[2]}})})})},s}(),S=function(){function s(n,o){this.Io=n,this.params=o}return s.prototype.Ao=function(n,o){return this.Io.Ro(n).next(function(c){return Math.floor(o/100*c)})},s.prototype.Po=function(n,o){var c=this;if(0===o)return Kn.resolve(U.oi);var p=new xe(o);return this.Io.De(n,function(w){return p.Jr(w.sequenceNumber)}).next(function(){return c.Io.yo(n,function(w){return p.Jr(w)})}).next(function(){return p.maxValue})},s.prototype.Vo=function(n,o,c){return this.Io.Vo(n,o,c)},s.prototype.po=function(n,o){return this.Io.po(n,o)},s.prototype.bo=function(n,o){var c=this;return this.params.so===Je.uo?(De("LruGarbageCollector","Garbage collection skipped; disabled"),Kn.resolve(lt)):this.vo(n).next(function(p){return p<c.params.so?(De("LruGarbageCollector","Garbage collection skipped; Cache size "+p+" is lower than threshold "+c.params.so),lt):c.So(n,o)})},s.prototype.vo=function(n){return this.Io.vo(n)},s.prototype.So=function(n,o){var c,p,w,x,K,de,Ye,mt=this,Kt=Date.now();return this.Ao(n,this.params.io).next(function($t){return $t>mt.params.ro?(De("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+mt.params.ro+" from "+$t),p=mt.params.ro):p=$t,x=Date.now(),mt.Po(n,p)}).next(function($t){return c=$t,K=Date.now(),mt.Vo(n,c,o)}).next(function($t){return w=$t,de=Date.now(),mt.po(n,c)}).next(function($t){return Ye=Date.now(),Te()<=Y.LogLevel.DEBUG&&De("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(x-Kt)+"ms\n\tDetermined least recently used "+p+" in "+(K-x)+"ms\n\tRemoved "+w+" targets in "+(de-K)+"ms\n\tRemoved "+$t+" documents in "+(Ye-de)+"ms\nTotal Duration: "+(Ye-Kt)+"ms"),Kn.resolve({Xr:!0,Zr:p,eo:w,no:$t})})},s}();function E(s){for(var n="",o=0;o<s.length;o++)n.length>0&&(n=re(n)),n=O(s.get(o),n);return re(n)}function O(s,n){for(var o=n,c=s.length,p=0;p<c;p++){var w=s.charAt(p);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function re(s){return s+"\x01\x01"}function be(s){var n=s.length;if(Rt(n>=2),2===n)return Rt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),et.g();for(var o=n-2,c=[],p="",w=0;w<n;){var x=s.indexOf("\x01",w);switch((x<0||x>o)&&we(),s.charAt(x+1)){case"\x01":var K=s.substring(w,x),de=void 0;0===p.length?de=K:(de=p+=K,p=""),c.push(de);break;case"\x10":p+=s.substring(w,x),p+="\0";break;case"\x11":p+=s.substring(w,x+1);break;default:we()}w=x+2}return new et(c)}var yt=function(s){this.Do=s};function Ct(s,n){if(n.document)return de=!!n.hasCommittedMutations,Ye=Qe(s.Do,(K=n.document).name),mt=ze(K.updateTime),Kt=new _o({mapValue:{fields:K.fields}}),new Qr(Ye,mt,Kt,{hasCommittedMutations:!!de});var K,de,Ye,mt,Kt;if(n.noDocument){var o=D.$(n.noDocument.path),c=Sr(n.noDocument.readTime);return new ni(o,c,{hasCommittedMutations:!!n.hasCommittedMutations})}if(n.unknownDocument){var p=D.$(n.unknownDocument.path),w=Sr(n.unknownDocument.version);return new Ki(p,w)}return we()}function an(s,n,o){var $t,un,c=Sn(o),p=n.key.path.h().A();if(n instanceof Qr){var w={name:ye($t=s.Do,(un=n).key),fields:un.sn().mapValue.fields,updateTime:Mi($t,un.version.X())};return new Di(null,null,w,n.hasCommittedMutations,c,p)}if(n instanceof ni){var K=n.key.path.A(),de=er(n.version),Ye=n.hasCommittedMutations;return new Di(null,new vo(K,de),null,Ye,c,p)}if(n instanceof Ki){var mt=n.key.path.A(),Kt=er(n.version);return new Di(new vs(mt,Kt),null,null,!0,c,p)}return we()}function Sn(s){var n=s.X();return[n.seconds,n.nanoseconds]}function bn(s){var n=new Yt(s[0],s[1]);return Qt.Y(n)}function er(s){var n=s.X();return new ia(n.seconds,n.nanoseconds)}function Sr(s){var n=new Yt(s.seconds,s.nanoseconds);return Qt.Y(n)}function Gr(s,n){var o=(n.baseMutations||[]).map(function(w){return ir(s.Do,w)}),c=n.mutations.map(function(w){return ir(s.Do,w)}),p=Yt.fromMillis(n.localWriteTimeMs);return new jr(n.batchId,p,o,c)}function kr(s){var n,o,c=Sr(s.readTime),p=void 0!==s.lastLimboFreeSnapshotVersion?Sr(s.lastLimboFreeSnapshotVersion):Qt.min();return void 0!==s.query.documents?(Rt(1===(o=s.query).documents.length),n=Zi(Io(Gn(o.documents[0])))):n=io(s.query),new kn(n,s.targetId,0,s.lastListenSequenceNumber,c,p,xn.fromBase64String(s.resumeToken))}function Vr(s,n){var o,c=er(n.et),p=er(n.lastLimboFreeSnapshotVersion);o=An(n.target)?or(s.Do,n.target):Ii(s.Do,n.target);var w=n.resumeToken.toBase64();return new Ci(n.targetId,ct(n.target),c,w,n.sequenceNumber,p,o)}var Oi=function(){function s(n,o,c,p){this.userId=n,this.serializer=o,this.Sr=c,this.Co=p,this.No={}}return s.Fo=function(n,o,c,p){return Rt(""!==n.uid),new s(n.Xs()?n.uid:"",o,c,p)},s.prototype.$o=function(n){var o=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return no(n).ss({index:pr.userMutationsIndex,range:c},function(p,w,x){o=!1,x.done()}).next(function(){return o})},s.prototype.xo=function(n,o,c,p){var w=this,x=Hi(n),K=no(n);return K.add({}).next(function(de){Rt("number"==typeof de);for(var Ye=new jr(de,o,c,p),mt=function(_r,Ur,ui){var Yi=ui.baseMutations.map(function(wo){return vr(_r.Do,wo)}),xr=ui.mutations.map(function(wo){return vr(_r.Do,wo)});return new pr(Ur,ui.batchId,ui.rr.toMillis(),Yi,xr)}(w.serializer,w.userId,Ye),Kt=[],$t=new ue(function(_r,Ur){return Xt(_r.R(),Ur.R())}),un=0,Dn=p;un<Dn.length;un++){var Yn=Dn[un],Cr=Yr.key(w.userId,Yn.key.path,de);$t=$t.add(Yn.key.path.h()),Kt.push(K.put(mt)),Kt.push(x.put(Cr,Yr.PLACEHOLDER))}return $t.forEach(function(_r){Kt.push(w.Sr.ko(n,_r))}),n.Vr(function(){w.No[de]=Ye.keys()}),Kn.$n(Kt).next(function(){return Ye})})},s.prototype.Mo=function(n,o){var c=this;return no(n).get(o).next(function(p){return p?(Rt(p.userId===c.userId),Gr(c.serializer,p)):null})},s.prototype.Oo=function(n,o){var c=this;return this.No[o]?Kn.resolve(this.No[o]):this.Mo(n,o).next(function(p){if(p){var w=p.keys();return c.No[o]=w,w}return null})},s.prototype.Lo=function(n,o){var c=this,p=o+1,w=IDBKeyRange.lowerBound([this.userId,p]),x=null;return no(n).ss({index:pr.userMutationsIndex,range:w},function(K,de,Ye){de.userId===c.userId&&(Rt(de.batchId>=p),x=Gr(c.serializer,de)),Ye.done()}).next(function(){return x})},s.prototype.Bo=function(n){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),c=-1;return no(n).ss({index:pr.userMutationsIndex,range:o,reverse:!0},function(p,w,x){c=w.batchId,x.done()}).next(function(){return c})},s.prototype.qo=function(n){var o=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return no(n).Zn(pr.userMutationsIndex,c).next(function(p){return p.map(function(w){return Gr(o.serializer,w)})})},s.prototype.Cr=function(n,o){var c=this,p=Yr.prefixForPath(this.userId,o.path),w=IDBKeyRange.lowerBound(p),x=[];return Hi(n).ss({range:w},function(K,de,Ye){var mt=K[0],$t=K[2],un=be(K[1]);if(mt===c.userId&&o.path.isEqual(un))return no(n).get($t).next(function(Dn){if(!Dn)throw we();Rt(Dn.userId===c.userId),x.push(Gr(c.serializer,Dn))});Ye.done()}).next(function(){return x})},s.prototype.Mr=function(n,o){var c=this,p=new ue(Xt),w=[];return o.forEach(function(x){var K=Yr.prefixForPath(c.userId,x.path),de=IDBKeyRange.lowerBound(K),Ye=Hi(n).ss({range:de},function(mt,Kt,$t){var un=mt[0],Yn=mt[2],Cr=be(mt[1]);un===c.userId&&x.path.isEqual(Cr)?p=p.add(Yn):$t.done()});w.push(Ye)}),Kn.$n(w).next(function(){return c.Uo(n,p)})},s.prototype.Qr=function(n,o){var c=this,p=o.path,w=p.length+1,x=Yr.prefixForPath(this.userId,p),K=IDBKeyRange.lowerBound(x),de=new ue(Xt);return Hi(n).ss({range:K},function(Ye,mt,Kt){var $t=Ye[0],Dn=Ye[2],Yn=be(Ye[1]);$t===c.userId&&p.T(Yn)?Yn.length===w&&(de=de.add(Dn)):Kt.done()}).next(function(){return c.Uo(n,de)})},s.prototype.Uo=function(n,o){var c=this,p=[],w=[];return o.forEach(function(x){w.push(no(n).get(x).next(function(K){if(null===K)throw we();Rt(K.userId===c.userId),p.push(Gr(c.serializer,K))}))}),Kn.$n(w).next(function(){return p})},s.prototype.Qo=function(n,o){var c=this;return Fo(n.Wo,this.userId,o).next(function(p){return n.Vr(function(){c.jo(o.batchId)}),Kn.forEach(p,function(w){return c.Co.Ko(n,w)})})},s.prototype.jo=function(n){delete this.No[n]},s.prototype.Go=function(n){var o=this;return this.$o(n).next(function(c){if(!c)return Kn.resolve();var p=IDBKeyRange.lowerBound(Yr.prefixForUser(o.userId)),w=[];return Hi(n).ss({range:p},function(x,K,de){if(x[0]===o.userId){var Ye=be(x[1]);w.push(Ye)}else de.done()}).next(function(){Rt(0===w.length)})})},s.prototype.zo=function(n,o){return ji(n,this.userId,o)},s.prototype.Ho=function(n){var o=this;return Bs(n).get(this.userId).next(function(c){return c||new Tr(o.userId,-1,"")})},s}();function ji(s,n,o){var c=Yr.prefixForPath(n,o.path),p=c[1],w=IDBKeyRange.lowerBound(c),x=!1;return Hi(s).ss({range:w,ns:!0},function(K,de,Ye){K[0]===n&&K[1]===p&&(x=!0),Ye.done()}).next(function(){return x})}function Fo(s,n,o){var c=s.store(pr.store),p=s.store(Yr.store),w=[],x=IDBKeyRange.only(o.batchId),K=0,de=c.ss({range:x},function(Dn,Yn,Cr){return K++,Cr.delete()});w.push(de.next(function(){Rt(1===K)}));for(var Ye=[],mt=0,Kt=o.mutations;mt<Kt.length;mt++){var $t=Kt[mt],un=Yr.key(n,$t.key.path,o.batchId);w.push(p.delete(un)),Ye.push($t.key)}return Kn.$n(w).next(function(){return Ye})}function no(s){return ys.Un(s,pr.store)}function Hi(s){return ys.Un(s,Yr.store)}function Bs(s){return ys.Un(s,Tr.store)}var ts=function(){function s(n,o){this.serializer=n,this.Sr=o}return s.prototype.Tr=function(n,o,c){return po(n).put(ns(o),c)},s.prototype.Ir=function(n,o){var c=po(n),p=ns(o);return c.delete(p)},s.prototype.updateMetadata=function(n,o){var c=this;return this.getMetadata(n).next(function(p){return p.byteSize+=o,c.Yo(n,p)})},s.prototype.Ar=function(n,o){var c=this;return po(n).get(ns(o)).next(function(p){return c.Jo(p)})},s.prototype.Xo=function(n,o){var c=this;return po(n).get(ns(o)).next(function(p){var w=c.Jo(p);return w?{Zo:w,size:Xs(p)}:null})},s.prototype.getEntries=function(n,o){var c=this,p=vn();return this.ta(n,o,function(w,x){var K=c.Jo(x);p=p.rt(w,K)}).next(function(){return p})},s.prototype.ea=function(n,o){var c=this,p=vn(),w=new Pt(D.i);return this.ta(n,o,function(x,K){var de=c.Jo(K);de?(p=p.rt(x,de),w=w.rt(x,Xs(K))):(p=p.rt(x,null),w=w.rt(x,0))}).next(function(){return{na:p,sa:w}})},s.prototype.ta=function(n,o,c){if(o.m())return Kn.resolve();var p=IDBKeyRange.bound(o.first().path.A(),o.last().path.A()),w=o.lt(),x=w.Et();return po(n).ss({range:p},function(K,de,Ye){for(var mt=D.$(K);x&&D.i(x,mt)<0;)c(x,null),x=w.Et();x&&x.isEqual(mt)&&(c(x,de),x=w.It()?w.Et():null),x?Ye.Jn(x.path.A()):Ye.done()}).next(function(){for(;x;)c(x,null),x=w.It()?w.Et():null})},s.prototype.Or=function(n,o,c){var p=this,w=It(),x=o.path.length+1,K={};if(c.isEqual(Qt.min())){var de=o.path.A();K.range=IDBKeyRange.lowerBound(de)}else{var Ye=o.path.A(),mt=Sn(c);K.range=IDBKeyRange.lowerBound([Ye,mt],!0),K.index=Di.collectionReadTimeIndex}return po(n).ss(K,function(Kt,$t,un){if(Kt.length===x){var Dn=Ct(p.serializer,$t);o.path.T(Dn.key.path)?Dn instanceof Qr&&ci(o,Dn)&&(w=w.rt(Dn.key,Dn)):un.done()}}).next(function(){return w})},s.prototype.ia=function(n){return new qi(this,!!n&&n.ra)},s.prototype.oa=function(n){return this.getMetadata(n).next(function(o){return o.byteSize})},s.prototype.getMetadata=function(n){return Ko(n).get(Zr.key).next(function(o){return Rt(!!o),o})},s.prototype.Yo=function(n,o){return Ko(n).put(Zr.key,o)},s.prototype.Jo=function(n){if(n){var o=Ct(this.serializer,n);return o instanceof ni&&o.version.isEqual(Qt.min())?null:o}return null},s}(),qi=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).aa=o,p.ra=c,p.ca=new dt(function(w){return w.toString()},function(w,x){return w.isEqual(x)}),p}return y.__extends(n,s),n.prototype.gr=function(o){var c=this,p=[],w=0,x=new ue(function(K,de){return Xt(K.R(),de.R())});return this.dr.forEach(function(K,de){var Ye=c.ca.get(K);if(de){var mt=an(c.aa.serializer,de,c.readTime);x=x.add(K.path.h());var Kt=Xs(mt);w+=Kt-Ye,p.push(c.aa.Tr(o,K,mt))}else if(w-=Ye,c.ra){var $t=an(c.aa.serializer,new ni(K,Qt.min()),c.readTime);p.push(c.aa.Tr(o,K,$t))}else p.push(c.aa.Ir(o,K))}),x.forEach(function(K){p.push(c.aa.Sr.ko(o,K))}),p.push(this.aa.updateMetadata(o,w)),Kn.$n(p)},n.prototype.Rr=function(o,c){var p=this;return this.aa.Xo(o,c).next(function(w){return null===w?(p.ca.set(c,0),null):(p.ca.set(c,w.size),w.Zo)})},n.prototype.Pr=function(o,c){var p=this;return this.aa.ea(o,c).next(function(w){var x=w.na;return w.sa.forEach(function(K,de){p.ca.set(K,de)}),x})},n}(l);function Ko(s){return ys.Un(s,Zr.store)}function po(s){return ys.Un(s,Di.store)}function ns(s){return s.path.A()}function Xs(s){var n;if(s.document)n=s.document;else if(s.unknownDocument)n=s.unknownDocument;else{if(!s.noDocument)throw we();n=s.noDocument}return JSON.stringify(n).length}var Os=function(){function s(){this.ua=new Rs}return s.prototype.ko=function(n,o){return this.ua.add(o),Kn.resolve()},s.prototype.Ur=function(n,o){return Kn.resolve(this.ua.getEntries(o))},s}(),Rs=function(){function s(){this.index={}}return s.prototype.add=function(n){var o=n._(),c=n.h(),p=this.index[o]||new ue(et.i),w=!p.has(c);return this.index[o]=p.add(c),w},s.prototype.has=function(n){var o=n._(),c=n.h(),p=this.index[o];return p&&p.has(c)},s.prototype.getEntries=function(n){return(this.index[n]||new ue(et.i)).A()},s}(),Ka=function(){function s(n){this.serializer=n}return s.prototype.createOrUpgrade=function(n,o,c,p){var w=this;Rt(c<p&&c>=0&&p<=10);var de,x=new xo("createOrUpgrade",o);c<1&&p>=1&&(n.createObjectStore(cr.store),(de=n).createObjectStore(Tr.store,{keyPath:Tr.keyPath}),de.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0}),de.createObjectStore(Yr.store),js(n),function(de){de.createObjectStore(Di.store)}(n));var K=Kn.resolve();return c<3&&p>=3&&(0!==c&&(function(de){de.deleteObjectStore($o.store),de.deleteObjectStore(Ci.store),de.deleteObjectStore(Ts.store)}(n),js(n)),K=K.next(function(){return function(de){var Ye=de.store(Ts.store),mt=new Ts(0,0,Qt.min().X(),0);return Ye.put(Ts.key,mt)}(x)})),c<4&&p>=4&&(0!==c&&(K=K.next(function(){return function(de,Ye){return Ye.store(pr.store).Zn().next(function(mt){de.deleteObjectStore(pr.store),de.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0});var Kt=Ye.store(pr.store),$t=mt.map(function(un){return Kt.put(un)});return Kn.$n($t)})}(n,x)})),K=K.next(function(){!function(de){de.createObjectStore(Lo.store,{keyPath:Lo.keyPath})}(n)})),c<5&&p>=5&&(K=K.next(function(){return w.removeAcknowledgedMutations(x)})),c<6&&p>=6&&(K=K.next(function(){return function(de){de.createObjectStore(Zr.store)}(n),w.addDocumentGlobal(x)})),c<7&&p>=7&&(K=K.next(function(){return w.ensureSequenceNumbers(x)})),c<8&&p>=8&&(K=K.next(function(){return w.createCollectionParentIndex(n,x)})),c<9&&p>=9&&(K=K.next(function(){(function(de){de.objectStoreNames.contains("remoteDocumentChanges")&&de.deleteObjectStore("remoteDocumentChanges")})(n),function(de){var Ye=de.objectStore(Di.store);Ye.createIndex(Di.readTimeIndex,Di.readTimeIndexPath,{unique:!1}),Ye.createIndex(Di.collectionReadTimeIndex,Di.collectionReadTimeIndexPath,{unique:!1})}(o)})),c<10&&p>=10&&(K=K.next(function(){return w.rewriteCanonicalIds(x)})),K},s.prototype.addDocumentGlobal=function(n){var o=0;return n.store(Di.store).ss(function(c,p){o+=Xs(p)}).next(function(){var c=new Zr(o);return n.store(Zr.store).put(Zr.key,c)})},s.prototype.removeAcknowledgedMutations=function(n){var o=this,c=n.store(Tr.store),p=n.store(pr.store);return c.Zn().next(function(w){return Kn.forEach(w,function(x){var K=IDBKeyRange.bound([x.userId,-1],[x.userId,x.lastAcknowledgedBatchId]);return p.Zn(pr.userMutationsIndex,K).next(function(de){return Kn.forEach(de,function(Ye){Rt(Ye.userId===x.userId);var mt=Gr(o.serializer,Ye);return Fo(n,x.userId,mt).next(function(){})})})})})},s.prototype.ensureSequenceNumbers=function(n){var o=n.store($o.store),c=n.store(Di.store);return n.store(Ts.store).get(Ts.key).next(function(p){var w=[];return c.ss(function(x,K){var de=new et(x),Ye=[0,E(de)];w.push(o.get(Ye).next(function(mt){return mt?Kn.resolve():o.put(new $o(0,E(de),p.highestListenSequenceNumber))}))}).next(function(){return Kn.$n(w)})})},s.prototype.createCollectionParentIndex=function(n,o){n.createObjectStore(To.store,{keyPath:To.keyPath});var c=o.store(To.store),p=new Rs,w=function(x){if(p.add(x)){var K=x._(),de=x.h();return c.put({collectionId:K,parent:E(de)})}};return o.store(Di.store).ss({ns:!0},function(x,K){var de=new et(x);return w(de.h())}).next(function(){return o.store(Yr.store).ss({ns:!0},function(x,K){var Ye=be(x[1]);return w(Ye.h())})})},s.prototype.rewriteCanonicalIds=function(n){var o=this,c=n.store(Ci.store);return c.ss(function(p,w){var x=kr(w),K=Vr(o.serializer,x);return c.put(K)})},s}(),ia=function(s,n){this.seconds=s,this.nanoseconds=n},cr=function(s,n,o){this.ownerId=s,this.allowTabSynchronization=n,this.leaseTimestampMs=o};cr.store="owner",cr.key="owner";var Tr=function(s,n,o){this.userId=s,this.lastAcknowledgedBatchId=n,this.lastStreamToken=o};Tr.store="mutationQueues",Tr.keyPath="userId";var pr=function(s,n,o,c,p){this.userId=s,this.batchId=n,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=p};pr.store="mutations",pr.keyPath="batchId",pr.userMutationsIndex="userMutationsIndex",pr.userMutationsKeyPath=["userId","batchId"];var Yr=function(){function s(){}return s.prefixForUser=function(n){return[n]},s.prefixForPath=function(n,o){return[n,E(o)]},s.key=function(n,o,c){return[n,E(o),c]},s}();Yr.store="documentMutations",Yr.PLACEHOLDER=new Yr;var vo=function(s,n){this.path=s,this.readTime=n},vs=function(s,n){this.path=s,this.version=n},Di=function(s,n,o,c,p,w){this.unknownDocument=s,this.noDocument=n,this.document=o,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=w};Di.store="remoteDocuments",Di.readTimeIndex="readTimeIndex",Di.readTimeIndexPath="readTime",Di.collectionReadTimeIndex="collectionReadTimeIndex",Di.collectionReadTimeIndexPath=["parentPath","readTime"];var Zr=function(s){this.byteSize=s};Zr.store="remoteDocumentGlobal",Zr.key="remoteDocumentGlobalKey";var Ci=function(s,n,o,c,p,w,x){this.targetId=s,this.canonicalId=n,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=w,this.query=x};Ci.store="targets",Ci.keyPath="targetId",Ci.queryTargetsIndexName="queryTargetsIndex",Ci.queryTargetsKeyPath=["canonicalId","targetId"];var $o=function(s,n,o){this.targetId=s,this.path=n,this.sequenceNumber=o};$o.store="targetDocuments",$o.keyPath=["targetId","path"],$o.documentTargetsIndex="documentTargetsIndex",$o.documentTargetsKeyPath=["path","targetId"];var Ts=function(s,n,o,c){this.highestTargetId=s,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=o,this.targetCount=c};Ts.key="targetGlobalKey",Ts.store="targetGlobal";var To=function(s,n){this.collectionId=s,this.parent=n};function js(s){s.createObjectStore($o.store,{keyPath:$o.keyPath}).createIndex($o.documentTargetsIndex,$o.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Ci.store,{keyPath:Ci.keyPath}).createIndex(Ci.queryTargetsIndexName,Ci.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Ts.store)}To.store="collectionParents",To.keyPath=["collectionId","parent"];var Lo=function(s,n,o,c){this.clientId=s,this.updateTimeMs=n,this.networkEnabled=o,this.inForeground=c};Lo.store="clientMetadata",Lo.keyPath="clientId";var oa=y.__spreadArrays(y.__spreadArrays(y.__spreadArrays([Tr.store,pr.store,Yr.store,Di.store,Ci.store,cr.store,Ts.store,$o.store],[Lo.store]),[Zr.store]),[To.store]),Zs=function(){function s(){this.ha=new Rs}return s.prototype.ko=function(n,o){var c=this;if(!this.ha.has(o)){var p=o._(),w=o.h();n.Vr(function(){c.ha.add(o)});var x={collectionId:p,parent:E(w)};return Ru(n).put(x)}return Kn.resolve()},s.prototype.Ur=function(n,o){var c=[],p=IDBKeyRange.bound([o,""],[Bn(o),""],!1,!0);return Ru(n).Zn(p).next(function(w){for(var x=0,K=w;x<K.length;x++){var de=K[x];if(de.collectionId!==o)break;c.push(be(de.parent))}return c})},s}();function Ru(s){return ys.Un(s,To.store)}var cl=function(){function s(n){this.la=n}return s.prototype.next=function(){return this.la+=2,this.la},s._a=function(){return new s(0)},s.fa=function(){return new s(-1)},s}(),Wo=function(){function s(n,o){this.Co=n,this.serializer=o}return s.prototype.da=function(n){var o=this;return this.wa(n).next(function(c){var p=new cl(c.highestTargetId);return c.highestTargetId=p.next(),o.ma(n,c).next(function(){return c.highestTargetId})})},s.prototype.Ta=function(n){return this.wa(n).next(function(o){return Qt.Y(new Yt(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.Ea=function(n){return this.wa(n).next(function(o){return o.highestListenSequenceNumber})},s.prototype.Ia=function(n,o,c){var p=this;return this.wa(n).next(function(w){return w.highestListenSequenceNumber=o,c&&(w.lastRemoteSnapshotVersion=c.X()),o>w.highestListenSequenceNumber&&(w.highestListenSequenceNumber=o),p.ma(n,w)})},s.prototype.Aa=function(n,o){var c=this;return this.Ra(n,o).next(function(){return c.wa(n).next(function(p){return p.targetCount+=1,c.Pa(o,p),c.ma(n,p)})})},s.prototype.ga=function(n,o){return this.Ra(n,o)},s.prototype.ya=function(n,o){var c=this;return this.Va(n,o.targetId).next(function(){return ga(n).delete(o.targetId)}).next(function(){return c.wa(n)}).next(function(p){return Rt(p.targetCount>0),p.targetCount-=1,c.ma(n,p)})},s.prototype.Vo=function(n,o,c){var p=this,w=0,x=[];return ga(n).ss(function(K,de){var Ye=kr(de);Ye.sequenceNumber<=o&&null===c.get(Ye.targetId)&&(w++,x.push(p.ya(n,Ye)))}).next(function(){return Kn.$n(x)}).next(function(){return w})},s.prototype.De=function(n,o){return ga(n).ss(function(c,p){var w=kr(p);o(w)})},s.prototype.wa=function(n){return Da(n).get(Ts.key).next(function(o){return Rt(null!==o),o})},s.prototype.ma=function(n,o){return Da(n).put(Ts.key,o)},s.prototype.Ra=function(n,o){return ga(n).put(Vr(this.serializer,o))},s.prototype.Pa=function(n,o){var c=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,c=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,c=!0),c},s.prototype.pa=function(n){return this.wa(n).next(function(o){return o.targetCount})},s.prototype.ba=function(n,o){var c=ct(o),p=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]),w=null;return ga(n).ss({range:p,index:Ci.queryTargetsIndexName},function(x,K,de){var Ye=kr(K);wn(o,Ye.target)&&(w=Ye,de.done())}).next(function(){return w})},s.prototype.va=function(n,o,c){var p=this,w=[],x=sa(n);return o.forEach(function(K){var de=E(K.path);w.push(x.put(new $o(c,de))),w.push(p.Co.Sa(n,c,K))}),Kn.$n(w)},s.prototype.Da=function(n,o,c){var p=this,w=sa(n);return Kn.forEach(o,function(x){var K=E(x.path);return Kn.$n([w.delete([c,K]),p.Co.Ca(n,c,x)])})},s.prototype.Va=function(n,o){var c=sa(n),p=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(p)},s.prototype.Na=function(n,o){var c=IDBKeyRange.bound([o],[o+1],!1,!0),p=sa(n),w=qt();return p.ss({range:c,ns:!0},function(x,K,de){var Ye=be(x[1]),mt=new D(Ye);w=w.add(mt)}).next(function(){return w})},s.prototype.zo=function(n,o){var c=E(o.path),p=IDBKeyRange.bound([c],[Bn(c)],!1,!0),w=0;return sa(n).ss({index:$o.documentTargetsIndex,ns:!0,range:p},function(x,K,de){0!==x[0]&&(w++,de.done())}).next(function(){return w>0})},s.prototype.qe=function(n,o){return ga(n).get(o).next(function(c){return c?kr(c):null})},s}();function ga(s){return ys.Un(s,Ci.store)}function Da(s){return ys.Un(s,Ts.store)}function sa(s){return ys.Un(s,$o.store)}var Ds="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$s=function(s){function n(o,c){var p=this;return(p=s.call(this)||this).Wo=o,p.Fa=c,p}return y.__extends(n,s),n}(b),ys=function(){function s(n,o,c,p,w,x,K,de,Ye,mt){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=c,this._n=w,this.window=x,this.document=K,this.$a=Ye,this.xa=mt,this.ka=null,this.Ma=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oa=null,this.inForeground=!1,this.La=null,this.Ba=null,this.qa=Number.NEGATIVE_INFINITY,this.Ua=function(Kt){return Promise.resolve()},!s.On())throw new $(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new R(this,p),this.Qa=o+"main",this.serializer=new yt(de),this.Wa=new ri(this.Qa,10,new Ka(this.serializer)),this.ja=new Wo(this.Co,this.serializer),this.Sr=new Zs,this.br=new ts(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ka=this.window.localStorage:(this.Ka=null,!1===mt&&_t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.Un=function(n,o){if(n instanceof $s)return ri.Un(n.Wo,o);throw we()},s.prototype.start=function(){var n=this;return this.Ga().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new $(oe.FAILED_PRECONDITION,Ds);return n.za(),n.Ha(),n.Ya(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return n.ja.Ea(o)})}).then(function(o){n.ka=new U(o,n.$a)}).then(function(){n.Ma=!0}).catch(function(o){return n.Wa&&n.Wa.close(),Promise.reject(o)})},s.prototype.Ja=function(n){var o=this;return this.Ua=function(c){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return this.Ti?[2,n(c)]:[2]})})},n(this.isPrimary)},s.prototype.Xa=function(n){var o=this;this.Wa.jn(function(c){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){switch(p.label){case 0:return null===c.newVersion?[4,n()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})})},s.prototype.Za=function(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this._n.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return this.Ti?[4,this.Ga()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}))},s.prototype.Ga=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return M(o).put(new Lo(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.tc(o).next(function(c){c||(n.isPrimary=!1,n._n.Ds(function(){return n.Ua(!1)}))})}).next(function(){return n.ec(o)}).next(function(c){return n.isPrimary&&!c?n.nc(o).next(function(){return!1}):!!c&&n.sc(o).next(function(){return!0})})}).catch(function(o){if(fo(o))return De("IndexedDbPersistence","Failed to extend owner lease: ",o),n.isPrimary;if(!n.allowTabSynchronization)throw o;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){n.isPrimary!==o&&n._n.Ds(function(){return n.Ua(o)}),n.isPrimary=o})},s.prototype.tc=function(n){var o=this;return Ca(n).get(cr.key).next(function(c){return Kn.resolve(o.ic(c))})},s.prototype.rc=function(n){return M(n).delete(this.clientId)},s.prototype.oc=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,w=this;return y.__generator(this,function(x){switch(x.label){case 0:return!this.isPrimary||this.ac(this.qa,18e5)?[3,2]:(this.qa=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(K){var de=s.Un(K,Lo.store);return de.Zn().next(function(Ye){var mt=w.cc(Ye,18e5),Kt=Ye.filter(function($t){return-1===mt.indexOf($t)});return Kn.forEach(Kt,function($t){return de.delete($t.clientId)}).next(function(){return Kt})})}).catch(function(){return[]})]);case 1:if(n=x.sent(),this.Ka)for(o=0,c=n;o<c.length;o++)this.Ka.removeItem(this.uc(c[o].clientId));x.label=2;case 2:return[2]}})})},s.prototype.Ya=function(){var n=this;this.Ba=this._n.gn("client_metadata_refresh",4e3,function(){return n.Ga().then(function(){return n.oc()}).then(function(){return n.Ya()})})},s.prototype.ic=function(n){return!!n&&n.ownerId===this.clientId},s.prototype.ec=function(n){var o=this;return this.xa?Kn.resolve(!0):Ca(n).get(cr.key).next(function(c){if(null!==c&&o.ac(c.leaseTimestampMs,5e3)&&!o.hc(c.ownerId)){if(o.ic(c)&&o.networkEnabled)return!0;if(!o.ic(c)){if(!c.allowTabSynchronization)throw new $(oe.FAILED_PRECONDITION,Ds);return!1}}return!(!o.networkEnabled||!o.inForeground)||M(n).Zn().next(function(p){return void 0===o.cc(p,5e3).find(function(w){return!(o.clientId===w.clientId||!(!o.networkEnabled&&w.networkEnabled||!o.inForeground&&w.inForeground&&o.networkEnabled===w.networkEnabled))})})}).next(function(c){return o.isPrimary!==c&&De("IndexedDbPersistence","Client "+(c?"is":"is not")+" eligible for a primary lease."),c})},s.prototype.Si=function(){return y.__awaiter(this,void 0,void 0,function(){var n=this;return y.__generator(this,function(o){switch(o.label){case 0:return this.Ma=!1,this.lc(),this.Ba&&(this.Ba.cancel(),this.Ba=null),this._c(),this.fc(),[4,this.Wa.runTransaction("shutdown","readwrite",[cr.store,Lo.store],function(c){var p=new $s(c,U.oi);return n.nc(p).next(function(){return n.rc(p)})})];case 1:return o.sent(),this.Wa.close(),this.dc(),[2]}})})},s.prototype.cc=function(n,o){var c=this;return n.filter(function(p){return c.ac(p.updateTimeMs,o)&&!c.hc(p.clientId)})},s.prototype.Vi=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(o){return M(o).Zn().next(function(c){return n.cc(c,18e5).map(function(p){return p.clientId})})})},Object.defineProperty(s.prototype,"Ti",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),s.prototype.wc=function(n){return Oi.Fo(n,this.serializer,this.Sr,this.Co)},s.prototype.mc=function(){return this.ja},s.prototype.Tc=function(){return this.br},s.prototype.Ec=function(){return this.Sr},s.prototype.runTransaction=function(n,o,c){var w,p=this;return De("IndexedDbPersistence","Starting transaction:",n),this.Wa.runTransaction(n,"readonly"===o?"readonly":"readwrite",oa,function(K){return w=new $s(K,p.ka?p.ka.next():U.oi),"readwrite-primary"===o?p.tc(w).next(function(de){return!!de||p.ec(w)}).next(function(de){if(!de)throw _t("Failed to obtain primary lease for action '"+n+"'."),p.isPrimary=!1,p._n.Ds(function(){return p.Ua(!1)}),new $(oe.FAILED_PRECONDITION,d);return c(w)}).next(function(de){return p.sc(w).next(function(){return de})}):p.Ic(w).next(function(){return c(w)})}).then(function(K){return w.pr(),K})},s.prototype.Ic=function(n){var o=this;return Ca(n).get(cr.key).next(function(c){if(null!==c&&o.ac(c.leaseTimestampMs,5e3)&&!o.hc(c.ownerId)&&!o.ic(c)&&!(o.xa||o.allowTabSynchronization&&c.allowTabSynchronization))throw new $(oe.FAILED_PRECONDITION,Ds)})},s.prototype.sc=function(n){var o=new cr(this.clientId,this.allowTabSynchronization,Date.now());return Ca(n).put(cr.key,o)},s.On=function(){return ri.On()},s.prototype.nc=function(n){var o=this,c=Ca(n);return c.get(cr.key).next(function(p){return o.ic(p)?(De("IndexedDbPersistence","Releasing primary lease."),c.delete(cr.key)):Kn.resolve()})},s.prototype.ac=function(n,o){var c=Date.now();return!(n<c-o||n>c&&(_t("Detected an update time that is in the future: "+n+" > "+c),1))},s.prototype.za=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.La=function(){n._n.ds(function(){return n.inForeground="visible"===n.document.visibilityState,n.Ga()})},this.document.addEventListener("visibilitychange",this.La),this.inForeground="visible"===this.document.visibilityState)},s.prototype._c=function(){this.La&&(this.document.removeEventListener("visibilitychange",this.La),this.La=null)},s.prototype.Ha=function(){var n,o=this;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Oa=function(){o.lc(),o._n.ds(function(){return o.Si()})},this.window.addEventListener("unload",this.Oa))},s.prototype.fc=function(){this.Oa&&(this.window.removeEventListener("unload",this.Oa),this.Oa=null)},s.prototype.hc=function(n){var o;try{var c=null!==(null===(o=this.Ka)||void 0===o?void 0:o.getItem(this.uc(n)));return De("IndexedDbPersistence","Client '"+n+"' "+(c?"is":"is not")+" zombied in LocalStorage"),c}catch(p){return _t("IndexedDbPersistence","Failed to get zombied client id.",p),!1}},s.prototype.lc=function(){if(this.Ka)try{this.Ka.setItem(this.uc(this.clientId),String(Date.now()))}catch(n){_t("Failed to set zombie client id.",n)}},s.prototype.dc=function(){if(this.Ka)try{this.Ka.removeItem(this.uc(this.clientId))}catch{}},s.prototype.uc=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},s}();function Ca(s){return ys.Un(s,cr.store)}function M(s){return ys.Un(s,Lo.store)}var R=function(){function s(n,o){this.db=n,this.do=new S(this,o)}return s.prototype.Ro=function(n){var o=this.Ac(n);return this.db.mc().pa(n).next(function(c){return o.next(function(p){return c+p})})},s.prototype.Ac=function(n){var o=0;return this.yo(n,function(c){o++}).next(function(){return o})},s.prototype.De=function(n,o){return this.db.mc().De(n,o)},s.prototype.yo=function(n,o){return this.Rc(n,function(c,p){return o(p)})},s.prototype.Sa=function(n,o,c){return C(n,c)},s.prototype.Ca=function(n,o,c){return C(n,c)},s.prototype.Vo=function(n,o,c){return this.db.mc().Vo(n,o,c)},s.prototype.Ko=function(n,o){return C(n,o)},s.prototype.Pc=function(n,o){return p=o,w=!1,Bs(c=n).rs(function(x){return ji(c,x,p).next(function(K){return K&&(w=!0),Kn.resolve(!K)})}).next(function(){return w});var c,p,w},s.prototype.po=function(n,o){var c=this,p=this.db.Tc().ia(),w=[],x=0;return this.Rc(n,function(K,de){if(de<=o){var Ye=c.Pc(n,K).next(function(mt){if(!mt)return x++,p.Ar(n,K).next(function(){return p.Ir(K),sa(n).delete([0,E(K.path)])})});w.push(Ye)}}).next(function(){return Kn.$n(w)}).next(function(){return p.apply(n)}).next(function(){return x})},s.prototype.removeTarget=function(n,o){var c=o.nt(n.Fa);return this.db.mc().ga(n,c)},s.prototype.gc=function(n,o){return C(n,o)},s.prototype.Rc=function(n,o){var c,p=sa(n),w=U.oi;return p.ss({index:$o.documentTargetsIndex},function(x,K){var Ye=K.path,mt=K.sequenceNumber;0===x[0]?(w!==U.oi&&o(new D(be(c)),w),w=mt,c=Ye):w=U.oi}).next(function(){w!==U.oi&&o(new D(be(c)),w)})},s.prototype.vo=function(n){return this.db.Tc().oa(n)},s}();function C(s,n){return sa(s).put((c=s.Fa,new $o(0,E(n.path),c)));var c}function H(s,n){var o=s.projectId;return s.W||(o+="."+s.database),"firestore/"+n+"/"+o+"/"}var ae=function(){function s(n,o,c){this.persistence=n,this.yc=o,this.Vc=new Pt(Xt),this.bc=new dt(function(p){return ct(p)},wn),this.vc=Qt.min(),this.vr=n.wc(c),this.Sc=n.Tc(),this.ja=n.mc(),this.Dc=new A(this.Sc,this.vr,this.persistence.Ec()),this.yc.Cc(this.Dc)}return s.prototype.Eo=function(n){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return n.bo(c,o.Vc)})},s}();function Ae(s,n){var o=vt(s);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var x,K,de,Ye,mt,Kt,$t,p=n.batch.keys(),w=o.Sc.ia({ra:!0});return(x=o,K=c,de=n,Ye=w,mt=de.batch,Kt=mt.keys(),$t=Kn.resolve(),Kt.forEach(function(un){$t=$t.next(function(){return Ye.Ar(K,un)}).next(function(Dn){var Yn=Dn,Cr=de._r.get(un);Rt(null!==Cr),(!Yn||Yn.version.L(Cr)<0)&&(Yn=mt.ar(un,Yn,de))&&Ye.Tr(Yn,de.lr)})}),$t.next(function(){return x.vr.Qo(K,mt)})).next(function(){return w.apply(c)}).next(function(){return o.vr.Go(c)}).next(function(){return o.Dc.$r(c,p)})})}function Ze(s){var n=vt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return n.ja.Ta(o)})}function nn(s,n){var o=vt(s),c=n.et,p=o.Vc;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(w){var x=o.Sc.ia({ra:!0});p=o.Vc;var K=[];n.Gt.forEach(function(Kt,$t){var Cr,_r,Ur,un=p.get($t);if(un){K.push(o.ja.Da(w,Kt.ne,$t).next(function(){return o.ja.va(w,Kt.te,$t)}));var Dn=Kt.resumeToken;if(Dn.O()>0){var Yn=un.st(Dn,c).nt(w.Fa);p=p.rt($t,Yn),Cr=un,Ur=Kt,Rt((_r=Yn).resumeToken.O()>0),(0===Cr.resumeToken.O()||_r.et.J()-Cr.et.J()>=3e8||Ur.te.size+Ur.ee.size+Ur.ne.size>0)&&K.push(o.ja.ga(w,Yn))}}});var de=St(),Ye=qt();if(n.Ht.forEach(function(Kt,$t){Ye=Ye.add(Kt)}),K.push(x.getEntries(w,Ye).next(function(Kt){n.Ht.forEach(function($t,un){var Dn=Kt.get($t);un instanceof ni&&un.version.isEqual(Qt.min())?(x.Ir($t,c),de=de.rt($t,un)):null==Dn||un.version.L(Dn.version)>0||0===un.version.L(Dn.version)&&Dn.hasPendingWrites?(x.Tr(un,c),de=de.rt($t,un)):De("LocalStore","Ignoring outdated watch update for ",$t,". Current version:",Dn.version," Watch version:",un.version),n.Yt.has($t)&&K.push(o.persistence.Co.gc(w,$t))})})),!c.isEqual(Qt.min())){var mt=o.ja.Ta(w).next(function(Kt){return o.ja.Ia(w,w.Fa,c)});K.push(mt)}return Kn.$n(K).next(function(){return x.apply(w)}).next(function(){return o.Dc.kr(w,de)})}).then(function(w){return o.Vc=p,w})}function jn(s,n){var o=vt(s);return o.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===n&&(n=-1),o.vr.Lo(c,n)})}function dr(s,n){var o=vt(s);return o.persistence.runTransaction("Allocate target","readwrite",function(c){var p;return o.ja.ba(c,n).next(function(w){return w?Kn.resolve(p=w):o.ja.da(c).next(function(x){return p=new kn(n,x,0,c.Fa),o.ja.Aa(c,p).next(function(){return p})})})}).then(function(c){var p=o.Vc.get(c.targetId);return(null===p||c.et.L(p.et)>0)&&(o.Vc=o.Vc.rt(c.targetId,c),o.bc.set(n,c.targetId)),c})}function fr(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x;return y.__generator(this,function(K){switch(K.label){case 0:c=vt(s),p=c.Vc.get(n),w=o?"readwrite":"readwrite-primary",K.label=1;case 1:return K.trys.push([1,4,,5]),o?[3,3]:[4,c.persistence.runTransaction("Release target",w,function(de){return c.persistence.Co.removeTarget(de,p)})];case 2:K.sent(),K.label=3;case 3:return[3,5];case 4:if(!fo(x=K.sent()))throw x;return De("LocalStore","Failed to update sequence numbers for target "+n+": "+x),[3,5];case 5:return c.Vc=c.Vc.remove(n),c.bc.delete(p.target),[2]}})})}function bi(s,n,o){var c=vt(s),p=Qt.min(),w=qt();return c.persistence.runTransaction("Execute query","readonly",function(x){return(K=c,de=x,Ye=Zi(n),mt=vt(K),Kt=mt.bc.get(Ye),void 0!==Kt?Kn.resolve(mt.Vc.get(Kt)):mt.ja.ba(de,Ye)).next(function(K){if(K)return p=K.lastLimboFreeSnapshotVersion,c.ja.Na(x,K.targetId).next(function(de){w=de})}).next(function(){return c.yc.Or(x,n,o?p:Qt.min(),o?w:qt())}).next(function(K){return{documents:K,Nc:w}});var K,de,Ye,mt,Kt})}function Bo(s,n){var o=vt(s),c=vt(o.ja),p=o.Vc.get(n);return p?Promise.resolve(p.target):o.persistence.runTransaction("Get target data","readonly",function(w){return c.qe(w,n).next(function(x){return x?x.target:null})})}function aa(s){var n=vt(s);return n.persistence.runTransaction("Get new document changes","readonly",function(o){return p=o,w=n.vc,x=vt(n.Sc),K=St(),de=Sn(w),Ye=po(p),mt=IDBKeyRange.lowerBound(de,!0),Ye.ss({index:Di.readTimeIndex,range:mt},function(Kt,$t){var un=Ct(x.serializer,$t);K=K.rt(un.key,un),de=$t.readTime}).next(function(){return{Fc:K,readTime:bn(de)}});var p,w,x,K,de,Ye,mt}).then(function(o){var c=o.Fc;return n.vc=o.readTime,c})}function qs(s){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){return[2,(n=vt(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return w=po(c),x=Qt.min(),w.ss({index:Di.readTimeIndex,reverse:!0},function(K,de,Ye){de.readTime&&(x=bn(de.readTime)),Ye.done()}).next(function(){return x});var w,x}).then(function(c){n.vc=c})]})})}function ko(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){if(s.code!==oe.FAILED_PRECONDITION||s.message!==d)throw s;return De("LocalStore","Unexpectedly lost primary lease"),[2]})})}var _s=function(){function s(){this.$c=new ue(jo.xc),this.kc=new ue(jo.Mc)}return s.prototype.m=function(){return this.$c.m()},s.prototype.Sa=function(n,o){var c=new jo(n,o);this.$c=this.$c.add(c),this.kc=this.kc.add(c)},s.prototype.Oc=function(n,o){var c=this;n.forEach(function(p){return c.Sa(p,o)})},s.prototype.Ca=function(n,o){this.Lc(new jo(n,o))},s.prototype.Bc=function(n,o){var c=this;n.forEach(function(p){return c.Ca(p,o)})},s.prototype.qc=function(n){var o=this,c=new D(new et([])),p=new jo(c,n),w=new jo(c,n+1),x=[];return this.kc.Nt([p,w],function(K){o.Lc(K),x.push(K.key)}),x},s.prototype.Uc=function(){var n=this;this.$c.forEach(function(o){return n.Lc(o)})},s.prototype.Lc=function(n){this.$c=this.$c.delete(n),this.kc=this.kc.delete(n)},s.prototype.Qc=function(n){var o=new D(new et([])),c=new jo(o,n),p=new jo(o,n+1),w=qt();return this.kc.Nt([c,p],function(x){w=w.add(x.key)}),w},s.prototype.zo=function(n){var o=new jo(n,0),c=this.$c.$t(o);return null!==c&&n.isEqual(c.key)},s}(),jo=function(){function s(n,o){this.key=n,this.Wc=o}return s.xc=function(n,o){return D.i(n.key,o.key)||Xt(n.Wc,o.Wc)},s.Mc=function(n,o){return Xt(n.Wc,o.Wc)||D.i(n.key,o.key)},s}(),Ia=function(s,n){this.user=n,this.type="OAuth",this.jc={},this.jc.Authorization="Bearer "+s},Pa=function(){function s(){this.Kc=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.Gc=function(){},s.prototype.zc=function(n){this.Kc=n,n(xi.UNAUTHENTICATED)},s.prototype.Hc=function(){this.Kc=null},s}(),Nu=function(){function s(n){var o=this;this.Yc=null,this.currentUser=xi.UNAUTHENTICATED,this.Jc=!1,this.Xc=0,this.Kc=null,this.forceRefresh=!1,this.Yc=function(){o.Xc++,o.currentUser=o.Zc(),o.Jc=!0,o.Kc&&o.Kc(o.currentUser)},this.Xc=0,this.auth=n.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Yc):(this.Yc(null),n.get().then(function(c){o.auth=c,o.Yc&&o.auth.addAuthTokenListener(o.Yc)},function(){}))}return s.prototype.getToken=function(){var n=this,o=this.Xc,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(function(p){return n.Xc!==o?(De("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):p?(Rt("string"==typeof p.accessToken),new Ia(p.accessToken,n.currentUser)):null}):Promise.resolve(null)},s.prototype.Gc=function(){this.forceRefresh=!0},s.prototype.zc=function(n){this.Kc=n,this.Jc&&n(this.currentUser)},s.prototype.Hc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Yc),this.Yc=null,this.Kc=null},s.prototype.Zc=function(){var n=this.auth&&this.auth.getUid();return Rt(null===n||"string"==typeof n),new xi(n)},s}(),$a=function(){function s(n,o){this.tu=n,this.eu=o,this.type="FirstParty",this.user=xi.ei}return Object.defineProperty(s.prototype,"jc",{get:function(){var n={"X-Goog-AuthUser":this.eu},o=this.tu.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),n},enumerable:!1,configurable:!0}),s}(),ru=function(){function s(n,o){this.tu=n,this.eu=o}return s.prototype.getToken=function(){return Promise.resolve(new $a(this.tu,this.eu))},s.prototype.zc=function(n){n(xi.ei)},s.prototype.Hc=function(){},s.prototype.Gc=function(){},s}(),Ul=function(){function s(n,o,c,p,w,x){this._n=n,this.nu=c,this.su=p,this.iu=w,this.listener=x,this.state=0,this.ru=0,this.ou=null,this.stream=null,this.gs=new ps(n,o)}return s.prototype.au=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.cu=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.uu()},s.prototype.stop=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){switch(n.label){case 0:return this.au()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},s.prototype.hu=function(){this.state=0,this.gs.reset()},s.prototype.lu=function(){var n=this;this.cu()&&null===this.ou&&(this.ou=this._n.gn(this.nu,6e4,function(){return n._u()}))},s.prototype.fu=function(n){this.du(),this.stream.send(n)},s.prototype._u=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return this.cu()?[2,this.close(0)]:[2]})})},s.prototype.du=function(){this.ou&&(this.ou.cancel(),this.ou=null)},s.prototype.close=function(n,o){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return this.du(),this.gs.cancel(),this.ru++,3!==n?this.gs.reset():o&&o.code===oe.RESOURCE_EXHAUSTED?(_t(o.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):o&&o.code===oe.UNAUTHENTICATED&&this.iu.Gc(),null!==this.stream&&(this.wu(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.mu(o)];case 1:return c.sent(),[2]}})})},s.prototype.wu=function(){},s.prototype.auth=function(){var n=this;this.state=1;var o=this.Tu(this.ru),c=this.ru;this.iu.getToken().then(function(p){n.ru===c&&n.Eu(p)},function(p){o(function(){var w=new $(oe.UNKNOWN,"Fetching auth token failed: "+p.message);return n.Iu(w)})})},s.prototype.Eu=function(n){var o=this,c=this.Tu(this.ru);this.stream=this.Au(n),this.stream.Ru(function(){c(function(){return o.state=2,o.listener.Ru()})}),this.stream.mu(function(p){c(function(){return o.Iu(p)})}),this.stream.onMessage(function(p){c(function(){return o.onMessage(p)})})},s.prototype.uu=function(){var n=this;this.state=4,this.gs.Rn(function(){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(o){return this.state=0,this.start(),[2]})})})},s.prototype.Iu=function(n){return De("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},s.prototype.Tu=function(n){var o=this;return function(c){o._n.ds(function(){return o.ru===n?c():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),va=function(s){function n(o,c,p,w,x){var K=this;return(K=s.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",c,p,x)||this).serializer=w,K}return y.__extends(n,s),n.prototype.Au=function(o){return this.su.Pu("Listen",o)},n.prototype.onMessage=function(o){this.gs.reset();var c=function(w,x){var K,na;if("targetChange"in x){var de="NO_CHANGE"===(na=x.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===na?1:"REMOVE"===na?2:"CURRENT"===na?3:"RESET"===na?4:we(),Ye=x.targetChange.targetIds||[],mt=function(na,Ua){return na.Ue?(Rt(void 0===Ua||"string"==typeof Ua),xn.fromBase64String(Ua||"")):(Rt(void 0===Ua||Ua instanceof Uint8Array),xn.fromUint8Array(Ua||new Uint8Array))}(w,x.targetChange.resumeToken),Kt=x.targetChange.cause,$t=Kt&&function(na){var Ua=void 0===na.code?oe.UNKNOWN:cn(na.code);return new $(Ua,na.message||"")}(Kt);K=new ei(de,Ye,mt,$t||null)}else if("documentChange"in x){var un=x.documentChange,Dn=Qe(w,un.document.name),Yn=ze(un.document.updateTime),Cr=new _o({mapValue:{fields:un.document.fields}}),_r=new Qr(Dn,Yn,Cr,{});K=new Cn(un.targetIds||[],un.removedTargetIds||[],_r.key,_r)}else if("documentDelete"in x){var Yi=x.documentDelete,xr=Qe(w,Yi.document),wo=Yi.readTime?ze(Yi.readTime):Qt.min(),ta=new ni(xr,wo);K=new Cn([],Yi.removedTargetIds||[],ta.key,ta)}else if("documentRemove"in x){var Jl=x.documentRemove,Eu=Qe(w,Jl.document);K=new Cn([],Jl.removedTargetIds||[],Eu,null)}else{if(!("filter"in x))return we();var Cl=x.filter,Gc=new Jn(Cl.count||0);K=new lr(Cl.targetId,Gc)}return K}(this.serializer,o),p=function(w){if(!("targetChange"in w))return Qt.min();var x=w.targetChange;return x.targetIds&&x.targetIds.length?Qt.min():x.readTime?ze(x.readTime):Qt.min()}(o);return this.listener.gu(c,p)},n.prototype.yu=function(o){var w,x,K,de,c={};c.database=rr(this.serializer),c.addTarget=(w=this.serializer,(K=An(de=(x=o).target)?{documents:or(w,de)}:{query:Ii(w,de)}).targetId=x.targetId,x.resumeToken.O()>0&&(K.resumeToken=Ro(w,x.resumeToken)),K);var p=function(w,x){var K=function(de,Ye){switch(Ye){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,x.tt);return null==K?null:{"goog-listen-tags":K}}(0,o);p&&(c.labels=p),this.fu(c)},n.prototype.Vu=function(o){var c={};c.database=rr(this.serializer),c.removeTarget=o,this.fu(c)},n}(Ul),xa=function(s){function n(o,c,p,w,x){var K=this;return(K=s.call(this,o,"write_stream_connection_backoff","write_stream_idle",c,p,x)||this).serializer=w,K.pu=!1,K}return y.__extends(n,s),Object.defineProperty(n.prototype,"bu",{get:function(){return this.pu},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.pu=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},n.prototype.wu=function(){this.pu&&this.vu([])},n.prototype.Au=function(o){return this.su.Pu("Write",o)},n.prototype.onMessage=function(o){if(Rt(!!o.streamToken),this.lastStreamToken=o.streamToken,this.pu){this.gs.reset();var c=(x=o.commitTime,(w=o.writeResults)&&w.length>0?(Rt(void 0!==x),w.map(function(K){return function(de,Ye){var mt=ze(de.updateTime?de.updateTime:Ye);mt.isEqual(Qt.min())&&(mt=ze(Ye));var Kt=null;return de.transformResults&&de.transformResults.length>0&&(Kt=de.transformResults),new qn(mt,Kt)}(K,x)})):[]),p=ze(o.commitTime);return this.listener.Su(p,c)}var w,x;return Rt(!o.writeResults||0===o.writeResults.length),this.pu=!0,this.listener.Du()},n.prototype.Cu=function(){var o={};o.database=rr(this.serializer),this.fu(o)},n.prototype.vu=function(o){var c=this,p={streamToken:this.lastStreamToken,writes:o.map(function(w){return vr(c.serializer,w)})};this.fu(p)},n}(Ul),qa=function(s){function n(o,c,p){var w=this;return(w=s.call(this)||this).credentials=o,w.su=c,w.serializer=p,w.Nu=!1,w}return y.__extends(n,s),n.prototype.Fu=function(){if(this.Nu)throw new $(oe.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.$u=function(o,c,p){var w=this;return this.Fu(),this.credentials.getToken().then(function(x){return w.su.$u(o,c,p,x)}).catch(function(x){throw x.code===oe.UNAUTHENTICATED&&w.credentials.Gc(),x})},n.prototype.xu=function(o,c,p){var w=this;return this.Fu(),this.credentials.getToken().then(function(x){return w.su.xu(o,c,p,x)}).catch(function(x){throw x.code===oe.UNAUTHENTICATED&&w.credentials.Gc(),x})},n.prototype.terminate=function(){this.Nu=!1},n}(function(){}),Tc=function(){function s(n,o){this.os=n,this.fi=o,this.state="Unknown",this.ku=0,this.Mu=null,this.Ou=!0}return s.prototype.Lu=function(){var n=this;0===this.ku&&(this.Bu("Unknown"),this.Mu=this.os.gn("online_state_timeout",1e4,function(){return n.Mu=null,n.qu("Backend didn't respond within 10 seconds."),n.Bu("Offline"),Promise.resolve()}))},s.prototype.Uu=function(n){"Online"===this.state?this.Bu("Unknown"):(this.ku++,this.ku>=1&&(this.Qu(),this.qu("Connection failed 1 times. Most recent error: "+n.toString()),this.Bu("Offline")))},s.prototype.set=function(n){this.Qu(),this.ku=0,"Online"===n&&(this.Ou=!1),this.Bu(n)},s.prototype.Bu=function(n){n!==this.state&&(this.state=n,this.fi(n))},s.prototype.qu=function(n){var o="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ou?(_t(o),this.Ou=!1):De("OnlineStateTracker",o)},s.prototype.Qu=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},s}(),ih=function(s,n,o,c,p){var w=this;this.Wu=s,this.ju=n,this.os=o,this.Ku={},this.Gu=[],this.zu=new Map,this.Hu=new Set,this.Yu=[],this.Ju=p,this.Ju.Xu(function(x){o.ds(function(){return y.__awaiter(w,void 0,void 0,function(){return y.__generator(this,function(K){switch(K.label){case 0:return ka(this)?(De("RemoteStore","Restarting streams for network reachability change."),[4,function(de){return y.__awaiter(this,void 0,void 0,function(){var Ye;return y.__generator(this,function(mt){switch(mt.label){case 0:return(Ye=vt(de)).Hu.add(4),[4,Js(Ye)];case 1:return mt.sent(),Ye.Zu.set("Unknown"),Ye.Hu.delete(4),[4,bs(Ye)];case 2:return mt.sent(),[2]}})})}(this)]):[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})})}),this.Zu=new Tc(o,c)};function bs(s){return y.__awaiter(this,void 0,void 0,function(){var n,o;return y.__generator(this,function(c){switch(c.label){case 0:if(!ka(s))return[3,4];n=0,o=s.Yu,c.label=1;case 1:return n<o.length?[4,(0,o[n])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Js(s){return y.__awaiter(this,void 0,void 0,function(){var n,o;return y.__generator(this,function(c){switch(c.label){case 0:n=0,o=s.Yu,c.label=1;case 1:return n<o.length?[4,(0,o[n])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function dd(s){return y.__awaiter(this,void 0,void 0,function(){var n;return y.__generator(this,function(o){switch(o.label){case 0:return n=vt(s),De("RemoteStore","RemoteStore shutting down."),n.Hu.add(5),[4,Js(n)];case 1:return o.sent(),n.Ju.Si(),n.Zu.set("Unknown"),[2]}})})}function Ma(s,n){var o=vt(s);o.zu.has(n.targetId)||(o.zu.set(n.targetId,n),Aa(o)?Fu(o):fl(o).cu()&&Ys(o,n))}function dl(s,n){var o=vt(s),c=fl(o);o.zu.delete(n),c.cu()&&hl(o,n),0===o.zu.size&&(c.cu()?c.lu():ka(o)&&o.Zu.set("Unknown"))}function Ys(s,n){s.th.Ee(n.targetId),fl(s).yu(n)}function hl(s,n){s.th.Ee(n),fl(s).Vu(n)}function Fu(s){s.th=new pt({Be:function(n){return s.Ku.Be(n)},qe:function(n){return s.zu.get(n)||null}}),fl(s).start(),s.Zu.Lu()}function Aa(s){return ka(s)&&!fl(s).au()&&s.zu.size>0}function ka(s){return 0===vt(s).Hu.size}function la(s){s.th=void 0}function Dc(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return s.zu.forEach(function(o,c){Ys(s,o)}),[2]})})}function Vl(s,n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){return la(s),Aa(s)?(s.Zu.Uu(n),Fu(s)):s.Zu.set("Unknown"),[2]})})}function Cc(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w;return y.__generator(this,function(x){switch(x.label){case 0:if(s.Zu.set("Online"),!(n instanceof ei&&2===n.state&&n.cause))return[3,6];x.label=1;case 1:return x.trys.push([1,3,,5]),[4,function(K,de){return y.__awaiter(this,void 0,void 0,function(){var Ye,mt,Kt,$t;return y.__generator(this,function(un){switch(un.label){case 0:Ye=de.cause,mt=0,Kt=de.targetIds,un.label=1;case 1:return mt<Kt.length?K.zu.has($t=Kt[mt])?[4,K.Ku.eh($t,Ye)]:[3,3]:[3,5];case 2:un.sent(),K.zu.delete($t),K.th.removeTarget($t),un.label=3;case 3:un.label=4;case 4:return mt++,[3,1];case 5:return[2]}})})}(s,n)];case 2:return x.sent(),[3,5];case 3:return c=x.sent(),De("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),c),[4,ya(s,c)];case 4:return x.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof Cn?s.th.pe(n):n instanceof lr?s.th.$e(n):s.th.Se(n),o.isEqual(Qt.min()))return[3,13];x.label=7;case 7:return x.trys.push([7,11,,13]),[4,Ze(s.Wu)];case 8:return p=x.sent(),o.L(p)>=0?[4,(K=s,de=o,Ye=K.th.Me(de),Ye.Gt.forEach(function(mt,Kt){if(mt.resumeToken.O()>0){var $t=K.zu.get(Kt);$t&&K.zu.set(Kt,$t.st(mt.resumeToken,de))}}),Ye.zt.forEach(function(mt){var Kt=K.zu.get(mt);if(Kt){K.zu.set(mt,Kt.st(xn.B,Kt.et)),hl(K,mt);var $t=new kn(Kt.target,mt,1,Kt.sequenceNumber);Ys(K,$t)}}),K.Ku.nh(Ye))]:[3,10];case 9:x.sent(),x.label=10;case 10:return[3,13];case 11:return De("RemoteStore","Failed to raise snapshot:",w=x.sent()),[4,ya(s,w)];case 12:return x.sent(),[3,13];case 13:return[2]}var K,de,Ye})})}function ya(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c=this;return y.__generator(this,function(p){switch(p.label){case 0:if(!fo(n))throw n;return s.Hu.add(1),[4,Js(s)];case 1:return p.sent(),s.Zu.set("Offline"),o||(o=function(){return Ze(s.Wu)}),s.os.Ds(function(){return y.__awaiter(c,void 0,void 0,function(){return y.__generator(this,function(w){switch(w.label){case 0:return De("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return w.sent(),s.Hu.delete(1),[4,bs(s)];case 2:return w.sent(),[2]}})})}),[2]}})})}function Ic(s,n){return n().catch(function(o){return ya(s,o,n)})}function Ns(s){return y.__awaiter(this,void 0,void 0,function(){var n,o,c,p,w;return y.__generator(this,function(x){switch(x.label){case 0:n=vt(s),o=Oa(n),c=n.Gu.length>0?n.Gu[n.Gu.length-1].batchId:-1,x.label=1;case 1:if(!(ka(K=n)&&K.Gu.length<10))return[3,7];x.label=2;case 2:return x.trys.push([2,4,,6]),[4,jn(n.Wu,c)];case 3:return null===(p=x.sent())?(0===n.Gu.length&&o.lu(),[3,7]):(c=p.batchId,function(K,de){K.Gu.push(de);var Ye=Oa(K);Ye.cu()&&Ye.bu&&Ye.vu(de.mutations)}(n,p),[3,6]);case 4:return w=x.sent(),[4,ya(n,w)];case 5:return x.sent(),[3,6];case 6:return[3,1];case 7:return Pc(n)&&Lu(n),[2]}var K})})}function Pc(s){return ka(s)&&!Oa(s).au()&&s.Gu.length>0}function Lu(s){Oa(s).start()}function _a(s){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){return Oa(s).Cu(),[2]})})}function bf(s){return y.__awaiter(this,void 0,void 0,function(){var n,o,c;return y.__generator(this,function(w){for(n=Oa(s),o=0,c=s.Gu;o<c.length;o++)n.vu(c[o].mutations);return[2]})})}function Bu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:return c=s.Gu.shift(),p=g.from(c,n,o),[4,Ic(s,function(){return s.Ku.sh(p)})];case 1:return w.sent(),[4,Ns(s)];case 2:return w.sent(),[2]}})})}function ua(s,n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){switch(o.label){case 0:return n&&Oa(s).bu?[4,function(c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x;return y.__generator(this,function(K){switch(K.label){case 0:return Ir(x=p.code)&&x!==oe.ABORTED?(w=c.Gu.shift(),Oa(c).hu(),[4,Ic(c,function(){return c.Ku.ih(w.batchId,p)})]):[3,3];case 1:return K.sent(),[4,Ns(c)];case 2:K.sent(),K.label=3;case 3:return[2]}})})}(s,n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Pc(s)&&Lu(s),[2]}})})}function xc(s,n){return y.__awaiter(this,void 0,void 0,function(){var o;return y.__generator(this,function(p){switch(p.label){case 0:return o=vt(s),n?(o.Hu.delete(2),[4,bs(o)]):[3,2];case 1:return p.sent(),[3,5];case 2:return n?[3,4]:(o.Hu.add(2),[4,Js(o)]);case 3:p.sent(),o.Zu.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function fl(s){var o,c,p,w,n=this;return s.rh||(s.rh=(o=s.ju,c=s.os,p={Ru:Dc.bind(null,s),mu:Vl.bind(null,s),gu:Cc.bind(null,s)},(w=vt(o)).Fu(),new va(c,w.su,w.credentials,w.serializer,p)),s.Yu.push(function(o){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return o?(s.rh.hu(),Aa(s)?Fu(s):s.Zu.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.rh.stop()];case 2:c.sent(),la(s),c.label=3;case 3:return[2]}})})})),s.rh}function Oa(s){var o,c,p,w,n=this;return s.oh||(s.oh=(o=s.ju,c=s.os,p={Ru:_a.bind(null,s),mu:ua.bind(null,s),Du:bf.bind(null,s),Su:Bu.bind(null,s)},(w=vt(o)).Fu(),new xa(c,w.su,w.credentials,w.serializer,p)),s.Yu.push(function(o){return y.__awaiter(n,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return o?(s.oh.hu(),[4,Ns(s)]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,s.oh.stop()];case 3:c.sent(),s.Gu.length>0&&(De("RemoteStore","Stopping write stream with "+s.Gu.length+" pending writes"),s.Gu=[]),c.label=4;case 4:return[2]}})})})),s.oh}var ca=function(s){this.key=s},hd=function(s){this.key=s},fd=function(){function s(n,o){this.query=n,this.ah=o,this.uh=null,this.Zt=!1,this.hh=qt(),this.Qt=qt(),this.lh=Bi(n),this._h=new Ie(this.lh)}return Object.defineProperty(s.prototype,"fh",{get:function(){return this.ah},enumerable:!1,configurable:!0}),s.prototype.dh=function(n,o){var c=this,p=o?o.wh:new Dt,w=o?o._h:this._h,x=o?o.Qt:this.Qt,K=w,de=!1,Ye=Nr(this.query)&&w.size===this.query.limit?w.last():null,mt=co(this.query)&&w.size===this.query.limit?w.first():null;if(n.ut(function($t,un){var Dn=w.get($t),Yn=un instanceof Qr?un:null;Yn&&(Yn=ci(c.query,Yn)?Yn:null);var Cr=!!Dn&&c.Qt.has(Dn.key),_r=!!Yn&&(Yn.Ye||c.Qt.has(Yn.key)&&Yn.hasCommittedMutations),Ur=!1;Dn&&Yn?Dn.data().isEqual(Yn.data())?Cr!==_r&&(p.track({type:3,doc:Yn}),Ur=!0):c.mh(Dn,Yn)||(p.track({type:2,doc:Yn}),Ur=!0,(Ye&&c.lh(Yn,Ye)>0||mt&&c.lh(Yn,mt)<0)&&(de=!0)):!Dn&&Yn?(p.track({type:0,doc:Yn}),Ur=!0):Dn&&!Yn&&(p.track({type:1,doc:Dn}),Ur=!0,(Ye||mt)&&(de=!0)),Ur&&(Yn?(K=K.add(Yn),x=_r?x.add($t):x.delete($t)):(K=K.delete($t),x=x.delete($t)))}),Nr(this.query)||co(this.query))for(;K.size>this.query.limit;){var Kt=Nr(this.query)?K.last():K.first();K=K.delete(Kt.key),x=x.delete(Kt.key),p.track({type:1,doc:Kt})}return{_h:K,wh:p,Th:de,Qt:x}},s.prototype.mh=function(n,o){return n.Ye&&o.hasCommittedMutations&&!o.Ye},s.prototype.gr=function(n,o,c){var p=this,w=this._h;this._h=n._h,this.Qt=n.Qt;var x=n.wh.qt();x.sort(function(mt,Kt){return un=Kt.type,(Dn=function(Yn){switch(Yn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}})(mt.type)-Dn(un)||p.lh(mt.doc,Kt.doc);var un,Dn}),this.Eh(c);var K=o?this.Ih():[],de=0===this.hh.size&&this.Zt?1:0,Ye=de!==this.uh;return this.uh=de,0!==x.length||Ye?{snapshot:new Ft(this.query,n._h,w,x,n.Qt,0===de,Ye,!1),Ah:K}:{Ah:K}},s.prototype.Us=function(n){return this.Zt&&"Offline"===n?(this.Zt=!1,this.gr({_h:this._h,wh:new Dt,Qt:this.Qt,Th:!1},!1)):{Ah:[]}},s.prototype.Rh=function(n){return!this.ah.has(n)&&!!this._h.has(n)&&!this._h.get(n).Ye},s.prototype.Eh=function(n){var o=this;n&&(n.te.forEach(function(c){return o.ah=o.ah.add(c)}),n.ee.forEach(function(c){}),n.ne.forEach(function(c){return o.ah=o.ah.delete(c)}),this.Zt=n.Zt)},s.prototype.Ih=function(){var n=this;if(!this.Zt)return[];var o=this.hh;this.hh=qt(),this._h.forEach(function(p){n.Rh(p.key)&&(n.hh=n.hh.add(p.key))});var c=[];return o.forEach(function(p){n.hh.has(p)||c.push(new hd(p))}),this.hh.forEach(function(p){o.has(p)||c.push(new ca(p))}),c},s.prototype.Ph=function(n){this.ah=n.Nc,this.hh=qt();var o=this.dh(n.documents);return this.gr(o,!0)},s.prototype.gh=function(){return Ft.Kt(this.query,this._h,this.Qt,0===this.uh)},s}(),ju=function(s,n,o){this.query=s,this.targetId=n,this.view=o},Mc=function(s){this.key=s,this.yh=!1},Yu=function(){function s(n,o,c,p,w,x){this.Wu=n,this.Vh=o,this.ph=c,this.bh=p,this.currentUser=w,this.Sh=x,this.Dh={},this.Ch=new dt(function(K){return ds(K)},Br),this.Nh=new Map,this.Fh=[],this.$h=new Pt(D.i),this.xh=new Map,this.kh=new _s,this.Mh={},this.Oh=new Map,this.Lh=cl.fa(),this.onlineState="Unknown",this.Bh=void 0}return Object.defineProperty(s.prototype,"qh",{get:function(){return!0===this.Bh},enumerable:!1,configurable:!0}),s}();function Hl(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,p,w,x,K;return y.__generator(this,function(de){switch(de.label){case 0:return o=Wu(s),(w=o.Ch.get(n))?(o.bh.Mi(w.targetId),p=w.view.gh(),[3,4]):[3,1];case 1:return[4,dr(o.Wu,Zi(n))];case 2:return x=de.sent(),K=o.bh.Mi(x.targetId),[4,pl(o,n,x.targetId,"current"===K)];case 3:p=de.sent(),o.qh&&Ma(o.Vh,x),de.label=4;case 4:return[2,p]}})})}function pl(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w,x,K,de,Ye;return y.__generator(this,function(mt){switch(mt.label){case 0:return s.Uh=function(Kt,$t,un){return function(Dn,Yn,Cr,_r){return y.__awaiter(this,void 0,void 0,function(){var Ur,ui,Yi;return y.__generator(this,function(xr){switch(xr.label){case 0:return(Ur=Yn.view.dh(Cr)).Th?[4,bi(Dn.Wu,Yn.query,!1).then(function(wo){return Yn.view.dh(wo.documents,Ur)})]:[3,2];case 1:Ur=xr.sent(),xr.label=2;case 2:return ui=_r&&_r.Gt.get(Yn.targetId),Yi=Yn.view.gr(Ur,Dn.qh,ui),[2,(ou(Dn,Yn.targetId,Yi.Ah),Yi.snapshot)]}})})}(s,Kt,$t,un)},[4,bi(s.Wu,n,!0)];case 1:return p=mt.sent(),w=new fd(n,p.Nc),x=w.dh(p.documents),K=Qn.Xt(o,c&&"Offline"!==s.onlineState),de=w.gr(x,s.qh,K),ou(s,o,de.Ah),Ye=new ju(n,o,w),[2,(s.Ch.set(n,Ye),s.Nh.has(o)?s.Nh.get(o).push(n):s.Nh.set(o,[n]),de.snapshot)]}})})}function Gs(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:return o=vt(s),c=o.Ch.get(n),(p=o.Nh.get(c.targetId)).length>1?[2,(o.Nh.set(c.targetId,p.filter(function(x){return!Br(x,n)})),void o.Ch.delete(n))]:o.qh?(o.bh.Li(c.targetId),o.bh.Ni(c.targetId)?[3,2]:[4,fr(o.Wu,c.targetId,!1).then(function(){o.bh.qi(c.targetId),dl(o.Vh,c.targetId),Qa(o,c.targetId)}).catch(ko)]):[3,3];case 1:w.sent(),w.label=2;case 2:return[3,5];case 3:return Qa(o,c.targetId),[4,fr(o.Wu,c.targetId,!0)];case 4:w.sent(),w.label=5;case 5:return[2]}})})}function Ac(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c;return y.__generator(this,function(p){switch(p.label){case 0:o=vt(s),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,nn(o.Wu,n)];case 2:return c=p.sent(),n.Gt.forEach(function(w,x){var K=o.xh.get(x);K&&(Rt(w.te.size+w.ee.size+w.ne.size<=1),w.te.size>0?K.yh=!0:w.ee.size>0?Rt(K.yh):w.ne.size>0&&(Rt(K.yh),K.yh=!1))}),[4,da(o,c,n)];case 3:return p.sent(),[3,6];case 4:return[4,ko(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function Uu(s,n,o){var c=vt(s);if(c.qh&&0===o||!c.qh&&1===o){var p=[];c.Ch.forEach(function(w,x){var K=x.view.Us(n);K.snapshot&&p.push(K.snapshot)}),function(w,x){var K=vt(w);K.onlineState=x;var de=!1;K.Ls.forEach(function(Ye,mt){for(var Kt=0,$t=mt.listeners;Kt<$t.length;Kt++)$t[Kt].Us(x)&&(de=!0)}),de&&Jo(K)}(c.ph,n),p.length&&c.Dh.gu(p),c.onlineState=n,c.qh&&c.bh.ji(n)}}function Vu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,K,de;return y.__generator(this,function(Ye){switch(Ye.label){case 0:return(c=vt(s)).bh.Ui(n,"rejected",o),p=c.xh.get(n),(w=p&&p.key)?(x=(x=new Pt(D.i)).rt(w,new ni(w,Qt.min())),K=qt().add(w),de=new pn(Qt.min(),new Map,new ue(Xt),x,K),[4,Ac(c,de)]):[3,2];case 1:return Ye.sent(),c.$h=c.$h.remove(w),c.xh.delete(n),Cs(c),[3,4];case 2:return[4,fr(c.Wu,n,!1).then(function(){return Qa(c,n,o)}).catch(ko)];case 3:Ye.sent(),Ye.label=4;case 4:return[2]}})})}function kc(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:o=vt(s),c=n.batch.batchId,w.label=1;case 1:return w.trys.push([1,4,,6]),[4,Ae(o.Wu,n)];case 2:return p=w.sent(),iu(o,c,null),Hu(o,c),o.bh.xi(c,"acknowledged"),[4,da(o,p)];case 3:return w.sent(),[3,6];case 4:return[4,ko(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}})})}function zl(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:c=vt(s),w.label=1;case 1:return w.trys.push([1,4,,6]),[4,(x=c.Wu,K=n,de=vt(x),de.persistence.runTransaction("Reject batch","readwrite-primary",function(Ye){var mt;return de.vr.Mo(Ye,K).next(function(Kt){return Rt(null!==Kt),mt=Kt.keys(),de.vr.Qo(Ye,Kt)}).next(function(){return de.vr.Go(Ye)}).next(function(){return de.Dc.$r(Ye,mt)})}))];case 2:return p=w.sent(),iu(c,n,o),Hu(c,n),c.bh.xi(n,"rejected",o),[4,da(c,p)];case 3:return w.sent(),[3,6];case 4:return[4,ko(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}var x,K,de})})}function Hu(s,n){(s.Oh.get(n)||[]).forEach(function(o){o.resolve()}),s.Oh.delete(n)}function iu(s,n,o){var c=vt(s),p=c.Mh[c.currentUser.Zs()];if(p){var w=p.get(n);w&&(o?w.reject(o):w.resolve(),p=p.remove(n)),c.Mh[c.currentUser.Zs()]=p}}function Qa(s,n,o){void 0===o&&(o=null),s.bh.Li(n);for(var c=0,p=s.Nh.get(n);c<p.length;c++){var w=p[c];s.Ch.delete(w),o&&s.Dh.Qh(w,o)}s.Nh.delete(n),s.qh&&s.kh.qc(n).forEach(function(x){s.kh.zo(x)||Oc(s,x)})}function Oc(s,n){var o=s.$h.get(n);null!==o&&(dl(s.Vh,o),s.$h=s.$h.remove(n),s.xh.delete(o),Cs(s))}function ou(s,n,o){for(var c=0,p=o;c<p.length;c++){var w=p[c];w instanceof ca?(s.kh.Sa(w.key,n),su(s,w)):w instanceof hd?(De("SyncEngine","Document no longer in limbo: "+w.key),s.kh.Ca(w.key,n),s.kh.zo(w.key)||Oc(s,w.key)):we()}}function su(s,n){var o=n.key;s.$h.get(o)||(De("SyncEngine","New document in limbo: "+o),s.Fh.push(o),Cs(s))}function Cs(s){for(;s.Fh.length>0&&s.$h.size<s.Sh;){var n=s.Fh.shift(),o=s.Lh.next();s.xh.set(o,new Mc(n)),s.$h=s.$h.rt(n,o),Ma(s.Vh,new kn(Zi(Io(n.path)),o,2,U.oi))}}function da(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x;return y.__generator(this,function(K){switch(K.label){case 0:return c=vt(s),p=[],w=[],x=[],c.Ch.m()?[3,3]:(c.Ch.forEach(function(de,Ye){x.push(c.Uh(Ye,n,o).then(function(mt){if(mt){c.qh&&c.bh.Ui(Ye.targetId,mt.fromCache?"not-current":"current"),p.push(mt);var Kt=V.Gr(Ye.targetId,mt);w.push(Kt)}}))}),[4,Promise.all(x)]);case 1:return K.sent(),c.Dh.gu(p),[4,function(de,Ye){return y.__awaiter(this,void 0,void 0,function(){var mt,Kt,$t,un,Dn,Yn,Cr,Ur;return y.__generator(this,function(ui){switch(ui.label){case 0:mt=vt(de),ui.label=1;case 1:return ui.trys.push([1,3,,4]),[4,mt.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Yi){return Kn.forEach(Ye,function(xr){return Kn.forEach(xr.jr,function(wo){return mt.persistence.Co.Sa(Yi,xr.targetId,wo)}).next(function(){return Kn.forEach(xr.Kr,function(wo){return mt.persistence.Co.Ca(Yi,xr.targetId,wo)})})})})];case 2:return ui.sent(),[3,4];case 3:if(!fo(Kt=ui.sent()))throw Kt;return De("LocalStore","Failed to update sequence numbers: "+Kt),[3,4];case 4:for($t=0,un=Ye;$t<un.length;$t++)Yn=(Dn=un[$t]).targetId,Dn.fromCache||(Cr=mt.Vc.get(Yn),Ur=Cr.it(Cr.et),mt.Vc=mt.Vc.rt(Yn,Ur));return[2]}})})}(c.Wu,w)];case 2:K.sent(),K.label=3;case 3:return[2]}})})}function pd(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c;return y.__generator(this,function(p){switch(p.label){case 0:return(o=vt(s)).currentUser.isEqual(n)?[3,3]:(De("SyncEngine","User change. New user:",n.Zs()),[4,function(w,x){return y.__awaiter(this,void 0,void 0,function(){var K,de,Ye,mt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:return K=vt(w),de=K.vr,Ye=K.Dc,[4,K.persistence.runTransaction("Handle user change","readonly",function($t){var un;return K.vr.qo($t).next(function(Dn){return un=Dn,de=K.persistence.wc(x),Ye=new A(K.Sc,de,K.persistence.Ec()),de.qo($t)}).next(function(Dn){for(var Yn=[],Cr=[],_r=qt(),Ur=0,ui=un;Ur<ui.length;Ur++){var Yi=ui[Ur];Yn.push(Yi.batchId);for(var xr=0,wo=Yi.mutations;xr<wo.length;xr++)_r=_r.add(wo[xr].key)}for(var Ya=0,Jl=Dn;Ya<Jl.length;Ya++){var Eu=Jl[Ya];Cr.push(Eu.batchId);for(var rl=0,Cl=Eu.mutations;rl<Cl.length;rl++)_r=_r.add(Cl[rl].key)}return Ye.$r($t,_r).next(function(Gc){return{Wh:Gc,jh:Yn,Kh:Cr}})})})];case 1:return mt=Kt.sent(),[2,(K.vr=de,K.Dc=Ye,K.yc.Cc(K.Dc),mt)]}})})}(o.Wu,n)]);case 1:return c=p.sent(),o.currentUser=n,(w=o).Oh.forEach(function(K){K.forEach(function(de){de.reject(new $(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),w.Oh.clear(),o.bh.Wi(n,c.jh,c.Kh),[4,da(o,c.Wh)];case 2:p.sent(),p.label=3;case 3:return[2]}var w})})}function Rc(s,n){var o=vt(s),c=o.xh.get(n);if(c&&c.yh)return qt().add(c.key);var p=qt(),w=o.Nh.get(n);if(!w)return p;for(var x=0,K=w;x<K.length;x++){var Ye=o.Ch.get(K[x]);p=p.xt(Ye.view.fh)}return p}function Is(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p;return y.__generator(this,function(w){switch(w.label){case 0:return[4,bi((o=vt(s)).Wu,n.query,!0)];case 1:return c=w.sent(),p=n.view.Ph(c),[2,(o.qh&&ou(o,n.targetId,p.Ah),p)]}})})}function ml(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w;return y.__generator(this,function(x){switch(x.label){case 0:return[4,(K=(p=vt(s)).Wu,de=n,Ye=vt(K),mt=vt(Ye.vr),Ye.persistence.runTransaction("Lookup mutation documents","readonly",function(Kt){return mt.Oo(Kt,de).next(function($t){return $t?Ye.Dc.$r(Kt,$t):Kn.resolve(null)})}))];case 1:return null===(w=x.sent())?[3,6]:"pending"!==o?[3,3]:[4,Ns(p.Vh)];case 2:return x.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(iu(p,n,c||null),Hu(p,n),function(K,de){vt(vt(K).vr).jo(de)}(p.Wu,n)):we(),x.label=4;case 4:return[4,da(p,w)];case 5:return x.sent(),[3,7];case 6:De("SyncEngine","Cannot apply mutation batch with id: "+n),x.label=7;case 7:return[2]}var K,de,Ye,mt})})}function au(s,n){return y.__awaiter(this,void 0,void 0,function(){var o,c,p,w,x,de,Ye;return y.__generator(this,function(mt){switch(mt.label){case 0:return Wu(o=vt(s)),Xa(o),!0!==n||!0===o.Bh?[3,3]:(c=o.bh.Di(),[4,lu(o,c.A())]);case 1:return p=mt.sent(),o.Bh=!0,[4,xc(o.Vh,!0)];case 2:for(mt.sent(),w=0,x=p;w<x.length;w++)Ma(o.Vh,x[w]);return[3,7];case 3:return!1!==n||!1===o.Bh?[3,7]:(de=[],Ye=Promise.resolve(),o.Nh.forEach(function(Kt,$t){o.bh.Bi($t)?de.push($t):Ye=Ye.then(function(){return Qa(o,$t),fr(o.Wu,$t,!0)}),dl(o.Vh,$t)}),[4,Ye]);case 4:return mt.sent(),[4,lu(o,de)];case 5:return mt.sent(),($t=vt(o)).xh.forEach(function(un,Dn){dl($t.Vh,Dn)}),$t.kh.Uc(),$t.xh=new Map,$t.$h=new Pt(D.i),o.Bh=!1,[4,xc(o.Vh,!1)];case 6:mt.sent(),mt.label=7;case 7:return[2]}var $t})})}function lu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,K,de,Ye,mt,Kt,$t,Dn,Yn,Cr;return y.__generator(this,function(_r){switch(_r.label){case 0:c=vt(s),p=[],w=[],x=0,K=n,_r.label=1;case 1:return x<K.length?(Ye=void 0,(mt=c.Nh.get(de=K[x]))&&0!==mt.length?[4,dr(c.Wu,Zi(mt[0]))]:[3,7]):[3,13];case 2:Ye=_r.sent(),Kt=0,$t=mt,_r.label=3;case 3:return Kt<$t.length?(Dn=c.Ch.get($t[Kt]),[4,Is(c,Dn)]):[3,6];case 4:(Yn=_r.sent()).snapshot&&w.push(Yn.snapshot),_r.label=5;case 5:return Kt++,[3,3];case 6:return[3,11];case 7:return[4,Bo(c.Wu,de)];case 8:return Cr=_r.sent(),[4,dr(c.Wu,Cr)];case 9:return Ye=_r.sent(),[4,pl(c,Qs(Cr),de,!1)];case 10:_r.sent(),_r.label=11;case 11:p.push(Ye),_r.label=12;case 12:return x++,[3,1];case 13:return[2,(c.Dh.gu(w),p)]}})})}function Qs(s){return ss(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function uu(s){var n=vt(s);return vt(vt(n.Wu).persistence).Vi()}function Nc(s,n,o,c){return y.__awaiter(this,void 0,void 0,function(){var p,w,x;return y.__generator(this,function(K){switch(K.label){case 0:return(p=vt(s)).Bh?(De("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!p.Nh.has(n))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aa(p.Wu)];case 3:return w=K.sent(),x=pn.Jt(n,"current"===o),[4,da(p,w,x)];case 4:return K.sent(),[3,8];case 5:return[4,fr(p.Wu,n,!0)];case 6:return K.sent(),Qa(p,n,c),[3,8];case 7:we(),K.label=8;case 8:return[2]}})})}function zu(s,n,o){return y.__awaiter(this,void 0,void 0,function(){var c,p,w,x,K,de,Ye,mt,Kt;return y.__generator(this,function(un){switch(un.label){case 0:if(!(c=Wu(s)).Bh)return[3,10];p=0,w=n,un.label=1;case 1:return p<w.length?c.Nh.has(x=w[p])?(De("SyncEngine","Adding an already active target "+x),[3,5]):[4,Bo(c.Wu,x)]:[3,6];case 2:return K=un.sent(),[4,dr(c.Wu,K)];case 3:return de=un.sent(),[4,pl(c,Qs(K),de.targetId,!1)];case 4:un.sent(),Ma(c.Vh,de),un.label=5;case 5:return p++,[3,1];case 6:Ye=function(Dn){return y.__generator(this,function(Yn){switch(Yn.label){case 0:return c.Nh.has(Dn)?[4,fr(c.Wu,Dn,!1).then(function(){dl(c.Vh,Dn),Qa(c,Dn)}).catch(ko)]:[3,2];case 1:Yn.sent(),Yn.label=2;case 2:return[2]}})},mt=0,Kt=o,un.label=7;case 7:return mt<Kt.length?[5,Ye(Kt[mt])]:[3,10];case 8:un.sent(),un.label=9;case 9:return mt++,[3,7];case 10:return[2]}})})}function Wu(s){var n=vt(s);return n.Vh.Ku.nh=Ac.bind(null,n),n.Vh.Ku.Be=Rc.bind(null,n),n.Vh.Ku.eh=Vu.bind(null,n),n.Dh.gu=Mo.bind(null,n.ph),n.Dh.Qh=Ao.bind(null,n.ph),n}function Xa(s){var n=vt(s);return n.Vh.Ku.sh=kc.bind(null,n),n.Vh.Ku.ih=zl.bind(null,n),n}var cu=function(){function s(){}return s.prototype.Cc=function(n){this.Gh=n},s.prototype.Or=function(n,o,c,p){var x,w=this;return 0===(x=o).filters.length&&null===x.limit&&null==x.startAt&&null==x.endAt&&(0===x.rn.length||1===x.rn.length&&x.rn[0].field.p())||c.isEqual(Qt.min())?this.zh(n,o):this.Gh.$r(n,p).next(function(x){var K=w.Hh(o,x);return(Nr(o)||co(o))&&w.Th(o.on,K,p,c)?w.zh(n,o):(Te()<=Y.LogLevel.DEBUG&&De("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Vo(o)),w.Gh.Or(n,o,c).next(function(de){return K.forEach(function(Ye){de=de.rt(Ye.key,Ye)}),de}))})},s.prototype.Hh=function(n,o){var c=new ue(Bi(n));return o.forEach(function(p,w){w instanceof Qr&&ci(n,w)&&(c=c.add(w))}),c},s.prototype.Th=function(n,o,c,p){if(c.size!==o.size)return!0;var w="F"===n?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.L(p)>0)},s.prototype.zh=function(n,o){return Te()<=Y.LogLevel.DEBUG&&De("IndexFreeQueryEngine","Using full collection scan to execute query:",Vo(o)),this.Gh.Or(n,o,Qt.min())},s}(),du=function(){function s(n,o){this.Sr=n,this.Co=o,this.vr=[],this.Yh=1,this.Jh=new ue(jo.xc)}return s.prototype.$o=function(n){return Kn.resolve(0===this.vr.length)},s.prototype.xo=function(n,o,c,p){var w=this.Yh;this.Yh++;var x=new jr(w,o,c,p);this.vr.push(x);for(var K=0,de=p;K<de.length;K++){var Ye=de[K];this.Jh=this.Jh.add(new jo(Ye.key,w)),this.Sr.ko(n,Ye.key.path.h())}return Kn.resolve(x)},s.prototype.Mo=function(n,o){return Kn.resolve(this.Xh(o))},s.prototype.Lo=function(n,o){var p=this.Zh(o+1),w=p<0?0:p;return Kn.resolve(this.vr.length>w?this.vr[w]:null)},s.prototype.Bo=function(){return Kn.resolve(0===this.vr.length?-1:this.Yh-1)},s.prototype.qo=function(n){return Kn.resolve(this.vr.slice())},s.prototype.Cr=function(n,o){var c=this,p=new jo(o,0),w=new jo(o,Number.POSITIVE_INFINITY),x=[];return this.Jh.Nt([p,w],function(K){var de=c.Xh(K.Wc);x.push(de)}),Kn.resolve(x)},s.prototype.Mr=function(n,o){var c=this,p=new ue(Xt);return o.forEach(function(w){var x=new jo(w,0),K=new jo(w,Number.POSITIVE_INFINITY);c.Jh.Nt([x,K],function(de){p=p.add(de.Wc)})}),Kn.resolve(this.tl(p))},s.prototype.Qr=function(n,o){var c=o.path,p=c.length+1,w=c;D.F(w)||(w=w.child(""));var x=new jo(new D(w),0),K=new ue(Xt);return this.Jh.Ft(function(de){var Ye=de.key.path;return!!c.T(Ye)&&(Ye.length===p&&(K=K.add(de.Wc)),!0)},x),Kn.resolve(this.tl(K))},s.prototype.tl=function(n){var o=this,c=[];return n.forEach(function(p){var w=o.Xh(p);null!==w&&c.push(w)}),c},s.prototype.Qo=function(n,o){var c=this;Rt(0===this.el(o.batchId,"removed")),this.vr.shift();var p=this.Jh;return Kn.forEach(o.mutations,function(w){var x=new jo(w.key,o.batchId);return p=p.delete(x),c.Co.Ko(n,w.key)}).next(function(){c.Jh=p})},s.prototype.jo=function(n){},s.prototype.zo=function(n,o){var c=new jo(o,0),p=this.Jh.$t(c);return Kn.resolve(o.isEqual(p&&p.key))},s.prototype.Go=function(n){return Kn.resolve()},s.prototype.el=function(n,o){return this.Zh(n)},s.prototype.Zh=function(n){return 0===this.vr.length?0:n-this.vr[0].batchId},s.prototype.Xh=function(n){var o=this.Zh(n);return o<0||o>=this.vr.length?null:this.vr[o]},s}(),Gu=function(){function s(n,o){this.Sr=n,this.nl=o,this.docs=new Pt(D.i),this.size=0}return s.prototype.Tr=function(n,o,c){var p=o.key,w=this.docs.get(p),x=w?w.size:0,K=this.nl(o);return this.docs=this.docs.rt(p,{Zo:o,size:K,readTime:c}),this.size+=K-x,this.Sr.ko(n,p.path.h())},s.prototype.Ir=function(n){var o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)},s.prototype.Ar=function(n,o){var c=this.docs.get(o);return Kn.resolve(c?c.Zo:null)},s.prototype.getEntries=function(n,o){var c=this,p=vn();return o.forEach(function(w){var x=c.docs.get(w);p=p.rt(w,x?x.Zo:null)}),Kn.resolve(p)},s.prototype.Or=function(n,o,c){for(var p=It(),w=new D(o.path.child("")),x=this.docs._t(w);x.It();){var K=x.Et(),Ye=K.value,mt=Ye.Zo,Kt=Ye.readTime;if(!o.path.T(K.key.path))break;Kt.L(c)<=0||mt instanceof Qr&&ci(o,mt)&&(p=p.rt(mt.key,mt))}return Kn.resolve(p)},s.prototype.sl=function(n,o){return Kn.forEach(this.docs,function(c){return o(c)})},s.prototype.ia=function(n){return new Fc(this)},s.prototype.oa=function(n){return Kn.resolve(this.size)},s}(),Fc=function(s){function n(o){var c=this;return(c=s.call(this)||this).aa=o,c}return y.__extends(n,s),n.prototype.gr=function(o){var c=this,p=[];return this.dr.forEach(function(w,x){x?p.push(c.aa.Tr(o,x,c.readTime)):c.aa.Ir(w)}),Kn.$n(p)},n.prototype.Rr=function(o,c){return this.aa.Ar(o,c)},n.prototype.Pr=function(o,c){return this.aa.getEntries(o,c)},n}(l),oh=function(){function s(n){this.persistence=n,this.il=new dt(function(o){return ct(o)},wn),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.rl=0,this.ol=new _s,this.targetCount=0,this.al=cl._a()}return s.prototype.De=function(n,o){return this.il.forEach(function(c,p){return o(p)}),Kn.resolve()},s.prototype.Ta=function(n){return Kn.resolve(this.lastRemoteSnapshotVersion)},s.prototype.Ea=function(n){return Kn.resolve(this.rl)},s.prototype.da=function(n){return this.highestTargetId=this.al.next(),Kn.resolve(this.highestTargetId)},s.prototype.Ia=function(n,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.rl&&(this.rl=o),Kn.resolve()},s.prototype.Ra=function(n){this.il.set(n.target,n);var o=n.targetId;o>this.highestTargetId&&(this.al=new cl(o),this.highestTargetId=o),n.sequenceNumber>this.rl&&(this.rl=n.sequenceNumber)},s.prototype.Aa=function(n,o){return this.Ra(o),this.targetCount+=1,Kn.resolve()},s.prototype.ga=function(n,o){return this.Ra(o),Kn.resolve()},s.prototype.ya=function(n,o){return this.il.delete(o.target),this.ol.qc(o.targetId),this.targetCount-=1,Kn.resolve()},s.prototype.Vo=function(n,o,c){var p=this,w=0,x=[];return this.il.forEach(function(K,de){de.sequenceNumber<=o&&null===c.get(de.targetId)&&(p.il.delete(K),x.push(p.Va(n,de.targetId)),w++)}),Kn.$n(x).next(function(){return w})},s.prototype.pa=function(n){return Kn.resolve(this.targetCount)},s.prototype.ba=function(n,o){var c=this.il.get(o)||null;return Kn.resolve(c)},s.prototype.va=function(n,o,c){return this.ol.Oc(o,c),Kn.resolve()},s.prototype.Da=function(n,o,c){this.ol.Bc(o,c);var p=this.persistence.Co,w=[];return p&&o.forEach(function(x){w.push(p.Ko(n,x))}),Kn.$n(w)},s.prototype.Va=function(n,o){return this.ol.qc(o),Kn.resolve()},s.prototype.Na=function(n,o){var c=this.ol.Qc(o);return Kn.resolve(c)},s.prototype.zo=function(n,o){return Kn.resolve(this.ol.zo(o))},s}(),hu=function(){function s(n){var o=this;this.cl={},this.ka=new U(0),this.Ma=!1,this.Ma=!0,this.Co=n(this),this.ja=new oh(this),this.Sr=new Os,this.br=new Gu(this.Sr,function(w){return o.Co.ul(w)})}return s.prototype.start=function(){return Promise.resolve()},s.prototype.Si=function(){return this.Ma=!1,Promise.resolve()},Object.defineProperty(s.prototype,"Ti",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),s.prototype.Xa=function(){},s.prototype.Za=function(){},s.prototype.Ec=function(){return this.Sr},s.prototype.wc=function(n){var o=this.cl[n.Zs()];return o||(o=new du(this.Sr,this.Co),this.cl[n.Zs()]=o),o},s.prototype.mc=function(){return this.ja},s.prototype.Tc=function(){return this.br},s.prototype.runTransaction=function(n,o,c){var p=this;De("MemoryPersistence","Starting transaction:",n);var w=new sh(this.ka.next());return this.Co.hl(),c(w).next(function(x){return p.Co.ll(w).next(function(){return x})}).Nn().then(function(x){return w.pr(),x})},s.prototype._l=function(n,o){return Kn.xn(Object.values(this.cl).map(function(c){return function(){return c.zo(n,o)}}))},s}(),sh=function(s){function n(o){var c=this;return(c=s.call(this)||this).Fa=o,c}return y.__extends(n,s),n}(b),ah=function(){function s(n){this.persistence=n,this.fl=new _s,this.dl=null}return s.wl=function(n){return new s(n)},Object.defineProperty(s.prototype,"ml",{get:function(){if(this.dl)return this.dl;throw we()},enumerable:!1,configurable:!0}),s.prototype.Sa=function(n,o,c){return this.fl.Sa(c,o),this.ml.delete(c.toString()),Kn.resolve()},s.prototype.Ca=function(n,o,c){return this.fl.Ca(c,o),this.ml.add(c.toString()),Kn.resolve()},s.prototype.Ko=function(n,o){return this.ml.add(o.toString()),Kn.resolve()},s.prototype.removeTarget=function(n,o){var c=this;this.fl.qc(o.targetId).forEach(function(w){return c.ml.add(w.toString())});var p=this.persistence.mc();return p.Na(n,o.targetId).next(function(w){w.forEach(function(x){return c.ml.add(x.toString())})}).next(function(){return p.ya(n,o)})},s.prototype.hl=function(){this.dl=new Set},s.prototype.ll=function(n){var o=this,c=this.persistence.Tc().ia();return Kn.forEach(this.ml,function(p){var w=D.D(p);return o.Tl(n,w).next(function(x){x||c.Ir(w)})}).next(function(){return o.dl=null,c.apply(n)})},s.prototype.gc=function(n,o){var c=this;return this.Tl(n,o).next(function(p){p?c.ml.delete(o.toString()):c.ml.add(o.toString())})},s.prototype.ul=function(n){return 0},s.prototype.Tl=function(n,o){var c=this;return Kn.xn([function(){return Kn.resolve(c.fl.zo(o))},function(){return c.persistence.mc().zo(n,o)},function(){return c.persistence._l(n,o)}])},s}(),Ku=function(){function s(n){this.El=n.El,this.Il=n.Il}return s.prototype.Ru=function(n){this.Al=n},s.prototype.mu=function(n){this.Rl=n},s.prototype.onMessage=function(n){this.Pl=n},s.prototype.close=function(){this.Il()},s.prototype.send=function(n){this.El(n)},s.prototype.gl=function(){this.Al()},s.prototype.yl=function(n){this.Rl(n)},s.prototype.Vl=function(n){this.Pl(n)},s}(),$u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lc=function(s){function n(o){var c=this;return(c=s.call(this,o)||this).forceLongPolling=o.forceLongPolling,c}return y.__extends(n,s),n.prototype.Cl=function(o,c,p,w){return new Promise(function(x,K){var de=new z.XhrIo;de.listenOnce(z.EventType.COMPLETE,function(){try{switch(de.getLastErrorCode()){case z.ErrorCode.NO_ERROR:var mt=de.getResponseJson();De("Connection","XHR received:",JSON.stringify(mt)),x(mt);break;case z.ErrorCode.TIMEOUT:De("Connection",'RPC "'+o+'" timed out'),K(new $(oe.DEADLINE_EXCEEDED,"Request time out"));break;case z.ErrorCode.HTTP_ERROR:var Kt=de.getStatus();if(De("Connection",'RPC "'+o+'" failed with status:',Kt,"response text:",de.getResponseText()),Kt>0){var $t=de.getResponseJson().error;if($t&&$t.status&&$t.message){var un=(Yn=$t.status.toLowerCase().replace("_","-"),Object.values(oe).indexOf(Yn)>=0?Yn:oe.UNKNOWN);K(new $(un,$t.message))}else K(new $(oe.UNKNOWN,"Server responded with status "+de.getStatus()))}else K(new $(oe.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{De("Connection",'RPC "'+o+'" completed.')}var Yn});var Ye=JSON.stringify(w);de.send(c,"POST",Ye,p,15)})},n.prototype.Pu=function(o,c){var p=[this.bl,"/","google.firestore.v1.Firestore","/",o,"/channel"],w=z.createWebChannelTransport(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Dl(x.initMessageHeaders,c),Pe.isMobileCordova()||Pe.isReactNative()||Pe.isElectron()||Pe.isIE()||Pe.isUWP()||Pe.isBrowserExtension()||(x.httpHeadersOverwriteParam="$httpHeaders");var K=p.join("");De("Connection","Creating WebChannel: "+K,x);var de=w.createWebChannel(K,x),Ye=!1,mt=!1,Kt=new Ku({El:function(un){mt?De("Connection","Not sending because WebChannel is closed:",un):(Ye||(De("Connection","Opening WebChannel transport."),de.open(),Ye=!0),De("Connection","WebChannel sending:",un),de.send(un))},Il:function(){return de.close()}}),$t=function(un,Dn){de.listen(un,function(Yn){try{Dn(Yn)}catch(Cr){setTimeout(function(){throw Cr},0)}})};return $t(z.WebChannel.EventType.OPEN,function(){mt||De("Connection","WebChannel transport opened.")}),$t(z.WebChannel.EventType.CLOSE,function(){mt||(mt=!0,De("Connection","WebChannel transport closed"),Kt.yl())}),$t(z.WebChannel.EventType.ERROR,function(un){mt||(mt=!0,Zt("Connection","WebChannel transport errored:",un),Kt.yl(new $(oe.UNAVAILABLE,"The operation could not be completed")))}),$t(z.WebChannel.EventType.MESSAGE,function(un){var Dn;if(!mt){var Yn=un.data[0];Rt(!!Yn);var _r=Yn.error||(null===(Dn=Yn[0])||void 0===Dn?void 0:Dn.error);if(_r){De("Connection","WebChannel received error:",_r);var Ur=_r.status,ui=function(xr){var wo=Hn[xr];if(void 0!==wo)return cn(wo)}(Ur),Yi=_r.message;void 0===ui&&(ui=oe.INTERNAL,Yi="Unknown error status: "+Ur+" with message "+_r.message),mt=!0,Kt.yl(new $(ui,Yi)),de.close()}else De("Connection","WebChannel received:",Yn),Kt.Vl(Yn)}}),setTimeout(function(){Kt.gl()},0),Kt},n}(function(){function s(n){this.pl=n,this.U=n.U,this.bl=(n.ssl?"https":"http")+"://"+n.host,this.vl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return s.prototype.$u=function(n,o,c,p){var w=this.Sl(n,o);De("RestConnection","Sending: ",w,c);var x={};return this.Dl(x,p),this.Cl(n,w,x,c).then(function(K){return De("RestConnection","Received: ",K),K},function(K){throw Zt("RestConnection",n+" failed with error: ",K,"url: ",w,"request:",c),K})},s.prototype.xu=function(n,o,c,p){return this.$u(n,o,c,p)},s.prototype.Dl=function(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/7.23.0",n["Content-Type"]="text/plain",o)for(var c in o.jc)o.jc.hasOwnProperty(c)&&(n[c]=o.jc[c])},s.prototype.Sl=function(n,o){return this.bl+"/v1/"+o+":"+$u[n]},s}()),ba=function(){function s(){var n=this;this.Nl=function(){return n.Fl()},this.$l=function(){return n.xl()},this.kl=[],this.Ml()}return s.prototype.Xu=function(n){this.kl.push(n)},s.prototype.Si=function(){window.removeEventListener("online",this.Nl),window.removeEventListener("offline",this.$l)},s.prototype.Ml=function(){window.addEventListener("online",this.Nl),window.addEventListener("offline",this.$l)},s.prototype.Fl=function(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,o=this.kl;n<o.length;n++)(0,o[n])(0)},s.prototype.xl=function(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,o=this.kl;n<o.length;n++)(0,o[n])(1)},s.On=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),qu=function(){function s(){}return s.prototype.Xu=function(n){},s.prototype.Si=function(){},s}();function Za(s){return new Wi(s,!0)}var fu="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Wl=function(){function s(){}return s.prototype.initialize=function(n){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(o){switch(o.label){case 0:return this.bh=this.Ol(n),this.persistence=this.Ll(n),[4,this.persistence.start()];case 1:return o.sent(),this.Bl=this.ql(n),this.Wu=this.Ul(n),[2]}})})},s.prototype.ql=function(n){return null},s.prototype.Ul=function(n){return o=this.persistence,c=new cu,new ae(o,c,n.Ql);var o,c},s.prototype.Ll=function(n){if(n.persistenceSettings.Wl)throw new $(oe.FAILED_PRECONDITION,fu);return new hu(ah.wl)},s.prototype.Ol=function(n){return new oi},s.prototype.terminate=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(n){switch(n.label){case 0:return this.Bl&&this.Bl.stop(),[4,this.bh.Si()];case 1:return n.sent(),[4,this.persistence.Si()];case 2:return n.sent(),[2]}})})},s.prototype.clearPersistence=function(n,o){throw new $(oe.FAILED_PRECONDITION,fu)},s}(),Ra=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.initialize=function(o){return y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return w.sent(),c=this.jl._i,this.bh instanceof Fr?(this.bh._i={tr:ml.bind(null,c),er:Nc.bind(null,c),nr:zu.bind(null,c),Vi:uu.bind(null,c)},[4,this.bh.start()]):[3,3];case 2:w.sent(),w.label=3;case 3:return[4,this.persistence.Ja(function(x){return y.__awaiter(p,void 0,void 0,function(){return y.__generator(this,function(K){switch(K.label){case 0:return[4,au(this.jl._i,x)];case 1:return K.sent(),this.Bl&&(x&&!this.Bl.Ti?this.Bl.start(this.Wu):x||this.Bl.stop()),[2]}})})})];case 4:return w.sent(),[2]}})})},n.prototype.Ol=function(o){if(o.persistenceSettings.Wl&&o.persistenceSettings.synchronizeTabs){var c=W();if(!Fr.On(c))throw new $(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var p=H(o.pl.U,o.pl.persistenceKey);return new Fr(c,o.os,p,o.clientId,o.Ql)}return new oi},n}(function(s){function n(o){var c=this;return(c=s.call(this)||this).jl=o,c}return y.__extends(n,s),n.prototype.initialize=function(o){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(c){switch(c.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return c.sent(),[4,qs(this.Wu)];case 2:return c.sent(),[4,this.jl.initialize(this,o)];case 3:return c.sent(),[4,Xa(this.jl._i)];case 4:return c.sent(),[4,Ns(this.jl.Vh)];case 5:return c.sent(),[2]}})})},n.prototype.ql=function(o){return new L(this.persistence.Co.do,o.os)},n.prototype.Ll=function(o){var c=H(o.pl.U,o.pl.persistenceKey),p=Za(o.pl.U);return new ys(o.persistenceSettings.synchronizeTabs,c,o.clientId,Je.oo(o.persistenceSettings.cacheSizeBytes),o.os,W(),fe(),p,this.bh,o.persistenceSettings.xa)},n.prototype.Ol=function(o){return new oi},n.prototype.clearPersistence=function(o,c){return function(p){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(x){switch(x.label){case 0:return ri.On()?[4,ri.delete(p+"main")]:[2,Promise.resolve()];case 1:return x.sent(),[2]}})})}(H(o,c))},n}(Wl)),wa=function(){function s(){}return s.prototype.initialize=function(n,o){return y.__awaiter(this,void 0,void 0,function(){var c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.Wu?[3,2]:(this.Wu=n.Wu,this.bh=n.bh,this.ju=this.Kl(o),this.Vh=this.Gl(o),this.ph=this.zl(o),this._i=this.Hl(o),this.bh.fi=function(w){return Uu(c._i,w,1)},this.Vh.Ku.Yl=pd.bind(null,this._i),[4,xc(this.Vh,this._i.qh)]);case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.zl=function(n){return new ii},s.prototype.Kl=function(n){var c=Za(n.pl.U),p=new Lc(n.pl);return new qa(n.credentials,p,c)},s.prototype.Gl=function(n){var o,c,p,w,x,K=this;return o=this.Wu,c=this.ju,p=n.os,w=function(de){return Uu(K._i,de,0)},x=ba.On()?new ba:new qu,new ih(o,c,p,w,x)},s.prototype.Hl=function(n){return de=!n.persistenceSettings.Wl||!n.persistenceSettings.synchronizeTabs,Ye=new Yu(this.Wu,this.Vh,this.ph,this.bh,n.Ql,n.Sh),de&&(Ye.Bh=!0),Ye;var de,Ye},s.prototype.terminate=function(){return dd(this.Vh)},s}(),Ja=function(){function s(n){this.observer=n,this.muted=!1}return s.prototype.next=function(n){this.observer.next&&this.Jl(this.observer.next,n)},s.prototype.error=function(n){this.observer.error?this.Jl(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},s.prototype.Xl=function(){this.muted=!0},s.prototype.Jl=function(n,o){var c=this;this.muted||setTimeout(function(){c.muted||n(o)},0)},s}(),Gl=function(s){!function(o,c,p,w){if(!(c instanceof Array)||c.length<1)throw new $(oe.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+sn(1,"element")+".")}(0,s);for(var n=0;n<s.length;++n)if(Ke("FieldPath","string",n,s[n]),0===s[n].length)throw new $(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new k(s)},gl=function(s){function n(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return s.call(this,o)||this}return y.__extends(n,s),n.documentId=function(){return new n(k.v().R())},n.prototype.isEqual=function(o){if(!(o instanceof n))throw Et("isEqual","FieldPath",1,o);return this.Zl.isEqual(o.Zl)},n}(Gl),Bc=new RegExp("[~\\*/\\[\\]]"),Na=function(s){this.t_=s},el=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.e_=function(o){if(2!==o.n_)throw o.s_(1===o.n_?this.t_+"() can only appear at the top level of your update data":this.t_+"() cannot be used with set() unless you pass {merge:true}");return o.Qe.push(o.path),null},n.prototype.isEqual=function(o){return o instanceof n},n}(Na);function Kl(s,n,o){return new ea({n_:3,i_:n.settings.i_,methodName:s.t_,r_:o},n.U,n.serializer,n.ignoreUndefinedProperties)}var vl=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.e_=function(o){return new Pn(o.path,new lo)},n.prototype.isEqual=function(o){return o instanceof n},n}(Na),md=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).o_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=Kl(this,o,!0),p=this.o_.map(function(x){return Sa(x,c)}),w=new se(p);return new Pn(o.path,w)},n.prototype.isEqual=function(o){return this===o},n}(Na),Qu=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).o_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=Kl(this,o,!0),p=this.o_.map(function(x){return Sa(x,c)}),w=new Be(p);return new Pn(o.path,w)},n.prototype.isEqual=function(o){return this===o},n}(Na),Xu=function(s){function n(o,c){var p=this;return(p=s.call(this,o)||this).a_=c,p}return y.__extends(n,s),n.prototype.e_=function(o){var c=new jt(o.serializer,eo(o.serializer,this.a_));return new Pn(o.path,c)},n.prototype.isEqual=function(o){return this===o},n}(Na),pu=function(){function s(n,o){if(J("GeoPoint",arguments,2),Ke("GeoPoint","number",1,n),Ke("GeoPoint","number",2,o),!isFinite(n)||n<-90||n>90)throw new $(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new $(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this.c_=n,this.u_=o}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){return this.c_===n.c_&&this.u_===n.u_},s.prototype.toJSON=function(){return{latitude:this.c_,longitude:this.u_}},s.prototype.H=function(n){return Xt(this.c_,n.c_)||Xt(this.u_,n.u_)},s}(),Ea=function(s){this.h_=s},mu=/^__.*__$/,$l=function(s,n,o){this.l_=s,this.__=n,this.f_=o},lh=function(){function s(n,o,c){this.data=n,this.Qe=o,this.fieldTransforms=c}return s.prototype.d_=function(n,o){var c=[];return c.push(null!==this.Qe?new Ar(n,this.data,this.Qe,o):new yi(n,this.data,o)),this.fieldTransforms.length>0&&c.push(new uo(n,this.fieldTransforms)),c},s}(),jc=function(){function s(n,o,c){this.data=n,this.Qe=o,this.fieldTransforms=c}return s.prototype.d_=function(n,o){var c=[new Ar(n,this.data,this.Qe,o)];return this.fieldTransforms.length>0&&c.push(new uo(n,this.fieldTransforms)),c},s}();function tl(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var ea=function(){function s(n,o,c,p,w,x){this.settings=n,this.U=o,this.serializer=c,this.ignoreUndefinedProperties=p,void 0===w&&this.w_(),this.fieldTransforms=w||[],this.Qe=x||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),s.prototype.m_=function(n){return new s(Object.assign(Object.assign({},this.settings),n),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},s.prototype.T_=function(n){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(n),p=this.m_({path:c,r_:!1});return p.E_(n),p},s.prototype.I_=function(n){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(n),p=this.m_({path:c,r_:!1});return p.w_(),p},s.prototype.A_=function(n){return this.m_({path:void 0,r_:!0})},s.prototype.s_=function(n){return _l(n,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},s.prototype.contains=function(n){return void 0!==this.Qe.find(function(o){return n.T(o)})||void 0!==this.fieldTransforms.find(function(o){return n.T(o.field)})},s.prototype.w_=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.E_(this.path.get(n))},s.prototype.E_=function(n){if(0===n.length)throw this.s_("Document fields must not be empty");if(tl(this.n_)&&mu.test(n))throw this.s_('Document fields cannot begin and end with "__"')},s}(),Zu=function(){function s(n,o,c){this.U=n,this.ignoreUndefinedProperties=o,this.serializer=c||Za(n)}return s.prototype.P_=function(n,o,c,p){return void 0===p&&(p=!1),new ea({n_:n,methodName:o,i_:c,path:k.g(),r_:!1,R_:p},this.U,this.serializer,this.ignoreUndefinedProperties)},s}();function Ks(s,n,o,c,p,w){void 0===w&&(w={});var x=s.P_(w.merge||w.mergeFields?2:0,n,o,p);Ql("Data must be an object, but it was:",x,c);var K,de,Ye=ql(c,x);if(w.merge)K=new Un(x.Qe),de=x.fieldTransforms;else if(w.mergeFields){for(var mt=[],Kt=0,$t=w.mergeFields;Kt<$t.length;Kt++){var un=$t[Kt],Dn=void 0;if(un instanceof Gl)Dn=un.Zl;else{if("string"!=typeof un)throw we();Dn=Xl(n,un,o)}if(!x.contains(Dn))throw new $(oe.INVALID_ARGUMENT,"Field '"+Dn+"' is specified in your field mask but missing from your input data.");gd(mt,Dn)||mt.push(Dn)}K=new Un(mt),de=x.fieldTransforms.filter(function(Yn){return K.He(Yn.field)})}else K=null,de=x.fieldTransforms;return new lh(new _o(Ye),K,de)}function Ju(s,n,o,c){var p=s.P_(1,n,o);Ql("Data must be an object, but it was:",p,c);var w=[],x=new Xo;Ot(c,function(de,Ye){var mt=Xl(n,de,o),Kt=p.I_(mt);if(Ye instanceof el||Ye instanceof Ea&&Ye.h_ instanceof el)w.push(mt);else{var $t=Sa(Ye,Kt);null!=$t&&(w.push(mt),x.set(mt,$t))}});var K=new Un(w);return new jc(x.Je(),K,p.fieldTransforms)}function gu(s,n,o,c,p,w){var x=s.P_(1,n,o),K=[yl(n,c,o)],de=[p];if(w.length%2!=0)throw new $(oe.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Ye=0;Ye<w.length;Ye+=2)K.push(yl(n,w[Ye])),de.push(w[Ye+1]);for(var mt=[],Kt=new Xo,$t=K.length-1;$t>=0;--$t)if(!gd(mt,K[$t])){var un=K[$t],Dn=de[$t],Yn=x.I_(un);if(Dn instanceof el||Dn instanceof Ea&&Dn.h_ instanceof el)mt.push(un);else{var Cr=Sa(Dn,Yn);null!=Cr&&(mt.push(un),Kt.set(un,Cr))}}var _r=new Un(mt);return new jc(Kt.Je(),_r,x.fieldTransforms)}function Yc(s,n,o,c){return void 0===c&&(c=!1),Sa(o,s.P_(c?4:3,n))}function Sa(s,n){if(s instanceof Ea&&(s=s.h_),ec(s))return Ql("Unsupported field value:",n,s),ql(s,n);if(s instanceof Na)return function(o,c){if(!tl(c.n_))throw c.s_(o.t_+"() can only be used with update() and set()");if(!c.path)throw c.s_(o.t_+"() is not currently supported inside arrays");var p=o.e_(c);p&&c.fieldTransforms.push(p)}(s,n),null;if(n.path&&n.Qe.push(n.path),s instanceof Array){if(n.settings.r_&&4!==n.n_)throw n.s_("Nested arrays are not supported");return function(o,c){for(var p=[],w=0,x=0,K=o;x<K.length;x++){var de=Sa(K[x],c.A_(w));null==de&&(de={nullValue:"NULL_VALUE"}),p.push(de),w++}return{arrayValue:{values:p}}}(s,n)}return function(o,c){if(null===o)return{nullValue:"NULL_VALUE"};if("number"==typeof o)return eo(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var p=Yt.fromDate(o);return{timestampValue:Mi(c.serializer,p)}}if(o instanceof Yt){var w=new Yt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Mi(c.serializer,w)}}if(o instanceof pu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof $n)return{bytesValue:Ro(c.serializer,o.q)};if(o instanceof $l){var x=c.U,K=o.l_;if(!K.isEqual(x))throw c.s_("Document reference is for database "+K.projectId+"/"+K.database+" but should be for database "+x.projectId+"/"+x.database);return{referenceValue:pe(o.l_||c.U,o.__.path)}}if(void 0===o&&c.ignoreUndefinedProperties)return null;throw c.s_("Unsupported field value: "+Le(o))}(s,n)}function ql(s,n){var o={};return je(s)?n.path&&n.path.length>0&&n.Qe.push(n.path):Ot(s,function(c,p){var w=Sa(p,n.T_(c));null!=w&&(o[c]=w)}),{mapValue:{fields:o}}}function ec(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Yt||s instanceof pu||s instanceof $n||s instanceof $l||s instanceof Na)}function Ql(s,n,o){if(!ec(o)||!ie(o)){var c=Le(o);throw n.s_("an object"===c?s+" a custom object":s+" "+c)}}function yl(s,n,o){if(n instanceof Gl)return n.Zl;if("string"==typeof n)return Xl(s,n);throw _l("Field path arguments must be of type string or FieldPath.",s,!1,void 0,o)}function Xl(s,n,o){try{return function(p){if(p.search(Bc)>=0)throw new $(oe.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(gl.bind.apply(gl,y.__spreadArrays([void 0],p.split("."))))}catch{throw new $(oe.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(n).Zl}catch(p){throw _l((c=p)instanceof Error?c.message:c.toString(),s,!1,void 0,o)}var c}function _l(s,n,o,c,p){var w=c&&!c.m(),x=void 0!==p,K="Function "+n+"() called with invalid data";o&&(K+=" (via `toFirestore()`)");var de="";return(w||x)&&(de+=" (found",w&&(de+=" in field "+c),x&&(de+=" in document "+p),de+=")"),new $(oe.INVALID_ARGUMENT,(K+=". ")+s+de)}function gd(s,n){return s.some(function(o){return o.isEqual(n)})}var Uc=function(){function s(n){this.ju=n,this.g_=new Map,this.mutations=[],this.y_=!1,this.V_=null,this.p_=new Set}return s.prototype.b_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:if(this.v_(),this.mutations.length>0)throw new $(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(w,x){return y.__awaiter(this,void 0,void 0,function(){var K,de,Ye,mt,Kt,$t;return y.__generator(this,function(un){switch(un.label){case 0:return K=vt(w),de=rr(K.serializer)+"/documents",Ye={documents:x.map(function(Dn){return ye(K.serializer,Dn)})},[4,K.xu("BatchGetDocuments",de,Ye)];case 1:return mt=un.sent(),Kt=new Map,mt.forEach(function(Dn){var Cr,_r,Yn=(Cr=K.serializer,"found"in(_r=Dn)?function(Ur,ui){Rt(!!ui.found);var Yi=Qe(Ur,ui.found.name),xr=ze(ui.found.updateTime),wo=new _o({mapValue:{fields:ui.found.fields}});return new Qr(Yi,xr,wo,{})}(Cr,_r):"missing"in _r?function(Ur,ui){Rt(!!ui.missing),Rt(!!ui.readTime);var Yi=Qe(Ur,ui.missing),xr=ze(ui.readTime);return new ni(Yi,xr)}(Cr,_r):we());Kt.set(Yn.key.toString(),Yn)}),$t=[],[2,(x.forEach(function(Dn){var Yn=Kt.get(Dn.toString());Rt(!!Yn),$t.push(Yn)}),$t)]}})})}(this.ju,n)];case 1:return[2,((o=p.sent()).forEach(function(w){w instanceof ni||w instanceof Qr?c.S_(w):we()}),o)]}})})},s.prototype.set=function(n,o){this.write(o.d_(n,this.Ke(n))),this.p_.add(n.toString())},s.prototype.update=function(n,o){try{this.write(o.d_(n,this.D_(n)))}catch(c){this.V_=c}this.p_.add(n.toString())},s.prototype.delete=function(n){this.write([new pi(n,this.Ke(n))]),this.p_.add(n.toString())},s.prototype.commit=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){switch(c.label){case 0:if(this.v_(),this.V_)throw this.V_;return n=this.g_,this.mutations.forEach(function(p){n.delete(p.key.toString())}),n.forEach(function(p,w){var x=D.D(w);o.mutations.push(new Ui(x,o.Ke(x)))}),[4,function(p,w){return y.__awaiter(this,void 0,void 0,function(){var x,K,de;return y.__generator(this,function(Ye){switch(Ye.label){case 0:return x=vt(p),K=rr(x.serializer)+"/documents",de={writes:w.map(function(mt){return vr(x.serializer,mt)})},[4,x.$u("Commit",K,de)];case 1:return Ye.sent(),[2]}})})}(this.ju,this.mutations)];case 1:return c.sent(),this.y_=!0,[2]}})})},s.prototype.S_=function(n){var o;if(n instanceof Qr)o=n.version;else{if(!(n instanceof ni))throw we();o=Qt.min()}var c=this.g_.get(n.key.toString());if(c){if(!o.isEqual(c))throw new $(oe.ABORTED,"Document version changed between two reads.")}else this.g_.set(n.key.toString(),o)},s.prototype.Ke=function(n){var o=this.g_.get(n.toString());return!this.p_.has(n.toString())&&o?nr.updateTime(o):nr.Ge()},s.prototype.D_=function(n){var o=this.g_.get(n.toString());if(!this.p_.has(n.toString())&&o){if(o.isEqual(Qt.min()))throw new $(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(o)}return nr.exists(!0)},s.prototype.write=function(n){this.v_(),this.mutations=this.mutations.concat(n)},s.prototype.v_=function(){},s}(),bl=function(){function s(n,o,c,p){this.os=n,this.ju=o,this.updateFunction=c,this.hs=p,this.C_=5,this.gs=new ps(this.os,"transaction_retry")}return s.prototype.run=function(){this.N_()},s.prototype.N_=function(){var n=this;this.gs.Rn(function(){return y.__awaiter(n,void 0,void 0,function(){var o,c,p=this;return y.__generator(this,function(w){return o=new Uc(this.ju),(c=this.F_(o))&&c.then(function(x){p.os.ds(function(){return o.commit().then(function(){p.hs.resolve(x)}).catch(function(K){p.x_(K)})})}).catch(function(x){p.x_(x)}),[2]})})})},s.prototype.F_=function(n){try{var o=this.updateFunction(n);return!gn(o)&&o.catch&&o.then?o:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(c){return this.hs.reject(c),null}},s.prototype.x_=function(n){var o=this;this.C_>0&&this.k_(n)?(this.C_-=1,this.os.ds(function(){return o.N_(),Promise.resolve()})):this.hs.reject(n)},s.prototype.k_=function(n){if("FirebaseError"===n.name){var o=n.code;return"aborted"===o||"failed-precondition"===o||!Ir(o)}return!1},s}(),vd=function(){function s(n,o){this.credentials=n,this.os=o,this.clientId=Ut.k(),this.M_=new li}return s.prototype.start=function(n,o,c,p){var w=this;this.O_(),this.pl=n;var x=new li,K=!1;return this.credentials.zc(function(de){if(!K)return K=!0,De("FirestoreClient","Initializing. user=",de.uid),w.L_(o,c,p,de,x).then(w.M_.resolve,w.M_.reject);w.os.Ds(function(){return function(Ye,mt){return y.__awaiter(this,void 0,void 0,function(){var Kt,$t;return y.__generator(this,function(un){switch(un.label){case 0:return(Kt=vt(Ye)).os.Fs(),De("RemoteStore","RemoteStore received new credentials"),$t=ka(Kt),Kt.Hu.add(3),[4,Js(Kt)];case 1:return un.sent(),$t&&Kt.Zu.set("Unknown"),[4,Kt.Ku.Yl(mt)];case 2:return un.sent(),Kt.Hu.delete(3),[4,bs(Kt)];case 3:return un.sent(),[2]}})})}(w.Vh,de)})}),this.os.ds(function(){return w.M_.promise}),x.promise},s.prototype.enableNetwork=function(){var n=this;return this.O_(),this.os.enqueue(function(){return n.persistence.Za(!0),(c=vt(n.Vh)).Hu.delete(0),bs(c);var c})},s.prototype.L_=function(n,o,c,p,w){return y.__awaiter(this,void 0,void 0,function(){var x,K,de=this;return y.__generator(this,function(Ye){switch(Ye.label){case 0:return Ye.trys.push([0,3,,4]),[4,n.initialize(x={os:this.os,pl:this.pl,clientId:this.clientId,credentials:this.credentials,Ql:p,Sh:100,persistenceSettings:c})];case 1:return Ye.sent(),[4,o.initialize(n,x)];case 2:return Ye.sent(),this.persistence=n.persistence,this.bh=n.bh,this.Wu=n.Wu,this.Bl=n.Bl,this.ju=o.ju,this.Vh=o.Vh,this._i=o._i,this.B_=o.ph,this.B_.qs=Hl.bind(null,this._i),this.B_.Ws=Gs.bind(null,this._i),this.persistence.Xa(function(){return y.__awaiter(de,void 0,void 0,function(){return y.__generator(this,function(mt){switch(mt.label){case 0:return[4,this.terminate()];case 1:return mt.sent(),[2]}})})}),w.resolve(),[3,4];case 3:if(K=Ye.sent(),w.reject(K),!this.q_(K))throw K;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+K),this.L_(new Wl,new wa,{Wl:!1},p,w))];case 4:return[2]}})})},s.prototype.q_=function(n){return"FirebaseError"===n.name?n.code===oe.FAILED_PRECONDITION||n.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code},s.prototype.O_=function(){if(this.os.Vs)throw new $(oe.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.disableNetwork=function(){var n=this;return this.O_(),this.os.enqueue(function(){return n.persistence.Za(!1),function(o){return y.__awaiter(this,void 0,void 0,function(){var c;return y.__generator(this,function(p){switch(p.label){case 0:return(c=vt(o)).Hu.add(0),[4,Js(c)];case 1:return p.sent(),c.Zu.set("Offline"),[2]}})})}(n.Vh)})},s.prototype.terminate=function(){var n=this;this.os.Ss();var o=new li;return this.os.ps(function(){return y.__awaiter(n,void 0,void 0,function(){var c,p;return y.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),this.Bl&&this.Bl.stop(),[4,dd(this.Vh)];case 1:return w.sent(),[4,this.bh.Si()];case 2:return w.sent(),[4,this.persistence.Si()];case 3:return w.sent(),this.credentials.Hc(),o.resolve(),[3,5];case 4:return c=w.sent(),p=rn(c,"Failed to shutdown persistence"),o.reject(p),[3,5];case 5:return[2]}})})}),o.promise},s.prototype.waitForPendingWrites=function(){var n=this;this.O_();var o=new li;return this.os.ds(function(){return function(c,p){return y.__awaiter(this,void 0,void 0,function(){var w,x,K,de,Ye;return y.__generator(this,function(mt){switch(mt.label){case 0:ka((w=vt(c)).Vh)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),mt.label=1;case 1:return mt.trys.push([1,3,,4]),[4,(Kt=w.Wu,$t=vt(Kt),$t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(un){return $t.vr.Bo(un)}))];case 2:return-1===(x=mt.sent())?[2,void p.resolve()]:((K=w.Oh.get(x)||[]).push(p),w.Oh.set(x,K),[3,4]);case 3:return de=mt.sent(),Ye=rn(de,"Initialization of waitForPendingWrites() operation failed"),p.reject(Ye),[3,4];case 4:return[2]}var Kt,$t})})}(n._i,o)}),o.promise},s.prototype.listen=function(n,o,c){var p=this;this.O_();var w=new Ja(c),x=new es(n,w,o);return this.os.ds(function(){return Xr(p.B_,x)}),function(){w.Xl(),p.os.ds(function(){return ao(p.B_,x)})}},s.prototype.U_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return p.sent(),o=new li,[2,(this.os.ds(function(){return function(w,x,K){return y.__awaiter(this,void 0,void 0,function(){var de,Ye,mt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:return Kt.trys.push([0,2,,3]),[4,($t=w,un=x,Dn=vt($t),Dn.persistence.runTransaction("read document","readonly",function(Yn){return Dn.Dc.Dr(Yn,un)}))];case 1:return(de=Kt.sent())instanceof Qr?K.resolve(de):de instanceof ni?K.resolve(null):K.reject(new $(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ye=Kt.sent(),mt=rn(Ye,"Failed to get document '"+x+" from cache"),K.reject(mt),[3,3];case 3:return[2]}var $t,un,Dn})})}(c.Wu,n,o)}),o.promise)]}})})},s.prototype.Q_=function(n,o){return void 0===o&&(o={}),y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return w.sent(),c=new li,[2,(this.os.ds(function(){return x=p.B_,K=p.os,de=n,Ye=o,mt=c,Kt=new Ja({next:function(un){K.ds(function(){return ao(x,$t)});var Dn=un.docs.has(de);!Dn&&un.fromCache?mt.reject(new $(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):Dn&&un.fromCache&&Ye&&"server"===Ye.source?mt.reject(new $(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):mt.resolve(un)},error:function(un){return mt.reject(un)}}),$t=new es(Io(de.path),Kt,{includeMetadataChanges:!0,Js:!0}),Xr(x,$t);var x,K,de,Ye,mt,Kt,$t}),c.promise)]}})})},s.prototype.W_=function(n){return y.__awaiter(this,void 0,void 0,function(){var o,c=this;return y.__generator(this,function(p){switch(p.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return p.sent(),o=new li,[2,(this.os.ds(function(){return function(w,x,K){return y.__awaiter(this,void 0,void 0,function(){var de,Ye,mt,Kt,$t,un;return y.__generator(this,function(Dn){switch(Dn.label){case 0:return Dn.trys.push([0,2,,3]),[4,bi(w,x,!0)];case 1:return de=Dn.sent(),Ye=new fd(x,de.Nc),mt=Ye.dh(de.documents),Kt=Ye.gr(mt,!1),K.resolve(Kt.snapshot),[3,3];case 2:return $t=Dn.sent(),un=rn($t,"Failed to execute query '"+x+" against cache"),K.reject(un),[3,3];case 3:return[2]}})})}(c.Wu,n,o)}),o.promise)]}})})},s.prototype.j_=function(n,o){return void 0===o&&(o={}),y.__awaiter(this,void 0,void 0,function(){var c,p=this;return y.__generator(this,function(w){switch(w.label){case 0:return this.O_(),[4,this.M_.promise];case 1:return w.sent(),c=new li,[2,(this.os.ds(function(){return x=p.B_,K=p.os,de=n,Ye=o,mt=c,Kt=new Ja({next:function(un){K.ds(function(){return ao(x,$t)}),un.fromCache&&"server"===Ye.source?mt.reject(new $(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):mt.resolve(un)},error:function(un){return mt.reject(un)}}),$t=new es(de,Kt,{includeMetadataChanges:!0,Js:!0}),Xr(x,$t);var x,K,de,Ye,mt,Kt,$t}),c.promise)]}})})},s.prototype.write=function(n){var o=this;this.O_();var c=new li;return this.os.ds(function(){return function(p,w,x){return y.__awaiter(this,void 0,void 0,function(){var K,de,Ye,mt;return y.__generator(this,function(Kt){switch(Kt.label){case 0:K=Xa(p),Kt.label=1;case 1:return Kt.trys.push([1,5,,6]),[4,($t=K.Wu,un=w,Yn=vt($t),Cr=Yt.now(),_r=un.reduce(function(Ur,ui){return Ur.add(ui.key)},qt()),Yn.persistence.runTransaction("Locally write mutations","readwrite",function(Ur){return Yn.Dc.$r(Ur,_r).next(function(ui){Dn=ui;for(var Yi=[],xr=0,wo=un;xr<wo.length;xr++){var ta=wo[xr],Ya=Ai(ta,Dn.get(ta.key));null!=Ya&&Yi.push(new Ar(ta.key,Ya,Ss(Ya.proto.mapValue),nr.exists(!0)))}return Yn.vr.xo(Ur,Cr,Yi,un)})}).then(function(Ur){var ui=Ur.hr(Dn);return{batchId:Ur.batchId,dr:ui}}))];case 2:return de=Kt.sent(),K.bh.Fi(de.batchId),function($t,un,Dn){var Yn=$t.Mh[$t.currentUser.Zs()];Yn||(Yn=new Pt(Xt)),Yn=Yn.rt(un,Dn),$t.Mh[$t.currentUser.Zs()]=Yn}(K,de.batchId,x),[4,da(K,de.dr)];case 3:return Kt.sent(),[4,Ns(K.Vh)];case 4:return Kt.sent(),[3,6];case 5:return Ye=Kt.sent(),mt=rn(Ye,"Failed to persist write"),x.reject(mt),[3,6];case 6:return[2]}var $t,un,Dn,Yn,Cr,_r})})}(o._i,n,c)}),c.promise},s.prototype.U=function(){return this.pl.U},s.prototype.K_=function(n){var o=this;this.O_();var c=new Ja(n);return this.os.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return[2,(w=this.B_,x=c,vt(w).Bs.add(x),void x.next())];var w,x})})}),function(){c.Xl(),o.os.ds(function(){return y.__awaiter(o,void 0,void 0,function(){return y.__generator(this,function(p){return[2,(w=this.B_,x=c,void vt(w).Bs.delete(x))];var w,x})})})}},Object.defineProperty(s.prototype,"G_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),s.prototype.transaction=function(n){var o=this;this.O_();var c=new li;return this.os.ds(function(){return new bl(o.os,o.ju,n,c).run(),Promise.resolve()}),c.promise},s}();function vu(s){return function(n,o){if("object"!=typeof n||null===n)return!1;for(var c=n,p=0,w=["next","error","complete"];p<w.length;p++){var x=w[p];if(x in c&&"function"==typeof c[x])return!0}return!1}(s)}var Vc=function(){function s(n,o,c,p,w){this.U=n,this.timestampsInSnapshots=o,this.z_=c,this.H_=p,this.Y_=w}return s.prototype.J_=function(n){switch(gt(n)){case 0:return null;case 1:return n.booleanValue;case 2:return sr(n.integerValue||n.doubleValue);case 3:return this.X_(n.timestampValue);case 4:return this.Z_(n);case 5:return n.stringValue;case 6:return this.Y_(mr(n.bytesValue));case 7:return this.tf(n.referenceValue);case 8:return this.ef(n.geoPointValue);case 9:return this.nf(n.arrayValue);case 10:return this.sf(n.mapValue);default:throw we()}},s.prototype.sf=function(n){var o=this,c={};return Ot(n.fields||{},function(p,w){c[p]=o.J_(w)}),c},s.prototype.ef=function(n){return new pu(sr(n.latitude),sr(n.longitude))},s.prototype.nf=function(n){var o=this;return(n.values||[]).map(function(c){return o.J_(c)})},s.prototype.Z_=function(n){switch(this.z_){case"previous":var o=q(n);return null==o?null:this.J_(o);case"estimate":return this.X_(_e(n));default:return null}},s.prototype.X_=function(n){var o=fn(n),c=new Yt(o.seconds,o.nanos);return this.timestampsInSnapshots?c:c.toDate()},s.prototype.tf=function(n){var o=et.P(n);Rt(Es(o));var c=new Fe(o.get(1),o.get(3)),p=new D(o.u(5));return c.isEqual(this.U)||_t("Document "+p+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.H_(p)},s}(),Fs=Je.uo,wl=function(){function s(n){var o,c,p,w;if(void 0===n.host){if(void 0!==n.ssl)throw new $(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else He("settings","non-empty string","host",n.host),this.host=n.host,ut("settings","boolean","ssl",n.ssl),this.ssl=null===(o=n.ssl)||void 0===o||o;if(ht("settings",n,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),ut("settings","object","credentials",n.credentials),this.credentials=n.credentials,ut("settings","boolean","timestampsInSnapshots",n.timestampsInSnapshots),ut("settings","boolean","ignoreUndefinedProperties",n.ignoreUndefinedProperties),!0===n.timestampsInSnapshots?_t("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===n.timestampsInSnapshots&&_t("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(c=n.timestampsInSnapshots)||void 0===c||c,this.ignoreUndefinedProperties=null!==(p=n.ignoreUndefinedProperties)&&void 0!==p&&p,ut("settings","number","cacheSizeBytes",n.cacheSizeBytes),void 0===n.cacheSizeBytes)this.cacheSizeBytes=Je.lo;else{if(n.cacheSizeBytes!==Fs&&n.cacheSizeBytes<Je.ho)throw new $(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Je.ho);this.cacheSizeBytes=n.cacheSizeBytes}ut("settings","boolean","experimentalForceLongPolling",n.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(w=n.experimentalForceLongPolling)&&void 0!==w&&w}return s.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.timestampsInSnapshots===n.timestampsInSnapshots&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties},s}(),yu=function(){function s(n,o,c,p){var w=this;if(void 0===c&&(c=new Wl),void 0===p&&(p=new wa),this.if=c,this.rf=p,this.af=null,this.cf=new Wt,this.INTERNAL={delete:function(){return y.__awaiter(w,void 0,void 0,function(){return y.__generator(this,function(de){switch(de.label){case 0:return this.uf(),[4,this.hf.terminate()];case 1:return de.sent(),[2]}})})}},"object"==typeof n.options){var x=n;this.af=x,this.l_=s.lf(x),this._f=x.name,this.ff=new Nu(o)}else{var K=n;if(!K.projectId)throw new $(oe.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Fe(K.projectId,K.database),this._f="[DEFAULT]",this.ff=new Pa}this.df=new wl({})}return Object.defineProperty(s.prototype,"wf",{get:function(){return this.mf||(this.mf=new Zu(this.l_,this.df.ignoreUndefinedProperties)),this.mf},enumerable:!1,configurable:!0}),s.prototype.settings=function(n){J("Firestore.settings",arguments,1),Ke("Firestore.settings","object",1,n),n.merge&&delete(n=Object.assign(Object.assign({},this.df),n)).merge;var o=new wl(n);if(this.hf&&!this.df.isEqual(o))throw new $(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.df=o,void 0!==o.credentials&&(this.ff=function(c){if(!c)return new Pa;switch(c.type){case"gapi":var p=c.client;return Rt(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new ru(p,c.sessionIndex||"0");case"provider":return c.client;default:throw new $(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(o.credentials))},s.prototype.enableNetwork=function(){return this.uf(),this.hf.enableNetwork()},s.prototype.disableNetwork=function(){return this.uf(),this.hf.disableNetwork()},s.prototype.enablePersistence=function(n){var o,c;if(this.hf)throw new $(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var p=!1,w=!1;if(n&&(void 0!==n.experimentalTabSynchronization&&_t("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),p=null!==(c=null!==(o=n.synchronizeTabs)&&void 0!==o?o:n.experimentalTabSynchronization)&&void 0!==c&&c,w=!!n.experimentalForceOwningTab&&n.experimentalForceOwningTab,p&&w))throw new $(oe.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Tf(this.if,this.rf,{Wl:!0,cacheSizeBytes:this.df.cacheSizeBytes,synchronizeTabs:p,xa:w})},s.prototype.clearPersistence=function(){return y.__awaiter(this,void 0,void 0,function(){var n,o=this;return y.__generator(this,function(c){if(void 0!==this.hf&&!this.hf.G_)throw new $(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return n=new li,[2,(this.cf.ps(function(){return y.__awaiter(o,void 0,void 0,function(){var p;return y.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,this.if.clearPersistence(this.l_,this._f)];case 1:return w.sent(),n.resolve(),[3,3];case 2:return p=w.sent(),n.reject(p),[3,3];case 3:return[2]}})})}),n.promise)]})})},s.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(s.prototype,"Ef",{get:function(){return this.uf(),this.hf.G_},enumerable:!1,configurable:!0}),s.prototype.waitForPendingWrites=function(){return this.uf(),this.hf.waitForPendingWrites()},s.prototype.onSnapshotsInSync=function(n){return this.uf(),vu(n)?this.hf.K_(n):(Ke("Firestore.onSnapshotsInSync","function",1,n),this.hf.K_({next:n}))},s.prototype.uf=function(){return this.hf||this.Tf(new Wl,new wa,{Wl:!1}),this.hf},s.prototype.If=function(){return new hn(this.l_,this._f,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling)},s.prototype.Tf=function(n,o,c){var p=this.If();return this.hf=new vd(this.ff,this.cf),this.hf.start(p,n,o,c)},s.lf=function(n){if(!Object.prototype.hasOwnProperty.call(n.options,"projectId"))throw new $(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var c=n.options.projectId;if(!c||"string"!=typeof c)throw new $(oe.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Fe(c)},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.af)throw new $(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.af},enumerable:!1,configurable:!0}),s.prototype.collection=function(n){return J("Firestore.collection",arguments,1),Ke("Firestore.collection","non-empty string",1,n),this.uf(),new tc(et.P(n),this,null)},s.prototype.doc=function(n){return J("Firestore.doc",arguments,1),Ke("Firestore.doc","non-empty string",1,n),this.uf(),Fa.Af(et.P(n),this,null)},s.prototype.collectionGroup=function(n){if(J("Firestore.collectionGroup",arguments,1),Ke("Firestore.collectionGroup","non-empty string",1,n),n.indexOf("/")>=0)throw new $(oe.INVALID_ARGUMENT,"Invalid collection ID '"+n+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new wu((o=n,new Xi(et.g(),o)),this,null);var o},s.prototype.runTransaction=function(n){var o=this;return J("Firestore.runTransaction",arguments,1),Ke("Firestore.runTransaction","function",1,n),this.uf().transaction(function(c){return n(new El(o,c))})},s.prototype.batch=function(){return this.uf(),new yd(this)},Object.defineProperty(s,"logLevel",{get:function(){switch(Te()){case Y.LogLevel.DEBUG:return"debug";case Y.LogLevel.ERROR:return"error";case Y.LogLevel.SILENT:return"silent";case Y.LogLevel.WARN:return"warn";case Y.LogLevel.INFO:return"info";case Y.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),s.setLogLevel=function(n){J("Firestore.setLogLevel",arguments,1),te("setLogLevel",["debug","error","silent","warn","info","verbose"],1,n),Me.setLogLevel(n)},s.prototype.Rf=function(){return this.df.timestampsInSnapshots},s.prototype.Pf=function(){return this.df},s}(),El=function(){function s(n,o){this.gf=n,this.yf=o}return s.prototype.get=function(n){var o=this;J("Transaction.get",arguments,1);var c=Ba("Transaction.get",n,this.gf);return this.yf.b_([c.__]).then(function(p){if(!p||1!==p.length)return we();var w=p[0];if(w instanceof ni)return new Sl(o.gf,c.__,null,!1,!1,c.f_);if(w instanceof Qr)return new Sl(o.gf,c.__,w,!1,!1,c.f_);throw we()})},s.prototype.set=function(n,o,c){ge("Transaction.set",arguments,2,3);var p=Ba("Transaction.set",n,this.gf);c=Wc("Transaction.set",c);var w=nl(p.f_,o,c),x=Ks(this.gf.wf,"Transaction.set",p.__,w,null!==p.f_,c);return this.yf.set(p.__,x),this},s.prototype.update=function(n,o,c){for(var p,w,x=[],K=3;K<arguments.length;K++)x[K-3]=arguments[K];return"string"==typeof o||o instanceof gl?(N("Transaction.update",arguments,3),p=Ba("Transaction.update",n,this.gf),w=gu(this.gf.wf,"Transaction.update",p.__,o,c,x)):(J("Transaction.update",arguments,2),p=Ba("Transaction.update",n,this.gf),w=Ju(this.gf.wf,"Transaction.update",p.__,o)),this.yf.update(p.__,w),this},s.prototype.delete=function(n){J("Transaction.delete",arguments,1);var o=Ba("Transaction.delete",n,this.gf);return this.yf.delete(o.__),this},s}(),yd=function(){function s(n){this.gf=n,this.Vf=[],this.pf=!1}return s.prototype.set=function(n,o,c){ge("WriteBatch.set",arguments,2,3),this.bf();var p=Ba("WriteBatch.set",n,this.gf);c=Wc("WriteBatch.set",c);var w=nl(p.f_,o,c),x=Ks(this.gf.wf,"WriteBatch.set",p.__,w,null!==p.f_,c);return this.Vf=this.Vf.concat(x.d_(p.__,nr.Ge())),this},s.prototype.update=function(n,o,c){for(var p,w,x=[],K=3;K<arguments.length;K++)x[K-3]=arguments[K];return this.bf(),"string"==typeof o||o instanceof gl?(N("WriteBatch.update",arguments,3),p=Ba("WriteBatch.update",n,this.gf),w=gu(this.gf.wf,"WriteBatch.update",p.__,o,c,x)):(J("WriteBatch.update",arguments,2),p=Ba("WriteBatch.update",n,this.gf),w=Ju(this.gf.wf,"WriteBatch.update",p.__,o)),this.Vf=this.Vf.concat(w.d_(p.__,nr.exists(!0))),this},s.prototype.delete=function(n){J("WriteBatch.delete",arguments,1),this.bf();var o=Ba("WriteBatch.delete",n,this.gf);return this.Vf=this.Vf.concat(new pi(o.__,nr.Ge())),this},s.prototype.commit=function(){return this.bf(),this.pf=!0,this.Vf.length>0?this.gf.uf().write(this.Vf):Promise.resolve()},s.prototype.bf=function(){if(this.pf)throw new $(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}(),Fa=function(s){function n(o,c,p){var w=this;return(w=s.call(this,c.l_,o,p)||this).__=o,w.firestore=c,w.f_=p,w.hf=w.firestore.uf(),w}return y.__extends(n,s),n.Af=function(o,c,p){if(o.length%2!=0)throw new $(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o.R()+" has "+o.length);return new n(new D(o),c,p)},Object.defineProperty(n.prototype,"id",{get:function(){return this.__.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new tc(this.__.path.h(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.__.path.R()},enumerable:!1,configurable:!0}),n.prototype.collection=function(o){if(J("DocumentReference.collection",arguments,1),Ke("DocumentReference.collection","non-empty string",1,o),!o)throw new $(oe.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var c=et.P(o);return new tc(this.__.path.child(c),this.firestore,null)},n.prototype.isEqual=function(o){if(!(o instanceof n))throw Et("isEqual","DocumentReference",1,o);return this.firestore===o.firestore&&this.__.isEqual(o.__)&&this.f_===o.f_},n.prototype.set=function(o,c){ge("DocumentReference.set",arguments,1,2),c=Wc("DocumentReference.set",c);var p=nl(this.f_,o,c),w=Ks(this.firestore.wf,"DocumentReference.set",this.__,p,null!==this.f_,c);return this.hf.write(w.d_(this.__,nr.Ge()))},n.prototype.update=function(o,c){for(var p,w=[],x=2;x<arguments.length;x++)w[x-2]=arguments[x];return"string"==typeof o||o instanceof gl?(N("DocumentReference.update",arguments,2),p=gu(this.firestore.wf,"DocumentReference.update",this.__,o,c,w)):(J("DocumentReference.update",arguments,1),p=Ju(this.firestore.wf,"DocumentReference.update",this.__,o)),this.hf.write(p.d_(this.__,nr.exists(!0)))},n.prototype.delete=function(){return J("DocumentReference.delete",arguments,0),this.hf.write([new pi(this.__,nr.Ge())])},n.prototype.onSnapshot=function(){for(var o,c,p,w=this,x=[],K=0;K<arguments.length;K++)x[K]=arguments[K];ge("DocumentReference.onSnapshot",arguments,1,4);var de={includeMetadataChanges:!1},Ye=0;"object"!=typeof x[Ye]||vu(x[Ye])||(ht("DocumentReference.onSnapshot",de=x[Ye],["includeMetadataChanges"]),ut("DocumentReference.onSnapshot","boolean","includeMetadataChanges",de.includeMetadataChanges),Ye++);var mt={includeMetadataChanges:de.includeMetadataChanges};if(vu(x[Ye])){var Kt=x[Ye];x[Ye]=null===(o=Kt.next)||void 0===o?void 0:o.bind(Kt),x[Ye+1]=null===(c=Kt.error)||void 0===c?void 0:c.bind(Kt),x[Ye+2]=null===(p=Kt.complete)||void 0===p?void 0:p.bind(Kt)}else Ke("DocumentReference.onSnapshot","function",Ye,x[Ye]),Tn("DocumentReference.onSnapshot","function",Ye+1,x[Ye+1]),Tn("DocumentReference.onSnapshot","function",Ye+2,x[Ye+2]);var $t={next:function(un){x[Ye]&&x[Ye](w.vf(un))},error:x[Ye+1],complete:x[Ye+2]};return this.hf.listen(Io(this.__.path),mt,$t)},n.prototype.get=function(o){var c=this;ge("DocumentReference.get",arguments,0,1),bd("DocumentReference.get",o);var p=this.firestore.uf();return o&&"cache"===o.source?p.U_(this.__).then(function(w){return new Sl(c.firestore,c.__,w,!0,w instanceof Qr&&w.Ye,c.f_)}):p.Q_(this.__,o).then(function(w){return c.vf(w)})},n.prototype.withConverter=function(o){return new n(this.__,this.firestore,o)},n.prototype.vf=function(o){var c=o.docs.get(this.__);return new Sl(this.firestore,this.__,c,o.fromCache,o.hasPendingWrites,this.f_)},n}($l),uh=function(){function s(n,o){this.hasPendingWrites=n,this.fromCache=o}return s.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},s}(),Sl=function(){function s(n,o,c,p,w,x){this.gf=n,this.__=o,this.Sf=c,this.Df=p,this.Cf=w,this.f_=x}return s.prototype.data=function(n){var o=this;if(ge("DocumentSnapshot.data",arguments,0,1),n=_d("DocumentSnapshot.data",n),this.Sf){if(this.f_){var c=new Tl(this.gf,this.__,this.Sf,this.Df,this.Cf,null);return this.f_.fromFirestore(c,n)}return new Vc(this.gf.l_,this.gf.Rf(),n.serverTimestamps||"none",function(p){return new Fa(p,o.gf,null)},function(p){return new br(p)}).J_(this.Sf.sn())}},s.prototype.get=function(n,o){var c=this;if(ge("DocumentSnapshot.get",arguments,1,2),o=_d("DocumentSnapshot.get",o),this.Sf){var p=this.Sf.data().field(yl("DocumentSnapshot.get",n,this.__));if(null!==p)return new Vc(this.gf.l_,this.gf.Rf(),o.serverTimestamps||"none",function(w){return new Fa(w,c.gf,c.f_)},function(w){return new br(w)}).J_(p)}},Object.defineProperty(s.prototype,"id",{get:function(){return this.__.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new Fa(this.__,this.gf,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return null!==this.Sf},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return new uh(this.Cf,this.Df)},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","DocumentSnapshot",1,n);return this.gf===n.gf&&this.Df===n.Df&&this.__.isEqual(n.__)&&(null===this.Sf?null===n.Sf:this.Sf.isEqual(n.Sf))&&this.f_===n.f_},s}(),Tl=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.prototype.data=function(o){return s.prototype.data.call(this,o)},n}(Sl);function Dl(s,n,o){if("string"==typeof o){if(""===o)throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zo(n)&&-1!==o.indexOf("/"))throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var c=n.path.child(et.P(o));if(!D.F(c))throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");return gi(s,new D(c))}if(o instanceof $l)return gi(s,o.__);throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Le(o)+".")}function Zl(s,n){if(!Array.isArray(s)||0===s.length)throw new $(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(s.length>10)throw new $(oe.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===n||"array-contains-any"===n){if(s.indexOf(null)>=0)throw new $(oe.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'null' in the value array.");if(s.filter(function(o){return Number.isNaN(o)}).length>0)throw new $(oe.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters cannot contain 'NaN' in the value array.")}}function _u(s,n,o){if(!o.isEqual(n))throw new $(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}function bu(s){if(co(s)&&0===s.rn.length)throw new $(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wu=function(){function s(n,o,c){this.Nf=n,this.firestore=o,this.f_=c}return s.prototype.where=function(n,o,c){J("Query.where",arguments,3),Ue("Query.where",3,c);var K,Ye,p=te("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,o),w=yl("Query.where",n),x=function Hc(s,n,o,c,p,w,x){var K;if(p.p()){if("array-contains"===w||"array-contains-any"===w)throw new $(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+w+"' queries on FieldPath.documentId().");if("in"===w||"not-in"===w){Zl(x,w);for(var de=[],Ye=0,mt=x;Ye<mt.length;Ye++)de.push(Dl(c,s,mt[Ye]));K={arrayValue:{values:de}}}else K=Dl(c,s,x)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Zl(x,w),K=Yc(o,n,x,"in"===w||"not-in"===w);var $t=_i.create(p,w,K);return function(un,Dn){if(Dn.un()){var Yn=Ls(un);if(null!==Yn&&!Yn.isEqual(Dn.field))throw new $(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Yn.toString()+"' and '"+Dn.field.toString()+"'");var Cr=Yo(un);null!==Cr&&_u(0,Dn.field,Cr)}var _r=function(Ur,ui){for(var Yi=0,xr=Ur.filters;Yi<xr.length;Yi++){var wo=xr[Yi];if(ui.indexOf(wo.op)>=0)return wo.op}return null}(un,function(Ur){switch(Ur){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dn.op));if(null!==_r)throw new $(oe.INVALID_ARGUMENT,_r===Dn.op?"Invalid query. You cannot use more than one '"+Dn.op.toString()+"' filter.":"Invalid query. You cannot use '"+Dn.op.toString()+"' filters with '"+_r.toString()+"' filters.")}(s,$t),$t}(this.Nf,"Query.where",this.firestore.wf,this.firestore.l_,w,p,c);return new s((Ye=(K=this.Nf).filters.concat([x]),new Xi(K.path,K.collectionGroup,K.rn.slice(),Ye,K.limit,K.on,K.startAt,K.endAt)),this.firestore,this.f_)},s.prototype.orderBy=function(n,o){var c;if(ge("Query.orderBy",arguments,1,2),Tn("Query.orderBy","non-empty string",2,o),void 0===o||"asc"===o)c="asc";else{if("desc"!==o)throw new $(oe.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+o+"', expected 'asc' or 'desc'.");c="desc"}var x,de,p=yl("Query.orderBy",n),w=function zc(s,n,o){if(null!==s.startAt)throw new $(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new $(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Ho(n,o);return function(p,w){if(null===Yo(p)){var x=Ls(p);null!==x&&_u(0,x,w.field)}}(s,c),c}(this.Nf,p,c);return new s((de=(x=this.Nf).rn.concat([w]),new Xi(x.path,x.collectionGroup,de,x.filters.slice(),x.limit,x.on,x.startAt,x.endAt)),this.firestore,this.f_)},s.prototype.limit=function(n){return J("Query.limit",arguments,1),Ke("Query.limit","number",1,n),mn("Query.limit",1,n),new s(Uo(this.Nf,n,"F"),this.firestore,this.f_)},s.prototype.limitToLast=function(n){return J("Query.limitToLast",arguments,1),Ke("Query.limitToLast","number",1,n),mn("Query.limitToLast",1,n),new s(Uo(this.Nf,n,"L"),this.firestore,this.f_)},s.prototype.startAt=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];N("Query.startAt",arguments,1);var p=this.Ff("Query.startAt",n,o,!0);return new s(Vs(this.Nf,p),this.firestore,this.f_)},s.prototype.startAfter=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];N("Query.startAfter",arguments,1);var p=this.Ff("Query.startAfter",n,o,!1);return new s(Vs(this.Nf,p),this.firestore,this.f_)},s.prototype.endBefore=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];N("Query.endBefore",arguments,1);var p=this.Ff("Query.endBefore",n,o,!0);return new s(In(this.Nf,p),this.firestore,this.f_)},s.prototype.endAt=function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];N("Query.endAt",arguments,1);var p=this.Ff("Query.endAt",n,o,!1);return new s(In(this.Nf,p),this.firestore,this.f_)},s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","Query",1,n);return this.firestore===n.firestore&&Br(this.Nf,n.Nf)&&this.f_===n.f_},s.prototype.withConverter=function(n){return new s(this.Nf,this.firestore,n)},s.prototype.Ff=function(n,o,c,p){if(Ue(n,1,o),o instanceof Sl)return J(n,y.__spreadArrays([o],c),1),function(x,K,de,Ye,mt){if(!Ye)throw new $(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+de+"().");for(var Kt=[],$t=0,un=go(x);$t<un.length;$t++){var Dn=un[$t];if(Dn.field.p())Kt.push(gi(K,Ye.key));else{var Yn=Ye.field(Dn.field);if(Re(Yn))throw new $(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Dn.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Yn){var Cr=Dn.field.R();throw new $(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Cr+"' (used as the orderBy) does not exist.")}Kt.push(Yn)}}return new bo(Kt,mt)}(this.Nf,this.firestore.l_,n,o.Sf,p);var w=[o].concat(c);return function(x,K,de,Ye,mt,Kt){var $t=x.rn;if(mt.length>$t.length)throw new $(oe.INVALID_ARGUMENT,"Too many arguments provided to "+Ye+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var un=[],Dn=0;Dn<mt.length;Dn++){var Yn=mt[Dn];if($t[Dn].field.p()){if("string"!=typeof Yn)throw new $(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Ye+"(), but got a "+typeof Yn);if(!Zo(x)&&-1!==Yn.indexOf("/"))throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Ye+"() must be a plain document ID, but '"+Yn+"' contains a slash.");var Cr=x.path.child(et.P(Yn));if(!D.F(Cr))throw new $(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Ye+"() must result in a valid document path, but '"+Cr+"' is not because it contains an odd number of segments.");var _r=new D(Cr);un.push(gi(K,_r))}else{var Ur=Yc(de,Ye,Yn);un.push(Ur)}}return new bo(un,Kt)}(this.Nf,this.firestore.l_,this.firestore.wf,n,w,p)},s.prototype.onSnapshot=function(){for(var n,o,c,p=this,w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];ge("Query.onSnapshot",arguments,1,4);var K={},de=0;if("object"!=typeof w[de]||vu(w[de])||(ht("Query.onSnapshot",K=w[de],["includeMetadataChanges"]),ut("Query.onSnapshot","boolean","includeMetadataChanges",K.includeMetadataChanges),de++),vu(w[de])){var Ye=w[de];w[de]=null===(n=Ye.next)||void 0===n?void 0:n.bind(Ye),w[de+1]=null===(o=Ye.error)||void 0===o?void 0:o.bind(Ye),w[de+2]=null===(c=Ye.complete)||void 0===c?void 0:c.bind(Ye)}else Ke("Query.onSnapshot","function",de,w[de]),Tn("Query.onSnapshot","function",de+1,w[de+1]),Tn("Query.onSnapshot","function",de+2,w[de+2]);var mt={next:function(Kt){w[de]&&w[de](new La(p.firestore,p.Nf,Kt,p.f_))},error:w[de+1],complete:w[de+2]};return bu(this.Nf),this.firestore.uf().listen(this.Nf,K,mt)},s.prototype.get=function(n){var o=this;ge("Query.get",arguments,0,1),bd("Query.get",n),bu(this.Nf);var c=this.firestore.uf();return(n&&"cache"===n.source?c.W_(this.Nf):c.j_(this.Nf,n)).then(function(p){return new La(o.firestore,o.Nf,p,o.f_)})},s}(),La=function(){function s(n,o,c,p){this.gf=n,this.$f=o,this.xf=c,this.f_=p,this.kf=null,this.Mf=null,this.metadata=new uh(c.hasPendingWrites,c.fromCache)}return Object.defineProperty(s.prototype,"docs",{get:function(){var n=[];return this.forEach(function(o){return n.push(o)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this.xf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.xf.docs.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(n,o){var c=this;ge("QuerySnapshot.forEach",arguments,1,2),Ke("QuerySnapshot.forEach","function",1,n),this.xf.docs.forEach(function(p){n.call(o,c.Of(p,c.metadata.fromCache,c.xf.Qt.has(p.key)))})},Object.defineProperty(s.prototype,"query",{get:function(){return new wu(this.$f,this.gf,this.f_)},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(n){n&&(ht("QuerySnapshot.docChanges",n,["includeMetadataChanges"]),ut("QuerySnapshot.docChanges","boolean","includeMetadataChanges",n.includeMetadataChanges));var o=!(!n||!n.includeMetadataChanges);if(o&&this.xf.jt)throw new $(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.kf&&this.Mf===o||(this.kf=function(c,p,w){if(c.Ut.m()){var x=0;return c.docChanges.map(function(de){return{type:"added",doc:w(de.doc,c.fromCache,c.Qt.has(de.doc.key)),oldIndex:-1,newIndex:x++}})}var K=c.Ut;return c.docChanges.filter(function(de){return p||3!==de.type}).map(function(de){var Ye=w(de.doc,c.fromCache,c.Qt.has(de.doc.key)),mt=-1,Kt=-1;return 0!==de.type&&(mt=K.indexOf(de.doc.key),K=K.delete(de.doc.key)),1!==de.type&&(Kt=(K=K.add(de.doc)).indexOf(de.doc.key)),{type:ja(de.type),doc:Ye,oldIndex:mt,newIndex:Kt}})}(this.xf,o,this.Of.bind(this)),this.Mf=o),this.kf},s.prototype.isEqual=function(n){if(!(n instanceof s))throw Et("isEqual","QuerySnapshot",1,n);return this.gf===n.gf&&Br(this.$f,n.$f)&&this.xf.isEqual(n.xf)&&this.f_===n.f_},s.prototype.Of=function(n,o,c){return new Tl(this.gf,n.key,n,o,c,this.f_)},s}(),tc=function(s){function n(o,c,p){var w=this;if((w=s.call(this,Io(o),c,p)||this).Lf=o,o.length%2!=1)throw new $(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o.R()+" has "+o.length);return w}return y.__extends(n,s),Object.defineProperty(n.prototype,"id",{get:function(){return this.Nf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var o=this.Nf.path.h();return o.m()?null:new Fa(new D(o),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.Nf.path.R()},enumerable:!1,configurable:!0}),n.prototype.doc=function(o){ge("CollectionReference.doc",arguments,0,1),0===arguments.length&&(o=Ut.k()),Ke("CollectionReference.doc","non-empty string",1,o);var c=et.P(o);return Fa.Af(this.Nf.path.child(c),this.firestore,this.f_)},n.prototype.add=function(o){J("CollectionReference.add",arguments,1);var c=this.f_?this.f_.toFirestore(o):o;Ke("CollectionReference.add","object",1,c);var p=this.doc();return new Fa(p.__,this.firestore,null).set(c).then(function(){return p})},n.prototype.withConverter=function(o){return new n(this.Lf,this.firestore,o)},n}(wu);function Wc(s,n){if(void 0===n)return{merge:!1};if(ht(s,n,["merge","mergeFields"]),ut(s,"boolean","merge",n.merge),void 0!==(w=n.mergeFields)&&function(K,de,Ye,mt,Kt){if(!(mt instanceof Array))throw new $(oe.INVALID_ARGUMENT,"Function "+K+"() requires its "+de+" option to be an array, but it was: "+Le(mt));for(var $t=0;$t<mt.length;++$t)if(!Kt(mt[$t]))throw new $(oe.INVALID_ARGUMENT,"Function "+K+"() requires all "+de+" elements to be a string or a FieldPath, but the value at index "+$t+" was: "+Le(mt[$t]))}(s,"mergeFields",0,w,function(o){return"string"==typeof o||o instanceof gl}),void 0!==n.mergeFields&&void 0!==n.merge)throw new $(oe.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');var w;return n}function _d(s,n){return void 0===n?{}:(ht(s,n,["serverTimestamps"]),at(s,0,"serverTimestamps",n.serverTimestamps,["estimate","previous","none"]),n)}function bd(s,n){Tn(s,"object",1,n),n&&(ht(s,n,["source"]),at(s,0,"source",n.source,["default","server","cache"]))}function Ba(s,n,o){if(n instanceof $l){if(n.firestore!==o)throw new $(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}throw Et(s,"DocumentReference",1,n)}function ja(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function nl(s,n,o){return s?o&&(o.merge||o.mergeFields)?s.toFirestore(n,o):s.toFirestore(n):n}var ch=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return y.__extends(n,s),n.serverTimestamp=function(){G("FieldValue.serverTimestamp",arguments);var o=new vl("serverTimestamp");return o.t_="FieldValue.serverTimestamp",new n(o)},n.delete=function(){G("FieldValue.delete",arguments);var o=new el("deleteField");return o.t_="FieldValue.delete",new n(o)},n.arrayUnion=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];N("FieldValue.arrayUnion",arguments,1);var p=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];return N("arrayUnion()",arguments,1),new md("arrayUnion",w)}.apply(void 0,o);return p.t_="FieldValue.arrayUnion",new n(p)},n.arrayRemove=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];N("FieldValue.arrayRemove",arguments,1);var p=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];return N("arrayRemove()",arguments,1),new Qu("arrayRemove",w)}.apply(void 0,o);return p.t_="FieldValue.arrayRemove",new n(p)},n.increment=function(o){Ke("FieldValue.increment","number",1,o),J("FieldValue.increment",arguments,1);var c=new Xu("increment",o);return c.t_="FieldValue.increment",new n(c)},n.prototype.isEqual=function(o){return this.h_.isEqual(o.h_)},n}(Ea),dh={Firestore:yu,GeoPoint:pu,Timestamp:Yt,Blob:br,Transaction:El,WriteBatch:yd,DocumentReference:Fa,DocumentSnapshot:Sl,Query:wu,QueryDocumentSnapshot:Tl,QuerySnapshot:La,CollectionReference:tc,FieldPath:gl,FieldValue:ch,setLogLevel:yu.setLogLevel,CACHE_SIZE_UNLIMITED:Fs};function wd(s){s.INTERNAL.registerComponent(new Xe.Component("firestore",function(c){return p=c.getProvider("app").getImmediate(),w=c.getProvider("auth-internal"),x=new wa,K=new Ra(x),new yu(p,w,K,x);var p,w,x,K},"PUBLIC").setServiceProps(Object.assign({},dh))),s.registerVersion("@firebase/firestore","1.17.3")}wd(Ge.default),nt.__PRIVATE_registerFirestore=wd},45011:(Nn,nt,F)=>{"use strict";var y=F(39278),T=F(42472),Y=F(46355);function Pe(je){return je&&"object"==typeof je&&"default"in je?je:{default:je}}var z=Pe(y),Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=function(je){function ke(et,f,k){var D=je.call(this,f)||this;return Object.setPrototypeOf(D,ke.prototype),D.code=et,D.details=k,D}return T.__extends(ke,je),ke}(Error),$=function(){function je(ke,et){var f=this;this.auth=null,this.messaging=null,this.auth=ke.getImmediate({optional:!0}),this.messaging=et.getImmediate({optional:!0}),this.auth||ke.get().then(function(k){return f.auth=k},function(){}),this.messaging||et.get().then(function(k){return f.messaging=k},function(){})}return je.prototype.getAuthToken=function(){return T.__awaiter(this,void 0,void 0,function(){var ke;return T.__generator(this,function(f){switch(f.label){case 0:if(!this.auth)return[2,void 0];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(ke=f.sent())?[2,ke.accessToken]:[2,void 0];case 3:return f.sent(),[2,void 0];case 4:return[2]}})})},je.prototype.getInstanceIdToken=function(){return T.__awaiter(this,void 0,void 0,function(){return T.__generator(this,function(ke){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},je.prototype.getContext=function(){return T.__awaiter(this,void 0,void 0,function(){var ke,et;return T.__generator(this,function(f){switch(f.label){case 0:return[4,this.getAuthToken()];case 1:return ke=f.sent(),[4,this.getInstanceIdToken()];case 2:return et=f.sent(),[2,{authToken:ke,instanceIdToken:et}]}})})},je}();function De(je,ke){var et={};for(var f in je)je.hasOwnProperty(f)&&(et[f]=ke(je[f]));return et}var _t=function(){function je(){}return je.prototype.encode=function(ke){var et=this;if(null==ke)return null;if(ke instanceof Number&&(ke=ke.valueOf()),"number"==typeof ke&&isFinite(ke)||!0===ke||!1===ke||"[object String]"===Object.prototype.toString.call(ke))return ke;if(Array.isArray(ke))return ke.map(function(f){return et.encode(f)});if("function"==typeof ke||"object"==typeof ke)return De(ke,function(f){return et.encode(f)});throw new Error("Data cannot be encoded in JSON: "+ke)},je.prototype.decode=function(ke){var et=this;if(null==ke)return ke;if(ke["@type"])switch(ke["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var f=Number(ke.value);if(isNaN(f))throw new Error("Data cannot be decoded from JSON: "+ke);return f;default:throw new Error("Data cannot be decoded from JSON: "+ke)}return Array.isArray(ke)?ke.map(function(k){return et.decode(k)}):"function"==typeof ke||"object"==typeof ke?De(ke,function(k){return et.decode(k)}):ke},je}(),zt=function(){function je(ke,et,f,k,D){var G=this;void 0===k&&(k="us-central1"),this.app_=ke,this.fetchImpl=D,this.serializer=new _t,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(G.deleteService())}},this.contextProvider=new $(et,f),this.cancelAllRequests=new Promise(function(N){G.deleteService=function(){return N()}});try{var J=new URL(k);this.customDomain=J.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=k}}return Object.defineProperty(je.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),je.prototype._url=function(ke){var et=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+et+"/"+this.region+"/"+ke:null!==this.customDomain?this.customDomain+"/"+ke:"https://"+this.region+"-"+et+".cloudfunctions.net/"+ke},je.prototype.useFunctionsEmulator=function(ke){this.emulatorOrigin=ke},je.prototype.httpsCallable=function(ke,et){var f=this;return function(k){return f.call(ke,k,et||{})}},je.prototype.postJSON=function(ke,et,f){return T.__awaiter(this,void 0,void 0,function(){var k,G;return T.__generator(this,function(N){switch(N.label){case 0:f["Content-Type"]="application/json",N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.fetchImpl(ke,{method:"POST",body:JSON.stringify(et),headers:f})];case 2:return k=N.sent(),[3,4];case 3:return N.sent(),[2,{status:0,json:null}];case 4:G=null,N.label=5;case 5:return N.trys.push([5,7,,8]),[4,k.json()];case 6:return G=N.sent(),[3,8];case 7:return N.sent(),[3,8];case 8:return[2,{status:k.status,json:G}]}})})},je.prototype.call=function(ke,et,f){return T.__awaiter(this,void 0,void 0,function(){var k,D,G,J,ge,Ke,Tn,He,ut,at;return T.__generator(this,function(ce){switch(ce.label){case 0:return k=this._url(ke),et=this.serializer.encode(et),D={data:et},G={},[4,this.contextProvider.getContext()];case 1:return(J=ce.sent()).authToken&&(G.Authorization="Bearer "+J.authToken),J.instanceIdToken&&(G["Firebase-Instance-ID-Token"]=J.instanceIdToken),ge=function Zt(je){var ke,et=new Promise(function(f,k){ke=setTimeout(function(){k(new ee("deadline-exceeded","deadline-exceeded"))},je)});return{timer:ke,promise:et}}(f.timeout||7e4),Ke=ge.timer,Tn=ge.promise,[4,Promise.race([we(Ke,this.postJSON(k,D,G)),Tn,we(Ke,this.cancelAllRequests)])];case 2:if(!(He=ce.sent()))throw new ee("cancelled","Firebase Functions instance was deleted.");if(ut=function oe(je,ke,et){var f=function Ge(je){if(je>=200&&je<300)return"ok";switch(je){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(je),k=f,D=void 0;try{var G=ke&&ke.error;if(G){var J=G.status;if("string"==typeof J){if(!Xe[J])return new ee("internal","internal");f=Xe[J],k=J}var N=G.message;"string"==typeof N&&(k=N),void 0!==(D=G.details)&&(D=et.decode(D))}}catch{}return"ok"===f?null:new ee(f,k,D)}(He.status,He.json,this.serializer),ut)throw ut;if(!He.json)throw new ee("internal","Response is not valid JSON object.");if(typeof(at=He.json.data)>"u"&&(at=He.json.result),typeof at>"u")throw new ee("internal","Response is missing data field.");return[2,{data:this.serializer.decode(at)}]}})})},je}();function we(je,ke){return T.__awaiter(this,void 0,void 0,function(){var et;return T.__generator(this,function(f){switch(f.label){case 0:return[4,ke];case 1:return et=f.sent(),clearTimeout(je),[2,et]}})})}(function vt(je,ke){var et={Functions:zt};je.INTERNAL.registerComponent(new Y.Component("functions",function f(k,D){var G=k.getProvider("app").getImmediate(),J=k.getProvider("auth-internal"),N=k.getProvider("messaging");return new zt(G,J,N,D,ke)},"PUBLIC").setServiceProps(et).setMultipleInstances(!0))})(z.default,fetch.bind(self)),z.default.registerVersion("@firebase/functions","0.5.1")},78660:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{registerInstallations:()=>Re});var y=F(39278),T=F(46355),z=function(){return z=Object.assign||function(_e){for(var qe,gt=1,kt=arguments.length;gt<kt;gt++)for(var Lt in qe=arguments[gt])Object.prototype.hasOwnProperty.call(qe,Lt)&&(_e[Lt]=qe[Lt]);return _e},z.apply(this,arguments)};function $(q,_e,qe,gt){return new(qe||(qe=Promise))(function(Lt,Mn){function Wn(fn){try{tr(gt.next(fn))}catch(sr){Mn(sr)}}function hr(fn){try{tr(gt.throw(fn))}catch(sr){Mn(sr)}}function tr(fn){fn.done?Lt(fn.value):function kt(Lt){return Lt instanceof qe?Lt:new qe(function(Mn){Mn(Lt)})}(fn.value).then(Wn,hr)}tr((gt=gt.apply(q,_e||[])).next())})}function Me(q,_e){var gt,kt,Lt,Mn,qe={label:0,sent:function(){if(1&Lt[0])throw Lt[1];return Lt[1]},trys:[],ops:[]};return Mn={next:Wn(0),throw:Wn(1),return:Wn(2)},"function"==typeof Symbol&&(Mn[Symbol.iterator]=function(){return this}),Mn;function Wn(tr){return function(fn){return function hr(tr){if(gt)throw new TypeError("Generator is already executing.");for(;qe;)try{if(gt=1,kt&&(Lt=2&tr[0]?kt.return:tr[0]?kt.throw||((Lt=kt.return)&&Lt.call(kt),0):kt.next)&&!(Lt=Lt.call(kt,tr[1])).done)return Lt;switch(kt=0,Lt&&(tr=[2&tr[0],Lt.value]),tr[0]){case 0:case 1:Lt=tr;break;case 4:return qe.label++,{value:tr[1],done:!1};case 5:qe.label++,kt=tr[1],tr=[0];continue;case 7:tr=qe.ops.pop(),qe.trys.pop();continue;default:if(!(Lt=(Lt=qe.trys).length>0&&Lt[Lt.length-1])&&(6===tr[0]||2===tr[0])){qe=0;continue}if(3===tr[0]&&(!Lt||tr[1]>Lt[0]&&tr[1]<Lt[3])){qe.label=tr[1];break}if(6===tr[0]&&qe.label<Lt[1]){qe.label=Lt[1],Lt=tr;break}if(Lt&&qe.label<Lt[2]){qe.label=Lt[2],qe.ops.push(tr);break}Lt[2]&&qe.ops.pop(),qe.trys.pop();continue}tr=_e.call(q,qe)}catch(fn){tr=[6,fn],kt=0}finally{gt=Lt=0}if(5&tr[0])throw tr[1];return{value:tr[0]?tr[1]:void 0,done:!0}}([tr,fn])}}}function _t(q){var _e="function"==typeof Symbol&&Symbol.iterator,qe=_e&&q[_e],gt=0;if(qe)return qe.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&gt>=q.length&&(q=void 0),{value:q&&q[gt++],done:!q}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(q,_e){var qe="function"==typeof Symbol&&q[Symbol.iterator];if(!qe)return q;var kt,Mn,gt=qe.call(q),Lt=[];try{for(;(void 0===_e||_e-- >0)&&!(kt=gt.next()).done;)Lt.push(kt.value)}catch(Wn){Mn={error:Wn}}finally{try{kt&&!kt.done&&(qe=gt.return)&&qe.call(gt)}finally{if(Mn)throw Mn.error}}return Lt}var ce,D=F(1270),G=F(32940),J="@firebase/installations",N="0.4.17",ge=1e4,Ke="w:"+N,Tn="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",ut=36e5,ie=((ce={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ce["not-registered"]="Firebase Installation is not registered.",ce["installation-not-found"]="Firebase Installation not found.",ce["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ce["app-offline"]="Could not process request. Application offline.",ce["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ce),Le=new D.ErrorFactory("installations","Installations",ie);function Ue(q){return q instanceof D.FirebaseError&&q.code.includes("request-failed")}function ht(q){return He+"/projects/"+q.projectId+"/installations"}function Et(q){return{token:q.token,requestStatus:2,expiresIn:Ut(q.expiresIn),creationTime:Date.now()}}function mn(q,_e){return $(this,void 0,void 0,function(){var qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return[4,_e.json()];case 1:return qe=kt.sent(),[2,Le.create("request-failed",{requestName:q,serverCode:(gt=qe.error).code,serverMessage:gt.message,serverStatus:gt.status})]}})})}function bt(q){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":q.apiKey})}function sn(q,_e){var qe=_e.refreshToken,gt=bt(q);return gt.append("Authorization",function Xt(q){return Tn+" "+q}(qe)),gt}function ft(q){return $(this,void 0,void 0,function(){var _e;return Me(this,function(qe){switch(qe.label){case 0:return[4,q()];case 1:return(_e=qe.sent()).status>=500&&_e.status<600?[2,q()]:[2,_e]}})})}function Ut(q){return Number(q.replace("s","000"))}function dn(q,_e){var qe=_e.fid;return $(this,void 0,void 0,function(){var gt,kt,Mn,Wn,hr;return Me(this,function(fn){switch(fn.label){case 0:return gt=ht(q),kt=bt(q),Mn={method:"POST",headers:kt,body:JSON.stringify({fid:qe,authVersion:Tn,appId:q.appId,sdkVersion:Ke})},[4,ft(function(){return fetch(gt,Mn)})];case 1:return(Wn=fn.sent()).ok?[4,Wn.json()]:[3,3];case 2:return[2,{fid:(hr=fn.sent()).fid||qe,registrationStatus:2,refreshToken:hr.refreshToken,authToken:Et(hr.authToken)}];case 3:return[4,mn("Create Installation",Wn)];case 4:throw fn.sent()}})})}function Bn(q){return new Promise(function(_e){setTimeout(_e,q)})}var $n=/^[cdef][\w-]{21}$/,zn="";function On(){try{var q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(q),q[0]=112+q[0]%16;var qe=function br(q){var _e=function xn(q){var _e=btoa(String.fromCharCode.apply(String,function zt(){for(var q=[],_e=0;_e<arguments.length;_e++)q=q.concat(Zt(arguments[_e]));return q}(q)));return _e.replace(/\+/g,"-").replace(/\//g,"_")}(q);return _e.substr(0,22)}(q);return $n.test(qe)?qe:zn}catch{return zn}}function hn(q){return q.appName+"!"+q.appId}var Fe=new Map;function dt(q,_e){var qe=hn(q);gn(qe,_e),function ot(q,_e){var qe=Mt();qe&&qe.postMessage({key:q,fid:_e}),Nt()}(qe,_e)}function gn(q,_e){var qe,gt,kt=Fe.get(q);if(kt)try{for(var Lt=_t(kt),Mn=Lt.next();!Mn.done;Mn=Lt.next())(0,Mn.value)(_e)}catch(hr){qe={error:hr}}finally{try{Mn&&!Mn.done&&(gt=Lt.return)&&gt.call(Lt)}finally{if(qe)throw qe.error}}}var Se=null;function Mt(){return!Se&&"BroadcastChannel"in self&&((Se=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(q){gn(q.data.key,q.data.fid)}),Se}function Nt(){0===Fe.size&&Se&&(Se.close(),Se=null)}var ct="firebase-installations-database",wn=1,An="firebase-installations-store",Hn=null;function Rn(){return Hn||(Hn=(0,G.openDb)(ct,wn,function(q){0===q.oldVersion&&q.createObjectStore(An)})),Hn}function kn(q,_e){return $(this,void 0,void 0,function(){var qe,gt,kt,Lt,Mn;return Me(this,function(Wn){switch(Wn.label){case 0:return qe=hn(q),[4,Rn()];case 1:return gt=Wn.sent(),kt=gt.transaction(An,"readwrite"),[4,(Lt=kt.objectStore(An)).get(qe)];case 2:return Mn=Wn.sent(),[4,Lt.put(_e,qe)];case 3:return Wn.sent(),[4,kt.complete];case 4:return Wn.sent(),(!Mn||Mn.fid!==_e.fid)&&dt(q,_e.fid),[2,_e]}})})}function Jn(q){return $(this,void 0,void 0,function(){var _e,qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return _e=hn(q),[4,Rn()];case 1:return qe=kt.sent(),[4,(gt=qe.transaction(An,"readwrite")).objectStore(An).delete(_e)];case 2:return kt.sent(),[4,gt.complete];case 3:return kt.sent(),[2]}})})}function Ir(q,_e){return $(this,void 0,void 0,function(){var qe,gt,kt,Lt,Mn,Wn;return Me(this,function(hr){switch(hr.label){case 0:return qe=hn(q),[4,Rn()];case 1:return gt=hr.sent(),kt=gt.transaction(An,"readwrite"),[4,(Lt=kt.objectStore(An)).get(qe)];case 2:return Mn=hr.sent(),void 0!==(Wn=_e(Mn))?[3,4]:[4,Lt.delete(qe)];case 3:return hr.sent(),[3,6];case 4:return[4,Lt.put(Wn,qe)];case 5:hr.sent(),hr.label=6;case 6:return[4,kt.complete];case 7:return hr.sent(),Wn&&(!Mn||Mn.fid!==Wn.fid)&&dt(q,Wn.fid),[2,Wn]}})})}function cn(q){return $(this,void 0,void 0,function(){var _e,qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return[4,Ir(q,function(Lt){var Mn=function Pt(q){return tt(q||{fid:On(),registrationStatus:0})}(Lt),Wn=function Vt(q,_e){if(0===_e.registrationStatus){if(!navigator.onLine)return{installationEntry:_e,registrationPromise:Promise.reject(Le.create("app-offline"))};var gt={fid:_e.fid,registrationStatus:1,registrationTime:Date.now()},kt=function Ce(q,_e){return $(this,void 0,void 0,function(){var qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return kt.trys.push([0,2,,7]),[4,dn(q,_e)];case 1:return qe=kt.sent(),[2,kn(q,qe)];case 2:return Ue(gt=kt.sent())&&409===gt.serverCode?[4,Jn(q)]:[3,4];case 3:return kt.sent(),[3,6];case 4:return[4,kn(q,{fid:_e.fid,registrationStatus:0})];case 5:kt.sent(),kt.label=6;case 6:throw gt;case 7:return[2]}})})}(q,gt);return{installationEntry:gt,registrationPromise:kt}}return 1===_e.registrationStatus?{installationEntry:_e,registrationPromise:ue(q)}:{installationEntry:_e}}(q,Mn);return _e=Wn.registrationPromise,Wn.installationEntry})];case 1:return(qe=kt.sent()).fid!==zn?[3,3]:(gt={},[4,_e]);case 2:return[2,(gt.installationEntry=kt.sent(),gt)];case 3:return[2,{installationEntry:qe,registrationPromise:_e}]}})})}function ue(q){return $(this,void 0,void 0,function(){var _e,qe,gt,kt;return Me(this,function(Lt){switch(Lt.label){case 0:return[4,le(q)];case 1:_e=Lt.sent(),Lt.label=2;case 2:return 1!==_e.registrationStatus?[3,5]:[4,Bn(100)];case 3:return Lt.sent(),[4,le(q)];case 4:return _e=Lt.sent(),[3,2];case 5:return 0!==_e.registrationStatus?[3,7]:[4,cn(q)];case 6:return qe=Lt.sent(),gt=qe.installationEntry,(kt=qe.registrationPromise)?[2,kt]:[2,gt];case 7:return[2,_e]}})})}function le(q){return Ir(q,function(_e){if(!_e)throw Le.create("installation-not-found");return tt(_e)})}function tt(q){return function St(q){return 1===q.registrationStatus&&q.registrationTime+ge<Date.now()}(q)?{fid:q.fid,registrationStatus:0}:q}function vn(q,_e){var qe=q.appConfig,gt=q.platformLoggerProvider;return $(this,void 0,void 0,function(){var kt,Lt,Mn,hr,tr;return Me(this,function(mr){switch(mr.label){case 0:return kt=function Oe(q,_e){var qe=_e.fid;return ht(q)+"/"+qe+"/authTokens:generate"}(qe,_e),Lt=sn(qe,_e),(Mn=gt.getImmediate({optional:!0}))&&Lt.append("x-firebase-client",Mn.getPlatformInfoString()),hr={method:"POST",headers:Lt,body:JSON.stringify({installation:{sdkVersion:Ke}})},[4,ft(function(){return fetch(kt,hr)})];case 1:return(tr=mr.sent()).ok?[4,tr.json()]:[3,3];case 2:return[2,Et(mr.sent())];case 3:return[4,mn("Generate Auth Token",tr)];case 4:throw mr.sent()}})})}function It(q,_e){return void 0===_e&&(_e=!1),$(this,void 0,void 0,function(){var qe,gt,Lt;return Me(this,function(Mn){switch(Mn.label){case 0:return[4,Ir(q.appConfig,function(Wn){if(!st(Wn))throw Le.create("not-registered");var hr=Wn.authToken;if(!_e&&function rt(q){return 2===q.requestStatus&&!function Ie(q){var _e=Date.now();return _e<q.creationTime||q.creationTime+q.expiresIn<_e+ut}(q)}(hr))return Wn;if(1===hr.requestStatus)return qe=function Bt(q,_e){return $(this,void 0,void 0,function(){var qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return[4,ln(q.appConfig)];case 1:qe=kt.sent(),kt.label=2;case 2:return 1!==qe.authToken.requestStatus?[3,5]:[4,Bn(100)];case 3:return kt.sent(),[4,ln(q.appConfig)];case 4:return qe=kt.sent(),[3,2];case 5:return 0===(gt=qe.authToken).requestStatus?[2,It(q,_e)]:[2,gt]}})})}(q,_e),Wn;if(!navigator.onLine)throw Le.create("app-offline");var tr=function Dt(q){var _e={requestStatus:1,requestTime:Date.now()};return z(z({},q),{authToken:_e})}(Wn);return qe=function qt(q,_e){return $(this,void 0,void 0,function(){var qe,gt,kt;return Me(this,function(Lt){switch(Lt.label){case 0:return Lt.trys.push([0,3,,8]),[4,vn(q,_e)];case 1:return qe=Lt.sent(),kt=z(z({},_e),{authToken:qe}),[4,kn(q.appConfig,kt)];case 2:return Lt.sent(),[2,qe];case 3:return!Ue(gt=Lt.sent())||401!==gt.serverCode&&404!==gt.serverCode?[3,5]:[4,Jn(q.appConfig)];case 4:return Lt.sent(),[3,7];case 5:return kt=z(z({},_e),{authToken:{requestStatus:0}}),[4,kn(q.appConfig,kt)];case 6:Lt.sent(),Lt.label=7;case 7:throw gt;case 8:return[2]}})})}(q,tr),tr})];case 1:return gt=Mn.sent(),qe?[4,qe]:[3,3];case 2:return Lt=Mn.sent(),[3,4];case 3:Lt=gt.authToken,Mn.label=4;case 4:return[2,Lt]}})})}function ln(q){return Ir(q,function(_e){if(!st(_e))throw Le.create("not-registered");return function Ft(q){return 1===q.requestStatus&&q.requestTime+ge<Date.now()}(_e.authToken)?z(z({},_e),{authToken:{requestStatus:0}}):_e})}function st(q){return void 0!==q&&2===q.registrationStatus}function Cn(q){return $(this,void 0,void 0,function(){var _e;return Me(this,function(qe){switch(qe.label){case 0:return[4,cn(q)];case 1:return(_e=qe.sent().registrationPromise)?[4,_e]:[3,3];case 2:qe.sent(),qe.label=3;case 3:return[2]}})})}function lr(q,_e){return $(this,void 0,void 0,function(){var qe,gt,kt,Lt;return Me(this,function(Mn){switch(Mn.label){case 0:return qe=function ei(q,_e){var qe=_e.fid;return ht(q)+"/"+qe}(q,_e),gt=sn(q,_e),kt={method:"DELETE",headers:gt},[4,ft(function(){return fetch(qe,kt)})];case 1:return(Lt=Mn.sent()).ok?[3,3]:[4,mn("Delete Installation",Lt)];case 2:throw Mn.sent();case 3:return[2]}})})}function Gt(q){return Le.create("missing-app-config-values",{valueName:q})}function Re(q){q.INTERNAL.registerComponent(new T.Component("installations",function(qe){var gt=qe.getProvider("app").getImmediate(),kt=function Tt(q){var _e,qe;if(!q||!q.options)throw Gt("App Configuration");if(!q.name)throw Gt("App Name");try{for(var kt=_t(["projectId","apiKey","appId"]),Lt=kt.next();!Lt.done;Lt=kt.next()){var Mn=Lt.value;if(!q.options[Mn])throw Gt(Mn)}}catch(Wn){_e={error:Wn}}finally{try{Lt&&!Lt.done&&(qe=kt.return)&&qe.call(kt)}finally{if(_e)throw _e.error}}return{appName:q.name,projectId:q.options.projectId,apiKey:q.options.apiKey,appId:q.options.appId}}(gt),Mn={appConfig:kt,platformLoggerProvider:qe.getProvider("platform-logger")},Wn={app:gt,getId:function(){return function pn(q){return $(this,void 0,void 0,function(){var _e,qe,gt;return Me(this,function(kt){switch(kt.label){case 0:return[4,cn(q.appConfig)];case 1:return _e=kt.sent(),qe=_e.installationEntry,(gt=_e.registrationPromise)?gt.catch(console.error):It(q).catch(console.error),[2,qe.fid]}})})}(Mn)},getToken:function(hr){return function Qn(q,_e){return void 0===_e&&(_e=!1),$(this,void 0,void 0,function(){return Me(this,function(gt){switch(gt.label){case 0:return[4,Cn(q.appConfig)];case 1:return gt.sent(),[4,It(q,_e)];case 2:return[2,gt.sent().token]}})})}(Mn,hr)},delete:function(){return function it(q){return $(this,void 0,void 0,function(){var _e,qe;return Me(this,function(gt){switch(gt.label){case 0:return[4,Ir(_e=q.appConfig,function(kt){if(!kt||0!==kt.registrationStatus)return kt})];case 1:if(!(qe=gt.sent()))return[3,6];if(1!==qe.registrationStatus)return[3,2];throw Le.create("delete-pending-registration");case 2:if(2!==qe.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Le.create("app-offline");case 3:return[4,lr(_e,qe)];case 4:return gt.sent(),[4,Jn(_e)];case 5:gt.sent(),gt.label=6;case 6:return[2]}})})}(Mn)},onIdChange:function(hr){return function pt(q,_e){var qe=q.appConfig;return function Yt(q,_e){Mt();var qe=hn(q),gt=Fe.get(qe);gt||Fe.set(qe,gt=new Set),gt.add(_e)}(qe,_e),function(){!function Qt(q,_e){var qe=hn(q),gt=Fe.get(qe);gt&&(gt.delete(_e),0===gt.size&&Fe.delete(qe),Nt())}(qe,_e)}}(Mn,hr)}};return Wn},"PUBLIC")),q.registerVersion(J,N)}Re(y.default)},64003:(Nn,nt,F)=>{"use strict";function y(){for(var Te=0,De=0,_t=arguments.length;De<_t;De++)Te+=arguments[De].length;var Zt=Array(Te),zt=0;for(De=0;De<_t;De++)for(var we=arguments[De],Rt=0,vt=we.length;Rt<vt;Rt++,zt++)Zt[zt]=we[Rt];return Zt}F.r(nt),F.d(nt,{LogLevel:()=>Pe,Logger:()=>oe,setLogLevel:()=>$,setUserLogHandler:()=>Me});var T,Y=[],Pe=(()=>{return(Te=Pe||(Pe={}))[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Pe;var Te})(),z={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Xe=Pe.INFO,ee=((T={})[Pe.DEBUG]="log",T[Pe.VERBOSE]="log",T[Pe.INFO]="info",T[Pe.WARN]="warn",T[Pe.ERROR]="error",T),Ge=function(Te,De){for(var _t=[],Zt=2;Zt<arguments.length;Zt++)_t[Zt-2]=arguments[Zt];if(!(De<Te.logLevel)){var zt=(new Date).toISOString(),we=ee[De];if(!we)throw new Error("Attempted to log a message with an invalid logType (value: "+De+")");console[we].apply(console,y(["["+zt+"]  "+Te.name+":"],_t))}},oe=function(){function Te(De){this.name=De,this._logLevel=Xe,this._logHandler=Ge,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(Te.prototype,"logLevel",{get:function(){return this._logLevel},set:function(De){if(!(De in Pe))throw new TypeError('Invalid value "'+De+'" assigned to `logLevel`');this._logLevel=De},enumerable:!1,configurable:!0}),Te.prototype.setLogLevel=function(De){this._logLevel="string"==typeof De?z[De]:De},Object.defineProperty(Te.prototype,"logHandler",{get:function(){return this._logHandler},set:function(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(De){this._userLogHandler=De},enumerable:!1,configurable:!0}),Te.prototype.debug=function(){for(var De=[],_t=0;_t<arguments.length;_t++)De[_t]=arguments[_t];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.DEBUG],De)),this._logHandler.apply(this,y([this,Pe.DEBUG],De))},Te.prototype.log=function(){for(var De=[],_t=0;_t<arguments.length;_t++)De[_t]=arguments[_t];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.VERBOSE],De)),this._logHandler.apply(this,y([this,Pe.VERBOSE],De))},Te.prototype.info=function(){for(var De=[],_t=0;_t<arguments.length;_t++)De[_t]=arguments[_t];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.INFO],De)),this._logHandler.apply(this,y([this,Pe.INFO],De))},Te.prototype.warn=function(){for(var De=[],_t=0;_t<arguments.length;_t++)De[_t]=arguments[_t];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.WARN],De)),this._logHandler.apply(this,y([this,Pe.WARN],De))},Te.prototype.error=function(){for(var De=[],_t=0;_t<arguments.length;_t++)De[_t]=arguments[_t];this._userLogHandler&&this._userLogHandler.apply(this,y([this,Pe.ERROR],De)),this._logHandler.apply(this,y([this,Pe.ERROR],De))},Te}();function $(Te){Y.forEach(function(De){De.setLogLevel(Te)})}function Me(Te,De){for(var _t=function(Rt){var vt=null;De&&De.level&&(vt=z[De.level]),Rt.userLogHandler=null===Te?null:function(en,Ot){for(var je=[],ke=2;ke<arguments.length;ke++)je[ke-2]=arguments[ke];var et=je.map(function(f){if(null==f)return null;if("string"==typeof f)return f;if("number"==typeof f||"boolean"==typeof f)return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(function(f){return f}).join(" ");Ot>=(vt??en.logLevel)&&Te({level:Pe[Ot].toLowerCase(),message:et,args:je,type:en.name})}},Zt=0,zt=Y;Zt<zt.length;Zt++)_t(zt[Zt])}},46101:(Nn,nt,F)=>{"use strict";F.r(nt),F(78660);var T=F(46355),Y=F(1270),Xe=function(){return Xe=Object.assign||function(pt){for(var Tt,Gt=1,Re=arguments.length;Gt<Re;Gt++)for(var q in Tt=arguments[Gt])Object.prototype.hasOwnProperty.call(Tt,q)&&(pt[q]=Tt[q]);return pt},Xe.apply(this,arguments)};function Me(it,pt,Tt,Gt){return new(Tt||(Tt=Promise))(function(q,_e){function qe(Lt){try{kt(Gt.next(Lt))}catch(Mn){_e(Mn)}}function gt(Lt){try{kt(Gt.throw(Lt))}catch(Mn){_e(Mn)}}function kt(Lt){Lt.done?q(Lt.value):function Re(q){return q instanceof Tt?q:new Tt(function(_e){_e(q)})}(Lt.value).then(qe,gt)}kt((Gt=Gt.apply(it,pt||[])).next())})}function Te(it,pt){var Gt,Re,q,_e,Tt={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return _e={next:qe(0),throw:qe(1),return:qe(2)},"function"==typeof Symbol&&(_e[Symbol.iterator]=function(){return this}),_e;function qe(kt){return function(Lt){return function gt(kt){if(Gt)throw new TypeError("Generator is already executing.");for(;Tt;)try{if(Gt=1,Re&&(q=2&kt[0]?Re.return:kt[0]?Re.throw||((q=Re.return)&&q.call(Re),0):Re.next)&&!(q=q.call(Re,kt[1])).done)return q;switch(Re=0,q&&(kt=[2&kt[0],q.value]),kt[0]){case 0:case 1:q=kt;break;case 4:return Tt.label++,{value:kt[1],done:!1};case 5:Tt.label++,Re=kt[1],kt=[0];continue;case 7:kt=Tt.ops.pop(),Tt.trys.pop();continue;default:if(!(q=(q=Tt.trys).length>0&&q[q.length-1])&&(6===kt[0]||2===kt[0])){Tt=0;continue}if(3===kt[0]&&(!q||kt[1]>q[0]&&kt[1]<q[3])){Tt.label=kt[1];break}if(6===kt[0]&&Tt.label<q[1]){Tt.label=q[1],q=kt;break}if(q&&Tt.label<q[2]){Tt.label=q[2],Tt.ops.push(kt);break}q[2]&&Tt.ops.pop(),Tt.trys.pop();continue}kt=pt.call(it,Tt)}catch(Lt){kt=[6,Lt],Re=0}finally{Gt=q=0}if(5&kt[0])throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}([kt,Lt])}}}function Zt(it){var pt="function"==typeof Symbol&&Symbol.iterator,Tt=pt&&it[pt],Gt=0;if(Tt)return Tt.call(it);if(it&&"number"==typeof it.length)return{next:function(){return it&&Gt>=it.length&&(it=void 0),{value:it&&it[Gt++],done:!it}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}function zt(it,pt){var Tt="function"==typeof Symbol&&it[Symbol.iterator];if(!Tt)return it;var Re,_e,Gt=Tt.call(it),q=[];try{for(;(void 0===pt||pt-- >0)&&!(Re=Gt.next()).done;)q.push(Re.value)}catch(qe){_e={error:qe}}finally{try{Re&&!Re.done&&(Tt=Gt.return)&&Tt.call(Gt)}finally{if(_e)throw _e.error}}return q}var N,G=F(32940),J=F(39278),ge=((N={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',N["only-available-in-window"]="This method is available in a Window context.",N["only-available-in-sw"]="This method is available in a service worker context.",N["permission-default"]="The notification permission was not granted and dismissed instead.",N["permission-blocked"]="The notification permission was not granted and blocked instead.",N["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",N["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",N["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",N["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",N["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",N["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",N["token-update-no-token"]="FCM returned no token when updating the user to push.",N["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",N["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",N["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",N["invalid-vapid-key"]="The public VAPID key must be a string.",N["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",N),Ke=new Y.ErrorFactory("messaging","Messaging",ge),ut="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",at="https://fcmregistrations.googleapis.com/v1",te="FCM_MSG",ce="google.c.a.c_id",Et=(()=>{return(it=Et||(Et={})).PUSH_RECEIVED="push-received",it.NOTIFICATION_CLICKED="notification-clicked",Et;var it})();function mn(it){var pt=new Uint8Array(it),Tt=btoa(String.fromCharCode.apply(String,function we(){for(var it=[],pt=0;pt<arguments.length;pt++)it=it.concat(zt(arguments[pt]));return it}(pt)));return Tt.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bt(it){for(var Tt=(it+"=".repeat((4-it.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Gt=atob(Tt),Re=new Uint8Array(Gt.length),q=0;q<Gt.length;++q)Re[q]=Gt.charCodeAt(q);return Re}var sn="fcm_token_details_db",ft=5,Ut="fcm_token_object_Store";function Xt(it){return Me(this,void 0,void 0,function(){var Gt,q=this;return Te(this,function(_e){switch(_e.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!_e.sent().map(function(qe){return qe.name}).includes(sn))return[2,null];_e.label=2;case 2:return Gt=null,[4,(0,G.openDb)(sn,ft,function(qe){return Me(q,void 0,void 0,function(){var gt,kt,Lt,Mn;return Te(this,function(Wn){switch(Wn.label){case 0:return qe.oldVersion<2?[2]:qe.objectStoreNames.contains(Ut)?[4,(gt=qe.transaction.objectStore(Ut)).index("fcmSenderId").get(it)]:[2];case 1:return kt=Wn.sent(),[4,gt.clear()];case 2:if(Wn.sent(),!kt)return[2];if(2===qe.oldVersion){if(!(Lt=kt).auth||!Lt.p256dh||!Lt.endpoint)return[2];Gt={token:Lt.fcmToken,createTime:null!==(Mn=Lt.createTime)&&void 0!==Mn?Mn:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:mn(Lt.vapidKey)}}}else(3===qe.oldVersion||4===qe.oldVersion)&&(Gt={token:(Lt=kt).fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:mn(Lt.auth),p256dh:mn(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:mn(Lt.vapidKey)}});return[2]}})})})];case 3:return _e.sent().close(),[4,(0,G.deleteDb)(sn)];case 4:return _e.sent(),[4,(0,G.deleteDb)("fcm_vapid_details_db")];case 5:return _e.sent(),[4,(0,G.deleteDb)("undefined")];case 6:return _e.sent(),[2,dn(Gt)?Gt:null]}})})}function dn(it){if(!it||!it.subscriptionOptions)return!1;var pt=it.subscriptionOptions;return"number"==typeof it.createTime&&it.createTime>0&&"string"==typeof it.token&&it.token.length>0&&"string"==typeof pt.auth&&pt.auth.length>0&&"string"==typeof pt.p256dh&&pt.p256dh.length>0&&"string"==typeof pt.endpoint&&pt.endpoint.length>0&&"string"==typeof pt.swScope&&pt.swScope.length>0&&"string"==typeof pt.vapidKey&&pt.vapidKey.length>0}var Bn="firebase-messaging-database",xn=1,$n="firebase-messaging-store",zn=null;function On(){return zn||(zn=(0,G.openDb)(Bn,xn,function(it){0===it.oldVersion&&it.createObjectStore($n)})),zn}function br(it){return Me(this,void 0,void 0,function(){var pt,Gt,Re;return Te(this,function(q){switch(q.label){case 0:return pt=dt(it),[4,On()];case 1:return[4,q.sent().transaction($n).objectStore($n).get(pt)];case 2:return(Gt=q.sent())?[2,Gt]:[3,3];case 3:return[4,Xt(it.appConfig.senderId)];case 4:return(Re=q.sent())?[4,hn(it,Re)]:[3,6];case 5:return q.sent(),[2,Re];case 6:return[2]}})})}function hn(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt,Re;return Te(this,function(q){switch(q.label){case 0:return Tt=dt(it),[4,On()];case 1:return Gt=q.sent(),[4,(Re=Gt.transaction($n,"readwrite")).objectStore($n).put(pt,Tt)];case 2:return q.sent(),[4,Re.complete];case 3:return q.sent(),[2,pt]}})})}function Fe(it){return Me(this,void 0,void 0,function(){var pt,Tt,Gt;return Te(this,function(Re){switch(Re.label){case 0:return pt=dt(it),[4,On()];case 1:return Tt=Re.sent(),[4,(Gt=Tt.transaction($n,"readwrite")).objectStore($n).delete(pt)];case 2:return Re.sent(),[4,Gt.complete];case 3:return Re.sent(),[2]}})})}function dt(it){return it.appConfig.appId}function Yt(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt,Re,q,qe;return Te(this,function(kt){switch(kt.label){case 0:return[4,Se(it)];case 1:Tt=kt.sent(),Gt=Mt(pt),Re={method:"POST",headers:Tt,body:JSON.stringify(Gt)},kt.label=2;case 2:return kt.trys.push([2,5,,6]),[4,fetch(ot(it.appConfig),Re)];case 3:return[4,kt.sent().json()];case 4:return q=kt.sent(),[3,6];case 5:throw qe=kt.sent(),Ke.create("token-subscribe-failed",{errorInfo:qe});case 6:if(q.error)throw Ke.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Ke.create("token-subscribe-no-token");return[2,q.token]}})})}function Qt(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt,Re,q,qe;return Te(this,function(kt){switch(kt.label){case 0:return[4,Se(it)];case 1:Tt=kt.sent(),Gt=Mt(pt.subscriptionOptions),Re={method:"PATCH",headers:Tt,body:JSON.stringify(Gt)},kt.label=2;case 2:return kt.trys.push([2,5,,6]),[4,fetch(ot(it.appConfig)+"/"+pt.token,Re)];case 3:return[4,kt.sent().json()];case 4:return q=kt.sent(),[3,6];case 5:throw qe=kt.sent(),Ke.create("token-update-failed",{errorInfo:qe});case 6:if(q.error)throw Ke.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Ke.create("token-update-no-token");return[2,q.token]}})})}function gn(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt,q,qe;return Te(this,function(gt){switch(gt.label){case 0:return[4,Se(it)];case 1:Tt=gt.sent(),Gt={method:"DELETE",headers:Tt},gt.label=2;case 2:return gt.trys.push([2,5,,6]),[4,fetch(ot(it.appConfig)+"/"+pt,Gt)];case 3:return[4,gt.sent().json()];case 4:if((q=gt.sent()).error)throw Ke.create("token-unsubscribe-failed",{errorInfo:q.error.message});return[3,6];case 5:throw qe=gt.sent(),Ke.create("token-unsubscribe-failed",{errorInfo:qe});case 6:return[2]}})})}function ot(it){return at+"/projects/"+it.projectId+"/registrations"}function Se(it){var pt=it.appConfig,Tt=it.installations;return Me(this,void 0,void 0,function(){var Gt;return Te(this,function(Re){switch(Re.label){case 0:return[4,Tt.getToken()];case 1:return Gt=Re.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":pt.apiKey,"x-goog-firebase-installations-auth":"FIS "+Gt})]}})})}function Mt(it){var Re=it.vapidKey,q={web:{endpoint:it.endpoint,auth:it.auth,p256dh:it.p256dh}};return Re!==ut&&(q.web.applicationPubKey=Re),q}var Nt=6048e5;function ct(it,pt,Tt){return Me(this,void 0,void 0,function(){var Gt,Re,q,_e;return Te(this,function(qe){switch(qe.label){case 0:if("granted"!==Notification.permission)throw Ke.create("permission-blocked");return[4,Rn(pt,Tt)];case 1:return Gt=qe.sent(),[4,br(it)];case 2:return Re=qe.sent(),q={vapidKey:Tt,swScope:pt.scope,endpoint:Gt.endpoint,auth:mn(Gt.getKey("auth")),p256dh:mn(Gt.getKey("p256dh"))},Re?[3,3]:[2,Hn(it,q)];case 3:if(function kn(it,pt){return pt.vapidKey===it.vapidKey&&pt.endpoint===it.endpoint&&pt.auth===it.auth&&pt.p256dh===it.p256dh}(Re.subscriptionOptions,q))return[3,8];qe.label=4;case 4:return qe.trys.push([4,6,,7]),[4,gn(it,Re.token)];case 5:return qe.sent(),[3,7];case 6:return _e=qe.sent(),console.warn(_e),[3,7];case 7:return[2,Hn(it,q)];case 8:return Date.now()>=Re.createTime+Nt?[2,An({token:Re.token,createTime:Date.now(),subscriptionOptions:q},it,pt)]:[2,Re.token];case 9:return[2]}})})}function wn(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt;return Te(this,function(Re){switch(Re.label){case 0:return[4,br(it)];case 1:return(Tt=Re.sent())?[4,gn(it,Tt.token)]:[3,4];case 2:return Re.sent(),[4,Fe(it)];case 3:Re.sent(),Re.label=4;case 4:return[4,pt.pushManager.getSubscription()];case 5:return(Gt=Re.sent())?[2,Gt.unsubscribe()]:[2,!0]}})})}function An(it,pt,Tt){return Me(this,void 0,void 0,function(){var Gt,Re,q;return Te(this,function(_e){switch(_e.label){case 0:return _e.trys.push([0,3,,5]),[4,Qt(pt,it)];case 1:return Gt=_e.sent(),Re=Xe(Xe({},it),{token:Gt,createTime:Date.now()}),[4,hn(pt,Re)];case 2:return _e.sent(),[2,Gt];case 3:return q=_e.sent(),[4,wn(pt,Tt)];case 4:throw _e.sent(),q;case 5:return[2]}})})}function Hn(it,pt){return Me(this,void 0,void 0,function(){var Tt,Gt;return Te(this,function(Re){switch(Re.label){case 0:return[4,Yt(it,pt)];case 1:return Tt=Re.sent(),Gt={token:Tt,createTime:Date.now(),subscriptionOptions:pt},[4,hn(it,Gt)];case 2:return Re.sent(),[2,Gt.token]}})})}function Rn(it,pt){return Me(this,void 0,void 0,function(){var Tt;return Te(this,function(Gt){switch(Gt.label){case 0:return[4,it.pushManager.getSubscription()];case 1:return(Tt=Gt.sent())?[2,Tt]:[2,it.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bt(pt)})]}})})}function Vt(it){return"object"==typeof it&&!!it&&ce in it}function Ce(it){return new Promise(function(pt){setTimeout(pt,it)})}var ue=function(){function it(pt){var Tt=this;this.firebaseDependencies=pt,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(Gt){Gt.waitUntil(Tt.onPush(Gt))}),self.addEventListener("pushsubscriptionchange",function(Gt){Gt.waitUntil(Tt.onSubChange(Gt))}),self.addEventListener("notificationclick",function(Gt){Gt.waitUntil(Tt.onNotificationClick(Gt))})}return Object.defineProperty(it.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),it.prototype.setBackgroundMessageHandler=function(pt){if(this.isOnBackgroundMessageUsed=!1,!pt||"function"!=typeof pt)throw Ke.create("invalid-bg-handler");this.bgMessageHandler=pt},it.prototype.onBackgroundMessage=function(pt){var Tt=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=pt,function(){Tt.bgMessageHandler=null}},it.prototype.getToken=function(){var pt,Tt;return Me(this,void 0,void 0,function(){var Gt;return Te(this,function(Re){switch(Re.label){case 0:return this.vapidKey?[3,2]:[4,br(this.firebaseDependencies)];case 1:Gt=Re.sent(),this.vapidKey=null!==(Tt=null===(pt=Gt?.subscriptionOptions)||void 0===pt?void 0:pt.vapidKey)&&void 0!==Tt?Tt:ut,Re.label=2;case 2:return[2,ct(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},it.prototype.deleteToken=function(){return wn(this.firebaseDependencies,self.registration)},it.prototype.requestPermission=function(){throw Ke.create("only-available-in-window")},it.prototype.usePublicVapidKey=function(pt){if(null!==this.vapidKey)throw Ke.create("use-vapid-key-after-get-token");if("string"!=typeof pt||0===pt.length)throw Ke.create("invalid-vapid-key");this.vapidKey=pt},it.prototype.useServiceWorker=function(){throw Ke.create("only-available-in-window")},it.prototype.onMessage=function(){throw Ke.create("only-available-in-window")},it.prototype.onTokenRefresh=function(){throw Ke.create("only-available-in-window")},it.prototype.onPush=function(pt){return Me(this,void 0,void 0,function(){var Tt,Gt,Re,q;return Te(this,function(_e){switch(_e.label){case 0:return Tt=function tt(it){var pt=it.data;if(!pt)return null;try{return pt.json()}catch{return null}}(pt),Tt?[4,It()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function vn(it){return it.some(function(pt){return"visible"===pt.visibilityState&&!pt.url.startsWith("chrome-extension://")})}(Gt=_e.sent())?[2,Oe(Gt,Tt)]:(Re=!1,Tt.notification?[4,Bt(le(Tt))]:[3,3]);case 2:_e.sent(),Re=!0,_e.label=3;case 3:return!0===Re&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(q=function Jn(it){var pt={from:it.from,collapseKey:it.collapse_key};return function Ir(it,pt){if(pt.notification){it.notification={};var Tt=pt.notification.title;Tt&&(it.notification.title=Tt);var Gt=pt.notification.body;Gt&&(it.notification.body=Gt);var Re=pt.notification.image;Re&&(it.notification.image=Re)}}(pt,it),function cn(it,pt){pt.data&&(it.data=pt.data)}(pt,it),function Pt(it,pt){if(pt.fcmOptions){it.fcmOptions={};var Tt=pt.fcmOptions.link;Tt&&(it.fcmOptions.link=Tt);var Gt=pt.fcmOptions.analytics_label;Gt&&(it.fcmOptions.analyticsLabel=Gt)}}(pt,it),pt}(Tt),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(q):this.bgMessageHandler.next(q)),[2]}})})},it.prototype.onSubChange=function(pt){var Tt,Gt;return Me(this,void 0,void 0,function(){var q;return Te(this,function(_e){switch(_e.label){case 0:return pt.newSubscription?[3,2]:[4,wn(this.firebaseDependencies,self.registration)];case 1:case 5:return _e.sent(),[2];case 2:return[4,br(this.firebaseDependencies)];case 3:return q=_e.sent(),[4,wn(this.firebaseDependencies,self.registration)];case 4:return _e.sent(),[4,ct(this.firebaseDependencies,self.registration,null!==(Gt=null===(Tt=q?.subscriptionOptions)||void 0===Tt?void 0:Tt.vapidKey)&&void 0!==Gt?Gt:ut)]}})})},it.prototype.onNotificationClick=function(pt){var Tt,Gt;return Me(this,void 0,void 0,function(){var Re,q,_e,qe,gt;return Te(this,function(kt){switch(kt.label){case 0:return(Re=null===(Gt=null===(Tt=pt.notification)||void 0===Tt?void 0:Tt.data)||void 0===Gt?void 0:Gt[te])?pt.action?[2]:(pt.stopImmediatePropagation(),pt.notification.close(),q=function ln(it){var pt,Tt,Gt;return(null!==(Tt=null===(pt=it.fcmOptions)||void 0===pt?void 0:pt.link)&&void 0!==Tt?Tt:null===(Gt=it.notification)||void 0===Gt?void 0:Gt.click_action)||(Vt(it.data)?self.location.origin:null)}(Re),q?(_e=new URL(q,self.location.href),qe=new URL(self.location.origin),_e.host!==qe.host?[2]:[4,St(_e)]):[2]):[2];case 1:return(gt=kt.sent())?[3,4]:[4,self.clients.openWindow(q)];case 2:return gt=kt.sent(),[4,Ce(3e3)];case 3:return kt.sent(),[3,6];case 4:return[4,gt.focus()];case 5:gt=kt.sent(),kt.label=6;case 6:return gt?(Re.messageType=Et.NOTIFICATION_CLICKED,Re.isFirebaseMessaging=!0,[2,gt.postMessage(Re)]):[2]}})})},it}();function le(it){var pt,Tt=Xe({},it.notification);return Tt.data=((pt={})[te]=it,pt),Tt}function St(it){return Me(this,void 0,void 0,function(){var pt,Tt,Gt,Re,q,_e,qe;return Te(this,function(gt){switch(gt.label){case 0:return[4,It()];case 1:pt=gt.sent();try{for(Tt=Zt(pt),Gt=Tt.next();!Gt.done;Gt=Tt.next())if(Re=Gt.value,q=new URL(Re.url,self.location.href),it.host===q.host)return[2,Re]}catch(kt){_e={error:kt}}finally{try{Gt&&!Gt.done&&(qe=Tt.return)&&qe.call(Tt)}finally{if(_e)throw _e.error}}return[2,null]}})})}function Oe(it,pt){var Tt,Gt;pt.isFirebaseMessaging=!0,pt.messageType=Et.PUSH_RECEIVED;try{for(var Re=Zt(it),q=Re.next();!q.done;q=Re.next())q.value.postMessage(pt)}catch(qe){Tt={error:qe}}finally{try{q&&!q.done&&(Gt=Re.return)&&Gt.call(Re)}finally{if(Tt)throw Tt.error}}}function It(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Bt(it){var pt,Tt=it.actions,Gt=Notification.maxActions;return Tt&&Gt&&Tt.length>Gt&&console.warn("This browser only supports "+Gt+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(pt=it.title)&&void 0!==pt?pt:"",it)}var qt=function(){function it(pt){var Tt=this;this.firebaseDependencies=pt,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(Gt){return Tt.messageEventListener(Gt)})}return Object.defineProperty(it.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),it.prototype.messageEventListener=function(pt){return Me(this,void 0,void 0,function(){var Tt,Gt;return Te(this,function(Re){switch(Re.label){case 0:return(Tt=pt.data).isFirebaseMessaging?(this.onMessageCallback&&Tt.messageType===Et.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function rt(it){return delete it.messageType,delete it.isFirebaseMessaging,it}(Object.assign({},Tt))):this.onMessageCallback.next(Object.assign({},Tt))),Vt(Gt=Tt.data)&&"1"===Gt["google.c.a.e"]?[4,this.logEvent(Tt.messageType,Gt)]:[3,2]):[2];case 1:Re.sent(),Re.label=2;case 2:return[2]}})})},it.prototype.getVapidKey=function(){return this.vapidKey},it.prototype.getSwReg=function(){return this.swRegistration},it.prototype.getToken=function(pt){return Me(this,void 0,void 0,function(){return Te(this,function(Tt){switch(Tt.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:Tt.sent(),Tt.label=2;case 2:if("granted"!==Notification.permission)throw Ke.create("permission-blocked");return[4,this.updateVapidKey(pt?.vapidKey)];case 3:return Tt.sent(),[4,this.updateSwReg(pt?.serviceWorkerRegistration)];case 4:return Tt.sent(),[2,ct(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},it.prototype.updateVapidKey=function(pt){return Me(this,void 0,void 0,function(){return Te(this,function(Tt){return pt?this.vapidKey=pt:this.vapidKey||(this.vapidKey=ut),[2]})})},it.prototype.updateSwReg=function(pt){return Me(this,void 0,void 0,function(){return Te(this,function(Tt){switch(Tt.label){case 0:return pt||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:Tt.sent(),Tt.label=2;case 2:if(!pt&&this.swRegistration)return[2];if(!(pt instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");return this.swRegistration=pt,[2]}})})},it.prototype.registerDefaultSw=function(){return Me(this,void 0,void 0,function(){var pt,Tt;return Te(this,function(Gt){switch(Gt.label){case 0:return Gt.trys.push([0,2,,3]),pt=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return pt.swRegistration=Gt.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw Tt=Gt.sent(),Ke.create("failed-service-worker-registration",{browserErrorMessage:Tt.message});case 3:return[2]}})})},it.prototype.deleteToken=function(){return Me(this,void 0,void 0,function(){return Te(this,function(pt){switch(pt.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:pt.sent(),pt.label=2;case 2:return[2,wn(this.firebaseDependencies,this.swRegistration)]}})})},it.prototype.requestPermission=function(){return Me(this,void 0,void 0,function(){var pt;return Te(this,function(Tt){switch(Tt.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(pt=Tt.sent()))return[2];throw Ke.create("denied"===pt?"permission-blocked":"permission-default")}})})},it.prototype.usePublicVapidKey=function(pt){if(null!==this.vapidKey)throw Ke.create("use-vapid-key-after-get-token");if("string"!=typeof pt||0===pt.length)throw Ke.create("invalid-vapid-key");this.vapidKey=pt},it.prototype.useServiceWorker=function(pt){if(!(pt instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");if(this.swRegistration)throw Ke.create("use-sw-after-get-token");this.swRegistration=pt},it.prototype.onMessage=function(pt){var Tt=this;return this.onMessageCallback=pt,function(){Tt.onMessageCallback=null}},it.prototype.setBackgroundMessageHandler=function(){throw Ke.create("only-available-in-sw")},it.prototype.onBackgroundMessage=function(){throw Ke.create("only-available-in-sw")},it.prototype.onTokenRefresh=function(){return function(){}},it.prototype.logEvent=function(pt,Tt){return Me(this,void 0,void 0,function(){var Gt;return Te(this,function(q){switch(q.label){case 0:return Gt=function st(it){switch(it){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(pt),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return q.sent().logEvent(Gt,{message_id:Tt[ce],message_name:Tt["google.c.a.c_l"],message_time:Tt["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},it}();function Dt(it){return Ke.create("missing-app-config-values",{valueName:it})}var Qn={isSupported:Cn};function Cn(){return self&&"ServiceWorkerGlobalScope"in self?function ei(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function lr(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}J.default.INTERNAL.registerComponent(new T.Component("messaging",function pn(it){var pt=it.getProvider("app").getImmediate(),Tt=function Ie(it){var pt,Tt;if(!it||!it.options)throw Dt("App Configuration Object");if(!it.name)throw Dt("App Name");var Re=it.options;try{for(var q=Zt(["projectId","apiKey","appId","messagingSenderId"]),_e=q.next();!_e.done;_e=q.next()){var qe=_e.value;if(!Re[qe])throw Dt(qe)}}catch(gt){pt={error:gt}}finally{try{_e&&!_e.done&&(Tt=q.return)&&Tt.call(q)}finally{if(pt)throw pt.error}}return{appName:it.name,projectId:Re.projectId,apiKey:Re.apiKey,appId:Re.appId,senderId:Re.messagingSenderId}}(pt),q={app:pt,appConfig:Tt,installations:it.getProvider("installations").getImmediate(),analyticsProvider:it.getProvider("analytics-internal")};if(!Cn())throw Ke.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ue(q):new qt(q)},"PUBLIC").setServiceProps(Qn))},2517:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(39278);F(78660);var T=F(41175),Y=F(1270),Pe=F(64003),z=F(46355);function Xe(Re){return Re&&"object"==typeof Re&&"default"in Re?Re:{default:Re}}var je,ee=Xe(y),Ge="@firebase/performance",oe="0.4.2",$=oe,Me="FB-PERF-TRACE-START",Te="FB-PERF-TRACE-STOP",De="FB-PERF-TRACE-MEASURE",Rt="@firebase/performance/config",vt="@firebase/performance/configexpire",Ot="Performance",ke=((je={})["trace started"]="Trace {$traceName} was started before.",je["trace stopped"]="Trace {$traceName} is not running.",je["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",je["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",je["no window"]="Window is not available.",je["no app id"]="App id is not available.",je["no project id"]="Project id is not available.",je["no api key"]="Api key is not available.",je["invalid cc log"]="Attempted to queue invalid cc event",je["FB not default"]="Performance can only start when Firebase app instance is the default one.",je["RC response not ok"]="RC response is not ok",je["invalid attribute name"]="Attribute name {$attributeName} is invalid.",je["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",je["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",je["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",je),et=new Y.ErrorFactory("performance",Ot,ke),f=new Pe.Logger(Ot);f.logLevel=Pe.LogLevel.INFO;var k,D,G=function(){function Re(q){if(this.window=q,!q)throw et.create("no window");this.performance=q.performance,this.PerformanceObserver=q.PerformanceObserver,this.windowLocation=q.location,this.navigator=q.navigator,this.document=q.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=q.localStorage),q.perfMetrics&&q.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=q.perfMetrics.onFirstInputDelay)}return Re.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},Re.prototype.mark=function(q){!this.performance||!this.performance.mark||this.performance.mark(q)},Re.prototype.measure=function(q,_e,qe){!this.performance||!this.performance.measure||this.performance.measure(q,_e,qe)},Re.prototype.getEntriesByType=function(q){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(q):[]},Re.prototype.getEntriesByName=function(q){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(q):[]},Re.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},Re.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Y.isIndexedDBAvailable()||(f.info("IndexedDB is not supported by current browswer"),!1):(f.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},Re.prototype.setupObserver=function(q,_e){this.PerformanceObserver&&new this.PerformanceObserver(function(gt){for(var kt=0,Lt=gt.getEntries();kt<Lt.length;kt++)_e(Lt[kt])}).observe({entryTypes:[q]})},Re.getInstance=function(){return void 0===k&&(k=new Re(D)),k},Re}();function N(Re,q){var _e=Re.length-q.length;if(_e<0||_e>1)throw et.create("invalid String merger input");for(var qe=[],gt=0;gt<Re.length;gt++)qe.push(Re.charAt(gt)),q.length>gt&&qe.push(q.charAt(gt));return qe.join("")}var ge,Tn,Ke=function(){function Re(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=N("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=N("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return Re.prototype.getAppId=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!q)throw et.create("no app id");return q},Re.prototype.getProjectId=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!q)throw et.create("no project id");return q},Re.prototype.getApiKey=function(){var q=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!q)throw et.create("no api key");return q},Re.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},Re.getInstance=function(){return void 0===ge&&(ge=new Re),ge},Re}();function ut(){return Tn}var te=(()=>{return(Re=te||(te={}))[Re.UNKNOWN=0]="UNKNOWN",Re[Re.VISIBLE=1]="VISIBLE",Re[Re.HIDDEN=2]="HIDDEN",te;var Re})(),ce=["firebase_","google_","ga_"],ie=new RegExp("^[a-zA-Z]\\w*$");function Et(){switch(G.getInstance().document.visibilityState){case"visible":return te.VISIBLE;case"hidden":return te.HIDDEN;default:return te.UNKNOWN}}function mn(){var q=G.getInstance().navigator.connection;switch(q&&q.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var ft="0.0.1",Ut={loggingEnabled:!0},Xt="FIREBASE_INSTALLATIONS_AUTH";var $n="Could not fetch config, will use default configs";function On(Re){if(!Re)return Re;var q=Ke.getInstance(),_e=Re.entries||{};return q.loggingEnabled=void 0!==_e.fpr_enabled?"true"===String(_e.fpr_enabled):Ut.loggingEnabled,_e.fpr_log_source&&(q.logSource=Number(_e.fpr_log_source)),_e.fpr_log_endpoint_url&&(q.logEndPointUrl=_e.fpr_log_endpoint_url),_e.fpr_log_transport_key&&(q.transportKey=_e.fpr_log_transport_key),void 0!==_e.fpr_vc_network_request_sampling_rate&&(q.networkRequestsSamplingRate=Number(_e.fpr_vc_network_request_sampling_rate)),void 0!==_e.fpr_vc_trace_sampling_rate&&(q.tracesSamplingRate=Number(_e.fpr_vc_trace_sampling_rate)),q.logTraceAfterSampling=hn(q.tracesSamplingRate),q.logNetworkAfterSampling=hn(q.networkRequestsSamplingRate),Re}function hn(Re){return Math.random()<=Re}var dt,Fe=1;function Yt(){return Fe=2,dt=dt||function gn(){return function ot(){var Re=G.getInstance().document;return new Promise(function(q){if(Re&&"complete"!==Re.readyState){var _e=function(){"complete"===Re.readyState&&(Re.removeEventListener("readystatechange",_e),q())};Re.addEventListener("readystatechange",_e)}else q()})}().then(function(){return function He(){var Re=Ke.getInstance().installationsService.getId();return Re.then(function(q){Tn=q}),Re}()}).then(function(Re){return function dn(Re){var q=function Bn(){var Re=G.getInstance().localStorage;if(Re){var q=Re.getItem(vt);if(q&&function br(Re){return Number(Re)>Date.now()}(q)){var _e=Re.getItem(Rt);if(_e)try{return JSON.parse(_e)}catch{return}}}}();return q?(On(q),Promise.resolve()):function zn(Re){return function at(){var Re=Ke.getInstance().installationsService.getToken();return Re.then(function(q){}),Re}().then(function(q){var qe="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ke.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ke.getInstance().getApiKey(),gt=new Request(qe,{method:"POST",headers:{Authorization:Xt+" "+q},body:JSON.stringify({app_instance_id:Re,app_instance_id_token:q,app_id:Ke.getInstance().getAppId(),app_version:$,sdk_version:ft})});return fetch(gt).then(function(kt){if(kt.ok)return kt.json();throw et.create("RC response not ok")})}).catch(function(){f.info($n)})}(Re).then(On).then(function(_e){return function xn(Re){var q=G.getInstance().localStorage;!Re||!q||(q.setItem(Rt,JSON.stringify(Re)),q.setItem(vt,String(Date.now()+60*Ke.getInstance().configTimeToLive*60*1e3)))}(_e)},function(){})}(Re)}).then(function(){return Se()},function(){return Se()})}()}function Se(){Fe=3}var Ce,Mt=1e4,Nt=5500,ct=3,wn=ct,An=[],Hn=!1;function kn(Re){setTimeout(function(){if(0!==wn){if(!An.length)return kn(Mt);!function Jn(){var Re=T.__spreadArrays(An);An=[];var q=Re.map(function(qe){return{source_extension_json_proto3:qe.message,event_time_ms:String(qe.eventTime)}});(function Ir(Re,q){return function cn(Re){var q=Ke.getInstance().getFlTransportFullUrl();return fetch(q,{method:"POST",body:JSON.stringify(Re)})}(Re).then(function(_e){return _e.ok||f.info("Call to Firebase backend failed."),_e.json()}).then(function(_e){var qe=Number(_e.nextRequestWaitMillis),gt=Mt;isNaN(qe)||(gt=Math.max(qe,gt));var kt=_e.logResponseDetails;Array.isArray(kt)&&kt.length>0&&"RETRY_REQUEST_LATER"===kt[0].responseAction&&(An=T.__spreadArrays(q,An),f.info("Retry transport request later.")),wn=ct,kn(gt)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ke.getInstance().logSource,log_event:q},Re).catch(function(){An=T.__spreadArrays(Re,An),wn--,f.info("Tries left: "+wn+"."),kn(Mt)})}()}},Re)}function ue(Re,q){Ce||(Ce=function Vt(Re){return function(){for(var q=[],_e=0;_e<arguments.length;_e++)q[_e]=arguments[_e];!function Pt(Re){if(!Re.eventTime||!Re.message)throw et.create("invalid cc log");An=T.__spreadArrays(An,[Re])}({message:Re.apply(void 0,q),eventTime:Date.now()})}}(vn)),Ce(Re,q)}function le(Re){var q=Ke.getInstance();!q.instrumentationEnabled&&Re.isAuto||!q.dataCollectionEnabled&&!Re.isAuto||G.getInstance().requiredApisAvailable()&&(Re.isAuto&&Et()!==te.VISIBLE||(function Qt(){return 3===Fe}()?tt(Re):Yt().then(function(){return tt(Re)},function(){return tt(Re)})))}function tt(Re){if(ut()){var q=Ke.getInstance();!q.loggingEnabled||!q.logTraceAfterSampling||setTimeout(function(){return ue(Re,1)},0)}}function vn(Re,q){return 0===q?function Oe(Re){var q={url:Re.url,http_method:Re.httpMethod||0,http_response_code:200,response_payload_bytes:Re.responsePayloadBytes,client_start_time_us:Re.startTimeUs,time_to_response_initiated_us:Re.timeToResponseInitiatedUs,time_to_response_completed_us:Re.timeToResponseCompletedUs},_e={application_info:Bt(),network_request_metric:q};return JSON.stringify(_e)}(Re):function It(Re){var q={name:Re.name,is_auto:Re.isAuto,client_start_time_us:Re.startTimeUs,duration_us:Re.durationUs};0!==Object.keys(Re.counters).length&&(q.counters=Re.counters);var _e=Re.getAttributes();0!==Object.keys(_e).length&&(q.custom_attributes=_e);var qe={application_info:Bt(),trace_metric:q};return JSON.stringify(qe)}(Re)}function Bt(){return{google_app_id:Ke.getInstance().getAppId(),app_instance_id:ut(),web_app_info:{sdk_version:$,page_url:G.getInstance().getUrl(),service_worker_status:(Re=G.getInstance().navigator,"serviceWorker"in Re?Re.serviceWorker.controller?2:3:1),visibility_state:Et(),effective_connection_type:mn()},application_process_state:0};var Re}var st=["_fp","_fcp","_fid"],Dt=function(){function Re(q,_e,qe){void 0===_e&&(_e=!1),this.name=q,this.isAuto=_e,this.state=1,this.customAttributes={},this.counters={},this.api=G.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Me+"-"+this.randomId+"-"+this.name,this.traceStopMark=Te+"-"+this.randomId+"-"+this.name,this.traceMeasure=qe||De+"-"+this.randomId+"-"+this.name,qe&&this.calculateTraceMetrics())}return Re.prototype.start=function(){if(1!==this.state)throw et.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Re.prototype.stop=function(){if(2!==this.state)throw et.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),le(this)},Re.prototype.record=function(q,_e,qe){if(q<=0)throw et.create("nonpositive trace startTime",{traceName:this.name});if(_e<=0)throw et.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*_e),this.startTimeUs=Math.floor(1e3*q),qe&&qe.attributes&&(this.customAttributes=T.__assign({},qe.attributes)),qe&&qe.metrics)for(var gt=0,kt=Object.keys(qe.metrics);gt<kt.length;gt++){var Lt=kt[gt];isNaN(Number(qe.metrics[Lt]))||(this.counters[Lt]=Number(Math.floor(qe.metrics[Lt])))}le(this)},Re.prototype.incrementMetric=function(q,_e){void 0===_e&&(_e=1),this.putMetric(q,void 0===this.counters[q]?_e:this.counters[q]+_e)},Re.prototype.putMetric=function(q,_e){if(!function rt(Re,q){return!(0===Re.length||Re.length>100)&&(q&&q.startsWith("_wt_")&&st.indexOf(Re)>-1||!Re.startsWith("_"))}(q,this.name))throw et.create("invalid custom metric name",{customMetricName:q});this.counters[q]=function Ie(Re){var q=Math.floor(Re);return q<Re&&f.info("Metric value should be an Integer, setting the value as : "+q+"."),q}(_e)},Re.prototype.getMetric=function(q){return this.counters[q]||0},Re.prototype.putAttribute=function(q,_e){var qe=function bt(Re){return!(0===Re.length||Re.length>40||ce.some(function(_e){return Re.startsWith(_e)})||!Re.match(ie))}(q),gt=function sn(Re){return 0!==Re.length&&Re.length<=100}(_e);if(qe&&gt)this.customAttributes[q]=_e;else{if(!qe)throw et.create("invalid attribute name",{attributeName:q});if(!gt)throw et.create("invalid attribute value",{attributeValue:_e})}},Re.prototype.getAttribute=function(q){return this.customAttributes[q]},Re.prototype.removeAttribute=function(q){void 0!==this.customAttributes[q]&&delete this.customAttributes[q]},Re.prototype.getAttributes=function(){return T.__assign({},this.customAttributes)},Re.prototype.setStartTime=function(q){this.startTimeUs=q},Re.prototype.setDuration=function(q){this.durationUs=q},Re.prototype.calculateTraceMetrics=function(){var q=this.api.getEntriesByName(this.traceMeasure),_e=q&&q[0];_e&&(this.durationUs=Math.floor(1e3*_e.duration),this.startTimeUs=Math.floor(1e3*(_e.startTime+this.api.getTimeOrigin())))},Re.createOobTrace=function(q,_e,qe){var gt=G.getInstance().getUrl();if(gt){var kt=new Re("_wt_"+gt,!0),Lt=Math.floor(1e3*G.getInstance().getTimeOrigin());if(kt.setStartTime(Lt),q&&q[0]&&(kt.setDuration(Math.floor(1e3*q[0].duration)),kt.putMetric("domInteractive",Math.floor(1e3*q[0].domInteractive)),kt.putMetric("domContentLoadedEventEnd",Math.floor(1e3*q[0].domContentLoadedEventEnd)),kt.putMetric("loadEventEnd",Math.floor(1e3*q[0].loadEventEnd))),_e){var hr=_e.find(function(fn){return"first-paint"===fn.name});hr&&hr.startTime&&kt.putMetric("_fp",Math.floor(1e3*hr.startTime));var tr=_e.find(function(fn){return"first-contentful-paint"===fn.name});tr&&tr.startTime&&kt.putMetric("_fcp",Math.floor(1e3*tr.startTime)),qe&&kt.putMetric("_fid",Math.floor(1e3*qe))}le(kt)}},Re.createUserTimingTrace=function(q){le(new Re(q,!1,q))},Re}();function Ft(Re){var q=Re;if(q&&void 0!==q.responseStart){var _e=G.getInstance().getTimeOrigin(),qe=Math.floor(1e3*(q.startTime+_e)),gt=q.responseStart?Math.floor(1e3*(q.responseStart-q.startTime)):void 0,kt=Math.floor(1e3*(q.responseEnd-q.startTime));!function St(Re){var q=Ke.getInstance();if(q.instrumentationEnabled){var _e=Re.url,qe=q.logEndPointUrl.split("?")[0],gt=q.flTransportEndpointUrl.split("?")[0];_e===qe||_e===gt||!q.loggingEnabled||!q.logNetworkAfterSampling||setTimeout(function(){return ue(Re,0)},0)}}({url:q.name&&q.name.split("?")[0],responsePayloadBytes:q.transferSize,startTimeUs:qe,timeToResponseInitiatedUs:gt,timeToResponseCompletedUs:kt})}}var pn=5e3;function Qn(){ut()&&(setTimeout(function(){return function lr(){var Re=G.getInstance(),q=Re.getEntriesByType("navigation"),_e=Re.getEntriesByType("paint");if(Re.onFirstInputDelay){var qe=setTimeout(function(){Dt.createOobTrace(q,_e),qe=void 0},pn);Re.onFirstInputDelay(function(gt){qe&&(clearTimeout(qe),Dt.createOobTrace(q,_e,gt))})}else Dt.createOobTrace(q,_e)}()},0),setTimeout(function(){return function Cn(){for(var Re=G.getInstance(),_e=0,qe=Re.getEntriesByType("resource");_e<qe.length;_e++)Ft(qe[_e]);Re.setupObserver("resource",Ft)}()},0),setTimeout(function(){return function ei(){for(var Re=G.getInstance(),_e=0,qe=Re.getEntriesByType("measure");_e<qe.length;_e++)it(qe[_e]);Re.setupObserver("measure",it)}()},0))}function it(Re){var q=Re.name;q.substring(0,De.length)!==De&&Dt.createUserTimingTrace(q)}var pt=function(){function Re(q){this.app=q,G.getInstance().requiredApisAvailable()&&Y.validateIndexedDBOpenable().then(function(_e){_e&&(function Rn(){Hn||(kn(Nt),Hn=!0)}(),Yt().then(Qn,Qn))}).catch(function(_e){f.info("Environment doesn't support IndexedDB: "+_e)})}return Re.prototype.trace=function(q){return new Dt(q)},Object.defineProperty(Re.prototype,"instrumentationEnabled",{get:function(){return Ke.getInstance().instrumentationEnabled},set:function(q){Ke.getInstance().instrumentationEnabled=q},enumerable:!1,configurable:!0}),Object.defineProperty(Re.prototype,"dataCollectionEnabled",{get:function(){return Ke.getInstance().dataCollectionEnabled},set:function(q){Ke.getInstance().dataCollectionEnabled=q},enumerable:!1,configurable:!0}),Re}(),Tt="[DEFAULT]";function Gt(Re){Re.INTERNAL.registerComponent(new z.Component("performance",function(_e){return function(_e,qe){if(_e.name!==Tt)throw et.create("FB not default");if(typeof window>"u")throw et.create("no window");return function J(Re){D=Re}(window),Ke.getInstance().firebaseAppInstance=_e,Ke.getInstance().installationsService=qe,new pt(_e)}(_e.getProvider("app").getImmediate(),_e.getProvider("installations").getImmediate())},"PUBLIC")),Re.registerVersion(Ge,oe)}Gt(ee.default),nt.registerPerformance=Gt},8072:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(39278);F(78660);var T=F(52027),Y=F(1270),Pe=F(64003),z=F(46355);function Xe(ce){return ce&&"object"==typeof ce&&"default"in ce?ce:{default:ce}}var oe,ee=Xe(y),Ge=function(){function ce(ie,Le,Ue,ht){this.client=ie,this.storage=Le,this.storageCache=Ue,this.logger=ht}return ce.prototype.isCachedDataFresh=function(ie,Le){if(!Le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var Ue=Date.now()-Le,ht=Ue<=ie;return this.logger.debug("Config fetch cache check. Cache age millis: "+Ue+". Cache max age millis (minimumFetchIntervalMillis setting): "+ie+". Is cache hit: "+ht+"."),ht},ce.prototype.fetch=function(ie){return T.__awaiter(this,void 0,void 0,function(){var Le,Ue,ht,Et,mn;return T.__generator(this,function(bt){switch(bt.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return Le=bt.sent(),Ue=Le[0],(ht=Le[1])&&this.isCachedDataFresh(ie.cacheMaxAgeMillis,Ue)?[2,ht]:(ie.eTag=ht&&ht.eTag,[4,this.client.fetch(ie)]);case 2:return Et=bt.sent(),mn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===Et.status&&mn.push(this.storage.setLastSuccessfulFetchResponse(Et)),[4,Promise.all(mn)];case 3:return bt.sent(),[2,Et]}})})},ce}(),$=((oe={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",oe["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",oe["registration-api-key"]="Undefined API key. Check Firebase app initialization.",oe["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",oe["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",oe["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",oe["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",oe["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",oe["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",oe["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',oe["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',oe["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",oe["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",oe),Me=new Y.ErrorFactory("remoteconfig","Remote Config",$);function De(ce){return void 0===ce&&(ce=navigator),ce.languages&&ce.languages[0]||ce.language}var _t=function(){function ce(ie,Le,Ue,ht,Et,mn){this.firebaseInstallations=ie,this.sdkVersion=Le,this.namespace=Ue,this.projectId=ht,this.apiKey=Et,this.appId=mn}return ce.prototype.fetch=function(ie){return T.__awaiter(this,void 0,void 0,function(){var Le,Et,mn,bt,sn,ft,Ut,Xt,dn,Bn,xn,$n,zn,On,br,hn,Fe;return T.__generator(this,function(dt){switch(dt.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:Le=dt.sent(),Et=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",mn=Et+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ie.eTag||"*"},sn={sdk_version:this.sdkVersion,app_instance_id:Le[0],app_instance_id_token:Le[1],app_id:this.appId,language_code:De()},ft={method:"POST",headers:bt,body:JSON.stringify(sn)},Ut=fetch(mn,ft),Xt=new Promise(function(Yt,Qt){ie.signal.addEventListener(function(){var gn=new Error("The operation was aborted.");gn.name="AbortError",Qt(gn)})}),dt.label=2;case 2:return dt.trys.push([2,5,,6]),[4,Promise.race([Ut,Xt])];case 3:return dt.sent(),[4,Ut];case 4:return dn=dt.sent(),[3,6];case 5:throw Bn=dt.sent(),xn="fetch-client-network","AbortError"===Bn.name&&(xn="fetch-timeout"),Me.create(xn,{originalErrorMessage:Bn.message});case 6:if($n=dn.status,zn=dn.headers.get("ETag")||void 0,200!==dn.status)return[3,11];hn=void 0,dt.label=7;case 7:return dt.trys.push([7,9,,10]),[4,dn.json()];case 8:return hn=dt.sent(),[3,10];case 9:throw Fe=dt.sent(),Me.create("fetch-client-parse",{originalErrorMessage:Fe.message});case 10:On=hn.entries,br=hn.state,dt.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===br?$n=500:"NO_CHANGE"===br?$n=304:("NO_TEMPLATE"===br||"EMPTY_CONFIG"===br)&&(On={}),304!==$n&&200!==$n)throw Me.create("fetch-status",{httpStatus:$n});return[2,{status:$n,eTag:zn,config:On}]}})})},ce}(),Zt=function(){function ce(){this.listeners=[]}return ce.prototype.addEventListener=function(ie){this.listeners.push(ie)},ce.prototype.abort=function(){this.listeners.forEach(function(ie){return ie()})},ce}(),we="",vt=["1","true","t","yes","y","on"],en=function(){function ce(ie,Le){void 0===Le&&(Le=we),this._source=ie,this._value=Le}return ce.prototype.asString=function(){return this._value},ce.prototype.asBoolean=function(){return"static"!==this._source&&vt.indexOf(this._value.toLowerCase())>=0},ce.prototype.asNumber=function(){if("static"===this._source)return 0;var ie=Number(this._value);return isNaN(ie)&&(ie=0),ie},ce.prototype.getSource=function(){return this._source},ce}(),Ot=6e4,je=432e5,ke=function(){function ce(ie,Le,Ue,ht,Et){this.app=ie,this._client=Le,this._storageCache=Ue,this._storage=ht,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Ot,minimumFetchIntervalMillis:je},this.defaultConfig={}}return ce.prototype.setLogLevel=function(ie){switch(ie){case"debug":this._logger.logLevel=Pe.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Pe.LogLevel.SILENT;break;default:this._logger.logLevel=Pe.LogLevel.ERROR}},Object.defineProperty(ce.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),ce.prototype.activate=function(){return T.__awaiter(this,void 0,void 0,function(){var ie,Le,Ue;return T.__generator(this,function(ht){switch(ht.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return ie=ht.sent(),Ue=ie[1],(Le=ie[0])&&Le.config&&Le.eTag&&Le.eTag!==Ue?[4,Promise.all([this._storageCache.setActiveConfig(Le.config),this._storage.setActiveConfigEtag(Le.eTag)])]:[2,!1];case 2:return ht.sent(),[2,!0]}})})},ce.prototype.ensureInitialized=function(){var ie=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){ie._isInitializationComplete=!0})),this._initializePromise},ce.prototype.fetch=function(){return T.__awaiter(this,void 0,void 0,function(){var ie,Le,Ue,ht=this;return T.__generator(this,function(Et){switch(Et.label){case 0:ie=new Zt,setTimeout(function(){return T.__awaiter(ht,void 0,void 0,function(){return T.__generator(this,function(mn){return ie.abort(),[2]})})},this.settings.fetchTimeoutMillis),Et.label=1;case 1:return Et.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:ie})];case 2:return Et.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return Et.sent(),[3,6];case 4:return Le=Et.sent(),Ue=function Te(ce,ie){return ce instanceof Y.FirebaseError&&-1!==ce.code.indexOf(ie)}(Le,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(Ue)];case 5:throw Et.sent(),Le;case 6:return[2]}})})},ce.prototype.fetchAndActivate=function(){return T.__awaiter(this,void 0,void 0,function(){return T.__generator(this,function(ie){switch(ie.label){case 0:return[4,this.fetch()];case 1:return ie.sent(),[2,this.activate()]}})})},ce.prototype.getAll=function(){var ie=this;return function et(ce,ie){return void 0===ce&&(ce={}),void 0===ie&&(ie={}),Object.keys(T.__assign(T.__assign({},ce),ie))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(Le,Ue){return Le[Ue]=ie.getValue(Ue),Le},{})},ce.prototype.getBoolean=function(ie){return this.getValue(ie).asBoolean()},ce.prototype.getNumber=function(ie){return this.getValue(ie).asNumber()},ce.prototype.getString=function(ie){return this.getValue(ie).asString()},ce.prototype.getValue=function(ie){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+ie+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var Le=this._storageCache.getActiveConfig();return Le&&void 0!==Le[ie]?new en("remote",Le[ie]):this.defaultConfig&&void 0!==this.defaultConfig[ie]?new en("default",String(this.defaultConfig[ie])):(this._logger.debug('Returning static value for key "'+ie+'". Define a default or remote value if this is unintentional.'),new en("static"))},ce}();function f(ce,ie){var Le=ce.target.error||void 0;return Me.create(ie,{originalErrorMessage:Le&&Le.message})}var k="app_namespace_store",D="firebase_remote_config",G=1,N=function(){function ce(ie,Le,Ue,ht){void 0===ht&&(ht=function J(){return new Promise(function(ce,ie){var Le=indexedDB.open(D,G);Le.onerror=function(Ue){ie(f(Ue,"storage-open"))},Le.onsuccess=function(Ue){ce(Ue.target.result)},Le.onupgradeneeded=function(Ue){0===Ue.oldVersion&&Ue.target.result.createObjectStore(k,{keyPath:"compositeKey"})}})}()),this.appId=ie,this.appName=Le,this.namespace=Ue,this.openDbPromise=ht}return ce.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},ce.prototype.setLastFetchStatus=function(ie){return this.set("last_fetch_status",ie)},ce.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},ce.prototype.setLastSuccessfulFetchTimestampMillis=function(ie){return this.set("last_successful_fetch_timestamp_millis",ie)},ce.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},ce.prototype.setLastSuccessfulFetchResponse=function(ie){return this.set("last_successful_fetch_response",ie)},ce.prototype.getActiveConfig=function(){return this.get("active_config")},ce.prototype.setActiveConfig=function(ie){return this.set("active_config",ie)},ce.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},ce.prototype.setActiveConfigEtag=function(ie){return this.set("active_config_etag",ie)},ce.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},ce.prototype.setThrottleMetadata=function(ie){return this.set("throttle_metadata",ie)},ce.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},ce.prototype.get=function(ie){return T.__awaiter(this,void 0,void 0,function(){var Le,Ue=this;return T.__generator(this,function(ht){switch(ht.label){case 0:return[4,this.openDbPromise];case 1:return Le=ht.sent(),[2,new Promise(function(Et,mn){var sn=Le.transaction([k],"readonly").objectStore(k),ft=Ue.createCompositeKey(ie);try{var Ut=sn.get(ft);Ut.onerror=function(Xt){mn(f(Xt,"storage-get"))},Ut.onsuccess=function(Xt){var dn=Xt.target.result;Et(dn?dn.value:void 0)}}catch(Xt){mn(Me.create("storage-get",{originalErrorMessage:Xt&&Xt.message}))}})]}})})},ce.prototype.set=function(ie,Le){return T.__awaiter(this,void 0,void 0,function(){var Ue,ht=this;return T.__generator(this,function(Et){switch(Et.label){case 0:return[4,this.openDbPromise];case 1:return Ue=Et.sent(),[2,new Promise(function(mn,bt){var ft=Ue.transaction([k],"readwrite").objectStore(k),Ut=ht.createCompositeKey(ie);try{var Xt=ft.put({compositeKey:Ut,value:Le});Xt.onerror=function(dn){bt(f(dn,"storage-set"))},Xt.onsuccess=function(){mn()}}catch(dn){bt(Me.create("storage-set",{originalErrorMessage:dn&&dn.message}))}})]}})})},ce.prototype.delete=function(ie){return T.__awaiter(this,void 0,void 0,function(){var Le,Ue=this;return T.__generator(this,function(ht){switch(ht.label){case 0:return[4,this.openDbPromise];case 1:return Le=ht.sent(),[2,new Promise(function(Et,mn){var sn=Le.transaction([k],"readwrite").objectStore(k),ft=Ue.createCompositeKey(ie);try{var Ut=sn.delete(ft);Ut.onerror=function(Xt){mn(f(Xt,"storage-delete"))},Ut.onsuccess=function(){Et()}}catch(Xt){mn(Me.create("storage-delete",{originalErrorMessage:Xt&&Xt.message}))}})]}})})},ce.prototype.createCompositeKey=function(ie){return[this.appId,this.appName,this.namespace,ie].join()},ce}(),ge=function(){function ce(ie){this.storage=ie}return ce.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},ce.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},ce.prototype.getActiveConfig=function(){return this.activeConfig},ce.prototype.loadFromStorage=function(){return T.__awaiter(this,void 0,void 0,function(){var ie,Le,Ue,ht,Et,mn;return T.__generator(this,function(bt){switch(bt.label){case 0:return ie=this.storage.getLastFetchStatus(),Le=this.storage.getLastSuccessfulFetchTimestampMillis(),Ue=this.storage.getActiveConfig(),[4,ie];case 1:return(ht=bt.sent())&&(this.lastFetchStatus=ht),[4,Le];case 2:return(Et=bt.sent())&&(this.lastSuccessfulFetchTimestampMillis=Et),[4,Ue];case 3:return(mn=bt.sent())&&(this.activeConfig=mn),[2]}})})},ce.prototype.setLastFetchStatus=function(ie){return this.lastFetchStatus=ie,this.storage.setLastFetchStatus(ie)},ce.prototype.setLastSuccessfulFetchTimestampMillis=function(ie){return this.lastSuccessfulFetchTimestampMillis=ie,this.storage.setLastSuccessfulFetchTimestampMillis(ie)},ce.prototype.setActiveConfig=function(ie){return this.activeConfig=ie,this.storage.setActiveConfig(ie)},ce}();function Ke(ce,ie){return new Promise(function(Le,Ue){var ht=Math.max(ie-Date.now(),0),Et=setTimeout(Le,ht);ce.addEventListener(function(){clearTimeout(Et),Ue(Me.create("fetch-throttle",{throttleEndTimeMillis:ie}))})})}var He=function(){function ce(ie,Le){this.client=ie,this.storage=Le}return ce.prototype.fetch=function(ie){return T.__awaiter(this,void 0,void 0,function(){var Le;return T.__generator(this,function(Ue){switch(Ue.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return Le=Ue.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(ie,Le)]}})})},ce.prototype.attemptFetch=function(ie,Le){var Ue=Le.throttleEndTimeMillis,ht=Le.backoffCount;return T.__awaiter(this,void 0,void 0,function(){var Et,mn,bt;return T.__generator(this,function(sn){switch(sn.label){case 0:return[4,Ke(ie.signal,Ue)];case 1:sn.sent(),sn.label=2;case 2:return sn.trys.push([2,5,,7]),[4,this.client.fetch(ie)];case 3:return Et=sn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return sn.sent(),[2,Et];case 5:if(!function Tn(ce){if(!(ce instanceof Y.FirebaseError))return!1;var ie=Number(ce.httpStatus);return 429===ie||500===ie||503===ie||504===ie}(mn=sn.sent()))throw mn;return bt={throttleEndTimeMillis:Date.now()+Y.calculateBackoffMillis(ht),backoffCount:ht+1},[4,this.storage.setThrottleMetadata(bt)];case 6:return sn.sent(),[2,this.attemptFetch(ie,bt)];case 7:return[2]}})})},ce}(),ut="@firebase/remote-config",at="0.1.28";function te(ce){ce.INTERNAL.registerComponent(new z.Component("remoteConfig",function ie(Le,Ue){var ht=Le.getProvider("app").getImmediate(),Et=Le.getProvider("installations").getImmediate();if(typeof window>"u")throw Me.create("registration-window");var mn=ht.options,bt=mn.projectId,sn=mn.apiKey,ft=mn.appId;if(!bt)throw Me.create("registration-project-id");if(!sn)throw Me.create("registration-api-key");if(!ft)throw Me.create("registration-app-id");var Ut=new N(ft,ht.name,Ue=Ue||"firebase"),Xt=new ge(Ut),dn=new Pe.Logger(ut);dn.logLevel=Pe.LogLevel.ERROR;var Bn=new _t(Et,ce.SDK_VERSION,Ue,bt,sn,ft),xn=new He(Bn,Ut),$n=new Ge(xn,Ut,Xt,dn),zn=new ke(ht,$n,Xt,Ut,dn);return zn.ensureInitialized(),zn},"PUBLIC").setMultipleInstances(!0)),ce.registerVersion(ut,at)}te(ee.default),nt.registerRemoteConfig=te},92684:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{registerStorage:()=>lo});var y=F(39278);function oe(se,ne,Be,wt){return new(Be||(Be=Promise))(function(Jt,En){function Un(nr){try{qn(wt.next(nr))}catch(zr){En(zr)}}function Pn(nr){try{qn(wt.throw(nr))}catch(zr){En(zr)}}function qn(nr){nr.done?Jt(nr.value):function jt(Jt){return Jt instanceof Be?Jt:new Be(function(En){En(Jt)})}(nr.value).then(Un,Pn)}qn((wt=wt.apply(se,ne||[])).next())})}function $(se,ne){var wt,jt,Jt,En,Be={label:0,sent:function(){if(1&Jt[0])throw Jt[1];return Jt[1]},trys:[],ops:[]};return En={next:Un(0),throw:Un(1),return:Un(2)},"function"==typeof Symbol&&(En[Symbol.iterator]=function(){return this}),En;function Un(qn){return function(nr){return function Pn(qn){if(wt)throw new TypeError("Generator is already executing.");for(;Be;)try{if(wt=1,jt&&(Jt=2&qn[0]?jt.return:qn[0]?jt.throw||((Jt=jt.return)&&Jt.call(jt),0):jt.next)&&!(Jt=Jt.call(jt,qn[1])).done)return Jt;switch(jt=0,Jt&&(qn=[2&qn[0],Jt.value]),qn[0]){case 0:case 1:Jt=qn;break;case 4:return Be.label++,{value:qn[1],done:!1};case 5:Be.label++,jt=qn[1],qn=[0];continue;case 7:qn=Be.ops.pop(),Be.trys.pop();continue;default:if(!(Jt=(Jt=Be.trys).length>0&&Jt[Jt.length-1])&&(6===qn[0]||2===qn[0])){Be=0;continue}if(3===qn[0]&&(!Jt||qn[1]>Jt[0]&&qn[1]<Jt[3])){Be.label=qn[1];break}if(6===qn[0]&&Be.label<Jt[1]){Be.label=Jt[1],Jt=qn;break}if(Jt&&Be.label<Jt[2]){Be.label=Jt[2],Be.ops.push(qn);break}Jt[2]&&Be.ops.pop(),Be.trys.pop();continue}qn=ne.call(se,Be)}catch(nr){qn=[6,nr],jt=0}finally{wt=Jt=0}if(5&qn[0])throw qn[1];return{value:qn[0]?qn[1]:void 0,done:!0}}([qn,nr])}}}function zt(){for(var se=0,ne=0,Be=arguments.length;ne<Be;ne++)se+=arguments[ne].length;var wt=Array(se),jt=0;for(ne=0;ne<Be;ne++)for(var Jt=arguments[ne],En=0,Un=Jt.length;En<Un;En++,jt++)wt[jt]=Jt[En];return wt}var k=F(46355),D="firebasestorage.googleapis.com",J=12e4,N=6e5,ge=function(){function se(ne,Be){this.code_=Tn(ne),this.message_="Firebase Storage: "+Be,this.serverResponse_=null,this.name_="FirebaseError"}return se.prototype.codeProp=function(){return this.code},se.prototype.codeEquals=function(ne){return Tn(ne)===this.codeProp()},se.prototype.serverResponseProp=function(){return this.serverResponse_},se.prototype.setServerResponseProp=function(ne){this.serverResponse_=ne},Object.defineProperty(se.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),se}(),Ke={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Tn(se){return"storage/"+se}function He(){return new ge(Ke.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Le(){return new ge(Ke.CANCELED,"User canceled the upload/download.")}function Et(){return new ge(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sn(se,ne,Be){return new ge(Ke.INVALID_ARGUMENT,"Invalid argument in `"+ne+"` at index "+se+": "+Be)}function Ut(){return new ge(Ke.APP_DELETED,"The Firebase app was deleted.")}function dn(se,ne){return new ge(Ke.INVALID_FORMAT,"String does not match format '"+se+"': "+ne)}function Bn(se){throw new ge(Ke.INTERNAL_ERROR,"Internal error: "+se)}var xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function $n(se){switch(se){case xn.RAW:case xn.BASE64:case xn.BASE64URL:case xn.DATA_URL:return;default:throw"Expected one of the event types: ["+xn.RAW+", "+xn.BASE64+", "+xn.BASE64URL+", "+xn.DATA_URL+"]."}}var zn=function se(ne,Be){this.data=ne,this.contentType=Be||null};function On(se,ne){switch(se){case xn.RAW:return new zn(br(ne));case xn.BASE64:case xn.BASE64URL:return new zn(Fe(se,ne));case xn.DATA_URL:return new zn(function Yt(se){var ne=new dt(se);return ne.base64?Fe(xn.BASE64,ne.rest):function hn(se){var ne;try{ne=decodeURIComponent(se)}catch{throw dn(xn.DATA_URL,"Malformed data URL.")}return br(ne)}(ne.rest)}(ne),function Qt(se){return new dt(se).contentType}(ne))}throw He()}function br(se){for(var ne=[],Be=0;Be<se.length;Be++){var wt=se.charCodeAt(Be);if(wt<=127)ne.push(wt);else if(wt<=2047)ne.push(192|wt>>6,128|63&wt);else if(55296==(64512&wt))if(Be<se.length-1&&56320==(64512&se.charCodeAt(Be+1))){var Jt=wt,En=se.charCodeAt(++Be);ne.push(240|(wt=65536|(1023&Jt)<<10|1023&En)>>18,128|wt>>12&63,128|wt>>6&63,128|63&wt)}else ne.push(239,191,189);else 56320==(64512&wt)?ne.push(239,191,189):ne.push(224|wt>>12,128|wt>>6&63,128|63&wt)}return new Uint8Array(ne)}function Fe(se,ne){switch(se){case xn.BASE64:var Be=-1!==ne.indexOf("-"),wt=-1!==ne.indexOf("_");if(Be||wt)throw dn(se,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break;case xn.BASE64URL:var Jt=-1!==ne.indexOf("+"),En=-1!==ne.indexOf("/");if(Jt||En)throw dn(se,"Invalid character '"+(Jt?"+":"/")+"' found: is it base64 encoded?");ne=ne.replace(/-/g,"+").replace(/_/g,"/")}var Un;try{Un=atob(ne)}catch{throw dn(se,"Invalid character found")}for(var Pn=new Uint8Array(Un.length),qn=0;qn<Un.length;qn++)Pn[qn]=Un.charCodeAt(qn);return Pn}var dt=function se(ne){this.base64=!1,this.contentType=null;var Be=ne.match(/^data:([^,]+)?,/);if(null===Be)throw dn(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var wt=Be[1]||null;null!=wt&&(this.base64=function gn(se,ne){return!!(se.length>=ne.length)&&se.substring(se.length-ne.length)===ne}(wt,";base64"),this.contentType=this.base64?wt.substring(0,wt.length-7):wt),this.rest=ne.substring(ne.indexOf(",")+1)},ot={STATE_CHANGED:"state_changed"},Se={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Mt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nt(se){switch(se){case Se.RUNNING:case Se.PAUSING:case Se.CANCELING:return Mt.RUNNING;case Se.PAUSED:return Mt.PAUSED;case Se.SUCCESS:return Mt.SUCCESS;case Se.CANCELED:return Mt.CANCELED;default:return Mt.ERROR}}function ct(se){return null!=se}function wn(se){return void 0!==se}function An(se){return"function"==typeof se}function Hn(se){return"object"==typeof se}function Rn(se){return Hn(se)&&null!==se}function Jn(se){return"string"==typeof se||se instanceof String}function Ir(se){return cn(se)&&Number.isInteger(se)}function cn(se){return"number"==typeof se||se instanceof Number}function Pt(se){return Vt()&&se instanceof Blob}function Vt(){return typeof Blob<"u"}var Ce=(()=>{return(se=Ce||(Ce={}))[se.NO_ERROR=0]="NO_ERROR",se[se.NETWORK_ERROR=1]="NETWORK_ERROR",se[se.ABORT=2]="ABORT",Ce;var se})(),ue=function(){function se(){var ne=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ce.NO_ERROR,this.sendPromise_=new Promise(function(Be){ne.xhr_.addEventListener("abort",function(){ne.errorCode_=Ce.ABORT,Be(ne)}),ne.xhr_.addEventListener("error",function(){ne.errorCode_=Ce.NETWORK_ERROR,Be(ne)}),ne.xhr_.addEventListener("load",function(){Be(ne)})})}return se.prototype.send=function(ne,Be,wt,jt){if(this.sent_)throw Bn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Be,ne,!0),ct(jt))for(var Jt in jt)jt.hasOwnProperty(Jt)&&this.xhr_.setRequestHeader(Jt,jt[Jt].toString());return ct(wt)?this.xhr_.send(wt):this.xhr_.send(),this.sendPromise_},se.prototype.getErrorCode=function(){if(!this.sent_)throw Bn("cannot .getErrorCode() before sending");return this.errorCode_},se.prototype.getStatus=function(){if(!this.sent_)throw Bn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},se.prototype.getResponseText=function(){if(!this.sent_)throw Bn("cannot .getResponseText() before sending");return this.xhr_.responseText},se.prototype.abort=function(){this.xhr_.abort()},se.prototype.getResponseHeader=function(ne){return this.xhr_.getResponseHeader(ne)},se.prototype.addUploadProgressListener=function(ne){ct(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",ne)},se.prototype.removeUploadProgressListener=function(ne){ct(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",ne)},se}(),le=function(){function se(){}return se.prototype.createXhrIo=function(){return new ue},se}();function St(){for(var se=[],ne=0;ne<arguments.length;ne++)se[ne]=arguments[ne];var Be=function tt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Be){for(var wt=new Be,jt=0;jt<se.length;jt++)wt.append(se[jt]);return wt.getBlob()}if(Vt())return new Blob(se);throw Error("This browser doesn't seem to support creating Blobs")}var Oe=function(){function se(ne,Be){var wt=0,jt="";Pt(ne)?(this.data_=ne,wt=ne.size,jt=ne.type):ne instanceof ArrayBuffer?(Be?this.data_=new Uint8Array(ne):(this.data_=new Uint8Array(ne.byteLength),this.data_.set(new Uint8Array(ne))),wt=this.data_.length):ne instanceof Uint8Array&&(Be?this.data_=ne:(this.data_=new Uint8Array(ne.length),this.data_.set(ne)),wt=ne.length),this.size_=wt,this.type_=jt}return se.prototype.size=function(){return this.size_},se.prototype.type=function(){return this.type_},se.prototype.slice=function(ne,Be){if(Pt(this.data_)){var jt=function vn(se,ne,Be){return se.webkitSlice?se.webkitSlice(ne,Be):se.mozSlice?se.mozSlice(ne,Be):se.slice?se.slice(ne,Be):null}(this.data_,ne,Be);return null===jt?null:new se(jt)}return new se(new Uint8Array(this.data_.buffer,ne,Be-ne),!0)},se.getBlob=function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];if(Vt()){var wt=ne.map(function(Pn){return Pn instanceof se?Pn.data_:Pn});return new se(St.apply(null,wt))}var jt=ne.map(function(Pn){return Jn(Pn)?On(xn.RAW,Pn).data:Pn.data_}),Jt=0;jt.forEach(function(Pn){Jt+=Pn.byteLength});var En=new Uint8Array(Jt),Un=0;return jt.forEach(function(Pn){for(var qn=0;qn<Pn.length;qn++)En[Un++]=Pn[qn]}),new se(En,!0)},se.prototype.uploadData=function(){return this.data_},se}(),It=function(){function se(ne,Be){this.bucket=ne,this.path_=Be}return Object.defineProperty(se.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),se.prototype.fullServerUrl=function(){var ne=encodeURIComponent;return"/b/"+ne(this.bucket)+"/o/"+ne(this.path)},se.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},se.makeFromBucketSpec=function(ne){var Be;try{Be=se.makeFromUrl(ne)}catch{return new se(ne,"")}if(""===Be.path)return Be;throw function ht(se){return new ge(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+se+"'.")}(ne)},se.makeFromUrl=function(ne){var Be=null,wt="([A-Za-z0-9.\\-_]+)",En=new RegExp("^gs://"+wt+"(/(.*))?$","i");function Pn(pi){pi.path_=decodeURIComponent(pi.path)}for(var nr=D.replace(/[.]/g,"\\."),yi=[{regex:En,indices:{bucket:1,path:3},postModify:function jt(pi){"/"===pi.path.charAt(pi.path.length-1)&&(pi.path_=pi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+nr+"/v[A-Za-z0-9_]+/b/"+wt+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Pn},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+wt+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Pn}],Ar=0;Ar<yi.length;Ar++){var to=yi[Ar],uo=to.regex.exec(ne);if(uo){var Ti=uo[to.indices.path];Ti||(Ti=""),Be=new se(uo[to.indices.bucket],Ti),to.postModify(Be);break}}if(null==Be)throw function Ue(se){return new ge(Ke.INVALID_URL,"Invalid URL '"+se+"'.")}(ne);return Be},se}();function Bt(se){var ne;try{ne=JSON.parse(se)}catch{return null}return function kn(se){return Hn(se)&&!Array.isArray(se)}(ne)?ne:null}function st(se){var ne=se.lastIndexOf("/",se.length-2);return-1===ne?se:se.slice(ne+1)}function rt(se){return"https://"+D+"/v0"+se}function Ie(se){var ne=encodeURIComponent,Be="?";for(var wt in se)se.hasOwnProperty(wt)&&(Be=Be+(ne(wt)+"=")+ne(se[wt])+"&");return Be.slice(0,-1)}function Dt(se,ne){return ne}var Ft=function se(ne,Be,wt,jt){this.server=ne,this.local=Be||ne,this.writable=!!wt,this.xform=jt||Dt},pn=null;function it(se,ne,Be){var wt=Bt(ne);return null===wt?null:function ei(se,ne,Be){for(var wt={type:"file"},jt=Be.length,Jt=0;Jt<jt;Jt++){var En=Be[Jt];wt[En.local]=En.xform(wt,ne[En.server])}return function lr(se,ne){Object.defineProperty(se,"ref",{get:function Be(){var Jt=new It(se.bucket,se.fullPath);return ne.makeStorageReference(Jt)}})}(wt,se),wt}(se,wt,Be)}function Tt(se,ne){for(var Be={},wt=ne.length,jt=0;jt<wt;jt++){var Jt=ne[jt];Jt.writable&&(Be[Jt.server]=se[Jt.local])}return JSON.stringify(Be)}function Gt(se){if(!Hn(se)||!se)throw"Expected Metadata object.";for(var ne in se)if(se.hasOwnProperty(ne)){var Be=se[ne];if("customMetadata"===ne){if(!Hn(Be))throw"Expected object for 'customMetadata' mapping."}else if(Rn(Be))throw"Mapping for '"+ne+"' cannot be an object."}}var Re="maxResults",q=1e3,_e="pageToken",qe="prefixes",gt="items";function Mn(se){if(!Hn(se)||!se)throw"Expected ListOptions object.";for(var ne in se)if(ne===Re){if(!Ir(se[Re])||se[Re]<=0)throw"Expected maxResults to be a positive number.";if(se[Re]>1e3)throw"Expected maxResults to be less than or equal to "+q+"."}else{if(ne!==_e)throw"Unknown option: "+ne;if(se[_e]&&!Jn(se[_e]))throw"Expected pageToken to be string."}}var Wn=function se(ne,Be,wt,jt){this.url=ne,this.method=Be,this.handler=wt,this.timeout=jt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function hr(se){if(!se)throw He()}function tr(se,ne){return function Be(wt,jt){var Jt=it(se,jt,ne);return hr(null!==Jt),Jt}}function mr(se){return function ne(Be,wt){var jt;return jt=401===Be.getStatus()?function te(){return new ge(Ke.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Be.getStatus()?function at(se){return new ge(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+se+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(se.bucket):403===Be.getStatus()?function ce(se){return new ge(Ke.UNAUTHORIZED,"User does not have permission to access '"+se+"'.")}(se.path):wt,jt.setServerResponseProp(wt.serverResponseProp()),jt}}function gi(se){var ne=mr(se);return function Be(wt,jt){var Jt=ne(wt,jt);return 404===wt.getStatus()&&(Jt=function ut(se){return new ge(Ke.OBJECT_NOT_FOUND,"Object '"+se+"' does not exist.")}(se.path)),Jt.setServerResponseProp(jt.serverResponseProp()),Jt}}function Er(se,ne,Be){var jt=rt(ne.fullServerUrl()),En=se.maxOperationRetryTime,Un=new Wn(jt,"GET",tr(se,Be),En);return Un.errorHandler=gi(ne),Un}function vi(se,ne,Be,wt,jt){var Jt={};Jt.prefix=ne.isRoot?"":ne.path+"/",Be&&Be.length>0&&(Jt.delimiter=Be),wt&&(Jt.pageToken=wt),jt&&(Jt.maxResults=jt);var Un=rt(ne.bucketOnlyServerUrl()),qn=se.maxOperationRetryTime,nr=new Wn(Un,"GET",function fn(se,ne){return function Be(wt,jt){var Jt=function Lt(se,ne,Be){var wt=Bt(Be);return null===wt?null:function kt(se,ne,Be){var wt={prefixes:[],items:[],nextPageToken:Be.nextPageToken};if(Be[qe])for(var jt=0,Jt=Be[qe];jt<Jt.length;jt++){var Un=Jt[jt].replace(/\/$/,""),Pn=se.makeStorageReference(new It(ne,Un));wt.prefixes.push(Pn)}if(Be[gt])for(var qn=0,nr=Be[gt];qn<nr.length;qn++)Pn=se.makeStorageReference(new It(ne,nr[qn].name)),wt.items.push(Pn);return wt}(se,ne,wt)}(se,ne,jt);return hr(null!==Jt),Jt}}(se,ne.bucket),qn);return nr.urlParams=Jt,nr.errorHandler=mr(ne),nr}function Mr(se,ne,Be){var wt=Object.assign({},Be);return wt.fullPath=se.path,wt.size=ne.size(),wt.contentType||(wt.contentType=function Ni(se,ne){return se&&se.contentType||ne&&ne.type()||"application/octet-stream"}(null,ne)),wt}var Fi=function se(ne,Be,wt,jt){this.current=ne,this.total=Be,this.finalized=!!wt,this.metadata=jt||null};function mo(se,ne){var Be=null;try{Be=se.getResponseHeader("X-Goog-Upload-Status")}catch{hr(!1)}return hr(!!Be&&-1!==(ne||["active"]).indexOf(Be)),Be}var ze=function se(ne,Be,wt){if(An(ne)||ct(Be)||ct(wt))this.next=ne,this.error=Be||null,this.complete=wt||null;else{var Jt=ne;this.next=Jt.next||null,this.error=Jt.error||null,this.complete=Jt.complete||null}},pe=function se(ne,Be,wt,jt,Jt,En){this.bytesTransferred=ne,this.totalBytes=Be,this.state=wt,this.metadata=jt,this.task=Jt,this.ref=En};function j(se,ne,Be){for(var wt=ne.length,jt=ne.length,Jt=0;Jt<ne.length;Jt++)if(ne[Jt].optional){wt=Jt;break}if(!(wt<=Be.length&&Be.length<=jt))throw function ft(se,ne,Be,wt){var jt,Jt;return se===ne?(jt=se,Jt=1===se?"argument":"arguments"):(jt="between "+se+" and "+ne,Jt="arguments"),new ge(Ke.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+Be+"`: Expected "+jt+" "+Jt+", received "+wt+".")}(wt,jt,se,Be.length);for(Jt=0;Jt<Be.length;Jt++)try{ne[Jt].validator(Be[Jt])}catch(Pn){throw Pn instanceof Error?sn(Jt,se,Pn.message):sn(Jt,se,Pn)}}var ye=function se(ne,Be){var wt=this;this.validator=function(jt){wt.optional&&!wn(jt)||ne(jt)},this.optional=!!Be};function on(se,ne){function Be(jt){if(!Jn(jt))throw"Expected string."}var wt;return wt=se?function Qe(se,ne){return function(Be){se(Be),ne(Be)}}(Be,se):Be,new ye(wt,ne)}function rr(se){return new ye(Gt,se)}function Lr(se){return new ye(Mn,se)}function gr(){return new ye(function se(ne){if(!(cn(ne)&&ne>=0))throw"Expected a number 0 or greater."})}function vr(se,ne){return new ye(function Be(wt){if(!(null===wt||ct(wt)&&wt instanceof Object))throw"Expected an Object.";se?.(wt)},ne)}function ir(se){return new ye(function ne(Be){if(null!==Be&&!An(Be))throw"Expected a Function."},se)}function or(se){return function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];Promise.resolve().then(function(){return se.apply(void 0,ne)})}}var Ii=function(){function se(ne,Be,wt,jt,Jt,En){var Un=this;void 0===En&&(En=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=ne,this.service_=Be,this.location_=wt,this.blob_=Jt,this.metadata_=En,this.mappings_=jt,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Se.RUNNING,this.errorHandler_=function(Pn){Un.request_=null,Un.chunkMultiplier_=1,Pn.codeEquals(Ke.CANCELED)?(Un.needToFetchStatus_=!0,Un.completeTransitions_()):(Un.error_=Pn,Un.transition_(Se.ERROR))},this.metadataErrorHandler_=function(Pn){Un.request_=null,Pn.codeEquals(Ke.CANCELED)?Un.completeTransitions_():(Un.error_=Pn,Un.transition_(Se.ERROR))},this.promise_=new Promise(function(Pn,qn){Un.resolve_=Pn,Un.reject_=qn,Un.start_()}),this.promise_.then(null,function(){})}return se.prototype.makeProgressCallback_=function(){var ne=this,Be=this.transferred_;return function(wt){return ne.updateProgress_(Be+wt)}},se.prototype.shouldDoResumable_=function(ne){return ne.size()>262144},se.prototype.start_=function(){this.state_===Se.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},se.prototype.resolveToken_=function(ne){var Be=this;this.service_.getAuthToken().then(function(wt){switch(Be.state_){case Se.RUNNING:ne(wt);break;case Se.CANCELING:Be.transition_(Se.CANCELED);break;case Se.PAUSING:Be.transition_(Se.PAUSED)}})},se.prototype.createResumable_=function(){var ne=this;this.resolveToken_(function(Be){var wt=function eo(se,ne,Be,wt,jt){var Jt=ne.bucketOnlyServerUrl(),En=Mr(ne,wt,jt),Un={name:En.fullPath},Pn=rt(Jt),nr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":wt.size(),"X-Goog-Upload-Header-Content-Type":En.contentType,"Content-Type":"application/json; charset=utf-8"},zr=Tt(En,Be),Kr=new Wn(Pn,"POST",function hi(Ai){var fi;mo(Ai);try{fi=Ai.getResponseHeader("X-Goog-Upload-URL")}catch{hr(!1)}return hr(Jn(fi)),fi},se.maxUploadRetryTime);return Kr.urlParams=Un,Kr.headers=nr,Kr.body=zr,Kr.errorHandler=mr(ne),Kr}(ne.service_,ne.location_,ne.mappings_,ne.blob_,ne.metadata_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.uploadUrl_=Jt,ne.needToFetchStatus_=!1,ne.completeTransitions_()},ne.errorHandler_)})},se.prototype.fetchStatus_=function(){var ne=this,Be=this.uploadUrl_;this.resolveToken_(function(wt){var jt=function Mi(se,ne,Be,wt){var Pn=new Wn(Be,"POST",function Jt(qn){var nr=mo(qn,["active","final"]),zr=null;try{zr=qn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hr(!1)}zr||hr(!1);var Pr=Number(zr);return hr(!isNaN(Pr)),new Fi(Pr,wt.size(),"final"===nr)},se.maxUploadRetryTime);return Pn.headers={"X-Goog-Upload-Command":"query"},Pn.errorHandler=mr(ne),Pn}(ne.service_,ne.location_,Be,ne.blob_),Jt=ne.service_.makeRequest(jt,wt);ne.request_=Jt,Jt.getPromise().then(function(En){ne.request_=null,ne.updateProgress_(En.current),ne.needToFetchStatus_=!1,En.finalized&&(ne.needToFetchMetadata_=!0),ne.completeTransitions_()},ne.errorHandler_)})},se.prototype.continueUpload_=function(){var ne=this,Be=262144*this.chunkMultiplier_,wt=new Fi(this.transferred_,this.blob_.size()),jt=this.uploadUrl_;this.resolveToken_(function(Jt){var En;try{En=function Gi(se,ne,Be,wt,jt,Jt,En,Un){var Pn=new Fi(0,0);if(En?(Pn.current=En.current,Pn.total=En.total):(Pn.current=0,Pn.total=wt.size()),wt.size()!==Pn.total)throw function mn(){return new ge(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();var qn=Pn.total-Pn.current,nr=qn;jt>0&&(nr=Math.min(nr,jt));var zr=Pn.current,Kr={"X-Goog-Upload-Command":nr===qn?"upload, finalize":"upload","X-Goog-Upload-Offset":Pn.current},Ai=wt.slice(zr,zr+nr);if(null===Ai)throw Et();var Ar=new Wn(Be,"POST",function fi(to,uo){var Ui,ki=mo(to,["active","final"]),Ti=Pn.current+nr,pi=wt.size();return Ui="final"===ki?tr(ne,Jt)(to,uo):null,new Fi(Ti,pi,"final"===ki,Ui)},ne.maxUploadRetryTime);return Ar.headers=Kr,Ar.body=Ai.uploadData(),Ar.progressCallback=Un||null,Ar.errorHandler=mr(se),Ar}(ne.location_,ne.service_,jt,ne.blob_,Be,ne.mappings_,wt,ne.makeProgressCallback_())}catch(Pn){return ne.error_=Pn,void ne.transition_(Se.ERROR)}var Un=ne.service_.makeRequest(En,Jt);ne.request_=Un,Un.getPromise().then(function(Pn){ne.increaseMultiplier_(),ne.request_=null,ne.updateProgress_(Pn.current),Pn.finalized?(ne.metadata_=Pn.metadata,ne.transition_(Se.SUCCESS)):ne.completeTransitions_()},ne.errorHandler_)})},se.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},se.prototype.fetchMetadata_=function(){var ne=this;this.resolveToken_(function(Be){var wt=Er(ne.service_,ne.location_,ne.mappings_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.metadata_=Jt,ne.transition_(Se.SUCCESS)},ne.metadataErrorHandler_)})},se.prototype.oneShotUpload_=function(){var ne=this;this.resolveToken_(function(Be){var wt=function Wi(se,ne,Be,wt,jt){var Jt=ne.bucketOnlyServerUrl(),En={"X-Goog-Upload-Protocol":"multipart"},Pn=function Un(){for(var Ar="",to=0;to<2;to++)Ar+=Math.random().toString().slice(2);return Ar}();En["Content-Type"]="multipart/related; boundary="+Pn;var qn=Mr(ne,wt,jt),nr=Tt(qn,Be),hi=Oe.getBlob("--"+Pn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nr+"\r\n--"+Pn+"\r\nContent-Type: "+qn.contentType+"\r\n\r\n",wt,"\r\n--"+Pn+"--");if(null===hi)throw Et();var Kr={name:qn.fullPath},Ai=rt(Jt),Si=se.maxUploadRetryTime,yi=new Wn(Ai,"POST",tr(se,Be),Si);return yi.urlParams=Kr,yi.headers=En,yi.body=hi.uploadData(),yi.errorHandler=mr(ne),yi}(ne.service_,ne.location_,ne.mappings_,ne.blob_,ne.metadata_),jt=ne.service_.makeRequest(wt,Be);ne.request_=jt,jt.getPromise().then(function(Jt){ne.request_=null,ne.metadata_=Jt,ne.updateProgress_(ne.blob_.size()),ne.transition_(Se.SUCCESS)},ne.errorHandler_)})},se.prototype.updateProgress_=function(ne){var Be=this.transferred_;this.transferred_=ne,this.transferred_!==Be&&this.notifyObservers_()},se.prototype.transition_=function(ne){if(this.state_!==ne)switch(ne){case Se.CANCELING:case Se.PAUSING:this.state_=ne,null!==this.request_&&this.request_.cancel();break;case Se.RUNNING:var Be=this.state_===Se.PAUSED;this.state_=ne,Be&&(this.notifyObservers_(),this.start_());break;case Se.PAUSED:this.state_=ne,this.notifyObservers_();break;case Se.CANCELED:this.error_=Le(),this.state_=ne,this.notifyObservers_();break;case Se.ERROR:case Se.SUCCESS:this.state_=ne,this.notifyObservers_()}},se.prototype.completeTransitions_=function(){switch(this.state_){case Se.PAUSING:this.transition_(Se.PAUSED);break;case Se.CANCELING:this.transition_(Se.CANCELED);break;case Se.RUNNING:this.start_()}},Object.defineProperty(se.prototype,"snapshot",{get:function(){var ne=Nt(this.state_);return new pe(this.transferred_,this.blob_.size(),ne,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),se.prototype.on=function(ne,Be,wt,jt){var En="Expected a function or an Object with one of `next`, `error`, `complete` properties.",Un=ir(!0).validator,Pn=vr(null,!0).validator;function qn(fi){try{return void Un(fi)}catch{}try{if(Pn(fi),!(wn(fi.next)||wn(fi.error)||wn(fi.complete)))throw"";return}catch{throw En}}j("on",[on(function Jt(){if(ne!==ot.STATE_CHANGED)throw"Expected one of the event types: ["+ot.STATE_CHANGED+"]."}),vr(qn,!0),ir(!0),ir(!0)],arguments);var zr=this;function Pr(fi){return function Si(yi,Ar,to){null!==fi&&j("on",fi,arguments);var uo=new ze(yi,Ar,jt);return zr.addObserver_(uo),function(){zr.removeObserver_(uo)}}}var Kr=[vr(function hi(fi){if(null===fi)throw En;qn(fi)}),ir(!0),ir(!0)];return wn(Be)||wn(wt)||wn(jt)?Pr(null)(Be,wt,jt):Pr(Kr)},se.prototype.then=function(ne,Be){return this.promise_.then(ne,Be)},se.prototype.catch=function(ne){return this.then(null,ne)},se.prototype.addObserver_=function(ne){this.observers_.push(ne),this.notifyObserver_(ne)},se.prototype.removeObserver_=function(ne){var Be=this.observers_.indexOf(ne);-1!==Be&&this.observers_.splice(Be,1)},se.prototype.notifyObservers_=function(){var ne=this;this.finishPromise_(),this.observers_.slice().forEach(function(wt){ne.notifyObserver_(wt)})},se.prototype.finishPromise_=function(){if(null!==this.resolve_){var ne=!0;switch(Nt(this.state_)){case Mt.SUCCESS:or(this.resolve_.bind(null,this.snapshot))();break;case Mt.CANCELED:case Mt.ERROR:or(this.reject_.bind(null,this.error_))();break;default:ne=!1}ne&&(this.resolve_=null,this.reject_=null)}},se.prototype.notifyObserver_=function(ne){switch(Nt(this.state_)){case Mt.RUNNING:case Mt.PAUSED:ne.next&&or(ne.next.bind(ne,this.snapshot))();break;case Mt.SUCCESS:ne.complete&&or(ne.complete.bind(ne))();break;default:ne.error&&or(ne.error.bind(ne,this.error_))()}},se.prototype.resume=function(){j("resume",[],arguments);var ne=this.state_===Se.PAUSED||this.state_===Se.PAUSING;return ne&&this.transition_(Se.RUNNING),ne},se.prototype.pause=function(){j("pause",[],arguments);var ne=this.state_===Se.RUNNING;return ne&&this.transition_(Se.PAUSING),ne},se.prototype.cancel=function(){j("cancel",[],arguments);var ne=this.state_===Se.RUNNING||this.state_===Se.PAUSING;return ne&&this.transition_(Se.CANCELING),ne},se}(),io=function(){function se(ne,Be){this.service=ne,this.location=Be instanceof It?Be:It.makeFromUrl(Be)}return se.prototype.toString=function(){return j("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},se.prototype.newRef=function(ne,Be){return new se(ne,Be)},se.prototype.mappings=function(){return function Cn(){if(pn)return pn;var se=[];se.push(new Ft("bucket")),se.push(new Ft("generation")),se.push(new Ft("metageneration")),se.push(new Ft("name","fullPath",!0));var Be=new Ft("name");Be.xform=function ne(Jt,En){return function Qn(se){return!Jn(se)||se.length<2?se:st(se)}(En)},se.push(Be);var jt=new Ft("size");return jt.xform=function wt(Jt,En){return ct(En)?Number(En):En},se.push(jt),se.push(new Ft("timeCreated")),se.push(new Ft("updated")),se.push(new Ft("md5Hash",null,!0)),se.push(new Ft("cacheControl",null,!0)),se.push(new Ft("contentDisposition",null,!0)),se.push(new Ft("contentEncoding",null,!0)),se.push(new Ft("contentLanguage",null,!0)),se.push(new Ft("contentType",null,!0)),se.push(new Ft("metadata","customMetadata",!0)),pn=se}()},se.prototype.child=function(ne){j("child",[on()],arguments);var Be=function qt(se,ne){var Be=ne.split("/").filter(function(wt){return wt.length>0}).join("/");return 0===se.length?Be:se+"/"+Be}(this.location.path,ne),wt=new It(this.location.bucket,Be);return this.newRef(this.service,wt)},Object.defineProperty(se.prototype,"parent",{get:function(){var ne=function ln(se){if(0===se.length)return null;var ne=se.lastIndexOf("/");return-1===ne?"":se.slice(0,ne)}(this.location.path);if(null===ne)return null;var Be=new It(this.location.bucket,ne);return this.newRef(this.service,Be)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"root",{get:function(){var ne=new It(this.location.bucket,"");return this.newRef(this.service,ne)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"name",{get:function(){return st(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),se.prototype.put=function(ne,Be){return void 0===Be&&(Be=null),j("put",[new ye(function se(ne){if(!(ne instanceof Uint8Array||ne instanceof ArrayBuffer||Vt()&&ne instanceof Blob))throw"Expected Blob or File."}),rr(!0)],arguments),this.throwIfRoot_("put"),new Ii(this,this.service,this.location,this.mappings(),new Oe(ne),Be)},se.prototype.putString=function(ne,Be,wt){void 0===Be&&(Be=xn.RAW),j("putString",[on(),on($n,!0),rr(!0)],arguments),this.throwIfRoot_("putString");var jt=On(Be,ne),Jt=Object.assign({},wt);return!ct(Jt.contentType)&&ct(jt.contentType)&&(Jt.contentType=jt.contentType),new Ii(this,this.service,this.location,this.mappings(),new Oe(jt.data,!0),Jt)},se.prototype.delete=function(){var ne=this;return j("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(Be){var wt=function Ri(se,ne){var wt=rt(ne.fullServerUrl()),Un=new Wn(wt,"DELETE",function En(Pn,qn){},se.maxOperationRetryTime);return Un.successCodes=[200,204],Un.errorHandler=gi(ne),Un}(ne.service,ne.location);return ne.service.makeRequest(wt,Be).getPromise()})},se.prototype.listAll=function(){j("listAll",[],arguments);var ne={prefixes:[],items:[]};return this.listAllHelper(ne).then(function(){return ne})},se.prototype.listAllHelper=function(ne,Be){return oe(this,void 0,void 0,function(){var jt,Jt,En;return $(this,function(Un){switch(Un.label){case 0:return[4,this.list({pageToken:Be})];case 1:return jt=Un.sent(),(Jt=ne.prefixes).push.apply(Jt,jt.prefixes),(En=ne.items).push.apply(En,jt.items),null==jt.nextPageToken?[3,3]:[4,this.listAllHelper(ne,jt.nextPageToken)];case 2:Un.sent(),Un.label=3;case 3:return[2]}})})},se.prototype.list=function(ne){j("list",[Lr(!0)],arguments);var Be=this;return this.service.getAuthToken().then(function(wt){var jt=ne||{},Jt=vi(Be.service,Be.location,"/",jt.pageToken,jt.maxResults);return Be.service.makeRequest(Jt,wt).getPromise()})},se.prototype.getMetadata=function(){var ne=this;return j("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(Be){var wt=Er(ne.service,ne.location,ne.mappings());return ne.service.makeRequest(wt,Be).getPromise()})},se.prototype.updateMetadata=function(ne){var Be=this;return j("updateMetadata",[rr()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(wt){var jt=function Dr(se,ne,Be,wt){var Jt=rt(ne.fullServerUrl()),Un=Tt(Be,wt),qn=se.maxOperationRetryTime,nr=new Wn(Jt,"PATCH",tr(se,wt),qn);return nr.headers={"Content-Type":"application/json; charset=utf-8"},nr.body=Un,nr.errorHandler=gi(ne),nr}(Be.service,Be.location,ne,Be.mappings());return Be.service.makeRequest(jt,wt).getPromise()})},se.prototype.getDownloadURL=function(){var ne=this;return j("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(Be){var wt=function ai(se,ne,Be){var jt=rt(ne.fullServerUrl()),En=se.maxOperationRetryTime,Un=new Wn(jt,"GET",function sr(se,ne){return function Be(wt,jt){var Jt=it(se,jt,ne);return hr(null!==Jt),function pt(se,ne){var Be=Bt(ne);if(null===Be||!Jn(Be.downloadTokens))return null;var wt=Be.downloadTokens;if(0===wt.length)return null;var jt=encodeURIComponent;return wt.split(",").map(function(Un){var qn=se.fullPath;return rt("/b/"+jt(se.bucket)+"/o/"+jt(qn))+Ie({alt:"media",token:Un})})[0]}(Jt,jt)}}(se,Be),En);return Un.errorHandler=gi(ne),Un}(ne.service,ne.location,ne.mappings());return ne.service.makeRequest(wt,Be).getPromise().then(function(jt){if(null===jt)throw function bt(){return new ge(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return jt})})},se.prototype.throwIfRoot_=function(ne){if(""===this.location.path)throw function Xt(se){return new ge(Ke.INVALID_ROOT_OPERATION,"The operation '"+se+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(ne)},se}(),Ei=function(){function se(ne){this.promise_=Promise.reject(ne)}return se.prototype.getPromise=function(){return this.promise_},se.prototype.cancel=function(ne){},se}(),Hr=function(){function se(ne,Be,wt,jt,Jt,En,Un,Pn,qn,nr,zr){var Pr=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=ne,this.method_=Be,this.headers_=wt,this.body_=jt,this.successCodes_=Jt.slice(),this.additionalRetryCodes_=En.slice(),this.callback_=Un,this.errorCallback_=Pn,this.progressCallback_=nr,this.timeout_=qn,this.pool_=zr,this.promise_=new Promise(function(hi,Kr){Pr.resolve_=hi,Pr.reject_=Kr,Pr.start_()})}return se.prototype.start_=function(){var ne=this;function wt(jt,Jt){var En=ne.resolve_,Un=ne.reject_,Pn=Jt.xhr;if(Jt.wasSuccessCode)try{var qn=ne.callback_(Pn,Pn.getResponseText());wn(qn)?En(qn):En()}catch(zr){Un(zr)}else if(null!==Pn)(nr=He()).setServerResponseProp(Pn.getResponseText()),Un(ne.errorCallback_?ne.errorCallback_(Pn,nr):nr);else if(Jt.canceled)Un(nr=ne.appDelete_?Ut():Le());else{var nr;Un(nr=function ie(){return new ge(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())}}this.canceled_?wt(0,new Co(!1,null,!0)):this.backoffId_=function Li(se,ne,Be){var wt=1,jt=null,Jt=!1,En=0;function Un(){return 2===En}var Pn=!1;function qn(){for(var Kr=[],Ai=0;Ai<arguments.length;Ai++)Kr[Ai]=arguments[Ai];Pn||(Pn=!0,ne.apply(null,Kr))}function nr(Kr){jt=setTimeout(function(){jt=null,se(zr,Un())},Kr)}function zr(Kr){for(var Ai=[],fi=1;fi<arguments.length;fi++)Ai[fi-1]=arguments[fi];if(!Pn){if(Kr)return void qn.call.apply(qn,zt([null,Kr],Ai));var yi;if(Un()||Jt)return void qn.call.apply(qn,zt([null,Kr],Ai));wt<64&&(wt*=2),1===En?(En=2,yi=0):yi=1e3*(wt+Math.random()),nr(yi)}}var Pr=!1;function hi(Kr){Pr||(Pr=!0,!Pn&&(null!==jt?(Kr||(En=2),clearTimeout(jt),nr(0)):Kr||(En=1)))}return nr(0),setTimeout(function(){Jt=!0,hi(!0)},Be),hi}(function Be(jt,Jt){if(Jt)jt(!1,new Co(!1,null,!0));else{var En=ne.pool_.createXhrIo();ne.pendingXhr_=En,null!==ne.progressCallback_&&En.addUploadProgressListener(Un),En.send(ne.url_,ne.method_,ne.body_,ne.headers_).then(function(Pn){null!==ne.progressCallback_&&Pn.removeUploadProgressListener(Un),ne.pendingXhr_=null;var qn=Pn.getErrorCode()===Ce.NO_ERROR,nr=Pn.getStatus();if(qn&&!ne.isRetryStatusCode_(nr)){var Pr=-1!==ne.successCodes_.indexOf(nr);jt(!0,new Co(Pr,Pn))}else{var zr=Pn.getErrorCode()===Ce.ABORT;jt(!1,new Co(!1,null,zr))}})}function Un(Pn){null!==ne.progressCallback_&&ne.progressCallback_(Pn.loaded,Pn.lengthComputable?Pn.total:-1)}},wt,this.timeout_)},se.prototype.getPromise=function(){return this.promise_},se.prototype.cancel=function(ne){this.canceled_=!0,this.appDelete_=ne||!1,null!==this.backoffId_&&function Pi(se){se(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},se.prototype.isRetryStatusCode_=function(ne){var Be=ne>=500&&ne<600,jt=-1!==[408,429].indexOf(ne),Jt=-1!==this.additionalRetryCodes_.indexOf(ne);return Be||jt||Jt},se}(),Co=function se(ne,Be,wt){this.wasSuccessCode=ne,this.xhr=Be,this.canceled=!!wt};var os=function(){function se(ne,Be,wt,jt){var Jt;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=ne,this.authProvider_=Be,this.maxOperationRetryTime_=J,this.maxUploadRetryTime_=N,this.requests_=new Set,this.pool_=wt,this.bucket_=null!=jt?It.makeFromBucketSpec(jt):se.extractBucket_(null===(Jt=this.app_)||void 0===Jt?void 0:Jt.options),this.internals_=new Es(this)}return se.extractBucket_=function(ne){var Be=ne?.storageBucket;return null==Be?null:It.makeFromBucketSpec(Be)},se.prototype.getAuthToken=function(){return oe(this,void 0,void 0,function(){var ne,Be;return $(this,function(wt){switch(wt.label){case 0:return(ne=this.authProvider_.getImmediate({optional:!0}))?[4,ne.getToken()]:[3,2];case 1:if(null!==(Be=wt.sent()))return[2,Be.accessToken];wt.label=2;case 2:return[2,null]}})})},se.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(ne){return ne.cancel()}),this.requests_.clear()},se.prototype.makeStorageReference=function(ne){return new io(this,ne)},se.prototype.makeRequest=function(ne,Be){var wt=this;if(this.deleted_)return new Ei(Ut());var jt=function qo(se,ne,Be,wt){var jt=Ie(se.urlParams),Jt=se.url+jt,En=Object.assign({},se.headers);return function is(se,ne){ne&&(se["X-Firebase-GMPID"]=ne)}(En,ne),function Qi(se,ne){null!==ne&&ne.length>0&&(se.Authorization="Firebase "+ne)}(En,Be),function yo(se){se["X-Firebase-Storage-Version"]="webjs/"+(typeof y.default<"u"?y.default.SDK_VERSION:"AppManager")}(En),new Hr(Jt,se.method,En,se.body,se.successCodes,se.additionalRetryCodes,se.handler,se.errorHandler,se.timeout,se.progressCallback,wt)}(ne,this.appId_,Be,this.pool_);return this.requests_.add(jt),jt.getPromise().then(function(){return wt.requests_.delete(jt)},function(){return wt.requests_.delete(jt)}),jt},se.prototype.ref=function(ne){if(j("ref",[on(function Be(jt){if("string"!=typeof jt)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(jt))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var wt=new io(this,this.bucket_);return null!=ne?wt.child(ne):wt},se.prototype.refFromURL=function(ne){return j("refFromURL",[on(function Be(wt){if("string"!=typeof wt)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(wt))throw"Expected full URL but got a child path, use ref instead.";try{It.makeFromUrl(wt)}catch{throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new io(this,ne)},Object.defineProperty(se.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),se.prototype.setMaxUploadRetryTime=function(ne){j("setMaxUploadRetryTime",[gr()],arguments),this.maxUploadRetryTime_=ne},Object.defineProperty(se.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),se.prototype.setMaxOperationRetryTime=function(ne){j("setMaxOperationRetryTime",[gr()],arguments),this.maxOperationRetryTime_=ne},Object.defineProperty(se.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),se}(),Es=function(){function se(ne){this.service_=ne}return se.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},se}(),di="@firebase/storage",Qo="0.3.43",So="storage";function cs(se,ne){var Be=se.getProvider("app").getImmediate(),wt=se.getProvider("auth-internal");return new os(Be,wt,new le,ne)}function lo(se){var ne={TaskState:Mt,TaskEvent:ot,StringFormat:xn,Storage:os,Reference:io};se.INTERNAL.registerComponent(new k.Component(So,cs,"PUBLIC").setServiceProps(ne).setMultipleInstances(!0)),se.registerVersion(di,Qo)}lo(y.default)},1270:(Nn,nt,F)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var y=F(68713),T={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(ot,Se){if(!ot)throw Pe(Se)},Pe=function(ot){return new Error("Firebase Database ("+T.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ot)},z=function(ot){for(var Se=[],Mt=0,Nt=0;Nt<ot.length;Nt++){var ct=ot.charCodeAt(Nt);ct<128?Se[Mt++]=ct:ct<2048?(Se[Mt++]=ct>>6|192,Se[Mt++]=63&ct|128):55296==(64512&ct)&&Nt+1<ot.length&&56320==(64512&ot.charCodeAt(Nt+1))?(ct=65536+((1023&ct)<<10)+(1023&ot.charCodeAt(++Nt)),Se[Mt++]=ct>>18|240,Se[Mt++]=ct>>12&63|128,Se[Mt++]=ct>>6&63|128,Se[Mt++]=63&ct|128):(Se[Mt++]=ct>>12|224,Se[Mt++]=ct>>6&63|128,Se[Mt++]=63&ct|128)}return Se},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ot,Se){if(!Array.isArray(ot))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Mt=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Nt=[],ct=0;ct<ot.length;ct+=3){var wn=ot[ct],An=ct+1<ot.length,Hn=An?ot[ct+1]:0,Rn=ct+2<ot.length,kn=Rn?ot[ct+2]:0,cn=(15&Hn)<<2|kn>>6,Pt=63&kn;Rn||(Pt=64,An||(cn=64)),Nt.push(Mt[wn>>2],Mt[(3&wn)<<4|Hn>>4],Mt[cn],Mt[Pt])}return Nt.join("")},encodeString:function(ot,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(ot):this.encodeByteArray(z(ot),Se)},decodeString:function(ot,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(ot):function(ot){for(var Se=[],Mt=0,Nt=0;Mt<ot.length;){var ct=ot[Mt++];if(ct<128)Se[Nt++]=String.fromCharCode(ct);else if(ct>191&&ct<224){var wn=ot[Mt++];Se[Nt++]=String.fromCharCode((31&ct)<<6|63&wn)}else if(ct>239&&ct<365){var Rn=((7&ct)<<18|(63&(wn=ot[Mt++]))<<12|(63&(An=ot[Mt++]))<<6|63&ot[Mt++])-65536;Se[Nt++]=String.fromCharCode(55296+(Rn>>10)),Se[Nt++]=String.fromCharCode(56320+(1023&Rn))}else{wn=ot[Mt++];var An=ot[Mt++];Se[Nt++]=String.fromCharCode((15&ct)<<12|(63&wn)<<6|63&An)}}return Se.join("")}(this.decodeStringToByteArray(ot,Se))},decodeStringToByteArray:function(ot,Se){this.init_();for(var Mt=Se?this.charToByteMapWebSafe_:this.charToByteMap_,Nt=[],ct=0;ct<ot.length;){var wn=Mt[ot.charAt(ct++)],Hn=ct<ot.length?Mt[ot.charAt(ct)]:0,kn=++ct<ot.length?Mt[ot.charAt(ct)]:64,Ir=++ct<ot.length?Mt[ot.charAt(ct)]:64;if(++ct,null==wn||null==Hn||null==kn||null==Ir)throw Error();Nt.push(wn<<2|Hn>>4),64!==kn&&(Nt.push(Hn<<4&240|kn>>2),64!==Ir&&Nt.push(kn<<6&192|Ir))}return Nt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ot=0;ot<this.ENCODED_VALS.length;ot++)this.byteToCharMap_[ot]=this.ENCODED_VALS.charAt(ot),this.charToByteMap_[this.byteToCharMap_[ot]]=ot,this.byteToCharMapWebSafe_[ot]=this.ENCODED_VALS_WEBSAFE.charAt(ot),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ot]]=ot,ot>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ot)]=ot,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ot)]=ot)}}},oe=function(ot){try{return ee.decodeString(ot,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function Me(ot,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===ot&&(ot={});break;case Array:ot=[];break;default:return Se}for(var Nt in Se)Se.hasOwnProperty(Nt)&&(ot[Nt]=Me(ot[Nt],Se[Nt]));return ot}var Te=function(){function ot(){var Se=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Mt,Nt){Se.resolve=Mt,Se.reject=Nt})}return ot.prototype.wrapCallback=function(Se){var Mt=this;return function(Nt,ct){Nt?Mt.reject(Nt):Mt.resolve(ct),"function"==typeof Se&&(Mt.promise.catch(function(){}),1===Se.length?Se(Nt):Se(Nt,ct))}},ot}();function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var D="FirebaseError",G=function(ot){function Se(Mt,Nt){var ct=ot.call(this,Nt)||this;return ct.code=Mt,ct.name=D,Object.setPrototypeOf(ct,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(ct,J.prototype.create),ct}return y.__extends(Se,ot),Se}(Error),J=function(){function ot(Se,Mt,Nt){this.service=Se,this.serviceName=Mt,this.errors=Nt}return ot.prototype.create=function(Se){for(var Mt=[],Nt=1;Nt<arguments.length;Nt++)Mt[Nt-1]=arguments[Nt];for(var ct=Mt[0]||{},wn=this.service+"/"+Se,An=this.errors[Se],Hn=An?function N(ot,Se){return ot.replace(ge,function(Mt,Nt){var ct=Se[Nt];return null!=ct?String(ct):"<"+Nt+"?>"})}(An,ct):"Error",kn=new G(wn,this.serviceName+": "+Hn+" ("+wn+")."),Jn=0,Ir=Object.keys(ct);Jn<Ir.length;Jn++){var cn=Ir[Jn];"_"!==cn.slice(-1)&&(cn in kn&&console.warn('Overwriting FirebaseError base field "'+cn+'" can cause unexpected behavior.'),kn[cn]=ct[cn])}return kn},ot}(),ge=/\{\$([^}]+)}/g;function Ke(ot){return JSON.parse(ot)}var He=function(ot){var Se={},Mt={},Nt={},ct="";try{var wn=ot.split(".");Se=Ke(oe(wn[0])||""),Mt=Ke(oe(wn[1])||""),ct=wn[2],Nt=Mt.d||{},delete Mt.d}catch{}return{header:Se,claims:Mt,data:Nt,signature:ct}},bt=function(){function ot(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Se=1;Se<this.blockSize;++Se)this.pad_[Se]=0;this.reset()}return ot.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ot.prototype.compress_=function(Se,Mt){Mt||(Mt=0);var Nt=this.W_;if("string"==typeof Se)for(var ct=0;ct<16;ct++)Nt[ct]=Se.charCodeAt(Mt)<<24|Se.charCodeAt(Mt+1)<<16|Se.charCodeAt(Mt+2)<<8|Se.charCodeAt(Mt+3),Mt+=4;else for(ct=0;ct<16;ct++)Nt[ct]=Se[Mt]<<24|Se[Mt+1]<<16|Se[Mt+2]<<8|Se[Mt+3],Mt+=4;for(ct=16;ct<80;ct++)Nt[ct]=4294967295&((wn=Nt[ct-3]^Nt[ct-8]^Nt[ct-14]^Nt[ct-16])<<1|wn>>>31);var Ir,cn,An=this.chain_[0],Hn=this.chain_[1],Rn=this.chain_[2],kn=this.chain_[3],Jn=this.chain_[4];for(ct=0;ct<80;ct++){ct<40?ct<20?(Ir=kn^Hn&(Rn^kn),cn=1518500249):(Ir=Hn^Rn^kn,cn=1859775393):ct<60?(Ir=Hn&Rn|kn&(Hn|Rn),cn=2400959708):(Ir=Hn^Rn^kn,cn=3395469782);var wn=(An<<5|An>>>27)+Ir+Jn+cn+Nt[ct]&4294967295;Jn=kn,kn=Rn,Rn=4294967295&(Hn<<30|Hn>>>2),Hn=An,An=wn}this.chain_[0]=this.chain_[0]+An&4294967295,this.chain_[1]=this.chain_[1]+Hn&4294967295,this.chain_[2]=this.chain_[2]+Rn&4294967295,this.chain_[3]=this.chain_[3]+kn&4294967295,this.chain_[4]=this.chain_[4]+Jn&4294967295},ot.prototype.update=function(Se,Mt){if(null!=Se){void 0===Mt&&(Mt=Se.length);for(var Nt=Mt-this.blockSize,ct=0,wn=this.buf_,An=this.inbuf_;ct<Mt;){if(0===An)for(;ct<=Nt;)this.compress_(Se,ct),ct+=this.blockSize;if("string"==typeof Se){for(;ct<Mt;)if(wn[An]=Se.charCodeAt(ct),++ct,++An===this.blockSize){this.compress_(wn),An=0;break}}else for(;ct<Mt;)if(wn[An]=Se[ct],++ct,++An===this.blockSize){this.compress_(wn),An=0;break}}this.inbuf_=An,this.total_+=Mt}},ot.prototype.digest=function(){var Se=[],Mt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Nt=this.blockSize-1;Nt>=56;Nt--)this.buf_[Nt]=255&Mt,Mt/=256;this.compress_(this.buf_);var ct=0;for(Nt=0;Nt<5;Nt++)for(var wn=24;wn>=0;wn-=8)Se[ct]=this.chain_[Nt]>>wn&255,++ct;return Se},ot}(),ft=function(){function ot(Se,Mt){var Nt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Mt,this.task.then(function(){Se(Nt)}).catch(function(ct){Nt.error(ct)})}return ot.prototype.next=function(Se){this.forEachObserver(function(Mt){Mt.next(Se)})},ot.prototype.error=function(Se){this.forEachObserver(function(Mt){Mt.error(Se)}),this.close(Se)},ot.prototype.complete=function(){this.forEachObserver(function(Se){Se.complete()}),this.close()},ot.prototype.subscribe=function(Se,Mt,Nt){var wn,ct=this;if(void 0===Se&&void 0===Mt&&void 0===Nt)throw new Error("Missing Observer.");wn=function Xt(ot,Se){if("object"!=typeof ot||null===ot)return!1;for(var Mt=0,Nt=Se;Mt<Nt.length;Mt++){var ct=Nt[Mt];if(ct in ot&&"function"==typeof ot[ct])return!0}return!1}(Se,["next","error","complete"])?Se:{next:Se,error:Mt,complete:Nt},void 0===wn.next&&(wn.next=dn),void 0===wn.error&&(wn.error=dn),void 0===wn.complete&&(wn.complete=dn);var An=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ct.finalError?wn.error(ct.finalError):wn.complete()}catch{}}),this.observers.push(wn),An},ot.prototype.unsubscribeOne=function(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ot.prototype.forEachObserver=function(Se){if(!this.finalized)for(var Mt=0;Mt<this.observers.length;Mt++)this.sendOne(Mt,Se)},ot.prototype.sendOne=function(Se,Mt){var Nt=this;this.task.then(function(){if(void 0!==Nt.observers&&void 0!==Nt.observers[Se])try{Mt(Nt.observers[Se])}catch(ct){typeof console<"u"&&console.error&&console.error(ct)}})},ot.prototype.close=function(Se){var Mt=this;this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(function(){Mt.observers=void 0,Mt.onNoObservers=void 0}))},ot}();function dn(){}function xn(ot,Se,Mt){var Nt="";switch(Se){case 1:Nt=Mt?"first":"First";break;case 2:Nt=Mt?"second":"Second";break;case 3:Nt=Mt?"third":"Third";break;case 4:Nt=Mt?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return ot+" failed: "+(Nt+" argument ")}nt.CONSTANTS=T,nt.Deferred=Te,nt.ErrorFactory=J,nt.FirebaseError=G,nt.MAX_VALUE_MILLIS=144e5,nt.RANDOM_FACTOR=.5,nt.Sha1=bt,nt.areCookiesEnabled=function k(){return!(!navigator||!navigator.cookieEnabled)},nt.assert=Y,nt.assertionError=Pe,nt.async=function Ut(ot,Se){return function(){for(var Mt=[],Nt=0;Nt<arguments.length;Nt++)Mt[Nt]=arguments[Nt];Promise.resolve(!0).then(function(){ot.apply(void 0,Mt)}).catch(function(ct){Se&&Se(ct)})}},nt.base64=ee,nt.base64Decode=oe,nt.base64Encode=function(ot){var Se=z(ot);return ee.encodeByteArray(Se,!0)},nt.calculateBackoffMillis=function gn(ot,Se,Mt){void 0===Se&&(Se=1e3),void 0===Mt&&(Mt=2);var Nt=Se*Math.pow(Mt,ot),ct=Math.round(.5*Nt*(Math.random()-.5)*2);return Math.min(144e5,Nt+ct)},nt.contains=function ie(ot,Se){return Object.prototype.hasOwnProperty.call(ot,Se)},nt.createSubscribe=function sn(ot,Se){var Mt=new ft(ot,Se);return Mt.subscribe.bind(Mt)},nt.decode=He,nt.deepCopy=function $(ot){return Me(void 0,ot)},nt.deepExtend=Me,nt.errorPrefix=xn,nt.getUA=De,nt.isAdmin=function(ot){var Se=He(ot).claims;return"object"==typeof Se&&!0===Se.admin},nt.isBrowser=function zt(){return"object"==typeof self&&self.self===self},nt.isBrowserExtension=function we(){var ot="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ot&&void 0!==ot.id},nt.isElectron=function vt(){return De().indexOf("Electron/")>=0},nt.isEmpty=function Ue(ot){for(var Se in ot)if(Object.prototype.hasOwnProperty.call(ot,Se))return!1;return!0},nt.isIE=function en(){var ot=De();return ot.indexOf("MSIE ")>=0||ot.indexOf("Trident/")>=0},nt.isIndexedDBAvailable=function et(){return"indexedDB"in self&&null!=indexedDB},nt.isMobileCordova=function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())},nt.isNode=Zt,nt.isNodeSdk=function je(){return!0===T.NODE_CLIENT||!0===T.NODE_ADMIN},nt.isReactNative=function Rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product},nt.isSafari=function ke(){return!Zt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},nt.isUWP=function Ot(){return De().indexOf("MSAppHost/")>=0},nt.isValidFormat=function(ot){var Mt=He(ot).claims;return!!Mt&&"object"==typeof Mt&&Mt.hasOwnProperty("iat")},nt.isValidTimestamp=function(ot){var Se=He(ot).claims,Mt=Math.floor((new Date).getTime()/1e3),Nt=0,ct=0;return"object"==typeof Se&&(Se.hasOwnProperty("nbf")?Nt=Se.nbf:Se.hasOwnProperty("iat")&&(Nt=Se.iat),ct=Se.hasOwnProperty("exp")?Se.exp:Nt+86400),!!Mt&&!!Nt&&!!ct&&Mt>=Nt&&Mt<=ct},nt.issuedAtTime=function(ot){var Se=He(ot).claims;return"object"==typeof Se&&Se.hasOwnProperty("iat")?Se.iat:null},nt.jsonEval=Ke,nt.map=function ht(ot,Se,Mt){var Nt={};for(var ct in ot)Object.prototype.hasOwnProperty.call(ot,ct)&&(Nt[ct]=Se.call(Mt,ot[ct],ct,ot));return Nt},nt.querystring=function Et(ot){for(var Se=[],Mt=function(Rn,kn){Array.isArray(kn)?kn.forEach(function(Jn){Se.push(encodeURIComponent(Rn)+"="+encodeURIComponent(Jn))}):Se.push(encodeURIComponent(Rn)+"="+encodeURIComponent(kn))},Nt=0,ct=Object.entries(ot);Nt<ct.length;Nt++){var wn=ct[Nt];Mt(wn[0],wn[1])}return Se.length?"&"+Se.join("&"):""},nt.querystringDecode=function mn(ot){var Se={};return ot.replace(/^\?/,"").split("&").forEach(function(Nt){if(Nt){var ct=Nt.split("=");Se[ct[0]]=ct[1]}}),Se},nt.safeGet=function Le(ot,Se){if(Object.prototype.hasOwnProperty.call(ot,Se))return ot[Se]},nt.stringLength=function(ot){for(var Se=0,Mt=0;Mt<ot.length;Mt++){var Nt=ot.charCodeAt(Mt);Nt<128?Se++:Nt<2048?Se+=2:Nt>=55296&&Nt<=56319?(Se+=4,Mt++):Se+=3}return Se},nt.stringToByteArray=function(ot){for(var Se=[],Mt=0,Nt=0;Nt<ot.length;Nt++){var ct=ot.charCodeAt(Nt);if(ct>=55296&&ct<=56319){var wn=ct-55296;Nt++,Y(Nt<ot.length,"Surrogate pair missing trail surrogate."),ct=65536+(wn<<10)+(ot.charCodeAt(Nt)-56320)}ct<128?Se[Mt++]=ct:ct<2048?(Se[Mt++]=ct>>6|192,Se[Mt++]=63&ct|128):ct<65536?(Se[Mt++]=ct>>12|224,Se[Mt++]=ct>>6&63|128,Se[Mt++]=63&ct|128):(Se[Mt++]=ct>>18|240,Se[Mt++]=ct>>12&63|128,Se[Mt++]=ct>>6&63|128,Se[Mt++]=63&ct|128)}return Se},nt.stringify=function Tn(ot){return JSON.stringify(ot)},nt.validateArgCount=function(ot,Se,Mt,Nt){var ct;if(Nt<Se?ct="at least "+Se:Nt>Mt&&(ct=0===Mt?"none":"no more than "+Mt),ct)throw new Error(ot+" failed: Was called with "+Nt+(1===Nt?" argument.":" arguments.")+" Expects "+ct+".")},nt.validateCallback=function zn(ot,Se,Mt,Nt){if((!Nt||Mt)&&"function"!=typeof Mt)throw new Error(xn(ot,Se,Nt)+"must be a valid function.")},nt.validateContextObject=function On(ot,Se,Mt,Nt){if((!Nt||Mt)&&("object"!=typeof Mt||null===Mt))throw new Error(xn(ot,Se,Nt)+"must be a valid context object.")},nt.validateIndexedDBOpenable=function f(){return new Promise(function(ot,Se){try{var Mt=!0,Nt="validate-browser-context-for-indexeddb-analytics-module",ct=window.indexedDB.open(Nt);ct.onsuccess=function(){ct.result.close(),Mt||window.indexedDB.deleteDatabase(Nt),ot(!0)},ct.onupgradeneeded=function(){Mt=!1},ct.onerror=function(){var wn;Se((null===(wn=ct.error)||void 0===wn?void 0:wn.message)||"")}}catch(wn){Se(wn)}})},nt.validateNamespace=function $n(ot,Se,Mt,Nt){if((!Nt||Mt)&&"string"!=typeof Mt)throw new Error(xn(ot,Se,Nt)+"must be a valid firebase namespace.")}},70670:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{ErrorCode:()=>fo,EventType:()=>xo,WebChannel:()=>zo,XhrIo:()=>ls,createWebChannelTransport:()=>gs,default:()=>Vi});var y=function(_,W){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,$e){fe.__proto__=$e}||function(fe,$e){for(var Wt in $e)$e.hasOwnProperty(Wt)&&(fe[Wt]=$e[Wt])})(_,W)};function Y(_){var W="function"==typeof Symbol&&Symbol.iterator,fe=W&&_[W],$e=0;if(fe)return fe.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&$e>=_.length&&(_=void 0),{value:_&&_[$e++],done:!_}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}var z,Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xe=Xe||{},ee=Pe||self;function Ge(){}function oe(_){var W=typeof _;return"object"!=W?W:_?Array.isArray(_)?"array":W:"null"}function $(_){var W=oe(_);return"array"==W||"object"==W&&"number"==typeof _.length}function Me(_){var W=typeof _;return"object"==W&&null!=_||"function"==W}var De="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function Zt(_,W,fe){return _.call.apply(_.bind,arguments)}function zt(_,W,fe){if(!_)throw Error();if(2<arguments.length){var $e=Array.prototype.slice.call(arguments,2);return function(){var Wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Wt,$e),_.apply(W,Wt)}}return function(){return _.apply(W,arguments)}}function we(_,W,fe){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zt:zt).apply(null,arguments)}function Rt(_,W){var fe=Array.prototype.slice.call(arguments,1);return function(){var $e=fe.slice();return $e.push.apply($e,arguments),_.apply(this,$e)}}var vt=Date.now;function en(_,W){function fe(){}fe.prototype=W.prototype,_.S=W.prototype,_.prototype=new fe,_.prototype.constructor=_}function Ot(){this.j=this.j,this.i=this.i}Ot.prototype.j=!1,Ot.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function Te(_){Object.prototype.hasOwnProperty.call(_,De)&&_[De]||(_[De]=++_t)}(this)},Ot.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ke=Array.prototype.indexOf?function(_,W){return Array.prototype.indexOf.call(_,W,void 0)}:function(_,W){if("string"==typeof _)return"string"!=typeof W||1!=W.length?-1:_.indexOf(W,0);for(var fe=0;fe<_.length;fe++)if(fe in _&&_[fe]===W)return fe;return-1},et=Array.prototype.forEach?function(_,W,fe){Array.prototype.forEach.call(_,W,fe)}:function(_,W,fe){for(var $e=_.length,Wt="string"==typeof _?_.split(""):_,rn=0;rn<$e;rn++)rn in Wt&&W.call(fe,Wt[rn],rn,_)};function k(_){return Array.prototype.concat.apply([],arguments)}function D(_){var W=_.length;if(0<W){for(var fe=Array(W),$e=0;$e<W;$e++)fe[$e]=_[$e];return fe}return[]}function G(_){return/^[\s\xa0]*$/.test(_)}var Ke,J=String.prototype.trim?function(_){return _.trim()}:function(_){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(_)[1]};function N(_,W){return-1!=_.indexOf(W)}function ge(_,W){return _<W?-1:_>W?1:0}e:{var Tn=ee.navigator;if(Tn){var He=Tn.userAgent;if(He){Ke=He;break e}}Ke=""}function ut(_,W,fe){for(var $e in _)W.call(fe,_[$e],$e,_)}function at(_){var W={};for(var fe in _)W[fe]=_[fe];return W}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(_,W){for(var fe,$e,Wt=1;Wt<arguments.length;Wt++){for(fe in $e=arguments[Wt])_[fe]=$e[fe];for(var rn=0;rn<te.length;rn++)fe=te[rn],Object.prototype.hasOwnProperty.call($e,fe)&&(_[fe]=$e[fe])}}function ie(_){return ie[" "](_),_}ie[" "]=Ge;var Ut,_,Ue=N(Ke,"Opera"),ht=N(Ke,"Trident")||N(Ke,"MSIE"),Et=N(Ke,"Edge"),mn=Et||ht,bt=N(Ke,"Gecko")&&!(N(Ke.toLowerCase(),"webkit")&&!N(Ke,"Edge"))&&!(N(Ke,"Trident")||N(Ke,"MSIE"))&&!N(Ke,"Edge"),sn=N(Ke.toLowerCase(),"webkit")&&!N(Ke,"Edge");function ft(){var _=ee.document;return _?_.documentMode:void 0}e:{var Xt="",dn=(_=Ke,bt?/rv:([^\);]+)(\)|;)/.exec(_):Et?/Edge\/([\d\.]+)/.exec(_):ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_):sn?/WebKit\/(\S+)/.exec(_):Ue?/(?:Version)[ \/]?(\S+)/.exec(_):void 0);if(dn&&(Xt=dn?dn[1]:""),ht){var Bn=ft();if(null!=Bn&&Bn>parseFloat(Xt)){Ut=String(Bn);break e}}Ut=Xt}var xn={};function $n(_){return function Le(_,W){var fe=xn;return Object.prototype.hasOwnProperty.call(fe,_)?fe[_]:fe[_]=W(_)}(_,function(){for(var W=0,fe=J(String(Ut)).split("."),$e=J(String(_)).split("."),Wt=Math.max(fe.length,$e.length),rn=0;0==W&&rn<Wt;rn++){var ur=fe[rn]||"",ii=$e[rn]||"";do{if(ur=/(\d*)(\D*)(.*)/.exec(ur)||["","","",""],ii=/(\d*)(\D*)(.*)/.exec(ii)||["","","",""],0==ur[0].length&&0==ii[0].length)break;W=ge(0==ur[1].length?0:parseInt(ur[1],10),0==ii[1].length?0:parseInt(ii[1],10))||ge(0==ur[2].length,0==ii[2].length)||ge(ur[2],ii[2]),ur=ur[3],ii=ii[3]}while(0==W)}return 0<=W})}var br=ee.document&&ht&&(ft()||parseInt(Ut,10))||void 0,hn=!ht||9<=Number(br),Fe=ht&&!$n("9"),dt=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var _=!1,W=Object.defineProperty({},"passive",{get:function(){_=!0}});try{ee.addEventListener("test",Ge,W),ee.removeEventListener("test",Ge,W)}catch{}return _}();function Yt(_,W){this.type=_,this.a=this.target=W,this.defaultPrevented=!1}function Qt(_,W){if(Yt.call(this,_?_.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,_){var fe=this.type=_.type,$e=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.a=W,W=_.relatedTarget){if(bt){e:{try{ie(W.nodeName);var Wt=!0;break e}catch{}Wt=!1}Wt||(W=null)}}else"mouseover"==fe?W=_.fromElement:"mouseout"==fe&&(W=_.toElement);this.relatedTarget=W,$e?(this.clientX=void 0!==$e.clientX?$e.clientX:$e.pageX,this.clientY=void 0!==$e.clientY?$e.clientY:$e.pageY,this.screenX=$e.screenX||0,this.screenY=$e.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:gn[_.pointerType]||"",this.c=_,_.defaultPrevented&&this.b()}}Yt.prototype.b=function(){this.defaultPrevented=!0},en(Qt,Yt);var gn={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var _=this.c;if(_.preventDefault)_.preventDefault();else if(_.returnValue=!1,Fe)try{(_.ctrlKey||112<=_.keyCode&&123>=_.keyCode)&&(_.keyCode=-1)}catch{}};var ot="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Mt(_,W,fe,$e,Wt){this.listener=_,this.proxy=null,this.src=W,this.type=fe,this.capture=!!$e,this.ca=Wt,this.key=++Se,this.Y=this.Z=!1}function Nt(_){_.Y=!0,_.listener=null,_.proxy=null,_.src=null,_.ca=null}function ct(_){this.src=_,this.a={},this.b=0}function wn(_,W){var fe=W.type;if(fe in _.a){var rn,$e=_.a[fe],Wt=ke($e,W);(rn=0<=Wt)&&Array.prototype.splice.call($e,Wt,1),rn&&(Nt(W),0==_.a[fe].length&&(delete _.a[fe],_.b--))}}function An(_,W,fe,$e){for(var Wt=0;Wt<_.length;++Wt){var rn=_[Wt];if(!rn.Y&&rn.listener==W&&rn.capture==!!fe&&rn.ca==$e)return Wt}return-1}ct.prototype.add=function(_,W,fe,$e,Wt){var rn=_.toString();(_=this.a[rn])||(_=this.a[rn]=[],this.b++);var ur=An(_,W,$e,Wt);return-1<ur?(W=_[ur],fe||(W.Z=!1)):((W=new Mt(W,this.src,rn,!!$e,Wt)).Z=fe,_.push(W)),W};var Hn="closure_lm_"+(1e6*Math.random()|0),Rn={};function kn(_,W,fe,$e,Wt){if($e&&$e.once)return cn(_,W,fe,$e,Wt);if(Array.isArray(W)){for(var rn=0;rn<W.length;rn++)kn(_,W[rn],fe,$e,Wt);return null}return fe=vn(fe),_&&_[ot]?_.va(W,fe,Me($e)?!!$e.capture:!!$e,Wt):Jn(_,W,fe,!1,$e,Wt)}function Jn(_,W,fe,$e,Wt,rn){if(!W)throw Error("Invalid event type");var ur=Me(Wt)?!!Wt.capture:!!Wt;if(ur&&!hn)return null;var ii=tt(_);if(ii||(_[Hn]=ii=new ct(_)),(fe=ii.add(W,fe,$e,ur,rn)).proxy)return fe;if($e=function Ir(){var _=le,W=hn?function(fe){return _.call(W.src,W.listener,fe)}:function(fe){if(!(fe=_.call(W.src,W.listener,fe)))return fe};return W}(),fe.proxy=$e,$e.src=_,$e.listener=fe,_.addEventListener)dt||(Wt=ur),void 0===Wt&&(Wt=!1),_.addEventListener(W.toString(),$e,Wt);else if(_.attachEvent)_.attachEvent(Ce(W.toString()),$e);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener($e)}return fe}function cn(_,W,fe,$e,Wt){if(Array.isArray(W)){for(var rn=0;rn<W.length;rn++)cn(_,W[rn],fe,$e,Wt);return null}return fe=vn(fe),_&&_[ot]?_.wa(W,fe,Me($e)?!!$e.capture:!!$e,Wt):Jn(_,W,fe,!0,$e,Wt)}function Pt(_,W,fe,$e,Wt){if(Array.isArray(W))for(var rn=0;rn<W.length;rn++)Pt(_,W[rn],fe,$e,Wt);else $e=Me($e)?!!$e.capture:!!$e,fe=vn(fe),_&&_[ot]?(_=_.c,(W=String(W).toString())in _.a&&-1<(fe=An(rn=_.a[W],fe,$e,Wt))&&(Nt(rn[fe]),Array.prototype.splice.call(rn,fe,1),0==rn.length&&(delete _.a[W],_.b--))):_&&(_=tt(_))&&(W=_.a[W.toString()],_=-1,W&&(_=An(W,fe,$e,Wt)),(fe=-1<_?W[_]:null)&&Vt(fe))}function Vt(_){if("number"!=typeof _&&_&&!_.Y){var W=_.src;if(W&&W[ot])wn(W.c,_);else{var fe=_.type,$e=_.proxy;W.removeEventListener?W.removeEventListener(fe,$e,_.capture):W.detachEvent?W.detachEvent(Ce(fe),$e):W.addListener&&W.removeListener&&W.removeListener($e),(fe=tt(W))?(wn(fe,_),0==fe.b&&(fe.src=null,W[Hn]=null)):Nt(_)}}}function Ce(_){return _ in Rn?Rn[_]:Rn[_]="on"+_}function ue(_,W){var fe=_.listener,$e=_.ca||_.src;return _.Z&&Vt(_),fe.call($e,W)}function le(_,W){if(_.Y)return!0;if(!hn){if(!W)e:{W=["window","event"];for(var fe=ee,$e=0;$e<W.length;$e++)if(null==(fe=fe[W[$e]])){W=null;break e}W=fe}return ue(_,W=new Qt(W,this))}return ue(_,new Qt(W,this))}function tt(_){return(_=_[Hn])instanceof ct?_:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(_){return"function"==oe(_)?_:(_[St]||(_[St]=function(W){return _.handleEvent(W)}),_[St])}function Oe(){Ot.call(this),this.c=new ct(this),this.J=this,this.C=null}function It(_,W,fe,$e){if(!(W=_.c.a[String(W)]))return!0;W=W.concat();for(var Wt=!0,rn=0;rn<W.length;++rn){var ur=W[rn];if(ur&&!ur.Y&&ur.capture==fe){var ii=ur.listener,Xr=ur.ca||ur.src;ur.Z&&wn(_.c,ur),Wt=!1!==ii.call(Xr,$e)&&Wt}}return Wt&&!$e.defaultPrevented}en(Oe,Ot),Oe.prototype[ot]=!0,(z=Oe.prototype).addEventListener=function(_,W,fe,$e){kn(this,_,W,fe,$e)},z.removeEventListener=function(_,W,fe,$e){Pt(this,_,W,fe,$e)},z.dispatchEvent=function(_){var W,fe=this.C;if(fe)for(W=[];fe;fe=fe.C)W.push(fe);fe=this.J;var $e=_.type||_;if("string"==typeof _)_=new Yt(_,fe);else if(_ instanceof Yt)_.target=_.target||fe;else{var Wt=_;ce(_=new Yt($e,fe),Wt)}if(Wt=!0,W)for(var rn=W.length-1;0<=rn;rn--){var ur=_.a=W[rn];Wt=It(ur,$e,!0,_)&&Wt}if(Wt=It(ur=_.a=fe,$e,!0,_)&&Wt,Wt=It(ur,$e,!1,_)&&Wt,W)for(rn=0;rn<W.length;rn++)Wt=It(ur=_.a=W[rn],$e,!1,_)&&Wt;return Wt},z.G=function(){if(Oe.S.G.call(this),this.c){var W,_=this.c;for(W in _.a){for(var fe=_.a[W],$e=0;$e<fe.length;$e++)Nt(fe[$e]);delete _.a[W],_.b--}}this.C=null},z.va=function(_,W,fe,$e){return this.c.add(String(_),W,!1,fe,$e)},z.wa=function(_,W,fe,$e){return this.c.add(String(_),W,!0,fe,$e)};var Bt=ee.JSON.stringify;function ln(){this.b=this.a=null}var Ft,qt=new(function(){function _(W,fe,$e){this.f=$e,this.c=W,this.g=fe,this.b=0,this.a=null}return _.prototype.get=function(){var W;return 0<this.b?(this.b--,this.a=(W=this.a).next,W.next=null):W=this.c(),W},_}())(function(){return new rt},function(_){_.reset()},100);function st(){var _=Cn,W=null;return _.a&&(W=_.a,_.a=_.a.next,_.a||(_.b=null),W.next=null),W}function rt(){this.next=this.b=this.a=null}function Ie(_){ee.setTimeout(function(){throw _},0)}function Dt(_,W){Ft||function pn(){var _=ee.Promise.resolve(void 0);Ft=function(){_.then(lr)}}(),Qn||(Ft(),Qn=!0),Cn.add(_,W)}ln.prototype.add=function(_,W){var fe=qt.get();fe.set(_,W),this.b?this.b.next=fe:this.a=fe,this.b=fe},rt.prototype.set=function(_,W){this.a=_,this.b=W,this.next=null},rt.prototype.reset=function(){this.next=this.b=this.a=null};var Qn=!1,Cn=new ln;function lr(){for(var _;_=st();){try{_.a.call(_.b)}catch(fe){Ie(fe)}var W=qt;W.g(_),W.b<W.f&&(W.b++,_.next=W.a,W.a=_)}Qn=!1}function ei(_,W){Oe.call(this),this.b=_||1,this.a=W||ee,this.f=we(this.Ya,this),this.g=vt()}function it(_){_.aa=!1,_.M&&(_.a.clearTimeout(_.M),_.M=null)}function pt(_,W,fe){if("function"==oe(_))fe&&(_=we(_,fe));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=we(_.handleEvent,_)}return 2147483647<Number(W)?-1:ee.setTimeout(_,W||0)}function Tt(_){_.a=pt(function(){_.a=null,_.c&&(_.c=!1,Tt(_))},_.h);var W=_.b;_.b=null,_.g.apply(null,W)}en(ei,Oe),(z=ei.prototype).aa=!1,z.M=null,z.Ya=function(){if(this.aa){var _=vt()-this.g;0<_&&_<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-_):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(it(this),this.start()))}},z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vt())},z.G=function(){ei.S.G.call(this),it(this),delete this.a};var Gt=function(_){function W(fe,$e,Wt){var rn=_.call(this)||this;return rn.g=null!=Wt?fe.bind(Wt):fe,rn.h=$e,rn.b=null,rn.c=!1,rn.a=null,rn}return function T(_,W){function fe(){this.constructor=_}y(_,W),_.prototype=null===W?Object.create(W):(fe.prototype=W.prototype,new fe)}(W,_),W.prototype.f=function(fe){this.b=arguments,this.a?this.c=!0:Tt(this)},W.prototype.G=function(){_.prototype.G.call(this),this.a&&(ee.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},W}(Ot);function Re(_){Ot.call(this),this.b=_,this.a={}}en(Re,Ot);var q=[];function _e(_,W,fe,$e){Array.isArray(fe)||(fe&&(q[0]=fe.toString()),fe=q);for(var Wt=0;Wt<fe.length;Wt++){var rn=kn(W,fe[Wt],$e||_.handleEvent,!1,_.b||_);if(!rn)break;_.a[rn.key]=rn}}function qe(_){ut(_.a,function(W,fe){this.a.hasOwnProperty(fe)&&Vt(W)},_),_.a={}}function gt(){this.a=!0}function Mn(_,W,fe,$e){_.info(function(){return"XMLHTTP TEXT ("+W+"): "+function hr(_,W){if(!_.a)return W;if(!W)return null;try{var fe=JSON.parse(W);if(fe)for(_=0;_<fe.length;_++)if(Array.isArray(fe[_])){var $e=fe[_];if(!(2>$e.length)){var Wt=$e[1];if(Array.isArray(Wt)&&!(1>Wt.length)){var rn=Wt[0];if("noop"!=rn&&"stop"!=rn&&"close"!=rn)for(var ur=1;ur<Wt.length;ur++)Wt[ur]=""}}}return Bt(fe)}catch{return W}}(_,fe)+($e?" "+$e:"")})}Re.prototype.G=function(){Re.S.G.call(this),qe(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gt.prototype.info=function(){};var tr=null;function fn(){return tr=tr||new Oe}function sr(_){Yt.call(this,"serverreachability",_)}function mr(_){var W=fn();W.dispatchEvent(new sr(W,_))}function gi(_){Yt.call(this,"statevent",_)}function Er(_){var W=fn();W.dispatchEvent(new gi(W,_))}function vi(_){Yt.call(this,"timingevent",_)}function ai(_,W){if("function"!=oe(_))throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){_()},W)}en(sr,Yt),en(gi,Yt),en(vi,Yt);var Dr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Ri={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ni(){}function Wi(){}Ni.prototype.a=null;var Mi,Fi={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function mo(){Yt.call(this,"d")}function eo(){Yt.call(this,"c")}function Ro(){}function Gi(_,W,fe,$e){this.g=_,this.c=W,this.f=fe,this.T=$e||1,this.J=new Re(this),this.P=ze,this.R=new ei(_=mn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}en(mo,Yt),en(eo,Yt),en(Ro,Ni),Mi=new Ro;var ze=45e3,pe={},j={};function ye(_,W,fe){_.H=1,_.i=Qo(yo(W)),_.j=fe,_.I=!0,Qe(_,null)}function Qe(_,W){_.u=vt(),rr(_),_.l=yo(_.i);var fe=_.l,$e=_.T;Array.isArray($e)||($e=[String($e)]),zr(fe.b,"t",$e),_.D=0,_.a=Ho(_.g,_.g.C?W:null),0<_.O&&(_.F=new Gt(we(_.Ca,_,_.a),_.O)),_e(_.J,_.a,"readystatechange",_.Wa),W=_.B?at(_.B):{},_.j?(_.m||(_.m="POST"),W["Content-Type"]="application/x-www-form-urlencoded",_.a.ba(_.l,_.m,_.j,W)):(_.m="GET",_.a.ba(_.l,_.m,null,W)),mr(1),function kt(_,W,fe,$e,Wt,rn){_.info(function(){if(_.a)if(rn)for(var ur="",ii=rn.split("&"),Xr=0;Xr<ii.length;Xr++){var ao=ii[Xr].split("=");if(1<ao.length){var Mo=ao[0];ao=ao[1];var Ao=Mo.split("_");ur=2<=Ao.length&&"type"==Ao[1]?ur+(Mo+"=")+ao+"&":ur+(Mo+"=redacted&")}}else ur=null;else ur=rn;return"XMLHTTP REQ ("+$e+") [attempt "+Wt+"]: "+W+"\n"+fe+"\n"+ur})}(_.c,_.m,_.l,_.f,_.T,_.j)}function on(_,W,fe){for(var $e=!0;!_.A&&_.D<fe.length;){var Wt=Gn(_,fe);if(Wt==j){4==W&&(_.h=4,Er(14),$e=!1),Mn(_.c,_.f,null,"[Incomplete Response]");break}if(Wt==pe){_.h=4,Er(15),Mn(_.c,_.f,fe,"[Invalid Chunk]"),$e=!1;break}Mn(_.c,_.f,Wt,null),or(_,Wt)}4==W&&0==fe.length&&(_.h=1,Er(16),$e=!1),_.b=_.b&&$e,$e?0<fe.length&&!_.W&&(_.W=!0,(W=_.g).a==_&&W.V&&!W.F&&(W.c.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Hs(W),W.F=!0)):(Mn(_.c,_.f,fe,"[Invalid Chunked Response]"),ir(_),vr(_))}function Gn(_,W){var fe=_.D,$e=W.indexOf("\n",fe);return-1==$e?j:(fe=Number(W.substring(fe,$e)),isNaN(fe)?pe:($e+=1)+fe>W.length?j:(W=W.substr($e,fe),_.D=$e+fe,W))}function rr(_){_.U=vt()+_.P,Lr(_,_.P)}function Lr(_,W){if(null!=_.o)throw Error("WatchDog timer not null");_.o=ai(we(_.Ua,_),W)}function gr(_){_.o&&(ee.clearTimeout(_.o),_.o=null)}function vr(_){0==_.g.v||_.A||Po(_.g,_)}function ir(_){gr(_);var W=_.F;W&&"function"==typeof W.ja&&W.ja(),_.F=null,it(_.R),qe(_.J),_.a&&(W=_.a,_.a=null,W.abort(),W.ja())}function or(_,W){try{var fe=_.g;if(0!=fe.v&&(fe.a==_||Ar(fe.b,_)))if(fe.I=_.N,!_.C&&Ar(fe.b,_)&&3==fe.v){try{var $e=fe.ka.a.parse(W)}catch{$e=null}if(Array.isArray($e)&&3==$e.length){var Wt=$e;if(0==Wt[0]){e:if(!fe.j){if(fe.a){if(!(fe.a.u+3e3<_.u))break e;oo(fe),Br(fe)}fs(fe),Er(18)}}else fe.oa=Wt[1],0<fe.oa-fe.P&&37500>Wt[2]&&fe.H&&0==fe.o&&!fe.m&&(fe.m=ai(we(fe.Ra,fe),6e3));if(1>=yi(fe.b)&&fe.ea){try{fe.ea()}catch{}fe.ea=void 0}}else ho(fe,11)}else if((_.C||fe.a==_)&&oo(fe),!G(W))for(W=$e=fe.ka.a.parse(W),$e=0;$e<W.length;$e++)if(fe.P=(Wt=W[$e])[0],Wt=Wt[1],2==fe.v)if("c"==Wt[0]){fe.J=Wt[1],fe.ga=Wt[2];var rn=Wt[3];null!=rn&&(fe.ha=rn,fe.c.info("VER="+fe.ha));var ur=Wt[4];null!=ur&&(fe.pa=ur,fe.c.info("SVER="+fe.pa));var ii=Wt[5];if(null!=ii&&"number"==typeof ii&&0<ii){var Xr=1.5*ii;fe.D=Xr,fe.c.info("backChannelRequestTimeoutMs_="+Xr)}Xr=fe;var ao=_.a;if(ao){var Mo=ao.a?ao.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var Ao=Xr.b;!Ao.a&&(N(Mo,"spdy")||N(Mo,"quic")||N(Mo,"h2"))&&(Ao.f=Ao.g,Ao.a=new Set,Ao.b&&(to(Ao,Ao.b),Ao.b=null))}if(Xr.A){var Jo=ao.a?ao.a.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(Xr.na=Jo,di(Xr.B,Xr.A,Jo))}}fe.v=3,fe.f&&fe.f.ta(),fe.V&&(fe.N=vt()-_.u,fe.c.info("Handshake RTT: "+fe.N+"ms"));var es=_;if((Xr=fe).la=No(Xr,Xr.C?Xr.ga:null,Xr.fa),es.C){uo(Xr.b,es);var xi=es,U=Xr.D;U&&xi.setTimeout(U),xi.o&&(gr(xi),rr(xi)),Xr.a=es}else hs(Xr);0<fe.g.length&&ci(fe)}else"stop"!=Wt[0]&&"close"!=Wt[0]||ho(fe,7);else 3==fe.v&&("stop"==Wt[0]||"close"==Wt[0]?"stop"==Wt[0]?ho(fe,7):In(fe):"noop"!=Wt[0]&&fe.f&&fe.f.sa(Wt),fe.o=0);mr(4)}catch{}}function io(_,W){if(_.forEach&&"function"==typeof _.forEach)_.forEach(W,void 0);else if($(_)||"string"==typeof _)et(_,W,void 0);else{if(_.L&&"function"==typeof _.L)var fe=_.L();else if(_.K&&"function"==typeof _.K)fe=void 0;else if($(_)||"string"==typeof _){fe=[];for(var $e=_.length,Wt=0;Wt<$e;Wt++)fe.push(Wt)}else for(Wt in fe=[],$e=0,_)fe[$e++]=Wt;$e=function Ii(_){if(_.K&&"function"==typeof _.K)return _.K();if("string"==typeof _)return _.split("");if($(_)){for(var W=[],fe=_.length,$e=0;$e<fe;$e++)W.push(_[$e]);return W}for($e in W=[],fe=0,_)W[fe++]=_[$e];return W}(_),Wt=$e.length;for(var rn=0;rn<Wt;rn++)W.call(void 0,$e[rn],fe&&fe[rn],_)}}function Ei(_,W){this.b={},this.a=[],this.c=0;var fe=arguments.length;if(1<fe){if(fe%2)throw Error("Uneven number of arguments");for(var $e=0;$e<fe;$e+=2)this.set(arguments[$e],arguments[$e+1])}else if(_)if(_ instanceof Ei)for(fe=_.L(),$e=0;$e<fe.length;$e++)this.set(fe[$e],_.get(fe[$e]));else for($e in _)this.set($e,_[$e])}function Li(_){if(_.c!=_.a.length){for(var W=0,fe=0;W<_.a.length;){var $e=_.a[W];Pi(_.b,$e)&&(_.a[fe++]=$e),W++}_.a.length=fe}if(_.c!=_.a.length){var Wt={};for(fe=W=0;W<_.a.length;)Pi(Wt,$e=_.a[W])||(_.a[fe++]=$e,Wt[$e]=1),W++;_.a.length=fe}}function Pi(_,W){return Object.prototype.hasOwnProperty.call(_,W)}(z=Gi.prototype).setTimeout=function(_){this.P=_},z.Wa=function(_){_=_.target;var W=this.F;W&&3==Zo(_)?W.f():this.Ca(_)},z.Ca=function(_){try{if(_==this.a)e:{var W=Zo(this.a),fe=this.a.ua(),$e=this.a.X();if(!(3>W||3==W&&!mn&&!this.a.$())){this.A||4!=W||7==fe||mr(8==fe||0>=$e?3:2),gr(this);var Wt=this.a.X();this.N=Wt;var rn=this.a.$();if(this.b=200==Wt,function Lt(_,W,fe,$e,Wt,rn,ur){_.info(function(){return"XMLHTTP RESP ("+$e+") [ attempt "+Wt+"]: "+W+"\n"+fe+"\n"+rn+" "+ur})}(this.c,this.m,this.l,this.f,this.T,W,Wt),this.b){if(this.V&&!this.C){t:{if(this.a){var ur,ii=this.a;if((ur=ii.a?ii.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ur)){var Xr=ur;break t}}Xr=null}if(!Xr){this.b=!1,this.h=3,Er(12),ir(this),vr(this);break e}Mn(this.c,this.f,Xr,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,or(this,Xr)}this.I?(on(this,W,rn),mn&&this.b&&3==W&&(_e(this.J,this.R,"tick",this.Va),this.R.start())):(Mn(this.c,this.f,rn,null),or(this,rn)),4==W&&ir(this),this.b&&!this.A&&(4==W?Po(this.g,this):(this.b=!1,rr(this)))}else 400==Wt&&0<rn.indexOf("Unknown SID")?(this.h=3,Er(12)):(this.h=0,Er(13)),ir(this),vr(this)}}}catch{}},z.Va=function(){if(this.a){var _=Zo(this.a),W=this.a.$();this.D<W.length&&(gr(this),on(this,_,W),this.b&&4!=_&&rr(this))}},z.cancel=function(){this.A=!0,ir(this)},z.Ua=function(){this.o=null;var _=vt();0<=_-this.U?(function Wn(_,W){_.info(function(){return"TIMEOUT: "+W})}(this.c,this.l),2!=this.H&&(mr(3),Er(17)),ir(this),this.h=2,vr(this)):Lr(this,this.U-_)},(z=Ei.prototype).K=function(){Li(this);for(var _=[],W=0;W<this.a.length;W++)_.push(this.b[this.a[W]]);return _},z.L=function(){return Li(this),this.a.concat()},z.get=function(_,W){return Pi(this.b,_)?this.b[_]:W},z.set=function(_,W){Pi(this.b,_)||(this.c++,this.a.push(_)),this.b[_]=W},z.forEach=function(_,W){for(var fe=this.L(),$e=0;$e<fe.length;$e++){var Wt=fe[$e],rn=this.get(Wt);_.call(W,rn,Wt,this)}};var Hr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qi(_,W){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,_ instanceof Qi){this.a=void 0!==W?W:_.a,is(this,_.f),this.j=_.j,qo(this,_.c),os(this,_.h),this.g=_.g,W=_.b;var fe=new Un;fe.c=W.c,W.a&&(fe.a=new Ei(W.a),fe.b=W.b),Es(this,fe),this.i=_.i}else _&&(fe=String(_).match(Hr))?(this.a=!!W,is(this,fe[1]||"",!0),this.j=lo(fe[2]||""),qo(this,fe[3]||"",!0),os(this,fe[4]),this.g=lo(fe[5]||"",!0),Es(this,fe[6]||"",!0),this.i=lo(fe[7]||"")):(this.a=!!W,this.b=new Un(null,this.a))}function yo(_){return new Qi(_)}function is(_,W,fe){_.f=fe?lo(W,!0):W,_.f&&(_.f=_.f.replace(/:$/,""))}function qo(_,W,fe){_.c=fe?lo(W,!0):W}function os(_,W){if(W){if(W=Number(W),isNaN(W)||0>W)throw Error("Bad port number "+W);_.h=W}else _.h=null}function Es(_,W,fe){W instanceof Un?(_.b=W,function hi(_,W){W&&!_.f&&(Pn(_),_.c=null,_.a.forEach(function(fe,$e){var Wt=$e.toLowerCase();$e!=Wt&&(qn(this,$e),zr(this,Wt,fe))},_)),_.f=W}(_.b,_.a)):(fe||(W=se(W,Jt)),_.b=new Un(W,_.a))}function di(_,W,fe){_.b.set(W,fe)}function Qo(_){return di(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vt()).toString(36)),_}function lo(_,W){return _?W?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function se(_,W,fe){return"string"==typeof _?(_=encodeURI(_).replace(W,ne),fe&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ne(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Qi.prototype.toString=function(){var _=[],W=this.f;W&&_.push(se(W,Be,!0),":");var fe=this.c;return(fe||"file"==W)&&(_.push("//"),(W=this.j)&&_.push(se(W,Be,!0),"@"),_.push(encodeURIComponent(String(fe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(fe=this.h)&&_.push(":",String(fe))),(fe=this.g)&&(this.c&&"/"!=fe.charAt(0)&&_.push("/"),_.push(se(fe,"/"==fe.charAt(0)?jt:wt,!0))),(fe=this.b.toString())&&_.push("?",fe),(fe=this.i)&&_.push("#",se(fe,En)),_.join("")};var Be=/[#\/\?@]/g,wt=/[#\?:]/g,jt=/[#\?]/g,Jt=/[#\?@]/g,En=/#/g;function Un(_,W){this.b=this.a=null,this.c=_||null,this.f=!!W}function Pn(_){_.a||(_.a=new Ei,_.b=0,_.c&&function Co(_,W){if(_){_=_.split("&");for(var fe=0;fe<_.length;fe++){var $e=_[fe].indexOf("="),Wt=null;if(0<=$e){var rn=_[fe].substring(0,$e);Wt=_[fe].substring($e+1)}else rn=_[fe];W(rn,Wt?decodeURIComponent(Wt.replace(/\+/g," ")):"")}}}(_.c,function(W,fe){_.add(decodeURIComponent(W.replace(/\+/g," ")),fe)}))}function qn(_,W){Pn(_),W=Pr(_,W),Pi(_.a.b,W)&&(_.c=null,_.b-=_.a.get(W).length,Pi((_=_.a).b,W)&&(delete _.b[W],_.c--,_.a.length>2*_.c&&Li(_)))}function nr(_,W){return Pn(_),W=Pr(_,W),Pi(_.a.b,W)}function zr(_,W,fe){qn(_,W),0<fe.length&&(_.c=null,_.a.set(Pr(_,W),D(fe)),_.b+=fe.length)}function Pr(_,W){return W=String(W),_.f&&(W=W.toLowerCase()),W}function Kr(_,W){this.b=_,this.a=W}function Ai(_){this.g=_||fi,_=ee.PerformanceNavigationTiming?0<(_=ee.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(ee.ia&&ee.ia.ya&&ee.ia.ya()&&ee.ia.ya().qb),this.f=_?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(z=Un.prototype).add=function(_,W){Pn(this),this.c=null,_=Pr(this,_);var fe=this.a.get(_);return fe||this.a.set(_,fe=[]),fe.push(W),this.b+=1,this},z.forEach=function(_,W){Pn(this),this.a.forEach(function(fe,$e){et(fe,function(Wt){_.call(W,Wt,$e,this)},this)},this)},z.L=function(){Pn(this);for(var _=this.a.K(),W=this.a.L(),fe=[],$e=0;$e<W.length;$e++)for(var Wt=_[$e],rn=0;rn<Wt.length;rn++)fe.push(W[$e]);return fe},z.K=function(_){Pn(this);var W=[];if("string"==typeof _)nr(this,_)&&(W=k(W,this.a.get(Pr(this,_))));else{_=this.a.K();for(var fe=0;fe<_.length;fe++)W=k(W,_[fe])}return W},z.set=function(_,W){return Pn(this),this.c=null,nr(this,_=Pr(this,_))&&(this.b-=this.a.get(_).length),this.a.set(_,[W]),this.b+=1,this},z.get=function(_,W){return _&&0<(_=this.K(_)).length?String(_[0]):W},z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var _=[],W=this.a.L(),fe=0;fe<W.length;fe++){var $e=W[fe],Wt=encodeURIComponent(String($e));$e=this.K($e);for(var rn=0;rn<$e.length;rn++){var ur=Wt;""!==$e[rn]&&(ur+="="+encodeURIComponent(String($e[rn]))),_.push(ur)}}return this.c=_.join("&")};var fi=10;function Si(_){return!!_.b||!!_.a&&_.a.size>=_.f}function yi(_){return _.b?1:_.a?_.a.size:0}function Ar(_,W){return _.b?_.b==W:!!_.a&&_.a.has(W)}function to(_,W){_.a?_.a.add(W):_.b=W}function uo(_,W){_.b&&_.b==W?_.b=null:_.a&&_.a.has(W)&&_.a.delete(W)}function ki(_){var W,fe;if(null!=_.b)return _.c.concat(_.b.s);if(null!=_.a&&0!==_.a.size){var $e=_.c;try{for(var Wt=Y(_.a.values()),rn=Wt.next();!rn.done;rn=Wt.next())$e=$e.concat(rn.value.s)}catch(ii){W={error:ii}}finally{try{rn&&!rn.done&&(fe=Wt.return)&&fe.call(Wt)}finally{if(W)throw W.error}}return $e}return D(_.c)}function Ti(){}function pi(){this.a=new Ti}function Ui(_,W,fe){var $e=fe||"";try{io(_,function(Wt,rn){var ur=Wt;Me(Wt)&&(ur=Bt(Wt)),W.push($e+rn+"="+encodeURIComponent(ur))})}catch(Wt){throw W.push($e+"type="+encodeURIComponent("_badmap")),Wt}}function Xo(_,W,fe,$e,Wt){try{W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null,Wt($e)}catch{}}Ai.prototype.cancel=function(){var _,W;if(this.c=ki(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var fe=Y(this.a.values()),$e=fe.next();!$e.done;$e=fe.next())$e.value.cancel()}catch(rn){_={error:rn}}finally{try{$e&&!$e.done&&(W=fe.return)&&W.call(fe)}finally{if(_)throw _.error}}this.a.clear()}},Ti.prototype.stringify=function(_){return ee.JSON.stringify(_,void 0)},Ti.prototype.parse=function(_){return ee.JSON.parse(_,void 0)};var Ss=ee.JSON.parse;function $r(_){Oe.call(this),this.headers=new Ei,this.H=_||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qr,this.D=this.F=!1}en($r,Oe);var Qr="",ni=/^https?$/i,Ki=["POST","PUT"];function ss(_){return"content-type"==_.toLowerCase()}function Io(_,W){_.b=!1,_.a&&(_.g=!0,_.a.abort(),_.g=!1),_.f=W,_.h=5,Nr(_),Yo(_)}function Nr(_){_.u||(_.u=!0,_.dispatchEvent("complete"),_.dispatchEvent("error"))}function co(_){if(_.b&&typeof Xe<"u"&&(!_.s[1]||4!=Zo(_)||2!=_.X()))if(_.l&&4==Zo(_))pt(_.za,0,_);else if(_.dispatchEvent("readystatechange"),4==Zo(_)){_.b=!1;try{var $e,W=_.X();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var fe=!0;break e;default:fe=!1}if(!($e=fe)){var Wt;if(Wt=0===W){var rn=String(_.B).match(Hr)[1]||null;if(!rn&&ee.self&&ee.self.location){var ur=ee.self.location.protocol;rn=ur.substr(0,ur.length-1)}Wt=!ni.test(rn?rn.toLowerCase():"")}$e=Wt}if($e)_.dispatchEvent("complete"),_.dispatchEvent("success");else{_.h=6;try{var ii=2<Zo(_)?_.a.statusText:""}catch{ii=""}_.f=ii+" ["+_.X()+"]",Nr(_)}}finally{Yo(_)}}}function Yo(_,W){if(_.a){Ls(_);var fe=_.a,$e=_.s[0]?Ge:null;_.a=null,_.s=null,W||_.dispatchEvent("ready");try{fe.onreadystatechange=$e}catch{}}}function Ls(_){_.a&&_.D&&(_.a.ontimeout=null),_.m&&(ee.clearTimeout(_.m),_.m=null)}function Zo(_){return _.a?_.a.readyState:0}function Zi(_,W,fe){e:{for($e in fe){var $e=!1;break e}$e=!0}$e||(fe=function go(_){var W="";return ut(_,function(fe,$e){W+=$e,W+=":",W+=fe,W+="\r\n"}),W}(fe),"string"==typeof _?null!=fe&&encodeURIComponent(String(fe)):di(_,W,fe))}function Uo(_,W,fe){return fe&&fe.internalChannelParams&&fe.internalChannelParams[_]||W}function Vs(_){this.pa=0,this.g=[],this.c=new gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Uo("failFast",!1,_),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Uo("baseRetryDelayMs",5e3,_),this.Ma=Uo("retryDelaySeedMs",1e4,_),this.Ja=Uo("forwardChannelMaxRetries",2,_),this.ma=Uo("forwardChannelRequestTimeoutMs",2e4,_),this.Ka=_&&_.g||void 0,this.D=void 0,this.C=_&&_.supportsCrossDomainXhr||!1,this.J="",this.b=new Ai(_&&_.concurrentRequestLimit),this.ka=new pi,this.da=_&&_.fastHandshake||!1,this.Ga=_&&_.b||!1,_&&_.f&&(this.c.a=!1),_&&_.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&_&&_.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(_){if(ds(_),3==_.v){var W=_.R++,fe=yo(_.B);di(fe,"SID",_.J),di(fe,"RID",W),di(fe,"TYPE","terminate"),$i(_,fe),(W=new Gi(_,_.c,W,void 0)).H=2,W.i=Qo(yo(fe)),fe=!1,ee.navigator&&ee.navigator.sendBeacon&&(fe=ee.navigator.sendBeacon(W.i.toString(),"")),!fe&&ee.Image&&((new Image).src=W.i,fe=!0),fe||(W.a=Ho(W.g,null),W.a.ba(W.i)),W.u=vt(),rr(W)}so(_)}function Br(_){_.a&&(Hs(_),_.a.cancel(),_.a=null)}function ds(_){Br(_),_.j&&(ee.clearTimeout(_.j),_.j=null),oo(_),_.b.cancel(),_.h&&("number"==typeof _.h&&ee.clearTimeout(_.h),_.h=null)}function Vo(_,W){_.g.push(new Kr(_.La++,W)),3==_.v&&ci(_)}function ci(_){Si(_.b)||_.h||(_.h=!0,Dt(_.Ba,_),_.u=0)}function _i(_,W){var fe;fe=W?W.f:_.R++;var $e=yo(_.B);di($e,"SID",_.J),di($e,"RID",fe),di($e,"AID",_.P),$i(_,$e),_.i&&_.l&&Zi($e,_.i,_.l),fe=new Gi(_,_.c,fe,_.u+1),null===_.i&&(fe.B=_.l),W&&(_.g=W.s.concat(_.g)),W=ks(_,fe,1e3),fe.setTimeout(Math.round(.5*_.ma)+Math.round(.5*_.ma*Math.random())),to(_.b,fe),ye(fe,$e,W)}function $i(_,W){_.f&&io({},function(fe,$e){di(W,$e,fe)})}function ks(_,W,fe){fe=Math.min(_.g.length,fe);var $e=_.f?we(_.f.Ha,_.f,_):null;e:for(var Wt=_.g,rn=-1;;){var ur=["count="+fe];-1==rn?0<fe?ur.push("ofs="+(rn=Wt[0].b)):rn=0:ur.push("ofs="+rn);for(var ii=!0,Xr=0;Xr<fe;Xr++){var ao=Wt[Xr].b,Mo=Wt[Xr].a;if(0>(ao-=rn))rn=Math.max(0,Wt[Xr].b-100),ii=!1;else try{Ui(Mo,ur,"req"+ao+"_")}catch{$e&&$e(Mo)}}if(ii){$e=ur.join("&");break e}}return _=_.g.splice(0,fe),W.s=_,$e}function hs(_){_.a||_.j||(_.U=1,Dt(_.Aa,_),_.o=0)}function fs(_){return!(_.a||_.j||3<=_.o||(_.U++,_.j=ai(we(_.Aa,_),bo(_,_.o)),_.o++,0))}function Hs(_){null!=_.s&&(ee.clearTimeout(_.s),_.s=null)}function zs(_){_.a=new Gi(_,_.c,"rpc",_.U),null===_.i&&(_.a.B=_.l),_.a.O=0;var W=yo(_.la);di(W,"RID","rpc"),di(W,"SID",_.J),di(W,"CI",_.H?"0":"1"),di(W,"AID",_.P),$i(_,W),di(W,"TYPE","xmlhttp"),_.i&&_.l&&Zi(W,_.i,_.l),_.D&&_.a.setTimeout(_.D);var fe=_.a;_=_.ga,fe.H=1,fe.i=Qo(yo(W)),fe.j=null,fe.I=!0,Qe(fe,_)}function oo(_){null!=_.m&&(ee.clearTimeout(_.m),_.m=null)}function Po(_,W){var fe=null;if(_.a==W){oo(_),Hs(_),_.a=null;var $e=2}else{if(!Ar(_.b,W))return;fe=W.s,uo(_.b,W),$e=1}if(_.I=W.N,0!=_.v)if(W.b)if(1==$e){fe=W.j?W.j.length:0,W=vt()-W.u;var Wt=_.u;($e=fn()).dispatchEvent(new vi($e,fe,W,Wt)),ci(_)}else hs(_);else if(3==(Wt=W.h)||0==Wt&&0<_.I||!(1==$e&&function Bi(_,W){return!(yi(_.b)>=_.b.f-(_.h?1:0)||(_.h?(_.g=W.s.concat(_.g),0):1==_.v||2==_.v||_.u>=(_.Ia?0:_.Ja)||(_.h=ai(we(_.Ba,_,W),bo(_,_.u)),_.u++,0)))}(_,W)||2==$e&&fs(_)))switch(fe&&0<fe.length&&(W=_.b,W.c=W.c.concat(fe)),Wt){case 1:ho(_,5);break;case 4:ho(_,10);break;case 3:ho(_,6);break;default:ho(_,2)}}function bo(_,W){var fe=_.Fa+Math.floor(Math.random()*_.Ma);return _.f||(fe*=2),fe*W}function ho(_,W){if(_.c.info("Error code "+W),2==W){var fe=null;_.f&&(fe=null);var $e=we(_.Xa,_);fe||(fe=new Qi("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||is(fe,"https"),Qo(fe)),function _o(_,W){var fe=new gt;if(ee.Image){var $e=new Image;$e.onload=Rt(Xo,fe,$e,"TestLoadImage: loaded",!0,W),$e.onerror=Rt(Xo,fe,$e,"TestLoadImage: error",!1,W),$e.onabort=Rt(Xo,fe,$e,"TestLoadImage: abort",!1,W),$e.ontimeout=Rt(Xo,fe,$e,"TestLoadImage: timeout",!1,W),ee.setTimeout(function(){$e.ontimeout&&$e.ontimeout()},1e4),$e.src=_}else W(!1)}(fe.toString(),$e)}else Er(2);_.v=0,_.f&&_.f.ra(W),so(_),ds(_)}function so(_){_.v=0,_.I=-1,_.f&&((0!=ki(_.b).length||0!=_.g.length)&&(_.b.c.length=0,D(_.g),_.g.length=0),_.f.qa())}function No(_,W,fe){var $e=function So(_){return _ instanceof Qi?yo(_):new Qi(_,void 0)}(fe);if(""!=$e.c)W&&qo($e,W+"."+$e.c),os($e,$e.h);else{var Wt=ee.location;$e=function cs(_,W,fe,$e){var Wt=new Qi(null,void 0);return _&&is(Wt,_),W&&qo(Wt,W),fe&&os(Wt,fe),$e&&(Wt.g=$e),Wt}(Wt.protocol,W?W+"."+Wt.hostname:Wt.hostname,+Wt.port,fe)}return _.W&&ut(_.W,function(rn,ur){di($e,ur,rn)}),fe=_.na,(W=_.A)&&fe&&di($e,W,fe),di($e,"VER",_.ha),$i(_,$e),$e}function Ho(_,W){if(W&&!_.C)throw Error("Can't create secondary domain capable XhrIo object.");return(W=new $r(_.Ka)).F=_.C,W}function as(){}function Ws(){if(ht&&!(10<=Number(br)))throw Error("Environmental error: no available transport.")}function li(_,W){Oe.call(this),this.a=new Vs(W),this.l=_,this.b=W&&W.messageUrlParams||null,_=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.a.l=_,_=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(_?_["X-WebChannel-Content-Type"]=W.messageContentType:_={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.a&&(_?_["X-WebChannel-Client-Profile"]=W.a:_={"X-WebChannel-Client-Profile":W.a}),this.a.O=_,(_=W&&W.httpHeadersOverwriteParam)&&!G(_)&&(this.a.i=_),this.h=W&&W.supportsCrossDomainXhr||!1,this.g=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!G(W)&&(this.a.A=W,null!==(_=this.b)&&W in _&&W in(_=this.b)&&delete _[W]),this.f=new ri(this)}function ps(_){mo.call(this);var W=_.__sm__;if(W){e:{for(var fe in W){_=fe;break e}_=void 0}(this.c=_)?(_=this.c,this.data=null!==W&&_ in W?W[_]:void 0):this.data=W}else this.data=_}function Kn(){eo.call(this),this.status=1}function ri(_){this.a=_}(z=$r.prototype).ba=function(_,W,fe,$e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+_);W=W?W.toUpperCase():"GET",this.B=_,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Mr(_){var W;return(W=_.a)||(W=_.a={}),W}(this.H?this.H:Mi),this.a.onreadystatechange=we(this.za,this);try{this.A=!0,this.a.open(W,String(_),!0),this.A=!1}catch(rn){return void Io(this,rn)}_=fe||"";var Wt=new Ei(this.headers);$e&&io($e,function(rn,ur){Wt.set(ur,rn)}),$e=function f(_){e:{for(var W=ss,fe=_.length,$e="string"==typeof _?_.split(""):_,Wt=0;Wt<fe;Wt++)if(Wt in $e&&W.call(void 0,$e[Wt],Wt,_)){W=Wt;break e}W=-1}return 0>W?null:"string"==typeof _?_.charAt(W):_[W]}(Wt.L()),fe=ee.FormData&&_ instanceof ee.FormData,!(0<=ke(Ki,W))||$e||fe||Wt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Wt.forEach(function(rn,ur){this.a.setRequestHeader(ur,rn)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ls(this),0<this.o&&((this.D=function Xi(_){return ht&&$n(9)&&"number"==typeof _.timeout&&void 0!==_.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=we(this.xa,this)):this.m=pt(this.xa,this.o,this)),this.l=!0,this.a.send(_),this.l=!1}catch(rn){Io(this,rn)}},z.xa=function(){typeof Xe<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},z.abort=function(_){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=_||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yo(this))},z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yo(this,!0)),$r.S.G.call(this)},z.za=function(){this.j||(this.A||this.l||this.g?co(this):this.Ta())},z.Ta=function(){co(this)},z.X=function(){try{return 2<Zo(this)?this.a.status:-1}catch{return-1}},z.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},z.Na=function(_){if(this.a){var W=this.a.responseText;return _&&0==W.indexOf(_)&&(W=W.substring(_.length)),Ss(W)}},z.ua=function(){return this.h},z.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(z=Vs.prototype).ha=8,z.v=1,z.Ba=function(_){if(this.h)if(this.h=null,1==this.v){if(!_){this.R=Math.floor(1e5*Math.random()),_=this.R++;var $e,W=new Gi(this,this.c,_,void 0),fe=this.l;if(this.O&&(fe?ce(fe=at(fe),this.O):fe=this.O),null===this.i&&(W.B=fe),this.da)e:{for(var Wt=$e=0;Wt<this.g.length;Wt++){var rn=this.g[Wt];if(void 0===(rn="__data__"in rn.a&&"string"==typeof(rn=rn.a.__data__)?rn.length:void 0))break;if(4096<($e+=rn)){$e=Wt;break e}if(4096===$e||Wt===this.g.length-1){$e=Wt+1;break e}}$e=1e3}else $e=1e3;$e=ks(this,W,$e),di(Wt=yo(this.B),"RID",_),di(Wt,"CVER",22),this.A&&di(Wt,"X-HTTP-Session-Id",this.A),$i(this,Wt),this.i&&fe&&Zi(Wt,this.i,fe),to(this.b,W),this.Ga&&di(Wt,"TYPE","init"),this.da?(di(Wt,"$req",$e),di(Wt,"SID","null"),W.V=!0,ye(W,Wt,null)):ye(W,Wt,$e),this.v=2}}else 3==this.v&&(_?_i(this,_):0==this.g.length||Si(this.b)||_i(this))},z.Aa=function(){if(this.j=null,zs(this),this.V&&!(this.F||null==this.a||0>=this.N)){var _=2*this.N;this.c.info("BP detection timer enabled: "+_),this.s=ai(we(this.Sa,this),_)}},z.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Br(this),zs(this))},z.Ra=function(){null!=this.m&&(this.m=null,Br(this),fs(this),Er(19))},z.Xa=function(_){_?(this.c.info("Successfully pinged google.com"),Er(2)):(this.c.info("Failed to ping google.com"),Er(1))},(z=as.prototype).ta=function(){},z.sa=function(){},z.ra=function(){},z.qa=function(){},z.Ha=function(){},Ws.prototype.a=function(_,W){return new li(_,W)},en(li,Oe),(z=li.prototype).addEventListener=function(_,W,fe,$e){li.S.addEventListener.call(this,_,W,fe,$e)},z.removeEventListener=function(_,W,fe,$e){li.S.removeEventListener.call(this,_,W,fe,$e)},z.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var _=this.a,W=this.l,fe=this.b||void 0;Er(0),_.fa=W,_.W=fe||{},_.H=_.T,_.B=No(_,null,_.fa),ci(_)},z.close=function(){In(this.a)},z.Pa=function(_){if("string"==typeof _){var W={};W.__data__=_,Vo(this.a,W)}else this.g?((W={}).__data__=Bt(_),Vo(this.a,W)):Vo(this.a,_)},z.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,li.S.G.call(this)},en(ps,mo),en(Kn,eo),en(ri,as),ri.prototype.ta=function(){this.a.dispatchEvent("a")},ri.prototype.sa=function(_){this.a.dispatchEvent(new ps(_))},ri.prototype.ra=function(_){this.a.dispatchEvent(new Kn(_))},ri.prototype.qa=function(){this.a.dispatchEvent("b")},Ws.prototype.createWebChannel=Ws.prototype.a,li.prototype.send=li.prototype.Pa,li.prototype.open=li.prototype.Oa,li.prototype.close=li.prototype.close,Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Ri.COMPLETE="complete",Wi.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.va,$r.prototype.listenOnce=$r.prototype.wa,$r.prototype.getLastError=$r.prototype.Qa,$r.prototype.getLastErrorCode=$r.prototype.ua,$r.prototype.getStatus=$r.prototype.X,$r.prototype.getResponseJson=$r.prototype.Na,$r.prototype.getResponseText=$r.prototype.$,$r.prototype.send=$r.prototype.ba;var ms={createWebChannelTransport:function(){return new Ws},ErrorCode:Dr,EventType:Ri,WebChannel:Wi,XhrIo:$r},gs=ms.createWebChannelTransport,fo=ms.ErrorCode,xo=ms.EventType,zo=ms.WebChannel,ls=ms.XhrIo;const Vi=ms},46176:(Nn,nt,F)=>{"use strict";F.d(nt,{e:()=>Xe});var y=F(80529),T=F(54004),Y=F(92340),Pe=F(94650),z=F(89299);let Xe=(()=>{class ee{constructor(oe,$){this.http=oe,this.router=$}saveUserData(oe){localStorage.setItem("user",JSON.stringify(oe))}setToken(oe){localStorage.setItem("token",JSON.stringify(oe))}setusersMe(oe){localStorage.setItem("usersMe ",JSON.stringify(oe))}getToken(){return localStorage.getItem("token")}getCountries(oe){let $=new y.LE;return oe&&Object.entries(oe).forEach(([Me,Te])=>{$=$.set(Me,Te)}),this.http.get(`${Y.N.baseUrl}Lookups/GetCountries`,{params:$}).pipe((0,T.U)(Me=>Me.data))}logout(){localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("usersMe"),localStorage.removeItem("permissions"),this.router.navigate(["./login"])}POST(oe,$){return this.http.post(oe,$)}login(oe){return this.http.post(Y.N.baseUrl+"Authentication/SignIn",oe)}requestResetPassword(oe){return this.http.post(Y.N.baseUrl+"Authentication/SignIn",oe)}signup(oe){return this.http.post(Y.N.baseUrl+"Authentication/RequestResetPassword",oe)}ResetPassword(oe){return this.http.post(Y.N.baseUrl+"Authentication/ResetPassword",oe)}static#e=this.\u0275fac=function($){return new($||ee)(Pe.LFG(y.eN),Pe.LFG(z.F0))};static#t=this.\u0275prov=Pe.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},19390:(Nn,nt,F)=>{"use strict";F.d(nt,{a:()=>Pe});var y=F(94650),T=F(85657),Y=F(89299);let Pe=(()=>{class z{constructor(ee,Ge){this.cookieService=ee,this.router=Ge}canActivate(ee,Ge){return!!localStorage.getItem("token")||(this.router.navigateByUrl("/login"),!1)}static#e=this.\u0275fac=function(Ge){return new(Ge||z)(y.LFG(T.N),y.LFG(Y.F0))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},89077:(Nn,nt,F)=>{"use strict";F.d(nt,{K:()=>Xe});var y=F(15861),T=F(6175),Y=F.n(T),Pe=F(69751),z=F(94650);let Xe=(()=>{class ee{constructor(){var oe=this;this.requestPermission=()=>new Promise(function(){var $=(0,y.Z)(function*(Me,Te){"granted"===(yield Notification.requestPermission())?Me(yield oe.messagingFirebase.getToken()):Te(new Error("No se otorgaron los permisos"))});return function(Me,Te){return $.apply(this,arguments)}}()),this.messaginObservable=new Pe.y($=>{this.messagingFirebase.onMessage(Me=>{$.next(Me)})}),Y().initializeApp({apiKey:"AIzaSyCNr7nAJOZJW0YDBTanTXnH_xVnlnMDAPI",authDomain:"dawem-5361a.firebaseapp.com",projectId:"dawem-5361a",storageBucket:"dawem-5361a.appspot.com",messagingSenderId:"920034014025",appId:"1:920034014025:web:18bb00d19266b668b1a098",measurementId:"G-VE6JQS06RC"}),this.messagingFirebase=Y().messaging()}receiveMessageTwo(){this.messagingFirebase.onMessage(oe=>{console.log(oe)})}receiveMessage(){return this.messaginObservable}static#e=this.\u0275fac=function($){return new($||ee)};static#t=this.\u0275prov=z.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},92340:(Nn,nt,F)=>{"use strict";F.d(nt,{N:()=>y});const y={production:!0,baseUrl:"https://stageapi.dawem.app/api/",firebase:{apiKey:"AIzaSyCNr7nAJOZJW0YDBTanTXnH_xVnlnMDAPI",authDomain:"dawem-5361a.firebaseapp.com",projectId:"dawem-5361a",storageBucket:"dawem-5361a.appspot.com",messagingSenderId:"920034014025",appId:"1:920034014025:web:18bb00d19266b668b1a098",measurementId:"G-VE6JQS06RC",vapidKey:"JCV7S622HY"}}},50336:(Nn,nt,F)=>{"use strict";var y=F(11481),T=F(94650),Y=F(80529),Pe=F(89299),z=F(19390);const Ge=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",loadChildren:()=>Promise.all([F.e(4466),F.e(7656),F.e(7797)]).then(F.bind(F,37797)).then(L=>L.AuthModule),canActivate:[(()=>{class L{constructor(E){this.router=E}canActivate(E,O){return!localStorage.getItem("token")||(this.router.navigateByUrl("/user/dashboard"),!1)}static#e=this.\u0275fac=function(O){return new(O||L)(T.LFG(Pe.F0))};static#t=this.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()]},{path:"user",loadChildren:()=>Promise.all([F.e(7656),F.e(445)]).then(F.bind(F,70445)).then(L=>L.UserModule),canActivate:[z.a]},{path:"notPermission",component:(()=>{class L{static#e=this.\u0275fac=function(O){return new(O||L)};static#t=this.\u0275cmp=T.Xpm({type:L,selectors:[["app-not-permission"]],decls:3,vars:0,consts:[[1,"notPermission"]],template:function(O,re){1&O&&(T.TgZ(0,"div",0)(1,"p"),T._uU(2,"You don't have permission to access this content."),T.qZA()())},styles:[".notPermission[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.notPermission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10%;background-color:red;font-size:18px;color:#fff}"]})}return L})()}];let oe=(()=>{class L{static#e=this.\u0275fac=function(O){return new(O||L)};static#t=this.\u0275mod=T.oAB({type:L});static#n=this.\u0275inj=T.cJS({imports:[Pe.Bz.forRoot(Ge,{useHash:!0}),Pe.Bz]})}return L})();var $=F(76188),Me=F(89077);let Te=(()=>{class L{constructor(E,O){this.translate=E,this.notificacion=O,this.currentLang=localStorage.getItem("lang"),this.mesaggeReceived="",document.documentElement.setAttribute("lang","ar"),E.setDefaultLang("ar"),this.translate.use("ar")}receiveMessages(){}ngOnInit(){this.notificacion.receiveMessage().subscribe(E=>{console.log(E),this.mesaggeReceived=E.notification.title})}requestPermission(){}listen(){}static#e=this.\u0275fac=function(O){return new(O||L)(T.Y36($.sK),T.Y36(Me.K))};static#t=this.\u0275cmp=T.Xpm({type:L,selectors:[["app-root"]],decls:1,vars:0,template:function(O,re){1&O&&T._UZ(0,"router-outlet")},dependencies:[Pe.lC]})}return L})();var De=F(37340);function Zt(L){return new T.vHH(3e3,!1)}function xn(){return typeof window<"u"&&typeof window.document<"u"}function $n(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zn(L){switch(L.length){case 0:return new De.ZN;case 1:return L[0];default:return new De.ZE(L)}}function On(L,S,E,O,re=new Map,be=new Map){const yt=[],Ct=[];let an=-1,Sn=null;if(O.forEach(bn=>{const er=bn.get("offset"),Sr=er==an,Gr=Sr&&Sn||new Map;bn.forEach((kr,Vr)=>{let Oi=Vr,ji=kr;if("offset"!==Vr)switch(Oi=S.normalizePropertyName(Oi,yt),ji){case De.k1:ji=re.get(Vr);break;case De.l3:ji=be.get(Vr);break;default:ji=S.normalizeStyleValue(Vr,Oi,ji,yt)}Gr.set(Oi,ji)}),Sr||Ct.push(Gr),Sn=Gr,an=er}),yt.length)throw function ie(L){return new T.vHH(3502,!1)}();return Ct}function br(L,S,E,O){switch(S){case"start":L.onStart(()=>O(E&&hn(E,"start",L)));break;case"done":L.onDone(()=>O(E&&hn(E,"done",L)));break;case"destroy":L.onDestroy(()=>O(E&&hn(E,"destroy",L)))}}function hn(L,S,E){const be=Fe(L.element,L.triggerName,L.fromState,L.toState,S||L.phaseName,E.totalTime??L.totalTime,!!E.disabled),yt=L._data;return null!=yt&&(be._data=yt),be}function Fe(L,S,E,O,re="",be=0,yt){return{element:L,triggerName:S,fromState:E,toState:O,phaseName:re,totalTime:be,disabled:!!yt}}function dt(L,S,E){let O=L.get(S);return O||L.set(S,O=E),O}function Yt(L){const S=L.indexOf(":");return[L.substring(1,S),L.slice(S+1)]}let Qt=(L,S)=>!1,gn=(L,S,E)=>[],ot=null;function Se(L){const S=L.parentNode||L.host;return S===ot?null:S}($n()||typeof Element<"u")&&(xn()?(ot=(()=>document.documentElement)(),Qt=(L,S)=>{for(;S;){if(S===L)return!0;S=Se(S)}return!1}):Qt=(L,S)=>L.contains(S),gn=(L,S,E)=>{if(E)return Array.from(L.querySelectorAll(S));const O=L.querySelector(S);return O?[O]:[]});let ct=null,wn=!1;const kn=Qt,Jn=gn;let cn=(()=>{class L{validateStyleProperty(E){return function An(L){ct||(ct=function Rn(){return typeof document<"u"?document.body:null}()||{},wn=!!ct.style&&"WebkitAppearance"in ct.style);let S=!0;return ct.style&&!function Nt(L){return"ebkit"==L.substring(1,6)}(L)&&(S=L in ct.style,!S&&wn&&(S="Webkit"+L.charAt(0).toUpperCase()+L.slice(1)in ct.style)),S}(E)}matchesElement(E,O){return!1}containsElement(E,O){return kn(E,O)}getParentElement(E){return Se(E)}query(E,O,re){return Jn(E,O,re)}computeStyle(E,O,re){return re||""}animate(E,O,re,be,yt,Ct=[],an){return new De.ZN(re,be)}}return L.\u0275fac=function(E){return new(E||L)},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac}),L})(),Pt=(()=>{class L{}return L.NOOP=new cn,L})();const Vt=1e3,le="ng-enter",tt="ng-leave",St="ng-trigger",vn=".ng-trigger",Oe="ng-animating",It=".ng-animating";function Bt(L){if("number"==typeof L)return L;const S=L.match(/^(-?[\.\d]+)(m?s)/);return!S||S.length<2?0:ln(parseFloat(S[1]),S[2])}function ln(L,S){return"s"===S?L*Vt:L}function qt(L,S,E){return L.hasOwnProperty("duration")?L:function st(L,S,E){let re,be=0,yt="";if("string"==typeof L){const Ct=L.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ct)return S.push(Zt()),{duration:0,delay:0,easing:""};re=ln(parseFloat(Ct[1]),Ct[2]);const an=Ct[3];null!=an&&(be=ln(parseFloat(an),Ct[4]));const Sn=Ct[5];Sn&&(yt=Sn)}else re=L;if(!E){let Ct=!1,an=S.length;re<0&&(S.push(function zt(){return new T.vHH(3100,!1)}()),Ct=!0),be<0&&(S.push(function we(){return new T.vHH(3101,!1)}()),Ct=!0),Ct&&S.splice(an,0,Zt())}return{duration:re,delay:be,easing:yt}}(L,S,E)}function rt(L,S={}){return Object.keys(L).forEach(E=>{S[E]=L[E]}),S}function Ie(L){const S=new Map;return Object.keys(L).forEach(E=>{S.set(E,L[E])}),S}function pn(L,S=new Map,E){if(E)for(let[O,re]of E)S.set(O,re);for(let[O,re]of L)S.set(O,re);return S}function Qn(L,S,E){return E?S+":"+E+";":""}function Cn(L){let S="";for(let E=0;E<L.style.length;E++){const O=L.style.item(E);S+=Qn(0,O,L.style.getPropertyValue(O))}for(const E in L.style)L.style.hasOwnProperty(E)&&!E.startsWith("_")&&(S+=Qn(0,gt(E),L.style[E]));L.setAttribute("style",S)}function lr(L,S,E){L.style&&(S.forEach((O,re)=>{const be=qe(re);E&&!E.has(re)&&E.set(re,L.style[be]),L.style[be]=O}),$n()&&Cn(L))}function ei(L,S){L.style&&(S.forEach((E,O)=>{const re=qe(O);L.style[re]=""}),$n()&&Cn(L))}function it(L){return Array.isArray(L)?1==L.length?L[0]:(0,De.vP)(L):L}const Tt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gt(L){let S=[];if("string"==typeof L){let E;for(;E=Tt.exec(L);)S.push(E[1]);Tt.lastIndex=0}return S}function Re(L,S,E){const O=L.toString(),re=O.replace(Tt,(be,yt)=>{let Ct=S[yt];return null==Ct&&(E.push(function vt(L){return new T.vHH(3003,!1)}()),Ct=""),Ct.toString()});return re==O?L:re}function q(L){const S=[];let E=L.next();for(;!E.done;)S.push(E.value),E=L.next();return S}const _e=/-+([a-z0-9])/g;function qe(L){return L.replace(_e,(...S)=>S[1].toUpperCase())}function gt(L){return L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mn(L,S,E){switch(S.type){case 7:return L.visitTrigger(S,E);case 0:return L.visitState(S,E);case 1:return L.visitTransition(S,E);case 2:return L.visitSequence(S,E);case 3:return L.visitGroup(S,E);case 4:return L.visitAnimate(S,E);case 5:return L.visitKeyframes(S,E);case 6:return L.visitStyle(S,E);case 8:return L.visitReference(S,E);case 9:return L.visitAnimateChild(S,E);case 10:return L.visitAnimateRef(S,E);case 11:return L.visitQuery(S,E);case 12:return L.visitStagger(S,E);default:throw function en(L){return new T.vHH(3004,!1)}()}}function Wn(L,S){return window.getComputedStyle(L)[S]}const vi="*";function ai(L,S){const E=[];return"string"==typeof L?L.split(/\s*,\s*/).forEach(O=>function Dr(L,S,E){if(":"==L[0]){const an=function Ri(L,S){switch(L){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,O)=>parseFloat(O)>parseFloat(E);case":decrement":return(E,O)=>parseFloat(O)<parseFloat(E);default:return S.push(function ut(L){return new T.vHH(3016,!1)}()),"* => *"}}(L,E);if("function"==typeof an)return void S.push(an);L=an}const O=L.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return E.push(function He(L){return new T.vHH(3015,!1)}()),S;const re=O[1],be=O[2],yt=O[3];S.push(Wi(re,yt));"<"==be[0]&&!(re==vi&&yt==vi)&&S.push(Wi(yt,re))}(O,E,S)):E.push(L),E}const Ni=new Set(["true","1"]),Mr=new Set(["false","0"]);function Wi(L,S){const E=Ni.has(L)||Mr.has(L),O=Ni.has(S)||Mr.has(S);return(re,be)=>{let yt=L==vi||L==re,Ct=S==vi||S==be;return!yt&&E&&"boolean"==typeof re&&(yt=re?Ni.has(L):Mr.has(L)),!Ct&&O&&"boolean"==typeof be&&(Ct=be?Ni.has(S):Mr.has(S)),yt&&Ct}}const mo=new RegExp("s*:selfs*,?","g");function eo(L,S,E,O){return new Ro(L).build(S,E,O)}class Ro{constructor(S){this._driver=S}build(S,E,O){const re=new pe(E);return this._resetContextStyleTimingState(re),Mn(this,it(S),re)}_resetContextStyleTimingState(S){S.currentQuerySelector="",S.collectedStyles=new Map,S.collectedStyles.set("",new Map),S.currentTime=0}visitTrigger(S,E){let O=E.queryCount=0,re=E.depCount=0;const be=[],yt=[];return"@"==S.name.charAt(0)&&E.errors.push(function je(){return new T.vHH(3006,!1)}()),S.definitions.forEach(Ct=>{if(this._resetContextStyleTimingState(E),0==Ct.type){const an=Ct,Sn=an.name;Sn.toString().split(/\s*,\s*/).forEach(bn=>{an.name=bn,be.push(this.visitState(an,E))}),an.name=Sn}else if(1==Ct.type){const an=this.visitTransition(Ct,E);O+=an.queryCount,re+=an.depCount,yt.push(an)}else E.errors.push(function ke(){return new T.vHH(3007,!1)}())}),{type:7,name:S.name,states:be,transitions:yt,queryCount:O,depCount:re,options:null}}visitState(S,E){const O=this.visitStyle(S.styles,E),re=S.options&&S.options.params||null;if(O.containsDynamicStyles){const be=new Set,yt=re||{};O.styles.forEach(Ct=>{Ct instanceof Map&&Ct.forEach(an=>{Gt(an).forEach(Sn=>{yt.hasOwnProperty(Sn)||be.add(Sn)})})}),be.size&&(q(be.values()),E.errors.push(function et(L,S){return new T.vHH(3008,!1)}()))}return{type:0,name:S.name,style:O,options:re?{params:re}:null}}visitTransition(S,E){E.queryCount=0,E.depCount=0;const O=Mn(this,it(S.animation),E);return{type:1,matchers:ai(S.expr,E.errors),animation:O,queryCount:E.queryCount,depCount:E.depCount,options:Qe(S.options)}}visitSequence(S,E){return{type:2,steps:S.steps.map(O=>Mn(this,O,E)),options:Qe(S.options)}}visitGroup(S,E){const O=E.currentTime;let re=0;const be=S.steps.map(yt=>{E.currentTime=O;const Ct=Mn(this,yt,E);return re=Math.max(re,E.currentTime),Ct});return E.currentTime=re,{type:3,steps:be,options:Qe(S.options)}}visitAnimate(S,E){const O=function ye(L,S){if(L.hasOwnProperty("duration"))return L;if("number"==typeof L)return on(qt(L,S).duration,0,"");const E=L;if(E.split(/\s+/).some(be=>"{"==be.charAt(0)&&"{"==be.charAt(1))){const be=on(0,0,"");return be.dynamic=!0,be.strValue=E,be}const re=qt(E,S);return on(re.duration,re.delay,re.easing)}(S.timings,E.errors);E.currentAnimateTimings=O;let re,be=S.styles?S.styles:(0,De.oB)({});if(5==be.type)re=this.visitKeyframes(be,E);else{let yt=S.styles,Ct=!1;if(!yt){Ct=!0;const Sn={};O.easing&&(Sn.easing=O.easing),yt=(0,De.oB)(Sn)}E.currentTime+=O.duration+O.delay;const an=this.visitStyle(yt,E);an.isEmptyStep=Ct,re=an}return E.currentAnimateTimings=null,{type:4,timings:O,style:re,options:null}}visitStyle(S,E){const O=this._makeStyleAst(S,E);return this._validateStyleAst(O,E),O}_makeStyleAst(S,E){const O=[],re=Array.isArray(S.styles)?S.styles:[S.styles];for(let Ct of re)"string"==typeof Ct?Ct===De.l3?O.push(Ct):E.errors.push(new T.vHH(3002,!1)):O.push(Ie(Ct));let be=!1,yt=null;return O.forEach(Ct=>{if(Ct instanceof Map&&(Ct.has("easing")&&(yt=Ct.get("easing"),Ct.delete("easing")),!be))for(let an of Ct.values())if(an.toString().indexOf("{{")>=0){be=!0;break}}),{type:6,styles:O,easing:yt,offset:S.offset,containsDynamicStyles:be,options:null}}_validateStyleAst(S,E){const O=E.currentAnimateTimings;let re=E.currentTime,be=E.currentTime;O&&be>0&&(be-=O.duration+O.delay),S.styles.forEach(yt=>{"string"!=typeof yt&&yt.forEach((Ct,an)=>{const Sn=E.collectedStyles.get(E.currentQuerySelector),bn=Sn.get(an);let er=!0;bn&&(be!=re&&be>=bn.startTime&&re<=bn.endTime&&(E.errors.push(function D(L,S,E,O,re){return new T.vHH(3010,!1)}()),er=!1),be=bn.startTime),er&&Sn.set(an,{startTime:be,endTime:re}),E.options&&function pt(L,S,E){const O=S.params||{},re=Gt(L);re.length&&re.forEach(be=>{O.hasOwnProperty(be)||E.push(function Rt(L){return new T.vHH(3001,!1)}())})}(Ct,E.options,E.errors)})})}visitKeyframes(S,E){const O={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function G(){return new T.vHH(3011,!1)}()),O;let be=0;const yt=[];let Ct=!1,an=!1,Sn=0;const bn=S.steps.map(ji=>{const Fo=this._makeStyleAst(ji,E);let no=null!=Fo.offset?Fo.offset:function j(L){if("string"==typeof L)return null;let S=null;if(Array.isArray(L))L.forEach(E=>{if(E instanceof Map&&E.has("offset")){const O=E;S=parseFloat(O.get("offset")),O.delete("offset")}});else if(L instanceof Map&&L.has("offset")){const E=L;S=parseFloat(E.get("offset")),E.delete("offset")}return S}(Fo.styles),Hi=0;return null!=no&&(be++,Hi=Fo.offset=no),an=an||Hi<0||Hi>1,Ct=Ct||Hi<Sn,Sn=Hi,yt.push(Hi),Fo});an&&E.errors.push(function J(){return new T.vHH(3012,!1)}()),Ct&&E.errors.push(function N(){return new T.vHH(3200,!1)}());const er=S.steps.length;let Sr=0;be>0&&be<er?E.errors.push(function ge(){return new T.vHH(3202,!1)}()):0==be&&(Sr=1/(er-1));const Gr=er-1,kr=E.currentTime,Vr=E.currentAnimateTimings,Oi=Vr.duration;return bn.forEach((ji,Fo)=>{const no=Sr>0?Fo==Gr?1:Sr*Fo:yt[Fo],Hi=no*Oi;E.currentTime=kr+Vr.delay+Hi,Vr.duration=Hi,this._validateStyleAst(ji,E),ji.offset=no,O.styles.push(ji)}),O}visitReference(S,E){return{type:8,animation:Mn(this,it(S.animation),E),options:Qe(S.options)}}visitAnimateChild(S,E){return E.depCount++,{type:9,options:Qe(S.options)}}visitAnimateRef(S,E){return{type:10,animation:this.visitReference(S.animation,E),options:Qe(S.options)}}visitQuery(S,E){const O=E.currentQuerySelector,re=S.options||{};E.queryCount++,E.currentQuery=S;const[be,yt]=function Gi(L){const S=!!L.split(/\s*,\s*/).find(E=>":self"==E);return S&&(L=L.replace(mo,"")),L=L.replace(/@\*/g,vn).replace(/@\w+/g,E=>vn+"-"+E.slice(1)).replace(/:animating/g,It),[L,S]}(S.selector);E.currentQuerySelector=O.length?O+" "+be:be,dt(E.collectedStyles,E.currentQuerySelector,new Map);const Ct=Mn(this,it(S.animation),E);return E.currentQuery=null,E.currentQuerySelector=O,{type:11,selector:be,limit:re.limit||0,optional:!!re.optional,includeSelf:yt,animation:Ct,originalSelector:S.selector,options:Qe(S.options)}}visitStagger(S,E){E.currentQuery||E.errors.push(function Ke(){return new T.vHH(3013,!1)}());const O="full"===S.timings?{duration:0,delay:0,easing:"full"}:qt(S.timings,E.errors,!0);return{type:12,animation:Mn(this,it(S.animation),E),timings:O,options:null}}}class pe{constructor(S){this.errors=S,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qe(L){return L?(L=rt(L)).params&&(L.params=function ze(L){return L?rt(L):null}(L.params)):L={},L}function on(L,S,E){return{duration:L,delay:S,easing:E}}function Gn(L,S,E,O,re,be,yt=null,Ct=!1){return{type:1,element:L,keyframes:S,preStyleProps:E,postStyleProps:O,duration:re,delay:be,totalTime:re+be,easing:yt,subTimeline:Ct}}class rr{constructor(){this._map=new Map}get(S){return this._map.get(S)||[]}append(S,E){let O=this._map.get(S);O||this._map.set(S,O=[]),O.push(...E)}has(S){return this._map.has(S)}clear(){this._map.clear()}}const vr=new RegExp(":enter","g"),or=new RegExp(":leave","g");function Ii(L,S,E,O,re,be=new Map,yt=new Map,Ct,an,Sn=[]){return(new io).buildKeyframes(L,S,E,O,re,be,yt,Ct,an,Sn)}class io{buildKeyframes(S,E,O,re,be,yt,Ct,an,Sn,bn=[]){Sn=Sn||new rr;const er=new Li(S,E,Sn,re,be,bn,[]);er.options=an;const Sr=an.delay?Bt(an.delay):0;er.currentTimeline.delayNextStep(Sr),er.currentTimeline.setStyles([yt],null,er.errors,an),Mn(this,O,er);const Gr=er.timelines.filter(kr=>kr.containsAnimation());if(Gr.length&&Ct.size){let kr;for(let Vr=Gr.length-1;Vr>=0;Vr--){const Oi=Gr[Vr];if(Oi.element===E){kr=Oi;break}}kr&&!kr.allowOnlyTimelineStyles()&&kr.setStyles([Ct],null,er.errors,an)}return Gr.length?Gr.map(kr=>kr.buildKeyframes()):[Gn(E,[],[],[],0,Sr,"",!1)]}visitTrigger(S,E){}visitState(S,E){}visitTransition(S,E){}visitAnimateChild(S,E){const O=E.subInstructions.get(E.element);if(O){const re=E.createSubContext(S.options),be=E.currentTimeline.currentTime,yt=this._visitSubInstructions(O,re,re.options);be!=yt&&E.transformIntoNewTimeline(yt)}E.previousNode=S}visitAnimateRef(S,E){const O=E.createSubContext(S.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([S.options,S.animation.options],E,O),this.visitReference(S.animation,O),E.transformIntoNewTimeline(O.currentTimeline.currentTime),E.previousNode=S}_applyAnimationRefDelays(S,E,O){for(const re of S){const be=re?.delay;if(be){const yt="number"==typeof be?be:Bt(Re(be,re?.params??{},E.errors));O.delayNextStep(yt)}}}_visitSubInstructions(S,E,O){let be=E.currentTimeline.currentTime;const yt=null!=O.duration?Bt(O.duration):null,Ct=null!=O.delay?Bt(O.delay):null;return 0!==yt&&S.forEach(an=>{const Sn=E.appendInstructionToTimeline(an,yt,Ct);be=Math.max(be,Sn.duration+Sn.delay)}),be}visitReference(S,E){E.updateOptions(S.options,!0),Mn(this,S.animation,E),E.previousNode=S}visitSequence(S,E){const O=E.subContextCount;let re=E;const be=S.options;if(be&&(be.params||be.delay)&&(re=E.createSubContext(be),re.transformIntoNewTimeline(),null!=be.delay)){6==re.previousNode.type&&(re.currentTimeline.snapshotCurrentStyles(),re.previousNode=Ei);const yt=Bt(be.delay);re.delayNextStep(yt)}S.steps.length&&(S.steps.forEach(yt=>Mn(this,yt,re)),re.currentTimeline.applyStylesToKeyframe(),re.subContextCount>O&&re.transformIntoNewTimeline()),E.previousNode=S}visitGroup(S,E){const O=[];let re=E.currentTimeline.currentTime;const be=S.options&&S.options.delay?Bt(S.options.delay):0;S.steps.forEach(yt=>{const Ct=E.createSubContext(S.options);be&&Ct.delayNextStep(be),Mn(this,yt,Ct),re=Math.max(re,Ct.currentTimeline.currentTime),O.push(Ct.currentTimeline)}),O.forEach(yt=>E.currentTimeline.mergeTimelineCollectedStyles(yt)),E.transformIntoNewTimeline(re),E.previousNode=S}_visitTiming(S,E){if(S.dynamic){const O=S.strValue;return qt(E.params?Re(O,E.params,E.errors):O,E.errors)}return{duration:S.duration,delay:S.delay,easing:S.easing}}visitAnimate(S,E){const O=E.currentAnimateTimings=this._visitTiming(S.timings,E),re=E.currentTimeline;O.delay&&(E.incrementTime(O.delay),re.snapshotCurrentStyles());const be=S.style;5==be.type?this.visitKeyframes(be,E):(E.incrementTime(O.duration),this.visitStyle(be,E),re.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=S}visitStyle(S,E){const O=E.currentTimeline,re=E.currentAnimateTimings;!re&&O.hasCurrentStyleProperties()&&O.forwardFrame();const be=re&&re.easing||S.easing;S.isEmptyStep?O.applyEmptyStep(be):O.setStyles(S.styles,be,E.errors,E.options),E.previousNode=S}visitKeyframes(S,E){const O=E.currentAnimateTimings,re=E.currentTimeline.duration,be=O.duration,Ct=E.createSubContext().currentTimeline;Ct.easing=O.easing,S.styles.forEach(an=>{Ct.forwardTime((an.offset||0)*be),Ct.setStyles(an.styles,an.easing,E.errors,E.options),Ct.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(Ct),E.transformIntoNewTimeline(re+be),E.previousNode=S}visitQuery(S,E){const O=E.currentTimeline.currentTime,re=S.options||{},be=re.delay?Bt(re.delay):0;be&&(6===E.previousNode.type||0==O&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Ei);let yt=O;const Ct=E.invokeQuery(S.selector,S.originalSelector,S.limit,S.includeSelf,!!re.optional,E.errors);E.currentQueryTotal=Ct.length;let an=null;Ct.forEach((Sn,bn)=>{E.currentQueryIndex=bn;const er=E.createSubContext(S.options,Sn);be&&er.delayNextStep(be),Sn===E.element&&(an=er.currentTimeline),Mn(this,S.animation,er),er.currentTimeline.applyStylesToKeyframe(),yt=Math.max(yt,er.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(yt),an&&(E.currentTimeline.mergeTimelineCollectedStyles(an),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=S}visitStagger(S,E){const O=E.parentContext,re=E.currentTimeline,be=S.timings,yt=Math.abs(be.duration),Ct=yt*(E.currentQueryTotal-1);let an=yt*E.currentQueryIndex;switch(be.duration<0?"reverse":be.easing){case"reverse":an=Ct-an;break;case"full":an=O.currentStaggerTime}const bn=E.currentTimeline;an&&bn.delayNextStep(an);const er=bn.currentTime;Mn(this,S.animation,E),E.previousNode=S,O.currentStaggerTime=re.currentTime-er+(re.startTime-O.currentTimeline.startTime)}}const Ei={};class Li{constructor(S,E,O,re,be,yt,Ct,an){this._driver=S,this.element=E,this.subInstructions=O,this._enterClassName=re,this._leaveClassName=be,this.errors=yt,this.timelines=Ct,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ei,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=an||new Pi(this._driver,E,0),Ct.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(S,E){if(!S)return;const O=S;let re=this.options;null!=O.duration&&(re.duration=Bt(O.duration)),null!=O.delay&&(re.delay=Bt(O.delay));const be=O.params;if(be){let yt=re.params;yt||(yt=this.options.params={}),Object.keys(be).forEach(Ct=>{(!E||!yt.hasOwnProperty(Ct))&&(yt[Ct]=Re(be[Ct],yt,this.errors))})}}_copyOptions(){const S={};if(this.options){const E=this.options.params;if(E){const O=S.params={};Object.keys(E).forEach(re=>{O[re]=E[re]})}}return S}createSubContext(S=null,E,O){const re=E||this.element,be=new Li(this._driver,re,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(re,O||0));return be.previousNode=this.previousNode,be.currentAnimateTimings=this.currentAnimateTimings,be.options=this._copyOptions(),be.updateOptions(S),be.currentQueryIndex=this.currentQueryIndex,be.currentQueryTotal=this.currentQueryTotal,be.parentContext=this,this.subContextCount++,be}transformIntoNewTimeline(S){return this.previousNode=Ei,this.currentTimeline=this.currentTimeline.fork(this.element,S),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(S,E,O){const re={duration:E??S.duration,delay:this.currentTimeline.currentTime+(O??0)+S.delay,easing:""},be=new Hr(this._driver,S.element,S.keyframes,S.preStyleProps,S.postStyleProps,re,S.stretchStartingKeyframe);return this.timelines.push(be),re}incrementTime(S){this.currentTimeline.forwardTime(this.currentTimeline.duration+S)}delayNextStep(S){S>0&&this.currentTimeline.delayNextStep(S)}invokeQuery(S,E,O,re,be,yt){let Ct=[];if(re&&Ct.push(this.element),S.length>0){S=(S=S.replace(vr,"."+this._enterClassName)).replace(or,"."+this._leaveClassName);let Sn=this._driver.query(this.element,S,1!=O);0!==O&&(Sn=O<0?Sn.slice(Sn.length+O,Sn.length):Sn.slice(0,O)),Ct.push(...Sn)}return!be&&0==Ct.length&&yt.push(function Tn(L){return new T.vHH(3014,!1)}()),Ct}}class Pi{constructor(S,E,O,re){this._driver=S,this.element=E,this.startTime=O,this._elementTimelineStylesLookup=re,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(S){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+S),E&&this.snapshotCurrentStyles()):this.startTime+=S}fork(S,E){return this.applyStylesToKeyframe(),new Pi(this._driver,S,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(S){this.applyStylesToKeyframe(),this.duration=S,this._loadKeyframe()}_updateStyle(S,E){this._localTimelineStyles.set(S,E),this._globalTimelineStyles.set(S,E),this._styleSummary.set(S,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(S){S&&this._previousKeyframe.set("easing",S);for(let[E,O]of this._globalTimelineStyles)this._backFill.set(E,O||De.l3),this._currentKeyframe.set(E,De.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(S,E,O,re){E&&this._previousKeyframe.set("easing",E);const be=re&&re.params||{},yt=function Qi(L,S){const E=new Map;let O;return L.forEach(re=>{if("*"===re){O=O||S.keys();for(let be of O)E.set(be,De.l3)}else pn(re,E)}),E}(S,this._globalTimelineStyles);for(let[Ct,an]of yt){const Sn=Re(an,be,O);this._pendingStyles.set(Ct,Sn),this._localTimelineStyles.has(Ct)||this._backFill.set(Ct,this._globalTimelineStyles.get(Ct)??De.l3),this._updateStyle(Ct,Sn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((S,E)=>{this._currentKeyframe.set(E,S)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((S,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,S)}))}snapshotCurrentStyles(){for(let[S,E]of this._localTimelineStyles)this._pendingStyles.set(S,E),this._updateStyle(S,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const S=[];for(let E in this._currentKeyframe)S.push(E);return S}mergeTimelineCollectedStyles(S){S._styleSummary.forEach((E,O)=>{const re=this._styleSummary.get(O);(!re||E.time>re.time)&&this._updateStyle(O,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const S=new Set,E=new Set,O=1===this._keyframes.size&&0===this.duration;let re=[];this._keyframes.forEach((Ct,an)=>{const Sn=pn(Ct,new Map,this._backFill);Sn.forEach((bn,er)=>{bn===De.k1?S.add(er):bn===De.l3&&E.add(er)}),O||Sn.set("offset",an/this.duration),re.push(Sn)});const be=S.size?q(S.values()):[],yt=E.size?q(E.values()):[];if(O){const Ct=re[0],an=new Map(Ct);Ct.set("offset",0),an.set("offset",1),re=[Ct,an]}return Gn(this.element,re,be,yt,this.duration,this.startTime,this.easing,!1)}}class Hr extends Pi{constructor(S,E,O,re,be,yt,Ct=!1){super(S,E,yt.delay),this.keyframes=O,this.preStyleProps=re,this.postStyleProps=be,this._stretchStartingKeyframe=Ct,this.timings={duration:yt.duration,delay:yt.delay,easing:yt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let S=this.keyframes,{delay:E,duration:O,easing:re}=this.timings;if(this._stretchStartingKeyframe&&E){const be=[],yt=O+E,Ct=E/yt,an=pn(S[0]);an.set("offset",0),be.push(an);const Sn=pn(S[0]);Sn.set("offset",Co(Ct)),be.push(Sn);const bn=S.length-1;for(let er=1;er<=bn;er++){let Sr=pn(S[er]);const Gr=Sr.get("offset");Sr.set("offset",Co((E+Gr*O)/yt)),be.push(Sr)}O=yt,E=0,re="",S=be}return Gn(this.element,S,this.preStyleProps,this.postStyleProps,O,E,re,!0)}}function Co(L,S=3){const E=Math.pow(10,S-1);return Math.round(L*E)/E}class is{}const os=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Es extends is{normalizePropertyName(S,E){return qe(S)}normalizeStyleValue(S,E,O,re){let be="";const yt=O.toString().trim();if(os.has(E)&&0!==O&&"0"!==O)if("number"==typeof O)be="px";else{const Ct=O.match(/^[+-]?[\d\.]+([a-z]*)$/);Ct&&0==Ct[1].length&&re.push(function Ot(L,S){return new T.vHH(3005,!1)}())}return yt+be}}function di(L,S,E,O,re,be,yt,Ct,an,Sn,bn,er,Sr){return{type:0,element:L,triggerName:S,isRemovalTransition:re,fromState:E,fromStyles:be,toState:O,toStyles:yt,timelines:Ct,queriedElements:an,preStyleProps:Sn,postStyleProps:bn,totalTime:er,errors:Sr}}const Qo={};class So{constructor(S,E,O){this._triggerName=S,this.ast=E,this._stateStyles=O}match(S,E,O,re){return function lo(L,S,E,O,re){return L.some(be=>be(S,E,O,re))}(this.ast.matchers,S,E,O,re)}buildStyles(S,E,O){let re=this._stateStyles.get("*");return void 0!==S&&(re=this._stateStyles.get(S?.toString())||re),re?re.buildStyles(E,O):new Map}build(S,E,O,re,be,yt,Ct,an,Sn,bn){const er=[],Sr=this.ast.options&&this.ast.options.params||Qo,kr=this.buildStyles(O,Ct&&Ct.params||Qo,er),Vr=an&&an.params||Qo,Oi=this.buildStyles(re,Vr,er),ji=new Set,Fo=new Map,no=new Map,Hi="void"===re,Bs={params:se(Vr,Sr),delay:this.ast.options?.delay},ts=bn?[]:Ii(S,E,this.ast.animation,be,yt,kr,Oi,Bs,Sn,er);let qi=0;if(ts.forEach(po=>{qi=Math.max(po.duration+po.delay,qi)}),er.length)return di(E,this._triggerName,O,re,Hi,kr,Oi,[],[],Fo,no,qi,er);ts.forEach(po=>{const ns=po.element,Xs=dt(Fo,ns,new Set);po.preStyleProps.forEach(Rs=>Xs.add(Rs));const Os=dt(no,ns,new Set);po.postStyleProps.forEach(Rs=>Os.add(Rs)),ns!==E&&ji.add(ns)});const Ko=q(ji.values());return di(E,this._triggerName,O,re,Hi,kr,Oi,ts,Ko,Fo,no,qi)}}function se(L,S){const E=rt(S);for(const O in L)L.hasOwnProperty(O)&&null!=L[O]&&(E[O]=L[O]);return E}class ne{constructor(S,E,O){this.styles=S,this.defaultParams=E,this.normalizer=O}buildStyles(S,E){const O=new Map,re=rt(this.defaultParams);return Object.keys(S).forEach(be=>{const yt=S[be];null!==yt&&(re[be]=yt)}),this.styles.styles.forEach(be=>{"string"!=typeof be&&be.forEach((yt,Ct)=>{yt&&(yt=Re(yt,re,E));const an=this.normalizer.normalizePropertyName(Ct,E);yt=this.normalizer.normalizeStyleValue(Ct,an,yt,E),O.set(Ct,yt)})}),O}}class wt{constructor(S,E,O){this.name=S,this.ast=E,this._normalizer=O,this.transitionFactories=[],this.states=new Map,E.states.forEach(re=>{this.states.set(re.name,new ne(re.style,re.options&&re.options.params||{},O))}),Jt(this.states,"true","1"),Jt(this.states,"false","0"),E.transitions.forEach(re=>{this.transitionFactories.push(new So(S,re,this.states))}),this.fallbackTransition=function jt(L,S,E){return new So(L,{type:1,animation:{type:2,steps:[],options:null},matchers:[(yt,Ct)=>!0],options:null,queryCount:0,depCount:0},S)}(S,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(S,E,O,re){return this.transitionFactories.find(yt=>yt.match(S,E,O,re))||null}matchStyles(S,E,O){return this.fallbackTransition.buildStyles(S,E,O)}}function Jt(L,S,E){L.has(S)?L.has(E)||L.set(E,L.get(S)):L.has(E)&&L.set(S,L.get(E))}const En=new rr;class Un{constructor(S,E,O){this.bodyNode=S,this._driver=E,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(S,E){const O=[],re=[],be=eo(this._driver,E,O,re);if(O.length)throw function Le(L){return new T.vHH(3503,!1)}();this._animations.set(S,be)}_buildPlayer(S,E,O){const re=S.element,be=On(0,this._normalizer,0,S.keyframes,E,O);return this._driver.animate(re,be,S.duration,S.delay,S.easing,[],!0)}create(S,E,O={}){const re=[],be=this._animations.get(S);let yt;const Ct=new Map;if(be?(yt=Ii(this._driver,E,be,le,tt,new Map,new Map,O,En,re),yt.forEach(bn=>{const er=dt(Ct,bn.element,new Map);bn.postStyleProps.forEach(Sr=>er.set(Sr,null))})):(re.push(function Ue(){return new T.vHH(3300,!1)}()),yt=[]),re.length)throw function ht(L){return new T.vHH(3504,!1)}();Ct.forEach((bn,er)=>{bn.forEach((Sr,Gr)=>{bn.set(Gr,this._driver.computeStyle(er,Gr,De.l3))})});const Sn=zn(yt.map(bn=>{const er=Ct.get(bn.element);return this._buildPlayer(bn,new Map,er)}));return this._playersById.set(S,Sn),Sn.onDestroy(()=>this.destroy(S)),this.players.push(Sn),Sn}destroy(S){const E=this._getPlayer(S);E.destroy(),this._playersById.delete(S);const O=this.players.indexOf(E);O>=0&&this.players.splice(O,1)}_getPlayer(S){const E=this._playersById.get(S);if(!E)throw function Et(L){return new T.vHH(3301,!1)}();return E}listen(S,E,O,re){const be=Fe(E,"","","");return br(this._getPlayer(S),O,be,re),()=>{}}command(S,E,O,re){if("register"==O)return void this.register(S,re[0]);if("create"==O)return void this.create(S,E,re[0]||{});const be=this._getPlayer(S);switch(O){case"play":be.play();break;case"pause":be.pause();break;case"reset":be.reset();break;case"restart":be.restart();break;case"finish":be.finish();break;case"init":be.init();break;case"setPosition":be.setPosition(parseFloat(re[0]));break;case"destroy":this.destroy(S)}}}const Pn="ng-animate-queued",nr="ng-animate-disabled",Kr=[],Ai={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed";class yi{get params(){return this.options.params}constructor(S,E=""){this.namespaceId=E;const O=S&&S.hasOwnProperty("value");if(this.value=function Ui(L){return L??null}(O?S.value:S),O){const be=rt(S);delete be.value,this.options=be}else this.options={};this.options.params||(this.options.params={})}absorbOptions(S){const E=S.params;if(E){const O=this.options.params;Object.keys(E).forEach(re=>{null==O[re]&&(O[re]=E[re])})}}}const Ar="void",to=new yi(Ar);class uo{constructor(S,E,O){this.id=S,this.hostElement=E,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+S,ni(E,this._hostClassName)}listen(S,E,O,re){if(!this._triggers.has(E))throw function mn(L,S){return new T.vHH(3302,!1)}();if(null==O||0==O.length)throw function bt(L){return new T.vHH(3303,!1)}();if(!function Xo(L){return"start"==L||"done"==L}(O))throw function sn(L,S){return new T.vHH(3400,!1)}();const be=dt(this._elementListeners,S,[]),yt={name:E,phase:O,callback:re};be.push(yt);const Ct=dt(this._engine.statesByElement,S,new Map);return Ct.has(E)||(ni(S,St),ni(S,St+"-"+E),Ct.set(E,to)),()=>{this._engine.afterFlush(()=>{const an=be.indexOf(yt);an>=0&&be.splice(an,1),this._triggers.has(E)||Ct.delete(E)})}}register(S,E){return!this._triggers.has(S)&&(this._triggers.set(S,E),!0)}_getTrigger(S){const E=this._triggers.get(S);if(!E)throw function ft(L){return new T.vHH(3401,!1)}();return E}trigger(S,E,O,re=!0){const be=this._getTrigger(E),yt=new Ti(this.id,E,S);let Ct=this._engine.statesByElement.get(S);Ct||(ni(S,St),ni(S,St+"-"+E),this._engine.statesByElement.set(S,Ct=new Map));let an=Ct.get(E);const Sn=new yi(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&an&&Sn.absorbOptions(an.options),Ct.set(E,Sn),an||(an=to),Sn.value!==Ar&&an.value===Sn.value){if(!function Nr(L,S){const E=Object.keys(L),O=Object.keys(S);if(E.length!=O.length)return!1;for(let re=0;re<E.length;re++){const be=E[re];if(!S.hasOwnProperty(be)||L[be]!==S[be])return!1}return!0}(an.params,Sn.params)){const Vr=[],Oi=be.matchStyles(an.value,an.params,Vr),ji=be.matchStyles(Sn.value,Sn.params,Vr);Vr.length?this._engine.reportError(Vr):this._engine.afterFlush(()=>{ei(S,Oi),lr(S,ji)})}return}const Sr=dt(this._engine.playersByElement,S,[]);Sr.forEach(Vr=>{Vr.namespaceId==this.id&&Vr.triggerName==E&&Vr.queued&&Vr.destroy()});let Gr=be.matchTransition(an.value,Sn.value,S,Sn.params),kr=!1;if(!Gr){if(!re)return;Gr=be.fallbackTransition,kr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:E,transition:Gr,fromState:an,toState:Sn,player:yt,isFallbackTransition:kr}),kr||(ni(S,Pn),yt.onStart(()=>{Ki(S,Pn)})),yt.onDone(()=>{let Vr=this.players.indexOf(yt);Vr>=0&&this.players.splice(Vr,1);const Oi=this._engine.playersByElement.get(S);if(Oi){let ji=Oi.indexOf(yt);ji>=0&&Oi.splice(ji,1)}}),this.players.push(yt),Sr.push(yt),yt}deregister(S){this._triggers.delete(S),this._engine.statesByElement.forEach(E=>E.delete(S)),this._elementListeners.forEach((E,O)=>{this._elementListeners.set(O,E.filter(re=>re.name!=S))})}clearElementCache(S){this._engine.statesByElement.delete(S),this._elementListeners.delete(S);const E=this._engine.playersByElement.get(S);E&&(E.forEach(O=>O.destroy()),this._engine.playersByElement.delete(S))}_signalRemovalForInnerTriggers(S,E){const O=this._engine.driver.query(S,vn,!0);O.forEach(re=>{if(re[Si])return;const be=this._engine.fetchNamespacesByElement(re);be.size?be.forEach(yt=>yt.triggerLeaveAnimation(re,E,!1,!0)):this.clearElementCache(re)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(re=>this.clearElementCache(re)))}triggerLeaveAnimation(S,E,O,re){const be=this._engine.statesByElement.get(S),yt=new Map;if(be){const Ct=[];if(be.forEach((an,Sn)=>{if(yt.set(Sn,an.value),this._triggers.has(Sn)){const bn=this.trigger(S,Sn,Ar,re);bn&&Ct.push(bn)}}),Ct.length)return this._engine.markElementAsRemoved(this.id,S,!0,E,yt),O&&zn(Ct).onDone(()=>this._engine.processLeaveNode(S)),!0}return!1}prepareLeaveAnimationListeners(S){const E=this._elementListeners.get(S),O=this._engine.statesByElement.get(S);if(E&&O){const re=new Set;E.forEach(be=>{const yt=be.name;if(re.has(yt))return;re.add(yt);const an=this._triggers.get(yt).fallbackTransition,Sn=O.get(yt)||to,bn=new yi(Ar),er=new Ti(this.id,yt,S);this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:yt,transition:an,fromState:Sn,toState:bn,player:er,isFallbackTransition:!0})})}}removeNode(S,E){const O=this._engine;if(S.childElementCount&&this._signalRemovalForInnerTriggers(S,E),this.triggerLeaveAnimation(S,E,!0))return;let re=!1;if(O.totalAnimations){const be=O.players.length?O.playersByQueriedElement.get(S):[];if(be&&be.length)re=!0;else{let yt=S;for(;yt=yt.parentNode;)if(O.statesByElement.get(yt)){re=!0;break}}}if(this.prepareLeaveAnimationListeners(S),re)O.markElementAsRemoved(this.id,S,!1,E);else{const be=S[Si];(!be||be===Ai)&&(O.afterFlush(()=>this.clearElementCache(S)),O.destroyInnerAnimations(S),O._onRemovalComplete(S,E))}}insertNode(S,E){ni(S,this._hostClassName)}drainQueuedTransitions(S){const E=[];return this._queue.forEach(O=>{const re=O.player;if(re.destroyed)return;const be=O.element,yt=this._elementListeners.get(be);yt&&yt.forEach(Ct=>{if(Ct.name==O.triggerName){const an=Fe(be,O.triggerName,O.fromState.value,O.toState.value);an._data=S,br(O.player,Ct.phase,an,Ct.callback)}}),re.markedForDestroy?this._engine.afterFlush(()=>{re.destroy()}):E.push(O)}),this._queue=[],E.sort((O,re)=>{const be=O.transition.ast.depCount,yt=re.transition.ast.depCount;return 0==be||0==yt?be-yt:this._engine.driver.containsElement(O.element,re.element)?1:-1})}destroy(S){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,S)}elementContainsData(S){let E=!1;return this._elementListeners.has(S)&&(E=!0),E=!!this._queue.find(O=>O.element===S)||E,E}}class ki{_onRemovalComplete(S,E){this.onRemovalComplete(S,E)}constructor(S,E,O){this.bodyNode=S,this.driver=E,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(re,be)=>{}}get queuedPlayers(){const S=[];return this._namespaceList.forEach(E=>{E.players.forEach(O=>{O.queued&&S.push(O)})}),S}createNamespace(S,E){const O=new uo(S,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(O,E):(this.newHostElements.set(E,O),this.collectEnterElement(E)),this._namespaceLookup[S]=O}_balanceNamespaceList(S,E){const O=this._namespaceList,re=this.namespacesByHostElement;if(O.length-1>=0){let yt=!1,Ct=this.driver.getParentElement(E);for(;Ct;){const an=re.get(Ct);if(an){const Sn=O.indexOf(an);O.splice(Sn+1,0,S),yt=!0;break}Ct=this.driver.getParentElement(Ct)}yt||O.unshift(S)}else O.push(S);return re.set(E,S),S}register(S,E){let O=this._namespaceLookup[S];return O||(O=this.createNamespace(S,E)),O}registerTrigger(S,E,O){let re=this._namespaceLookup[S];re&&re.register(E,O)&&this.totalAnimations++}destroy(S,E){if(!S)return;const O=this._fetchNamespace(S);this.afterFlush(()=>{this.namespacesByHostElement.delete(O.hostElement),delete this._namespaceLookup[S];const re=this._namespaceList.indexOf(O);re>=0&&this._namespaceList.splice(re,1)}),this.afterFlushAnimationsDone(()=>O.destroy(E))}_fetchNamespace(S){return this._namespaceLookup[S]}fetchNamespacesByElement(S){const E=new Set,O=this.statesByElement.get(S);if(O)for(let re of O.values())if(re.namespaceId){const be=this._fetchNamespace(re.namespaceId);be&&E.add(be)}return E}trigger(S,E,O,re){if(_o(E)){const be=this._fetchNamespace(S);if(be)return be.trigger(E,O,re),!0}return!1}insertNode(S,E,O,re){if(!_o(E))return;const be=E[Si];if(be&&be.setForRemoval){be.setForRemoval=!1,be.setForMove=!0;const yt=this.collectedLeaveElements.indexOf(E);yt>=0&&this.collectedLeaveElements.splice(yt,1)}if(S){const yt=this._fetchNamespace(S);yt&&yt.insertNode(E,O)}re&&this.collectEnterElement(E)}collectEnterElement(S){this.collectedEnterElements.push(S)}markElementAsDisabled(S,E){E?this.disabledNodes.has(S)||(this.disabledNodes.add(S),ni(S,nr)):this.disabledNodes.has(S)&&(this.disabledNodes.delete(S),Ki(S,nr))}removeNode(S,E,O,re){if(_o(E)){const be=S?this._fetchNamespace(S):null;if(be?be.removeNode(E,re):this.markElementAsRemoved(S,E,!1,re),O){const yt=this.namespacesByHostElement.get(E);yt&&yt.id!==S&&yt.removeNode(E,re)}}else this._onRemovalComplete(E,re)}markElementAsRemoved(S,E,O,re,be){this.collectedLeaveElements.push(E),E[Si]={namespaceId:S,setForRemoval:re,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:be}}listen(S,E,O,re,be){return _o(E)?this._fetchNamespace(S).listen(E,O,re,be):()=>{}}_buildInstruction(S,E,O,re,be){return S.transition.build(this.driver,S.element,S.fromState.value,S.toState.value,O,re,S.fromState.options,S.toState.options,E,be)}destroyInnerAnimations(S){let E=this.driver.query(S,vn,!0);E.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(S,It,!0),E.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(S){const E=this.playersByElement.get(S);E&&E.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(S){const E=this.playersByQueriedElement.get(S);E&&E.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(S=>{if(this.players.length)return zn(this.players).onDone(()=>S());S()})}processLeaveNode(S){const E=S[Si];if(E&&E.setForRemoval){if(S[Si]=Ai,E.namespaceId){this.destroyInnerAnimations(S);const O=this._fetchNamespace(E.namespaceId);O&&O.clearElementCache(S)}this._onRemovalComplete(S,E.setForRemoval)}S.classList?.contains(nr)&&this.markElementAsDisabled(S,!1),this.driver.query(S,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(S=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,re)=>this._balanceNamespaceList(O,re)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)ni(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{E=this._flushAnimations(O,S)}finally{for(let re=0;re<O.length;re++)O[re]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],E.length?zn(E).onDone(()=>{O.forEach(re=>re())}):O.forEach(re=>re())}}reportError(S){throw function Ut(L){return new T.vHH(3402,!1)}()}_flushAnimations(S,E){const O=new rr,re=[],be=new Map,yt=[],Ct=new Map,an=new Map,Sn=new Map,bn=new Set;this.disabledNodes.forEach(cr=>{bn.add(cr);const Tr=this.driver.query(cr,".ng-animate-queued",!0);for(let pr=0;pr<Tr.length;pr++)bn.add(Tr[pr])});const er=this.bodyNode,Sr=Array.from(this.statesByElement.keys()),Gr=Qr(Sr,this.collectedEnterElements),kr=new Map;let Vr=0;Gr.forEach((cr,Tr)=>{const pr=le+Vr++;kr.set(Tr,pr),cr.forEach(Yr=>ni(Yr,pr))});const Oi=[],ji=new Set,Fo=new Set;for(let cr=0;cr<this.collectedLeaveElements.length;cr++){const Tr=this.collectedLeaveElements[cr],pr=Tr[Si];pr&&pr.setForRemoval&&(Oi.push(Tr),ji.add(Tr),pr.hasAnimation?this.driver.query(Tr,".ng-star-inserted",!0).forEach(Yr=>ji.add(Yr)):Fo.add(Tr))}const no=new Map,Hi=Qr(Sr,Array.from(ji));Hi.forEach((cr,Tr)=>{const pr=tt+Vr++;no.set(Tr,pr),cr.forEach(Yr=>ni(Yr,pr))}),S.push(()=>{Gr.forEach((cr,Tr)=>{const pr=kr.get(Tr);cr.forEach(Yr=>Ki(Yr,pr))}),Hi.forEach((cr,Tr)=>{const pr=no.get(Tr);cr.forEach(Yr=>Ki(Yr,pr))}),Oi.forEach(cr=>{this.processLeaveNode(cr)})});const Bs=[],ts=[];for(let cr=this._namespaceList.length-1;cr>=0;cr--)this._namespaceList[cr].drainQueuedTransitions(E).forEach(pr=>{const Yr=pr.player,vo=pr.element;if(Bs.push(Yr),this.collectedEnterElements.length){const To=vo[Si];if(To&&To.setForMove){if(To.previousTriggersValues&&To.previousTriggersValues.has(pr.triggerName)){const js=To.previousTriggersValues.get(pr.triggerName),Lo=this.statesByElement.get(pr.element);if(Lo&&Lo.has(pr.triggerName)){const oa=Lo.get(pr.triggerName);oa.value=js,Lo.set(pr.triggerName,oa)}}return void Yr.destroy()}}const vs=!er||!this.driver.containsElement(er,vo),Di=no.get(vo),Zr=kr.get(vo),Ci=this._buildInstruction(pr,O,Zr,Di,vs);if(Ci.errors&&Ci.errors.length)return void ts.push(Ci);if(vs)return Yr.onStart(()=>ei(vo,Ci.fromStyles)),Yr.onDestroy(()=>lr(vo,Ci.toStyles)),void re.push(Yr);if(pr.isFallbackTransition)return Yr.onStart(()=>ei(vo,Ci.fromStyles)),Yr.onDestroy(()=>lr(vo,Ci.toStyles)),void re.push(Yr);const $o=[];Ci.timelines.forEach(To=>{To.stretchStartingKeyframe=!0,this.disabledNodes.has(To.element)||$o.push(To)}),Ci.timelines=$o,O.append(vo,Ci.timelines),yt.push({instruction:Ci,player:Yr,element:vo}),Ci.queriedElements.forEach(To=>dt(Ct,To,[]).push(Yr)),Ci.preStyleProps.forEach((To,js)=>{if(To.size){let Lo=an.get(js);Lo||an.set(js,Lo=new Set),To.forEach((oa,Zs)=>Lo.add(Zs))}}),Ci.postStyleProps.forEach((To,js)=>{let Lo=Sn.get(js);Lo||Sn.set(js,Lo=new Set),To.forEach((oa,Zs)=>Lo.add(Zs))})});if(ts.length){const cr=[];ts.forEach(Tr=>{cr.push(function dn(L,S){return new T.vHH(3505,!1)}())}),Bs.forEach(Tr=>Tr.destroy()),this.reportError(cr)}const qi=new Map,Ko=new Map;yt.forEach(cr=>{const Tr=cr.element;O.has(Tr)&&(Ko.set(Tr,Tr),this._beforeAnimationBuild(cr.player.namespaceId,cr.instruction,qi))}),re.forEach(cr=>{const Tr=cr.element;this._getPreviousPlayers(Tr,!1,cr.namespaceId,cr.triggerName,null).forEach(Yr=>{dt(qi,Tr,[]).push(Yr),Yr.destroy()})});const po=Oi.filter(cr=>co(cr,an,Sn)),ns=new Map;$r(ns,this.driver,Fo,Sn,De.l3).forEach(cr=>{co(cr,an,Sn)&&po.push(cr)});const Os=new Map;Gr.forEach((cr,Tr)=>{$r(Os,this.driver,new Set(cr),an,De.k1)}),po.forEach(cr=>{const Tr=ns.get(cr),pr=Os.get(cr);ns.set(cr,new Map([...Array.from(Tr?.entries()??[]),...Array.from(pr?.entries()??[])]))});const Rs=[],Ka=[],ia={};yt.forEach(cr=>{const{element:Tr,player:pr,instruction:Yr}=cr;if(O.has(Tr)){if(bn.has(Tr))return pr.onDestroy(()=>lr(Tr,Yr.toStyles)),pr.disabled=!0,pr.overrideTotalTime(Yr.totalTime),void re.push(pr);let vo=ia;if(Ko.size>1){let Di=Tr;const Zr=[];for(;Di=Di.parentNode;){const Ci=Ko.get(Di);if(Ci){vo=Ci;break}Zr.push(Di)}Zr.forEach(Ci=>Ko.set(Ci,vo))}const vs=this._buildAnimation(pr.namespaceId,Yr,qi,be,Os,ns);if(pr.setRealPlayer(vs),vo===ia)Rs.push(pr);else{const Di=this.playersByElement.get(vo);Di&&Di.length&&(pr.parentPlayer=zn(Di)),re.push(pr)}}else ei(Tr,Yr.fromStyles),pr.onDestroy(()=>lr(Tr,Yr.toStyles)),Ka.push(pr),bn.has(Tr)&&re.push(pr)}),Ka.forEach(cr=>{const Tr=be.get(cr.element);if(Tr&&Tr.length){const pr=zn(Tr);cr.setRealPlayer(pr)}}),re.forEach(cr=>{cr.parentPlayer?cr.syncPlayerEvents(cr.parentPlayer):cr.destroy()});for(let cr=0;cr<Oi.length;cr++){const Tr=Oi[cr],pr=Tr[Si];if(Ki(Tr,tt),pr&&pr.hasAnimation)continue;let Yr=[];if(Ct.size){let vs=Ct.get(Tr);vs&&vs.length&&Yr.push(...vs);let Di=this.driver.query(Tr,It,!0);for(let Zr=0;Zr<Di.length;Zr++){let Ci=Ct.get(Di[Zr]);Ci&&Ci.length&&Yr.push(...Ci)}}const vo=Yr.filter(vs=>!vs.destroyed);vo.length?Xi(this,Tr,vo):this.processLeaveNode(Tr)}return Oi.length=0,Rs.forEach(cr=>{this.players.push(cr),cr.onDone(()=>{cr.destroy();const Tr=this.players.indexOf(cr);this.players.splice(Tr,1)}),cr.play()}),Rs}elementContainsData(S,E){let O=!1;const re=E[Si];return re&&re.setForRemoval&&(O=!0),this.playersByElement.has(E)&&(O=!0),this.playersByQueriedElement.has(E)&&(O=!0),this.statesByElement.has(E)&&(O=!0),this._fetchNamespace(S).elementContainsData(E)||O}afterFlush(S){this._flushFns.push(S)}afterFlushAnimationsDone(S){this._whenQuietFns.push(S)}_getPreviousPlayers(S,E,O,re,be){let yt=[];if(E){const Ct=this.playersByQueriedElement.get(S);Ct&&(yt=Ct)}else{const Ct=this.playersByElement.get(S);if(Ct){const an=!be||be==Ar;Ct.forEach(Sn=>{Sn.queued||!an&&Sn.triggerName!=re||yt.push(Sn)})}}return(O||re)&&(yt=yt.filter(Ct=>!(O&&O!=Ct.namespaceId||re&&re!=Ct.triggerName))),yt}_beforeAnimationBuild(S,E,O){const be=E.element,yt=E.isRemovalTransition?void 0:S,Ct=E.isRemovalTransition?void 0:E.triggerName;for(const an of E.timelines){const Sn=an.element,bn=Sn!==be,er=dt(O,Sn,[]);this._getPreviousPlayers(Sn,bn,yt,Ct,E.toState).forEach(Gr=>{const kr=Gr.getRealPlayer();kr.beforeDestroy&&kr.beforeDestroy(),Gr.destroy(),er.push(Gr)})}ei(be,E.fromStyles)}_buildAnimation(S,E,O,re,be,yt){const Ct=E.triggerName,an=E.element,Sn=[],bn=new Set,er=new Set,Sr=E.timelines.map(kr=>{const Vr=kr.element;bn.add(Vr);const Oi=Vr[Si];if(Oi&&Oi.removedBeforeQueried)return new De.ZN(kr.duration,kr.delay);const ji=Vr!==an,Fo=function ss(L){const S=[];return Io(L,S),S}((O.get(Vr)||Kr).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===Vr),no=be.get(Vr),Hi=yt.get(Vr),Bs=On(0,this._normalizer,0,kr.keyframes,no,Hi),ts=this._buildPlayer(kr,Bs,Fo);if(kr.subTimeline&&re&&er.add(Vr),ji){const qi=new Ti(S,Ct,Vr);qi.setRealPlayer(ts),Sn.push(qi)}return ts});Sn.forEach(kr=>{dt(this.playersByQueriedElement,kr.element,[]).push(kr),kr.onDone(()=>function pi(L,S,E){let O=L.get(S);if(O){if(O.length){const re=O.indexOf(E);O.splice(re,1)}0==O.length&&L.delete(S)}return O}(this.playersByQueriedElement,kr.element,kr))}),bn.forEach(kr=>ni(kr,Oe));const Gr=zn(Sr);return Gr.onDestroy(()=>{bn.forEach(kr=>Ki(kr,Oe)),lr(an,E.toStyles)}),er.forEach(kr=>{dt(re,kr,[]).push(Gr)}),Gr}_buildPlayer(S,E,O){return E.length>0?this.driver.animate(S.element,E,S.duration,S.delay,S.easing,O):new De.ZN(S.duration,S.delay)}}class Ti{constructor(S,E,O){this.namespaceId=S,this.triggerName=E,this.element=O,this._player=new De.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(S){this._containsRealPlayer||(this._player=S,this._queuedCallbacks.forEach((E,O)=>{E.forEach(re=>br(S,O,void 0,re))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(S.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(S){this.totalTime=S}syncPlayerEvents(S){const E=this._player;E.triggerCallback&&S.onStart(()=>E.triggerCallback("start")),S.onDone(()=>this.finish()),S.onDestroy(()=>this.destroy())}_queueEvent(S,E){dt(this._queuedCallbacks,S,[]).push(E)}onDone(S){this.queued&&this._queueEvent("done",S),this._player.onDone(S)}onStart(S){this.queued&&this._queueEvent("start",S),this._player.onStart(S)}onDestroy(S){this.queued&&this._queueEvent("destroy",S),this._player.onDestroy(S)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(S){this.queued||this._player.setPosition(S)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(S){const E=this._player;E.triggerCallback&&E.triggerCallback(S)}}function _o(L){return L&&1===L.nodeType}function Ss(L,S){const E=L.style.display;return L.style.display=S??"none",E}function $r(L,S,E,O,re){const be=[];E.forEach(an=>be.push(Ss(an)));const yt=[];O.forEach((an,Sn)=>{const bn=new Map;an.forEach(er=>{const Sr=S.computeStyle(Sn,er,re);bn.set(er,Sr),(!Sr||0==Sr.length)&&(Sn[Si]=fi,yt.push(Sn))}),L.set(Sn,bn)});let Ct=0;return E.forEach(an=>Ss(an,be[Ct++])),yt}function Qr(L,S){const E=new Map;if(L.forEach(Ct=>E.set(Ct,[])),0==S.length)return E;const O=1,re=new Set(S),be=new Map;function yt(Ct){if(!Ct)return O;let an=be.get(Ct);if(an)return an;const Sn=Ct.parentNode;return an=E.has(Sn)?Sn:re.has(Sn)?O:yt(Sn),be.set(Ct,an),an}return S.forEach(Ct=>{const an=yt(Ct);an!==O&&E.get(an).push(Ct)}),E}function ni(L,S){L.classList?.add(S)}function Ki(L,S){L.classList?.remove(S)}function Xi(L,S,E){zn(E).onDone(()=>L.processLeaveNode(S))}function Io(L,S){for(let E=0;E<L.length;E++){const O=L[E];O instanceof De.ZE?Io(O.players,S):S.push(O)}}function co(L,S,E){const O=E.get(L);if(!O)return!1;let re=S.get(L);return re?O.forEach(be=>re.add(be)):S.set(L,O),E.delete(L),!0}class Yo{constructor(S,E,O){this.bodyNode=S,this._driver=E,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(re,be)=>{},this._transitionEngine=new ki(S,E,O),this._timelineEngine=new Un(S,E,O),this._transitionEngine.onRemovalComplete=(re,be)=>this.onRemovalComplete(re,be)}registerTrigger(S,E,O,re,be){const yt=S+"-"+re;let Ct=this._triggerCache[yt];if(!Ct){const an=[],Sn=[],bn=eo(this._driver,be,an,Sn);if(an.length)throw function ce(L,S){return new T.vHH(3404,!1)}();Ct=function Be(L,S,E){return new wt(L,S,E)}(re,bn,this._normalizer),this._triggerCache[yt]=Ct}this._transitionEngine.registerTrigger(E,re,Ct)}register(S,E){this._transitionEngine.register(S,E)}destroy(S,E){this._transitionEngine.destroy(S,E)}onInsert(S,E,O,re){this._transitionEngine.insertNode(S,E,O,re)}onRemove(S,E,O,re){this._transitionEngine.removeNode(S,E,re||!1,O)}disableAnimations(S,E){this._transitionEngine.markElementAsDisabled(S,E)}process(S,E,O,re){if("@"==O.charAt(0)){const[be,yt]=Yt(O);this._timelineEngine.command(be,E,yt,re)}else this._transitionEngine.trigger(S,E,O,re)}listen(S,E,O,re,be){if("@"==O.charAt(0)){const[yt,Ct]=Yt(O);return this._timelineEngine.listen(yt,E,Ct,be)}return this._transitionEngine.listen(S,E,O,re,be)}flush(S=-1){this._transitionEngine.flush(S)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zo=(()=>{class L{constructor(E,O,re){this._element=E,this._startStyles=O,this._endStyles=re,this._state=0;let be=L.initialStylesByElement.get(E);be||L.initialStylesByElement.set(E,be=new Map),this._initialStyles=be}start(){this._state<1&&(this._startStyles&&lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lr(this._element,this._initialStyles),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(L.initialStylesByElement.delete(this._element),this._startStyles&&(ei(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ei(this._element,this._endStyles),this._endStyles=null),lr(this._element,this._initialStyles),this._state=3)}}return L.initialStylesByElement=new WeakMap,L})();function go(L){let S=null;return L.forEach((E,O)=>{(function Zi(L){return"display"===L||"position"===L})(O)&&(S=S||new Map,S.set(O,E))}),S}class Uo{constructor(S,E,O,re){this.element=S,this.keyframes=E,this.options=O,this._specialStyles=re,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const S=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,S,this.options),this._finalKeyframe=S.length?S[S.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(S){const E=[];return S.forEach(O=>{E.push(Object.fromEntries(O))}),E}_triggerWebAnimation(S,E,O){return S.animate(this._convertKeyframesToObject(E),O)}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(S=>S()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}setPosition(S){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=S*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const S=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,re)=>{"offset"!==re&&S.set(re,this._finished?O:Wn(this.element,re))}),this.currentSnapshot=S}triggerCallback(S){const E="start"===S?this._onStartFns:this._onDoneFns;E.forEach(O=>O()),E.length=0}}class Vs{validateStyleProperty(S){return!0}validateAnimatableStyleProperty(S){return!0}matchesElement(S,E){return!1}containsElement(S,E){return kn(S,E)}getParentElement(S){return Se(S)}query(S,E,O){return Jn(S,E,O)}computeStyle(S,E,O){return window.getComputedStyle(S)[E]}animate(S,E,O,re,be,yt=[]){const an={duration:O,delay:re,fill:0==re?"both":"forwards"};be&&(an.easing=be);const Sn=new Map,bn=yt.filter(Gr=>Gr instanceof Uo);(function kt(L,S){return 0===L||0===S})(O,re)&&bn.forEach(Gr=>{Gr.currentSnapshot.forEach((kr,Vr)=>Sn.set(Vr,kr))});let er=function Dt(L){return L.length?L[0]instanceof Map?L:L.map(S=>Ie(S)):[]}(E).map(Gr=>pn(Gr));er=function Lt(L,S,E){if(E.size&&S.length){let O=S[0],re=[];if(E.forEach((be,yt)=>{O.has(yt)||re.push(yt),O.set(yt,be)}),re.length)for(let be=1;be<S.length;be++){let yt=S[be];re.forEach(Ct=>yt.set(Ct,Wn(L,Ct)))}}return S}(S,er,Sn);const Sr=function Ls(L,S){let E=null,O=null;return Array.isArray(S)&&S.length?(E=go(S[0]),S.length>1&&(O=go(S[S.length-1]))):S instanceof Map&&(E=go(S)),E||O?new Zo(L,E,O):null}(S,er);return new Uo(S,er,an,Sr)}}var In=F(36895);let Br=(()=>{class L extends De._j{constructor(E,O){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(O.body,{id:"0",encapsulation:T.ifc.None,styles:[],data:{animation:[]}})}build(E){const O=this._nextAnimationId.toString();this._nextAnimationId++;const re=Array.isArray(E)?(0,De.vP)(E):E;return ci(this._renderer,null,O,"register",[re]),new ds(O,this._renderer)}}return L.\u0275fac=function(E){return new(E||L)(T.LFG(T.FYo),T.LFG(In.K0))},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac}),L})();class ds extends De.LC{constructor(S,E){super(),this._id=S,this._renderer=E}create(S,E){return new Vo(this._id,S,E||{},this._renderer)}}class Vo{constructor(S,E,O,re){this.id=S,this.element=E,this._renderer=re,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(S,E){return this._renderer.listen(this.element,`@@${this.id}:${S}`,E)}_command(S,...E){return ci(this._renderer,this.element,this.id,S,E)}onDone(S){this._listen("done",S)}onStart(S){this._listen("start",S)}onDestroy(S){this._listen("destroy",S)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(S){this._command("setPosition",S)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ci(L,S,E,O,re){return L.setProperty(S,`@@${E}:${O}`,re)}const _i="@.disabled";let $i=(()=>{class L{constructor(E,O,re){this.delegate=E,this.engine=O,this._zone=re,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),O.onRemovalComplete=(be,yt)=>{const Ct=yt?.parentNode(be);Ct&&yt.removeChild(Ct,be)}}createRenderer(E,O){const be=this.delegate.createRenderer(E,O);if(!(E&&O&&O.data&&O.data.animation)){let bn=this._rendererCache.get(be);return bn||(bn=new ks("",be,this.engine,()=>this._rendererCache.delete(be)),this._rendererCache.set(be,bn)),bn}const yt=O.id,Ct=O.id+"-"+this._currentId;this._currentId++,this.engine.register(Ct,E);const an=bn=>{Array.isArray(bn)?bn.forEach(an):this.engine.registerTrigger(yt,Ct,E,bn.name,bn)};return O.data.animation.forEach(an),new hs(this,Ct,be,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,O,re){E>=0&&E<this._microtaskId?this._zone.run(()=>O(re)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(be=>{const[yt,Ct]=be;yt(Ct)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,re]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return L.\u0275fac=function(E){return new(E||L)(T.LFG(T.FYo),T.LFG(Yo),T.LFG(T.R0b))},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac}),L})();class ks{constructor(S,E,O,re){this.namespaceId=S,this.delegate=E,this.engine=O,this._onDestroy=re,this.destroyNode=this.delegate.destroyNode?be=>E.destroyNode(be):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(S,E){return this.delegate.createElement(S,E)}createComment(S){return this.delegate.createComment(S)}createText(S){return this.delegate.createText(S)}appendChild(S,E){this.delegate.appendChild(S,E),this.engine.onInsert(this.namespaceId,E,S,!1)}insertBefore(S,E,O,re=!0){this.delegate.insertBefore(S,E,O),this.engine.onInsert(this.namespaceId,E,S,re)}removeChild(S,E,O){this.engine.onRemove(this.namespaceId,E,this.delegate,O)}selectRootElement(S,E){return this.delegate.selectRootElement(S,E)}parentNode(S){return this.delegate.parentNode(S)}nextSibling(S){return this.delegate.nextSibling(S)}setAttribute(S,E,O,re){this.delegate.setAttribute(S,E,O,re)}removeAttribute(S,E,O){this.delegate.removeAttribute(S,E,O)}addClass(S,E){this.delegate.addClass(S,E)}removeClass(S,E){this.delegate.removeClass(S,E)}setStyle(S,E,O,re){this.delegate.setStyle(S,E,O,re)}removeStyle(S,E,O){this.delegate.removeStyle(S,E,O)}setProperty(S,E,O){"@"==E.charAt(0)&&E==_i?this.disableAnimations(S,!!O):this.delegate.setProperty(S,E,O)}setValue(S,E){this.delegate.setValue(S,E)}listen(S,E,O){return this.delegate.listen(S,E,O)}disableAnimations(S,E){this.engine.disableAnimations(S,E)}}class hs extends ks{constructor(S,E,O,re,be){super(E,O,re,be),this.factory=S,this.namespaceId=E}setProperty(S,E,O){"@"==E.charAt(0)?"."==E.charAt(1)&&E==_i?this.disableAnimations(S,O=void 0===O||!!O):this.engine.process(this.namespaceId,S,E.slice(1),O):this.delegate.setProperty(S,E,O)}listen(S,E,O){if("@"==E.charAt(0)){const re=function fs(L){switch(L){case"body":return document.body;case"document":return document;case"window":return window;default:return L}}(S);let be=E.slice(1),yt="";return"@"!=be.charAt(0)&&([be,yt]=function Hs(L){const S=L.indexOf(".");return[L.substring(0,S),L.slice(S+1)]}(be)),this.engine.listen(this.namespaceId,re,be,yt,Ct=>{this.factory.scheduleListenerCallback(Ct._data||-1,O,Ct)})}return this.delegate.listen(S,E,O)}}const bo=[{provide:De._j,useClass:Br},{provide:is,useFactory:function oo(){return new Es}},{provide:Yo,useClass:(()=>{class L extends Yo{constructor(E,O,re,be){super(E.body,O,re)}ngOnDestroy(){this.flush()}}return L.\u0275fac=function(E){return new(E||L)(T.LFG(In.K0),T.LFG(Pt),T.LFG(is),T.LFG(T.z2F))},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac}),L})()},{provide:T.FYo,useFactory:function Po(L,S,E){return new $i(L,S,E)},deps:[y.se,Yo,T.R0b]}],ho=[{provide:Pt,useFactory:()=>new Vs},{provide:T.QbO,useValue:"BrowserAnimations"},...bo],so=[{provide:Pt,useClass:cn},{provide:T.QbO,useValue:"NoopAnimations"},...bo];let No=(()=>{class L{static withConfig(E){return{ngModule:L,providers:E.disableAnimations?so:ho}}}return L.\u0275fac=function(E){return new(E||L)},L.\u0275mod=T.oAB({type:L}),L.\u0275inj=T.cJS({providers:ho,imports:[y.b2]}),L})();var li=F(43648),ps=F(70262),Kn=F(62843),ri=(()=>{return(L=ri||(ri={})).Success="success",L.Info="info",L.Warning="warning",L.Error="Error",ri;var L})(),ms=F(85657),gs=F(46176),fo=F(77579),xo=F(4859),zo=F(84080),ls=F(83353),Vi=F(95698),_=F(82722),W=F(12687),fe=F(62289),$e=F(98184),Wt=F(3238);function rn(L,S){if(1&L){const E=T.EpF();T.TgZ(0,"div",2)(1,"button",3),T.NdJ("click",function(){T.CHM(E);const re=T.oxw();return T.KtG(re.action())}),T._uU(2),T.qZA()()}if(2&L){const E=T.oxw();T.xp6(2),T.hij(" ",E.data.action," ")}}const ur=["label"];function ii(L,S){}const Xr=Math.pow(2,31)-1;class ao{constructor(S,E){this._overlayRef=E,this._afterDismissed=new fo.x,this._afterOpened=new fo.x,this._onAction=new fo.x,this._dismissedByAction=!1,this.containerInstance=S,S._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(S){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(S,Xr))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Mo=new T.OlP("MatSnackBarData");class Ao{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Jo=(()=>{class L{}return L.\u0275fac=function(E){return new(E||L)},L.\u0275dir=T.lG2({type:L,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),L})(),es=(()=>{class L{}return L.\u0275fac=function(E){return new(E||L)},L.\u0275dir=T.lG2({type:L,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),L})(),xi=(()=>{class L{}return L.\u0275fac=function(E){return new(E||L)},L.\u0275dir=T.lG2({type:L,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),L})(),U=(()=>{class L{constructor(E,O){this.snackBarRef=E,this.data=O}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return L.\u0275fac=function(E){return new(E||L)(T.Y36(ao),T.Y36(Mo))},L.\u0275cmp=T.Xpm({type:L,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(E,O){1&E&&(T.TgZ(0,"div",0),T._uU(1),T.qZA(),T.YNc(2,rn,3,1,"div",1)),2&E&&(T.xp6(1),T.hij(" ",O.data.message,"\n"),T.xp6(1),T.Q6J("ngIf",O.hasAction))},dependencies:[In.O5,xo.lW,Jo,es,xi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),L})();const me={snackBarState:(0,De.X$)("state",[(0,De.SB)("void, hidden",(0,De.oB)({transform:"scale(0.8)",opacity:0})),(0,De.SB)("visible",(0,De.oB)({transform:"scale(1)",opacity:1})),(0,De.eR)("* => visible",(0,De.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,De.eR)("* => void, * => hidden",(0,De.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,De.oB)({opacity:0})))])};let Z=0,Ne=(()=>{class L extends zo.en{constructor(E,O,re,be,yt){super(),this._ngZone=E,this._elementRef=O,this._changeDetectorRef=re,this._platform=be,this.snackBarConfig=yt,this._document=(0,T.f3M)(In.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new fo.x,this._onExit=new fo.x,this._onEnter=new fo.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Z++,this.attachDomPortal=Ct=>{this._assertNotAttached();const an=this._portalOutlet.attachDomPortal(Ct);return this._afterPortalAttached(),an},this._live="assertive"!==yt.politeness||yt.announcementMessage?"off"===yt.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(E){this._assertNotAttached();const O=this._portalOutlet.attachComponentPortal(E);return this._afterPortalAttached(),O}attachTemplatePortal(E){this._assertNotAttached();const O=this._portalOutlet.attachTemplatePortal(E);return this._afterPortalAttached(),O}onAnimationEnd(E){const{fromState:O,toState:re}=E;if(("void"===re&&"void"!==O||"hidden"===re)&&this._completeExit(),"visible"===re){const be=this._onEnter;this._ngZone.run(()=>{be.next(),be.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Vi.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const E=this._elementRef.nativeElement,O=this.snackBarConfig.panelClass;O&&(Array.isArray(O)?O.forEach(re=>E.classList.add(re)):E.classList.add(O)),this._exposeToModals()}_exposeToModals(){const E=this._liveElementId,O=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let re=0;re<O.length;re++){const be=O[re],yt=be.getAttribute("aria-owns");this._trackedModals.add(be),yt?-1===yt.indexOf(E)&&be.setAttribute("aria-owns",yt+" "+E):be.setAttribute("aria-owns",E)}}_clearFromModals(){this._trackedModals.forEach(E=>{const O=E.getAttribute("aria-owns");if(O){const re=O.replace(this._liveElementId,"").trim();re.length>0?E.setAttribute("aria-owns",re):E.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const E=this._elementRef.nativeElement.querySelector("[aria-hidden]"),O=this._elementRef.nativeElement.querySelector("[aria-live]");if(E&&O){let re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&E.contains(document.activeElement)&&(re=document.activeElement),E.removeAttribute("aria-hidden"),O.appendChild(E),re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return L.\u0275fac=function(E){return new(E||L)(T.Y36(T.R0b),T.Y36(T.SBq),T.Y36(T.sBO),T.Y36(ls.t4),T.Y36(Ao))},L.\u0275dir=T.lG2({type:L,viewQuery:function(E,O){if(1&E&&T.Gf(zo.Pl,7),2&E){let re;T.iGM(re=T.CRH())&&(O._portalOutlet=re.first)}},features:[T.qOj]}),L})(),At=(()=>{class L extends Ne{_afterPortalAttached(){super._afterPortalAttached();const E=this._label.nativeElement,O="mdc-snackbar__label";E.classList.toggle(O,!E.querySelector(`.${O}`))}}return L.\u0275fac=function(){let S;return function(O){return(S||(S=T.n5z(L)))(O||L)}}(),L.\u0275cmp=T.Xpm({type:L,selectors:[["mat-snack-bar-container"]],viewQuery:function(E,O){if(1&E&&T.Gf(ur,7),2&E){let re;T.iGM(re=T.CRH())&&(O._label=re.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(E,O){1&E&&T.WFA("@state.done",function(be){return O.onAnimationEnd(be)}),2&E&&T.d8E("@state",O._animationState)},features:[T.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(E,O){1&E&&(T.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),T.YNc(4,ii,0,0,"ng-template",4),T.qZA(),T._UZ(5,"div"),T.qZA()()),2&E&&(T.xp6(5),T.uIk("aria-live",O._live)("role",O._role)("id",O._liveElementId))},dependencies:[zo.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[me.snackBarState]}}),L})(),_n=(()=>{class L{}return L.\u0275fac=function(E){return new(E||L)},L.\u0275mod=T.oAB({type:L}),L.\u0275inj=T.cJS({imports:[$e.U8,zo.eL,In.ez,xo.ot,Wt.BQ,Wt.BQ]}),L})();const yr=new T.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Fn(){return new Ao}});let Wr=(()=>{class L{get _openedSnackBarRef(){const E=this._parentSnackBar;return E?E._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(E){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=E:this._snackBarRefAtThisLevel=E}constructor(E,O,re,be,yt,Ct){this._overlay=E,this._live=O,this._injector=re,this._breakpointObserver=be,this._parentSnackBar=yt,this._defaultConfig=Ct,this._snackBarRefAtThisLevel=null}openFromComponent(E,O){return this._attach(E,O)}openFromTemplate(E,O){return this._attach(E,O)}open(E,O="",re){const be={...this._defaultConfig,...re};return be.data={message:E,action:O},be.announcementMessage===E&&(be.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,be)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(E,O){const be=T.zs3.create({parent:O&&O.viewContainerRef&&O.viewContainerRef.injector||this._injector,providers:[{provide:Ao,useValue:O}]}),yt=new zo.C5(this.snackBarContainerComponent,O.viewContainerRef,be),Ct=E.attach(yt);return Ct.instance.snackBarConfig=O,Ct.instance}_attach(E,O){const re={...new Ao,...this._defaultConfig,...O},be=this._createOverlay(re),yt=this._attachSnackBarContainer(be,re),Ct=new ao(yt,be);if(E instanceof T.Rgc){const an=new zo.UE(E,null,{$implicit:re.data,snackBarRef:Ct});Ct.instance=yt.attachTemplatePortal(an)}else{const an=this._createInjector(re,Ct),Sn=new zo.C5(E,void 0,an),bn=yt.attachComponentPortal(Sn);Ct.instance=bn.instance}return this._breakpointObserver.observe(fe.u3.HandsetPortrait).pipe((0,_.R)(be.detachments())).subscribe(an=>{be.overlayElement.classList.toggle(this.handsetCssClass,an.matches)}),re.announcementMessage&&yt._onAnnounce.subscribe(()=>{this._live.announce(re.announcementMessage,re.politeness)}),this._animateSnackBar(Ct,re),this._openedSnackBarRef=Ct,this._openedSnackBarRef}_animateSnackBar(E,O){E.afterDismissed().subscribe(()=>{this._openedSnackBarRef==E&&(this._openedSnackBarRef=null),O.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{E.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):E.containerInstance.enter(),O.duration&&O.duration>0&&E.afterOpened().subscribe(()=>E._dismissAfter(O.duration))}_createOverlay(E){const O=new $e.X_;O.direction=E.direction;let re=this._overlay.position().global();const be="rtl"===E.direction,yt="left"===E.horizontalPosition||"start"===E.horizontalPosition&&!be||"end"===E.horizontalPosition&&be,Ct=!yt&&"center"!==E.horizontalPosition;return yt?re.left("0"):Ct?re.right("0"):re.centerHorizontally(),"top"===E.verticalPosition?re.top("0"):re.bottom("0"),O.positionStrategy=re,this._overlay.create(O)}_createInjector(E,O){return T.zs3.create({parent:E&&E.viewContainerRef&&E.viewContainerRef.injector||this._injector,providers:[{provide:ao,useValue:O},{provide:Mo,useValue:E.data}]})}}return L.\u0275fac=function(E){return new(E||L)(T.LFG($e.aV),T.LFG(W.Kd),T.LFG(T.zs3),T.LFG(fe.Yg),T.LFG(L,12),T.LFG(yr))},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac}),L})(),Fr=(()=>{class L extends Wr{constructor(E,O,re,be,yt,Ct){super(E,O,re,be,yt,Ct),this.simpleSnackBarComponent=U,this.snackBarContainerComponent=At,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return L.\u0275fac=function(E){return new(E||L)(T.LFG($e.aV),T.LFG(W.Kd),T.LFG(T.zs3),T.LFG(fe.Yg),T.LFG(L,12),T.LFG(yr))},L.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac,providedIn:_n}),L})(),oi=(()=>{class L{constructor(E,O){this.data=E,this.toastService=O}ngOnInit(){}getClassName(E){return"success"===E?"success":"info"}static#e=this.\u0275fac=function(O){return new(O||L)(T.Y36(Mo),T.Y36(jr))};static#t=this.\u0275cmp=T.Xpm({type:L,selectors:[["app-toast"]],decls:5,vars:1,consts:[[1,"toast-content"],[1,"message-div"],["aria-hidden","true",1,"close-btn",3,"click"]],template:function(O,re){1&O&&(T.TgZ(0,"div",0)(1,"div",1),T._uU(2),T.qZA(),T.TgZ(3,"div",2),T.NdJ("click",function(){return re.toastService.close()}),T._uU(4,"\xd7"),T.qZA()()),2&O&&(T.xp6(2),T.Oqu(re.data.message))},styles:[".close-btn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;padding:4px;display:inline-block;position:absolute;top:10px;right:10px;height:100%;font-size:18px;font-weight:600}.toast-content[_ngcontent-%COMP%]{align-content:normal;align-items:baseline}.message-div[_ngcontent-%COMP%]{display:block;word-wrap:break-word;margin-inline-end:14px}.mat-snack-bar-container[_ngcontent-%COMP%]{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.toast-success[_ngcontent-%COMP%]{width:100%;height:100%;z-index:100000;background-color:#006400;color:#fff}"]})}return L})(),jr=(()=>{class L{constructor(E){this.snackbar=E,this.toasts=[]}show(E){this.snackbar.openFromComponent(oi,{data:E,horizontalPosition:"center",verticalPosition:"bottom",panelClass:[`toast-${E.type}`,"toast-position"],duration:3e3})}close(){this.snackbar.dismiss()}static#e=this.\u0275fac=function(O){return new(O||L)(T.LFG(Fr))};static#t=this.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),g=(()=>{class L{constructor(E,O,re,be,yt){this.cookieService=E,this.authService=O,this.router=re,this.injector=be,this.toastservice=yt,this.currentLang=localStorage.getItem("lang")}intercept(E,O){if("GET"==E.method||"PATCH"==E.method){let re;"string"==typeof localStorage.getItem("token")?re=`Bearer ${JSON?.parse(localStorage.getItem("token"))}`:JSON.stringify(localStorage.getItem("token"))&&(re=`Bearer ${JSON?.parse(JSON.stringify(localStorage.getItem("token")))}`),E.url.includes("assets/i18n")||(E="ar"==this.injector.get($.sK).currentLang?E.clone({headers:E.headers.set("Authorization",re).set("lang","ar")}):E.clone({headers:E.headers.set("Authorization",re).set("lang","en")})),E.url.includes("/notification/list")&&(E=E.clone({headers:E.headers.set("x-device-token",localStorage.getItem("deviceToken"))}))}else if(("POST"==E.method||"PUT"==E.method||"DELETE"==E.method)&&!(E.url.includes("/SignIn")||E.url.includes("/forgetPassword")||E.url.includes("setNewPassword"))){let re;"string"==typeof localStorage.getItem("token")?re=`Bearer ${JSON?.parse(localStorage.getItem("token"))}`:JSON.stringify(localStorage.getItem("token"))&&(re=`Bearer ${JSON?.parse(JSON.stringify(localStorage.getItem("token")))}`),E="ar"==this.injector.get($.sK).currentLang?E.clone({headers:E.headers.set("Authorization",re).set("lang","ar")}):E.clone({headers:E.headers.set("Authorization",re).set("lang","en")})}return O.handle(E).pipe((0,ps.K)(re=>(re.error instanceof ErrorEvent||(401==re?.status?(localStorage.removeItem("token"),localStorage.removeItem("fingerPrint"),localStorage.removeItem("isLogin"),localStorage.removeItem("deviceToken"),localStorage.removeItem("me"),localStorage.removeItem("rules"),localStorage.removeItem("permissions"),localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])):re?.response?.data?this.toastservice.show({message:re.response.data.message,type:ri.Error}):("ERR_NETWORK"==re?.code&&(localStorage.removeItem("token"),localStorage.removeItem("fingerPrint"),localStorage.removeItem("isLogin"),localStorage.removeItem("permissions"),localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])),E.urlWithParams.toLowerCase().includes("permission/checkandgetpermission")||this.toastservice.show({message:re?.error?.message,type:ri.Error}))),(0,Kn._)(()=>re))))}static#e=this.\u0275fac=function(O){return new(O||L)(T.LFG(ms.N),T.LFG(gs.e),T.LFG(Pe.F0),T.LFG(T.zs3),T.LFG(jr))};static#t=this.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac})}return L})();class l{constructor(S,E="/assets/i18n/",O=".json"){this.http=S,this.prefix=E,this.suffix=O}getTranslation(S){return this.http.get(`${this.prefix}${S}${this.suffix}`)}}const d=void 0,A=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function b(L){const E=Math.floor(Math.abs(L)),O=L.toString().replace(/^[^.]*\.?/,"").length;return 1===E&&0===O?1:5}];var V=F(91811),he=F(75646);function xe(L){return new l(L,"./assets/i18n/",".json")}(0,In.qS)(A);let lt=(()=>{class L{static#e=this.\u0275fac=function(O){return new(O||L)};static#t=this.\u0275mod=T.oAB({type:L,bootstrap:[Te]});static#n=this.\u0275inj=T.cJS({providers:[Me.K,{provide:V.u7,useValue:V.iF},{provide:Y.TP,useClass:g,multi:!0}],imports:[y.b2,Pe.Bz,oe,No,Y.JF,_n,he.su.forRoot({apiKey:"AIzaSyB56iuuwKPp0AISP5qM40vgL7hQu32RRfc"}),li.Rh.forRoot(),$.aw.forRoot({defaultLanguage:localStorage.getItem("lang")||"ar",loader:{provide:$.Zw,useFactory:xe,deps:[Y.eN]},isolate:!0})]})}return L})();F(92340).N.production&&(0,T.G48)(),y.q6().bootstrapModule(lt).catch(L=>console.error(L))},6175:(Nn,nt,F)=>{"use strict";var y=F(39278);function T(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge?Ge:{default:Ge}}F(92451),F(61925),F(70199),F(45011),F(46101),F(92684),F(2517),F(20454),F(8072);var Y=T(y);Y.default.registerVersion("firebase","7.23.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Y.default.registerVersion("firebase","7.23.0"),Nn.exports=Y.default},32940:function(Nn,nt){!function(F){"use strict";function T(we){return new Promise(function(Rt,vt){we.onsuccess=function(){Rt(we.result)},we.onerror=function(){vt(we.error)}})}function Y(we,Rt,vt){var en,Ot=new Promise(function(je,ke){T(en=we[Rt].apply(we,vt)).then(je,ke)});return Ot.request=en,Ot}function z(we,Rt,vt){vt.forEach(function(en){Object.defineProperty(we.prototype,en,{get:function(){return this[Rt][en]},set:function(Ot){this[Rt][en]=Ot}})})}function Xe(we,Rt,vt,en){en.forEach(function(Ot){Ot in vt.prototype&&(we.prototype[Ot]=function(){return Y(this[Rt],Ot,arguments)})})}function ee(we,Rt,vt,en){en.forEach(function(Ot){Ot in vt.prototype&&(we.prototype[Ot]=function(){return this[Rt][Ot].apply(this[Rt],arguments)})})}function Ge(we,Rt,vt,en){en.forEach(function(Ot){Ot in vt.prototype&&(we.prototype[Ot]=function(){return function Pe(we,Rt,vt){var en=Y(we,Rt,vt);return en.then(function(Ot){if(Ot)return new $(Ot,en.request)})}(this[Rt],Ot,arguments)})})}function oe(we){this._index=we}function $(we,Rt){this._cursor=we,this._request=Rt}function Me(we){this._store=we}function Te(we){this._tx=we,this.complete=new Promise(function(Rt,vt){we.oncomplete=function(){Rt()},we.onerror=function(){vt(we.error)},we.onabort=function(){vt(we.error)}})}function De(we,Rt,vt){this._db=we,this.oldVersion=Rt,this.transaction=new Te(vt)}function _t(we){this._db=we}z(oe,"_index",["name","keyPath","multiEntry","unique"]),Xe(oe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ge(oe,"_index",IDBIndex,["openCursor","openKeyCursor"]),z($,"_cursor",["direction","key","primaryKey","value"]),Xe($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(we){we in IDBCursor.prototype&&($.prototype[we]=function(){var Rt=this,vt=arguments;return Promise.resolve().then(function(){return Rt._cursor[we].apply(Rt._cursor,vt),T(Rt._request).then(function(en){if(en)return new $(en,Rt._request)})})})}),Me.prototype.createIndex=function(){return new oe(this._store.createIndex.apply(this._store,arguments))},Me.prototype.index=function(){return new oe(this._store.index.apply(this._store,arguments))},z(Me,"_store",["name","keyPath","indexNames","autoIncrement"]),Xe(Me,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ge(Me,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ee(Me,"_store",IDBObjectStore,["deleteIndex"]),Te.prototype.objectStore=function(){return new Me(this._tx.objectStore.apply(this._tx,arguments))},z(Te,"_tx",["objectStoreNames","mode"]),ee(Te,"_tx",IDBTransaction,["abort"]),De.prototype.createObjectStore=function(){return new Me(this._db.createObjectStore.apply(this._db,arguments))},z(De,"_db",["name","version","objectStoreNames"]),ee(De,"_db",IDBDatabase,["deleteObjectStore","close"]),_t.prototype.transaction=function(){return new Te(this._db.transaction.apply(this._db,arguments))},z(_t,"_db",["name","version","objectStoreNames"]),ee(_t,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(we){[Me,oe].forEach(function(Rt){we in Rt.prototype&&(Rt.prototype[we.replace("open","iterate")]=function(){var vt=function y(we){return Array.prototype.slice.call(we)}(arguments),en=vt[vt.length-1],Ot=this._store||this._index,je=Ot[we].apply(Ot,vt.slice(0,-1));je.onsuccess=function(){en(je.result)}})})}),[oe,Me].forEach(function(we){we.prototype.getAll||(we.prototype.getAll=function(Rt,vt){var en=this,Ot=[];return new Promise(function(je){en.iterateCursor(Rt,function(ke){ke?(Ot.push(ke.value),void 0===vt||Ot.length!=vt?ke.continue():je(Ot)):je(Ot)})})})}),F.openDb=function Zt(we,Rt,vt){var en=Y(indexedDB,"open",[we,Rt]),Ot=en.request;return Ot&&(Ot.onupgradeneeded=function(je){vt&&vt(new De(Ot.result,je.oldVersion,Ot.transaction))}),en.then(function(je){return new _t(je)})},F.deleteDb=function zt(we){return Y(indexedDB,"deleteDatabase",[we])},Object.defineProperty(F,"__esModule",{value:!0})}(nt)},61135:(Nn,nt,F)=>{"use strict";F.d(nt,{X:()=>T});var y=F(77579);class T extends y.x{constructor(Pe){super(),this._value=Pe}get value(){return this.getValue()}_subscribe(Pe){const z=super._subscribe(Pe);return!z.closed&&Pe.next(this._value),z}getValue(){const{hasError:Pe,thrownError:z,_value:Xe}=this;if(Pe)throw z;return this._throwIfClosed(),Xe}next(Pe){super.next(this._value=Pe)}}},69751:(Nn,nt,F)=>{"use strict";F.d(nt,{y:()=>Ge});var y=F(70930),T=F(50727),Y=F(48822),Pe=F(89635),z=F(42416),Xe=F(30576),ee=F(72806);let Ge=(()=>{class Te{constructor(_t){_t&&(this._subscribe=_t)}lift(_t){const Zt=new Te;return Zt.source=this,Zt.operator=_t,Zt}subscribe(_t,Zt,zt){const we=function Me(Te){return Te&&Te instanceof y.Lv||function $(Te){return Te&&(0,Xe.m)(Te.next)&&(0,Xe.m)(Te.error)&&(0,Xe.m)(Te.complete)}(Te)&&(0,T.Nn)(Te)}(_t)?_t:new y.Hp(_t,Zt,zt);return(0,ee.x)(()=>{const{operator:Rt,source:vt}=this;we.add(Rt?Rt.call(we,vt):vt?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(_t){try{return this._subscribe(_t)}catch(Zt){_t.error(Zt)}}forEach(_t,Zt){return new(Zt=oe(Zt))((zt,we)=>{const Rt=new y.Hp({next:vt=>{try{_t(vt)}catch(en){we(en),Rt.unsubscribe()}},error:we,complete:zt});this.subscribe(Rt)})}_subscribe(_t){var Zt;return null===(Zt=this.source)||void 0===Zt?void 0:Zt.subscribe(_t)}[Y.L](){return this}pipe(..._t){return(0,Pe.U)(_t)(this)}toPromise(_t){return new(_t=oe(_t))((Zt,zt)=>{let we;this.subscribe(Rt=>we=Rt,Rt=>zt(Rt),()=>Zt(we))})}}return Te.create=De=>new Te(De),Te})();function oe(Te){var De;return null!==(De=Te??z.v.Promise)&&void 0!==De?De:Promise}},4707:(Nn,nt,F)=>{"use strict";F.d(nt,{t:()=>Y});var y=F(77579),T=F(26063);class Y extends y.x{constructor(z=1/0,Xe=1/0,ee=T.l){super(),this._bufferSize=z,this._windowTime=Xe,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Xe===1/0,this._bufferSize=Math.max(1,z),this._windowTime=Math.max(1,Xe)}next(z){const{isStopped:Xe,_buffer:ee,_infiniteTimeWindow:Ge,_timestampProvider:oe,_windowTime:$}=this;Xe||(ee.push(z),!Ge&&ee.push(oe.now()+$)),this._trimBuffer(),super.next(z)}_subscribe(z){this._throwIfClosed(),this._trimBuffer();const Xe=this._innerSubscribe(z),{_infiniteTimeWindow:ee,_buffer:Ge}=this,oe=Ge.slice();for(let $=0;$<oe.length&&!z.closed;$+=ee?1:2)z.next(oe[$]);return this._checkFinalizedStatuses(z),Xe}_trimBuffer(){const{_bufferSize:z,_timestampProvider:Xe,_buffer:ee,_infiniteTimeWindow:Ge}=this,oe=(Ge?1:2)*z;if(z<1/0&&oe<ee.length&&ee.splice(0,ee.length-oe),!Ge){const $=Xe.now();let Me=0;for(let Te=1;Te<ee.length&&ee[Te]<=$;Te+=2)Me=Te;Me&&ee.splice(0,Me+1)}}}},77579:(Nn,nt,F)=>{"use strict";F.d(nt,{x:()=>ee});var y=F(69751),T=F(50727);const Pe=(0,F(83888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=F(38737),Xe=F(72806);let ee=(()=>{class oe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Me){const Te=new Ge(this,this);return Te.operator=Me,Te}_throwIfClosed(){if(this.closed)throw new Pe}next(Me){(0,Xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(Me)}})}error(Me){(0,Xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Me;const{observers:Te}=this;for(;Te.length;)Te.shift().error(Me)}})}complete(){(0,Xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Me}=this;for(;Me.length;)Me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Me;return(null===(Me=this.observers)||void 0===Me?void 0:Me.length)>0}_trySubscribe(Me){return this._throwIfClosed(),super._trySubscribe(Me)}_subscribe(Me){return this._throwIfClosed(),this._checkFinalizedStatuses(Me),this._innerSubscribe(Me)}_innerSubscribe(Me){const{hasError:Te,isStopped:De,observers:_t}=this;return Te||De?T.Lc:(this.currentObservers=null,_t.push(Me),new T.w0(()=>{this.currentObservers=null,(0,z.P)(_t,Me)}))}_checkFinalizedStatuses(Me){const{hasError:Te,thrownError:De,isStopped:_t}=this;Te?Me.error(De):_t&&Me.complete()}asObservable(){const Me=new y.y;return Me.source=this,Me}}return oe.create=($,Me)=>new Ge($,Me),oe})();class Ge extends ee{constructor($,Me){super(),this.destination=$,this.source=Me}next($){var Me,Te;null===(Te=null===(Me=this.destination)||void 0===Me?void 0:Me.next)||void 0===Te||Te.call(Me,$)}error($){var Me,Te;null===(Te=null===(Me=this.destination)||void 0===Me?void 0:Me.error)||void 0===Te||Te.call(Me,$)}complete(){var $,Me;null===(Me=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===Me||Me.call($)}_subscribe($){var Me,Te;return null!==(Te=null===(Me=this.source)||void 0===Me?void 0:Me.subscribe($))&&void 0!==Te?Te:T.Lc}}},70930:(Nn,nt,F)=>{"use strict";F.d(nt,{Hp:()=>zt,Lv:()=>Te});var y=F(30576),T=F(50727),Y=F(42416),Pe=F(87849),z=F(25032);const Xe=oe("C",void 0,void 0);function oe(Ot,je,ke){return{kind:Ot,value:je,error:ke}}var $=F(43410),Me=F(72806);class Te extends T.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,T.Nn)(je)&&je.add(this)):this.destination=en}static create(je,ke,et){return new zt(je,ke,et)}next(je){this.isStopped?vt(function Ge(Ot){return oe("N",Ot,void 0)}(je),this):this._next(je)}error(je){this.isStopped?vt(function ee(Ot){return oe("E",void 0,Ot)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?vt(Xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function _t(Ot,je){return De.call(Ot,je)}class Zt{constructor(je){this.partialObserver=je}next(je){const{partialObserver:ke}=this;if(ke.next)try{ke.next(je)}catch(et){we(et)}}error(je){const{partialObserver:ke}=this;if(ke.error)try{ke.error(je)}catch(et){we(et)}else we(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(ke){we(ke)}}}class zt extends Te{constructor(je,ke,et){let f;if(super(),(0,y.m)(je)||!je)f={next:je??void 0,error:ke??void 0,complete:et??void 0};else{let k;this&&Y.v.useDeprecatedNextContext?(k=Object.create(je),k.unsubscribe=()=>this.unsubscribe(),f={next:je.next&&_t(je.next,k),error:je.error&&_t(je.error,k),complete:je.complete&&_t(je.complete,k)}):f=je}this.destination=new Zt(f)}}function we(Ot){Y.v.useDeprecatedSynchronousErrorHandling?(0,Me.O)(Ot):(0,Pe.h)(Ot)}function vt(Ot,je){const{onStoppedNotification:ke}=Y.v;ke&&$.z.setTimeout(()=>ke(Ot,je))}const en={closed:!0,next:z.Z,error:function Rt(Ot){throw Ot},complete:z.Z}},50727:(Nn,nt,F)=>{"use strict";F.d(nt,{Lc:()=>Xe,w0:()=>z,Nn:()=>ee});var y=F(30576);const Y=(0,F(83888).d)(oe=>function(Me){oe(this),this.message=Me?`${Me.length} errors occurred during unsubscription:\n${Me.map((Te,De)=>`${De+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Me});var Pe=F(38737);class z{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:Me}=this;if(Me)if(this._parentage=null,Array.isArray(Me))for(const _t of Me)_t.remove(this);else Me.remove(this);const{initialTeardown:Te}=this;if((0,y.m)(Te))try{Te()}catch(_t){$=_t instanceof Y?_t.errors:[_t]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const _t of De)try{Ge(_t)}catch(Zt){$=$??[],Zt instanceof Y?$=[...$,...Zt.errors]:$.push(Zt)}}if($)throw new Y($)}}add($){var Me;if($&&$!==this)if(this.closed)Ge($);else{if($ instanceof z){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(Me=this._finalizers)&&void 0!==Me?Me:[]).push($)}}_hasParent($){const{_parentage:Me}=this;return Me===$||Array.isArray(Me)&&Me.includes($)}_addParent($){const{_parentage:Me}=this;this._parentage=Array.isArray(Me)?(Me.push($),Me):Me?[Me,$]:$}_removeParent($){const{_parentage:Me}=this;Me===$?this._parentage=null:Array.isArray(Me)&&(0,Pe.P)(Me,$)}remove($){const{_finalizers:Me}=this;Me&&(0,Pe.P)(Me,$),$ instanceof z&&$._removeParent(this)}}z.EMPTY=(()=>{const oe=new z;return oe.closed=!0,oe})();const Xe=z.EMPTY;function ee(oe){return oe instanceof z||oe&&"closed"in oe&&(0,y.m)(oe.remove)&&(0,y.m)(oe.add)&&(0,y.m)(oe.unsubscribe)}function Ge(oe){(0,y.m)(oe)?oe():oe.unsubscribe()}},42416:(Nn,nt,F)=>{"use strict";F.d(nt,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},94033:(Nn,nt,F)=>{"use strict";F.d(nt,{c:()=>Xe});var y=F(69751),T=F(50727),Y=F(38343),Pe=F(25403),z=F(54482);class Xe extends y.y{constructor(Ge,oe){super(),this.source=Ge,this.subjectFactory=oe,this._subject=null,this._refCount=0,this._connection=null,(0,z.A)(Ge)&&(this.lift=Ge.lift)}_subscribe(Ge){return this.getSubject().subscribe(Ge)}getSubject(){const Ge=this._subject;return(!Ge||Ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ge}=this;this._subject=this._connection=null,Ge?.unsubscribe()}connect(){let Ge=this._connection;if(!Ge){Ge=this._connection=new T.w0;const oe=this.getSubject();Ge.add(this.source.subscribe((0,Pe.x)(oe,void 0,()=>{this._teardown(),oe.complete()},$=>{this._teardown(),oe.error($)},()=>this._teardown()))),Ge.closed&&(this._connection=null,Ge=T.w0.EMPTY)}return Ge}refCount(){return(0,Y.x)()(this)}}},39841:(Nn,nt,F)=>{"use strict";F.d(nt,{a:()=>$});var y=F(69751),T=F(54742),Y=F(88996),Pe=F(44671),z=F(83268),Xe=F(63269),ee=F(31810),Ge=F(25403),oe=F(39672);function $(...De){const _t=(0,Xe.yG)(De),Zt=(0,Xe.jO)(De),{args:zt,keys:we}=(0,T.D)(De);if(0===zt.length)return(0,Y.D)([],_t);const Rt=new y.y(function Me(De,_t,Zt=Pe.y){return zt=>{Te(_t,()=>{const{length:we}=De,Rt=new Array(we);let vt=we,en=we;for(let Ot=0;Ot<we;Ot++)Te(_t,()=>{const je=(0,Y.D)(De[Ot],_t);let ke=!1;je.subscribe((0,Ge.x)(zt,et=>{Rt[Ot]=et,ke||(ke=!0,en--),en||zt.next(Zt(Rt.slice()))},()=>{--vt||zt.complete()}))},zt)},zt)}}(zt,_t,we?vt=>(0,ee.n)(we,vt):Pe.y));return Zt?Rt.pipe((0,z.Z)(Zt)):Rt}function Te(De,_t,Zt){De?(0,oe.f)(Zt,De,_t):_t()}},97272:(Nn,nt,F)=>{"use strict";F.d(nt,{z:()=>z});var y=F(8189),Y=F(63269),Pe=F(88996);function z(...Xe){return function T(){return(0,y.J)(1)}()((0,Pe.D)(Xe,(0,Y.yG)(Xe)))}},49770:(Nn,nt,F)=>{"use strict";F.d(nt,{P:()=>Y});var y=F(69751),T=F(38421);function Y(Pe){return new y.y(z=>{(0,T.Xf)(Pe()).subscribe(z)})}},60515:(Nn,nt,F)=>{"use strict";F.d(nt,{E:()=>T});const T=new(F(69751).y)(z=>z.complete())},4128:(Nn,nt,F)=>{"use strict";F.d(nt,{D:()=>Ge});var y=F(69751),T=F(54742),Y=F(38421),Pe=F(63269),z=F(25403),Xe=F(83268),ee=F(31810);function Ge(...oe){const $=(0,Pe.jO)(oe),{args:Me,keys:Te}=(0,T.D)(oe),De=new y.y(_t=>{const{length:Zt}=Me;if(!Zt)return void _t.complete();const zt=new Array(Zt);let we=Zt,Rt=Zt;for(let vt=0;vt<Zt;vt++){let en=!1;(0,Y.Xf)(Me[vt]).subscribe((0,z.x)(_t,Ot=>{en||(en=!0,Rt--),zt[vt]=Ot},()=>we--,void 0,()=>{(!we||!en)&&(Rt||_t.next(Te?(0,ee.n)(Te,zt):zt),_t.complete())}))}});return $?De.pipe((0,Xe.Z)($)):De}},88996:(Nn,nt,F)=>{"use strict";F.d(nt,{D:()=>je});var y=F(38421),T=F(85363),Y=F(49468),Xe=F(69751),Ge=F(2202),oe=F(30576),$=F(39672);function Te(ke,et){if(!ke)throw new Error("Iterable cannot be null");return new Xe.y(f=>{(0,$.f)(f,et,()=>{const k=ke[Symbol.asyncIterator]();(0,$.f)(f,et,()=>{k.next().then(D=>{D.done?f.complete():f.next(D.value)})},0,!0)})})}var De=F(93670),_t=F(28239),Zt=F(81144),zt=F(26495),we=F(12206),Rt=F(44532),vt=F(53260);function je(ke,et){return et?function Ot(ke,et){if(null!=ke){if((0,De.c)(ke))return function Pe(ke,et){return(0,y.Xf)(ke).pipe((0,Y.R)(et),(0,T.Q)(et))}(ke,et);if((0,Zt.z)(ke))return function ee(ke,et){return new Xe.y(f=>{let k=0;return et.schedule(function(){k===ke.length?f.complete():(f.next(ke[k++]),f.closed||this.schedule())})})}(ke,et);if((0,_t.t)(ke))return function z(ke,et){return(0,y.Xf)(ke).pipe((0,Y.R)(et),(0,T.Q)(et))}(ke,et);if((0,we.D)(ke))return Te(ke,et);if((0,zt.T)(ke))return function Me(ke,et){return new Xe.y(f=>{let k;return(0,$.f)(f,et,()=>{k=ke[Ge.h](),(0,$.f)(f,et,()=>{let D,G;try{({value:D,done:G}=k.next())}catch(J){return void f.error(J)}G?f.complete():f.next(D)},0,!0)}),()=>(0,oe.m)(k?.return)&&k.return()})}(ke,et);if((0,vt.L)(ke))return function en(ke,et){return Te((0,vt.Q)(ke),et)}(ke,et)}throw(0,Rt.z)(ke)}(ke,et):(0,y.Xf)(ke)}},54968:(Nn,nt,F)=>{"use strict";F.d(nt,{R:()=>$});var y=F(38421),T=F(69751),Y=F(95577),Pe=F(81144),z=F(30576),Xe=F(83268);const ee=["addListener","removeListener"],Ge=["addEventListener","removeEventListener"],oe=["on","off"];function $(Zt,zt,we,Rt){if((0,z.m)(we)&&(Rt=we,we=void 0),Rt)return $(Zt,zt,we).pipe((0,Xe.Z)(Rt));const[vt,en]=function _t(Zt){return(0,z.m)(Zt.addEventListener)&&(0,z.m)(Zt.removeEventListener)}(Zt)?Ge.map(Ot=>je=>Zt[Ot](zt,je,we)):function Te(Zt){return(0,z.m)(Zt.addListener)&&(0,z.m)(Zt.removeListener)}(Zt)?ee.map(Me(Zt,zt)):function De(Zt){return(0,z.m)(Zt.on)&&(0,z.m)(Zt.off)}(Zt)?oe.map(Me(Zt,zt)):[];if(!vt&&(0,Pe.z)(Zt))return(0,Y.z)(Ot=>$(Ot,zt,we))((0,y.Xf)(Zt));if(!vt)throw new TypeError("Invalid event target");return new T.y(Ot=>{const je=(...ke)=>Ot.next(1<ke.length?ke:ke[0]);return vt(je),()=>en(je)})}function Me(Zt,zt){return we=>Rt=>Zt[we](zt,Rt)}},38421:(Nn,nt,F)=>{"use strict";F.d(nt,{Xf:()=>De});var y=F(97582),T=F(81144),Y=F(28239),Pe=F(69751),z=F(93670),Xe=F(12206),ee=F(44532),Ge=F(26495),oe=F(53260),$=F(30576),Me=F(87849),Te=F(48822);function De(Ot){if(Ot instanceof Pe.y)return Ot;if(null!=Ot){if((0,z.c)(Ot))return function _t(Ot){return new Pe.y(je=>{const ke=Ot[Te.L]();if((0,$.m)(ke.subscribe))return ke.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ot);if((0,T.z)(Ot))return function Zt(Ot){return new Pe.y(je=>{for(let ke=0;ke<Ot.length&&!je.closed;ke++)je.next(Ot[ke]);je.complete()})}(Ot);if((0,Y.t)(Ot))return function zt(Ot){return new Pe.y(je=>{Ot.then(ke=>{je.closed||(je.next(ke),je.complete())},ke=>je.error(ke)).then(null,Me.h)})}(Ot);if((0,Xe.D)(Ot))return Rt(Ot);if((0,Ge.T)(Ot))return function we(Ot){return new Pe.y(je=>{for(const ke of Ot)if(je.next(ke),je.closed)return;je.complete()})}(Ot);if((0,oe.L)(Ot))return function vt(Ot){return Rt((0,oe.Q)(Ot))}(Ot)}throw(0,ee.z)(Ot)}function Rt(Ot){return new Pe.y(je=>{(function en(Ot,je){var ke,et,f,k;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ke=(0,y.KL)(Ot);!(et=yield ke.next()).done;)if(je.next(et.value),je.closed)return}catch(D){f={error:D}}finally{try{et&&!et.done&&(k=ke.return)&&(yield k.call(ke))}finally{if(f)throw f.error}}je.complete()})})(Ot,je).catch(ke=>je.error(ke))})}},56451:(Nn,nt,F)=>{"use strict";F.d(nt,{T:()=>Xe});var y=F(8189),T=F(38421),Y=F(60515),Pe=F(63269),z=F(88996);function Xe(...ee){const Ge=(0,Pe.yG)(ee),oe=(0,Pe._6)(ee,1/0),$=ee;return $.length?1===$.length?(0,T.Xf)($[0]):(0,y.J)(oe)((0,z.D)($,Ge)):Y.E}},39646:(Nn,nt,F)=>{"use strict";F.d(nt,{of:()=>Y});var y=F(63269),T=F(88996);function Y(...Pe){const z=(0,y.yG)(Pe);return(0,T.D)(Pe,z)}},62843:(Nn,nt,F)=>{"use strict";F.d(nt,{_:()=>Y});var y=F(69751),T=F(30576);function Y(Pe,z){const Xe=(0,T.m)(Pe)?Pe:()=>Pe,ee=Ge=>Ge.error(Xe());return new y.y(z?Ge=>z.schedule(ee,0,Ge):ee)}},5963:(Nn,nt,F)=>{"use strict";F.d(nt,{H:()=>z});var y=F(69751),T=F(34986),Y=F(93532);function z(Xe=0,ee,Ge=T.P){let oe=-1;return null!=ee&&((0,Y.K)(ee)?Ge=ee:oe=ee),new y.y($=>{let Me=function Pe(Xe){return Xe instanceof Date&&!isNaN(Xe)}(Xe)?+Xe-Ge.now():Xe;Me<0&&(Me=0);let Te=0;return Ge.schedule(function(){$.closed||($.next(Te++),0<=oe?this.schedule(void 0,oe):$.complete())},Me)})}},25403:(Nn,nt,F)=>{"use strict";F.d(nt,{x:()=>T});var y=F(70930);function T(Pe,z,Xe,ee,Ge){return new Y(Pe,z,Xe,ee,Ge)}class Y extends y.Lv{constructor(z,Xe,ee,Ge,oe,$){super(z),this.onFinalize=oe,this.shouldUnsubscribe=$,this._next=Xe?function(Me){try{Xe(Me)}catch(Te){z.error(Te)}}:super._next,this._error=Ge?function(Me){try{Ge(Me)}catch(Te){z.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(Me){z.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Xe}=this;super.unsubscribe(),!Xe&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},23601:(Nn,nt,F)=>{"use strict";F.d(nt,{e:()=>ee});var y=F(34986),T=F(54482),Y=F(38421),Pe=F(25403),Xe=F(5963);function ee(Ge,oe=y.z){return function z(Ge){return(0,T.e)((oe,$)=>{let Me=!1,Te=null,De=null,_t=!1;const Zt=()=>{if(De?.unsubscribe(),De=null,Me){Me=!1;const we=Te;Te=null,$.next(we)}_t&&$.complete()},zt=()=>{De=null,_t&&$.complete()};oe.subscribe((0,Pe.x)($,we=>{Me=!0,Te=we,De||(0,Y.Xf)(Ge(we)).subscribe(De=(0,Pe.x)($,Zt,zt))},()=>{_t=!0,(!Me||!De||De.closed)&&$.complete()}))})}(()=>(0,Xe.H)(Ge,oe))}},70262:(Nn,nt,F)=>{"use strict";F.d(nt,{K:()=>Pe});var y=F(38421),T=F(25403),Y=F(54482);function Pe(z){return(0,Y.e)((Xe,ee)=>{let $,Ge=null,oe=!1;Ge=Xe.subscribe((0,T.x)(ee,void 0,void 0,Me=>{$=(0,y.Xf)(z(Me,Pe(z)(Xe))),Ge?(Ge.unsubscribe(),Ge=null,$.subscribe(ee)):oe=!0})),oe&&(Ge.unsubscribe(),Ge=null,$.subscribe(ee))})}},24351:(Nn,nt,F)=>{"use strict";F.d(nt,{b:()=>Y});var y=F(95577),T=F(30576);function Y(Pe,z){return(0,T.m)(z)?(0,y.z)(Pe,z,1):(0,y.z)(Pe,1)}},78372:(Nn,nt,F)=>{"use strict";F.d(nt,{b:()=>Pe});var y=F(34986),T=F(54482),Y=F(25403);function Pe(z,Xe=y.z){return(0,T.e)((ee,Ge)=>{let oe=null,$=null,Me=null;const Te=()=>{if(oe){oe.unsubscribe(),oe=null;const _t=$;$=null,Ge.next(_t)}};function De(){const _t=Me+z,Zt=Xe.now();if(Zt<_t)return oe=this.schedule(void 0,_t-Zt),void Ge.add(oe);Te()}ee.subscribe((0,Y.x)(Ge,_t=>{$=_t,Me=Xe.now(),oe||(oe=Xe.schedule(De,z),Ge.add(oe))},()=>{Te(),Ge.complete()},void 0,()=>{$=oe=null}))})}},71884:(Nn,nt,F)=>{"use strict";F.d(nt,{x:()=>Pe});var y=F(44671),T=F(54482),Y=F(25403);function Pe(Xe,ee=y.y){return Xe=Xe??z,(0,T.e)((Ge,oe)=>{let $,Me=!0;Ge.subscribe((0,Y.x)(oe,Te=>{const De=ee(Te);(Me||!Xe($,De))&&(Me=!1,$=De,oe.next(Te))}))})}function z(Xe,ee){return Xe===ee}},39300:(Nn,nt,F)=>{"use strict";F.d(nt,{h:()=>Y});var y=F(54482),T=F(25403);function Y(Pe,z){return(0,y.e)((Xe,ee)=>{let Ge=0;Xe.subscribe((0,T.x)(ee,oe=>Pe.call(z,oe,Ge++)&&ee.next(oe)))})}},28746:(Nn,nt,F)=>{"use strict";F.d(nt,{x:()=>T});var y=F(54482);function T(Y){return(0,y.e)((Pe,z)=>{try{Pe.subscribe(z)}finally{z.add(Y)}})}},54004:(Nn,nt,F)=>{"use strict";F.d(nt,{U:()=>Y});var y=F(54482),T=F(25403);function Y(Pe,z){return(0,y.e)((Xe,ee)=>{let Ge=0;Xe.subscribe((0,T.x)(ee,oe=>{ee.next(Pe.call(z,oe,Ge++))}))})}},69718:(Nn,nt,F)=>{"use strict";F.d(nt,{h:()=>T});var y=F(54004);function T(Y){return(0,y.U)(()=>Y)}},8189:(Nn,nt,F)=>{"use strict";F.d(nt,{J:()=>Y});var y=F(95577),T=F(44671);function Y(Pe=1/0){return(0,y.z)(T.y,Pe)}},95577:(Nn,nt,F)=>{"use strict";F.d(nt,{z:()=>Ge});var y=F(54004),T=F(38421),Y=F(54482),Pe=F(39672),z=F(25403),ee=F(30576);function Ge(oe,$,Me=1/0){return(0,ee.m)($)?Ge((Te,De)=>(0,y.U)((_t,Zt)=>$(Te,_t,De,Zt))((0,T.Xf)(oe(Te,De))),Me):("number"==typeof $&&(Me=$),(0,Y.e)((Te,De)=>function Xe(oe,$,Me,Te,De,_t,Zt,zt){const we=[];let Rt=0,vt=0,en=!1;const Ot=()=>{en&&!we.length&&!Rt&&$.complete()},je=et=>Rt<Te?ke(et):we.push(et),ke=et=>{_t&&$.next(et),Rt++;let f=!1;(0,T.Xf)(Me(et,vt++)).subscribe((0,z.x)($,k=>{De?.(k),_t?je(k):$.next(k)},()=>{f=!0},void 0,()=>{if(f)try{for(Rt--;we.length&&Rt<Te;){const k=we.shift();Zt?(0,Pe.f)($,Zt,()=>ke(k)):ke(k)}Ot()}catch(k){$.error(k)}}))};return oe.subscribe((0,z.x)($,je,()=>{en=!0,Ot()})),()=>{zt?.()}}(Te,De,oe,Me)))}},85363:(Nn,nt,F)=>{"use strict";F.d(nt,{Q:()=>Pe});var y=F(39672),T=F(54482),Y=F(25403);function Pe(z,Xe=0){return(0,T.e)((ee,Ge)=>{ee.subscribe((0,Y.x)(Ge,oe=>(0,y.f)(Ge,z,()=>Ge.next(oe),Xe),()=>(0,y.f)(Ge,z,()=>Ge.complete(),Xe),oe=>(0,y.f)(Ge,z,()=>Ge.error(oe),Xe)))})}},38343:(Nn,nt,F)=>{"use strict";F.d(nt,{x:()=>Y});var y=F(54482),T=F(25403);function Y(){return(0,y.e)((Pe,z)=>{let Xe=null;Pe._refCount++;const ee=(0,T.x)(z,void 0,void 0,void 0,()=>{if(!Pe||Pe._refCount<=0||0<--Pe._refCount)return void(Xe=null);const Ge=Pe._connection,oe=Xe;Xe=null,Ge&&(!oe||Ge===oe)&&Ge.unsubscribe(),z.unsubscribe()});Pe.subscribe(ee),ee.closed||(Xe=Pe.connect())})}},13099:(Nn,nt,F)=>{"use strict";F.d(nt,{B:()=>z});var y=F(38421),T=F(77579),Y=F(70930),Pe=F(54482);function z(ee={}){const{connector:Ge=(()=>new T.x),resetOnError:oe=!0,resetOnComplete:$=!0,resetOnRefCountZero:Me=!0}=ee;return Te=>{let De,_t,Zt,zt=0,we=!1,Rt=!1;const vt=()=>{_t?.unsubscribe(),_t=void 0},en=()=>{vt(),De=Zt=void 0,we=Rt=!1},Ot=()=>{const je=De;en(),je?.unsubscribe()};return(0,Pe.e)((je,ke)=>{zt++,!Rt&&!we&&vt();const et=Zt=Zt??Ge();ke.add(()=>{zt--,0===zt&&!Rt&&!we&&(_t=Xe(Ot,Me))}),et.subscribe(ke),!De&&zt>0&&(De=new Y.Hp({next:f=>et.next(f),error:f=>{Rt=!0,vt(),_t=Xe(en,oe,f),et.error(f)},complete:()=>{we=!0,vt(),_t=Xe(en,$),et.complete()}}),(0,y.Xf)(je).subscribe(De))})(Te)}}function Xe(ee,Ge,...oe){if(!0===Ge)return void ee();if(!1===Ge)return;const $=new Y.Hp({next:()=>{$.unsubscribe(),ee()}});return Ge(...oe).subscribe($)}},34782:(Nn,nt,F)=>{"use strict";F.d(nt,{d:()=>Y});var y=F(4707),T=F(13099);function Y(Pe,z,Xe){let ee,Ge=!1;return Pe&&"object"==typeof Pe?({bufferSize:ee=1/0,windowTime:z=1/0,refCount:Ge=!1,scheduler:Xe}=Pe):ee=Pe??1/0,(0,T.B)({connector:()=>new y.t(ee,z,Xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}},35684:(Nn,nt,F)=>{"use strict";F.d(nt,{T:()=>T});var y=F(39300);function T(Y){return(0,y.h)((Pe,z)=>Y<=z)}},68675:(Nn,nt,F)=>{"use strict";F.d(nt,{O:()=>Pe});var y=F(97272),T=F(63269),Y=F(54482);function Pe(...z){const Xe=(0,T.yG)(z);return(0,Y.e)((ee,Ge)=>{(Xe?(0,y.z)(z,ee,Xe):(0,y.z)(z,ee)).subscribe(Ge)})}},49468:(Nn,nt,F)=>{"use strict";F.d(nt,{R:()=>T});var y=F(54482);function T(Y,Pe=0){return(0,y.e)((z,Xe)=>{Xe.add(Y.schedule(()=>z.subscribe(Xe),Pe))})}},63900:(Nn,nt,F)=>{"use strict";F.d(nt,{w:()=>Pe});var y=F(38421),T=F(54482),Y=F(25403);function Pe(z,Xe){return(0,T.e)((ee,Ge)=>{let oe=null,$=0,Me=!1;const Te=()=>Me&&!oe&&Ge.complete();ee.subscribe((0,Y.x)(Ge,De=>{oe?.unsubscribe();let _t=0;const Zt=$++;(0,y.Xf)(z(De,Zt)).subscribe(oe=(0,Y.x)(Ge,zt=>Ge.next(Xe?Xe(De,zt,Zt,_t++):zt),()=>{oe=null,Te()}))},()=>{Me=!0,Te()}))})}},95698:(Nn,nt,F)=>{"use strict";F.d(nt,{q:()=>Pe});var y=F(60515),T=F(54482),Y=F(25403);function Pe(z){return z<=0?()=>y.E:(0,T.e)((Xe,ee)=>{let Ge=0;Xe.subscribe((0,Y.x)(ee,oe=>{++Ge<=z&&(ee.next(oe),z<=Ge&&ee.complete())}))})}},82722:(Nn,nt,F)=>{"use strict";F.d(nt,{R:()=>z});var y=F(54482),T=F(25403),Y=F(38421),Pe=F(25032);function z(Xe){return(0,y.e)((ee,Ge)=>{(0,Y.Xf)(Xe).subscribe((0,T.x)(Ge,()=>Ge.complete(),Pe.Z)),!Ge.closed&&ee.subscribe(Ge)})}},22529:(Nn,nt,F)=>{"use strict";F.d(nt,{o:()=>Y});var y=F(54482),T=F(25403);function Y(Pe,z=!1){return(0,y.e)((Xe,ee)=>{let Ge=0;Xe.subscribe((0,T.x)(ee,oe=>{const $=Pe(oe,Ge++);($||z)&&ee.next(oe),!$&&ee.complete()}))})}},18505:(Nn,nt,F)=>{"use strict";F.d(nt,{b:()=>z});var y=F(30576),T=F(54482),Y=F(25403),Pe=F(44671);function z(Xe,ee,Ge){const oe=(0,y.m)(Xe)||ee||Ge?{next:Xe,error:ee,complete:Ge}:Xe;return oe?(0,T.e)(($,Me)=>{var Te;null===(Te=oe.subscribe)||void 0===Te||Te.call(oe);let De=!0;$.subscribe((0,Y.x)(Me,_t=>{var Zt;null===(Zt=oe.next)||void 0===Zt||Zt.call(oe,_t),Me.next(_t)},()=>{var _t;De=!1,null===(_t=oe.complete)||void 0===_t||_t.call(oe),Me.complete()},_t=>{var Zt;De=!1,null===(Zt=oe.error)||void 0===Zt||Zt.call(oe,_t),Me.error(_t)},()=>{var _t,Zt;De&&(null===(_t=oe.unsubscribe)||void 0===_t||_t.call(oe)),null===(Zt=oe.finalize)||void 0===Zt||Zt.call(oe)}))}):Pe.y}},84408:(Nn,nt,F)=>{"use strict";F.d(nt,{o:()=>z});var y=F(50727);class T extends y.w0{constructor(ee,Ge){super()}schedule(ee,Ge=0){return this}}const Y={setInterval(Xe,ee,...Ge){const{delegate:oe}=Y;return oe?.setInterval?oe.setInterval(Xe,ee,...Ge):setInterval(Xe,ee,...Ge)},clearInterval(Xe){const{delegate:ee}=Y;return(ee?.clearInterval||clearInterval)(Xe)},delegate:void 0};var Pe=F(38737);class z extends T{constructor(ee,Ge){super(ee,Ge),this.scheduler=ee,this.work=Ge,this.pending=!1}schedule(ee,Ge=0){var oe;if(this.closed)return this;this.state=ee;const $=this.id,Me=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(Me,$,Ge)),this.pending=!0,this.delay=Ge,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(Me,this.id,Ge),this}requestAsyncId(ee,Ge,oe=0){return Y.setInterval(ee.flush.bind(ee,this),oe)}recycleAsyncId(ee,Ge,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return Ge;null!=Ge&&Y.clearInterval(Ge)}execute(ee,Ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ee,Ge);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,Ge){let $,oe=!1;try{this.work(ee)}catch(Me){oe=!0,$=Me||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ee,scheduler:Ge}=this,{actions:oe}=Ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pe.P)(oe,this),null!=ee&&(this.id=this.recycleAsyncId(Ge,ee,null)),this.delay=null,super.unsubscribe()}}}},97565:(Nn,nt,F)=>{"use strict";F.d(nt,{v:()=>Y});var y=F(26063);class T{constructor(z,Xe=T.now){this.schedulerActionCtor=z,this.now=Xe}schedule(z,Xe=0,ee){return new this.schedulerActionCtor(this,z).schedule(ee,Xe)}}T.now=y.l.now;class Y extends T{constructor(z,Xe=T.now){super(z,Xe),this.actions=[],this._active=!1}flush(z){const{actions:Xe}=this;if(this._active)return void Xe.push(z);let ee;this._active=!0;do{if(ee=z.execute(z.state,z.delay))break}while(z=Xe.shift());if(this._active=!1,ee){for(;z=Xe.shift();)z.unsubscribe();throw ee}}}},53101:(Nn,nt,F)=>{"use strict";F.d(nt,{E:()=>_t});var y=F(84408);let Y,T=1;const Pe={};function z(zt){return zt in Pe&&(delete Pe[zt],!0)}const Xe={setImmediate(zt){const we=T++;return Pe[we]=!0,Y||(Y=Promise.resolve()),Y.then(()=>z(we)&&zt()),we},clearImmediate(zt){z(zt)}},{setImmediate:Ge,clearImmediate:oe}=Xe,$={setImmediate(...zt){const{delegate:we}=$;return(we?.setImmediate||Ge)(...zt)},clearImmediate(zt){const{delegate:we}=$;return(we?.clearImmediate||oe)(zt)},delegate:void 0};var Te=F(97565);const _t=new class De extends Te.v{flush(we){this._active=!0;const Rt=this._scheduled;this._scheduled=void 0;const{actions:vt}=this;let en;we=we||vt.shift();do{if(en=we.execute(we.state,we.delay))break}while((we=vt[0])&&we.id===Rt&&vt.shift());if(this._active=!1,en){for(;(we=vt[0])&&we.id===Rt&&vt.shift();)we.unsubscribe();throw en}}}(class Me extends y.o{constructor(we,Rt){super(we,Rt),this.scheduler=we,this.work=Rt}requestAsyncId(we,Rt,vt=0){return null!==vt&&vt>0?super.requestAsyncId(we,Rt,vt):(we.actions.push(this),we._scheduled||(we._scheduled=$.setImmediate(we.flush.bind(we,void 0))))}recycleAsyncId(we,Rt,vt=0){var en;if(null!=vt?vt>0:this.delay>0)return super.recycleAsyncId(we,Rt,vt);const{actions:Ot}=we;null!=Rt&&(null===(en=Ot[Ot.length-1])||void 0===en?void 0:en.id)!==Rt&&($.clearImmediate(Rt),we._scheduled=void 0)}})},34986:(Nn,nt,F)=>{"use strict";F.d(nt,{P:()=>Pe,z:()=>Y});var y=F(84408);const Y=new(F(97565).v)(y.o),Pe=Y},26063:(Nn,nt,F)=>{"use strict";F.d(nt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},43410:(Nn,nt,F)=>{"use strict";F.d(nt,{z:()=>y});const y={setTimeout(T,Y,...Pe){const{delegate:z}=y;return z?.setTimeout?z.setTimeout(T,Y,...Pe):setTimeout(T,Y,...Pe)},clearTimeout(T){const{delegate:Y}=y;return(Y?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(Nn,nt,F)=>{"use strict";F.d(nt,{h:()=>T});const T=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},48822:(Nn,nt,F)=>{"use strict";F.d(nt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},63269:(Nn,nt,F)=>{"use strict";F.d(nt,{_6:()=>Xe,jO:()=>Pe,yG:()=>z});var y=F(30576),T=F(93532);function Y(ee){return ee[ee.length-1]}function Pe(ee){return(0,y.m)(Y(ee))?ee.pop():void 0}function z(ee){return(0,T.K)(Y(ee))?ee.pop():void 0}function Xe(ee,Ge){return"number"==typeof Y(ee)?ee.pop():Ge}},54742:(Nn,nt,F)=>{"use strict";F.d(nt,{D:()=>z});const{isArray:y}=Array,{getPrototypeOf:T,prototype:Y,keys:Pe}=Object;function z(ee){if(1===ee.length){const Ge=ee[0];if(y(Ge))return{args:Ge,keys:null};if(function Xe(ee){return ee&&"object"==typeof ee&&T(ee)===Y}(Ge)){const oe=Pe(Ge);return{args:oe.map($=>Ge[$]),keys:oe}}}return{args:ee,keys:null}}},38737:(Nn,nt,F)=>{"use strict";function y(T,Y){if(T){const Pe=T.indexOf(Y);0<=Pe&&T.splice(Pe,1)}}F.d(nt,{P:()=>y})},83888:(Nn,nt,F)=>{"use strict";function y(T){const Pe=T(z=>{Error.call(z),z.stack=(new Error).stack});return Pe.prototype=Object.create(Error.prototype),Pe.prototype.constructor=Pe,Pe}F.d(nt,{d:()=>y})},31810:(Nn,nt,F)=>{"use strict";function y(T,Y){return T.reduce((Pe,z,Xe)=>(Pe[z]=Y[Xe],Pe),{})}F.d(nt,{n:()=>y})},72806:(Nn,nt,F)=>{"use strict";F.d(nt,{O:()=>Pe,x:()=>Y});var y=F(42416);let T=null;function Y(z){if(y.v.useDeprecatedSynchronousErrorHandling){const Xe=!T;if(Xe&&(T={errorThrown:!1,error:null}),z(),Xe){const{errorThrown:ee,error:Ge}=T;if(T=null,ee)throw Ge}}else z()}function Pe(z){y.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=z)}},39672:(Nn,nt,F)=>{"use strict";function y(T,Y,Pe,z=0,Xe=!1){const ee=Y.schedule(function(){Pe(),Xe?T.add(this.schedule(null,z)):this.unsubscribe()},z);if(T.add(ee),!Xe)return ee}F.d(nt,{f:()=>y})},44671:(Nn,nt,F)=>{"use strict";function y(T){return T}F.d(nt,{y:()=>y})},81144:(Nn,nt,F)=>{"use strict";F.d(nt,{z:()=>y});const y=T=>T&&"number"==typeof T.length&&"function"!=typeof T},12206:(Nn,nt,F)=>{"use strict";F.d(nt,{D:()=>T});var y=F(30576);function T(Y){return Symbol.asyncIterator&&(0,y.m)(Y?.[Symbol.asyncIterator])}},30576:(Nn,nt,F)=>{"use strict";function y(T){return"function"==typeof T}F.d(nt,{m:()=>y})},93670:(Nn,nt,F)=>{"use strict";F.d(nt,{c:()=>Y});var y=F(48822),T=F(30576);function Y(Pe){return(0,T.m)(Pe[y.L])}},26495:(Nn,nt,F)=>{"use strict";F.d(nt,{T:()=>Y});var y=F(2202),T=F(30576);function Y(Pe){return(0,T.m)(Pe?.[y.h])}},28239:(Nn,nt,F)=>{"use strict";F.d(nt,{t:()=>T});var y=F(30576);function T(Y){return(0,y.m)(Y?.then)}},53260:(Nn,nt,F)=>{"use strict";F.d(nt,{L:()=>Pe,Q:()=>Y});var y=F(97582),T=F(30576);function Y(z){return(0,y.FC)(this,arguments,function*(){const ee=z.getReader();try{for(;;){const{value:Ge,done:oe}=yield(0,y.qq)(ee.read());if(oe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ge)}}finally{ee.releaseLock()}})}function Pe(z){return(0,T.m)(z?.getReader)}},93532:(Nn,nt,F)=>{"use strict";F.d(nt,{K:()=>T});var y=F(30576);function T(Y){return Y&&(0,y.m)(Y.schedule)}},54482:(Nn,nt,F)=>{"use strict";F.d(nt,{A:()=>T,e:()=>Y});var y=F(30576);function T(Pe){return(0,y.m)(Pe?.lift)}function Y(Pe){return z=>{if(T(z))return z.lift(function(Xe){try{return Pe(Xe,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},83268:(Nn,nt,F)=>{"use strict";F.d(nt,{Z:()=>Pe});var y=F(54004);const{isArray:T}=Array;function Pe(z){return(0,y.U)(Xe=>function Y(z,Xe){return T(Xe)?z(...Xe):z(Xe)}(z,Xe))}},25032:(Nn,nt,F)=>{"use strict";function y(){}F.d(nt,{Z:()=>y})},89635:(Nn,nt,F)=>{"use strict";F.d(nt,{U:()=>Y,z:()=>T});var y=F(44671);function T(...Pe){return Y(Pe)}function Y(Pe){return 0===Pe.length?y.y:1===Pe.length?Pe[0]:function(Xe){return Pe.reduce((ee,Ge)=>Ge(ee),Xe)}}},87849:(Nn,nt,F)=>{"use strict";F.d(nt,{h:()=>Y});var y=F(42416),T=F(43410);function Y(Pe){T.z.setTimeout(()=>{const{onUnhandledError:z}=y.v;if(!z)throw Pe;z(Pe)})}},44532:(Nn,nt,F)=>{"use strict";function y(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(nt,{z:()=>y})},99628:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},77754:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},44255:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},20617:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},42472:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},41175:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},52027:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},68713:(Nn,nt,F)=>{"use strict";F.r(nt),F.d(nt,{__assign:()=>Y,__asyncDelegator:()=>Rt,__asyncGenerator:()=>we,__asyncValues:()=>vt,__await:()=>zt,__awaiter:()=>Ge,__classPrivateFieldGet:()=>ke,__classPrivateFieldSet:()=>et,__createBinding:()=>$,__decorate:()=>z,__exportStar:()=>Me,__extends:()=>T,__generator:()=>oe,__importDefault:()=>je,__importStar:()=>Ot,__makeTemplateObject:()=>en,__metadata:()=>ee,__param:()=>Xe,__read:()=>De,__rest:()=>Pe,__spread:()=>_t,__spreadArrays:()=>Zt,__values:()=>Te});var y=function(f,k){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var J in G)G.hasOwnProperty(J)&&(D[J]=G[J])})(f,k)};function T(f,k){function D(){this.constructor=f}y(f,k),f.prototype=null===k?Object.create(k):(D.prototype=k.prototype,new D)}var Y=function(){return Y=Object.assign||function(k){for(var D,G=1,J=arguments.length;G<J;G++)for(var N in D=arguments[G])Object.prototype.hasOwnProperty.call(D,N)&&(k[N]=D[N]);return k},Y.apply(this,arguments)};function Pe(f,k){var D={};for(var G in f)Object.prototype.hasOwnProperty.call(f,G)&&k.indexOf(G)<0&&(D[G]=f[G]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(G=Object.getOwnPropertySymbols(f);J<G.length;J++)k.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call(f,G[J])&&(D[G[J]]=f[G[J]])}return D}function z(f,k,D,G){var ge,J=arguments.length,N=J<3?k:null===G?G=Object.getOwnPropertyDescriptor(k,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(f,k,D,G);else for(var Ke=f.length-1;Ke>=0;Ke--)(ge=f[Ke])&&(N=(J<3?ge(N):J>3?ge(k,D,N):ge(k,D))||N);return J>3&&N&&Object.defineProperty(k,D,N),N}function Xe(f,k){return function(D,G){k(D,G,f)}}function ee(f,k){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(f,k)}function Ge(f,k,D,G){return new(D||(D=Promise))(function(N,ge){function Ke(ut){try{He(G.next(ut))}catch(at){ge(at)}}function Tn(ut){try{He(G.throw(ut))}catch(at){ge(at)}}function He(ut){ut.done?N(ut.value):function J(N){return N instanceof D?N:new D(function(ge){ge(N)})}(ut.value).then(Ke,Tn)}He((G=G.apply(f,k||[])).next())})}function oe(f,k){var G,J,N,ge,D={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return ge={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(ge[Symbol.iterator]=function(){return this}),ge;function Ke(He){return function(ut){return function Tn(He){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,J&&(N=2&He[0]?J.return:He[0]?J.throw||((N=J.return)&&N.call(J),0):J.next)&&!(N=N.call(J,He[1])).done)return N;switch(J=0,N&&(He=[2&He[0],N.value]),He[0]){case 0:case 1:N=He;break;case 4:return D.label++,{value:He[1],done:!1};case 5:D.label++,J=He[1],He=[0];continue;case 7:He=D.ops.pop(),D.trys.pop();continue;default:if(!(N=(N=D.trys).length>0&&N[N.length-1])&&(6===He[0]||2===He[0])){D=0;continue}if(3===He[0]&&(!N||He[1]>N[0]&&He[1]<N[3])){D.label=He[1];break}if(6===He[0]&&D.label<N[1]){D.label=N[1],N=He;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(He);break}N[2]&&D.ops.pop(),D.trys.pop();continue}He=k.call(f,D)}catch(ut){He=[6,ut],J=0}finally{G=N=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,ut])}}}function $(f,k,D,G){void 0===G&&(G=D),f[G]=k[D]}function Me(f,k){for(var D in f)"default"!==D&&!k.hasOwnProperty(D)&&(k[D]=f[D])}function Te(f){var k="function"==typeof Symbol&&Symbol.iterator,D=k&&f[k],G=0;if(D)return D.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&G>=f.length&&(f=void 0),{value:f&&f[G++],done:!f}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(f,k){var D="function"==typeof Symbol&&f[Symbol.iterator];if(!D)return f;var J,ge,G=D.call(f),N=[];try{for(;(void 0===k||k-- >0)&&!(J=G.next()).done;)N.push(J.value)}catch(Ke){ge={error:Ke}}finally{try{J&&!J.done&&(D=G.return)&&D.call(G)}finally{if(ge)throw ge.error}}return N}function _t(){for(var f=[],k=0;k<arguments.length;k++)f=f.concat(De(arguments[k]));return f}function Zt(){for(var f=0,k=0,D=arguments.length;k<D;k++)f+=arguments[k].length;var G=Array(f),J=0;for(k=0;k<D;k++)for(var N=arguments[k],ge=0,Ke=N.length;ge<Ke;ge++,J++)G[J]=N[ge];return G}function zt(f){return this instanceof zt?(this.v=f,this):new zt(f)}function we(f,k,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=D.apply(f,k||[]),N=[];return J={},ge("next"),ge("throw"),ge("return"),J[Symbol.asyncIterator]=function(){return this},J;function ge(te){G[te]&&(J[te]=function(ce){return new Promise(function(ie,Le){N.push([te,ce,ie,Le])>1||Ke(te,ce)})})}function Ke(te,ce){try{!function Tn(te){te.value instanceof zt?Promise.resolve(te.value.v).then(He,ut):at(N[0][2],te)}(G[te](ce))}catch(ie){at(N[0][3],ie)}}function He(te){Ke("next",te)}function ut(te){Ke("throw",te)}function at(te,ce){te(ce),N.shift(),N.length&&Ke(N[0][0],N[0][1])}}function Rt(f){var k,D;return k={},G("next"),G("throw",function(J){throw J}),G("return"),k[Symbol.iterator]=function(){return this},k;function G(J,N){k[J]=f[J]?function(ge){return(D=!D)?{value:zt(f[J](ge)),done:"return"===J}:N?N(ge):ge}:N}}function vt(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,k=f[Symbol.asyncIterator];return k?k.call(f):(f=Te(f),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=f[N]&&function(ge){return new Promise(function(Ke,Tn){!function J(N,ge,Ke,Tn){Promise.resolve(Tn).then(function(He){N({value:He,done:Ke})},ge)}(Ke,Tn,(ge=f[N](ge)).done,ge.value)})}}}function en(f,k){return Object.defineProperty?Object.defineProperty(f,"raw",{value:k}):f.raw=k,f}function Ot(f){if(f&&f.__esModule)return f;var k={};if(null!=f)for(var D in f)Object.hasOwnProperty.call(f,D)&&(k[D]=f[D]);return k.default=f,k}function je(f){return f&&f.__esModule?f:{default:f}}function ke(f,k){if(!k.has(f))throw new TypeError("attempted to get private field on non-instance");return k.get(f)}function et(f,k,D){if(!k.has(f))throw new TypeError("attempted to set private field on non-instance");return k.set(f,D),D}},37340:(Nn,nt,F)=>{"use strict";F.d(nt,{EY:()=>zt,IO:()=>Zt,LC:()=>T,SB:()=>oe,X$:()=>Pe,ZE:()=>vt,ZN:()=>Rt,_7:()=>_t,_j:()=>y,eR:()=>Me,jt:()=>z,k1:()=>en,l3:()=>Y,oB:()=>Ge,oQ:()=>Te,pV:()=>De,ru:()=>Xe,vP:()=>ee});class y{}class T{}const Y="*";function Pe(Ot,je){return{type:7,name:Ot,definitions:je,options:{}}}function z(Ot,je=null){return{type:4,styles:je,timings:Ot}}function Xe(Ot,je=null){return{type:3,steps:Ot,options:je}}function ee(Ot,je=null){return{type:2,steps:Ot,options:je}}function Ge(Ot){return{type:6,styles:Ot,offset:null}}function oe(Ot,je,ke){return{type:0,name:Ot,styles:je,options:ke}}function Me(Ot,je,ke=null){return{type:1,expr:Ot,animation:je,options:ke}}function Te(Ot,je=null){return{type:8,animation:Ot,options:je}}function De(Ot=null){return{type:9,options:Ot}}function _t(Ot,je=null){return{type:10,animation:Ot,options:je}}function Zt(Ot,je,ke=null){return{type:11,selector:Ot,animation:je,options:ke}}function zt(Ot,je){return{type:12,timings:Ot,animation:je}}function we(Ot){Promise.resolve().then(Ot)}class Rt{constructor(je=0,ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=je+ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}onStart(je){this._originalOnStartFns.push(je),this._onStartFns.push(je)}onDone(je){this._originalOnDoneFns.push(je),this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){we(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(je=>je()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(je){this._position=this.totalTime?je*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(je){const ke="start"==je?this._onStartFns:this._onDoneFns;ke.forEach(et=>et()),ke.length=0}}class vt{constructor(je){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=je;let ke=0,et=0,f=0;const k=this.players.length;0==k?we(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++ke==k&&this._onFinish()}),D.onDestroy(()=>{++et==k&&this._onDestroy()}),D.onStart(()=>{++f==k&&this._onStart()})}),this.totalTime=this.players.reduce((D,G)=>Math.max(D,G.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}init(){this.players.forEach(je=>je.init())}onStart(je){this._onStartFns.push(je)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(je=>je()),this._onStartFns=[])}onDone(je){this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(je=>je.play())}pause(){this.players.forEach(je=>je.pause())}restart(){this.players.forEach(je=>je.restart())}finish(){this._onFinish(),this.players.forEach(je=>je.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(je=>je.destroy()),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this.players.forEach(je=>je.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(je){const ke=je*this.totalTime;this.players.forEach(et=>{const f=et.totalTime?Math.min(1,ke/et.totalTime):1;et.setPosition(f)})}getPosition(){const je=this.players.reduce((ke,et)=>null===ke||et.totalTime>ke.totalTime?et:ke,null);return null!=je?je.getPosition():0}beforeDestroy(){this.players.forEach(je=>{je.beforeDestroy&&je.beforeDestroy()})}triggerCallback(je){const ke="start"==je?this._onStartFns:this._onDoneFns;ke.forEach(et=>et()),ke.length=0}}const en="!"},12687:(Nn,nt,F)=>{"use strict";F.d(nt,{Em:()=>Tn,Kd:()=>ct,X6:()=>br,ic:()=>ut,qV:()=>Xt,qm:()=>Pt,rt:()=>Vt,tE:()=>Rn,yG:()=>hn});var y=F(36895),T=F(94650),Y=F(83353),Pe=F(77579),z=F(50727),Xe=F(61135),ee=F(39646),Ge=F(29521),oe=F(18505),$=F(78372),Me=F(39300),Te=F(54004),De=F(95698),_t=F(35684),Zt=F(71884),zt=F(82722),we=F(21281),Rt=F(49643),vt=F(62289);class ge{constructor(ue){this._items=ue,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pe.x,this._typeaheadSubscription=z.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=le=>le.disabled,this._pressedLetters=[],this.tabOut=new Pe.x,this.change=new Pe.x,ue instanceof T.n_E&&(this._itemChangesSubscription=ue.changes.subscribe(le=>{if(this._activeItem){const St=le.toArray().indexOf(this._activeItem);St>-1&&St!==this._activeItemIndex&&(this._activeItemIndex=St)}}))}skipPredicate(ue){return this._skipPredicateFn=ue,this}withWrap(ue=!0){return this._wrap=ue,this}withVerticalOrientation(ue=!0){return this._vertical=ue,this}withHorizontalOrientation(ue){return this._horizontal=ue,this}withAllowedModifierKeys(ue){return this._allowedModifierKeys=ue,this}withTypeAhead(ue=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,oe.b)(le=>this._pressedLetters.push(le)),(0,$.b)(ue),(0,Me.h)(()=>this._pressedLetters.length>0),(0,Te.U)(()=>this._pressedLetters.join(""))).subscribe(le=>{const tt=this._getItemsArray();for(let St=1;St<tt.length+1;St++){const vn=(this._activeItemIndex+St)%tt.length,Oe=tt[vn];if(!this._skipPredicateFn(Oe)&&0===Oe.getLabel().toUpperCase().trim().indexOf(le)){this.setActiveItem(vn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ue=!0){return this._homeAndEnd=ue,this}withPageUpDown(ue=!0,le=10){return this._pageUpAndDown={enabled:ue,delta:le},this}setActiveItem(ue){const le=this._activeItem;this.updateActiveItem(ue),this._activeItem!==le&&this.change.next(this._activeItemIndex)}onKeydown(ue){const le=ue.keyCode,St=["altKey","ctrlKey","metaKey","shiftKey"].every(vn=>!ue[vn]||this._allowedModifierKeys.indexOf(vn)>-1);switch(le){case Ge.Mf:return void this.tabOut.next();case Ge.JH:if(this._vertical&&St){this.setNextItemActive();break}return;case Ge.LH:if(this._vertical&&St){this.setPreviousItemActive();break}return;case Ge.SV:if(this._horizontal&&St){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Ge.oh:if(this._horizontal&&St){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Ge.Sd:if(this._homeAndEnd&&St){this.setFirstItemActive();break}return;case Ge.uR:if(this._homeAndEnd&&St){this.setLastItemActive();break}return;case Ge.Ku:if(this._pageUpAndDown.enabled&&St){const vn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(vn>0?vn:0,1);break}return;case Ge.VM:if(this._pageUpAndDown.enabled&&St){const vn=this._activeItemIndex+this._pageUpAndDown.delta,Oe=this._getItemsArray().length;this._setActiveItemByIndex(vn<Oe?vn:Oe-1,-1);break}return;default:return void((St||(0,Ge.Vb)(ue,"shiftKey"))&&(ue.key&&1===ue.key.length?this._letterKeyStream.next(ue.key.toLocaleUpperCase()):(le>=Ge.A&&le<=Ge.Z||le>=Ge.xE&&le<=Ge.aO)&&this._letterKeyStream.next(String.fromCharCode(le))))}this._pressedLetters=[],ue.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ue){const le=this._getItemsArray(),tt="number"==typeof ue?ue:le.indexOf(ue);this._activeItem=le[tt]??null,this._activeItemIndex=tt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ue){this._wrap?this._setActiveInWrapMode(ue):this._setActiveInDefaultMode(ue)}_setActiveInWrapMode(ue){const le=this._getItemsArray();for(let tt=1;tt<=le.length;tt++){const St=(this._activeItemIndex+ue*tt+le.length)%le.length;if(!this._skipPredicateFn(le[St]))return void this.setActiveItem(St)}}_setActiveInDefaultMode(ue){this._setActiveItemByIndex(this._activeItemIndex+ue,ue)}_setActiveItemByIndex(ue,le){const tt=this._getItemsArray();if(tt[ue]){for(;this._skipPredicateFn(tt[ue]);)if(!tt[ue+=le])return;this.setActiveItem(ue)}}_getItemsArray(){return this._items instanceof T.n_E?this._items.toArray():this._items}}class Tn extends ge{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ue){return this._origin=ue,this}setActiveItem(ue){super.setActiveItem(ue),this.activeItem&&this.activeItem.focus(this._origin)}}let ut=(()=>{class Ce{constructor(le){this._platform=le}isDisabled(le){return le.hasAttribute("disabled")}isVisible(le){return function te(Ce){return!!(Ce.offsetWidth||Ce.offsetHeight||"function"==typeof Ce.getClientRects&&Ce.getClientRects().length)}(le)&&"visible"===getComputedStyle(le).visibility}isTabbable(le){if(!this._platform.isBrowser)return!1;const tt=function at(Ce){try{return Ce.frameElement}catch{return null}}(function ft(Ce){return Ce.ownerDocument&&Ce.ownerDocument.defaultView||window}(le));if(tt&&(-1===mn(tt)||!this.isVisible(tt)))return!1;let St=le.nodeName.toLowerCase(),vn=mn(le);return le.hasAttribute("contenteditable")?-1!==vn:!("iframe"===St||"object"===St||this._platform.WEBKIT&&this._platform.IOS&&!function bt(Ce){let ue=Ce.nodeName.toLowerCase(),le="input"===ue&&Ce.type;return"text"===le||"password"===le||"select"===ue||"textarea"===ue}(le))&&("audio"===St?!!le.hasAttribute("controls")&&-1!==vn:"video"===St?-1!==vn&&(null!==vn||this._platform.FIREFOX||le.hasAttribute("controls")):le.tabIndex>=0)}isFocusable(le,tt){return function sn(Ce){return!function ie(Ce){return function Ue(Ce){return"input"==Ce.nodeName.toLowerCase()}(Ce)&&"hidden"==Ce.type}(Ce)&&(function ce(Ce){let ue=Ce.nodeName.toLowerCase();return"input"===ue||"select"===ue||"button"===ue||"textarea"===ue}(Ce)||function Le(Ce){return function ht(Ce){return"a"==Ce.nodeName.toLowerCase()}(Ce)&&Ce.hasAttribute("href")}(Ce)||Ce.hasAttribute("contenteditable")||Et(Ce))}(le)&&!this.isDisabled(le)&&(tt?.ignoreVisibility||this.isVisible(le))}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(Y.t4))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Et(Ce){if(!Ce.hasAttribute("tabindex")||void 0===Ce.tabIndex)return!1;let ue=Ce.getAttribute("tabindex");return!(!ue||isNaN(parseInt(ue,10)))}function mn(Ce){if(!Et(Ce))return null;const ue=parseInt(Ce.getAttribute("tabindex")||"",10);return isNaN(ue)?-1:ue}class Ut{get enabled(){return this._enabled}set enabled(ue){this._enabled=ue,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ue,this._startAnchor),this._toggleAnchorTabIndex(ue,this._endAnchor))}constructor(ue,le,tt,St,vn=!1){this._element=ue,this._checker=le,this._ngZone=tt,this._document=St,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,vn||this.attachAnchors()}destroy(){const ue=this._startAnchor,le=this._endAnchor;ue&&(ue.removeEventListener("focus",this.startAnchorListener),ue.remove()),le&&(le.removeEventListener("focus",this.endAnchorListener),le.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ue){return new Promise(le=>{this._executeOnStable(()=>le(this.focusInitialElement(ue)))})}focusFirstTabbableElementWhenReady(ue){return new Promise(le=>{this._executeOnStable(()=>le(this.focusFirstTabbableElement(ue)))})}focusLastTabbableElementWhenReady(ue){return new Promise(le=>{this._executeOnStable(()=>le(this.focusLastTabbableElement(ue)))})}_getRegionBoundary(ue){const le=this._element.querySelectorAll(`[cdk-focus-region-${ue}], [cdkFocusRegion${ue}], [cdk-focus-${ue}]`);return"start"==ue?le.length?le[0]:this._getFirstTabbableElement(this._element):le.length?le[le.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ue){const le=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(le){if(!this._checker.isFocusable(le)){const tt=this._getFirstTabbableElement(le);return tt?.focus(ue),!!tt}return le.focus(ue),!0}return this.focusFirstTabbableElement(ue)}focusFirstTabbableElement(ue){const le=this._getRegionBoundary("start");return le&&le.focus(ue),!!le}focusLastTabbableElement(ue){const le=this._getRegionBoundary("end");return le&&le.focus(ue),!!le}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ue){if(this._checker.isFocusable(ue)&&this._checker.isTabbable(ue))return ue;const le=ue.children;for(let tt=0;tt<le.length;tt++){const St=le[tt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(le[tt]):null;if(St)return St}return null}_getLastTabbableElement(ue){if(this._checker.isFocusable(ue)&&this._checker.isTabbable(ue))return ue;const le=ue.children;for(let tt=le.length-1;tt>=0;tt--){const St=le[tt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(le[tt]):null;if(St)return St}return null}_createAnchor(){const ue=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ue),ue.classList.add("cdk-visually-hidden"),ue.classList.add("cdk-focus-trap-anchor"),ue.setAttribute("aria-hidden","true"),ue}_toggleAnchorTabIndex(ue,le){ue?le.setAttribute("tabindex","0"):le.removeAttribute("tabindex")}toggleAnchors(ue){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ue,this._startAnchor),this._toggleAnchorTabIndex(ue,this._endAnchor))}_executeOnStable(ue){this._ngZone.isStable?ue():this._ngZone.onStable.pipe((0,De.q)(1)).subscribe(ue)}}let Xt=(()=>{class Ce{constructor(le,tt,St){this._checker=le,this._ngZone=tt,this._document=St}create(le,tt=!1){return new Ut(le,this._checker,this._ngZone,this._document,tt)}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(ut),T.LFG(T.R0b),T.LFG(y.K0))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function br(Ce){return 0===Ce.buttons||0===Ce.offsetX&&0===Ce.offsetY}function hn(Ce){const ue=Ce.touches&&Ce.touches[0]||Ce.changedTouches&&Ce.changedTouches[0];return!(!ue||-1!==ue.identifier||null!=ue.radiusX&&1!==ue.radiusX||null!=ue.radiusY&&1!==ue.radiusY)}const Fe=new T.OlP("cdk-input-modality-detector-options"),dt={ignoreKeys:[Ge.zL,Ge.jx,Ge.b2,Ge.MW,Ge.JU]},Qt=(0,Y.i$)({passive:!0,capture:!0});let gn=(()=>{class Ce{get mostRecentModality(){return this._modality.value}constructor(le,tt,St,vn){this._platform=le,this._mostRecentTarget=null,this._modality=new Xe.X(null),this._lastTouchMs=0,this._onKeydown=Oe=>{this._options?.ignoreKeys?.some(It=>It===Oe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Y.sA)(Oe))},this._onMousedown=Oe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(br(Oe)?"keyboard":"mouse"),this._mostRecentTarget=(0,Y.sA)(Oe))},this._onTouchstart=Oe=>{hn(Oe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Y.sA)(Oe))},this._options={...dt,...vn},this.modalityDetected=this._modality.pipe((0,_t.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Zt.x)()),le.isBrowser&&tt.runOutsideAngular(()=>{St.addEventListener("keydown",this._onKeydown,Qt),St.addEventListener("mousedown",this._onMousedown,Qt),St.addEventListener("touchstart",this._onTouchstart,Qt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qt),document.removeEventListener("mousedown",this._onMousedown,Qt),document.removeEventListener("touchstart",this._onTouchstart,Qt))}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(Y.t4),T.LFG(T.R0b),T.LFG(y.K0),T.LFG(Fe,8))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();const ot=new T.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Se(){return null}}),Mt=new T.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Nt=0,ct=(()=>{class Ce{constructor(le,tt,St,vn){this._ngZone=tt,this._defaultOptions=vn,this._document=St,this._liveElement=le||this._createLiveElement()}announce(le,...tt){const St=this._defaultOptions;let vn,Oe;return 1===tt.length&&"number"==typeof tt[0]?Oe=tt[0]:[vn,Oe]=tt,this.clear(),clearTimeout(this._previousTimeout),vn||(vn=St&&St.politeness?St.politeness:"polite"),null==Oe&&St&&(Oe=St.duration),this._liveElement.setAttribute("aria-live",vn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(It=>this._currentResolve=It)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=le,"number"==typeof Oe&&(this._previousTimeout=setTimeout(()=>this.clear(),Oe)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const le="cdk-live-announcer-element",tt=this._document.getElementsByClassName(le),St=this._document.createElement("div");for(let vn=0;vn<tt.length;vn++)tt[vn].remove();return St.classList.add(le),St.classList.add("cdk-visually-hidden"),St.setAttribute("aria-atomic","true"),St.setAttribute("aria-live","polite"),St.id="cdk-live-announcer-"+Nt++,this._document.body.appendChild(St),St}_exposeAnnouncerToModals(le){const tt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let St=0;St<tt.length;St++){const vn=tt[St],Oe=vn.getAttribute("aria-owns");Oe?-1===Oe.indexOf(le)&&vn.setAttribute("aria-owns",Oe+" "+le):vn.setAttribute("aria-owns",le)}}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(ot,8),T.LFG(T.R0b),T.LFG(y.K0),T.LFG(Mt,8))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();const An=new T.OlP("cdk-focus-monitor-default-options"),Hn=(0,Y.i$)({passive:!0,capture:!0});let Rn=(()=>{class Ce{constructor(le,tt,St,vn,Oe){this._ngZone=le,this._platform=tt,this._inputModalityDetector=St,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe.x,this._rootNodeFocusAndBlurListener=It=>{for(let ln=(0,Y.sA)(It);ln;ln=ln.parentElement)"focus"===It.type?this._onFocus(It,ln):this._onBlur(It,ln)},this._document=vn,this._detectionMode=Oe?.detectionMode||0}monitor(le,tt=!1){const St=(0,we.fI)(le);if(!this._platform.isBrowser||1!==St.nodeType)return(0,ee.of)(null);const vn=(0,Y.kV)(St)||this._getDocument(),Oe=this._elementInfo.get(St);if(Oe)return tt&&(Oe.checkChildren=!0),Oe.subject;const It={checkChildren:tt,subject:new Pe.x,rootNode:vn};return this._elementInfo.set(St,It),this._registerGlobalListeners(It),It.subject}stopMonitoring(le){const tt=(0,we.fI)(le),St=this._elementInfo.get(tt);St&&(St.subject.complete(),this._setClasses(tt),this._elementInfo.delete(tt),this._removeGlobalListeners(St))}focusVia(le,tt,St){const vn=(0,we.fI)(le);vn===this._getDocument().activeElement?this._getClosestElementsInfo(vn).forEach(([It,Bt])=>this._originChanged(It,tt,Bt)):(this._setOrigin(tt),"function"==typeof vn.focus&&vn.focus(St))}ngOnDestroy(){this._elementInfo.forEach((le,tt)=>this.stopMonitoring(tt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(le){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(le)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:le&&this._isLastInteractionFromInputLabel(le)?"mouse":"program"}_shouldBeAttributedToTouch(le){return 1===this._detectionMode||!!le?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(le,tt){le.classList.toggle("cdk-focused",!!tt),le.classList.toggle("cdk-touch-focused","touch"===tt),le.classList.toggle("cdk-keyboard-focused","keyboard"===tt),le.classList.toggle("cdk-mouse-focused","mouse"===tt),le.classList.toggle("cdk-program-focused","program"===tt)}_setOrigin(le,tt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=le,this._originFromTouchInteraction="touch"===le&&tt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(le,tt){const St=this._elementInfo.get(tt),vn=(0,Y.sA)(le);!St||!St.checkChildren&&tt!==vn||this._originChanged(tt,this._getFocusOrigin(vn),St)}_onBlur(le,tt){const St=this._elementInfo.get(tt);!St||St.checkChildren&&le.relatedTarget instanceof Node&&tt.contains(le.relatedTarget)||(this._setClasses(tt),this._emitOrigin(St,null))}_emitOrigin(le,tt){le.subject.observers.length&&this._ngZone.run(()=>le.subject.next(tt))}_registerGlobalListeners(le){if(!this._platform.isBrowser)return;const tt=le.rootNode,St=this._rootNodeFocusListenerCount.get(tt)||0;St||this._ngZone.runOutsideAngular(()=>{tt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hn),tt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hn)}),this._rootNodeFocusListenerCount.set(tt,St+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,zt.R)(this._stopInputModalityDetector)).subscribe(vn=>{this._setOrigin(vn,!0)}))}_removeGlobalListeners(le){const tt=le.rootNode;if(this._rootNodeFocusListenerCount.has(tt)){const St=this._rootNodeFocusListenerCount.get(tt);St>1?this._rootNodeFocusListenerCount.set(tt,St-1):(tt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hn),tt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hn),this._rootNodeFocusListenerCount.delete(tt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(le,tt,St){this._setClasses(le,tt),this._emitOrigin(St,tt),this._lastFocusOrigin=tt}_getClosestElementsInfo(le){const tt=[];return this._elementInfo.forEach((St,vn)=>{(vn===le||St.checkChildren&&vn.contains(le))&&tt.push([vn,St])}),tt}_isLastInteractionFromInputLabel(le){const{_mostRecentTarget:tt,mostRecentModality:St}=this._inputModalityDetector;if("mouse"!==St||!tt||tt===le||"INPUT"!==le.nodeName&&"TEXTAREA"!==le.nodeName||le.disabled)return!1;const vn=le.labels;if(vn)for(let Oe=0;Oe<vn.length;Oe++)if(vn[Oe].contains(tt))return!0;return!1}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(T.R0b),T.LFG(Y.t4),T.LFG(gn),T.LFG(y.K0,8),T.LFG(An,8))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();const Jn="cdk-high-contrast-black-on-white",Ir="cdk-high-contrast-white-on-black",cn="cdk-high-contrast-active";let Pt=(()=>{class Ce{constructor(le,tt){this._platform=le,this._document=tt,this._breakpointSubscription=(0,T.f3M)(vt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const le=this._document.createElement("div");le.style.backgroundColor="rgb(1,2,3)",le.style.position="absolute",this._document.body.appendChild(le);const tt=this._document.defaultView||window,St=tt&&tt.getComputedStyle?tt.getComputedStyle(le):null,vn=(St&&St.backgroundColor||"").replace(/ /g,"");switch(le.remove(),vn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const le=this._document.body.classList;le.remove(cn,Jn,Ir),this._hasCheckedHighContrastMode=!0;const tt=this.getHighContrastMode();1===tt?le.add(cn,Jn):2===tt&&le.add(cn,Ir)}}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(Y.t4),T.LFG(y.K0))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Vt=(()=>{class Ce{constructor(le){le._applyBodyHighContrastModeCssClasses()}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(Pt))},Ce.\u0275mod=T.oAB({type:Ce}),Ce.\u0275inj=T.cJS({imports:[Rt.Q8]}),Ce})()},40445:(Nn,nt,F)=>{"use strict";F.d(nt,{Is:()=>ee,Lv:()=>Ge,vT:()=>oe});var y=F(94650),T=F(36895);const Y=new y.OlP("cdk-dir-doc",{providedIn:"root",factory:function Pe(){return(0,y.f3M)(T.K0)}}),z=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Xe($){const Me=$?.toLowerCase()||"";return"auto"===Me&&typeof navigator<"u"&&navigator?.language?z.test(navigator.language)?"rtl":"ltr":"rtl"===Me?"rtl":"ltr"}let ee=(()=>{class ${constructor(Te){this.value="ltr",this.change=new y.vpe,Te&&(this.value=Xe((Te.body?Te.body.dir:null)||(Te.documentElement?Te.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return $.\u0275fac=function(Te){return new(Te||$)(y.LFG(Y,8))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Ge=(()=>{class ${constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new y.vpe}get dir(){return this._dir}set dir(Te){const De=this._dir;this._dir=Xe(Te),this._rawDir=Te,De!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return $.\u0275fac=function(Te){return new(Te||$)},$.\u0275dir=y.lG2({type:$,selectors:[["","dir",""]],hostVars:1,hostBindings:function(Te,De){2&Te&&y.uIk("dir",De._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[y._Bn([{provide:ee,useExisting:$}])]}),$})(),oe=(()=>{class ${}return $.\u0275fac=function(Te){return new(Te||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({}),$})()},21281:(Nn,nt,F)=>{"use strict";F.d(nt,{Eq:()=>z,HM:()=>Xe,Ig:()=>T,fI:()=>ee,su:()=>Y});var y=F(94650);function T(oe){return null!=oe&&"false"!=`${oe}`}function Y(oe,$=0){return function Pe(oe){return!isNaN(parseFloat(oe))&&!isNaN(Number(oe))}(oe)?Number(oe):$}function z(oe){return Array.isArray(oe)?oe:[oe]}function Xe(oe){return null==oe?"":"string"==typeof oe?oe:`${oe}px`}function ee(oe){return oe instanceof y.SBq?oe.nativeElement:oe}},29521:(Nn,nt,F)=>{"use strict";F.d(nt,{A:()=>ie,JH:()=>en,JU:()=>Xe,K5:()=>z,Ku:()=>De,LH:()=>Rt,L_:()=>Te,MW:()=>Mt,Mf:()=>Y,SV:()=>vt,Sd:()=>zt,VM:()=>_t,Vb:()=>ai,Z:()=>Se,aO:()=>He,b2:()=>vi,hY:()=>Me,jx:()=>ee,oh:()=>we,uR:()=>Zt,xE:()=>f,zL:()=>Ge});const Y=9,z=13,Xe=16,ee=17,Ge=18,Me=27,Te=32,De=33,_t=34,Zt=35,zt=36,we=37,Rt=38,vt=39,en=40,f=48,He=57,ie=65,Se=90,Mt=91,vi=224;function ai(Dr,...Ri){return Ri.length?Ri.some(Ni=>Dr[Ni]):Dr.altKey||Dr.shiftKey||Dr.ctrlKey||Dr.metaKey}},62289:(Nn,nt,F)=>{"use strict";F.d(nt,{Yg:()=>en,u3:()=>je,vx:()=>we,xu:()=>_t});var y=F(94650),T=F(21281),Y=F(77579),Pe=F(39841),z=F(97272),Xe=F(69751),ee=F(95698),Ge=F(35684),oe=F(78372),$=F(54004),Me=F(68675),Te=F(82722),De=F(83353);let _t=(()=>{class ke{}return ke.\u0275fac=function(f){return new(f||ke)},ke.\u0275mod=y.oAB({type:ke}),ke.\u0275inj=y.cJS({}),ke})();const Zt=new Set;let zt,we=(()=>{class ke{constructor(f){this._platform=f,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vt}matchMedia(f){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rt(ke){if(!Zt.has(ke))try{zt||(zt=document.createElement("style"),zt.setAttribute("type","text/css"),document.head.appendChild(zt)),zt.sheet&&(zt.sheet.insertRule(`@media ${ke} {body{ }}`,0),Zt.add(ke))}catch(et){console.error(et)}}(f),this._matchMedia(f)}}return ke.\u0275fac=function(f){return new(f||ke)(y.LFG(De.t4))},ke.\u0275prov=y.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();function vt(ke){return{matches:"all"===ke||""===ke,media:ke,addListener:()=>{},removeListener:()=>{}}}let en=(()=>{class ke{constructor(f,k){this._mediaMatcher=f,this._zone=k,this._queries=new Map,this._destroySubject=new Y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(f){return Ot((0,T.Eq)(f)).some(D=>this._registerQuery(D).mql.matches)}observe(f){const D=Ot((0,T.Eq)(f)).map(J=>this._registerQuery(J).observable);let G=(0,Pe.a)(D);return G=(0,z.z)(G.pipe((0,ee.q)(1)),G.pipe((0,Ge.T)(1),(0,oe.b)(0))),G.pipe((0,$.U)(J=>{const N={matches:!1,breakpoints:{}};return J.forEach(({matches:ge,query:Ke})=>{N.matches=N.matches||ge,N.breakpoints[Ke]=ge}),N}))}_registerQuery(f){if(this._queries.has(f))return this._queries.get(f);const k=this._mediaMatcher.matchMedia(f),G={observable:new Xe.y(J=>{const N=ge=>this._zone.run(()=>J.next(ge));return k.addListener(N),()=>{k.removeListener(N)}}).pipe((0,Me.O)(k),(0,$.U)(({matches:J})=>({query:f,matches:J})),(0,Te.R)(this._destroySubject)),mql:k};return this._queries.set(f,G),G}}return ke.\u0275fac=function(f){return new(f||ke)(y.LFG(we),y.LFG(y.R0b))},ke.\u0275prov=y.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();function Ot(ke){return ke.map(et=>et.split(",")).reduce((et,f)=>et.concat(f)).map(et=>et.trim())}const je={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49643:(Nn,nt,F)=>{"use strict";F.d(nt,{Q8:()=>oe,wD:()=>Ge});var y=F(21281),T=F(94650),Y=F(69751),Pe=F(77579),z=F(78372);let Xe=(()=>{class ${create(Te){return typeof MutationObserver>"u"?null:new MutationObserver(Te)}}return $.\u0275fac=function(Te){return new(Te||$)},$.\u0275prov=T.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),ee=(()=>{class ${constructor(Te){this._mutationObserverFactory=Te,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Te,De)=>this._cleanupObserver(De))}observe(Te){const De=(0,y.fI)(Te);return new Y.y(_t=>{const zt=this._observeElement(De).subscribe(_t);return()=>{zt.unsubscribe(),this._unobserveElement(De)}})}_observeElement(Te){if(this._observedElements.has(Te))this._observedElements.get(Te).count++;else{const De=new Pe.x,_t=this._mutationObserverFactory.create(Zt=>De.next(Zt));_t&&_t.observe(Te,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Te,{observer:_t,stream:De,count:1})}return this._observedElements.get(Te).stream}_unobserveElement(Te){this._observedElements.has(Te)&&(this._observedElements.get(Te).count--,this._observedElements.get(Te).count||this._cleanupObserver(Te))}_cleanupObserver(Te){if(this._observedElements.has(Te)){const{observer:De,stream:_t}=this._observedElements.get(Te);De&&De.disconnect(),_t.complete(),this._observedElements.delete(Te)}}}return $.\u0275fac=function(Te){return new(Te||$)(T.LFG(Xe))},$.\u0275prov=T.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Ge=(()=>{class ${get disabled(){return this._disabled}set disabled(Te){this._disabled=(0,y.Ig)(Te),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Te){this._debounce=(0,y.su)(Te),this._subscribe()}constructor(Te,De,_t){this._contentObserver=Te,this._elementRef=De,this._ngZone=_t,this.event=new T.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Te=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Te.pipe((0,z.b)(this.debounce)):Te).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return $.\u0275fac=function(Te){return new(Te||$)(T.Y36(ee),T.Y36(T.SBq),T.Y36(T.R0b))},$.\u0275dir=T.lG2({type:$,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),$})(),oe=(()=>{class ${}return $.\u0275fac=function(Te){return new(Te||$)},$.\u0275mod=T.oAB({type:$}),$.\u0275inj=T.cJS({providers:[Xe]}),$})()},98184:(Nn,nt,F)=>{"use strict";F.d(nt,{Iu:()=>ut,U8:()=>On,X_:()=>f,Xj:()=>He,aV:()=>Ut,pI:()=>xn,tR:()=>k,xu:()=>Bn});var y=F(30531),T=F(36895),Y=F(94650),Pe=F(21281),z=F(83353),Xe=F(39300),ee=F(95698),Ge=F(82722),oe=F(22529),$=F(40445),Me=F(84080),Te=F(77579),De=F(50727),_t=F(56451),Zt=F(29521);const zt=(0,z.Mq)();class we{constructor(Fe,dt){this._viewportRuler=Fe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=dt}attach(){}enable(){if(this._canBeEnabled()){const Fe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Fe.style.left||"",this._previousHTMLStyles.top=Fe.style.top||"",Fe.style.left=(0,Pe.HM)(-this._previousScrollPosition.left),Fe.style.top=(0,Pe.HM)(-this._previousScrollPosition.top),Fe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Fe=this._document.documentElement,Yt=Fe.style,Qt=this._document.body.style,gn=Yt.scrollBehavior||"",ot=Qt.scrollBehavior||"";this._isEnabled=!1,Yt.left=this._previousHTMLStyles.left,Yt.top=this._previousHTMLStyles.top,Fe.classList.remove("cdk-global-scrollblock"),zt&&(Yt.scrollBehavior=Qt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zt&&(Yt.scrollBehavior=gn,Qt.scrollBehavior=ot)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const dt=this._document.body,Yt=this._viewportRuler.getViewportSize();return dt.scrollHeight>Yt.height||dt.scrollWidth>Yt.width}}class vt{constructor(Fe,dt,Yt,Qt){this._scrollDispatcher=Fe,this._ngZone=dt,this._viewportRuler=Yt,this._config=Qt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Fe){this._overlayRef=Fe}enable(){if(this._scrollSubscription)return;const Fe=this._scrollDispatcher.scrolled(0).pipe((0,Xe.h)(dt=>!dt||!this._overlayRef.overlayElement.contains(dt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Fe.subscribe(()=>{const dt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(dt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Fe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class en{enable(){}disable(){}attach(){}}function Ot(hn,Fe){return Fe.some(dt=>hn.bottom<dt.top||hn.top>dt.bottom||hn.right<dt.left||hn.left>dt.right)}function je(hn,Fe){return Fe.some(dt=>hn.top<dt.top||hn.bottom>dt.bottom||hn.left<dt.left||hn.right>dt.right)}class ke{constructor(Fe,dt,Yt,Qt){this._scrollDispatcher=Fe,this._viewportRuler=dt,this._ngZone=Yt,this._config=Qt,this._scrollSubscription=null}attach(Fe){this._overlayRef=Fe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const dt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Yt,height:Qt}=this._viewportRuler.getViewportSize();Ot(dt,[{width:Yt,height:Qt,bottom:Qt,right:Yt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let et=(()=>{class hn{constructor(dt,Yt,Qt,gn){this._scrollDispatcher=dt,this._viewportRuler=Yt,this._ngZone=Qt,this.noop=()=>new en,this.close=ot=>new vt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ot),this.block=()=>new we(this._viewportRuler,this._document),this.reposition=ot=>new ke(this._scrollDispatcher,this._viewportRuler,this._ngZone,ot),this._document=gn}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(y.mF),Y.LFG(y.rL),Y.LFG(Y.R0b),Y.LFG(T.K0))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})();class f{constructor(Fe){if(this.scrollStrategy=new en,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Fe){const dt=Object.keys(Fe);for(const Yt of dt)void 0!==Fe[Yt]&&(this[Yt]=Fe[Yt])}}}class k{constructor(Fe,dt,Yt,Qt,gn){this.offsetX=Yt,this.offsetY=Qt,this.panelClass=gn,this.originX=Fe.originX,this.originY=Fe.originY,this.overlayX=dt.overlayX,this.overlayY=dt.overlayY}}class G{constructor(Fe,dt){this.connectionPair=Fe,this.scrollableViewProperties=dt}}let ge=(()=>{class hn{constructor(dt){this._attachedOverlays=[],this._document=dt}ngOnDestroy(){this.detach()}add(dt){this.remove(dt),this._attachedOverlays.push(dt)}remove(dt){const Yt=this._attachedOverlays.indexOf(dt);Yt>-1&&this._attachedOverlays.splice(Yt,1),0===this._attachedOverlays.length&&this.detach()}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(T.K0))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})(),Ke=(()=>{class hn extends ge{constructor(dt,Yt){super(dt),this._ngZone=Yt,this._keydownListener=Qt=>{const gn=this._attachedOverlays;for(let ot=gn.length-1;ot>-1;ot--)if(gn[ot]._keydownEvents.observers.length>0){const Se=gn[ot]._keydownEvents;this._ngZone?this._ngZone.run(()=>Se.next(Qt)):Se.next(Qt);break}}}add(dt){super.add(dt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(T.K0),Y.LFG(Y.R0b,8))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})(),Tn=(()=>{class hn extends ge{constructor(dt,Yt,Qt){super(dt),this._platform=Yt,this._ngZone=Qt,this._cursorStyleIsSet=!1,this._pointerDownListener=gn=>{this._pointerDownEventTarget=(0,z.sA)(gn)},this._clickListener=gn=>{const ot=(0,z.sA)(gn),Se="click"===gn.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ot;this._pointerDownEventTarget=null;const Mt=this._attachedOverlays.slice();for(let Nt=Mt.length-1;Nt>-1;Nt--){const ct=Mt[Nt];if(ct._outsidePointerEvents.observers.length<1||!ct.hasAttached())continue;if(ct.overlayElement.contains(ot)||ct.overlayElement.contains(Se))break;const wn=ct._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>wn.next(gn)):wn.next(gn)}}}add(dt){if(super.add(dt),!this._isAttached){const Yt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Yt)):this._addEventListeners(Yt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Yt.style.cursor,Yt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const dt=this._document.body;dt.removeEventListener("pointerdown",this._pointerDownListener,!0),dt.removeEventListener("click",this._clickListener,!0),dt.removeEventListener("auxclick",this._clickListener,!0),dt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(dt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(dt){dt.addEventListener("pointerdown",this._pointerDownListener,!0),dt.addEventListener("click",this._clickListener,!0),dt.addEventListener("auxclick",this._clickListener,!0),dt.addEventListener("contextmenu",this._clickListener,!0)}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(T.K0),Y.LFG(z.t4),Y.LFG(Y.R0b,8))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})(),He=(()=>{class hn{constructor(dt,Yt){this._platform=Yt,this._document=dt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const dt="cdk-overlay-container";if(this._platform.isBrowser||(0,z.Oy)()){const Qt=this._document.querySelectorAll(`.${dt}[platform="server"], .${dt}[platform="test"]`);for(let gn=0;gn<Qt.length;gn++)Qt[gn].remove()}const Yt=this._document.createElement("div");Yt.classList.add(dt),(0,z.Oy)()?Yt.setAttribute("platform","test"):this._platform.isBrowser||Yt.setAttribute("platform","server"),this._document.body.appendChild(Yt),this._containerElement=Yt}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(T.K0),Y.LFG(z.t4))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})();class ut{constructor(Fe,dt,Yt,Qt,gn,ot,Se,Mt,Nt,ct=!1){this._portalOutlet=Fe,this._host=dt,this._pane=Yt,this._config=Qt,this._ngZone=gn,this._keyboardDispatcher=ot,this._document=Se,this._location=Mt,this._outsideClickDispatcher=Nt,this._animationsDisabled=ct,this._backdropElement=null,this._backdropClick=new Te.x,this._attachments=new Te.x,this._detachments=new Te.x,this._locationChanges=De.w0.EMPTY,this._backdropClickHandler=wn=>this._backdropClick.next(wn),this._backdropTransitionendHandler=wn=>{this._disposeBackdrop(wn.target)},this._keydownEvents=new Te.x,this._outsidePointerEvents=new Te.x,Qt.scrollStrategy&&(this._scrollStrategy=Qt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Qt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Fe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const dt=this._portalOutlet.attach(Fe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ee.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof dt?.onDestroy&&dt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),dt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Fe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Fe}dispose(){const Fe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Fe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Fe){Fe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Fe,this.hasAttached()&&(Fe.attach(this),this.updatePosition()))}updateSize(Fe){this._config={...this._config,...Fe},this._updateElementSize()}setDirection(Fe){this._config={...this._config,direction:Fe},this._updateElementDirection()}addPanelClass(Fe){this._pane&&this._toggleClasses(this._pane,Fe,!0)}removePanelClass(Fe){this._pane&&this._toggleClasses(this._pane,Fe,!1)}getDirection(){const Fe=this._config.direction;return Fe?"string"==typeof Fe?Fe:Fe.value:"ltr"}updateScrollStrategy(Fe){Fe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Fe,this.hasAttached()&&(Fe.attach(this),Fe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Fe=this._pane.style;Fe.width=(0,Pe.HM)(this._config.width),Fe.height=(0,Pe.HM)(this._config.height),Fe.minWidth=(0,Pe.HM)(this._config.minWidth),Fe.minHeight=(0,Pe.HM)(this._config.minHeight),Fe.maxWidth=(0,Pe.HM)(this._config.maxWidth),Fe.maxHeight=(0,Pe.HM)(this._config.maxHeight)}_togglePointerEvents(Fe){this._pane.style.pointerEvents=Fe?"":"none"}_attachBackdrop(){const Fe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Fe)})}):this._backdropElement.classList.add(Fe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Fe=this._backdropElement;if(Fe){if(this._animationsDisabled)return void this._disposeBackdrop(Fe);Fe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Fe.addEventListener("transitionend",this._backdropTransitionendHandler)}),Fe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Fe)},500))}}_toggleClasses(Fe,dt,Yt){const Qt=(0,Pe.Eq)(dt||[]).filter(gn=>!!gn);Qt.length&&(Yt?Fe.classList.add(...Qt):Fe.classList.remove(...Qt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Fe=this._ngZone.onStable.pipe((0,Ge.R)((0,_t.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Fe.unsubscribe())})})}_disposeScrollStrategy(){const Fe=this._scrollStrategy;Fe&&(Fe.disable(),Fe.detach&&Fe.detach())}_disposeBackdrop(Fe){Fe&&(Fe.removeEventListener("click",this._backdropClickHandler),Fe.removeEventListener("transitionend",this._backdropTransitionendHandler),Fe.remove(),this._backdropElement===Fe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const at="cdk-overlay-connected-position-bounding-box",te=/([A-Za-z%]+)$/;class ce{get positions(){return this._preferredPositions}constructor(Fe,dt,Yt,Qt,gn){this._viewportRuler=dt,this._document=Yt,this._platform=Qt,this._overlayContainer=gn,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Te.x,this._resizeSubscription=De.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Fe)}attach(Fe){this._validatePositions(),Fe.hostElement.classList.add(at),this._overlayRef=Fe,this._boundingBox=Fe.hostElement,this._pane=Fe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Fe=this._originRect,dt=this._overlayRect,Yt=this._viewportRect,Qt=this._containerRect,gn=[];let ot;for(let Se of this._preferredPositions){let Mt=this._getOriginPoint(Fe,Qt,Se),Nt=this._getOverlayPoint(Mt,dt,Se),ct=this._getOverlayFit(Nt,dt,Yt,Se);if(ct.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Se,Mt);this._canFitWithFlexibleDimensions(ct,Nt,Yt)?gn.push({position:Se,origin:Mt,overlayRect:dt,boundingBoxRect:this._calculateBoundingBoxRect(Mt,Se)}):(!ot||ot.overlayFit.visibleArea<ct.visibleArea)&&(ot={overlayFit:ct,overlayPoint:Nt,originPoint:Mt,position:Se,overlayRect:dt})}if(gn.length){let Se=null,Mt=-1;for(const Nt of gn){const ct=Nt.boundingBoxRect.width*Nt.boundingBoxRect.height*(Nt.position.weight||1);ct>Mt&&(Mt=ct,Se=Nt)}return this._isPushed=!1,void this._applyPosition(Se.position,Se.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ot.position,ot.originPoint);this._applyPosition(ot.position,ot.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ie(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(at),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Fe=this._lastPosition;if(Fe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const dt=this._getOriginPoint(this._originRect,this._containerRect,Fe);this._applyPosition(Fe,dt)}else this.apply()}withScrollableContainers(Fe){return this._scrollables=Fe,this}withPositions(Fe){return this._preferredPositions=Fe,-1===Fe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Fe){return this._viewportMargin=Fe,this}withFlexibleDimensions(Fe=!0){return this._hasFlexibleDimensions=Fe,this}withGrowAfterOpen(Fe=!0){return this._growAfterOpen=Fe,this}withPush(Fe=!0){return this._canPush=Fe,this}withLockedPosition(Fe=!0){return this._positionLocked=Fe,this}setOrigin(Fe){return this._origin=Fe,this}withDefaultOffsetX(Fe){return this._offsetX=Fe,this}withDefaultOffsetY(Fe){return this._offsetY=Fe,this}withTransformOriginOn(Fe){return this._transformOriginSelector=Fe,this}_getOriginPoint(Fe,dt,Yt){let Qt,gn;if("center"==Yt.originX)Qt=Fe.left+Fe.width/2;else{const ot=this._isRtl()?Fe.right:Fe.left,Se=this._isRtl()?Fe.left:Fe.right;Qt="start"==Yt.originX?ot:Se}return dt.left<0&&(Qt-=dt.left),gn="center"==Yt.originY?Fe.top+Fe.height/2:"top"==Yt.originY?Fe.top:Fe.bottom,dt.top<0&&(gn-=dt.top),{x:Qt,y:gn}}_getOverlayPoint(Fe,dt,Yt){let Qt,gn;return Qt="center"==Yt.overlayX?-dt.width/2:"start"===Yt.overlayX?this._isRtl()?-dt.width:0:this._isRtl()?0:-dt.width,gn="center"==Yt.overlayY?-dt.height/2:"top"==Yt.overlayY?0:-dt.height,{x:Fe.x+Qt,y:Fe.y+gn}}_getOverlayFit(Fe,dt,Yt,Qt){const gn=Ue(dt);let{x:ot,y:Se}=Fe,Mt=this._getOffset(Qt,"x"),Nt=this._getOffset(Qt,"y");Mt&&(ot+=Mt),Nt&&(Se+=Nt);let An=0-Se,Hn=Se+gn.height-Yt.height,Rn=this._subtractOverflows(gn.width,0-ot,ot+gn.width-Yt.width),kn=this._subtractOverflows(gn.height,An,Hn),Jn=Rn*kn;return{visibleArea:Jn,isCompletelyWithinViewport:gn.width*gn.height===Jn,fitsInViewportVertically:kn===gn.height,fitsInViewportHorizontally:Rn==gn.width}}_canFitWithFlexibleDimensions(Fe,dt,Yt){if(this._hasFlexibleDimensions){const Qt=Yt.bottom-dt.y,gn=Yt.right-dt.x,ot=Le(this._overlayRef.getConfig().minHeight),Se=Le(this._overlayRef.getConfig().minWidth);return(Fe.fitsInViewportVertically||null!=ot&&ot<=Qt)&&(Fe.fitsInViewportHorizontally||null!=Se&&Se<=gn)}return!1}_pushOverlayOnScreen(Fe,dt,Yt){if(this._previousPushAmount&&this._positionLocked)return{x:Fe.x+this._previousPushAmount.x,y:Fe.y+this._previousPushAmount.y};const Qt=Ue(dt),gn=this._viewportRect,ot=Math.max(Fe.x+Qt.width-gn.width,0),Se=Math.max(Fe.y+Qt.height-gn.height,0),Mt=Math.max(gn.top-Yt.top-Fe.y,0),Nt=Math.max(gn.left-Yt.left-Fe.x,0);let ct=0,wn=0;return ct=Qt.width<=gn.width?Nt||-ot:Fe.x<this._viewportMargin?gn.left-Yt.left-Fe.x:0,wn=Qt.height<=gn.height?Mt||-Se:Fe.y<this._viewportMargin?gn.top-Yt.top-Fe.y:0,this._previousPushAmount={x:ct,y:wn},{x:Fe.x+ct,y:Fe.y+wn}}_applyPosition(Fe,dt){if(this._setTransformOrigin(Fe),this._setOverlayElementStyles(dt,Fe),this._setBoundingBoxStyles(dt,Fe),Fe.panelClass&&this._addPanelClasses(Fe.panelClass),this._lastPosition=Fe,this._positionChanges.observers.length){const Yt=this._getScrollVisibility(),Qt=new G(Fe,Yt);this._positionChanges.next(Qt)}this._isInitialRender=!1}_setTransformOrigin(Fe){if(!this._transformOriginSelector)return;const dt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Yt,Qt=Fe.overlayY;Yt="center"===Fe.overlayX?"center":this._isRtl()?"start"===Fe.overlayX?"right":"left":"start"===Fe.overlayX?"left":"right";for(let gn=0;gn<dt.length;gn++)dt[gn].style.transformOrigin=`${Yt} ${Qt}`}_calculateBoundingBoxRect(Fe,dt){const Yt=this._viewportRect,Qt=this._isRtl();let gn,ot,Se,ct,wn,An;if("top"===dt.overlayY)ot=Fe.y,gn=Yt.height-ot+this._viewportMargin;else if("bottom"===dt.overlayY)Se=Yt.height-Fe.y+2*this._viewportMargin,gn=Yt.height-Se+this._viewportMargin;else{const Hn=Math.min(Yt.bottom-Fe.y+Yt.top,Fe.y),Rn=this._lastBoundingBoxSize.height;gn=2*Hn,ot=Fe.y-Hn,gn>Rn&&!this._isInitialRender&&!this._growAfterOpen&&(ot=Fe.y-Rn/2)}if("end"===dt.overlayX&&!Qt||"start"===dt.overlayX&&Qt)An=Yt.width-Fe.x+this._viewportMargin,ct=Fe.x-this._viewportMargin;else if("start"===dt.overlayX&&!Qt||"end"===dt.overlayX&&Qt)wn=Fe.x,ct=Yt.right-Fe.x;else{const Hn=Math.min(Yt.right-Fe.x+Yt.left,Fe.x),Rn=this._lastBoundingBoxSize.width;ct=2*Hn,wn=Fe.x-Hn,ct>Rn&&!this._isInitialRender&&!this._growAfterOpen&&(wn=Fe.x-Rn/2)}return{top:ot,left:wn,bottom:Se,right:An,width:ct,height:gn}}_setBoundingBoxStyles(Fe,dt){const Yt=this._calculateBoundingBoxRect(Fe,dt);!this._isInitialRender&&!this._growAfterOpen&&(Yt.height=Math.min(Yt.height,this._lastBoundingBoxSize.height),Yt.width=Math.min(Yt.width,this._lastBoundingBoxSize.width));const Qt={};if(this._hasExactPosition())Qt.top=Qt.left="0",Qt.bottom=Qt.right=Qt.maxHeight=Qt.maxWidth="",Qt.width=Qt.height="100%";else{const gn=this._overlayRef.getConfig().maxHeight,ot=this._overlayRef.getConfig().maxWidth;Qt.height=(0,Pe.HM)(Yt.height),Qt.top=(0,Pe.HM)(Yt.top),Qt.bottom=(0,Pe.HM)(Yt.bottom),Qt.width=(0,Pe.HM)(Yt.width),Qt.left=(0,Pe.HM)(Yt.left),Qt.right=(0,Pe.HM)(Yt.right),Qt.alignItems="center"===dt.overlayX?"center":"end"===dt.overlayX?"flex-end":"flex-start",Qt.justifyContent="center"===dt.overlayY?"center":"bottom"===dt.overlayY?"flex-end":"flex-start",gn&&(Qt.maxHeight=(0,Pe.HM)(gn)),ot&&(Qt.maxWidth=(0,Pe.HM)(ot))}this._lastBoundingBoxSize=Yt,ie(this._boundingBox.style,Qt)}_resetBoundingBoxStyles(){ie(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ie(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Fe,dt){const Yt={},Qt=this._hasExactPosition(),gn=this._hasFlexibleDimensions,ot=this._overlayRef.getConfig();if(Qt){const ct=this._viewportRuler.getViewportScrollPosition();ie(Yt,this._getExactOverlayY(dt,Fe,ct)),ie(Yt,this._getExactOverlayX(dt,Fe,ct))}else Yt.position="static";let Se="",Mt=this._getOffset(dt,"x"),Nt=this._getOffset(dt,"y");Mt&&(Se+=`translateX(${Mt}px) `),Nt&&(Se+=`translateY(${Nt}px)`),Yt.transform=Se.trim(),ot.maxHeight&&(Qt?Yt.maxHeight=(0,Pe.HM)(ot.maxHeight):gn&&(Yt.maxHeight="")),ot.maxWidth&&(Qt?Yt.maxWidth=(0,Pe.HM)(ot.maxWidth):gn&&(Yt.maxWidth="")),ie(this._pane.style,Yt)}_getExactOverlayY(Fe,dt,Yt){let Qt={top:"",bottom:""},gn=this._getOverlayPoint(dt,this._overlayRect,Fe);return this._isPushed&&(gn=this._pushOverlayOnScreen(gn,this._overlayRect,Yt)),"bottom"===Fe.overlayY?Qt.bottom=this._document.documentElement.clientHeight-(gn.y+this._overlayRect.height)+"px":Qt.top=(0,Pe.HM)(gn.y),Qt}_getExactOverlayX(Fe,dt,Yt){let ot,Qt={left:"",right:""},gn=this._getOverlayPoint(dt,this._overlayRect,Fe);return this._isPushed&&(gn=this._pushOverlayOnScreen(gn,this._overlayRect,Yt)),ot=this._isRtl()?"end"===Fe.overlayX?"left":"right":"end"===Fe.overlayX?"right":"left","right"===ot?Qt.right=this._document.documentElement.clientWidth-(gn.x+this._overlayRect.width)+"px":Qt.left=(0,Pe.HM)(gn.x),Qt}_getScrollVisibility(){const Fe=this._getOriginRect(),dt=this._pane.getBoundingClientRect(),Yt=this._scrollables.map(Qt=>Qt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:je(Fe,Yt),isOriginOutsideView:Ot(Fe,Yt),isOverlayClipped:je(dt,Yt),isOverlayOutsideView:Ot(dt,Yt)}}_subtractOverflows(Fe,...dt){return dt.reduce((Yt,Qt)=>Yt-Math.max(Qt,0),Fe)}_getNarrowedViewportRect(){const Fe=this._document.documentElement.clientWidth,dt=this._document.documentElement.clientHeight,Yt=this._viewportRuler.getViewportScrollPosition();return{top:Yt.top+this._viewportMargin,left:Yt.left+this._viewportMargin,right:Yt.left+Fe-this._viewportMargin,bottom:Yt.top+dt-this._viewportMargin,width:Fe-2*this._viewportMargin,height:dt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Fe,dt){return"x"===dt?null==Fe.offsetX?this._offsetX:Fe.offsetX:null==Fe.offsetY?this._offsetY:Fe.offsetY}_validatePositions(){}_addPanelClasses(Fe){this._pane&&(0,Pe.Eq)(Fe).forEach(dt=>{""!==dt&&-1===this._appliedPanelClasses.indexOf(dt)&&(this._appliedPanelClasses.push(dt),this._pane.classList.add(dt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Fe=>{this._pane.classList.remove(Fe)}),this._appliedPanelClasses=[])}_getOriginRect(){const Fe=this._origin;if(Fe instanceof Y.SBq)return Fe.nativeElement.getBoundingClientRect();if(Fe instanceof Element)return Fe.getBoundingClientRect();const dt=Fe.width||0,Yt=Fe.height||0;return{top:Fe.y,bottom:Fe.y+Yt,left:Fe.x,right:Fe.x+dt,height:Yt,width:dt}}}function ie(hn,Fe){for(let dt in Fe)Fe.hasOwnProperty(dt)&&(hn[dt]=Fe[dt]);return hn}function Le(hn){if("number"!=typeof hn&&null!=hn){const[Fe,dt]=hn.split(te);return dt&&"px"!==dt?null:parseFloat(Fe)}return hn||null}function Ue(hn){return{top:Math.floor(hn.top),right:Math.floor(hn.right),bottom:Math.floor(hn.bottom),left:Math.floor(hn.left),width:Math.floor(hn.width),height:Math.floor(hn.height)}}const mn="cdk-global-overlay-wrapper";class bt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Fe){const dt=Fe.getConfig();this._overlayRef=Fe,this._width&&!dt.width&&Fe.updateSize({width:this._width}),this._height&&!dt.height&&Fe.updateSize({height:this._height}),Fe.hostElement.classList.add(mn),this._isDisposed=!1}top(Fe=""){return this._bottomOffset="",this._topOffset=Fe,this._alignItems="flex-start",this}left(Fe=""){return this._xOffset=Fe,this._xPosition="left",this}bottom(Fe=""){return this._topOffset="",this._bottomOffset=Fe,this._alignItems="flex-end",this}right(Fe=""){return this._xOffset=Fe,this._xPosition="right",this}start(Fe=""){return this._xOffset=Fe,this._xPosition="start",this}end(Fe=""){return this._xOffset=Fe,this._xPosition="end",this}width(Fe=""){return this._overlayRef?this._overlayRef.updateSize({width:Fe}):this._width=Fe,this}height(Fe=""){return this._overlayRef?this._overlayRef.updateSize({height:Fe}):this._height=Fe,this}centerHorizontally(Fe=""){return this.left(Fe),this._xPosition="center",this}centerVertically(Fe=""){return this.top(Fe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Fe=this._overlayRef.overlayElement.style,dt=this._overlayRef.hostElement.style,Yt=this._overlayRef.getConfig(),{width:Qt,height:gn,maxWidth:ot,maxHeight:Se}=Yt,Mt=!("100%"!==Qt&&"100vw"!==Qt||ot&&"100%"!==ot&&"100vw"!==ot),Nt=!("100%"!==gn&&"100vh"!==gn||Se&&"100%"!==Se&&"100vh"!==Se),ct=this._xPosition,wn=this._xOffset,An="rtl"===this._overlayRef.getConfig().direction;let Hn="",Rn="",kn="";Mt?kn="flex-start":"center"===ct?(kn="center",An?Rn=wn:Hn=wn):An?"left"===ct||"end"===ct?(kn="flex-end",Hn=wn):("right"===ct||"start"===ct)&&(kn="flex-start",Rn=wn):"left"===ct||"start"===ct?(kn="flex-start",Hn=wn):("right"===ct||"end"===ct)&&(kn="flex-end",Rn=wn),Fe.position=this._cssPosition,Fe.marginLeft=Mt?"0":Hn,Fe.marginTop=Nt?"0":this._topOffset,Fe.marginBottom=this._bottomOffset,Fe.marginRight=Mt?"0":Rn,dt.justifyContent=kn,dt.alignItems=Nt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Fe=this._overlayRef.overlayElement.style,dt=this._overlayRef.hostElement,Yt=dt.style;dt.classList.remove(mn),Yt.justifyContent=Yt.alignItems=Fe.marginTop=Fe.marginBottom=Fe.marginLeft=Fe.marginRight=Fe.position="",this._overlayRef=null,this._isDisposed=!0}}let sn=(()=>{class hn{constructor(dt,Yt,Qt,gn){this._viewportRuler=dt,this._document=Yt,this._platform=Qt,this._overlayContainer=gn}global(){return new bt}flexibleConnectedTo(dt){return new ce(dt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(y.rL),Y.LFG(T.K0),Y.LFG(z.t4),Y.LFG(He))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})(),ft=0,Ut=(()=>{class hn{constructor(dt,Yt,Qt,gn,ot,Se,Mt,Nt,ct,wn,An,Hn){this.scrollStrategies=dt,this._overlayContainer=Yt,this._componentFactoryResolver=Qt,this._positionBuilder=gn,this._keyboardDispatcher=ot,this._injector=Se,this._ngZone=Mt,this._document=Nt,this._directionality=ct,this._location=wn,this._outsideClickDispatcher=An,this._animationsModuleType=Hn}create(dt){const Yt=this._createHostElement(),Qt=this._createPaneElement(Yt),gn=this._createPortalOutlet(Qt),ot=new f(dt);return ot.direction=ot.direction||this._directionality.value,new ut(gn,Yt,Qt,ot,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(dt){const Yt=this._document.createElement("div");return Yt.id="cdk-overlay-"+ft++,Yt.classList.add("cdk-overlay-pane"),dt.appendChild(Yt),Yt}_createHostElement(){const dt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(dt),dt}_createPortalOutlet(dt){return this._appRef||(this._appRef=this._injector.get(Y.z2F)),new Me.u0(dt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.LFG(et),Y.LFG(He),Y.LFG(Y._Vd),Y.LFG(sn),Y.LFG(Ke),Y.LFG(Y.zs3),Y.LFG(Y.R0b),Y.LFG(T.K0),Y.LFG($.Is),Y.LFG(T.Ye),Y.LFG(Tn),Y.LFG(Y.QbO,8))},hn.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"}),hn})();const Xt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dn=new Y.OlP("cdk-connected-overlay-scroll-strategy");let Bn=(()=>{class hn{constructor(dt){this.elementRef=dt}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.Y36(Y.SBq))},hn.\u0275dir=Y.lG2({type:hn,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),hn})(),xn=(()=>{class hn{get offsetX(){return this._offsetX}set offsetX(dt){this._offsetX=dt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(dt){this._offsetY=dt,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(dt){this._hasBackdrop=(0,Pe.Ig)(dt)}get lockPosition(){return this._lockPosition}set lockPosition(dt){this._lockPosition=(0,Pe.Ig)(dt)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(dt){this._flexibleDimensions=(0,Pe.Ig)(dt)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(dt){this._growAfterOpen=(0,Pe.Ig)(dt)}get push(){return this._push}set push(dt){this._push=(0,Pe.Ig)(dt)}constructor(dt,Yt,Qt,gn,ot){this._overlay=dt,this._dir=ot,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=De.w0.EMPTY,this._attachSubscription=De.w0.EMPTY,this._detachSubscription=De.w0.EMPTY,this._positionSubscription=De.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Y.vpe,this.positionChange=new Y.vpe,this.attach=new Y.vpe,this.detach=new Y.vpe,this.overlayKeydown=new Y.vpe,this.overlayOutsideClick=new Y.vpe,this._templatePortal=new Me.UE(Yt,Qt),this._scrollStrategyFactory=gn,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(dt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),dt.origin&&this.open&&this._position.apply()),dt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Xt);const dt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=dt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=dt.detachments().subscribe(()=>this.detach.emit()),dt.keydownEvents().subscribe(Yt=>{this.overlayKeydown.next(Yt),Yt.keyCode===Zt.hY&&!this.disableClose&&!(0,Zt.Vb)(Yt)&&(Yt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Yt=>{this.overlayOutsideClick.next(Yt)})}_buildConfig(){const dt=this._position=this.positionStrategy||this._createPositionStrategy(),Yt=new f({direction:this._dir,positionStrategy:dt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Yt.width=this.width),(this.height||0===this.height)&&(Yt.height=this.height),(this.minWidth||0===this.minWidth)&&(Yt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Yt.minHeight=this.minHeight),this.backdropClass&&(Yt.backdropClass=this.backdropClass),this.panelClass&&(Yt.panelClass=this.panelClass),Yt}_updatePositionStrategy(dt){const Yt=this.positions.map(Qt=>({originX:Qt.originX,originY:Qt.originY,overlayX:Qt.overlayX,overlayY:Qt.overlayY,offsetX:Qt.offsetX||this.offsetX,offsetY:Qt.offsetY||this.offsetY,panelClass:Qt.panelClass||void 0}));return dt.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Yt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const dt=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(dt),dt}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Bn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(dt=>{this.backdropClick.emit(dt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,oe.o)(()=>this.positionChange.observers.length>0)).subscribe(dt=>{this.positionChange.emit(dt),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return hn.\u0275fac=function(dt){return new(dt||hn)(Y.Y36(Ut),Y.Y36(Y.Rgc),Y.Y36(Y.s_b),Y.Y36(dn),Y.Y36($.Is,8))},hn.\u0275dir=Y.lG2({type:hn,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Y.TTD]}),hn})();const zn={provide:dn,deps:[Ut],useFactory:function $n(hn){return()=>hn.scrollStrategies.reposition()}};let On=(()=>{class hn{}return hn.\u0275fac=function(dt){return new(dt||hn)},hn.\u0275mod=Y.oAB({type:hn}),hn.\u0275inj=Y.cJS({providers:[Ut,zn],imports:[$.vT,Me.eL,y.Cl,y.Cl]}),hn})()},83353:(Nn,nt,F)=>{"use strict";F.d(nt,{Mq:()=>_t,Oy:()=>Ot,_i:()=>Zt,ht:()=>vt,i$:()=>Me,kV:()=>Rt,sA:()=>en,t4:()=>Pe,ud:()=>z});var y=F(94650),T=F(36895);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let oe,Te,De,zt,Pe=(()=>{class je{constructor(et){this._platformId=et,this.isBrowser=this._platformId?(0,T.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return je.\u0275fac=function(et){return new(et||je)(y.LFG(y.Lbi))},je.\u0275prov=y.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),z=(()=>{class je{}return je.\u0275fac=function(et){return new(et||je)},je.\u0275mod=y.oAB({type:je}),je.\u0275inj=y.cJS({}),je})();function Me(je){return function $(){if(null==oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oe=!0}))}finally{oe=oe||!1}return oe}()?je:!!je.capture}function _t(){if(null==De){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return De=!1,De;if("scrollBehavior"in document.documentElement.style)De=!0;else{const je=Element.prototype.scrollTo;De=!!je&&!/\{\s*\[native code\]\s*\}/.test(je.toString())}}return De}function Zt(){if("object"!=typeof document||!document)return 0;if(null==Te){const je=document.createElement("div"),ke=je.style;je.dir="rtl",ke.width="1px",ke.overflow="auto",ke.visibility="hidden",ke.pointerEvents="none",ke.position="absolute";const et=document.createElement("div"),f=et.style;f.width="2px",f.height="1px",je.appendChild(et),document.body.appendChild(je),Te=0,0===je.scrollLeft&&(je.scrollLeft=1,Te=0===je.scrollLeft?1:2),je.remove()}return Te}function Rt(je){if(function we(){if(null==zt){const je=typeof document<"u"?document.head:null;zt=!(!je||!je.createShadowRoot&&!je.attachShadow)}return zt}()){const ke=je.getRootNode?je.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ke instanceof ShadowRoot)return ke}return null}function vt(){let je=typeof document<"u"&&document?document.activeElement:null;for(;je&&je.shadowRoot;){const ke=je.shadowRoot.activeElement;if(ke===je)break;je=ke}return je}function en(je){return je.composedPath?je.composedPath()[0]:je.target}function Ot(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},84080:(Nn,nt,F)=>{"use strict";F.d(nt,{C5:()=>$,Pl:()=>vt,UE:()=>Me,eL:()=>Ot,en:()=>De,u0:()=>Zt});var y=F(94650),T=F(36895);class oe{attach(et){return this._attachedHost=et,et.attach(this)}detach(){let et=this._attachedHost;null!=et&&(this._attachedHost=null,et.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(et){this._attachedHost=et}}class $ extends oe{constructor(et,f,k,D,G){super(),this.component=et,this.viewContainerRef=f,this.injector=k,this.componentFactoryResolver=D,this.projectableNodes=G}}class Me extends oe{constructor(et,f,k,D){super(),this.templateRef=et,this.viewContainerRef=f,this.context=k,this.injector=D}get origin(){return this.templateRef.elementRef}attach(et,f=this.context){return this.context=f,super.attach(et)}detach(){return this.context=void 0,super.detach()}}class Te extends oe{constructor(et){super(),this.element=et instanceof y.SBq?et.nativeElement:et}}class De{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(et){return et instanceof $?(this._attachedPortal=et,this.attachComponentPortal(et)):et instanceof Me?(this._attachedPortal=et,this.attachTemplatePortal(et)):this.attachDomPortal&&et instanceof Te?(this._attachedPortal=et,this.attachDomPortal(et)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(et){this._disposeFn=et}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Zt extends De{constructor(et,f,k,D,G){super(),this.outletElement=et,this._componentFactoryResolver=f,this._appRef=k,this._defaultInjector=D,this.attachDomPortal=J=>{const N=J.element,ge=this._document.createComment("dom-portal");N.parentNode.insertBefore(ge,N),this.outletElement.appendChild(N),this._attachedPortal=J,super.setDisposeFn(()=>{ge.parentNode&&ge.parentNode.replaceChild(N,ge)})},this._document=G}attachComponentPortal(et){const k=(et.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(et.component);let D;return et.viewContainerRef?(D=et.viewContainerRef.createComponent(k,et.viewContainerRef.length,et.injector||et.viewContainerRef.injector,et.projectableNodes||void 0),this.setDisposeFn(()=>D.destroy())):(D=k.create(et.injector||this._defaultInjector||y.zs3.NULL),this._appRef.attachView(D.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(D.hostView),D.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(D)),this._attachedPortal=et,D}attachTemplatePortal(et){let f=et.viewContainerRef,k=f.createEmbeddedView(et.templateRef,et.context,{injector:et.injector});return k.rootNodes.forEach(D=>this.outletElement.appendChild(D)),k.detectChanges(),this.setDisposeFn(()=>{let D=f.indexOf(k);-1!==D&&f.remove(D)}),this._attachedPortal=et,k}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(et){return et.hostView.rootNodes[0]}}let vt=(()=>{class ke extends De{constructor(f,k,D){super(),this._componentFactoryResolver=f,this._viewContainerRef=k,this._isInitialized=!1,this.attached=new y.vpe,this.attachDomPortal=G=>{const J=G.element,N=this._document.createComment("dom-portal");G.setAttachedHost(this),J.parentNode.insertBefore(N,J),this._getRootNode().appendChild(J),this._attachedPortal=G,super.setDisposeFn(()=>{N.parentNode&&N.parentNode.replaceChild(J,N)})},this._document=D}get portal(){return this._attachedPortal}set portal(f){this.hasAttached()&&!f&&!this._isInitialized||(this.hasAttached()&&super.detach(),f&&super.attach(f),this._attachedPortal=f||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(f){f.setAttachedHost(this);const k=null!=f.viewContainerRef?f.viewContainerRef:this._viewContainerRef,G=(f.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(f.component),J=k.createComponent(G,k.length,f.injector||k.injector,f.projectableNodes||void 0);return k!==this._viewContainerRef&&this._getRootNode().appendChild(J.hostView.rootNodes[0]),super.setDisposeFn(()=>J.destroy()),this._attachedPortal=f,this._attachedRef=J,this.attached.emit(J),J}attachTemplatePortal(f){f.setAttachedHost(this);const k=this._viewContainerRef.createEmbeddedView(f.templateRef,f.context,{injector:f.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=f,this._attachedRef=k,this.attached.emit(k),k}_getRootNode(){const f=this._viewContainerRef.element.nativeElement;return f.nodeType===f.ELEMENT_NODE?f:f.parentNode}}return ke.\u0275fac=function(f){return new(f||ke)(y.Y36(y._Vd),y.Y36(y.s_b),y.Y36(T.K0))},ke.\u0275dir=y.lG2({type:ke,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.qOj]}),ke})(),Ot=(()=>{class ke{}return ke.\u0275fac=function(f){return new(f||ke)},ke.\u0275mod=y.oAB({type:ke}),ke.\u0275inj=y.cJS({}),ke})()},30531:(Nn,nt,F)=>{"use strict";F.d(nt,{PQ:()=>ge,ZD:()=>Et,mF:()=>N,Cl:()=>mn,rL:()=>Tn});var y=F(21281),T=F(94650),Y=F(77579),Pe=F(39646),z=F(69751),Xe=F(54968),ee=F(84408),Ge=F(50727);const oe={schedule(bt){let sn=requestAnimationFrame,ft=cancelAnimationFrame;const{delegate:Ut}=oe;Ut&&(sn=Ut.requestAnimationFrame,ft=Ut.cancelAnimationFrame);const Xt=sn(dn=>{ft=void 0,bt(dn)});return new Ge.w0(()=>ft?.(Xt))},requestAnimationFrame(...bt){const{delegate:sn}=oe;return(sn?.requestAnimationFrame||requestAnimationFrame)(...bt)},cancelAnimationFrame(...bt){const{delegate:sn}=oe;return(sn?.cancelAnimationFrame||cancelAnimationFrame)(...bt)},delegate:void 0};var Me=F(97565);const De=new class Te extends Me.v{flush(sn){this._active=!0;const ft=this._scheduled;this._scheduled=void 0;const{actions:Ut}=this;let Xt;sn=sn||Ut.shift();do{if(Xt=sn.execute(sn.state,sn.delay))break}while((sn=Ut[0])&&sn.id===ft&&Ut.shift());if(this._active=!1,Xt){for(;(sn=Ut[0])&&sn.id===ft&&Ut.shift();)sn.unsubscribe();throw Xt}}}(class $ extends ee.o{constructor(sn,ft){super(sn,ft),this.scheduler=sn,this.work=ft}requestAsyncId(sn,ft,Ut=0){return null!==Ut&&Ut>0?super.requestAsyncId(sn,ft,Ut):(sn.actions.push(this),sn._scheduled||(sn._scheduled=oe.requestAnimationFrame(()=>sn.flush(void 0))))}recycleAsyncId(sn,ft,Ut=0){var Xt;if(null!=Ut?Ut>0:this.delay>0)return super.recycleAsyncId(sn,ft,Ut);const{actions:dn}=sn;null!=ft&&(null===(Xt=dn[dn.length-1])||void 0===Xt?void 0:Xt.id)!==ft&&(oe.cancelAnimationFrame(ft),sn._scheduled=void 0)}});var Zt=F(53101),zt=F(23601),we=F(39300),Rt=F(82722),vt=F(68675),en=F(83353),Ot=F(36895),je=F(40445);const ke=["contentWrapper"],et=["*"],f=new T.OlP("VIRTUAL_SCROLL_STRATEGY");let N=(()=>{class bt{constructor(ft,Ut,Xt){this._ngZone=ft,this._platform=Ut,this._scrolled=new Y.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xt}register(ft){this.scrollContainers.has(ft)||this.scrollContainers.set(ft,ft.elementScrolled().subscribe(()=>this._scrolled.next(ft)))}deregister(ft){const Ut=this.scrollContainers.get(ft);Ut&&(Ut.unsubscribe(),this.scrollContainers.delete(ft))}scrolled(ft=20){return this._platform.isBrowser?new z.y(Ut=>{this._globalSubscription||this._addGlobalListener();const Xt=ft>0?this._scrolled.pipe((0,zt.e)(ft)).subscribe(Ut):this._scrolled.subscribe(Ut);return this._scrolledCount++,()=>{Xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Pe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ft,Ut)=>this.deregister(Ut)),this._scrolled.complete()}ancestorScrolled(ft,Ut){const Xt=this.getAncestorScrollContainers(ft);return this.scrolled(Ut).pipe((0,we.h)(dn=>!dn||Xt.indexOf(dn)>-1))}getAncestorScrollContainers(ft){const Ut=[];return this.scrollContainers.forEach((Xt,dn)=>{this._scrollableContainsElement(dn,ft)&&Ut.push(dn)}),Ut}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ft,Ut){let Xt=(0,y.fI)(Ut),dn=ft.getElementRef().nativeElement;do{if(Xt==dn)return!0}while(Xt=Xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ft=this._getWindow();return(0,Xe.R)(ft.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return bt.\u0275fac=function(ft){return new(ft||bt)(T.LFG(T.R0b),T.LFG(en.t4),T.LFG(Ot.K0,8))},bt.\u0275prov=T.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})(),ge=(()=>{class bt{constructor(ft,Ut,Xt,dn){this.elementRef=ft,this.scrollDispatcher=Ut,this.ngZone=Xt,this.dir=dn,this._destroyed=new Y.x,this._elementScrolled=new z.y(Bn=>this.ngZone.runOutsideAngular(()=>(0,Xe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Rt.R)(this._destroyed)).subscribe(Bn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ft){const Ut=this.elementRef.nativeElement,Xt=this.dir&&"rtl"==this.dir.value;null==ft.left&&(ft.left=Xt?ft.end:ft.start),null==ft.right&&(ft.right=Xt?ft.start:ft.end),null!=ft.bottom&&(ft.top=Ut.scrollHeight-Ut.clientHeight-ft.bottom),Xt&&0!=(0,en._i)()?(null!=ft.left&&(ft.right=Ut.scrollWidth-Ut.clientWidth-ft.left),2==(0,en._i)()?ft.left=ft.right:1==(0,en._i)()&&(ft.left=ft.right?-ft.right:ft.right)):null!=ft.right&&(ft.left=Ut.scrollWidth-Ut.clientWidth-ft.right),this._applyScrollToOptions(ft)}_applyScrollToOptions(ft){const Ut=this.elementRef.nativeElement;(0,en.Mq)()?Ut.scrollTo(ft):(null!=ft.top&&(Ut.scrollTop=ft.top),null!=ft.left&&(Ut.scrollLeft=ft.left))}measureScrollOffset(ft){const Ut="left",dn=this.elementRef.nativeElement;if("top"==ft)return dn.scrollTop;if("bottom"==ft)return dn.scrollHeight-dn.clientHeight-dn.scrollTop;const Bn=this.dir&&"rtl"==this.dir.value;return"start"==ft?ft=Bn?"right":Ut:"end"==ft&&(ft=Bn?Ut:"right"),Bn&&2==(0,en._i)()?ft==Ut?dn.scrollWidth-dn.clientWidth-dn.scrollLeft:dn.scrollLeft:Bn&&1==(0,en._i)()?ft==Ut?dn.scrollLeft+dn.scrollWidth-dn.clientWidth:-dn.scrollLeft:ft==Ut?dn.scrollLeft:dn.scrollWidth-dn.clientWidth-dn.scrollLeft}}return bt.\u0275fac=function(ft){return new(ft||bt)(T.Y36(T.SBq),T.Y36(N),T.Y36(T.R0b),T.Y36(je.Is,8))},bt.\u0275dir=T.lG2({type:bt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),bt})(),Tn=(()=>{class bt{constructor(ft,Ut,Xt){this._platform=ft,this._change=new Y.x,this._changeListener=dn=>{this._change.next(dn)},this._document=Xt,Ut.runOutsideAngular(()=>{if(ft.isBrowser){const dn=this._getWindow();dn.addEventListener("resize",this._changeListener),dn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ft=this._getWindow();ft.removeEventListener("resize",this._changeListener),ft.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ft={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ft}getViewportRect(){const ft=this.getViewportScrollPosition(),{width:Ut,height:Xt}=this.getViewportSize();return{top:ft.top,left:ft.left,bottom:ft.top+Xt,right:ft.left+Ut,height:Xt,width:Ut}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ft=this._document,Ut=this._getWindow(),Xt=ft.documentElement,dn=Xt.getBoundingClientRect();return{top:-dn.top||ft.body.scrollTop||Ut.scrollY||Xt.scrollTop||0,left:-dn.left||ft.body.scrollLeft||Ut.scrollX||Xt.scrollLeft||0}}change(ft=20){return ft>0?this._change.pipe((0,zt.e)(ft)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ft=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ft.innerWidth,height:ft.innerHeight}:{width:0,height:0}}}return bt.\u0275fac=function(ft){return new(ft||bt)(T.LFG(en.t4),T.LFG(T.R0b),T.LFG(Ot.K0,8))},bt.\u0275prov=T.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})();const He=new T.OlP("VIRTUAL_SCROLLABLE");let ut=(()=>{class bt extends ge{constructor(ft,Ut,Xt,dn){super(ft,Ut,Xt,dn)}measureViewportSize(ft){const Ut=this.elementRef.nativeElement;return"horizontal"===ft?Ut.clientWidth:Ut.clientHeight}}return bt.\u0275fac=function(ft){return new(ft||bt)(T.Y36(T.SBq),T.Y36(N),T.Y36(T.R0b),T.Y36(je.Is,8))},bt.\u0275dir=T.lG2({type:bt,features:[T.qOj]}),bt})();const te=typeof requestAnimationFrame<"u"?De:Zt.E;let ce=(()=>{class bt extends ut{get orientation(){return this._orientation}set orientation(ft){this._orientation!==ft&&(this._orientation=ft,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(ft){this._appendOnly=(0,y.Ig)(ft)}constructor(ft,Ut,Xt,dn,Bn,xn,$n,zn){super(ft,xn,Xt,Bn),this.elementRef=ft,this._changeDetectorRef=Ut,this._scrollStrategy=dn,this.scrollable=zn,this._platform=(0,T.f3M)(en.t4),this._detachedSubject=new Y.x,this._renderedRangeSubject=new Y.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new z.y(On=>this._scrollStrategy.scrolledIndexChange.subscribe(br=>Promise.resolve().then(()=>this.ngZone.run(()=>On.next(br))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ge.w0.EMPTY,this._viewportChanges=$n.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,vt.O)(null),(0,zt.e)(0,te)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(ft){this.ngZone.runOutsideAngular(()=>{this._forOf=ft,this._forOf.dataStream.pipe((0,Rt.R)(this._detachedSubject)).subscribe(Ut=>{const Xt=Ut.length;Xt!==this._dataLength&&(this._dataLength=Xt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(ft){return this.getElementRef().nativeElement.getBoundingClientRect()[ft]}setTotalContentSize(ft){this._totalContentSize!==ft&&(this._totalContentSize=ft,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(ft){(function at(bt,sn){return bt.start==sn.start&&bt.end==sn.end})(this._renderedRange,ft)||(this.appendOnly&&(ft={start:0,end:Math.max(this._renderedRange.end,ft.end)}),this._renderedRangeSubject.next(this._renderedRange=ft),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(ft,Ut="to-start"){ft=this.appendOnly&&"to-start"===Ut?0:ft;const dn="horizontal"==this.orientation,Bn=dn?"X":"Y";let $n=`translate${Bn}(${Number((dn&&this.dir&&"rtl"==this.dir.value?-1:1)*ft)}px)`;this._renderedContentOffset=ft,"to-end"===Ut&&($n+=` translate${Bn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=$n&&(this._renderedContentTransform=$n,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(ft,Ut="auto"){const Xt={behavior:Ut};"horizontal"===this.orientation?Xt.start=ft:Xt.top=ft,this.scrollable.scrollTo(Xt)}scrollToIndex(ft,Ut="auto"){this._scrollStrategy.scrollToIndex(ft,Ut)}measureScrollOffset(ft){let Ut;return Ut=this.scrollable==this?Xt=>super.measureScrollOffset(Xt):Xt=>this.scrollable.measureScrollOffset(Xt),Math.max(0,Ut(ft??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(ft){let Ut;const Bn="rtl"==this.dir?.value;Ut="start"==ft?Bn?"right":"left":"end"==ft?Bn?"left":"right":ft||("horizontal"===this.orientation?"left":"top");const xn=this.scrollable.measureBoundingClientRectWithScrollOffset(Ut);return this.elementRef.nativeElement.getBoundingClientRect()[Ut]-xn}measureRenderedContentSize(){const ft=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?ft.offsetWidth:ft.offsetHeight}measureRangeSize(ft){return this._forOf?this._forOf.measureRangeSize(ft,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(ft){ft&&this._runAfterChangeDetection.push(ft),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const ft=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const Ut of ft)Ut()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return bt.\u0275fac=function(ft){return new(ft||bt)(T.Y36(T.SBq),T.Y36(T.sBO),T.Y36(T.R0b),T.Y36(f,8),T.Y36(je.Is,8),T.Y36(N),T.Y36(Tn),T.Y36(He,8))},bt.\u0275cmp=T.Xpm({type:bt,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(ft,Ut){if(1&ft&&T.Gf(ke,7),2&ft){let Xt;T.iGM(Xt=T.CRH())&&(Ut._contentWrapper=Xt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(ft,Ut){2&ft&&T.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===Ut.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Ut.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[T._Bn([{provide:ge,useFactory:(sn,ft)=>sn||ft,deps:[[new T.FiY,new T.tBr(He)],bt]}]),T.qOj,T.jDz],ngContentSelectors:et,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(ft,Ut){1&ft&&(T.F$t(),T.TgZ(0,"div",0,1),T.Hsn(2),T.qZA(),T._UZ(3,"div",2)),2&ft&&(T.xp6(3),T.Udp("width",Ut._totalContentWidth)("height",Ut._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),bt})(),Et=(()=>{class bt{}return bt.\u0275fac=function(ft){return new(ft||bt)},bt.\u0275mod=T.oAB({type:bt}),bt.\u0275inj=T.cJS({}),bt})(),mn=(()=>{class bt{}return bt.\u0275fac=function(ft){return new(ft||bt)},bt.\u0275mod=T.oAB({type:bt}),bt.\u0275inj=T.cJS({imports:[je.vT,Et,ce,je.vT,Et]}),bt})()},36895:(Nn,nt,F)=>{"use strict";F.d(nt,{Do:()=>vt,ED:()=>Mi,EM:()=>zr,HT:()=>Pe,JF:()=>fi,K0:()=>Xe,Mn:()=>ut,Mx:()=>hr,NF:()=>En,O5:()=>Ni,PC:()=>pe,PM:()=>Un,RF:()=>mo,S$:()=>zt,Tn:()=>J,UT:()=>at,V_:()=>oe,Ye:()=>en,Zx:()=>di,ax:()=>ai,b0:()=>Rt,bD:()=>Be,ez:()=>ne,mk:()=>sr,n9:()=>eo,ol:()=>He,p6:()=>Mt,q:()=>Y,qS:()=>Wn,sg:()=>ai,tP:()=>j,uU:()=>Pi,w_:()=>z,x:()=>G});var y=F(94650);let T=null;function Y(){return T}function Pe(U){T||(T=U)}class z{}const Xe=new y.OlP("DocumentToken");let ee=(()=>{class U{historyGo(Z){throw new Error("Not implemented")}}return U.\u0275fac=function(Z){return new(Z||U)},U.\u0275prov=y.Yz7({token:U,factory:function(){return function Ge(){return(0,y.LFG)($)}()},providedIn:"platform"}),U})();const oe=new y.OlP("Location Initialized");let $=(()=>{class U extends ee{constructor(Z){super(),this._doc=Z,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(Z){const Ne=Y().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("popstate",Z,!1),()=>Ne.removeEventListener("popstate",Z)}onHashChange(Z){const Ne=Y().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("hashchange",Z,!1),()=>Ne.removeEventListener("hashchange",Z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Z){this._location.pathname=Z}pushState(Z,Ne,At){Me()?this._history.pushState(Z,Ne,At):this._location.hash=At}replaceState(Z,Ne,At){Me()?this._history.replaceState(Z,Ne,At):this._location.hash=At}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return U.\u0275fac=function(Z){return new(Z||U)(y.LFG(Xe))},U.\u0275prov=y.Yz7({token:U,factory:function(){return function Te(){return new $((0,y.LFG)(Xe))}()},providedIn:"platform"}),U})();function Me(){return!!window.history.pushState}function De(U,me){if(0==U.length)return me;if(0==me.length)return U;let Z=0;return U.endsWith("/")&&Z++,me.startsWith("/")&&Z++,2==Z?U+me.substring(1):1==Z?U+me:U+"/"+me}function _t(U){const me=U.match(/#|\?|$/),Z=me&&me.index||U.length;return U.slice(0,Z-("/"===U[Z-1]?1:0))+U.slice(Z)}function Zt(U){return U&&"?"!==U[0]?"?"+U:U}let zt=(()=>{class U{historyGo(Z){throw new Error("Not implemented")}}return U.\u0275fac=function(Z){return new(Z||U)},U.\u0275prov=y.Yz7({token:U,factory:function(){return(0,y.f3M)(Rt)},providedIn:"root"}),U})();const we=new y.OlP("appBaseHref");let Rt=(()=>{class U extends zt{constructor(Z,Ne){super(),this._platformLocation=Z,this._removeListenerFns=[],this._baseHref=Ne??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return De(this._baseHref,Z)}path(Z=!1){const Ne=this._platformLocation.pathname+Zt(this._platformLocation.search),At=this._platformLocation.hash;return At&&Z?`${Ne}${At}`:Ne}pushState(Z,Ne,At,_n){const Fn=this.prepareExternalUrl(At+Zt(_n));this._platformLocation.pushState(Z,Ne,Fn)}replaceState(Z,Ne,At,_n){const Fn=this.prepareExternalUrl(At+Zt(_n));this._platformLocation.replaceState(Z,Ne,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return U.\u0275fac=function(Z){return new(Z||U)(y.LFG(ee),y.LFG(we,8))},U.\u0275prov=y.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),vt=(()=>{class U extends zt{constructor(Z,Ne){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=Ne&&(this._baseHref=Ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let Ne=this._platformLocation.hash;return null==Ne&&(Ne="#"),Ne.length>0?Ne.substring(1):Ne}prepareExternalUrl(Z){const Ne=De(this._baseHref,Z);return Ne.length>0?"#"+Ne:Ne}pushState(Z,Ne,At,_n){let Fn=this.prepareExternalUrl(At+Zt(_n));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.pushState(Z,Ne,Fn)}replaceState(Z,Ne,At,_n){let Fn=this.prepareExternalUrl(At+Zt(_n));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.replaceState(Z,Ne,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return U.\u0275fac=function(Z){return new(Z||U)(y.LFG(ee),y.LFG(we,8))},U.\u0275prov=y.Yz7({token:U,factory:U.\u0275fac}),U})(),en=(()=>{class U{constructor(Z){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Z;const Ne=this._locationStrategy.getBaseHref();this._basePath=function et(U){if(new RegExp("^(https?:)?//").test(U)){const[,Z]=U.split(/\/\/[^\/]+/);return Z}return U}(_t(ke(Ne))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Z=!1){return this.normalize(this._locationStrategy.path(Z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Z,Ne=""){return this.path()==this.normalize(Z+Zt(Ne))}normalize(Z){return U.stripTrailingSlash(function je(U,me){if(!U||!me.startsWith(U))return me;const Z=me.substring(U.length);return""===Z||["/",";","?","#"].includes(Z[0])?Z:me}(this._basePath,ke(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._locationStrategy.prepareExternalUrl(Z)}go(Z,Ne="",At=null){this._locationStrategy.pushState(At,"",Z,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Zt(Ne)),At)}replaceState(Z,Ne="",At=null){this._locationStrategy.replaceState(At,"",Z,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Zt(Ne)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Z=0){this._locationStrategy.historyGo?.(Z)}onUrlChange(Z){return this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ne=>{this._notifyUrlChangeListeners(Ne.url,Ne.state)})),()=>{const Ne=this._urlChangeListeners.indexOf(Z);this._urlChangeListeners.splice(Ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Z="",Ne){this._urlChangeListeners.forEach(At=>At(Z,Ne))}subscribe(Z,Ne,At){return this._subject.subscribe({next:Z,error:Ne,complete:At})}}return U.normalizeQueryParams=Zt,U.joinWithSlash=De,U.stripTrailingSlash=_t,U.\u0275fac=function(Z){return new(Z||U)(y.LFG(zt))},U.\u0275prov=y.Yz7({token:U,factory:function(){return function Ot(){return new en((0,y.LFG)(zt))}()},providedIn:"root"}),U})();function ke(U){return U.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Percent=1]="Percent",k[k.Currency=2]="Currency",k[k.Scientific=3]="Scientific",k))(),G=(()=>((G=G||{})[G.Format=0]="Format",G[G.Standalone=1]="Standalone",G))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),N=(()=>((N=N||{})[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function He(U,me,Z){const Ne=(0,y.cg1)(U),_n=zn([Ne[y.wAp.DayPeriodsFormat],Ne[y.wAp.DayPeriodsStandalone]],me);return zn(_n,Z)}function ut(U,me,Z){const Ne=(0,y.cg1)(U),_n=zn([Ne[y.wAp.DaysFormat],Ne[y.wAp.DaysStandalone]],me);return zn(_n,Z)}function at(U,me,Z){const Ne=(0,y.cg1)(U),_n=zn([Ne[y.wAp.MonthsFormat],Ne[y.wAp.MonthsStandalone]],me);return zn(_n,Z)}function Le(U,me){return zn((0,y.cg1)(U)[y.wAp.DateFormat],me)}function Ue(U,me){return zn((0,y.cg1)(U)[y.wAp.TimeFormat],me)}function ht(U,me){return zn((0,y.cg1)(U)[y.wAp.DateTimeFormat],me)}function Et(U,me){const Z=(0,y.cg1)(U),Ne=Z[y.wAp.NumberSymbols][me];if(typeof Ne>"u"){if(me===ge.CurrencyDecimal)return Z[y.wAp.NumberSymbols][ge.Decimal];if(me===ge.CurrencyGroup)return Z[y.wAp.NumberSymbols][ge.Group]}return Ne}function dn(U){if(!U[y.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[y.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zn(U,me){for(let Z=me;Z>-1;Z--)if(typeof U[Z]<"u")return U[Z];throw new Error("Locale data API: locale data undefined")}function On(U){const[me,Z]=U.split(":");return{hours:+me,minutes:+Z}}const dt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yt={},Qt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=(()=>((gn=gn||{})[gn.Short=0]="Short",gn[gn.ShortGMT=1]="ShortGMT",gn[gn.Long=2]="Long",gn[gn.Extended=3]="Extended",gn))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Se=(()=>((Se=Se||{})[Se.DayPeriods=0]="DayPeriods",Se[Se.Days=1]="Days",Se[Se.Months=2]="Months",Se[Se.Eras=3]="Eras",Se))();function Mt(U,me,Z,Ne){let At=function ln(U){if(st(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[At,_n=1,Fn=1]=U.split("-").map(yr=>+yr);return Nt(At,_n-1,Fn)}const Z=parseFloat(U);if(!isNaN(U-Z))return new Date(Z);let Ne;if(Ne=U.match(dt))return function qt(U){const me=new Date(0);let Z=0,Ne=0;const At=U[8]?me.setUTCFullYear:me.setFullYear,_n=U[8]?me.setUTCHours:me.setHours;U[9]&&(Z=Number(U[9]+U[10]),Ne=Number(U[9]+U[11])),At.call(me,Number(U[1]),Number(U[2])-1,Number(U[3]));const Fn=Number(U[4]||0)-Z,yr=Number(U[5]||0)-Ne,Wr=Number(U[6]||0),Fr=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return _n.call(me,Fn,yr,Wr,Fr),me}(Ne)}const me=new Date(U);if(!st(me))throw new Error(`Unable to convert "${U}" into a date`);return me}(U);me=ct(Z,me)||me;let yr,Fn=[];for(;me;){if(yr=Qt.exec(me),!yr){Fn.push(me);break}{Fn=Fn.concat(yr.slice(1));const oi=Fn.pop();if(!oi)break;me=oi}}let Wr=At.getTimezoneOffset();Ne&&(Wr=Oe(Ne,Wr),At=function Bt(U,me,Z){const Ne=Z?-1:1,At=U.getTimezoneOffset();return function It(U,me){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+me),U}(U,Ne*(Oe(me,At)-At))}(At,Ne,!0));let Fr="";return Fn.forEach(oi=>{const jr=function vn(U){if(St[U])return St[U];let me;switch(U){case"G":case"GG":case"GGG":me=Jn(Se.Eras,J.Abbreviated);break;case"GGGG":me=Jn(Se.Eras,J.Wide);break;case"GGGGG":me=Jn(Se.Eras,J.Narrow);break;case"y":me=Rn(ot.FullYear,1,0,!1,!0);break;case"yy":me=Rn(ot.FullYear,2,0,!0,!0);break;case"yyy":me=Rn(ot.FullYear,3,0,!1,!0);break;case"yyyy":me=Rn(ot.FullYear,4,0,!1,!0);break;case"Y":me=tt(1);break;case"YY":me=tt(2,!0);break;case"YYY":me=tt(3);break;case"YYYY":me=tt(4);break;case"M":case"L":me=Rn(ot.Month,1,1);break;case"MM":case"LL":me=Rn(ot.Month,2,1);break;case"MMM":me=Jn(Se.Months,J.Abbreviated);break;case"MMMM":me=Jn(Se.Months,J.Wide);break;case"MMMMM":me=Jn(Se.Months,J.Narrow);break;case"LLL":me=Jn(Se.Months,J.Abbreviated,G.Standalone);break;case"LLLL":me=Jn(Se.Months,J.Wide,G.Standalone);break;case"LLLLL":me=Jn(Se.Months,J.Narrow,G.Standalone);break;case"w":me=le(1);break;case"ww":me=le(2);break;case"W":me=le(1,!0);break;case"d":me=Rn(ot.Date,1);break;case"dd":me=Rn(ot.Date,2);break;case"c":case"cc":me=Rn(ot.Day,1);break;case"ccc":me=Jn(Se.Days,J.Abbreviated,G.Standalone);break;case"cccc":me=Jn(Se.Days,J.Wide,G.Standalone);break;case"ccccc":me=Jn(Se.Days,J.Narrow,G.Standalone);break;case"cccccc":me=Jn(Se.Days,J.Short,G.Standalone);break;case"E":case"EE":case"EEE":me=Jn(Se.Days,J.Abbreviated);break;case"EEEE":me=Jn(Se.Days,J.Wide);break;case"EEEEE":me=Jn(Se.Days,J.Narrow);break;case"EEEEEE":me=Jn(Se.Days,J.Short);break;case"a":case"aa":case"aaa":me=Jn(Se.DayPeriods,J.Abbreviated);break;case"aaaa":me=Jn(Se.DayPeriods,J.Wide);break;case"aaaaa":me=Jn(Se.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":me=Jn(Se.DayPeriods,J.Abbreviated,G.Standalone,!0);break;case"bbbb":me=Jn(Se.DayPeriods,J.Wide,G.Standalone,!0);break;case"bbbbb":me=Jn(Se.DayPeriods,J.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":me=Jn(Se.DayPeriods,J.Abbreviated,G.Format,!0);break;case"BBBB":me=Jn(Se.DayPeriods,J.Wide,G.Format,!0);break;case"BBBBB":me=Jn(Se.DayPeriods,J.Narrow,G.Format,!0);break;case"h":me=Rn(ot.Hours,1,-12);break;case"hh":me=Rn(ot.Hours,2,-12);break;case"H":me=Rn(ot.Hours,1);break;case"HH":me=Rn(ot.Hours,2);break;case"m":me=Rn(ot.Minutes,1);break;case"mm":me=Rn(ot.Minutes,2);break;case"s":me=Rn(ot.Seconds,1);break;case"ss":me=Rn(ot.Seconds,2);break;case"S":me=Rn(ot.FractionalSeconds,1);break;case"SS":me=Rn(ot.FractionalSeconds,2);break;case"SSS":me=Rn(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":me=cn(gn.Short);break;case"ZZZZZ":me=cn(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":me=cn(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":me=cn(gn.Long);break;default:return null}return St[U]=me,me}(oi);Fr+=jr?jr(At,Z,Wr):"''"===oi?"'":oi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fr}function Nt(U,me,Z){const Ne=new Date(0);return Ne.setFullYear(U,me,Z),Ne.setHours(0,0,0),Ne}function ct(U,me){const Z=function Tn(U){return(0,y.cg1)(U)[y.wAp.LocaleId]}(U);if(Yt[Z]=Yt[Z]||{},Yt[Z][me])return Yt[Z][me];let Ne="";switch(me){case"shortDate":Ne=Le(U,N.Short);break;case"mediumDate":Ne=Le(U,N.Medium);break;case"longDate":Ne=Le(U,N.Long);break;case"fullDate":Ne=Le(U,N.Full);break;case"shortTime":Ne=Ue(U,N.Short);break;case"mediumTime":Ne=Ue(U,N.Medium);break;case"longTime":Ne=Ue(U,N.Long);break;case"fullTime":Ne=Ue(U,N.Full);break;case"short":const At=ct(U,"shortTime"),_n=ct(U,"shortDate");Ne=wn(ht(U,N.Short),[At,_n]);break;case"medium":const Fn=ct(U,"mediumTime"),yr=ct(U,"mediumDate");Ne=wn(ht(U,N.Medium),[Fn,yr]);break;case"long":const Wr=ct(U,"longTime"),Fr=ct(U,"longDate");Ne=wn(ht(U,N.Long),[Wr,Fr]);break;case"full":const oi=ct(U,"fullTime"),jr=ct(U,"fullDate");Ne=wn(ht(U,N.Full),[oi,jr])}return Ne&&(Yt[Z][me]=Ne),Ne}function wn(U,me){return me&&(U=U.replace(/\{([^}]+)}/g,function(Z,Ne){return null!=me&&Ne in me?me[Ne]:Z})),U}function An(U,me,Z="-",Ne,At){let _n="";(U<0||At&&U<=0)&&(At?U=1-U:(U=-U,_n=Z));let Fn=String(U);for(;Fn.length<me;)Fn="0"+Fn;return Ne&&(Fn=Fn.slice(Fn.length-me)),_n+Fn}function Rn(U,me,Z=0,Ne=!1,At=!1){return function(_n,Fn){let yr=function kn(U,me){switch(U){case ot.FullYear:return me.getFullYear();case ot.Month:return me.getMonth();case ot.Date:return me.getDate();case ot.Hours:return me.getHours();case ot.Minutes:return me.getMinutes();case ot.Seconds:return me.getSeconds();case ot.FractionalSeconds:return me.getMilliseconds();case ot.Day:return me.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,_n);if((Z>0||yr>-Z)&&(yr+=Z),U===ot.Hours)0===yr&&-12===Z&&(yr=12);else if(U===ot.FractionalSeconds)return function Hn(U,me){return An(U,3).substring(0,me)}(yr,me);const Wr=Et(Fn,ge.MinusSign);return An(yr,me,Wr,Ne,At)}}function Jn(U,me,Z=G.Format,Ne=!1){return function(At,_n){return function Ir(U,me,Z,Ne,At,_n){switch(Z){case Se.Months:return at(me,At,Ne)[U.getMonth()];case Se.Days:return ut(me,At,Ne)[U.getDay()];case Se.DayPeriods:const Fn=U.getHours(),yr=U.getMinutes();if(_n){const Fr=function Bn(U){const me=(0,y.cg1)(U);return dn(me),(me[y.wAp.ExtraData][2]||[]).map(Ne=>"string"==typeof Ne?On(Ne):[On(Ne[0]),On(Ne[1])])}(me),oi=function xn(U,me,Z){const Ne=(0,y.cg1)(U);dn(Ne);const _n=zn([Ne[y.wAp.ExtraData][0],Ne[y.wAp.ExtraData][1]],me)||[];return zn(_n,Z)||[]}(me,At,Ne),jr=Fr.findIndex(g=>{if(Array.isArray(g)){const[l,d]=g,b=Fn>=l.hours&&yr>=l.minutes,A=Fn<d.hours||Fn===d.hours&&yr<d.minutes;if(l.hours<d.hours){if(b&&A)return!0}else if(b||A)return!0}else if(g.hours===Fn&&g.minutes===yr)return!0;return!1});if(-1!==jr)return oi[jr]}return He(me,At,Ne)[Fn<12?0:1];case Se.Eras:return function te(U,me){return zn((0,y.cg1)(U)[y.wAp.Eras],me)}(me,Ne)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}(At,_n,U,me,Z,Ne)}}function cn(U){return function(me,Z,Ne){const At=-1*Ne,_n=Et(Z,ge.MinusSign),Fn=At>0?Math.floor(At/60):Math.ceil(At/60);switch(U){case gn.Short:return(At>=0?"+":"")+An(Fn,2,_n)+An(Math.abs(At%60),2,_n);case gn.ShortGMT:return"GMT"+(At>=0?"+":"")+An(Fn,1,_n);case gn.Long:return"GMT"+(At>=0?"+":"")+An(Fn,2,_n)+":"+An(Math.abs(At%60),2,_n);case gn.Extended:return 0===Ne?"Z":(At>=0?"+":"")+An(Fn,2,_n)+":"+An(Math.abs(At%60),2,_n);default:throw new Error(`Unknown zone width "${U}"`)}}}const Pt=0,Vt=4;function ue(U){return Nt(U.getFullYear(),U.getMonth(),U.getDate()+(Vt-U.getDay()))}function le(U,me=!1){return function(Z,Ne){let At;if(me){const _n=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,Fn=Z.getDate();At=1+Math.floor((Fn+_n)/7)}else{const _n=ue(Z),Fn=function Ce(U){const me=Nt(U,Pt,1).getDay();return Nt(U,0,1+(me<=Vt?Vt:Vt+7)-me)}(_n.getFullYear()),yr=_n.getTime()-Fn.getTime();At=1+Math.round(yr/6048e5)}return An(At,U,Et(Ne,ge.MinusSign))}}function tt(U,me=!1){return function(Z,Ne){return An(ue(Z).getFullYear(),U,Et(Ne,ge.MinusSign),me)}}const St={};function Oe(U,me){U=U.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(Z)?me:Z}function st(U){return U instanceof Date&&!isNaN(U.valueOf())}const rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ie=22,Dt=".",Ft="0",pn=";",Qn=",",Cn="#";function gt(U){const me=parseInt(U);if(isNaN(me))throw new Error("Invalid integer literal when parsing "+U);return me}function Wn(U,me,Z){return(0,y.dwT)(U,me,Z)}function hr(U,me){me=encodeURIComponent(me);for(const Z of U.split(";")){const Ne=Z.indexOf("="),[At,_n]=-1==Ne?[Z,""]:[Z.slice(0,Ne),Z.slice(Ne+1)];if(At.trim()===me)return decodeURIComponent(_n)}return null}const tr=/\s+/,fn=[];let sr=(()=>{class U{constructor(Z,Ne,At,_n){this._iterableDiffers=Z,this._keyValueDiffers=Ne,this._ngEl=At,this._renderer=_n,this.initialClasses=fn,this.stateMap=new Map}set klass(Z){this.initialClasses=null!=Z?Z.trim().split(tr):fn}set ngClass(Z){this.rawClass="string"==typeof Z?Z.trim().split(tr):Z}ngDoCheck(){for(const Ne of this.initialClasses)this._updateState(Ne,!0);const Z=this.rawClass;if(Array.isArray(Z)||Z instanceof Set)for(const Ne of Z)this._updateState(Ne,!0);else if(null!=Z)for(const Ne of Object.keys(Z))this._updateState(Ne,Boolean(Z[Ne]));this._applyStateDiff()}_updateState(Z,Ne){const At=this.stateMap.get(Z);void 0!==At?(At.enabled!==Ne&&(At.changed=!0,At.enabled=Ne),At.touched=!0):this.stateMap.set(Z,{enabled:Ne,changed:!0,touched:!0})}_applyStateDiff(){for(const Z of this.stateMap){const Ne=Z[0],At=Z[1];At.changed?(this._toggleClass(Ne,At.enabled),At.changed=!1):At.touched||(At.enabled&&this._toggleClass(Ne,!1),this.stateMap.delete(Ne)),At.touched=!1}}_toggleClass(Z,Ne){(Z=Z.trim()).length>0&&Z.split(tr).forEach(At=>{Ne?this._renderer.addClass(this._ngEl.nativeElement,At):this._renderer.removeClass(this._ngEl.nativeElement,At)})}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class vi{constructor(me,Z,Ne,At){this.$implicit=me,this.ngForOf=Z,this.index=Ne,this.count=At}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class U{set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}constructor(Z,Ne,At){this._viewContainer=Z,this._template=Ne,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const Ne=this._viewContainer;Z.forEachOperation((At,_n,Fn)=>{if(null==At.previousIndex)Ne.createEmbeddedView(this._template,new vi(At.item,this._ngForOf,-1,-1),null===Fn?void 0:Fn);else if(null==Fn)Ne.remove(null===_n?void 0:_n);else if(null!==_n){const yr=Ne.get(_n);Ne.move(yr,Fn),Dr(yr,At)}});for(let At=0,_n=Ne.length;At<_n;At++){const yr=Ne.get(At).context;yr.index=At,yr.count=_n,yr.ngForOf=this._ngForOf}Z.forEachIdentityChange(At=>{Dr(Ne.get(At.currentIndex),At)})}static ngTemplateContextGuard(Z,Ne){return!0}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Dr(U,me){U.context.$implicit=me.item}let Ni=(()=>{class U{constructor(Z,Ne){this._viewContainer=Z,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ne}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){Wi("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){Wi("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,Ne){return!0}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.s_b),y.Y36(y.Rgc))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function Wi(U,me){if(me&&!me.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,y.AaK)(me)}'.`)}class Fi{constructor(me,Z){this._viewContainerRef=me,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(me){me&&!this._created?this.create():!me&&this._created&&this.destroy()}}let mo=(()=>{class U{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Z){this._ngSwitch=Z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Z){this._defaultViews.push(Z)}_matchCase(Z){const Ne=Z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ne,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ne}_updateDefaultCases(Z){if(this._defaultViews.length>0&&Z!==this._defaultUsed){this._defaultUsed=Z;for(const Ne of this._defaultViews)Ne.enforceState(Z)}}}return U.\u0275fac=function(Z){return new(Z||U)},U.\u0275dir=y.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),U})(),eo=(()=>{class U{constructor(Z,Ne,At){this.ngSwitch=At,At._addCase(),this._view=new Fi(Z,Ne)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(mo,9))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),U})(),Mi=(()=>{class U{constructor(Z,Ne,At){At._addDefault(new Fi(Z,Ne))}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(mo,9))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngSwitchDefault",""]],standalone:!0}),U})(),pe=(()=>{class U{constructor(Z,Ne,At){this._ngEl=Z,this._differs=Ne,this._renderer=At,this._ngStyle=null,this._differ=null}set ngStyle(Z){this._ngStyle=Z,!this._differ&&Z&&(this._differ=this._differs.find(Z).create())}ngDoCheck(){if(this._differ){const Z=this._differ.diff(this._ngStyle);Z&&this._applyChanges(Z)}}_setStyle(Z,Ne){const[At,_n]=Z.split("."),Fn=-1===At.indexOf("-")?void 0:y.JOm.DashCase;null!=Ne?this._renderer.setStyle(this._ngEl.nativeElement,At,_n?`${Ne}${_n}`:Ne,Fn):this._renderer.removeStyle(this._ngEl.nativeElement,At,Fn)}_applyChanges(Z){Z.forEachRemovedItem(Ne=>this._setStyle(Ne.key,null)),Z.forEachAddedItem(Ne=>this._setStyle(Ne.key,Ne.currentValue)),Z.forEachChangedItem(Ne=>this._setStyle(Ne.key,Ne.currentValue))}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),U})(),j=(()=>{class U{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Z){if(Z.ngTemplateOutlet||Z.ngTemplateOutletInjector){const Ne=this._viewContainerRef;if(this._viewRef&&Ne.remove(Ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:At,ngTemplateOutletContext:_n,ngTemplateOutletInjector:Fn}=this;this._viewRef=Ne.createEmbeddedView(At,_n,Fn?{injector:Fn}:void 0)}else this._viewRef=null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.s_b))},U.\u0275dir=y.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),U})();function Qe(U,me){return new y.vHH(2100,!1)}const Ei=new y.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Li=new y.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pi=(()=>{class U{constructor(Z,Ne,At){this.locale=Z,this.defaultTimezone=Ne,this.defaultOptions=At}transform(Z,Ne,At,_n){if(null==Z||""===Z||Z!=Z)return null;try{return Mt(Z,Ne??this.defaultOptions?.dateFormat??"mediumDate",_n||this.locale,At??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Fn){throw Qe()}}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.soG,16),y.Y36(Ei,24),y.Y36(Li,24))},U.\u0275pipe=y.Yjl({name:"date",type:U,pure:!0,standalone:!0}),U})(),di=(()=>{class U{constructor(Z){this._locale=Z}transform(Z,Ne,At){if(!function So(U){return!(null==U||""===U||U!=U)}(Z))return null;At=At||this._locale;try{return function Tt(U,me,Z){return function it(U,me,Z,Ne,At,_n,Fn=!1){let yr="",Wr=!1;if(isFinite(U)){let Fr=function _e(U){let Ne,At,_n,Fn,yr,me=Math.abs(U)+"",Z=0;for((At=me.indexOf(Dt))>-1&&(me=me.replace(Dt,"")),(_n=me.search(/e/i))>0?(At<0&&(At=_n),At+=+me.slice(_n+1),me=me.substring(0,_n)):At<0&&(At=me.length),_n=0;me.charAt(_n)===Ft;_n++);if(_n===(yr=me.length))Ne=[0],At=1;else{for(yr--;me.charAt(yr)===Ft;)yr--;for(At-=_n,Ne=[],Fn=0;_n<=yr;_n++,Fn++)Ne[Fn]=Number(me.charAt(_n))}return At>Ie&&(Ne=Ne.splice(0,Ie-1),Z=At-1,At=1),{digits:Ne,exponent:Z,integerLen:At}}(U);Fn&&(Fr=function q(U){if(0===U.digits[0])return U;const me=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===me?U.digits.push(0,0):1===me&&U.digits.push(0),U.integerLen+=2),U}(Fr));let oi=me.minInt,jr=me.minFrac,g=me.maxFrac;if(_n){const he=_n.match(rt);if(null===he)throw new Error(`${_n} is not a valid digit info`);const xe=he[1],lt=he[3],Je=he[5];null!=xe&&(oi=gt(xe)),null!=lt&&(jr=gt(lt)),null!=Je?g=gt(Je):null!=lt&&jr>g&&(g=jr)}!function qe(U,me,Z){if(me>Z)throw new Error(`The minimum number of digits after fraction (${me}) is higher than the maximum (${Z}).`);let Ne=U.digits,At=Ne.length-U.integerLen;const _n=Math.min(Math.max(me,At),Z);let Fn=_n+U.integerLen,yr=Ne[Fn];if(Fn>0){Ne.splice(Math.max(U.integerLen,Fn));for(let jr=Fn;jr<Ne.length;jr++)Ne[jr]=0}else{At=Math.max(0,At),U.integerLen=1,Ne.length=Math.max(1,Fn=_n+1),Ne[0]=0;for(let jr=1;jr<Fn;jr++)Ne[jr]=0}if(yr>=5)if(Fn-1<0){for(let jr=0;jr>Fn;jr--)Ne.unshift(0),U.integerLen++;Ne.unshift(1),U.integerLen++}else Ne[Fn-1]++;for(;At<Math.max(0,_n);At++)Ne.push(0);let Wr=0!==_n;const Fr=me+U.integerLen,oi=Ne.reduceRight(function(jr,g,l,d){return d[l]=(g+=jr)<10?g:g-10,Wr&&(0===d[l]&&l>=Fr?d.pop():Wr=!1),g>=10?1:0},0);oi&&(Ne.unshift(oi),U.integerLen++)}(Fr,jr,g);let l=Fr.digits,d=Fr.integerLen;const b=Fr.exponent;let A=[];for(Wr=l.every(he=>!he);d<oi;d++)l.unshift(0);for(;d<0;d++)l.unshift(0);d>0?A=l.splice(d,l.length):(A=l,l=[0]);const V=[];for(l.length>=me.lgSize&&V.unshift(l.splice(-me.lgSize,l.length).join(""));l.length>me.gSize;)V.unshift(l.splice(-me.gSize,l.length).join(""));l.length&&V.unshift(l.join("")),yr=V.join(Et(Z,Ne)),A.length&&(yr+=Et(Z,At)+A.join("")),b&&(yr+=Et(Z,ge.Exponential)+"+"+b)}else yr=Et(Z,ge.Infinity);return yr=U<0&&!Wr?me.negPre+yr+me.negSuf:me.posPre+yr+me.posSuf,yr}(U,function Re(U,me="-"){const Z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ne=U.split(pn),At=Ne[0],_n=Ne[1],Fn=-1!==At.indexOf(Dt)?At.split(Dt):[At.substring(0,At.lastIndexOf(Ft)+1),At.substring(At.lastIndexOf(Ft)+1)],yr=Fn[0],Wr=Fn[1]||"";Z.posPre=yr.substring(0,yr.indexOf(Cn));for(let oi=0;oi<Wr.length;oi++){const jr=Wr.charAt(oi);jr===Ft?Z.minFrac=Z.maxFrac=oi+1:jr===Cn?Z.maxFrac=oi+1:Z.posSuf+=jr}const Fr=yr.split(Qn);if(Z.gSize=Fr[1]?Fr[1].length:0,Z.lgSize=Fr[2]||Fr[1]?(Fr[2]||Fr[1]).length:0,_n){const oi=At.length-Z.posPre.length-Z.posSuf.length,jr=_n.indexOf(Cn);Z.negPre=_n.substring(0,jr).replace(/'/g,""),Z.negSuf=_n.slice(jr+oi).replace(/'/g,"")}else Z.negPre=me+Z.posPre,Z.negSuf=Z.posSuf;return Z}(function mn(U,me){return(0,y.cg1)(U)[y.wAp.NumberFormats][me]}(me,k.Percent),Et(me,ge.MinusSign)),me,ge.Group,ge.Decimal,Z,!0).replace(new RegExp("%","g"),Et(me,ge.PercentSign))}(function cs(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(Z),At,Ne)}catch(_n){throw Qe()}}}return U.\u0275fac=function(Z){return new(Z||U)(y.Y36(y.soG,16))},U.\u0275pipe=y.Yjl({name:"percent",type:U,pure:!0,standalone:!0}),U})();let ne=(()=>{class U{}return U.\u0275fac=function(Z){return new(Z||U)},U.\u0275mod=y.oAB({type:U}),U.\u0275inj=y.cJS({}),U})();const Be="browser",wt="server";function En(U){return U===Be}function Un(U){return U===wt}let zr=(()=>{class U{}return U.\u0275prov=(0,y.Yz7)({token:U,providedIn:"root",factory:()=>new Pr((0,y.LFG)(Xe),window)}),U})();class Pr{constructor(me,Z){this.document=me,this.window=Z,this.offset=()=>[0,0]}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(me){this.supportsScrolling()&&this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){if(!this.supportsScrolling())return;const Z=function Kr(U,me){const Z=U.getElementById(me)||U.getElementsByName(me)[0];if(Z)return Z;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const Ne=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let At=Ne.currentNode;for(;At;){const _n=At.shadowRoot;if(_n){const Fn=_n.getElementById(me)||_n.querySelector(`[name="${me}"]`);if(Fn)return Fn}At=Ne.nextNode()}}return null}(this.document,me);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(me){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=me)}}scrollToElement(me){const Z=me.getBoundingClientRect(),Ne=Z.left+this.window.pageXOffset,At=Z.top+this.window.pageYOffset,_n=this.offset();this.window.scrollTo(Ne-_n[0],At-_n[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const me=hi(this.window.history)||hi(Object.getPrototypeOf(this.window.history));return!(!me||!me.writable&&!me.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hi(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class fi{}},80529:(Nn,nt,F)=>{"use strict";F.d(nt,{JF:()=>cn,LE:()=>Rt,TP:()=>te,dt:()=>D,eN:()=>Tn,jN:()=>oe});var y=F(36895),T=F(94650),Y=F(39646),Pe=F(69751),z=F(24351),Xe=F(39300),ee=F(54004);class Ge{}class oe{}class ${constructor(ue){this.normalizedNames=new Map,this.lazyUpdate=null,ue?this.lazyInit="string"==typeof ue?()=>{this.headers=new Map,ue.split("\n").forEach(le=>{const tt=le.indexOf(":");if(tt>0){const St=le.slice(0,tt),vn=St.toLowerCase(),Oe=le.slice(tt+1).trim();this.maybeSetNormalizedName(St,vn),this.headers.has(vn)?this.headers.get(vn).push(Oe):this.headers.set(vn,[Oe])}})}:()=>{this.headers=new Map,Object.entries(ue).forEach(([le,tt])=>{let St;if(St="string"==typeof tt?[tt]:"number"==typeof tt?[tt.toString()]:tt.map(vn=>vn.toString()),St.length>0){const vn=le.toLowerCase();this.headers.set(vn,St),this.maybeSetNormalizedName(le,vn)}})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const le=this.headers.get(ue.toLowerCase());return le&&le.length>0?le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,le){return this.clone({name:ue,value:le,op:"a"})}set(ue,le){return this.clone({name:ue,value:le,op:"s"})}delete(ue,le){return this.clone({name:ue,value:le,op:"d"})}maybeSetNormalizedName(ue,le){this.normalizedNames.has(le)||this.normalizedNames.set(le,ue)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(le=>{this.headers.set(le,ue.headers.get(le)),this.normalizedNames.set(le,ue.normalizedNames.get(le))})}clone(ue){const le=new $;return le.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,le.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),le}applyUpdate(ue){const le=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let tt=ue.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(ue.name,le);const St=("a"===ue.op?this.headers.get(le):void 0)||[];St.push(...tt),this.headers.set(le,St);break;case"d":const vn=ue.value;if(vn){let Oe=this.headers.get(le);if(!Oe)return;Oe=Oe.filter(It=>-1===vn.indexOf(It)),0===Oe.length?(this.headers.delete(le),this.normalizedNames.delete(le)):this.headers.set(le,Oe)}else this.headers.delete(le),this.normalizedNames.delete(le)}}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(le=>ue(this.normalizedNames.get(le),this.headers.get(le)))}}class Te{encodeKey(ue){return zt(ue)}encodeValue(ue){return zt(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const _t=/%(\d[a-f0-9])/gi,Zt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zt(Ce){return encodeURIComponent(Ce).replace(_t,(ue,le)=>Zt[le]??ue)}function we(Ce){return`${Ce}`}class Rt{constructor(ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ue.encoder||new Te,ue.fromString){if(ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function De(Ce,ue){const le=new Map;return Ce.length>0&&Ce.replace(/^\?/,"").split("&").forEach(St=>{const vn=St.indexOf("="),[Oe,It]=-1==vn?[ue.decodeKey(St),""]:[ue.decodeKey(St.slice(0,vn)),ue.decodeValue(St.slice(vn+1))],Bt=le.get(Oe)||[];Bt.push(It),le.set(Oe,Bt)}),le}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(le=>{const tt=ue.fromObject[le],St=Array.isArray(tt)?tt.map(we):[we(tt)];this.map.set(le,St)})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const le=this.map.get(ue);return le?le[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,le){return this.clone({param:ue,value:le,op:"a"})}appendAll(ue){const le=[];return Object.keys(ue).forEach(tt=>{const St=ue[tt];Array.isArray(St)?St.forEach(vn=>{le.push({param:tt,value:vn,op:"a"})}):le.push({param:tt,value:St,op:"a"})}),this.clone(le)}set(ue,le){return this.clone({param:ue,value:le,op:"s"})}delete(ue,le){return this.clone({param:ue,value:le,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const le=this.encoder.encodeKey(ue);return this.map.get(ue).map(tt=>le+"="+this.encoder.encodeValue(tt)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const le=new Rt({encoder:this.encoder});return le.cloneFrom=this.cloneFrom||this,le.updates=(this.updates||[]).concat(ue),le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const le=("a"===ue.op?this.map.get(ue.param):void 0)||[];le.push(we(ue.value)),this.map.set(ue.param,le);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let tt=this.map.get(ue.param)||[];const St=tt.indexOf(we(ue.value));-1!==St&&tt.splice(St,1),tt.length>0?this.map.set(ue.param,tt):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}class en{constructor(){this.map=new Map}set(ue,le){return this.map.set(ue,le),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}has(ue){return this.map.has(ue)}keys(){return this.map.keys()}}function je(Ce){return typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer}function ke(Ce){return typeof Blob<"u"&&Ce instanceof Blob}function et(Ce){return typeof FormData<"u"&&Ce instanceof FormData}class k{constructor(ue,le,tt,St){let vn;if(this.url=le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ue.toUpperCase(),function Ot(Ce){switch(Ce){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==tt?tt:null,vn=St):vn=tt,vn&&(this.reportProgress=!!vn.reportProgress,this.withCredentials=!!vn.withCredentials,vn.responseType&&(this.responseType=vn.responseType),vn.headers&&(this.headers=vn.headers),vn.context&&(this.context=vn.context),vn.params&&(this.params=vn.params)),this.headers||(this.headers=new $),this.context||(this.context=new en),this.params){const Oe=this.params.toString();if(0===Oe.length)this.urlWithParams=le;else{const It=le.indexOf("?");this.urlWithParams=le+(-1===It?"?":It<le.length-1?"&":"")+Oe}}else this.params=new Rt,this.urlWithParams=le}serializeBody(){return null===this.body?null:je(this.body)||ke(this.body)||et(this.body)||function f(Ce){return typeof URLSearchParams<"u"&&Ce instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:ke(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ue={}){const le=ue.method||this.method,tt=ue.url||this.url,St=ue.responseType||this.responseType,vn=void 0!==ue.body?ue.body:this.body,Oe=void 0!==ue.withCredentials?ue.withCredentials:this.withCredentials,It=void 0!==ue.reportProgress?ue.reportProgress:this.reportProgress;let Bt=ue.headers||this.headers,ln=ue.params||this.params;const qt=ue.context??this.context;return void 0!==ue.setHeaders&&(Bt=Object.keys(ue.setHeaders).reduce((st,rt)=>st.set(rt,ue.setHeaders[rt]),Bt)),ue.setParams&&(ln=Object.keys(ue.setParams).reduce((st,rt)=>st.set(rt,ue.setParams[rt]),ln)),new k(le,tt,vn,{params:ln,headers:Bt,context:qt,reportProgress:It,responseType:St,withCredentials:Oe})}}var D=(()=>((D=D||{})[D.Sent=0]="Sent",D[D.UploadProgress=1]="UploadProgress",D[D.ResponseHeader=2]="ResponseHeader",D[D.DownloadProgress=3]="DownloadProgress",D[D.Response=4]="Response",D[D.User=5]="User",D))();class G{constructor(ue,le=200,tt="OK"){this.headers=ue.headers||new $,this.status=void 0!==ue.status?ue.status:le,this.statusText=ue.statusText||tt,this.url=ue.url||null,this.ok=this.status>=200&&this.status<300}}class J extends G{constructor(ue={}){super(ue),this.type=D.ResponseHeader}clone(ue={}){return new J({headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class N extends G{constructor(ue={}){super(ue),this.type=D.Response,this.body=void 0!==ue.body?ue.body:null}clone(ue={}){return new N({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class ge extends G{constructor(ue){super(ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ue.url||"(unknown url)"}`:`Http failure response for ${ue.url||"(unknown url)"}: ${ue.status} ${ue.statusText}`,this.error=ue.error||null}}function Ke(Ce,ue){return{body:ue,headers:Ce.headers,context:Ce.context,observe:Ce.observe,params:Ce.params,reportProgress:Ce.reportProgress,responseType:Ce.responseType,withCredentials:Ce.withCredentials}}let Tn=(()=>{class Ce{constructor(le){this.handler=le}request(le,tt,St={}){let vn;if(le instanceof k)vn=le;else{let Bt,ln;Bt=St.headers instanceof $?St.headers:new $(St.headers),St.params&&(ln=St.params instanceof Rt?St.params:new Rt({fromObject:St.params})),vn=new k(le,tt,void 0!==St.body?St.body:null,{headers:Bt,context:St.context,params:ln,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials})}const Oe=(0,Y.of)(vn).pipe((0,z.b)(Bt=>this.handler.handle(Bt)));if(le instanceof k||"events"===St.observe)return Oe;const It=Oe.pipe((0,Xe.h)(Bt=>Bt instanceof N));switch(St.observe||"body"){case"body":switch(vn.responseType){case"arraybuffer":return It.pipe((0,ee.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Bt.body}));case"blob":return It.pipe((0,ee.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof Blob))throw new Error("Response is not a Blob.");return Bt.body}));case"text":return It.pipe((0,ee.U)(Bt=>{if(null!==Bt.body&&"string"!=typeof Bt.body)throw new Error("Response is not a string.");return Bt.body}));default:return It.pipe((0,ee.U)(Bt=>Bt.body))}case"response":return It;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(le,tt={}){return this.request("DELETE",le,tt)}get(le,tt={}){return this.request("GET",le,tt)}head(le,tt={}){return this.request("HEAD",le,tt)}jsonp(le,tt){return this.request("JSONP",le,{params:(new Rt).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,tt={}){return this.request("OPTIONS",le,tt)}patch(le,tt,St={}){return this.request("PATCH",le,Ke(St,tt))}post(le,tt,St={}){return this.request("POST",le,Ke(St,tt))}put(le,tt,St={}){return this.request("PUT",le,Ke(St,tt))}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(Ge))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function He(Ce,ue){return ue(Ce)}function ut(Ce,ue){return(le,tt)=>ue.intercept(le,{handle:St=>Ce(St,tt)})}const te=new T.OlP("HTTP_INTERCEPTORS"),ce=new T.OlP("HTTP_INTERCEPTOR_FNS");function ie(){let Ce=null;return(ue,le)=>(null===Ce&&(Ce=((0,T.f3M)(te,{optional:!0})??[]).reduceRight(ut,He)),Ce(ue,le))}let Le=(()=>{class Ce extends Ge{constructor(le,tt){super(),this.backend=le,this.injector=tt,this.chain=null}handle(le){if(null===this.chain){const tt=Array.from(new Set(this.injector.get(ce)));this.chain=tt.reduceRight((St,vn)=>function at(Ce,ue,le){return(tt,St)=>le.runInContext(()=>ue(tt,vn=>Ce(vn,St)))}(St,vn,this.injector),He)}return this.chain(le,tt=>this.backend.handle(tt))}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(oe),T.LFG(T.lqb))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const xn=/^\)\]\}',?\n/;let zn=(()=>{class Ce{constructor(le){this.xhrFactory=le}handle(le){if("JSONP"===le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe.y(tt=>{const St=this.xhrFactory.build();if(St.open(le.method,le.urlWithParams),le.withCredentials&&(St.withCredentials=!0),le.headers.forEach((Ie,Dt)=>St.setRequestHeader(Ie,Dt.join(","))),le.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!le.headers.has("Content-Type")){const Ie=le.detectContentTypeHeader();null!==Ie&&St.setRequestHeader("Content-Type",Ie)}if(le.responseType){const Ie=le.responseType.toLowerCase();St.responseType="json"!==Ie?Ie:"text"}const vn=le.serializeBody();let Oe=null;const It=()=>{if(null!==Oe)return Oe;const Ie=St.statusText||"OK",Dt=new $(St.getAllResponseHeaders()),Ft=function $n(Ce){return"responseURL"in Ce&&Ce.responseURL?Ce.responseURL:/^X-Request-URL:/m.test(Ce.getAllResponseHeaders())?Ce.getResponseHeader("X-Request-URL"):null}(St)||le.url;return Oe=new J({headers:Dt,status:St.status,statusText:Ie,url:Ft}),Oe},Bt=()=>{let{headers:Ie,status:Dt,statusText:Ft,url:pn}=It(),Qn=null;204!==Dt&&(Qn=typeof St.response>"u"?St.responseText:St.response),0===Dt&&(Dt=Qn?200:0);let Cn=Dt>=200&&Dt<300;if("json"===le.responseType&&"string"==typeof Qn){const lr=Qn;Qn=Qn.replace(xn,"");try{Qn=""!==Qn?JSON.parse(Qn):null}catch(ei){Qn=lr,Cn&&(Cn=!1,Qn={error:ei,text:Qn})}}Cn?(tt.next(new N({body:Qn,headers:Ie,status:Dt,statusText:Ft,url:pn||void 0})),tt.complete()):tt.error(new ge({error:Qn,headers:Ie,status:Dt,statusText:Ft,url:pn||void 0}))},ln=Ie=>{const{url:Dt}=It(),Ft=new ge({error:Ie,status:St.status||0,statusText:St.statusText||"Unknown Error",url:Dt||void 0});tt.error(Ft)};let qt=!1;const st=Ie=>{qt||(tt.next(It()),qt=!0);let Dt={type:D.DownloadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(Dt.total=Ie.total),"text"===le.responseType&&St.responseText&&(Dt.partialText=St.responseText),tt.next(Dt)},rt=Ie=>{let Dt={type:D.UploadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(Dt.total=Ie.total),tt.next(Dt)};return St.addEventListener("load",Bt),St.addEventListener("error",ln),St.addEventListener("timeout",ln),St.addEventListener("abort",ln),le.reportProgress&&(St.addEventListener("progress",st),null!==vn&&St.upload&&St.upload.addEventListener("progress",rt)),St.send(vn),tt.next({type:D.Sent}),()=>{St.removeEventListener("error",ln),St.removeEventListener("abort",ln),St.removeEventListener("load",Bt),St.removeEventListener("timeout",ln),le.reportProgress&&(St.removeEventListener("progress",st),null!==vn&&St.upload&&St.upload.removeEventListener("progress",rt)),St.readyState!==St.DONE&&St.abort()}})}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(y.JF))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const On=new T.OlP("XSRF_ENABLED"),hn=new T.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dt=new T.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Yt{}let Qt=(()=>{class Ce{constructor(le,tt,St){this.doc=le,this.platform=tt,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const le=this.doc.cookie||"";return le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(le,this.cookieName),this.lastCookieString=le),this.lastToken}}return Ce.\u0275fac=function(le){return new(le||Ce)(T.LFG(y.K0),T.LFG(T.Lbi),T.LFG(hn))},Ce.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function gn(Ce,ue){const le=Ce.url.toLowerCase();if(!(0,T.f3M)(On)||"GET"===Ce.method||"HEAD"===Ce.method||le.startsWith("http://")||le.startsWith("https://"))return ue(Ce);const tt=(0,T.f3M)(Yt).getToken(),St=(0,T.f3M)(dt);return null!=tt&&!Ce.headers.has(St)&&(Ce=Ce.clone({headers:Ce.headers.set(St,tt)})),ue(Ce)}var Se=(()=>((Se=Se||{})[Se.Interceptors=0]="Interceptors",Se[Se.LegacyInterceptors=1]="LegacyInterceptors",Se[Se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Se[Se.NoXsrfProtection=3]="NoXsrfProtection",Se[Se.JsonpSupport=4]="JsonpSupport",Se[Se.RequestsMadeViaParent=5]="RequestsMadeViaParent",Se))();function Mt(Ce,ue){return{\u0275kind:Ce,\u0275providers:ue}}function Nt(...Ce){const ue=[Tn,zn,Le,{provide:Ge,useExisting:Le},{provide:oe,useExisting:zn},{provide:ce,useValue:gn,multi:!0},{provide:On,useValue:!0},{provide:Yt,useClass:Qt}];for(const le of Ce)ue.push(...le.\u0275providers);return(0,T.MR2)(ue)}const wn=new T.OlP("LEGACY_INTERCEPTOR_FN");let cn=(()=>{class Ce{}return Ce.\u0275fac=function(le){return new(le||Ce)},Ce.\u0275mod=T.oAB({type:Ce}),Ce.\u0275inj=T.cJS({providers:[Nt(Mt(Se.LegacyInterceptors,[{provide:wn,useFactory:ie},{provide:ce,useExisting:wn,multi:!0}]))]}),Ce})()},94650:(Nn,nt,F)=>{"use strict";F.d(nt,{$8M:()=>Ka,$WT:()=>kt,$Z:()=>Ud,AFp:()=>f_,ALo:()=>Oy,AaK:()=>Ge,AcB:()=>To,Akn:()=>Ll,AsE:()=>Bm,BQk:()=>wp,CHM:()=>ds,CRH:()=>zy,CZH:()=>Np,CqO:()=>Vg,D6c:()=>_E,DdM:()=>_y,EJc:()=>Rw,EiD:()=>Cl,EpF:()=>Yg,F$t:()=>Kg,F4k:()=>Ug,FYo:()=>Iu,FiY:()=>Pa,G48:()=>tE,Gf:()=>Vy,GfV:()=>Ad,GkF:()=>Cm,Gpc:()=>Me,HTZ:()=>Dy,Hh0:()=>Cy,Hsn:()=>$g,IIB:()=>Pw,Ikx:()=>Ym,JOm:()=>Gs,JVY:()=>dh,JZr:()=>zt,KtG:()=>Vo,L6k:()=>wd,LAX:()=>n,LFG:()=>cn,LMc:()=>wE,LSH:()=>Kc,Lbi:()=>Mw,Lck:()=>R0,MAs:()=>jg,MGl:()=>Ep,MMx:()=>Xm,MR2:()=>Cf,MT6:()=>Tv,NdJ:()=>Pm,O4$:()=>ur,OlP:()=>Zr,Oqu:()=>Lm,P3R:()=>nc,PXZ:()=>qw,PiD:()=>Nu,Q6J:()=>Sm,QGY:()=>Im,QbO:()=>Aw,Qsj:()=>$p,QtT:()=>ay,R0b:()=>ul,RDi:()=>Hc,Rgc:()=>yf,SBq:()=>il,SDv:()=>sy,Sil:()=>Fw,Suo:()=>Hy,TTD:()=>nr,TgZ:()=>yp,Tol:()=>cv,Udp:()=>Rm,VKq:()=>by,W1O:()=>$y,WFA:()=>xm,WLB:()=>wy,X6Q:()=>eE,XFs:()=>On,Xpm:()=>Cn,Xts:()=>Sd,Y36:()=>ol,YKP:()=>cy,YNc:()=>Bg,Yjl:()=>q,Yz7:()=>Et,Z0I:()=>ft,ZZ4:()=>Eg,_Bn:()=>uy,_UZ:()=>Dm,_Vd:()=>Cu,_c5:()=>vE,_uU:()=>vv,aQg:()=>Sg,c2e:()=>kw,cJS:()=>bt,cg1:()=>Vm,d8E:()=>Um,dDg:()=>Ww,dqk:()=>Qt,dwT:()=>Fb,eBb:()=>s,eFA:()=>C_,eJc:()=>sg,ekj:()=>Nm,eoX:()=>E_,evT:()=>Od,f3M:()=>Vt,g9A:()=>m_,h0i:()=>th,hGG:()=>yE,hij:()=>Dp,iGM:()=>Uy,ifc:()=>Bt,ip1:()=>h_,jDz:()=>hy,kEZ:()=>Ey,kL8:()=>Rv,kYT:()=>Tt,kcU:()=>Xr,l5B:()=>Sy,lG2:()=>Re,lcZ:()=>Ry,lnq:()=>jm,lqb:()=>Ha,lri:()=>b_,mCW:()=>de,n5z:()=>ns,n_E:()=>Mp,oAB:()=>pt,oJD:()=>na,oxw:()=>Gg,pB0:()=>o,pQV:()=>Wm,q3G:()=>Oo,qLn:()=>lc,qOj:()=>rf,qZA:()=>_p,qbA:()=>Ty,qzn:()=>nl,rFY:()=>Iy,rWj:()=>w_,r_U:()=>xw,s9C:()=>Mm,sBO:()=>nE,s_b:()=>kp,soG:()=>Fp,tBr:()=>Ia,tb:()=>T_,tp0:()=>$a,uIk:()=>a,vHH:()=>we,vpe:()=>nu,wAp:()=>Jr,xi3:()=>Ny,xp6:()=>Ph,ynx:()=>bp,z2F:()=>Lp,z3N:()=>ja,zSh:()=>Id,zW0:()=>ku,zs3:()=>xu});var y=F(77579),T=F(50727),Y=F(69751),Pe=F(56451),z=F(13099);function Xe(t){for(let r in t)if(t[r]===Xe)return r;throw Error("Could not find renamed property on target object.")}function ee(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function Ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const i=r.indexOf("\n");return-1===i?r:r.substring(0,i)}function oe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const $=Xe({__forward_ref__:Xe});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return Ge(this())},t}function Te(t){return De(t)?t():t}function De(t){return"function"==typeof t&&t.hasOwnProperty($)&&t.__forward_ref__===Me}function _t(t){return t&&!!t.\u0275providers}const zt="https://g.co/ng/security#xss";class we extends Error{constructor(r,i){super(Rt(r,i)),this.code=r}}function Rt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}function vt(t){return"string"==typeof t?t:null==t?"":String(t)}function et(t,r){throw new we(-201,!1)}function ie(t,r,i,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${i} ${u} ${r} <=Actual]`))}function Et(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function sn(t){return Ut(t,Bn)||Ut(t,$n)}function ft(t){return null!==sn(t)}function Ut(t,r){return t.hasOwnProperty(r)?t[r]:null}function dn(t){return t&&(t.hasOwnProperty(xn)||t.hasOwnProperty(zn))?t[xn]:null}const Bn=Xe({\u0275prov:Xe}),xn=Xe({\u0275inj:Xe}),$n=Xe({ngInjectableDef:Xe}),zn=Xe({ngInjectorDef:Xe});var On=(()=>((On=On||{})[On.Default=0]="Default",On[On.Host=1]="Host",On[On.Self=2]="Self",On[On.SkipSelf=4]="SkipSelf",On[On.Optional=8]="Optional",On))();let br;function Fe(t){const r=br;return br=t,r}function dt(t,r,i){const u=sn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&On.Optional?null:void 0!==r?r:void et(Ge(t))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mt={},Nt="__NG_DI_FLAG__",ct="ngTempTokenPath",wn="ngTokenPath",An=/\n/gm,Hn="\u0275",Rn="__source";let kn;function Jn(t){const r=kn;return kn=t,r}function Ir(t,r=On.Default){if(void 0===kn)throw new we(-203,!1);return null===kn?dt(t,void 0,r):kn.get(t,r&On.Optional?null:void 0,r)}function cn(t,r=On.Default){return(function hn(){return br}()||Ir)(Te(t),r)}function Vt(t,r=On.Default){return cn(t,Ce(r))}function Ce(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ue(t){const r=[];for(let i=0;i<t.length;i++){const u=Te(t[i]);if(Array.isArray(u)){if(0===u.length)throw new we(900,!1);let h,v=On.Default;for(let I=0;I<u.length;I++){const B=u[I],X=tt(B);"number"==typeof X?-1===X?h=B.token:v|=X:h=B}r.push(cn(h,v))}else r.push(cn(u))}return r}function le(t,r){return t[Nt]=r,t.prototype[Nt]=r,t}function tt(t){return t[Nt]}function Oe(t){return{toString:t}.toString()}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),Bt=(()=>{return(t=Bt||(Bt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Bt;var t})();const ln={},qt=[],st=Xe({\u0275cmp:Xe}),rt=Xe({\u0275dir:Xe}),Ie=Xe({\u0275pipe:Xe}),Dt=Xe({\u0275mod:Xe}),Ft=Xe({\u0275fac:Xe}),pn=Xe({__NG_ELEMENT_ID__:Xe});let Qn=0;function Cn(t){return Oe(()=>{const r=Mn(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,id:"c"+Qn++,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null};Wn(i);const u=t.dependencies;return i.directiveDefs=hr(u,!1),i.pipeDefs=hr(u,!0),i})}function ei(t){return _e(t)||qe(t)}function it(t){return null!==t}function pt(t){return Oe(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tt(t,r){return Oe(()=>{const i=Lt(t,!0);i.declarations=r.declarations||qt,i.imports=r.imports||qt,i.exports=r.exports||qt})}function Gt(t,r){if(null==t)return ln;const i={};for(const u in t)if(t.hasOwnProperty(u)){let h=t[u],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),i[h]=u,r&&(r[h]=v)}return i}function Re(t){return Oe(()=>{const r=Mn(t);return Wn(r),r})}function q(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function _e(t){return t[st]||null}function qe(t){return t[rt]||null}function gt(t){return t[Ie]||null}function kt(t){const r=_e(t)||qe(t)||gt(t);return null!==r&&r.standalone}function Lt(t,r){const i=t[Dt]||null;if(!i&&!0===r)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return i}function Mn(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gt(t.inputs,r),outputs:Gt(t.outputs)}}function Wn(t){t.features?.forEach(r=>r(t))}function hr(t,r){if(!t)return null;const i=r?gt:ei;return()=>("function"==typeof t?t():t).map(u=>i(u)).filter(it)}const tr=0,fn=1,sr=2,mr=3,gi=4,Er=5,vi=6,ai=7,Dr=8,Ri=9,Ni=10,Mr=11,Wi=12,Fi=13,mo=14,eo=15,Mi=16,Ro=17,Gi=18,ze=19,pe=20,j=21,ye=22,on=1,Gn=2,rr=7,Lr=8,gr=9,vr=10;function or(t){return Array.isArray(t)&&"object"==typeof t[on]}function Ii(t){return Array.isArray(t)&&!0===t[on]}function io(t){return 0!=(4&t.flags)}function Ei(t){return t.componentOffset>-1}function Li(t){return 1==(1&t.flags)}function Pi(t){return!!t.template}function Hr(t){return 0!=(256&t[sr])}function Pn(t,r){return t.hasOwnProperty(Ft)?t[Ft]:null}class qn{constructor(r,i,u){this.previousValue=r,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function nr(){return zr}function zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=hi),Pr}function Pr(){const t=Ai(this),r=t?.current;if(r){const i=t.previous;if(i===ln)t.previous=r;else for(let u in r)i[u]=r[u];t.current=null,this.ngOnChanges(r)}}function hi(t,r,i,u){const h=this.declaredInputs[i],v=Ai(t)||function fi(t,r){return t[Kr]=r}(t,{previous:ln,current:null}),I=v.current||(v.current={}),B=v.previous,X=B[h];I[h]=new qn(X&&X.currentValue,r,B===ln),t[u]=r}nr.ngInherit=!0;const Kr="__ngSimpleChanges__";function Ai(t){return t[Kr]||null}const Ar=function(t,r,i){},to="svg";function ki(t){for(;Array.isArray(t);)t=t[tr];return t}function pi(t,r){return ki(r[t])}function Ui(t,r){return ki(r[t.index])}function Xo(t,r){return t.data[r]}function Ss(t,r){return t[r]}function $r(t,r){const i=r[t];return or(i)?i:i[tr]}function ni(t){return 64==(64&t[sr])}function Xi(t,r){return null==r?null:t[r]}function ss(t){t[Gi]=0}function Io(t,r){t[Er]+=r;let i=t,u=t[mr];for(;null!==u&&(1===r&&1===i[Er]||-1===r&&0===i[Er]);)u[Er]+=r,i=u,u=u[mr]}const Nr={lFrame:zo(null),bindingsEnabled:!0};function Zi(){return Nr.bindingsEnabled}function In(){return Nr.lFrame.lView}function Br(){return Nr.lFrame.tView}function ds(t){return Nr.lFrame.contextLView=t,t[Dr]}function Vo(t){return Nr.lFrame.contextLView=null,t}function ci(){let t=Bi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bi(){return Nr.lFrame.currentTNode}function _i(){const t=Nr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function $i(t,r){const i=Nr.lFrame;i.currentTNode=t,i.isParent=r}function ks(){return Nr.lFrame.isParent}function hs(){Nr.lFrame.isParent=!1}function oo(){const t=Nr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Po(){return Nr.lFrame.bindingIndex}function ho(){return Nr.lFrame.bindingIndex++}function so(t){const r=Nr.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function Ho(t){Nr.lFrame.inI18n=t}function as(t,r){const i=Nr.lFrame;i.bindingIndex=i.bindingRootIndex=t,li(r)}function li(t){Nr.lFrame.currentDirectiveIndex=t}function ps(t){const r=Nr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Kn(){return Nr.lFrame.currentQueryIndex}function ri(t){Nr.lFrame.currentQueryIndex=t}function ms(t){const r=t[fn];return 2===r.type?r.declTNode:1===r.type?t[vi]:null}function gs(t,r,i){if(i&On.SkipSelf){let h=r,v=t;for(;!(h=h.parent,null!==h||i&On.Host||(h=ms(v),null===h||(v=v[eo],10&h.type))););if(null===h)return!1;r=h,t=v}const u=Nr.lFrame=xo();return u.currentTNode=r,u.lView=t,!0}function fo(t){const r=xo(),i=t[fn];Nr.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function xo(){const t=Nr.lFrame,r=null===t?null:t.child;return null===r?zo(t):r}function zo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ls(){const t=Nr.lFrame;return Nr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Vi=ls;function _(){const t=ls();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $e(){return Nr.lFrame.selectedIndex}function Wt(t){Nr.lFrame.selectedIndex=t}function rn(){const t=Nr.lFrame;return Xo(t.tView,t.selectedIndex)}function ur(){Nr.lFrame.currentNamespace=to}function Xr(){!function ao(){Nr.lFrame.currentNamespace=null}()}function Jo(t,r){for(let i=r.directiveStart,u=r.directiveEnd;i<u;i++){const v=t.data[i].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:B,ngAfterViewInit:X,ngAfterViewChecked:ve,ngOnDestroy:We}=v;I&&(t.contentHooks??(t.contentHooks=[])).push(-i,I),B&&((t.contentHooks??(t.contentHooks=[])).push(i,B),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(i,B)),X&&(t.viewHooks??(t.viewHooks=[])).push(-i,X),ve&&((t.viewHooks??(t.viewHooks=[])).push(i,ve),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(i,ve)),null!=We&&(t.destroyHooks??(t.destroyHooks=[])).push(i,We)}}function es(t,r,i){me(t,r,3,i)}function xi(t,r,i,u){(3&t[sr])===i&&me(t,r,i,u)}function U(t,r){let i=t[sr];(3&i)===r&&(i&=2047,i+=1,t[sr]=i)}function me(t,r,i,u){const v=u??-1,I=r.length-1;let B=0;for(let X=void 0!==u?65535&t[Gi]:0;X<I;X++)if("number"==typeof r[X+1]){if(B=r[X],null!=u&&B>=u)break}else r[X]<0&&(t[Gi]+=65536),(B<v||-1==v)&&(Z(t,i,r,X),t[Gi]=(4294901760&t[Gi])+X+2),X++}function Z(t,r,i,u){const h=i[u]<0,v=i[u+1],B=t[h?-i[u]:i[u]];if(h){if(t[sr]>>11<t[Gi]>>16&&(3&t[sr])===r){t[sr]+=2048,Ar(4,B,v);try{v.call(B)}finally{Ar(5,B,v)}}}else{Ar(4,B,v);try{v.call(B)}finally{Ar(5,B,v)}}}const Ne=-1;class At{constructor(r,i,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}function l(t,r,i){let u=0;for(;u<i.length;){const h=i[u];if("number"==typeof h){if(0!==h)break;u++;const v=i[u++],I=i[u++],B=i[u++];t.setAttribute(r,I,B,v)}else{const v=h,I=i[++u];b(v)?t.setProperty(r,v,I):t.setAttribute(r,v,I),u++}}return u}function d(t){return 3===t||4===t||6===t}function b(t){return 64===t.charCodeAt(0)}function A(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let u=0;u<r.length;u++){const h=r[u];"number"==typeof h?i=h:0===i||V(t,i,h,null,-1===i||2===i?r[++u]:null)}}return t}function V(t,r,i,u,h){let v=0,I=t.length;if(-1===r)I=-1;else for(;v<t.length;){const B=t[v++];if("number"==typeof B){if(B===r){I=-1;break}if(B>r){I=v-1;break}}}for(;v<t.length;){const B=t[v];if("number"==typeof B)break;if(B===i){if(null===u)return void(null!==h&&(t[v+1]=h));if(u===t[v+1])return void(t[v+2]=h)}v++,null!==u&&v++,null!==h&&v++}-1!==I&&(t.splice(I,0,r),v=I+1),t.splice(v++,0,i),null!==u&&t.splice(v++,0,u),null!==h&&t.splice(v++,0,h)}function he(t){return t!==Ne}function xe(t){return 32767&t}function Je(t,r){let i=function lt(t){return t>>16}(t),u=r;for(;i>0;)u=u[eo],i--;return u}let L=!0;function S(t){const r=L;return L=t,r}const O=255,re=5;let be=0;const yt={};function an(t,r){const i=bn(t,r);if(-1!==i)return i;const u=r[fn];u.firstCreatePass&&(t.injectorIndex=r.length,Sn(u.data,t),Sn(r,null),Sn(u.blueprint,null));const h=er(t,r),v=t.injectorIndex;if(he(h)){const I=xe(h),B=Je(h,r),X=B[fn].data;for(let ve=0;ve<8;ve++)r[v+ve]=B[I+ve]|X[I+ve]}return r[v+8]=h,v}function Sn(t,r){t.push(0,0,0,0,0,0,0,0,r)}function bn(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function er(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,u=null,h=r;for(;null!==h;){if(u=Rs(h),null===u)return Ne;if(i++,h=h[eo],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return Ne}function Sr(t,r,i){!function Ct(t,r,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(pn)&&(u=i[pn]),null==u&&(u=i[pn]=be++);const h=u&O;r.data[t+(h>>re)]|=1<<h}(t,r,i)}function kr(t,r,i){if(i&On.Optional||void 0!==t)return t;et()}function Vr(t,r,i,u){if(i&On.Optional&&void 0===u&&(u=null),!(i&(On.Self|On.Host))){const h=t[Ri],v=Fe(void 0);try{return h?h.get(r,u,i&On.Optional):dt(r,u,i&On.Optional)}finally{Fe(v)}}return kr(u,0,i)}function Oi(t,r,i,u=On.Default,h){if(null!==t){if(1024&r[sr]){const I=function Os(t,r,i,u,h){let v=t,I=r;for(;null!==v&&null!==I&&1024&I[sr]&&!(256&I[sr]);){const B=ji(v,I,i,u|On.Self,yt);if(B!==yt)return B;let X=v.parent;if(!X){const ve=I[j];if(ve){const We=ve.get(i,yt,u);if(We!==yt)return We}X=Rs(I),I=I[eo]}v=X}return h}(t,r,i,u,yt);if(I!==yt)return I}const v=ji(t,r,i,u,yt);if(v!==yt)return v}return Vr(r,i,u,h)}function ji(t,r,i,u,h){const v=function Bs(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(pn)?t[pn]:void 0;return"number"==typeof r?r>=0?r&O:po:r}(i);if("function"==typeof v){if(!gs(r,t,u))return u&On.Host?kr(h,0,u):Vr(r,i,u,h);try{const I=v(u);if(null!=I||u&On.Optional)return I;et()}finally{Vi()}}else if("number"==typeof v){let I=null,B=bn(t,r),X=Ne,ve=u&On.Host?r[Mi][vi]:null;for((-1===B||u&On.SkipSelf)&&(X=-1===B?er(t,r):r[B+8],X!==Ne&&qi(u,!1)?(I=r[fn],B=xe(X),r=Je(X,r)):B=-1);-1!==B;){const We=r[fn];if(ts(v,B,We.data)){const xt=Fo(B,r,i,I,u,ve);if(xt!==yt)return xt}X=r[B+8],X!==Ne&&qi(u,r[fn].data[B+8]===ve)&&ts(v,B,r)?(I=We,B=xe(X),r=Je(X,r)):B=-1}}return h}function Fo(t,r,i,u,h,v){const I=r[fn],B=I.data[t+8],We=no(B,I,i,null==u?Ei(B)&&L:u!=I&&0!=(3&B.type),h&On.Host&&v===B);return null!==We?Hi(r,I,We,B):yt}function no(t,r,i,u,h){const v=t.providerIndexes,I=r.data,B=1048575&v,X=t.directiveStart,We=v>>20,tn=h?B+We:t.directiveEnd;for(let yn=u?B:B+We;yn<tn;yn++){const Vn=I[yn];if(yn<X&&i===Vn||yn>=X&&Vn.type===i)return yn}if(h){const yn=I[X];if(yn&&Pi(yn)&&yn.type===i)return X}return null}function Hi(t,r,i,u){let h=t[i];const v=r.data;if(function _n(t){return t instanceof At}(h)){const I=h;I.resolving&&function Ot(t,r){const i=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${i}`)}(function en(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vt(t)}(v[i]));const B=S(I.canSeeViewProviders);I.resolving=!0;const X=I.injectImpl?Fe(I.injectImpl):null;gs(t,u,On.Default);try{h=t[i]=I.factory(void 0,v,t,u),r.firstCreatePass&&i>=u.directiveStart&&function Ao(t,r,i){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:v}=r.type.prototype;if(u){const I=zr(r);(i.preOrderHooks??(i.preOrderHooks=[])).push(t,I),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,I)}h&&(i.preOrderHooks??(i.preOrderHooks=[])).push(0-t,h),v&&((i.preOrderHooks??(i.preOrderHooks=[])).push(t,v),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,v))}(i,v[i],r)}finally{null!==X&&Fe(X),S(B),I.resolving=!1,Vi()}}return h}function ts(t,r,i){return!!(i[r+(t>>re)]&1<<t)}function qi(t,r){return!(t&On.Self||t&On.Host&&r)}class Ko{constructor(r,i){this._tNode=r,this._lView=i}get(r,i,u){return Oi(this._tNode,this._lView,r,Ce(u),i)}}function po(){return new Ko(ci(),In())}function ns(t){return Oe(()=>{const r=t.prototype.constructor,i=r[Ft]||Xs(r),u=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==u;){const v=h[Ft]||Xs(h);if(v&&v!==i)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function Xs(t){return De(t)?()=>{const r=Xs(Te(t));return r&&r()}:Pn(t)}function Rs(t){const r=t[fn],i=r.type;return 2===i?r.declTNode:1===i?t[vi]:null}function Ka(t){return function Gr(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const u=i.length;let h=0;for(;h<u;){const v=i[h];if(d(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<u&&"string"==typeof i[h];)h++;else{if(v===r)return i[h+1];h+=2}}}return null}(ci(),t)}const cr="__parameters__",Tr="__prop__metadata__";function Yr(t){return function(...i){if(t){const u=t(...i);for(const h in u)this[h]=u[h]}}}function vo(t,r,i){return Oe(()=>{const u=Yr(r);function h(...v){if(this instanceof h)return u.apply(this,v),this;const I=new h(...v);return B.annotation=I,B;function B(X,ve,We){const xt=X.hasOwnProperty(cr)?X[cr]:Object.defineProperty(X,cr,{value:[]})[cr];for(;xt.length<=We;)xt.push(null);return(xt[We]=xt[We]||[]).push(I),X}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function vs(t,r,i,u){return Oe(()=>{const h=Yr(r);function v(...I){if(this instanceof v)return h.apply(this,I),this;const B=new v(...I);return function X(ve,We){const xt=ve.constructor,tn=xt.hasOwnProperty(Tr)?xt[Tr]:Object.defineProperty(xt,Tr,{value:{}})[Tr];tn[We]=tn.hasOwnProperty(We)&&tn[We]||[],tn[We].unshift(B),u&&u(ve,We,...I)}}return i&&(v.prototype=Object.create(i.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}class Zr{constructor(r,i){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Et({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class Ts{}const To=vs("ContentChildren",(t,r={})=>({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...r}),Ts);function $s(t,r){t.forEach(i=>Array.isArray(i)?$s(i,r):r(i))}function ys(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function Ca(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function M(t,r){const i=[];for(let u=0;u<t;u++)i.push(r);return i}function Ae(t,r,i){let u=nn(t,r);return u>=0?t[1|u]=i:(u=~u,function H(t,r,i,u){let h=t.length;if(h==r)t.push(i,u);else if(1===h)t.push(u,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=i,t[r+1]=u}}(t,u,r,i)),u}function Ze(t,r){const i=nn(t,r);if(i>=0)return t[1|i]}function nn(t,r){return function dr(t,r,i){let u=0,h=t.length>>i;for(;h!==u;){const v=u+(h-u>>1),I=t[v<<i];if(r===I)return v<<i;I>r?h=v:u=v+1}return~(h<<i)}(t,r,1)}const Ia=le(vo("Inject",t=>({token:t})),-1),Pa=le(vo("Optional"),8),Nu=le(vo("Self"),2),$a=le(vo("SkipSelf"),4);var Gs=(()=>((Gs=Gs||{})[Gs.Important=1]="Important",Gs[Gs.DashCase=2]="DashCase",Gs))();const Ac=/^>|^->|<!--|-->|--!>|<!-$/g,Uu=/(<|>)/,Vu="\u200b$1\u200b";const zl=new Map;let Hu=0;const Rc="__ngContext__";function Is(t,r){or(r)?(t[Rc]=r[pe],function Qa(t){zl.set(t[pe],t)}(r)):t[Rc]=r}let Gu;function Fc(t,r){return Gu(t,r)}function hu(t){const r=t[mr];return Ii(r)?r[mr]:r}function Ku(t){return Lc(t[Fi])}function $u(t){return Lc(t[gi])}function Lc(t){for(;null!==t&&!Ii(t);)t=t[gi];return t}function ba(t,r,i,u,h){if(null!=u){let v,I=!1;Ii(u)?v=u:or(u)&&(I=!0,u=u[tr]);const B=ki(u);0===t&&null!==i?null==h?mu(r,i,B):Ea(r,i,B,h||null,!0):1===t&&null!==i?Ea(r,i,B,h||null,!0):2===t?yl(r,B,I):3===t&&r.destroyNode(B),null!=v&&function bl(t,r,i,u,h){const v=i[rr];v!==ki(i)&&ba(r,t,u,v,h);for(let B=vr;B<i.length;B++){const X=i[B];_l(X[fn],X,t,r,u,v)}}(r,t,v,i,h)}}function qu(t,r){return t.createText(r)}function Za(t,r,i){t.setValue(r,i)}function fu(t,r){return t.createComment(function kc(t){return t.replace(Ac,r=>r.replace(Uu,Vu))}(r))}function Wl(t,r,i){return t.createElement(r,i)}function Na(t,r){const i=t[gr],u=i.indexOf(r),h=r[mr];512&r[sr]&&(r[sr]&=-513,Io(h,-1)),i.splice(u,1)}function el(t,r){if(t.length<=vr)return;const i=vr+r,u=t[i];if(u){const h=u[Ro];null!==h&&h!==t&&Na(h,u),r>0&&(t[i-1][gi]=u[gi]);const v=Ca(t,vr+r);!function Ra(t,r){_l(t,r,r[Mr],2,null,null),r[tr]=null,r[vi]=null}(u[fn],u);const I=v[ze];null!==I&&I.detachView(v[fn]),u[mr]=null,u[gi]=null,u[sr]&=-65}return u}function Kl(t,r){if(!(128&r[sr])){const i=r[Mr];i.destroyNode&&_l(t,r,i,3,null,null),function Gl(t){let r=t[Fi];if(!r)return vl(t[fn],t);for(;r;){let i=null;if(or(r))i=r[Fi];else{const u=r[vr];u&&(i=u)}if(!i){for(;r&&!r[gi]&&r!==t;)or(r)&&vl(r[fn],r),r=r[mr];null===r&&(r=t),or(r)&&vl(r[fn],r),i=r&&r[gi]}r=i}}(r)}}function vl(t,r){if(!(128&r[sr])){r[sr]&=-65,r[sr]|=128,function Qu(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let u=0;u<i.length;u+=2){const h=r[i[u]];if(!(h instanceof At)){const v=i[u+1];if(Array.isArray(v))for(let I=0;I<v.length;I+=2){const B=h[v[I]],X=v[I+1];Ar(4,B,X);try{X.call(B)}finally{Ar(5,B,X)}}else{Ar(4,h,v);try{v.call(h)}finally{Ar(5,h,v)}}}}}(t,r),function md(t,r){const i=t.cleanup,u=r[ai];let h=-1;if(null!==i)for(let v=0;v<i.length-1;v+=2)if("string"==typeof i[v]){const I=i[v+3];I>=0?u[h=I]():u[h=-I].unsubscribe(),v+=2}else{const I=u[h=i[v+1]];i[v].call(I)}if(null!==u){for(let v=h+1;v<u.length;v++)(0,u[v])();r[ai]=null}}(t,r),1===r[fn].type&&r[Mr].destroy();const i=r[Ro];if(null!==i&&Ii(r[mr])){i!==r[mr]&&Na(i,r);const u=r[ze];null!==u&&u.detachView(t)}!function ou(t){zl.delete(t[pe])}(r)}}function Xu(t,r,i){return pu(t,r.parent,i)}function pu(t,r,i){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return i[tr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:v}=t.data[u.directiveStart+h];if(v===Bt.None||v===Bt.Emulated)return null}return Ui(u,i)}}function Ea(t,r,i,u,h){t.insertBefore(r,i,u,h)}function mu(t,r,i){t.appendChild(r,i)}function $l(t,r,i,u,h){null!==u?Ea(t,r,i,u,h):mu(t,r,i)}function tl(t,r){return t.parentNode(r)}function Zu(t,r,i){return Ju(t,r,i)}function Ks(t,r,i){return 40&t.type?Ui(t,i):null}let gu,wl,Tl,Dl,Ju=Ks;function Yc(t,r){Ju=t,gu=r}function Sa(t,r,i,u){const h=Xu(t,u,r),v=r[Mr],B=Zu(u.parent||r[vi],u,r);if(null!=h)if(Array.isArray(i))for(let X=0;X<i.length;X++)$l(v,h,i[X],B,!1);else $l(v,h,i,B,!1);void 0!==gu&&gu(v,u,r,i,h)}function ql(t,r){if(null!==r){const i=r.type;if(3&i)return Ui(r,t);if(4&i)return Ql(-1,t[r.index]);if(8&i){const u=r.child;if(null!==u)return ql(t,u);{const h=t[r.index];return Ii(h)?Ql(-1,h):ki(h)}}if(32&i)return Fc(r,t)()||ki(t[r.index]);{const u=ec(t,r);return null!==u?Array.isArray(u)?u[0]:ql(hu(t[Mi]),u):ql(t,r.next)}}return null}function ec(t,r){return null!==r?t[Mi][vi].projection[r.projection]:null}function Ql(t,r){const i=vr+t+1;if(i<r.length){const u=r[i],h=u[fn].firstChild;if(null!==h)return ql(u,h)}return r[rr]}function yl(t,r,i){const u=tl(t,r);u&&function lh(t,r,i,u){t.removeChild(r,i,u)}(t,u,r,i)}function Xl(t,r,i,u,h,v,I){for(;null!=i;){const B=u[i.index],X=i.type;if(I&&0===r&&(B&&Is(ki(B),u),i.flags|=2),32!=(32&i.flags))if(8&X)Xl(t,r,i.child,u,h,v,!1),ba(r,t,h,B,v);else if(32&X){const ve=Fc(i,u);let We;for(;We=ve();)ba(r,t,h,We,v);ba(r,t,h,B,v)}else 16&X?Uc(t,r,u,i,h,v):ba(r,t,h,B,v);i=I?i.projectionNext:i.next}}function _l(t,r,i,u,h,v){Xl(i,u,t.firstChild,r,h,v,!1)}function Uc(t,r,i,u,h,v){const I=i[Mi],X=I[vi].projection[u.projection];if(Array.isArray(X))for(let ve=0;ve<X.length;ve++)ba(r,t,h,X[ve],v);else Xl(t,r,X,I[mr],h,v,!0)}function Vc(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}function Fs(t,r,i){const{mergedAttrs:u,classes:h,styles:v}=i;null!==u&&l(t,r,u),null!==h&&Vc(t,r,h),null!==v&&function vu(t,r,i){t.setAttribute(r,"style",i)}(t,r,v)}function El(t){return function yu(){if(void 0===wl&&(wl=null,Qt.trustedTypes))try{wl=Qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wl}()?.createHTML(t)||t}function Hc(t){Tl=t}function zc(){return void 0!==Tl?Tl:typeof document<"u"?document:void 0}function Zl(){if(void 0===Dl&&(Dl=null,Qt.trustedTypes))try{Dl=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dl}function _u(t){return Zl()?.createHTML(t)||t}function wu(t){return Zl()?.createScriptURL(t)||t}class La{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zt})`}}class tc extends La{getTypeName(){return"HTML"}}class Wc extends La{getTypeName(){return"Style"}}class _d extends La{getTypeName(){return"Script"}}class bd extends La{getTypeName(){return"URL"}}class Ba extends La{getTypeName(){return"ResourceURL"}}function ja(t){return t instanceof La?t.changingThisBreaksApplicationSecurity:t}function nl(t,r){const i=function ch(t){return t instanceof La&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${zt})`)}return i===r}function dh(t){return new tc(t)}function wd(t){return new Wc(t)}function s(t){return new _d(t)}function n(t){return new bd(t)}function o(t){return new Ba(t)}function c(t){const r=new w(t);return function x(){try{return!!(new window.DOMParser).parseFromString(El(""),"text/html")}catch{return!1}}()?new p(r):r}class p{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(El(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.removeChild(i.firstChild),i)}catch{return null}}}class w{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=El(r),i}}const K=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function de(t){return(t=String(t)).match(K)?t:"unsafe:"+t}function Ye(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function mt(...t){const r={};for(const i of t)for(const u in i)i.hasOwnProperty(u)&&(r[u]=!0);return r}const Kt=Ye("area,br,col,hr,img,wbr"),$t=Ye("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),un=Ye("rp,rt"),_r=mt(Kt,mt($t,Ye("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mt(un,Ye("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mt(un,$t)),Ur=Ye("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xr=mt(Ur,Ye("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ye("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wo=Ye("script,style,template");class ta{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let i=r.firstChild,u=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?u=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,u&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(r){const i=r.nodeName.toLowerCase();if(!_r.hasOwnProperty(i))return this.sanitizedSomething=!0,!wo.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const u=r.attributes;for(let h=0;h<u.length;h++){const v=u.item(h),I=v.name,B=I.toLowerCase();if(!xr.hasOwnProperty(B)){this.sanitizedSomething=!0;continue}let X=v.value;Ur[B]&&(X=de(X)),this.buf.push(" ",I,'="',Eu(X),'"')}return this.buf.push(">"),!0}endElement(r){const i=r.nodeName.toLowerCase();_r.hasOwnProperty(i)&&!Kt.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(Eu(r))}checkClobberedElement(r,i){if(i&&(r.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return i}}const Ya=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jl=/([^\#-~ |!])/g;function Eu(t){return t.replace(/&/g,"&amp;").replace(Ya,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Cl(t,r){let i=null;try{rl=rl||c(t);let u=r?String(r):"";i=rl.getInertBodyElement(u);let h=5,v=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=v,v=i.innerHTML,i=rl.getInertBodyElement(u)}while(u!==v);return El((new ta).sanitizeChildren(Su(i)||i))}finally{if(i){const u=Su(i)||i;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Su(t){return"content"in t&&function Gc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Oo=(()=>((Oo=Oo||{})[Oo.NONE=0]="NONE",Oo[Oo.HTML=1]="HTML",Oo[Oo.STYLE=2]="STYLE",Oo[Oo.SCRIPT=3]="SCRIPT",Oo[Oo.URL=4]="URL",Oo[Oo.RESOURCE_URL=5]="RESOURCE_URL",Oo))();function na(t){const r=rc();return r?_u(r.sanitize(Oo.HTML,t)||""):nl(t,"HTML")?_u(ja(t)):Cl(zc(),vt(t))}function Kc(t){const r=rc();return r?r.sanitize(Oo.URL,t)||"":nl(t,"URL")?ja(t):de(vt(t))}function Ed(t){const r=rc();if(r)return wu(r.sanitize(Oo.RESOURCE_URL,t)||"");if(nl(t,"ResourceURL"))return wu(ja(t));throw new we(904,!1)}function nc(t,r,i){return function Tf(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ed:Kc}(r,i)(t)}function rc(){const t=In();return t&&t[Wi]}const Sd=new Zr("ENVIRONMENT_INITIALIZER"),hh=new Zr("INJECTOR",-1),Df=new Zr("INJECTOR_DEF_TYPES");class fh{get(r,i=Mt){if(i===Mt){const u=new Error(`NullInjectorError: No provider for ${Ge(r)}!`);throw u.name="NullInjectorError",u}return i}}function Cf(t){return{\u0275providers:t}}function If(...t){return{\u0275providers:ph(0,t),\u0275fromNgModule:!0}}function ph(t,...r){const i=[],u=new Set;let h;return $s(r,v=>{const I=v;Dd(I,i,[],u)&&(h||(h=[]),h.push(I))}),void 0!==h&&Td(h,i),i}function Td(t,r){for(let i=0;i<t.length;i++){const{providers:h}=t[i];mh(h,v=>{r.push(v)})}}function Dd(t,r,i,u){if(!(t=Te(t)))return!1;let h=null,v=dn(t);const I=!v&&_e(t);if(v||I){if(I&&!I.standalone)return!1;h=t}else{const X=t.ngModule;if(v=dn(X),!v)return!1;h=X}const B=u.has(h);if(I){if(B)return!1;if(u.add(h),I.dependencies){const X="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const ve of X)Dd(ve,r,i,u)}}else{if(!v)return!1;{if(null!=v.imports&&!B){let ve;u.add(h);try{$s(v.imports,We=>{Dd(We,r,i,u)&&(ve||(ve=[]),ve.push(We))})}finally{}void 0!==ve&&Td(ve,r)}if(!B){const ve=Pn(h)||(()=>new h);r.push({provide:h,useFactory:ve,deps:qt},{provide:Df,useValue:h,multi:!0},{provide:Sd,useValue:()=>cn(h),multi:!0})}const X=v.providers;null==X||B||mh(X,We=>{r.push(We)})}}return h!==t&&void 0!==t.providers}function mh(t,r){for(let i of t)_t(i)&&(i=i.\u0275providers),Array.isArray(i)?mh(i,r):r(i)}const xf=Xe({provide:String,useValue:Xe});function ic(t){return null!==t&&"object"==typeof t&&xf in t}function Va(t){return"function"==typeof t}const Id=new Zr("Set Injector scope."),$c={},Up={};let Pd;function qc(){return void 0===Pd&&(Pd=new fh),Pd}class Ha{}class Qc extends Ha{get destroyed(){return this._destroyed}constructor(r,i,u,h){super(),this.parent=i,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yh(r,I=>this.processProvider(I)),this.records.set(hh,Tu(void 0,this)),h.has("environment")&&this.records.set(Ha,Tu(void 0,this));const v=this.records.get(Id);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Df.multi,qt,On.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const i=Jn(this),u=Fe(void 0);try{return r()}finally{Jn(i),Fe(u)}}get(r,i=Mt,u=On.Default){this.assertNotDestroyed(),u=Ce(u);const h=Jn(this),v=Fe(void 0);try{if(!(u&On.SkipSelf)){let B=this.records.get(r);if(void 0===B){const X=function vh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Zr}(r)&&sn(r);B=X&&this.injectableDefInScope(X)?Tu(xd(r),$c):null,this.records.set(r,B)}if(null!=B)return this.hydrate(r,B)}return(u&On.Self?qc():this.parent).get(r,i=u&On.Optional&&i===Mt?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[ct]=I[ct]||[]).unshift(Ge(r)),h)throw I;return function St(t,r,i,u){const h=t[ct];throw r[Rn]&&h.unshift(r[Rn]),t.message=function vn(t,r,i,u=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Hn?t.slice(2):t;let h=Ge(r);if(Array.isArray(r))h=r.map(Ge).join(" -> ");else if("object"==typeof r){let v=[];for(let I in r)if(r.hasOwnProperty(I)){let B=r[I];v.push(I+":"+("string"==typeof B?JSON.stringify(B):Ge(B)))}h=`{${v.join(", ")}}`}return`${i}${u?"("+u+")":""}[${h}]: ${t.replace(An,"\n  ")}`}("\n"+t.message,h,i,u),t[wn]=h,t[ct]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{Fe(v),Jn(h)}}resolveInjectorInitializers(){const r=Jn(this),i=Fe(void 0);try{const u=this.get(Sd.multi,qt,On.Self);for(const h of u)h()}finally{Jn(r),Fe(i)}}toString(){const r=[],i=this.records;for(const u of i.keys())r.push(Ge(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let i=Va(r=Te(r))?r:Te(r&&r.provide);const u=function gh(t){return ic(t)?Tu(void 0,t.useValue):Tu(Md(t),$c)}(r);if(Va(r)||!0!==r.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=Tu(void 0,$c,!0),h.factory=()=>ue(h.multi),this.records.set(i,h)),i=r,h.multi.push(r)}this.records.set(i,u)}hydrate(r,i){return i.value===$c&&(i.value=Up,i.value=i.factory()),"object"==typeof i.value&&i.value&&function zp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(r){if(!r.providedIn)return!1;const i=Te(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function xd(t){const r=sn(t),i=null!==r?r.factory:Pn(t);if(null!==i)return i;if(t instanceof Zr)throw new we(204,!1);if(t instanceof Function)return function Vp(t){const r=t.length;if(r>0)throw M(r,"?"),new we(204,!1);const i=function Xt(t){return t&&(t[Bn]||t[$n])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new we(204,!1)}function Md(t,r,i){let u;if(Va(t)){const h=Te(t);return Pn(h)||xd(h)}if(ic(t))u=()=>Te(t.useValue);else if(function oc(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...ue(t.deps||[]));else if(function Cd(t){return!(!t||!t.useExisting)}(t))u=()=>cn(Te(t.useExisting));else{const h=Te(t&&(t.useClass||t.provide));if(!function Hp(t){return!!t.deps}(t))return Pn(h)||xd(h);u=()=>new h(...ue(t.deps))}return u}function Tu(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function yh(t,r){for(const i of t)Array.isArray(i)?yh(i,r):i&&_t(i)?yh(i.\u0275providers,r):r(i)}class Wp{}class Mf{}class Af{resolveComponentFactory(r){throw function Gp(t){const r=Error(`No component factory found for ${Ge(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Cu=(()=>{class t{}return t.NULL=new Af,t})();function Xc(){return Ta(ci(),In())}function Ta(t,r){return new il(Ui(t,r))}let il=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=Xc,t})();function Kp(t){return t instanceof il?t.nativeElement:t}class Iu{}let $p=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function _h(){const t=In(),i=$r(ci().index,t);return(or(i)?i:t)[Mr]}(),t})(),qp=(()=>{class t{}return t.\u0275prov=Et({token:t,providedIn:"root",factory:()=>null}),t})();class Ad{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Qp=new Ad("15.2.10"),bh={},wh="ngOriginalError";function ac(t){return t[wh]}class lc{constructor(){this._console=console}handleError(r){const i=this._findOriginalError(r);this._console.error("ERROR",r),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(r){let i=r&&ac(r);for(;i&&ac(i);)i=ac(i);return i||null}}function Od(t){return t.ownerDocument}function Il(t){return t instanceof Function?t():t}function Th(t,r,i){let u=t.length;for(;;){const h=t.indexOf(r,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const v=r.length;if(h+v===u||t.charCodeAt(h+v)<=32)return h}i=h+1}}const Nd="ng-template";function Jp(t,r,i){let u=0,h=!0;for(;u<t.length;){let v=t[u++];if("string"==typeof v&&h){const I=t[u++];if(i&&"class"===v&&-1!==Th(I.toLowerCase(),r,0))return!0}else{if(1===v){for(;u<t.length&&"string"==typeof(v=t[u++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function Lf(t){return 4===t.type&&t.value!==Nd}function Dh(t,r,i){return r===(4!==t.type||i?t.value:Nd)}function em(t,r,i){let u=4;const h=t.attrs||[],v=function jf(t){for(let r=0;r<t.length;r++)if(d(t[r]))return r;return t.length}(h);let I=!1;for(let B=0;B<r.length;B++){const X=r[B];if("number"!=typeof X){if(!I)if(4&u){if(u=2|1&u,""!==X&&!Dh(t,X,i)||""===X&&1===r.length){if(ha(u))return!1;I=!0}}else{const ve=8&u?X:r[++B];if(8&u&&null!==t.attrs){if(!Jp(t.attrs,ve,i)){if(ha(u))return!1;I=!0}continue}const xt=tm(8&u?"class":X,h,Lf(t),i);if(-1===xt){if(ha(u))return!1;I=!0;continue}if(""!==ve){let tn;tn=xt>v?"":h[xt+1].toLowerCase();const yn=8&u?tn:null;if(yn&&-1!==Th(yn,ve,0)||2&u&&ve!==tn){if(ha(u))return!1;I=!0}}}}else{if(!I&&!ha(u)&&!ha(X))return!1;if(I&&ha(X))continue;I=!1,u=X|1&u}}return ha(u)||I}function ha(t){return 0==(1&t)}function tm(t,r,i,u){if(null===r)return-1;let h=0;if(u||!i){let v=!1;for(;h<r.length;){const I=r[h];if(I===t)return h;if(3===I||6===I)v=!0;else{if(1===I||2===I){let B=r[++h];for(;"string"==typeof B;)B=r[++h];continue}if(4===I)break;if(0===I){h+=4;continue}}h+=v?1:2}return-1}return function Yf(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const u=t[i];if("number"==typeof u)return-1;if(u===r)return i;i++}return-1}(r,t)}function Zc(t,r,i=!1){for(let u=0;u<r.length;u++)if(em(t,r[u],i))return!0;return!1}function Ch(t,r){e:for(let i=0;i<r.length;i++){const u=r[i];if(t.length===u.length){for(let h=0;h<t.length;h++)if(t[h]!==u[h])continue e;return!0}}return!1}function Ih(t,r){return t?":not("+r.trim()+")":r}function nm(t){let r=t[0],i=1,u=2,h="",v=!1;for(;i<t.length;){let I=t[i];if("string"==typeof I)if(2&u){const B=t[++i];h+="["+I+(B.length>0?'="'+B+'"':"")+"]"}else 8&u?h+="."+I:4&u&&(h+=" "+I);else""!==h&&!ha(I)&&(r+=Ih(v,h),h=""),u=I,v=v||!ha(u);i++}return""!==h&&(r+=Ih(v,h)),r}const si={};function Ph(t){xh(Br(),In(),$e()+t,!1)}function xh(t,r,i,u){if(!u)if(3==(3&r[sr])){const v=t.preOrderCheckHooks;null!==v&&es(r,v,i)}else{const v=t.preOrderHooks;null!==v&&xi(r,v,0,i)}Wt(i)}function Wf(t,r=null,i=null,u){const h=Ah(t,r,i,u);return h.resolveInjectorInitializers(),h}function Ah(t,r=null,i=null,u,h=new Set){const v=[i||qt,If(t)];return u=u||("object"==typeof t?void 0:Ge(t)),new Qc(v,r||qc(),u||null,h)}let xu=(()=>{class t{static create(i,u){if(Array.isArray(i))return Wf({name:""},u,i,"");{const h=i.name??"";return Wf({name:h},i.parent,i.providers,h)}}}return t.THROW_IF_NOT_FOUND=Mt,t.NULL=new fh,t.\u0275prov=Et({token:t,providedIn:"any",factory:()=>cn(hh)}),t.__NG_ELEMENT_ID__=-1,t})();function ol(t,r=On.Default){const i=In();return null===i?cn(t,r):Oi(ci(),i,Te(t),r)}function Ud(){throw new Error("invalid")}function Jf(t,r){const i=t.contentQueries;if(null!==i)for(let u=0;u<i.length;u+=2){const v=i[u+1];if(-1!==v){const I=t.data[v];ri(i[u]),I.contentQueries(2,r[v],v)}}}function hc(t,r,i,u,h,v,I,B,X,ve,We){const xt=r.blueprint.slice();return xt[tr]=h,xt[sr]=76|u,(null!==We||t&&1024&t[sr])&&(xt[sr]|=1024),ss(xt),xt[mr]=xt[eo]=t,xt[Dr]=i,xt[Ni]=I||t&&t[Ni],xt[Mr]=B||t&&t[Mr],xt[Wi]=X||t&&t[Wi]||null,xt[Ri]=ve||t&&t[Ri]||null,xt[vi]=v,xt[pe]=function iu(){return Hu++}(),xt[j]=We,xt[Mi]=2==r.type?t[Mi]:xt,xt}function fc(t,r,i,u,h){let v=t.data[r];if(null===v)v=xl(t,r,i,u,h),function No(){return Nr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=i,v.value=u,v.attrs=h;const I=_i();v.injectorIndex=null===I?-1:I.injectorIndex}return $i(v,!0),v}function xl(t,r,i,u,h){const v=Bi(),I=ks(),X=t.data[r]=function dm(t,r,i,u,h,v){return{type:i,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?v:v&&v.parent,i,r,u,h);return null===t.firstChild&&(t.firstChild=X),null!==v&&(I?null==v.child&&null!==X.parent&&(v.child=X):null===v.next&&(v.next=X,X.prev=v)),X}function Ml(t,r,i,u){if(0===i)return-1;const h=r.length;for(let v=0;v<i;v++)r.push(u),t.blueprint.push(u),t.data.push(null);return h}function Vd(t,r,i){fo(r);try{const u=t.viewQuery;null!==u&&Ol(1,u,i);const h=t.template;null!==h&&Hd(t,r,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jf(t,r),t.staticViewQueries&&Ol(2,t.viewQuery,i);const v=t.components;null!==v&&function Vh(t,r){for(let i=0;i<r.length;i++)lp(t,r[i])}(r,v)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{r[sr]&=-5,_()}}function td(t,r,i,u){const h=r[sr];if(128!=(128&h)){fo(r);try{ss(r),function bo(t){return Nr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Hd(t,r,i,2,u);const I=3==(3&h);if(I){const ve=t.preOrderCheckHooks;null!==ve&&es(r,ve,null)}else{const ve=t.preOrderHooks;null!==ve&&xi(r,ve,0,null),U(r,0)}if(function vm(t){for(let r=Ku(t);null!==r;r=$u(r)){if(!r[Gn])continue;const i=r[gr];for(let u=0;u<i.length;u++){const h=i[u];512&h[sr]||Io(h[mr],1),h[sr]|=512}}}(r),function ap(t){for(let r=Ku(t);null!==r;r=$u(r))for(let i=vr;i<r.length;i++){const u=r[i],h=u[fn];ni(u)&&td(h,u,h.template,u[Dr])}}(r),null!==t.contentQueries&&Jf(t,r),I){const ve=t.contentCheckHooks;null!==ve&&es(r,ve)}else{const ve=t.contentHooks;null!==ve&&xi(r,ve,1),U(r,1)}!function Uh(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const h=i[u];if(h<0)Wt(~h);else{const v=h,I=i[++u],B=i[++u];as(I,v),B(2,r[v])}}}finally{Wt(-1)}}(t,r);const B=t.components;null!==B&&function ep(t,r){for(let i=0;i<r.length;i++)qh(t,r[i])}(r,B);const X=t.viewQuery;if(null!==X&&Ol(2,X,u),I){const ve=t.viewCheckHooks;null!==ve&&es(r,ve)}else{const ve=t.viewHooks;null!==ve&&xi(r,ve,2),U(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[sr]&=-41,512&r[sr]&&(r[sr]&=-513,Io(r[mr],-1))}finally{_()}}}function Hd(t,r,i,u,h){const v=$e(),I=2&u;try{Wt(-1),I&&r.length>ye&&xh(t,r,ye,!1),Ar(I?2:0,h),i(u,h)}finally{Wt(v),Ar(I?3:1,h)}}function nd(t,r,i){if(io(r)){const h=r.directiveEnd;for(let v=r.directiveStart;v<h;v++){const I=t.data[v];I.contentQueries&&I.contentQueries(1,i[v],v)}}}function rd(t,r,i){Zi()&&(function zh(t,r,i,u){const h=i.directiveStart,v=i.directiveEnd;Ei(i)&&function sp(t,r,i){const u=Ui(r,t),h=Al(i),v=t[Ni],I=kl(t,hc(t,h,null,i.onPush?32:16,u,r,v,v.createRenderer(u,i),null,null,null));t[r.index]=I}(r,i,t.data[h+i.componentOffset]),t.firstCreatePass||an(i,r),Is(u,r);const I=i.initialInputs;for(let B=h;B<v;B++){const X=t.data[B],ve=Hi(r,t,B,i);Is(ve,r),null!==I&&gc(0,B-h,ve,X,0,I),Pi(X)&&($r(i.index,r)[Dr]=Hi(r,t,B,i))}}(t,r,i,Ui(i,r)),64==(64&i.flags)&&Wh(t,r,i))}function zd(t,r,i=Ui){const u=r.localNames;if(null!==u){let h=r.index+1;for(let v=0;v<u.length;v+=2){const I=u[v+1],B=-1===I?i(r,t):t[I];t[h++]=B}}}function Al(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=pc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function pc(t,r,i,u,h,v,I,B,X,ve){const We=ye+u,xt=We+h,tn=function Hh(t,r){const i=[];for(let u=0;u<r;u++)i.push(u<t?null:si);return i}(We,xt),yn="function"==typeof ve?ve():ve;return tn[fn]={type:t,blueprint:tn,template:i,queries:null,viewQuery:B,declTNode:r,data:tn.slice().fill(null,We),bindingStartIndex:We,expandoStartIndex:xt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:X,consts:yn,incompleteFirstPass:!1}}function tp(t,r,i,u){const h=wi(r);null===i?h.push(u):(h.push(i),t.firstCreatePass&&sd(t).push(u,h.length-1))}function id(t,r,i,u){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const v=t[h];null===u?mc(i,r,h,v):u.hasOwnProperty(h)&&mc(i,r,u[h],v)}return i}function mc(t,r,i,u){t.hasOwnProperty(i)?t[i].push(r,u):t[i]=[r,u]}function ra(t,r,i,u,h,v,I,B){const X=Ui(r,i);let We,ve=r.inputs;!B&&null!=ve&&(We=ve[u])?(Go(t,i,We,u,h),Ei(r)&&function ip(t,r){const i=$r(r,t);16&i[sr]||(i[sr]|=32)}(i,r.index)):3&r.type&&(u=function rp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),h=null!=I?I(h,r.value||"",u):h,v.setProperty(X,u,h))}function Wd(t,r,i,u){if(Zi()){const h=null===u?null:{"":-1},v=function Gh(t,r){const i=t.directiveRegistry;let u=null,h=null;if(i)for(let v=0;v<i.length;v++){const I=i[v];if(Zc(r,I.selectors,!1))if(u||(u=[]),Pi(I))if(null!==I.findHostDirectiveDefs){const B=[];h=h||new Map,I.findHostDirectiveDefs(I,B,h),u.unshift(...B,I),od(t,r,B.length)}else u.unshift(I),od(t,r,0);else h=h||new Map,I.findHostDirectiveDefs?.(I,u,h),u.push(I)}return null===u?null:[u,h]}(t,i);let I,B;null===v?I=B=null:[I,B]=v,null!==I&&op(t,r,i,I,h,B),h&&function mm(t,r,i){if(r){const u=t.localNames=[];for(let h=0;h<r.length;h+=2){const v=i[r[h+1]];if(null==v)throw new we(-301,!1);u.push(r[h],v)}}}(i,u,h)}i.mergedAttrs=A(i.mergedAttrs,i.attrs)}function op(t,r,i,u,h,v){for(let ve=0;ve<u.length;ve++)Sr(an(i,r),t,u[ve].type);!function al(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,u.length);for(let ve=0;ve<u.length;ve++){const We=u[ve];We.providersResolver&&We.providersResolver(We)}let I=!1,B=!1,X=Ml(t,r,u.length,null);for(let ve=0;ve<u.length;ve++){const We=u[ve];i.mergedAttrs=A(i.mergedAttrs,We.hostAttrs),gm(t,i,r,X,We),Kh(X,We,h),null!==We.contentQueries&&(i.flags|=4),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(i.flags|=64);const xt=We.type.prototype;!I&&(xt.ngOnChanges||xt.ngOnInit||xt.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(i.index),I=!0),!B&&(xt.ngOnChanges||xt.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(i.index),B=!0),X++}!function np(t,r,i){const h=r.directiveEnd,v=t.data,I=r.attrs,B=[];let X=null,ve=null;for(let We=r.directiveStart;We<h;We++){const xt=v[We],tn=i?i.get(xt):null,Vn=tn?tn.outputs:null;X=id(xt.inputs,We,X,tn?tn.inputs:null),ve=id(xt.outputs,We,ve,Vn);const ar=null===X||null===I||Lf(r)?null:Wa(X,We,I);B.push(ar)}null!==X&&(X.hasOwnProperty("class")&&(r.flags|=8),X.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=B,r.inputs=X,r.outputs=ve}(t,i,v)}function Wh(t,r,i){const u=i.directiveStart,h=i.directiveEnd,v=i.index,I=function Ws(){return Nr.lFrame.currentDirectiveIndex}();try{Wt(v);for(let B=u;B<h;B++){const X=t.data[B],ve=r[B];li(B),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&pm(X,ve)}}finally{Wt(-1),li(I)}}function pm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function od(t,r,i){r.componentOffset=i,(t.components??(t.components=[])).push(r.index)}function Kh(t,r,i){if(i){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)i[r.exportAs[u]]=t;Pi(r)&&(i[""]=t)}}function gm(t,r,i,u,h){t.data[u]=h;const v=h.factory||(h.factory=Pn(h.type)),I=new At(v,Pi(h),ol);t.blueprint[u]=I,i[u]=I,function hm(t,r,i,u,h){const v=h.hostBindings;if(v){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const B=~r.index;(function fm(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(I)!=B&&I.push(B),I.push(i,u,v)}}(t,r,u,Ml(t,i,h.hostVars,si),h)}function Gd(t,r,i,u,h,v,I){if(null==v)t.removeAttribute(r,h,i);else{const B=null==I?vt(v):I(v,u||"",h);t.setAttribute(r,h,B,i)}}function gc(t,r,i,u,h,v){const I=v[r];if(null!==I){const B=u.setInput;for(let X=0;X<I.length;){const ve=I[X++],We=I[X++],xt=I[X++];null!==B?u.setInput(i,xt,ve,We):i[We]=xt}}}function Wa(t,r,i){let u=null,h=0;for(;h<i.length;){const v=i[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===u&&(u=[]);const I=t[v];for(let B=0;B<I.length;B+=2)if(I[B]===r){u.push(v,I[B+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function $h(t,r,i,u){return[t,!0,!1,r,null,0,u,i,null,null]}function qh(t,r){const i=$r(r,t);if(ni(i)){const u=i[fn];48&i[sr]?td(u,i,u.template,i[Dr]):i[Er]>0&&Qh(i)}}function Qh(t){for(let u=Ku(t);null!==u;u=$u(u))for(let h=vr;h<u.length;h++){const v=u[h];if(ni(v))if(512&v[sr]){const I=v[fn];td(I,v,I.template,v[Dr])}else v[Er]>0&&Qh(v)}const i=t[fn].components;if(null!==i)for(let u=0;u<i.length;u++){const h=$r(i[u],t);ni(h)&&h[Er]>0&&Qh(h)}}function lp(t,r){const i=$r(r,t),u=i[fn];(function ym(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])})(u,i),Vd(u,i,i[Dr])}function kl(t,r){return t[Fi]?t[mo][gi]=r:t[Fi]=r,t[mo]=r,r}function Kd(t){for(;t;){t[sr]|=32;const r=hu(t);if(Hr(t)&&!r)return t;t=r}return null}function $d(t,r,i,u=!0){const h=r[Ni];h.begin&&h.begin();try{td(t,r,t.template,i)}catch(I){throw u&&up(r,I),I}finally{h.end&&h.end()}}function Ol(t,r,i){ri(0),r(t,i)}function wi(t){return t[ai]||(t[ai]=[])}function sd(t){return t.cleanup||(t.cleanup=[])}function vc(t,r,i){return(null===t||Pi(t))&&(i=function Ti(t){for(;Array.isArray(t);){if("object"==typeof t[on])return t;t=t[tr]}return null}(i[r.index])),i[Mr]}function up(t,r){const i=t[Ri],u=i?i.get(lc,null):null;u&&u.handleError(r)}function Go(t,r,i,u,h){for(let v=0;v<i.length;){const I=i[v++],B=i[v++],X=r[I],ve=t.data[I];null!==ve.setInput?ve.setInput(X,h,u,B):X[B]=h}}function pa(t,r,i){const u=pi(r,t);Za(t[Mr],u,i)}function Rl(t,r,i){let u=i?t.styles:null,h=i?t.classes:null,v=0;if(null!==r)for(let I=0;I<r.length;I++){const B=r[I];"number"==typeof B?v=B:1==v?h=oe(h,B):2==v&&(u=oe(u,B+": "+r[++I]+";"))}i?t.styles=u:t.stylesWithoutHost=u,i?t.classes=h:t.classesWithoutHost=h}function yc(t,r,i,u,h=!1){for(;null!==i;){const v=r[i.index];if(null!==v&&u.push(ki(v)),Ii(v))for(let B=vr;B<v.length;B++){const X=v[B],ve=X[fn].firstChild;null!==ve&&yc(X[fn],X,ve,u)}const I=i.type;if(8&I)yc(t,r,i.child,u);else if(32&I){const B=Fc(i,r);let X;for(;X=B();)u.push(X)}else if(16&I){const B=ec(r,i);if(Array.isArray(B))u.push(...B);else{const X=hu(r[Mi]);yc(X[fn],X,B,u,!0)}}i=h?i.projectionNext:i.next}return u}class Mu{get rootNodes(){const r=this._lView,i=r[fn];return yc(i,r,i.firstChild,[])}constructor(r,i){this._lView=r,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(r){this._lView[Dr]=r}get destroyed(){return 128==(128&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[mr];if(Ii(r)){const i=r[Lr],u=i?i.indexOf(this):-1;u>-1&&(el(r,u),Ca(i,u))}this._attachedToViewContainer=!1}Kl(this._lView[fn],this._lView)}onDestroy(r){tp(this._lView[fn],this._lView,null,r)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-65}reattach(){this._lView[sr]|=64}detectChanges(){$d(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ja(t,r){_l(t,r,r[Mr],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class cp extends Mu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;$d(r[fn],r,r[Dr],!1)}checkNoChanges(){}get context(){return null}}class ad extends Cu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=_e(r);return new Au(i,this.ngModule)}}function qd(t){const r=[];for(let i in t)t.hasOwnProperty(i)&&r.push({propName:t[i],templateName:i});return r}class Zh{constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,u){u=Ce(u);const h=this.injector.get(r,bh,u);return h!==bh||i===bh?h:this.parentInjector.get(r,i,u)}}class Au extends Mf{get inputs(){return qd(this.componentDef.inputs)}get outputs(){return qd(this.componentDef.outputs)}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function rm(t){return t.map(nm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!i}create(r,i,u,h){let v=(h=h||this.ngModule)instanceof Ha?h:h?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const I=v?new Zh(r,v):r,B=I.get(Iu,null);if(null===B)throw new we(407,!1);const X=I.get(qp,null),ve=B.createRenderer(null,this.componentDef),We=this.componentDef.selectors[0][0]||"div",xt=u?function sl(t,r,i){return t.selectRootElement(r,i===Bt.ShadowDom)}(ve,u,this.componentDef.encapsulation):Wl(ve,We,function Xh(t){const r=t.toLowerCase();return"svg"===r?to:"math"===r?"math":null}(We)),tn=this.componentDef.onPush?288:272,yn=pc(0,null,null,1,0,null,null,null,null,null),Vn=hc(null,yn,null,tn,null,null,B,ve,X,I,null);let ar,wr;fo(Vn);try{const Rr=this.componentDef;let ti,Zn=null;Rr.findHostDirectiveDefs?(ti=[],Zn=new Map,Rr.findHostDirectiveDefs(Rr,ti,Zn),ti.push(Rr)):ti=[Rr];const mi=function _m(t,r){const i=t[fn],u=ye;return t[u]=r,fc(i,u,2,"#host",null)}(Vn,xt),rs=function ef(t,r,i,u,h,v,I,B){const X=h[fn];!function tf(t,r,i,u){for(const h of t)r.mergedAttrs=A(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(Rl(r,r.mergedAttrs,!0),null!==i&&Fs(u,i,r))}(u,t,r,I);const ve=v.createRenderer(r,i),We=hc(h,Al(i),null,i.onPush?32:16,h[t.index],t,v,ve,B||null,null,null);return X.firstCreatePass&&od(X,t,u.length-1),kl(h,We),h[t.index]=We}(mi,xt,Rr,ti,Vn,B,ve);wr=Xo(yn,ye),xt&&function hp(t,r,i,u){if(u)l(t,i,["ng-version",Qp.full]);else{const{attrs:h,classes:v}=function Uf(t){const r=[],i=[];let u=1,h=2;for(;u<t.length;){let v=t[u];if("string"==typeof v)2===h?""!==v&&r.push(v,t[++u]):8===h&&i.push(v);else{if(!ha(h))break;h=v}u++}return{attrs:r,classes:i}}(r.selectors[0]);h&&l(t,i,h),v&&v.length>0&&Vc(t,i,v.join(" "))}}(ve,Rr,xt,u),void 0!==i&&function fp(t,r,i){const u=t.projection=[];for(let h=0;h<r.length;h++){const v=i[h];u.push(null!=v?Array.from(v):null)}}(wr,this.ngContentSelectors,i),ar=function dp(t,r,i,u,h,v){const I=ci(),B=h[fn],X=Ui(I,h);op(B,h,I,i,null,u);for(let We=0;We<i.length;We++)Is(Hi(h,B,I.directiveStart+We,I),h);Wh(B,h,I),X&&Is(X,h);const ve=Hi(h,B,I.directiveStart+I.componentOffset,I);if(t[Dr]=h[Dr]=ve,null!==v)for(const We of v)We(ve,r);return nd(B,I,t),ve}(rs,Rr,ti,Zn,Vn,[bm]),Vd(yn,Vn,null)}finally{_()}return new Jh(this.componentType,ar,Ta(wr,Vn),Vn,wr)}}class Jh extends Wp{constructor(r,i,u,h,v){super(),this.location=u,this._rootLView=h,this._tNode=v,this.instance=i,this.hostView=this.changeDetectorRef=new cp(h),this.componentType=r}setInput(r,i){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[r])){const v=this._rootLView;Go(v[fn],v,h,r,i),Kd($r(this._tNode.index,v))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function bm(){const t=ci();Jo(In()[fn],t)}function rf(t){let r=function nf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const u=[t];for(;r;){let h;if(Pi(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);h=r.\u0275dir}if(h){if(i){u.push(h);const I=t;I.inputs=_c(t.inputs),I.declaredInputs=_c(t.declaredInputs),I.outputs=_c(t.outputs);const B=h.hostBindings;B&&mp(t,B);const X=h.viewQuery,ve=h.contentQueries;if(X&&af(t,X),ve&&pp(t,ve),ee(t.inputs,h.inputs),ee(t.declaredInputs,h.declaredInputs),ee(t.outputs,h.outputs),Pi(h)&&h.data.animation){const We=t.data;We.animation=(We.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let I=0;I<v.length;I++){const B=v[I];B&&B.ngInherit&&B(t),B===rf&&(i=!1)}}r=Object.getPrototypeOf(r)}!function sf(t){let r=0,i=null;for(let u=t.length-1;u>=0;u--){const h=t[u];h.hostVars=r+=h.hostVars,h.hostAttrs=A(h.hostAttrs,i=A(i,h.hostAttrs))}}(u)}function _c(t){return t===ln?{}:t===qt?[]:t}function af(t,r){const i=t.viewQuery;t.viewQuery=i?(u,h)=>{r(u,h),i(u,h)}:r}function pp(t,r){const i=t.contentQueries;t.contentQueries=i?(u,h,v)=>{r(u,h,v),i(u,h,v)}:r}function mp(t,r){const i=t.hostBindings;t.hostBindings=i?(u,h)=>{r(u,h),i(u,h)}:r}function ku(t){return r=>{r.findHostDirectiveDefs=Ga,r.hostDirectives=(Array.isArray(t)?t:t()).map(i=>"function"==typeof i?{directive:Te(i),inputs:ln,outputs:ln}:{directive:Te(i.directive),inputs:gp(i.inputs),outputs:gp(i.outputs)})}}function Ga(t,r,i){if(null!==t.hostDirectives)for(const u of t.hostDirectives){const h=qe(u.directive);wm(h.declaredInputs,u.inputs),Ga(h,r,i),i.set(h,u),r.push(h)}}function gp(t){if(void 0===t||0===t.length)return ln;const r={};for(let i=0;i<t.length;i+=2)r[t[i]]=t[i+1];return r}function wm(t,r){for(const i in r)r.hasOwnProperty(i)&&(t[r[i]]=t[i])}function Fl(t){return!!bc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function bc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ro(t,r,i){return t[r]=i}function wc(t,r){return t[r]}function zi(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function eu(t,r,i,u){const h=zi(t,r,i);return zi(t,r+1,u)||h}function Qd(t,r,i,u,h){const v=eu(t,r,i,u);return zi(t,r+2,h)||v}function e(t,r,i,u,h,v){const I=eu(t,r,i,u);return eu(t,r+2,h,v)||I}function a(t,r,i,u){const h=In();return zi(h,ho(),r)&&(Br(),function za(t,r,i,u,h,v){const I=Ui(t,r);Gd(r[Mr],I,v,t.value,i,u,h)}(rn(),h,t,r,i,u)),a}function P(t,r,i,u){return zi(t,ho(),i)?r+vt(i)+u:si}function Q(t,r,i,u,h,v){const B=eu(t,Po(),i,h);return so(2),B?r+vt(i)+u+vt(h)+v:si}function Bg(t,r,i,u,h,v,I,B){const X=In(),ve=Br(),We=t+ye,xt=ve.firstCreatePass?function z_(t,r,i,u,h,v,I,B,X){const ve=r.consts,We=fc(r,t,4,I||null,Xi(ve,B));Wd(r,i,We,Xi(ve,X)),Jo(r,We);const xt=We.tView=pc(2,We,u,h,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ve);return null!==r.queries&&(r.queries.template(r,We),xt.queries=r.queries.embeddedTView(We)),We}(We,ve,X,r,i,u,h,v,I):ve.data[We];$i(xt,!1);const tn=X[Mr].createComment("");Sa(ve,X,tn,xt),Is(tn,X),kl(X,X[We]=$h(tn,X,tn,xt)),Li(xt)&&rd(ve,X,xt),null!=I&&zd(X,xt,B)}function jg(t){return Ss(function fs(){return Nr.lFrame.contextLView}(),ye+t)}function Sm(t,r,i){const u=In();return zi(u,ho(),r)&&ra(Br(),rn(),u,t,r,u[Mr],i,!1),Sm}function Tm(t,r,i,u,h){const I=h?"class":"style";Go(t,i,r.inputs[I],I,u)}function yp(t,r,i,u){const h=In(),v=Br(),I=ye+t,B=h[Mr],X=v.firstCreatePass?function G_(t,r,i,u,h,v){const I=r.consts,X=fc(r,t,2,u,Xi(I,h));return Wd(r,i,X,Xi(I,v)),null!==X.attrs&&Rl(X,X.attrs,!1),null!==X.mergedAttrs&&Rl(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(I,v,h,r,i,u):v.data[I],ve=h[I]=Wl(B,r,function Mo(){return Nr.lFrame.currentNamespace}()),We=Li(X);return $i(X,!0),Fs(B,ve,X),32!=(32&X.flags)&&Sa(v,h,ve,X),0===function Ls(){return Nr.lFrame.elementDepthCount}()&&Is(ve,h),function Zo(){Nr.lFrame.elementDepthCount++}(),We&&(rd(v,h,X),nd(v,X,h)),null!==u&&zd(h,X),yp}function _p(){let t=ci();ks()?hs():(t=t.parent,$i(t,!1));const r=t;!function go(){Nr.lFrame.elementDepthCount--}();const i=Br();return i.firstCreatePass&&(Jo(i,t),io(t)&&i.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Fr(t){return 0!=(8&t.flags)}(r)&&Tm(i,r,In(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function oi(t){return 0!=(16&t.flags)}(r)&&Tm(i,r,In(),r.stylesWithoutHost,!1),_p}function Dm(t,r,i,u){return yp(t,r,i,u),_p(),Dm}function bp(t,r,i){const u=In(),h=Br(),v=t+ye,I=h.firstCreatePass?function K_(t,r,i,u,h){const v=r.consts,I=Xi(v,u),B=fc(r,t,8,"ng-container",I);return null!==I&&Rl(B,I,!0),Wd(r,i,B,Xi(v,h)),null!==r.queries&&r.queries.elementStart(r,B),B}(v,h,u,r,i):h.data[v];$i(I,!0);const B=u[v]=u[Mr].createComment("");return Sa(h,u,B,I),Is(B,u),Li(I)&&(rd(h,u,I),nd(h,I,u)),null!=i&&zd(u,I),bp}function wp(){let t=ci();const r=Br();return ks()?hs():(t=t.parent,$i(t,!1)),r.firstCreatePass&&(Jo(r,t),io(t)&&r.queries.elementEnd(t)),wp}function Cm(t,r,i){return bp(t,r,i),wp(),Cm}function Yg(){return In()}function Im(t){return!!t&&"function"==typeof t.then}function Ug(t){return!!t&&"function"==typeof t.subscribe}const Vg=Ug;function Pm(t,r,i,u){const h=In(),v=Br(),I=ci();return Hg(v,h,h[Mr],I,t,r,u),Pm}function xm(t,r){const i=ci(),u=In(),h=Br();return Hg(h,u,vc(ps(h.data),i,u),i,t,r),xm}function Hg(t,r,i,u,h,v,I){const B=Li(u),ve=t.firstCreatePass&&sd(t),We=r[Dr],xt=wi(r);let tn=!0;if(3&u.type||I){const ar=Ui(u,r),wr=I?I(ar):ar,Rr=xt.length,ti=I?mi=>I(ki(mi[u.index])):u.index;let Zn=null;if(!I&&B&&(Zn=function $_(t,r,i,u){const h=t.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const I=h[v];if(I===i&&h[v+1]===u){const B=r[ai],X=h[v+2];return B.length>X?B[X]:null}"string"==typeof I&&(v+=2)}return null}(t,r,h,u.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=v,Zn.__ngLastListenerFn__=v,tn=!1;else{v=Wg(u,r,We,v,!1);const mi=i.listen(wr,h,v);xt.push(v,mi),ve&&ve.push(h,ti,Rr,Rr+1)}}else v=Wg(u,r,We,v,!1);const yn=u.outputs;let Vn;if(tn&&null!==yn&&(Vn=yn[h])){const ar=Vn.length;if(ar)for(let wr=0;wr<ar;wr+=2){const rs=r[Vn[wr]][Vn[wr+1]].subscribe(v),As=xt.length;xt.push(v,rs),ve&&ve.push(h,u.index,As,-(As+1))}}}function zg(t,r,i,u){try{return Ar(6,r,i),!1!==i(u)}catch(h){return up(t,h),!1}finally{Ar(7,r,i)}}function Wg(t,r,i,u,h){return function v(I){if(I===Function)return u;Kd(t.componentOffset>-1?$r(t.index,r):r);let X=zg(r,i,u,I),ve=v.__ngNextListenerFn__;for(;ve;)X=zg(r,i,ve,I)&&X,ve=ve.__ngNextListenerFn__;return h&&!1===X&&(I.preventDefault(),I.returnValue=!1),X}}function Gg(t=1){return function W(t){return(Nr.lFrame.contextLView=function fe(t,r){for(;t>0;)r=r[eo],t--;return r}(t,Nr.lFrame.contextLView))[Dr]}(t)}function q_(t,r){let i=null;const u=function Bf(t){const r=t.attrs;if(null!=r){const i=r.indexOf(5);if(!(1&i))return r[i+1]}return null}(t);for(let h=0;h<r.length;h++){const v=r[h];if("*"!==v){if(null===u?Zc(t,v,!0):Ch(u,v))return h}else i=h}return i}function Kg(t){const r=In()[Mi][vi];if(!r.projection){const u=r.projection=M(t?t.length:1,null),h=u.slice();let v=r.child;for(;null!==v;){const I=t?q_(v,t):0;null!==I&&(h[I]?h[I].projectionNext=v:u[I]=v,h[I]=v),v=v.next}}}function $g(t,r=0,i){const u=In(),h=Br(),v=fc(h,ye+t,16,null,i||null);null===v.projection&&(v.projection=r),hs(),32!=(32&v.flags)&&function gd(t,r,i){Uc(r[Mr],0,r,i,Xu(t,i,r),Zu(i.parent||r[vi],i,r))}(h,u,v)}function Mm(t,r,i){return Ep(t,"",r,"",i),Mm}function Ep(t,r,i,u,h){const v=In(),I=P(v,r,i,u);return I!==si&&ra(Br(),rn(),v,t,I,v[Mr],h,!1),Ep}function Sp(t,r){return t<<17|r<<2}function Ec(t){return t>>17&32767}function Am(t){return 2|t}function ld(t){return(131068&t)>>2}function km(t,r){return-131069&t|r<<2}function Om(t){return 1|t}function rv(t,r,i,u,h){const v=t[i+1],I=null===r;let B=u?Ec(v):ld(v),X=!1;for(;0!==B&&(!1===X||I);){const We=t[B+1];tb(t[B],r)&&(X=!0,t[B+1]=u?Om(We):Am(We)),B=u?Ec(We):ld(We)}X&&(t[i+1]=u?Am(v):Om(v))}function tb(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&nn(t,r)>=0}const Us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iv(t){return t.substring(Us.key,Us.keyEnd)}function nb(t){return t.substring(Us.value,Us.valueEnd)}function ov(t,r){const i=Us.textEnd;return i===r?-1:(r=Us.keyEnd=function ob(t,r,i){for(;r<i&&t.charCodeAt(r)>32;)r++;return r}(t,Us.key=r,i),Zd(t,r,i))}function sv(t,r){const i=Us.textEnd;let u=Us.key=Zd(t,r,i);return i===u?-1:(u=Us.keyEnd=function sb(t,r,i){let u;for(;r<i&&(45===(u=t.charCodeAt(r))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)r++;return r}(t,u,i),u=lv(t,u,i),u=Us.value=Zd(t,u,i),u=Us.valueEnd=function ab(t,r,i){let u=-1,h=-1,v=-1,I=r,B=I;for(;I<i;){const X=t.charCodeAt(I++);if(59===X)return B;34===X||39===X?B=I=uv(t,X,I,i):r===I-4&&85===v&&82===h&&76===u&&40===X?B=I=uv(t,41,I,i):X>32&&(B=I),v=h,h=u,u=-33&X}return B}(t,u,i),lv(t,u,i))}function av(t){Us.key=0,Us.keyEnd=0,Us.value=0,Us.valueEnd=0,Us.textEnd=t.length}function Zd(t,r,i){for(;r<i&&t.charCodeAt(r)<=32;)r++;return r}function lv(t,r,i,u){return(r=Zd(t,r,i))<i&&r++,r}function uv(t,r,i,u){let h=-1,v=i;for(;v<u;){const I=t.charCodeAt(v++);if(I==r&&92!==h)return v;h=92==I&&92===h?0:I}throw new Error}function Rm(t,r,i){return Bl(t,r,i,!1),Rm}function Nm(t,r){return Bl(t,r,null,!0),Nm}function Ll(t){jl(fv,lb,t,!1)}function lb(t,r){for(let i=function ib(t){return av(t),sv(t,Zd(t,0,Us.textEnd))}(r);i>=0;i=sv(r,i))fv(t,iv(r),nb(r))}function cv(t){jl(pb,tu,t,!0)}function tu(t,r){for(let i=function rb(t){return av(t),ov(t,Zd(t,0,Us.textEnd))}(r);i>=0;i=ov(r,i))Ae(t,iv(r),!0)}function Bl(t,r,i,u){const h=In(),v=Br(),I=so(2);v.firstUpdatePass&&hv(v,t,I,u),r!==si&&zi(h,I,r)&&pv(v,v.data[$e()],h,h[Mr],t,h[I+1]=function gb(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ge(ja(t)))),t}(r,i),u,I)}function jl(t,r,i,u){const h=Br(),v=so(2);h.firstUpdatePass&&hv(h,null,v,u);const I=In();if(i!==si&&zi(I,v,i)){const B=h.data[$e()];if(gv(B,u)&&!dv(h,v)){let X=u?B.classesWithoutHost:B.stylesWithoutHost;null!==X&&(i=oe(X,i||"")),Tm(h,B,I,i,u)}else!function mb(t,r,i,u,h,v,I,B){h===si&&(h=qt);let X=0,ve=0,We=0<h.length?h[0]:null,xt=0<v.length?v[0]:null;for(;null!==We||null!==xt;){const tn=X<h.length?h[X+1]:void 0,yn=ve<v.length?v[ve+1]:void 0;let ar,Vn=null;We===xt?(X+=2,ve+=2,tn!==yn&&(Vn=xt,ar=yn)):null===xt||null!==We&&We<xt?(X+=2,Vn=We):(ve+=2,Vn=xt,ar=yn),null!==Vn&&pv(t,r,i,u,Vn,ar,I,B),We=X<h.length?h[X]:null,xt=ve<v.length?v[ve]:null}}(h,B,I,I[Mr],I[v+1],I[v+1]=function fb(t,r,i){if(null==i||""===i)return qt;const u=[],h=ja(i);if(Array.isArray(h))for(let v=0;v<h.length;v++)t(u,h[v],!0);else if("object"==typeof h)for(const v in h)h.hasOwnProperty(v)&&t(u,v,h[v]);else"string"==typeof h&&r(u,h);return u}(t,r,i),u,v)}}function dv(t,r){return r>=t.expandoStartIndex}function hv(t,r,i,u){const h=t.data;if(null===h[i+1]){const v=h[$e()],I=dv(t,i);gv(v,u)&&null===r&&!I&&(r=!1),r=function ub(t,r,i,u){const h=ps(t);let v=u?r.residualClasses:r.residualStyles;if(null===h)0===(u?r.classBindings:r.styleBindings)&&(i=cf(i=Fm(null,t,r,i,u),r.attrs,u),v=null);else{const I=r.directiveStylingLast;if(-1===I||t[I]!==h)if(i=Fm(h,t,r,i,u),null===v){let X=function cb(t,r,i){const u=i?r.classBindings:r.styleBindings;if(0!==ld(u))return t[Ec(u)]}(t,r,u);void 0!==X&&Array.isArray(X)&&(X=Fm(null,t,r,X[1],u),X=cf(X,r.attrs,u),function db(t,r,i,u){t[Ec(i?r.classBindings:r.styleBindings)]=u}(t,r,u,X))}else v=function hb(t,r,i){let u;const h=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<h;v++)u=cf(u,t[v].hostAttrs,i);return cf(u,r.attrs,i)}(t,r,u)}return void 0!==v&&(u?r.residualClasses=v:r.residualStyles=v),i}(h,v,r,u),function J_(t,r,i,u,h,v){let I=v?r.classBindings:r.styleBindings,B=Ec(I),X=ld(I);t[u]=i;let We,ve=!1;if(Array.isArray(i)?(We=i[1],(null===We||nn(i,We)>0)&&(ve=!0)):We=i,h)if(0!==X){const tn=Ec(t[B+1]);t[u+1]=Sp(tn,B),0!==tn&&(t[tn+1]=km(t[tn+1],u)),t[B+1]=function X_(t,r){return 131071&t|r<<17}(t[B+1],u)}else t[u+1]=Sp(B,0),0!==B&&(t[B+1]=km(t[B+1],u)),B=u;else t[u+1]=Sp(X,0),0===B?B=u:t[X+1]=km(t[X+1],u),X=u;ve&&(t[u+1]=Am(t[u+1])),rv(t,We,u,!0),rv(t,We,u,!1),function eb(t,r,i,u,h){const v=h?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof r&&nn(v,r)>=0&&(i[u+1]=Om(i[u+1]))}(r,We,t,u,v),I=Sp(B,X),v?r.classBindings=I:r.styleBindings=I}(h,v,r,i,I,u)}}function Fm(t,r,i,u,h){let v=null;const I=i.directiveEnd;let B=i.directiveStylingLast;for(-1===B?B=i.directiveStart:B++;B<I&&(v=r[B],u=cf(u,v.hostAttrs,h),v!==t);)B++;return null!==t&&(i.directiveStylingLast=B),u}function cf(t,r,i){const u=i?1:2;let h=-1;if(null!==r)for(let v=0;v<r.length;v++){const I=r[v];"number"==typeof I?h=I:h===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ae(t,I,!!i||r[++v]))}return void 0===t?null:t}function fv(t,r,i){Ae(t,r,ja(i))}function pb(t,r,i){const u=String(r);""!==u&&!u.includes(" ")&&Ae(t,u,i)}function pv(t,r,i,u,h,v,I,B){if(!(3&r.type))return;const X=t.data,ve=X[B+1],We=function Z_(t){return 1==(1&t)}(ve)?mv(X,r,i,h,ld(ve),I):void 0;Tp(We)||(Tp(v)||function Q_(t){return 2==(2&t)}(ve)&&(v=mv(X,null,i,h,B,I)),function vd(t,r,i,u,h){if(r)h?t.addClass(i,u):t.removeClass(i,u);else{let v=-1===u.indexOf("-")?void 0:Gs.DashCase;null==h?t.removeStyle(i,u,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=Gs.Important),t.setStyle(i,u,h,v))}}(u,I,pi($e(),i),h,v))}function mv(t,r,i,u,h,v){const I=null===r;let B;for(;h>0;){const X=t[h],ve=Array.isArray(X),We=ve?X[1]:X,xt=null===We;let tn=i[h+1];tn===si&&(tn=xt?qt:void 0);let yn=xt?Ze(tn,u):We===u?tn:void 0;if(ve&&!Tp(yn)&&(yn=Ze(X,u)),Tp(yn)&&(B=yn,I))return B;const Vn=t[h+1];h=I?Ec(Vn):ld(Vn)}if(null!==r){let X=v?r.residualClasses:r.residualStyles;null!=X&&(B=Ze(X,u))}return B}function Tp(t){return void 0!==t}function gv(t,r){return 0!=(t.flags&(r?8:16))}function vv(t,r=""){const i=In(),u=Br(),h=t+ye,v=u.firstCreatePass?fc(u,h,1,r,null):u.data[h],I=i[h]=qu(i[Mr],r);Sa(u,i,I,v),$i(v,!1)}function Lm(t){return Dp("",t,""),Lm}function Dp(t,r,i){const u=In(),h=P(u,t,r,i);return h!==si&&pa(u,$e(),h),Dp}function Bm(t,r,i,u,h){const v=In(),I=Q(v,t,r,i,u,h);return I!==si&&pa(v,$e(),I),Bm}function jm(t,r,i,u,h,v,I){const B=In(),X=function Ee(t,r,i,u,h,v,I,B){const ve=Qd(t,Po(),i,h,I);return so(3),ve?r+vt(i)+u+vt(h)+v+vt(I)+B:si}(B,t,r,i,u,h,v,I);return X!==si&&pa(B,$e(),X),jm}function Tv(t,r,i,u,h){jl(Ae,tu,Q(In(),t,r,i,u,h),!0)}function Ym(t,r,i){const u=In();return zi(u,ho(),r)&&ra(Br(),rn(),u,t,r,u[Mr],i,!0),Ym}function Um(t,r,i){const u=In();if(zi(u,ho(),r)){const v=Br(),I=rn();ra(v,I,u,t,r,vc(ps(v.data),I,u),i,!0)}return Um}const ud=void 0;var Nb=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rb(t){const i=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let Jd={};function Fb(t,r,i){"string"!=typeof r&&(i=r,r=t[Jr.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),Jd[r]=t,i&&(Jd[r][Jr.ExtraData]=i)}function Vm(t){const r=function Lb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Nv(r);if(i)return i;const u=r.split("-")[0];if(i=Nv(u),i)return i;if("en"===u)return Nb;throw new we(701,!1)}function Rv(t){return Vm(t)[Jr.PluralCase]}function Nv(t){return t in Jd||(Jd[t]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[t]),Jd[t]}var Jr=(()=>((Jr=Jr||{})[Jr.LocaleId=0]="LocaleId",Jr[Jr.DayPeriodsFormat=1]="DayPeriodsFormat",Jr[Jr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jr[Jr.DaysFormat=3]="DaysFormat",Jr[Jr.DaysStandalone=4]="DaysStandalone",Jr[Jr.MonthsFormat=5]="MonthsFormat",Jr[Jr.MonthsStandalone=6]="MonthsStandalone",Jr[Jr.Eras=7]="Eras",Jr[Jr.FirstDayOfWeek=8]="FirstDayOfWeek",Jr[Jr.WeekendRange=9]="WeekendRange",Jr[Jr.DateFormat=10]="DateFormat",Jr[Jr.TimeFormat=11]="TimeFormat",Jr[Jr.DateTimeFormat=12]="DateTimeFormat",Jr[Jr.NumberSymbols=13]="NumberSymbols",Jr[Jr.NumberFormats=14]="NumberFormats",Jr[Jr.CurrencyCode=15]="CurrencyCode",Jr[Jr.CurrencySymbol=16]="CurrencySymbol",Jr[Jr.CurrencyName=17]="CurrencyName",Jr[Jr.Currencies=18]="Currencies",Jr[Jr.Directionality=19]="Directionality",Jr[Jr.PluralCase=20]="PluralCase",Jr[Jr.ExtraData=21]="ExtraData",Jr))();const Bb=["zero","one","two","few","many"],eh="en-US",Cp={marker:"element"},Ip={marker:"ICU"};var ws=(()=>((ws=ws||{})[ws.SHIFT=2]="SHIFT",ws[ws.APPEND_EAGERLY=1]="APPEND_EAGERLY",ws[ws.COMMENT=2]="COMMENT",ws))();let Fv=eh;function Lv(t){(function ce(t,r){null==t&&ie(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(Fv=t.toLowerCase().replace(/_/g,"-"))}function Bv(t,r,i){const u=r.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?Ks(t,0,i):ki(i[h])}function jv(t,r,i,u,h){const v=r.insertBeforeIndex;if(Array.isArray(v)){let I=u,B=null;if(3&r.type||(B=I,I=h),null!==I&&-1===r.componentOffset)for(let X=1;X<v.length;X++)Ea(t,I,i[v[X]],B,!1)}}function Yv(t,r){if(t.push(r),t.length>1)for(let i=t.length-2;i>=0;i--){const u=t[i];Uv(u)||Vb(u,r)&&null===Hb(u)&&zb(u,r.index)}}function Uv(t){return!(64&t.type)}function Vb(t,r){return Uv(r)||t.index>r.index}function Hb(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function zb(t,r){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=r:(Yc(Bv,jv),t.insertBeforeIndex=r)}function df(t,r){const i=t.data[r];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function Kb(t,r,i){const u=xl(t,i,64,null,null);return Yv(r,u),u}function Pp(t,r){const i=r[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function Vv(t){return t>>>17}function Hv(t){return(131070&t)>>>1}let hf=0,ff=0;function Wv(t,r,i,u){const h=i[Mr];let I,v=null;for(let B=0;B<r.length;B++){const X=r[B];if("string"==typeof X){const ve=r[++B];null===i[ve]&&(i[ve]=qu(h,X))}else if("number"==typeof X)switch(1&X){case 0:const ve=Vv(X);let We,xt;if(null===v&&(v=ve,I=tl(h,u)),ve===v?(We=u,xt=I):(We=null,xt=ki(i[ve])),null!==xt){const ar=Hv(X);Ea(h,xt,i[ar],We,!1);const Rr=df(t,ar);if(null!==Rr&&"object"==typeof Rr){const ti=Pp(Rr,i);null!==ti&&Wv(t,Rr.create[ti],i,i[Rr.anchorIdx])}}break;case 1:const yn=r[++B],Vn=r[++B];Gd(h,pi(X>>>1,i),null,null,yn,Vn,null)}else switch(X){case Ip:const ve=r[++B],We=r[++B];null===i[We]&&Is(i[We]=fu(h,ve),i);break;case Cp:const xt=r[++B],tn=r[++B];null===i[tn]&&Is(i[tn]=Wl(h,xt,null),i)}}}function Gv(t,r,i,u,h){for(let v=0;v<i.length;v++){const I=i[v],B=i[++v];if(I&h){let X="";for(let ve=v+1;ve<=v+B;ve++){const We=i[ve];if("string"==typeof We)X+=We;else if("number"==typeof We)if(We<0)X+=vt(r[u-We]);else{const xt=We>>>2;switch(3&We){case 1:const tn=i[++ve],yn=i[++ve],Vn=t.data[xt];"string"==typeof Vn?Gd(r[Mr],r[xt],null,Vn,tn,X,yn):ra(t,Vn,r,tn,X,r[Mr],yn,!1);break;case 0:const ar=r[xt];null!==ar&&Za(r[Mr],ar,X);break;case 2:Zb(t,df(t,xt),r,X);break;case 3:Kv(t,df(t,xt),u,r)}}}}else{const X=i[v+1];if(X>0&&3==(3&X)){const We=df(t,X>>>2);r[We.currentCaseLViewIndex]<0&&Kv(t,We,u,r)}}v+=B}}function Kv(t,r,i,u){let h=u[r.currentCaseLViewIndex];if(null!==h){let v=hf;h<0&&(h=u[r.currentCaseLViewIndex]=~h,v=-1),Gv(t,u,r.update[h],i,v)}}function Zb(t,r,i,u){const h=function Jb(t,r){let i=t.cases.indexOf(r);if(-1===i)switch(t.type){case 1:{const u=function jb(t,r){const i=Rv(r)(parseInt(t,10)),u=Bb[i];return void 0!==u?u:"other"}(r,function Ub(){return Fv}());i=t.cases.indexOf(u),-1===i&&"other"!==u&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(r,u);if(Pp(r,i)!==h&&($v(t,r,i),i[r.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const I=i[r.anchorIdx];I&&Wv(t,r.create[h],i,I)}}function $v(t,r,i){let u=Pp(r,i);if(null!==u){const h=r.remove[u];for(let v=0;v<h.length;v++){const I=h[v];if(I>0){const B=pi(I,i);null!==B&&yl(i[Mr],B)}else $v(t,df(t,~I),i)}}}function e0(){const t=[];let i,u,r=-1;function v(B,X){r=0;const ve=Pp(B,X);u=null!==ve?B.remove[ve]:qt}function I(){if(r<u.length){const B=u[r++];return B>0?i[B]:(t.push(r,u),v(i[fn].data[~B],i),I())}return 0===t.length?null:(u=t.pop(),r=t.pop(),I())}return function h(B,X){for(i=X;t.length;)t.pop();return v(B.value,X),I}}const xp=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,Qv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pf="\ufffd",r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,o0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,s0=/\uE500/g;function Xv(t,r,i,u,h,v,I){const B=Ml(t,u,1,null);let X=B<<ws.SHIFT,ve=_i();r===ve&&(ve=null),null===ve&&(X|=ws.APPEND_EAGERLY),I&&(X|=ws.COMMENT,function oh(t){void 0===Gu&&(Gu=t())}(e0)),h.push(X,null===v?"":v);const We=xl(t,B,I?32:1,null===v?"":v,null);Yv(i,We);const xt=We.index;return $i(We,!1),null!==ve&&r!==ve&&function Gb(t,r){let i=t.insertBeforeIndex;null===i?(Yc(Bv,jv),i=t.insertBeforeIndex=[null,r]):(function J(t,r,i){t!=r&&ie(i,t,r,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(r))}(ve,xt),We}function u0(t,r,i,u,h,v,I){const B=I.match(xp),X=Xv(t,r,i,v,u,B?null:I,!1);B&&mf(h,I,X.index,null,0,null)}function mf(t,r,i,u,h,v){const I=t.length,B=I+1;t.push(null,null);const X=I+2,ve=r.split(xp);let We=0;for(let xt=0;xt<ve.length;xt++){const tn=ve[xt];if(1&xt){const yn=h+parseInt(tn,10);t.push(-1-yn),We|=Zv(yn)}else""!==tn&&t.push(tn)}return t.push(i<<2|(u?1:0)),u&&t.push(u,v),t[I]=We,t[B]=t.length-X,We}function Zv(t){return 1<<Math.min(t,31)}function Jv(t){let r,v,i="",u=0,h=!1;for(;null!==(r=r0.exec(t));)h?r[0]===`${pf}/*${v}${pf}`&&(u=r.index,h=!1):(i+=t.substring(u,r.index+r[0].length),v=r[1],h=!0);return i+=t.slice(u),i}function ey(t,r,i,u,h,v){let I=0;const B={type:h.type,currentCaseLViewIndex:Ml(t,r,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function v0(t,r,i){t.push(Zv(r.mainBinding),2,-1-r.mainBinding,i<<2|2)})(i,h,v),function Wb(t,r,i){const u=t.data[r];null===u?t.data[r]=i:u.value=i}(t,v,B);const X=h.values;for(let ve=0;ve<X.length;ve++){const We=X[ve],xt=[];for(let tn=0;tn<We.length;tn++){const yn=We[tn];if("string"!=typeof yn){const Vn=xt.push(yn)-1;We[tn]=`\x3c!--\ufffd${Vn}\ufffd--\x3e`}}I=m0(t,B,r,i,u,h.cases[ve],We.join(""),xt)|I}I&&function y0(t,r,i){t.push(r,1,i<<2|3)}(i,I,v)}function p0(t){const r=[],i=[];let u=1,h=0;const v=Hm(t=t.replace(Qv,function(I,B,X){return u="select"===X?0:1,h=parseInt(B.slice(1),10),""}));for(let I=0;I<v.length;){let B=v[I++].trim();1===u&&(B=B.replace(/\s*(?:=)?(\w+)\s*/,"$1")),B.length&&r.push(B);const X=Hm(v[I++]);r.length>i.length&&i.push(X)}return{type:u,mainBinding:h,cases:r,values:i}}function Hm(t){if(!t)return[];let r=0;const i=[],u=[],h=/[{}]/g;let v;for(h.lastIndex=0;v=h.exec(t);){const B=v.index;if("}"==v[0]){if(i.pop(),0==i.length){const X=t.substring(r,B);Qv.test(X)?u.push(p0(X)):u.push(X),r=B+1}}else{if(0==i.length){const X=t.substring(r,B);u.push(X),r=B+1}i.push("{")}}const I=t.substring(r);return u.push(I),u}function m0(t,r,i,u,h,v,I,B){const X=[],ve=[],We=[];r.cases.push(v),r.create.push(X),r.remove.push(ve),r.update.push(We);const tn=c(zc()).getInertBodyElement(I),yn=Su(tn)||tn;return yn?ty(t,r,i,u,X,ve,We,yn,h,B,0):0}function ty(t,r,i,u,h,v,I,B,X,ve,We){let xt=0,tn=B.firstChild;for(;tn;){const yn=Ml(t,i,1,null);switch(tn.nodeType){case Node.ELEMENT_NODE:const Vn=tn,ar=Vn.tagName.toLowerCase();if(_r.hasOwnProperty(ar)){zm(h,Cp,ar,X,yn),t.data[yn]=ar;const Zn=Vn.attributes;for(let mi=0;mi<Zn.length;mi++){const rs=Zn.item(mi),As=rs.name.toLowerCase();rs.value.match(xp)?xr.hasOwnProperty(As)&&mf(I,rs.value,yn,rs.name,0,Ur[As]?de:null):_0(h,yn,rs)}xt=ty(t,r,i,u,h,v,I,tn,yn,ve,We+1)|xt,ny(v,yn,We)}break;case Node.TEXT_NODE:const wr=tn.textContent||"",Rr=wr.match(xp);zm(h,null,Rr?"":wr,X,yn),ny(v,yn,We),Rr&&(xt=mf(I,wr,yn,null,0,null)|xt);break;case Node.COMMENT_NODE:const ti=n0.exec(tn.textContent||"");if(ti){const mi=ve[parseInt(ti[1],10)];zm(h,Ip,"",X,yn),ey(t,i,u,X,mi,yn),g0(v,yn,We)}}tn=tn.nextSibling}return xt}function ny(t,r,i){0===i&&t.push(r)}function g0(t,r,i){0===i&&(t.push(~r),t.push(r))}function zm(t,r,i,u,h){null!==r&&t.push(r),t.push(i,h,function $b(t,r,i){return t|r<<17|i<<1}(0,u,h))}function _0(t,r,i){t.push(r<<1|1,i.name,i.value)}function iy(t,r,i=-1){const u=Br(),h=In(),v=ye+t,I=Xi(u.consts,r),B=_i();u.firstCreatePass&&function l0(t,r,i,u,h,v){const I=_i(),B=[],X=[],ve=[[]];h=function f0(t,r){if(function h0(t){return-1===t}(r))return Jv(t);{const i=t.indexOf(`:${r}${pf}`)+2+r.toString().length,u=t.search(new RegExp(`${pf}\\/\\*\\d+:${r}${pf}`));return Jv(t.substring(i,u))}}(h,v);const We=function a0(t){return t.replace(s0," ")}(h).split(o0);for(let xt=0;xt<We.length;xt++){let tn=We[xt];if(1&xt){const yn=47===tn.charCodeAt(0),ar=(tn.charCodeAt(yn?1:0),ye+Number.parseInt(tn.substring(yn?2:1)));if(yn)ve.shift(),$i(_i(),!1);else{const wr=Kb(t,ve[0],ar);ve.unshift([]),$i(wr,!0)}}else{const yn=Hm(tn);for(let Vn=0;Vn<yn.length;Vn++){let ar=yn[Vn];if(1&Vn){const wr=ar;if("object"!=typeof wr)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ey(t,i,X,r,wr,Xv(t,I,ve[0],i,B,"",!0).index)}else""!==ar&&u0(t,I,ve[0],B,X,i,ar)}}}t.data[u]={create:B,update:X}}(u,null===B?0:B.index,h,v,I,i);const X=u.data[v],We=pu(u,B===h[vi]?null:B,h);(function Xb(t,r,i,u){const h=t[Mr];for(let v=0;v<r.length;v++){const I=r[v++],B=r[v],ve=(I&ws.APPEND_EAGERLY)===ws.APPEND_EAGERLY,We=I>>>ws.SHIFT;let xt=t[We];null===xt&&(xt=t[We]=(I&ws.COMMENT)===ws.COMMENT?h.createComment(B):qu(h,B)),ve&&null!==i&&Ea(h,i,xt,u,!1)}})(h,X.create,We,B&&8&B.type?h[B.index]:null),Ho(!0)}function sy(t,r,i){iy(t,r,i),function oy(){Ho(!1)}()}function Wm(t){return function qb(t){t&&(hf|=1<<Math.min(ff,31)),ff++}(zi(In(),ho(),t)),Wm}function ay(t){!function Qb(t,r,i){if(ff>0){const u=t.data[i];Gv(t,r,Array.isArray(u)?u:u.update,Po()-ff-1,hf)}hf=0,ff=0}(Br(),In(),t+ye)}function Gm(t,r,i,u,h){if(t=Te(t),Array.isArray(t))for(let v=0;v<t.length;v++)Gm(t[v],r,i,u,h);else{const v=Br(),I=In();let B=Va(t)?t:Te(t.provide),X=Md(t);const ve=ci(),We=1048575&ve.providerIndexes,xt=ve.directiveStart,tn=ve.providerIndexes>>20;if(Va(t)||!t.multi){const yn=new At(X,h,ol),Vn=$m(B,r,h?We:We+tn,xt);-1===Vn?(Sr(an(ve,I),v,B),Km(v,t,r.length),r.push(B),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(yn),I.push(yn)):(i[Vn]=yn,I[Vn]=yn)}else{const yn=$m(B,r,We+tn,xt),Vn=$m(B,r,We,We+tn),wr=Vn>=0&&i[Vn];if(h&&!wr||!h&&!(yn>=0&&i[yn])){Sr(an(ve,I),v,B);const Rr=function O0(t,r,i,u,h){const v=new At(t,i,ol);return v.multi=[],v.index=r,v.componentProviders=0,ly(v,h,u&&!i),v}(h?k0:A0,i.length,h,u,X);!h&&wr&&(i[Vn].providerFactory=Rr),Km(v,t,r.length,0),r.push(B),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(Rr),I.push(Rr)}else Km(v,t,yn>-1?yn:Vn,ly(i[h?Vn:yn],X,!h&&u));!h&&u&&wr&&i[Vn].componentProviders++}}}function Km(t,r,i,u){const h=Va(r),v=function sc(t){return!!t.useClass}(r);if(h||v){const X=(v?Te(r.useClass):r).prototype.ngOnDestroy;if(X){const ve=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const We=ve.indexOf(i);-1===We?ve.push(i,[u,X]):ve[We+1].push(u,X)}else ve.push(i,X)}}}function ly(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function $m(t,r,i,u){for(let h=i;h<u;h++)if(r[h]===t)return h;return-1}function A0(t,r,i,u){return qm(this.multi,[])}function k0(t,r,i,u){const h=this.multi;let v;if(this.providerFactory){const I=this.providerFactory.componentProviders,B=Hi(i,i[fn],this.providerFactory.index,u);v=B.slice(0,I),qm(h,v);for(let X=I;X<B.length;X++)v.push(B[X])}else v=[],qm(h,v);return v}function qm(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function uy(t,r=[]){return i=>{i.providersResolver=(u,h)=>function M0(t,r,i){const u=Br();if(u.firstCreatePass){const h=Pi(t);Gm(i,u.data,u.blueprint,h,!0),Gm(r,u.data,u.blueprint,h,!1)}}(u,h?h(t):t,r)}}class th{}class cy{}function R0(t,r){return new dy(t,r??null)}class dy extends th{constructor(r,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ad(this);const u=Lt(r);this._bootstrapComponents=Il(u.bootstrap),this._r3Injector=Ah(r,i,[{provide:th,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],Ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Qm extends cy{constructor(r){super(),this.moduleType=r}create(r){return new dy(this.moduleType,r)}}class N0 extends th{constructor(r,i,u){super(),this.componentFactoryResolver=new ad(this),this.instance=null;const h=new Qc([...r,{provide:th,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],i||qc(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Xm(t,r,i=null){return new N0(t,r,i).injector}let F0=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const u=ph(0,i.type),h=u.length>0?Xm([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,h)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Et({token:t,providedIn:"environment",factory:()=>new t(cn(Ha))}),t})();function hy(t){t.getStandaloneInjector=r=>r.get(F0).getOrCreateStandaloneInjector(t)}function _y(t,r,i){const u=oo()+t,h=In();return h[u]===si?ro(h,u,i?r.call(i):r()):wc(h,u)}function by(t,r,i,u){return Py(In(),oo(),t,r,i,u)}function wy(t,r,i,u,h){return xy(In(),oo(),t,r,i,u,h)}function Ey(t,r,i,u,h,v){return function My(t,r,i,u,h,v,I,B){const X=r+i;return Qd(t,X,h,v,I)?ro(t,X+3,B?u.call(B,h,v,I):u(h,v,I)):gf(t,X+3)}(In(),oo(),t,r,i,u,h,v)}function Sy(t,r,i,u,h,v,I){return function Ay(t,r,i,u,h,v,I,B,X){const ve=r+i;return e(t,ve,h,v,I,B)?ro(t,ve+4,X?u.call(X,h,v,I,B):u(h,v,I,B)):gf(t,ve+4)}(In(),oo(),t,r,i,u,h,v,I)}function Ty(t,r,i,u,h,v,I,B){const X=oo()+t,ve=In(),We=e(ve,X,i,u,h,v);return zi(ve,X+4,I)||We?ro(ve,X+5,B?r.call(B,i,u,h,v,I):r(i,u,h,v,I)):wc(ve,X+5)}function Dy(t,r,i,u,h,v,I,B,X){const ve=oo()+t,We=In(),xt=e(We,ve,i,u,h,v);return eu(We,ve+4,I,B)||xt?ro(We,ve+6,X?r.call(X,i,u,h,v,I,B):r(i,u,h,v,I,B)):wc(We,ve+6)}function Cy(t,r,i,u,h,v,I,B,X,ve){const We=oo()+t,xt=In();let tn=e(xt,We,i,u,h,v);return Qd(xt,We+4,I,B,X)||tn?ro(xt,We+7,ve?r.call(ve,i,u,h,v,I,B,X):r(i,u,h,v,I,B,X)):wc(xt,We+7)}function Iy(t,r,i,u){return function ky(t,r,i,u,h,v){let I=r+i,B=!1;for(let X=0;X<h.length;X++)zi(t,I++,h[X])&&(B=!0);return B?ro(t,I,u.apply(v,h)):gf(t,I)}(In(),oo(),t,r,i,u)}function gf(t,r){const i=t[r];return i===si?void 0:i}function Py(t,r,i,u,h,v){const I=r+i;return zi(t,I,h)?ro(t,I+1,v?u.call(v,h):u(h)):gf(t,I+1)}function xy(t,r,i,u,h,v,I){const B=r+i;return eu(t,B,h,v)?ro(t,B+2,I?u.call(I,h,v):u(h,v)):gf(t,B+2)}function Oy(t,r){const i=Br();let u;const h=t+ye;i.firstCreatePass?(u=function G0(t,r){if(r)for(let i=r.length-1;i>=0;i--){const u=r[i];if(t===u.name)return u}}(r,i.pipeRegistry),i.data[h]=u,u.onDestroy&&(i.destroyHooks??(i.destroyHooks=[])).push(h,u.onDestroy)):u=i.data[h];const v=u.factory||(u.factory=Pn(u.type)),I=Fe(ol);try{const B=S(!1),X=v();return S(B),function W_(t,r,i,u){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),r[i]=u}(i,In(),h,X),X}finally{Fe(I)}}function Ry(t,r,i){const u=t+ye,h=In(),v=Ss(h,u);return vf(h,u)?Py(h,oo(),r,v.transform,i,v):v.transform(i)}function Ny(t,r,i,u){const h=t+ye,v=In(),I=Ss(v,h);return vf(v,h)?xy(v,oo(),r,I.transform,i,u,I):I.transform(i,u)}function vf(t,r){return t[fn].data[r].pure}function Jm(t){return r=>{setTimeout(t,void 0,r)}}const nu=class Q0 extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,i,u){let h=r,v=i||(()=>null),I=u;if(r&&"object"==typeof r){const X=r;h=X.next?.bind(X),v=X.error?.bind(X),I=X.complete?.bind(X)}this.__isAsync&&(v=Jm(v),h&&(h=Jm(h)),I&&(I=Jm(I)));const B=super.subscribe({next:h,error:v,complete:I});return r instanceof T.w0&&r.add(B),B}};function X0(){return this._results[Symbol.iterator]()}class Mp{get changes(){return this._changes||(this._changes=new nu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Mp.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=X0)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){const u=this;u.dirty=!1;const h=function Ds(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function sa(t,r,i){if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++){let h=t[u],v=r[u];if(i&&(h=i(h),v=i(v)),v!==h)return!1}return!0}(u._results,h,i))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yf=(()=>{class t{}return t.__NG_ELEMENT_ID__=ew,t})();const Z0=yf,J0=class extends Z0{constructor(r,i,u){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=u}createEmbeddedView(r,i){const u=this._declarationTContainer.tView,h=hc(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,i||null);h[Ro]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[ze];return null!==I&&(h[ze]=I.createEmbeddedView(u)),Vd(u,h,r),new Mu(h)}};function ew(){return Ap(ci(),In())}function Ap(t,r){return 4&t.type?new J0(r,t,Ta(t,r)):null}let kp=(()=>{class t{}return t.__NG_ELEMENT_ID__=tw,t})();function tw(){return By(ci(),In())}const nw=kp,Fy=class extends nw{constructor(r,i,u){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=u}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=er(this._hostTNode,this._hostLView);if(he(r)){const i=Je(r,this._hostLView),u=xe(r);return new Ko(i[fn].data[u+8],i)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=Ly(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(r,i,u){let h,v;"number"==typeof u?h=u:null!=u&&(h=u.index,v=u.injector);const I=r.createEmbeddedView(i||{},v);return this.insert(I,h),I}createComponent(r,i,u,h,v){const I=r&&!function Da(t){return"function"==typeof t}(r);let B;if(I)B=i;else{const xt=i||{};B=xt.index,u=xt.injector,h=xt.projectableNodes,v=xt.environmentInjector||xt.ngModuleRef}const X=I?r:new Au(_e(r)),ve=u||this.parentInjector;if(!v&&null==X.ngModule){const tn=(I?ve:this.parentInjector).get(Ha,null);tn&&(v=tn)}const We=X.create(ve,h,void 0,v);return this.insert(We.hostView,B),We}insert(r,i){const u=r._lView,h=u[fn];if(function Ki(t){return Ii(t[mr])}(u)){const We=this.indexOf(r);if(-1!==We)this.detach(We);else{const xt=u[mr],tn=new Fy(xt,xt[vi],xt[mr]);tn.detach(tn.indexOf(r))}}const v=this._adjustIndex(i),I=this._lContainer;!function gl(t,r,i,u){const h=vr+u,v=i.length;u>0&&(i[h-1][gi]=r),u<v-vr?(r[gi]=i[h],ys(i,vr+u,r)):(i.push(r),r[gi]=null),r[mr]=i;const I=r[Ro];null!==I&&i!==I&&function Bc(t,r){const i=t[gr];r[Mi]!==r[mr][mr][Mi]&&(t[Gn]=!0),null===i?t[gr]=[r]:i.push(r)}(I,r);const B=r[ze];null!==B&&B.insertView(t),r[sr]|=64}(h,u,I,v);const B=Ql(v,I),X=u[Mr],ve=tl(X,I[rr]);return null!==ve&&function wa(t,r,i,u,h,v){u[tr]=h,u[vi]=r,_l(t,u,i,1,h,v)}(h,I[vi],X,u,ve,B),r.attachToViewContainerRef(),ys(eg(I),v,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=Ly(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),u=el(this._lContainer,i);u&&(Ca(eg(this._lContainer),i),Kl(u[fn],u))}detach(r){const i=this._adjustIndex(r,-1),u=el(this._lContainer,i);return u&&null!=Ca(eg(this._lContainer),i)?new Mu(u):null}_adjustIndex(r,i=0){return r??this.length+i}};function Ly(t){return t[Lr]}function eg(t){return t[Lr]||(t[Lr]=[])}function By(t,r){let i;const u=r[t.index];if(Ii(u))i=u;else{let h;if(8&t.type)h=ki(u);else{const v=r[Mr];h=v.createComment("");const I=Ui(t,r);Ea(v,tl(v,I),h,function ea(t,r){return t.nextSibling(r)}(v,I),!1)}r[t.index]=i=$h(u,r,h,t),kl(r,i)}return new Fy(i,t,r)}class tg{constructor(r){this.queryList=r,this.matches=null}clone(){return new tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ng{constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const u=null!==r.contentQueries?r.contentQueries[0]:i.length,h=[];for(let v=0;v<u;v++){const I=i.getByIndex(v);h.push(this.queries[I.indexInDeclarationView].clone())}return new ng(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==Ky(r,i).matches&&this.queries[i].setDirty()}}class jy{constructor(r,i,u=null){this.predicate=r,this.flags=i,this.read=u}}class rg{constructor(r=[]){this.queries=r}elementStart(r,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let u=0;u<this.length;u++){const h=null!==i?i.length:0,v=this.getByIndex(u).embeddedTView(r,h);v&&(v.indexInDeclarationView=u,null!==i?i.push(v):i=[v])}return null!==i?new rg(i):null}template(r,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ig{constructor(r,i=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new ig(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const v=u[h];this.matchTNodeWithReadOption(r,i,rw(i,v)),this.matchTNodeWithReadOption(r,i,no(i,r,v,!1,!1))}else u===yf?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,no(i,r,u,!1,!1))}matchTNodeWithReadOption(r,i,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===il||h===kp||h===yf&&4&i.type)this.addMatch(i.index,-2);else{const v=no(i,r,h,!1,!1);null!==v&&this.addMatch(i.index,v)}else this.addMatch(i.index,u)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function rw(t,r){const i=t.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===r)return i[u+1];return null}function ow(t,r,i,u){return-1===i?function iw(t,r){return 11&t.type?Ta(t,r):4&t.type?Ap(t,r):null}(r,t):-2===i?function sw(t,r,i){return i===il?Ta(r,t):i===yf?Ap(r,t):i===kp?By(r,t):void 0}(t,r,u):Hi(t,t[fn],i,r)}function Yy(t,r,i,u){const h=r[ze].queries[u];if(null===h.matches){const v=t.data,I=i.matches,B=[];for(let X=0;X<I.length;X+=2){const ve=I[X];B.push(ve<0?null:ow(r,v[ve],I[X+1],i.metadata.read))}h.matches=B}return h.matches}function og(t,r,i,u){const h=t.queries.getByIndex(i),v=h.matches;if(null!==v){const I=Yy(t,r,h,i);for(let B=0;B<v.length;B+=2){const X=v[B];if(X>0)u.push(I[B/2]);else{const ve=v[B+1],We=r[-X];for(let xt=vr;xt<We.length;xt++){const tn=We[xt];tn[Ro]===tn[mr]&&og(tn[fn],tn,ve,u)}if(null!==We[gr]){const xt=We[gr];for(let tn=0;tn<xt.length;tn++){const yn=xt[tn];og(yn[fn],yn,ve,u)}}}}}return u}function Uy(t){const r=In(),i=Br(),u=Kn();ri(u+1);const h=Ky(i,u);if(t.dirty&&function Qr(t){return 4==(4&t[sr])}(r)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const v=h.crossesNgTemplate?og(i,r,u,[]):Yy(i,r,h,u);t.reset(v,Kp),t.notifyOnChanges()}return!0}return!1}function Vy(t,r,i){const u=Br();u.firstCreatePass&&(Gy(u,new jy(t,r,i),-1),2==(2&r)&&(u.staticViewQueries=!0)),Wy(u,In(),r)}function Hy(t,r,i,u){const h=Br();if(h.firstCreatePass){const v=ci();Gy(h,new jy(r,i,u),v.index),function lw(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}Wy(h,In(),i)}function zy(){return function aw(t,r){return t[ze].queries[r].queryList}(In(),Kn())}function Wy(t,r,i){const u=new Mp(4==(4&i));tp(t,r,u,u.destroy),null===r[ze]&&(r[ze]=new ng),r[ze].queries.push(new tg(u))}function Gy(t,r,i){null===t.queries&&(t.queries=new rg),t.queries.track(new ig(r,i))}function Ky(t,r){return t.queries.getByIndex(r)}function $y(t,r){return Ap(t,r)}function sg(t){return!!Lt(t)}const Pw=vs("Input",t=>({bindingPropertyName:t})),xw=vs("Output",t=>({bindingPropertyName:t}));function Rp(...t){}const h_=new Zr("Application Initializer");let Np=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const i=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const v=this.appInits[h]();if(Im(v))i.push(v);else if(Vg(v)){const I=new Promise((B,X)=>{v.subscribe({complete:B,error:X})});i.push(I)}}Promise.all(i).then(()=>{u()}).catch(h=>{this.reject(h)}),0===i.length&&u(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(cn(h_,8))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f_=new Zr("AppId",{providedIn:"root",factory:function p_(){return`${dg()}${dg()}${dg()}`}});function dg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m_=new Zr("Platform Initializer"),Mw=new Zr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Aw=new Zr("AnimationModuleType");let kw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Fp=new Zr("LocaleId",{providedIn:"root",factory:()=>Vt(Fp,On.Optional|On.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||eh}()}),Rw=new Zr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nw{constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let Fw=(()=>{class t{compileModuleSync(i){return new Qm(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),v=Il(Lt(i).declarations).reduce((I,B)=>{const X=_e(B);return X&&I.push(new Au(X)),I},[]);return new Nw(u,v)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jw=(()=>Promise.resolve(0))();function hg(t){typeof Zone>"u"?jw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ul{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&i,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Yw(){let t=Qt.requestAnimationFrame,r=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Hw(t){const r=()=>{!function Vw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pg(t),t.isCheckStableRunning=!0,fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,u,h,v,I,B)=>{try{return y_(t),i.invokeTask(h,v,I,B)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||t.shouldCoalesceRunChangeDetection)&&r(),__(t)}},onInvoke:(i,u,h,v,I,B,X)=>{try{return y_(t),i.invoke(h,v,I,B,X)}finally{t.shouldCoalesceRunChangeDetection&&r(),__(t)}},onHasTask:(i,u,h,v)=>{i.hasTask(h,v),u===h&&("microTask"==v.change?(t._hasPendingMicrotasks=v.microTask,pg(t),fg(t)):"macroTask"==v.change&&(t.hasPendingMacrotasks=v.macroTask))},onHandleError:(i,u,h,v)=>(i.handleError(h,v),t.runOutsideAngular(()=>t.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ul.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(ul.isInAngularZone())throw new we(909,!1)}run(r,i,u){return this._inner.run(r,i,u)}runTask(r,i,u,h){const v=this._inner,I=v.scheduleEventTask("NgZoneEvent: "+h,r,Uw,Rp,Rp);try{return v.runTask(I,i,u)}finally{v.cancelTask(I)}}runGuarded(r,i,u){return this._inner.runGuarded(r,i,u)}runOutsideAngular(r){return this._outer.run(r)}}const Uw={};function fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function y_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function __(t){t._nesting--,fg(t)}class zw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(r,i,u){return r.apply(i,u)}runGuarded(r,i,u){return r.apply(i,u)}runOutsideAngular(r){return r()}runTask(r,i,u,h){return r.apply(i,u)}}const b_=new Zr(""),w_=new Zr("");let mg,Ww=(()=>{class t{constructor(i,u,h){this._ngZone=i,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mg||(function Gw(t){mg=t}(h),h.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ul.assertNotInAngularZone(),hg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hg(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,h){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),i(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:i,timeoutId:v,updateCb:h})}whenStable(i,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,h){return[]}}return t.\u0275fac=function(i){return new(i||t)(cn(ul),cn(E_),cn(w_))},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t})(),E_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return mg?.findTestabilityInTree(this,i,u)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ou=!1;let Sc=null;const S_=new Zr("AllowMultipleToken"),gg=new Zr("PlatformDestroyListeners"),T_=new Zr("appBootstrapListener");class qw{constructor(r,i){this.name=r,this.token=i}}function C_(t,r,i=[]){const u=`Platform: ${r}`,h=new Zr(u);return(v=[])=>{let I=vg();if(!I||I.injector.get(S_,!1)){const B=[...i,...v,{provide:h,useValue:!0}];t?t(B):function Qw(t){if(Sc&&!Sc.get(S_,!1))throw new we(400,!1);Sc=t;const r=t.get(P_);(function D_(t){const r=t.get(m_,null);r&&r.forEach(i=>i())})(t)}(function I_(t=[],r){return xu.create({name:r,providers:[{provide:Id,useValue:"platform"},{provide:gg,useValue:new Set([()=>Sc=null])},...t]})}(B,u))}return function Zw(t){const r=vg();if(!r)throw new we(401,!1);return r}()}}function vg(){return Sc?.get(P_)??null}let P_=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const h=function M_(t,r){let i;return i="noop"===t?new zw:("zone.js"===t?void 0:t)||new ul(r),i}(u?.ngZone,function x_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(u)),v=[{provide:ul,useValue:h}];return h.run(()=>{const I=xu.create({providers:v,parent:this.injector,name:i.moduleType.name}),B=i.create(I),X=B.injector.get(lc,null);if(!X)throw new we(402,!1);return h.runOutsideAngular(()=>{const ve=h.onError.subscribe({next:We=>{X.handleError(We)}});B.onDestroy(()=>{Bp(this._modules,B),ve.unsubscribe()})}),function A_(t,r,i){try{const u=i();return Im(u)?u.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):u}catch(u){throw r.runOutsideAngular(()=>t.handleError(u)),u}}(X,h,()=>{const ve=B.injector.get(Np);return ve.runInitializers(),ve.donePromise.then(()=>(Lv(B.injector.get(Fp,eh)||eh),this._moduleDoBootstrap(B),B))})})}bootstrapModule(i,u=[]){const h=k_({},u);return function Kw(t,r,i){const u=new Qm(i);return Promise.resolve(u)}(0,0,i).then(v=>this.bootstrapModuleFactory(v,h))}_moduleDoBootstrap(i){const u=i.injector.get(Lp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new we(-403,!1);i.instance.ngDoBootstrap(u)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(gg,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(cn(xu))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function k_(t,r){return Array.isArray(r)?r.reduce(k_,t):{...t,...r}}let Lp=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(i,u,h){this._zone=i,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new Y.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),I=new Y.y(B=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{ul.assertNotInAngularZone(),hg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{ul.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{X.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,Pe.T)(v,I.pipe((0,z.B)()))}bootstrap(i,u){const h=i instanceof Mf;if(!this._injector.get(Np).done){!h&&kt(i);throw new we(405,Ou)}let I;I=h?i:this._injector.get(Cu).resolveComponentFactory(i),this.componentTypes.push(I.componentType);const B=function $w(t){return t.isBoundToModule}(I)?void 0:this._injector.get(th),ve=I.create(xu.NULL,[],u||I.selector,B),We=ve.location.nativeElement,xt=ve.injector.get(b_,null);return xt?.registerApplication(We),ve.onDestroy(()=>{this.detachView(ve.hostView),Bp(this.components,ve),xt?.unregisterApplication(We)}),this._loadComponent(ve),ve}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;Bp(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(T_,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Bp(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new we(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)(cn(ul),cn(Ha),cn(lc))},t.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bp(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function eE(){return!1}function tE(){}let nE=(()=>{class t{}return t.__NG_ELEMENT_ID__=rE,t})();function rE(t){return function iE(t,r,i){if(Ei(t)&&!i){const u=$r(t.index,r);return new Mu(u,u)}return 47&t.type?new Mu(r[Mi],r):null}(ci(),In(),16==(16&t))}class L_{constructor(){}supports(r){return Fl(r)}create(r){return new cE(r)}}const uE=(t,r)=>r;class cE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||uE}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,u=this._removalsHead,h=0,v=null;for(;i||u;){const I=!u||i&&i.currentIndex<j_(u,h,v)?i:u,B=j_(I,h,v),X=I.currentIndex;if(I===u)h--,u=u._nextRemoved;else if(i=i._next,null==I.previousIndex)h++;else{v||(v=[]);const ve=B-h,We=X-h;if(ve!=We){for(let tn=0;tn<ve;tn++){const yn=tn<v.length?v[tn]:v[tn]=0,Vn=yn+tn;We<=Vn&&Vn<ve&&(v[tn]=yn+1)}v[I.previousIndex]=We-ve}}B!==X&&r(I,B,X)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!Fl(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,v,I,i=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let B=0;B<this.length;B++)v=r[B],I=this._trackByFn(B,v),null!==i&&Object.is(i.trackById,I)?(u&&(i=this._verifyReinsertion(i,v,I,B)),Object.is(i.item,v)||this._addIdentityChange(i,v)):(i=this._mismatch(i,v,I,B),u=!0),i=i._next}else h=0,function vp(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let u;for(;!(u=i.next()).done;)r(u.value)}}(r,B=>{I=this._trackByFn(h,B),null!==i&&Object.is(i.trackById,I)?(u&&(i=this._verifyReinsertion(i,B,I,h)),Object.is(i.item,B)||this._addIdentityChange(i,B)):(i=this._mismatch(i,B,I,h),u=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,u,h){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,v,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,v,h)):r=this._addAfter(new dE(i,u),v,h),r}_verifyReinsertion(r,i,u,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?r=this._reinsertAfter(v,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,v=r._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(r,i,u),this._addToMoves(r,u),r}_moveAfter(r,i,u){return this._unlink(r),this._insertAfter(r,i,u),this._addToMoves(r,u),r}_addAfter(r,i,u){return this._insertAfter(r,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,u){const h=null===i?this._itHead:i._next;return r._next=h,r._prev=i,null===h?this._itTail=r:h._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new B_),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,u=r._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B_),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class dE{constructor(r,i){this.item=r,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const i=r._prevDup,u=r._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class B_{constructor(){this.map=new Map}put(r){const i=r.trackById;let u=this.map.get(i);u||(u=new hE,this.map.set(i,u)),u.add(r)}get(r,i){const h=this.map.get(r);return h?h.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j_(t,r,i){const u=t.previousIndex;if(null===u)return u;let h=0;return i&&u<i.length&&(h=i[u]),u+r+h}class Y_{constructor(){}supports(r){return r instanceof Map||bc(r)}create(){return new fE}}class fE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||bc(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const v=this._getOrCreateRecordForKey(h,u);i=this._insertBeforeOrAppend(i,v)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const u=r._prev;return i._next=r,i._prev=u,r._prev=i,u&&(u._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,i);const v=h._prev,I=h._next;return v&&(v._next=I),I&&(I._prev=v),h._next=null,h._prev=null,h}const u=new pE(r);return this._records.set(r,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(u=>i(r[u],u))}}class pE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U_(){return new Eg([new L_])}let Eg=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(null!=u){const h=u.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||U_()),deps:[[t,new $a,new Pa]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(null!=u)return u;throw new we(901,!1)}}return t.\u0275prov=Et({token:t,providedIn:"root",factory:U_}),t})();function V_(){return new Sg([new Y_])}let Sg=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(u){const h=u.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||V_()),deps:[[t,new $a,new Pa]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(u)return u;throw new we(901,!1)}}return t.\u0275prov=Et({token:t,providedIn:"root",factory:V_}),t})();const vE=C_(null,"core",[]);let yE=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(cn(Lp))},t.\u0275mod=pt({type:t}),t.\u0275inj=bt({}),t})();function _E(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wE(t,r){const i=_e(t),u=r.elementInjector||qc();return new Au(i).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}},4859:(Nn,nt,F)=>{"use strict";F.d(nt,{lW:()=>et,ot:()=>at});var y=F(83353),T=F(94650),Y=F(12687),Pe=F(3238);const z=["mat-button",""],Xe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ee=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Rt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vt=(0,Pe.pj)((0,Pe.Id)((0,Pe.Kr)(class{constructor(te){this._elementRef=te}})));let en=(()=>{class te extends vt{constructor(ie,Le,Ue,ht){super(ie),this._platform=Le,this._ngZone=Ue,this._animationMode=ht,this._focusMonitor=(0,T.f3M)(Y.tE),this._isFab=!1;const Et=ie.nativeElement.classList;for(const mn of Rt)this._hasHostAttributes(mn.selector)&&mn.mdcClasses.forEach(bt=>{Et.add(bt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ie="program",Le){ie?this._focusMonitor.focusVia(this._elementRef.nativeElement,ie,Le):this._elementRef.nativeElement.focus(Le)}_hasHostAttributes(...ie){return ie.some(Le=>this._elementRef.nativeElement.hasAttribute(Le))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return te.\u0275fac=function(ie){T.$Z()},te.\u0275dir=T.lG2({type:te,viewQuery:function(ie,Le){if(1&ie&&T.Gf(Pe.wG,5),2&ie){let Ue;T.iGM(Ue=T.CRH())&&(Le.ripple=Ue.first)}},features:[T.qOj]}),te})(),et=(()=>{class te extends en{constructor(ie,Le,Ue,ht){super(ie,Le,Ue,ht)}}return te.\u0275fac=function(ie){return new(ie||te)(T.Y36(T.SBq),T.Y36(y.t4),T.Y36(T.R0b),T.Y36(T.QbO,8))},te.\u0275cmp=T.Xpm({type:te,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(ie,Le){2&ie&&(T.uIk("disabled",Le.disabled||null),T.ekj("_mat-animation-noopable","NoopAnimations"===Le._animationMode)("mat-unthemed",!Le.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[T.qOj],attrs:z,ngContentSelectors:ee,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(ie,Le){1&ie&&(T.F$t(Xe),T._UZ(0,"span",0),T.Hsn(1),T.TgZ(2,"span",1),T.Hsn(3,1),T.qZA(),T.Hsn(4,2),T._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&ie&&(T.ekj("mdc-button__ripple",!Le._isFab)("mdc-fab__ripple",Le._isFab),T.xp6(6),T.Q6J("matRippleDisabled",Le._isRippleDisabled())("matRippleTrigger",Le._elementRef.nativeElement))},dependencies:[Pe.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),te})(),at=(()=>{class te{}return te.\u0275fac=function(ie){return new(ie||te)},te.\u0275mod=T.oAB({type:te}),te.\u0275inj=T.cJS({imports:[Pe.BQ,Pe.si,Pe.BQ]}),te})()},3238:(Nn,nt,F)=>{"use strict";F.d(nt,{Y2:()=>hn,BQ:()=>Ot,us:()=>Qt,wG:()=>Fe,si:()=>dt,IR:()=>On,pj:()=>k,Kr:()=>D,Id:()=>f,sb:()=>G});var y=F(94650),T=F(12687),Y=F(40445),z=F(36895),Xe=F(83353),ee=F(21281);const en=new y.OlP("mat-sanity-checks",{providedIn:"root",factory:function vt(){return!0}});let Ot=(()=>{class cn{constructor(Vt,Ce,ue){this._sanityChecks=Ce,this._document=ue,this._hasDoneGlobalChecks=!1,Vt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Vt){return!(0,Xe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Vt])}}return cn.\u0275fac=function(Vt){return new(Vt||cn)(y.LFG(T.qm),y.LFG(en,8),y.LFG(z.K0))},cn.\u0275mod=y.oAB({type:cn}),cn.\u0275inj=y.cJS({imports:[Y.vT,Y.vT]}),cn})();function f(cn){return class extends cn{get disabled(){return this._disabled}set disabled(Pt){this._disabled=(0,ee.Ig)(Pt)}constructor(...Pt){super(...Pt),this._disabled=!1}}}function k(cn,Pt){return class extends cn{get color(){return this._color}set color(Vt){const Ce=Vt||this.defaultColor;Ce!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Ce&&this._elementRef.nativeElement.classList.add(`mat-${Ce}`),this._color=Ce)}constructor(...Vt){super(...Vt),this.defaultColor=Pt,this.color=Pt}}}function D(cn){return class extends cn{get disableRipple(){return this._disableRipple}set disableRipple(Pt){this._disableRipple=(0,ee.Ig)(Pt)}constructor(...Pt){super(...Pt),this._disableRipple=!1}}}function G(cn,Pt=0){return class extends cn{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Vt){this._tabIndex=null!=Vt?(0,ee.su)(Vt):this.defaultTabIndex}constructor(...Vt){super(...Vt),this._tabIndex=Pt,this.defaultTabIndex=Pt}}}class ft{constructor(Pt,Vt,Ce,ue=!1){this._renderer=Pt,this.element=Vt,this.config=Ce,this._animationForciblyDisabledThroughCss=ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ut=(0,Xe.i$)({passive:!0,capture:!0});class Xt{constructor(){this._events=new Map,this._delegateEventHandler=Pt=>{const Vt=(0,Xe.sA)(Pt);Vt&&this._events.get(Pt.type)?.forEach((Ce,ue)=>{(ue===Vt||ue.contains(Vt))&&Ce.forEach(le=>le.handleEvent(Pt))})}}addHandler(Pt,Vt,Ce,ue){const le=this._events.get(Vt);if(le){const tt=le.get(Ce);tt?tt.add(ue):le.set(Ce,new Set([ue]))}else this._events.set(Vt,new Map([[Ce,new Set([ue])]])),Pt.runOutsideAngular(()=>{document.addEventListener(Vt,this._delegateEventHandler,Ut)})}removeHandler(Pt,Vt,Ce){const ue=this._events.get(Pt);if(!ue)return;const le=ue.get(Vt);le&&(le.delete(Ce),0===le.size&&ue.delete(Vt),0===ue.size&&(this._events.delete(Pt),document.removeEventListener(Pt,this._delegateEventHandler,Ut)))}}const dn={enterDuration:225,exitDuration:150},xn=(0,Xe.i$)({passive:!0,capture:!0}),$n=["mousedown","touchstart"],zn=["mouseup","mouseleave","touchend","touchcancel"];class On{constructor(Pt,Vt,Ce,ue){this._target=Pt,this._ngZone=Vt,this._platform=ue,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ue.isBrowser&&(this._containerElement=(0,ee.fI)(Ce))}fadeInRipple(Pt,Vt,Ce={}){const ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),le={...dn,...Ce.animation};Ce.centered&&(Pt=ue.left+ue.width/2,Vt=ue.top+ue.height/2);const tt=Ce.radius||function br(cn,Pt,Vt){const Ce=Math.max(Math.abs(cn-Vt.left),Math.abs(cn-Vt.right)),ue=Math.max(Math.abs(Pt-Vt.top),Math.abs(Pt-Vt.bottom));return Math.sqrt(Ce*Ce+ue*ue)}(Pt,Vt,ue),St=Pt-ue.left,vn=Vt-ue.top,Oe=le.enterDuration,It=document.createElement("div");It.classList.add("mat-ripple-element"),It.style.left=St-tt+"px",It.style.top=vn-tt+"px",It.style.height=2*tt+"px",It.style.width=2*tt+"px",null!=Ce.color&&(It.style.backgroundColor=Ce.color),It.style.transitionDuration=`${Oe}ms`,this._containerElement.appendChild(It);const Bt=window.getComputedStyle(It),qt=Bt.transitionDuration,st="none"===Bt.transitionProperty||"0s"===qt||"0s, 0s"===qt||0===ue.width&&0===ue.height,rt=new ft(this,It,Ce,st);It.style.transform="scale3d(1, 1, 1)",rt.state=0,Ce.persistent||(this._mostRecentTransientRipple=rt);let Ie=null;return!st&&(Oe||le.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Dt=()=>this._finishRippleTransition(rt),Ft=()=>this._destroyRipple(rt);It.addEventListener("transitionend",Dt),It.addEventListener("transitioncancel",Ft),Ie={onTransitionEnd:Dt,onTransitionCancel:Ft}}),this._activeRipples.set(rt,Ie),(st||!Oe)&&this._finishRippleTransition(rt),rt}fadeOutRipple(Pt){if(2===Pt.state||3===Pt.state)return;const Vt=Pt.element,Ce={...dn,...Pt.config.animation};Vt.style.transitionDuration=`${Ce.exitDuration}ms`,Vt.style.opacity="0",Pt.state=2,(Pt._animationForciblyDisabledThroughCss||!Ce.exitDuration)&&this._finishRippleTransition(Pt)}fadeOutAll(){this._getActiveRipples().forEach(Pt=>Pt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Pt=>{Pt.config.persistent||Pt.fadeOut()})}setupTriggerEvents(Pt){const Vt=(0,ee.fI)(Pt);!this._platform.isBrowser||!Vt||Vt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Vt,$n.forEach(Ce=>{On._eventManager.addHandler(this._ngZone,Ce,Vt,this)}))}handleEvent(Pt){"mousedown"===Pt.type?this._onMousedown(Pt):"touchstart"===Pt.type?this._onTouchStart(Pt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zn.forEach(Vt=>{this._triggerElement.addEventListener(Vt,this,xn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Pt){0===Pt.state?this._startFadeOutTransition(Pt):2===Pt.state&&this._destroyRipple(Pt)}_startFadeOutTransition(Pt){const Vt=Pt===this._mostRecentTransientRipple,{persistent:Ce}=Pt.config;Pt.state=1,!Ce&&(!Vt||!this._isPointerDown)&&Pt.fadeOut()}_destroyRipple(Pt){const Vt=this._activeRipples.get(Pt)??null;this._activeRipples.delete(Pt),this._activeRipples.size||(this._containerRect=null),Pt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Pt.state=3,null!==Vt&&(Pt.element.removeEventListener("transitionend",Vt.onTransitionEnd),Pt.element.removeEventListener("transitioncancel",Vt.onTransitionCancel)),Pt.element.remove()}_onMousedown(Pt){const Vt=(0,T.X6)(Pt),Ce=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Vt&&!Ce&&(this._isPointerDown=!0,this.fadeInRipple(Pt.clientX,Pt.clientY,this._target.rippleConfig))}_onTouchStart(Pt){if(!this._target.rippleDisabled&&!(0,T.yG)(Pt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Vt=Pt.changedTouches;for(let Ce=0;Ce<Vt.length;Ce++)this.fadeInRipple(Vt[Ce].clientX,Vt[Ce].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Pt=>{!Pt.config.persistent&&(1===Pt.state||Pt.config.terminateOnPointerUp&&0===Pt.state)&&Pt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Pt=this._triggerElement;Pt&&($n.forEach(Vt=>On._eventManager.removeHandler(Vt,Pt,this)),this._pointerUpEventsRegistered&&zn.forEach(Vt=>Pt.removeEventListener(Vt,this,xn)))}}On._eventManager=new Xt;const hn=new y.OlP("mat-ripple-global-options");let Fe=(()=>{class cn{get disabled(){return this._disabled}set disabled(Vt){Vt&&this.fadeOutAllNonPersistent(),this._disabled=Vt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Vt){this._trigger=Vt,this._setupTriggerEventsIfEnabled()}constructor(Vt,Ce,ue,le,tt){this._elementRef=Vt,this._animationMode=tt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=le||{},this._rippleRenderer=new On(this,Ce,Vt,ue)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Vt,Ce=0,ue){return"number"==typeof Vt?this._rippleRenderer.fadeInRipple(Vt,Ce,{...this.rippleConfig,...ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Vt})}}return cn.\u0275fac=function(Vt){return new(Vt||cn)(y.Y36(y.SBq),y.Y36(y.R0b),y.Y36(Xe.t4),y.Y36(hn,8),y.Y36(y.QbO,8))},cn.\u0275dir=y.lG2({type:cn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Vt,Ce){2&Vt&&y.ekj("mat-ripple-unbounded",Ce.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),cn})(),dt=(()=>{class cn{}return cn.\u0275fac=function(Vt){return new(Vt||cn)},cn.\u0275mod=y.oAB({type:cn}),cn.\u0275inj=y.cJS({imports:[Ot,Ot]}),cn})(),Qt=(()=>{class cn{}return cn.\u0275fac=function(Vt){return new(Vt||cn)},cn.\u0275mod=y.oAB({type:cn}),cn.\u0275inj=y.cJS({imports:[Ot]}),cn})()},11481:(Nn,nt,F)=>{"use strict";F.d(nt,{Dx:()=>gn,H7:()=>It,b2:()=>hn,q6:()=>$n,se:()=>ge});var y=F(36895),T=F(94650);class Y extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pe extends Y{static makeCurrent(){(0,y.HT)(new Pe)}onAndCancel(rt,Ie,Dt){return rt.addEventListener(Ie,Dt,!1),()=>{rt.removeEventListener(Ie,Dt,!1)}}dispatchEvent(rt,Ie){rt.dispatchEvent(Ie)}remove(rt){rt.parentNode&&rt.parentNode.removeChild(rt)}createElement(rt,Ie){return(Ie=Ie||this.getDefaultDocument()).createElement(rt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(rt){return rt.nodeType===Node.ELEMENT_NODE}isShadowRoot(rt){return rt instanceof DocumentFragment}getGlobalEventTarget(rt,Ie){return"window"===Ie?window:"document"===Ie?rt:"body"===Ie?rt.body:null}getBaseHref(rt){const Ie=function Xe(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==Ie?null:function Ge(st){ee=ee||document.createElement("a"),ee.setAttribute("href",st);const rt=ee.pathname;return"/"===rt.charAt(0)?rt:`/${rt}`}(Ie)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(rt){return(0,y.Mx)(document.cookie,rt)}}let ee,z=null;const oe=new T.OlP("TRANSITION_ID"),Me=[{provide:T.ip1,useFactory:function $(st,rt,Ie){return()=>{Ie.get(T.CZH).donePromise.then(()=>{const Dt=(0,y.q)(),Ft=rt.querySelectorAll(`style[ng-transition="${st}"]`);for(let pn=0;pn<Ft.length;pn++)Dt.remove(Ft[pn])})}},deps:[oe,y.K0,T.zs3],multi:!0}];let De=(()=>{class st{build(){return new XMLHttpRequest}}return st.\u0275fac=function(Ie){return new(Ie||st)},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();const _t=new T.OlP("EventManagerPlugins");let Zt=(()=>{class st{constructor(Ie,Dt){this._zone=Dt,this._eventNameToPlugin=new Map,Ie.forEach(Ft=>{Ft.manager=this}),this._plugins=Ie.slice().reverse()}addEventListener(Ie,Dt,Ft){return this._findPluginFor(Dt).addEventListener(Ie,Dt,Ft)}addGlobalEventListener(Ie,Dt,Ft){return this._findPluginFor(Dt).addGlobalEventListener(Ie,Dt,Ft)}getZone(){return this._zone}_findPluginFor(Ie){const Dt=this._eventNameToPlugin.get(Ie);if(Dt)return Dt;const Ft=this._plugins;for(let pn=0;pn<Ft.length;pn++){const Qn=Ft[pn];if(Qn.supports(Ie))return this._eventNameToPlugin.set(Ie,Qn),Qn}throw new Error(`No event manager plugin found for event ${Ie}`)}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(_t),T.LFG(T.R0b))},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();class zt{constructor(rt){this._doc=rt}addGlobalEventListener(rt,Ie,Dt){const Ft=(0,y.q)().getGlobalEventTarget(this._doc,rt);if(!Ft)throw new Error(`Unsupported event target ${Ft} for event ${Ie}`);return this.addEventListener(Ft,Ie,Dt)}}let we=(()=>{class st{constructor(){this.usageCount=new Map}addStyles(Ie){for(const Dt of Ie)1===this.changeUsageCount(Dt,1)&&this.onStyleAdded(Dt)}removeStyles(Ie){for(const Dt of Ie)0===this.changeUsageCount(Dt,-1)&&this.onStyleRemoved(Dt)}onStyleRemoved(Ie){}onStyleAdded(Ie){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Ie,Dt){const Ft=this.usageCount;let pn=Ft.get(Ie)??0;return pn+=Dt,pn>0?Ft.set(Ie,pn):Ft.delete(Ie),pn}ngOnDestroy(){for(const Ie of this.getAllStyles())this.onStyleRemoved(Ie);this.usageCount.clear()}}return st.\u0275fac=function(Ie){return new(Ie||st)},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})(),Rt=(()=>{class st extends we{constructor(Ie){super(),this.doc=Ie,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Ie){for(const Dt of this.hostNodes)this.addStyleToHost(Dt,Ie)}onStyleRemoved(Ie){const Dt=this.styleRef;Dt.get(Ie)?.forEach(pn=>pn.remove()),Dt.delete(Ie)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Ie){this.hostNodes.add(Ie);for(const Dt of this.getAllStyles())this.addStyleToHost(Ie,Dt)}removeHost(Ie){this.hostNodes.delete(Ie)}addStyleToHost(Ie,Dt){const Ft=this.doc.createElement("style");Ft.textContent=Dt,Ie.appendChild(Ft);const pn=this.styleRef.get(Dt);pn?pn.push(Ft):this.styleRef.set(Dt,[Ft])}resetHostNodes(){const Ie=this.hostNodes;Ie.clear(),Ie.add(this.doc.head)}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(y.K0))},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},en=/%COMP%/g,k=new T.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function J(st,rt){return rt.flat(100).map(Ie=>Ie.replace(en,st))}function N(st){return rt=>{if("__ngUnwrap__"===rt)return st;!1===st(rt)&&(rt.preventDefault(),rt.returnValue=!1)}}let ge=(()=>{class st{constructor(Ie,Dt,Ft,pn){this.eventManager=Ie,this.sharedStylesHost=Dt,this.appId=Ft,this.removeStylesOnCompDestory=pn,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(Ie)}createRenderer(Ie,Dt){if(!Ie||!Dt)return this.defaultRenderer;const Ft=this.getOrCreateRenderer(Ie,Dt);return Ft instanceof ce?Ft.applyToHost(Ie):Ft instanceof te&&Ft.applyStyles(),Ft}getOrCreateRenderer(Ie,Dt){const Ft=this.rendererByCompId;let pn=Ft.get(Dt.id);if(!pn){const Qn=this.eventManager,Cn=this.sharedStylesHost,lr=this.removeStylesOnCompDestory;switch(Dt.encapsulation){case T.ifc.Emulated:pn=new ce(Qn,Cn,Dt,this.appId,lr);break;case T.ifc.ShadowDom:return new at(Qn,Cn,Ie,Dt);default:pn=new te(Qn,Cn,Dt,lr)}pn.onDestroy=()=>Ft.delete(Dt.id),Ft.set(Dt.id,pn)}return pn}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(Zt),T.LFG(Rt),T.LFG(T.AFp),T.LFG(k))},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();class Ke{constructor(rt){this.eventManager=rt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(rt,Ie){return Ie?document.createElementNS(vt[Ie]||Ie,rt):document.createElement(rt)}createComment(rt){return document.createComment(rt)}createText(rt){return document.createTextNode(rt)}appendChild(rt,Ie){(ut(rt)?rt.content:rt).appendChild(Ie)}insertBefore(rt,Ie,Dt){rt&&(ut(rt)?rt.content:rt).insertBefore(Ie,Dt)}removeChild(rt,Ie){rt&&rt.removeChild(Ie)}selectRootElement(rt,Ie){let Dt="string"==typeof rt?document.querySelector(rt):rt;if(!Dt)throw new Error(`The selector "${rt}" did not match any elements`);return Ie||(Dt.textContent=""),Dt}parentNode(rt){return rt.parentNode}nextSibling(rt){return rt.nextSibling}setAttribute(rt,Ie,Dt,Ft){if(Ft){Ie=Ft+":"+Ie;const pn=vt[Ft];pn?rt.setAttributeNS(pn,Ie,Dt):rt.setAttribute(Ie,Dt)}else rt.setAttribute(Ie,Dt)}removeAttribute(rt,Ie,Dt){if(Dt){const Ft=vt[Dt];Ft?rt.removeAttributeNS(Ft,Ie):rt.removeAttribute(`${Dt}:${Ie}`)}else rt.removeAttribute(Ie)}addClass(rt,Ie){rt.classList.add(Ie)}removeClass(rt,Ie){rt.classList.remove(Ie)}setStyle(rt,Ie,Dt,Ft){Ft&(T.JOm.DashCase|T.JOm.Important)?rt.style.setProperty(Ie,Dt,Ft&T.JOm.Important?"important":""):rt.style[Ie]=Dt}removeStyle(rt,Ie,Dt){Dt&T.JOm.DashCase?rt.style.removeProperty(Ie):rt.style[Ie]=""}setProperty(rt,Ie,Dt){rt[Ie]=Dt}setValue(rt,Ie){rt.nodeValue=Ie}listen(rt,Ie,Dt){return"string"==typeof rt?this.eventManager.addGlobalEventListener(rt,Ie,N(Dt)):this.eventManager.addEventListener(rt,Ie,N(Dt))}}function ut(st){return"TEMPLATE"===st.tagName&&void 0!==st.content}class at extends Ke{constructor(rt,Ie,Dt,Ft){super(rt),this.sharedStylesHost=Ie,this.hostEl=Dt,this.shadowRoot=Dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=J(Ft.id,Ft.styles);for(const Qn of pn){const Cn=document.createElement("style");Cn.textContent=Qn,this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(rt){return rt===this.hostEl?this.shadowRoot:rt}appendChild(rt,Ie){return super.appendChild(this.nodeOrShadowRoot(rt),Ie)}insertBefore(rt,Ie,Dt){return super.insertBefore(this.nodeOrShadowRoot(rt),Ie,Dt)}removeChild(rt,Ie){return super.removeChild(this.nodeOrShadowRoot(rt),Ie)}parentNode(rt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(rt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class te extends Ke{constructor(rt,Ie,Dt,Ft,pn=Dt.id){super(rt),this.sharedStylesHost=Ie,this.removeStylesOnCompDestory=Ft,this.rendererUsageCount=0,this.styles=J(pn,Dt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ce extends te{constructor(rt,Ie,Dt,Ft,pn){const Qn=Ft+"-"+Dt.id;super(rt,Ie,Dt,pn,Qn),this.contentAttr=function D(st){return"_ngcontent-%COMP%".replace(en,st)}(Qn),this.hostAttr=function G(st){return"_nghost-%COMP%".replace(en,st)}(Qn)}applyToHost(rt){this.applyStyles(),this.setAttribute(rt,this.hostAttr,"")}createElement(rt,Ie){const Dt=super.createElement(rt,Ie);return super.setAttribute(Dt,this.contentAttr,""),Dt}}let ie=(()=>{class st extends zt{constructor(Ie){super(Ie)}supports(Ie){return!0}addEventListener(Ie,Dt,Ft){return Ie.addEventListener(Dt,Ft,!1),()=>this.removeEventListener(Ie,Dt,Ft)}removeEventListener(Ie,Dt,Ft){return Ie.removeEventListener(Dt,Ft)}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(y.K0))},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();const Le=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={alt:st=>st.altKey,control:st=>st.ctrlKey,meta:st=>st.metaKey,shift:st=>st.shiftKey};let Et=(()=>{class st extends zt{constructor(Ie){super(Ie)}supports(Ie){return null!=st.parseEventName(Ie)}addEventListener(Ie,Dt,Ft){const pn=st.parseEventName(Dt),Qn=st.eventCallback(pn.fullKey,Ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(Ie,pn.domEventName,Qn))}static parseEventName(Ie){const Dt=Ie.toLowerCase().split("."),Ft=Dt.shift();if(0===Dt.length||"keydown"!==Ft&&"keyup"!==Ft)return null;const pn=st._normalizeKey(Dt.pop());let Qn="",Cn=Dt.indexOf("code");if(Cn>-1&&(Dt.splice(Cn,1),Qn="code."),Le.forEach(ei=>{const it=Dt.indexOf(ei);it>-1&&(Dt.splice(it,1),Qn+=ei+".")}),Qn+=pn,0!=Dt.length||0===pn.length)return null;const lr={};return lr.domEventName=Ft,lr.fullKey=Qn,lr}static matchEventFullKeyCode(Ie,Dt){let Ft=Ue[Ie.key]||Ie.key,pn="";return Dt.indexOf("code.")>-1&&(Ft=Ie.code,pn="code."),!(null==Ft||!Ft)&&(Ft=Ft.toLowerCase()," "===Ft?Ft="space":"."===Ft&&(Ft="dot"),Le.forEach(Qn=>{Qn!==Ft&&(0,ht[Qn])(Ie)&&(pn+=Qn+".")}),pn+=Ft,pn===Dt)}static eventCallback(Ie,Dt,Ft){return pn=>{st.matchEventFullKeyCode(pn,Ie)&&Ft.runGuarded(()=>Dt(pn))}}static _normalizeKey(Ie){return"esc"===Ie?"escape":Ie}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(y.K0))},st.\u0275prov=T.Yz7({token:st,factory:st.\u0275fac}),st})();const $n=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:y.bD},{provide:T.g9A,useValue:function Xt(){Pe.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Bn(){return(0,T.RDi)(document),document},deps:[]}]),zn=new T.OlP(""),On=[{provide:T.rWj,useClass:class Te{addToWindow(rt){T.dqk.getAngularTestability=(Dt,Ft=!0)=>{const pn=rt.findTestabilityInTree(Dt,Ft);if(null==pn)throw new Error("Could not find testability for element.");return pn},T.dqk.getAllAngularTestabilities=()=>rt.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>rt.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(Dt=>{const Ft=T.dqk.getAllAngularTestabilities();let pn=Ft.length,Qn=!1;const Cn=function(lr){Qn=Qn||lr,pn--,0==pn&&Dt(Qn)};Ft.forEach(function(lr){lr.whenStable(Cn)})})}findTestabilityInTree(rt,Ie,Dt){return null==Ie?null:rt.getTestability(Ie)??(Dt?(0,y.q)().isShadowRoot(Ie)?this.findTestabilityInTree(rt,Ie.host,!0):this.findTestabilityInTree(rt,Ie.parentElement,!0):null)}},deps:[]},{provide:T.lri,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]}],br=[{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function dn(){return new T.qLn},deps:[]},{provide:_t,useClass:ie,multi:!0,deps:[y.K0,T.R0b,T.Lbi]},{provide:_t,useClass:Et,multi:!0,deps:[y.K0]},{provide:ge,useClass:ge,deps:[Zt,Rt,T.AFp,k]},{provide:T.FYo,useExisting:ge},{provide:we,useExisting:Rt},{provide:Rt,useClass:Rt,deps:[y.K0]},{provide:Zt,useClass:Zt,deps:[_t,T.R0b]},{provide:y.JF,useClass:De,deps:[]},[]];let hn=(()=>{class st{constructor(Ie){}static withServerTransition(Ie){return{ngModule:st,providers:[{provide:T.AFp,useValue:Ie.appId},{provide:oe,useExisting:T.AFp},Me]}}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(zn,12))},st.\u0275mod=T.oAB({type:st}),st.\u0275inj=T.cJS({providers:[...br,...On],imports:[y.ez,T.hGG]}),st})(),gn=(()=>{class st{constructor(Ie){this._doc=Ie}getTitle(){return this._doc.title}setTitle(Ie){this._doc.title=Ie||""}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(y.K0))},st.\u0275prov=T.Yz7({token:st,factory:function(Ie){let Dt=null;return Dt=Ie?new Ie:function Qt(){return new gn((0,T.LFG)(y.K0))}(),Dt},providedIn:"root"}),st})();typeof window<"u"&&window;let It=(()=>{class st{}return st.\u0275fac=function(Ie){return new(Ie||st)},st.\u0275prov=T.Yz7({token:st,factory:function(Ie){let Dt=null;return Dt=Ie?new(Ie||st):T.LFG(ln),Dt},providedIn:"root"}),st})(),ln=(()=>{class st extends It{constructor(Ie){super(),this._doc=Ie}sanitize(Ie,Dt){if(null==Dt)return null;switch(Ie){case T.q3G.NONE:return Dt;case T.q3G.HTML:return(0,T.qzn)(Dt,"HTML")?(0,T.z3N)(Dt):(0,T.EiD)(this._doc,String(Dt)).toString();case T.q3G.STYLE:return(0,T.qzn)(Dt,"Style")?(0,T.z3N)(Dt):Dt;case T.q3G.SCRIPT:if((0,T.qzn)(Dt,"Script"))return(0,T.z3N)(Dt);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.qzn)(Dt,"URL")?(0,T.z3N)(Dt):(0,T.mCW)(String(Dt));case T.q3G.RESOURCE_URL:if((0,T.qzn)(Dt,"ResourceURL"))return(0,T.z3N)(Dt);throw new Error(`unsafe value used in a resource URL context (see ${T.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Ie} (see ${T.JZr})`)}}bypassSecurityTrustHtml(Ie){return(0,T.JVY)(Ie)}bypassSecurityTrustStyle(Ie){return(0,T.L6k)(Ie)}bypassSecurityTrustScript(Ie){return(0,T.eBb)(Ie)}bypassSecurityTrustUrl(Ie){return(0,T.LAX)(Ie)}bypassSecurityTrustResourceUrl(Ie){return(0,T.pB0)(Ie)}}return st.\u0275fac=function(Ie){return new(Ie||st)(T.LFG(y.K0))},st.\u0275prov=T.Yz7({token:st,factory:function(Ie){let Dt=null;return Dt=Ie?new Ie:function Bt(st){return new ln(st.get(y.K0))}(T.LFG(T.zs3)),Dt},providedIn:"root"}),st})()},89299:(Nn,nt,F)=>{"use strict";F.d(nt,{gz:()=>Qi,m2:()=>Ni,F0:()=>Sr,rH:()=>kr,Od:()=>Vr,Bz:()=>cl,lC:()=>nr});var y=F(94650),T=F(88996),Y=F(39646),Pe=F(61135);const Xe=(0,F(83888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"});var ee=F(39841),Ge=F(97272),oe=F(49770),$=F(89635),Me=F(62843),Te=F(69751),De=F(60515),_t=F(94033),Zt=F(77579),zt=F(36895),we=F(54004),Rt=F(63900),vt=F(95698),en=F(68675),Ot=F(39300),je=F(95577),ke=F(54482),et=F(25403);function f(M){return(0,ke.e)((R,C)=>{let H=!1;R.subscribe((0,et.x)(C,ae=>{H=!0,C.next(ae)},()=>{H||C.next(M),C.complete()}))})}function k(M=D){return(0,ke.e)((R,C)=>{let H=!1;R.subscribe((0,et.x)(C,ae=>{H=!0,C.next(ae)},()=>H?C.complete():C.error(M())))})}function D(){return new Xe}var G=F(44671);function J(M,R){const C=arguments.length>=2;return H=>H.pipe(M?(0,Ot.h)((ae,Ae)=>M(ae,Ae,H)):G.y,(0,vt.q)(1),C?f(R):k(()=>new Xe))}var N=F(24351),ge=F(18505),Ke=F(70262);function He(M,R){return(0,ke.e)(function Tn(M,R,C,H,ae){return(Ae,Ze)=>{let nn=C,jn=R,dr=0;Ae.subscribe((0,et.x)(Ze,fr=>{const bi=dr++;jn=nn?M(jn,fr,bi):(nn=!0,fr),H&&Ze.next(jn)},ae&&(()=>{nn&&Ze.next(jn),Ze.complete()})))}}(M,R,arguments.length>=2,!0))}function ut(M){return M<=0?()=>De.E:(0,ke.e)((R,C)=>{let H=[];R.subscribe((0,et.x)(C,ae=>{H.push(ae),M<H.length&&H.shift()},()=>{for(const ae of H)C.next(ae);C.complete()},void 0,()=>{H=null}))})}function at(M,R){const C=arguments.length>=2;return H=>H.pipe(M?(0,Ot.h)((ae,Ae)=>M(ae,Ae,H)):G.y,ut(1),C?f(R):k(()=>new Xe))}var te=F(22529),ce=F(69718),ie=F(28746),Le=F(38343),Ue=F(8189),ht=F(11481);const Et="primary",mn=Symbol("RouteTitle");class bt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const C=this.params[R];return Array.isArray(C)?C[0]:C}return null}getAll(R){if(this.has(R)){const C=this.params[R];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function sn(M){return new bt(M)}function ft(M,R,C){const H=C.path.split("/");if(H.length>M.length||"full"===C.pathMatch&&(R.hasChildren()||H.length<M.length))return null;const ae={};for(let Ae=0;Ae<H.length;Ae++){const Ze=H[Ae],nn=M[Ae];if(Ze.startsWith(":"))ae[Ze.substring(1)]=nn;else if(Ze!==nn.path)return null}return{consumed:M.slice(0,H.length),posParams:ae}}function Xt(M,R){const C=M?Object.keys(M):void 0,H=R?Object.keys(R):void 0;if(!C||!H||C.length!=H.length)return!1;let ae;for(let Ae=0;Ae<C.length;Ae++)if(ae=C[Ae],!dn(M[ae],R[ae]))return!1;return!0}function dn(M,R){if(Array.isArray(M)&&Array.isArray(R)){if(M.length!==R.length)return!1;const C=[...M].sort(),H=[...R].sort();return C.every((ae,Ae)=>H[Ae]===ae)}return M===R}function Bn(M){return Array.prototype.concat.apply([],M)}function xn(M){return M.length>0?M[M.length-1]:null}function zn(M,R){for(const C in M)M.hasOwnProperty(C)&&R(M[C],C)}function On(M){return(0,y.CqO)(M)?M:(0,y.QGY)(M)?(0,T.D)(Promise.resolve(M)):(0,Y.of)(M)}const br=!1,hn={exact:function Qt(M,R,C){if(!Hn(M.segments,R.segments)||!Mt(M.segments,R.segments,C)||M.numberOfChildren!==R.numberOfChildren)return!1;for(const H in R.children)if(!M.children[H]||!Qt(M.children[H],R.children[H],C))return!1;return!0},subset:ot},Fe={exact:function Yt(M,R){return Xt(M,R)},subset:function gn(M,R){return Object.keys(R).length<=Object.keys(M).length&&Object.keys(R).every(C=>dn(M[C],R[C]))},ignored:()=>!0};function dt(M,R,C){return hn[C.paths](M.root,R.root,C.matrixParams)&&Fe[C.queryParams](M.queryParams,R.queryParams)&&!("exact"===C.fragment&&M.fragment!==R.fragment)}function ot(M,R,C){return Se(M,R,R.segments,C)}function Se(M,R,C,H){if(M.segments.length>C.length){const ae=M.segments.slice(0,C.length);return!(!Hn(ae,C)||R.hasChildren()||!Mt(ae,C,H))}if(M.segments.length===C.length){if(!Hn(M.segments,C)||!Mt(M.segments,C,H))return!1;for(const ae in R.children)if(!M.children[ae]||!ot(M.children[ae],R.children[ae],H))return!1;return!0}{const ae=C.slice(0,M.segments.length),Ae=C.slice(M.segments.length);return!!(Hn(M.segments,ae)&&Mt(M.segments,ae,H)&&M.children[Et])&&Se(M.children[Et],R,Ae,H)}}function Mt(M,R,C){return R.every((H,ae)=>Fe[C](M[ae].parameters,H.parameters))}class Nt{constructor(R=new ct([],{}),C={},H=null){this.root=R,this.queryParams=C,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Ir.serialize(this)}}class ct{constructor(R,C){this.segments=R,this.children=C,this.parent=null,zn(C,(H,ae)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class wn{constructor(R,C){this.path=R,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return vn(this)}}function Hn(M,R){return M.length===R.length&&M.every((C,H)=>C.path===R[H].path)}let kn=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return new Jn},providedIn:"root"}),M})();class Jn{parse(R){const C=new Dt(R);return new Nt(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(R){const C=`/${Pt(R.root,!0)}`,H=function It(M){const R=Object.keys(M).map(C=>{const H=M[C];return Array.isArray(H)?H.map(ae=>`${Ce(C)}=${Ce(ae)}`).join("&"):`${Ce(C)}=${Ce(H)}`}).filter(C=>!!C);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${C}${H}${"string"==typeof R.fragment?`#${function ue(M){return encodeURI(M)}(R.fragment)}`:""}`}}const Ir=new Jn;function cn(M){return M.segments.map(R=>vn(R)).join("/")}function Pt(M,R){if(!M.hasChildren())return cn(M);if(R){const C=M.children[Et]?Pt(M.children[Et],!1):"",H=[];return zn(M.children,(ae,Ae)=>{Ae!==Et&&H.push(`${Ae}:${Pt(ae,!1)}`)}),H.length>0?`${C}(${H.join("//")})`:C}{const C=function Rn(M,R){let C=[];return zn(M.children,(H,ae)=>{ae===Et&&(C=C.concat(R(H,ae)))}),zn(M.children,(H,ae)=>{ae!==Et&&(C=C.concat(R(H,ae)))}),C}(M,(H,ae)=>ae===Et?[Pt(M.children[Et],!1)]:[`${ae}:${Pt(H,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Et]?`${cn(M)}/${C[0]}`:`${cn(M)}/(${C.join("//")})`}}function Vt(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ce(M){return Vt(M).replace(/%3B/gi,";")}function le(M){return Vt(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tt(M){return decodeURIComponent(M)}function St(M){return tt(M.replace(/\+/g,"%20"))}function vn(M){return`${le(M.path)}${function Oe(M){return Object.keys(M).map(R=>`;${le(R)}=${le(M[R])}`).join("")}(M.parameters)}`}const Bt=/^[^\/()?;=#]+/;function ln(M){const R=M.match(Bt);return R?R[0]:""}const qt=/^[^=?&#]+/,rt=/^[^&#]+/;class Dt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(R.length>0||Object.keys(C).length>0)&&(H[Et]=new ct(R,C)),H}parseSegment(){const R=ln(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new y.vHH(4009,br);return this.capture(R),new wn(tt(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const C=ln(this.remaining);if(!C)return;this.capture(C);let H="";if(this.consumeOptional("=")){const ae=ln(this.remaining);ae&&(H=ae,this.capture(H))}R[tt(C)]=tt(H)}parseQueryParam(R){const C=function st(M){const R=M.match(qt);return R?R[0]:""}(this.remaining);if(!C)return;this.capture(C);let H="";if(this.consumeOptional("=")){const Ze=function Ie(M){const R=M.match(rt);return R?R[0]:""}(this.remaining);Ze&&(H=Ze,this.capture(H))}const ae=St(C),Ae=St(H);if(R.hasOwnProperty(ae)){let Ze=R[ae];Array.isArray(Ze)||(Ze=[Ze],R[ae]=Ze),Ze.push(Ae)}else R[ae]=Ae}parseParens(R){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=ln(this.remaining),ae=this.remaining[H.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new y.vHH(4010,br);let Ae;H.indexOf(":")>-1?(Ae=H.slice(0,H.indexOf(":")),this.capture(Ae),this.capture(":")):R&&(Ae=Et);const Ze=this.parseChildren();C[Ae]=1===Object.keys(Ze).length?Ze[Et]:new ct([],Ze),this.consumeOptional("//")}return C}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new y.vHH(4011,br)}}function Ft(M){return M.segments.length>0?new ct([],{[Et]:M}):M}function pn(M){const R={};for(const H of Object.keys(M.children)){const Ae=pn(M.children[H]);(Ae.segments.length>0||Ae.hasChildren())&&(R[H]=Ae)}return function Qn(M){if(1===M.numberOfChildren&&M.children[Et]){const R=M.children[Et];return new ct(M.segments.concat(R.segments),R.children)}return M}(new ct(M.segments,R))}function Cn(M){return M instanceof Nt}const lr=!1;function Tt(M,R,C,H,ae){if(0===C.length)return q(R.root,R.root,R.root,H,ae);const Ae=function gt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new qe(!0,0,M);let R=0,C=!1;const H=M.reduce((ae,Ae,Ze)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const nn={};return zn(Ae.outlets,(jn,dr)=>{nn[dr]="string"==typeof jn?jn.split("/"):jn}),[...ae,{outlets:nn}]}if(Ae.segmentPath)return[...ae,Ae.segmentPath]}return"string"!=typeof Ae?[...ae,Ae]:0===Ze?(Ae.split("/").forEach((nn,jn)=>{0==jn&&"."===nn||(0==jn&&""===nn?C=!0:".."===nn?R++:""!=nn&&ae.push(nn))}),ae):[...ae,Ae]},[]);return new qe(C,R,H)}(C);return Ae.toRoot()?q(R.root,R.root,new ct([],{}),H,ae):function Ze(jn){const dr=function Mn(M,R,C,H){if(M.isAbsolute)return new kt(R.root,!0,0);if(-1===H)return new kt(C,C===R.root,0);return function Wn(M,R,C){let H=M,ae=R,Ae=C;for(;Ae>ae;){if(Ae-=ae,H=H.parent,!H)throw new y.vHH(4005,lr&&"Invalid number of '../'");ae=H.segments.length}return new kt(H,!1,ae-Ae)}(C,H+(Gt(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ae,R,M.snapshot?._urlSegment,jn),fr=dr.processChildren?fn(dr.segmentGroup,dr.index,Ae.commands):tr(dr.segmentGroup,dr.index,Ae.commands);return q(R.root,dr.segmentGroup,fr,H,ae)}(M.snapshot?._lastPathIndex)}function Gt(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Re(M){return"object"==typeof M&&null!=M&&M.outlets}function q(M,R,C,H,ae){let Ze,Ae={};H&&zn(H,(jn,dr)=>{Ae[dr]=Array.isArray(jn)?jn.map(fr=>`${fr}`):`${jn}`}),Ze=M===R?C:_e(M,R,C);const nn=Ft(pn(Ze));return new Nt(nn,Ae,ae)}function _e(M,R,C){const H={};return zn(M.children,(ae,Ae)=>{H[Ae]=ae===R?C:_e(ae,R,C)}),new ct(M.segments,H)}class qe{constructor(R,C,H){if(this.isAbsolute=R,this.numberOfDoubleDots=C,this.commands=H,R&&H.length>0&&Gt(H[0]))throw new y.vHH(4003,lr&&"Root segment cannot have matrix parameters");const ae=H.find(Re);if(ae&&ae!==xn(H))throw new y.vHH(4004,lr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kt{constructor(R,C,H){this.segmentGroup=R,this.processChildren=C,this.index=H}}function tr(M,R,C){if(M||(M=new ct([],{})),0===M.segments.length&&M.hasChildren())return fn(M,R,C);const H=function sr(M,R,C){let H=0,ae=R;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;ae<M.segments.length;){if(H>=C.length)return Ae;const Ze=M.segments[ae],nn=C[H];if(Re(nn))break;const jn=`${nn}`,dr=H<C.length-1?C[H+1]:null;if(ae>0&&void 0===jn)break;if(jn&&dr&&"object"==typeof dr&&void 0===dr.outlets){if(!vi(jn,dr,Ze))return Ae;H+=2}else{if(!vi(jn,{},Ze))return Ae;H++}ae++}return{match:!0,pathIndex:ae,commandIndex:H}}(M,R,C),ae=C.slice(H.commandIndex);if(H.match&&H.pathIndex<M.segments.length){const Ae=new ct(M.segments.slice(0,H.pathIndex),{});return Ae.children[Et]=new ct(M.segments.slice(H.pathIndex),M.children),fn(Ae,0,ae)}return H.match&&0===ae.length?new ct(M.segments,{}):H.match&&!M.hasChildren()?mr(M,R,C):H.match?fn(M,0,ae):mr(M,R,C)}function fn(M,R,C){if(0===C.length)return new ct(M.segments,{});{const H=function hr(M){return Re(M[0])?M[0].outlets:{[Et]:M}}(C),ae={};if(!H[Et]&&M.children[Et]&&1===M.numberOfChildren&&0===M.children[Et].segments.length){const Ae=fn(M.children[Et],R,C);return new ct(M.segments,Ae.children)}return zn(H,(Ae,Ze)=>{"string"==typeof Ae&&(Ae=[Ae]),null!==Ae&&(ae[Ze]=tr(M.children[Ze],R,Ae))}),zn(M.children,(Ae,Ze)=>{void 0===H[Ze]&&(ae[Ze]=Ae)}),new ct(M.segments,ae)}}function mr(M,R,C){const H=M.segments.slice(0,R);let ae=0;for(;ae<C.length;){const Ae=C[ae];if(Re(Ae)){const jn=gi(Ae.outlets);return new ct(H,jn)}if(0===ae&&Gt(C[0])){H.push(new wn(M.segments[R].path,Er(C[0]))),ae++;continue}const Ze=Re(Ae)?Ae.outlets[Et]:`${Ae}`,nn=ae<C.length-1?C[ae+1]:null;Ze&&nn&&Gt(nn)?(H.push(new wn(Ze,Er(nn))),ae+=2):(H.push(new wn(Ze,{})),ae++)}return new ct(H,{})}function gi(M){const R={};return zn(M,(C,H)=>{"string"==typeof C&&(C=[C]),null!==C&&(R[H]=mr(new ct([],{}),0,C))}),R}function Er(M){const R={};return zn(M,(C,H)=>R[H]=`${C}`),R}function vi(M,R,C){return M==C.path&&Xt(R,C.parameters)}const ai="imperative";class Dr{constructor(R,C){this.id=R,this.url=C}}class Ri extends Dr{constructor(R,C,H="imperative",ae=null){super(R,C),this.type=0,this.navigationTrigger=H,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ni extends Dr{constructor(R,C,H){super(R,C),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mr extends Dr{constructor(R,C,H,ae){super(R,C),this.reason=H,this.code=ae,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wi extends Dr{constructor(R,C,H,ae){super(R,C),this.reason=H,this.code=ae,this.type=16}}class Fi extends Dr{constructor(R,C,H,ae){super(R,C),this.error=H,this.target=ae,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mo extends Dr{constructor(R,C,H,ae){super(R,C),this.urlAfterRedirects=H,this.state=ae,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends Dr{constructor(R,C,H,ae){super(R,C),this.urlAfterRedirects=H,this.state=ae,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Dr{constructor(R,C,H,ae,Ae){super(R,C),this.urlAfterRedirects=H,this.state=ae,this.shouldActivate=Ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ro extends Dr{constructor(R,C,H,ae){super(R,C),this.urlAfterRedirects=H,this.state=ae,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Dr{constructor(R,C,H,ae){super(R,C),this.urlAfterRedirects=H,this.state=ae,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pe{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class j{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ye{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(R,C,H){this.routerEvent=R,this.position=C,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let gr=(()=>{class M{createUrlTree(C,H,ae,Ae,Ze,nn){return Tt(C||H.root,ae,Ae,Ze,nn)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})(),ir=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(R){return gr.\u0275fac(R)},providedIn:"root"}),M})();class or{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const C=this.pathFromRoot(R);return C.length>1?C[C.length-2]:null}children(R){const C=Ii(R,this._root);return C?C.children.map(H=>H.value):[]}firstChild(R){const C=Ii(R,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(R){const C=io(R,this._root);return C.length<2?[]:C[C.length-2].children.map(ae=>ae.value).filter(ae=>ae!==R)}pathFromRoot(R){return io(R,this._root).map(C=>C.value)}}function Ii(M,R){if(M===R.value)return R;for(const C of R.children){const H=Ii(M,C);if(H)return H}return null}function io(M,R){if(M===R.value)return[R];for(const C of R.children){const H=io(M,C);if(H.length)return H.unshift(R),H}return[]}class Ei{constructor(R,C){this.value=R,this.children=C}toString(){return`TreeNode(${this.value})`}}function Li(M){const R={};return M&&M.children.forEach(C=>R[C.value.outlet]=C),R}class Pi extends or{constructor(R,C){super(R),this.snapshot=C,Es(this,R)}toString(){return this.snapshot.toString()}}function Hr(M,R){const C=function Co(M,R){const Ze=new qo([],{},{},"",{},Et,R,null,M.root,-1,{});return new os("",new Ei(Ze,[]))}(M,R),H=new Pe.X([new wn("",{})]),ae=new Pe.X({}),Ae=new Pe.X({}),Ze=new Pe.X({}),nn=new Pe.X(""),jn=new Qi(H,ae,Ze,nn,Ae,Et,R,C.root);return jn.snapshot=C.root,new Pi(new Ei(jn,[]),C)}class Qi{constructor(R,C,H,ae,Ae,Ze,nn,jn){this.url=R,this.params=C,this.queryParams=H,this.fragment=ae,this.data=Ae,this.outlet=Ze,this.component=nn,this.title=this.data?.pipe((0,we.U)(dr=>dr[mn]))??(0,Y.of)(void 0),this._futureSnapshot=jn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(R=>sn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(R=>sn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yo(M,R="emptyOnly"){const C=M.pathFromRoot;let H=0;if("always"!==R)for(H=C.length-1;H>=1;){const ae=C[H],Ae=C[H-1];if(ae.routeConfig&&""===ae.routeConfig.path)H--;else{if(Ae.component)break;H--}}return function is(M){return M.reduce((R,C)=>({params:{...R.params,...C.params},data:{...R.data,...C.data},resolve:{...C.data,...R.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(H))}class qo{get title(){return this.data?.[mn]}constructor(R,C,H,ae,Ae,Ze,nn,jn,dr,fr,bi){this.url=R,this.params=C,this.queryParams=H,this.fragment=ae,this.data=Ae,this.outlet=Ze,this.component=nn,this.routeConfig=jn,this._urlSegment=dr,this._lastPathIndex=fr,this._resolve=bi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class os extends or{constructor(R,C){super(C),this.url=R,Es(this,C)}toString(){return di(this._root)}}function Es(M,R){R.value._routerState=M,R.children.forEach(C=>Es(M,C))}function di(M){const R=M.children.length>0?` { ${M.children.map(di).join(", ")} } `:"";return`${M.value}${R}`}function Qo(M){if(M.snapshot){const R=M.snapshot,C=M._futureSnapshot;M.snapshot=C,Xt(R.queryParams,C.queryParams)||M.queryParams.next(C.queryParams),R.fragment!==C.fragment&&M.fragment.next(C.fragment),Xt(R.params,C.params)||M.params.next(C.params),function Ut(M,R){if(M.length!==R.length)return!1;for(let C=0;C<M.length;++C)if(!Xt(M[C],R[C]))return!1;return!0}(R.url,C.url)||M.url.next(C.url),Xt(R.data,C.data)||M.data.next(C.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function So(M,R){const C=Xt(M.params,R.params)&&function An(M,R){return Hn(M,R)&&M.every((C,H)=>Xt(C.parameters,R[H].parameters))}(M.url,R.url);return C&&!(!M.parent!=!R.parent)&&(!M.parent||So(M.parent,R.parent))}function lo(M,R,C){if(C&&M.shouldReuseRoute(R.value,C.value.snapshot)){const H=C.value;H._futureSnapshot=R.value;const ae=function se(M,R,C){return R.children.map(H=>{for(const ae of C.children)if(M.shouldReuseRoute(H.value,ae.value.snapshot))return lo(M,H,ae);return lo(M,H)})}(M,R,C);return new Ei(H,ae)}{if(M.shouldAttach(R.value)){const Ae=M.retrieve(R.value);if(null!==Ae){const Ze=Ae.route;return Ze.value._futureSnapshot=R.value,Ze.children=R.children.map(nn=>lo(M,nn)),Ze}}const H=function ne(M){return new Qi(new Pe.X(M.url),new Pe.X(M.params),new Pe.X(M.queryParams),new Pe.X(M.fragment),new Pe.X(M.data),M.outlet,M.component,M)}(R.value),ae=R.children.map(Ae=>lo(M,Ae));return new Ei(H,ae)}}const Be="ngNavigationCancelingError";function wt(M,R){const{redirectTo:C,navigationBehaviorOptions:H}=Cn(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,ae=jt(!1,0,R);return ae.url=C,ae.navigationBehaviorOptions=H,ae}function jt(M,R,C){const H=new Error("NavigationCancelingError: "+(M||""));return H[Be]=!0,H.cancellationCode=R,C&&(H.url=C),H}function Jt(M){return En(M)&&Cn(M.url)}function En(M){return M&&M[Be]}class Un{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pn,this.attachRef=null}}let Pn=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(C,H){const ae=this.getOrCreateContext(C);ae.outlet=H,this.contexts.set(C,ae)}onChildOutletDestroyed(C){const H=this.getContext(C);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let H=this.getContext(C);return H||(H=new Un,this.contexts.set(C,H)),H}getContext(C){return this.contexts.get(C)||null}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const qn=!1;let nr=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Pn),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(C){if(C.name){const{firstChange:H,previousValue:ae}=C.name;if(H)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,qn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,qn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,qn);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,H){this.activated=C,this._activatedRoute=H,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,H){if(this.isActivated)throw new y.vHH(4013,qn);this._activatedRoute=C;const ae=this.location,Ze=C.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,jn=new zr(C,nn,ae.injector);if(H&&function Pr(M){return!!M.resolveComponentFactory}(H)){const dr=H.resolveComponentFactory(Ze);this.activated=ae.createComponent(dr,ae.length,jn)}else this.activated=ae.createComponent(Ze,{index:ae.length,injector:jn,environmentInjector:H??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=y.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),M})();class zr{constructor(R,C,H){this.route=R,this.childContexts=C,this.parent=H}get(R,C){return R===Qi?this.route:R===Pn?this.childContexts:this.parent.get(R,C)}}let hi=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275cmp=y.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(C,H){1&C&&y._UZ(0,"router-outlet")},dependencies:[nr],encapsulation:2}),M})();function Kr(M,R){return M.providers&&!M._injector&&(M._injector=(0,y.MMx)(M.providers,R,`Route: ${M.path}`)),M._injector??R}function Ti(M){const R=M.children&&M.children.map(Ti),C=R?{...M,children:R}:{...M};return!C.component&&!C.loadComponent&&(R||C.loadChildren)&&C.outlet&&C.outlet!==Et&&(C.component=hi),C}function pi(M){return M.outlet||Et}function Ui(M,R){const C=M.filter(H=>pi(H)===R);return C.push(...M.filter(H=>pi(H)!==R)),C}function _o(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let R=M.parent;R;R=R.parent){const C=R.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Ss{constructor(R,C,H,ae){this.routeReuseStrategy=R,this.futureState=C,this.currState=H,this.forwardEvent=ae}activate(R){const C=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,H,R),Qo(this.futureState.root),this.activateChildRoutes(C,H,R)}deactivateChildRoutes(R,C,H){const ae=Li(C);R.children.forEach(Ae=>{const Ze=Ae.value.outlet;this.deactivateRoutes(Ae,ae[Ze],H),delete ae[Ze]}),zn(ae,(Ae,Ze)=>{this.deactivateRouteAndItsChildren(Ae,H)})}deactivateRoutes(R,C,H){const ae=R.value,Ae=C?C.value:null;if(ae===Ae)if(ae.component){const Ze=H.getContext(ae.outlet);Ze&&this.deactivateChildRoutes(R,C,Ze.children)}else this.deactivateChildRoutes(R,C,H);else Ae&&this.deactivateRouteAndItsChildren(C,H)}deactivateRouteAndItsChildren(R,C){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,C):this.deactivateRouteAndOutlet(R,C)}detachAndStoreRouteSubtree(R,C){const H=C.getContext(R.value.outlet),ae=H&&R.value.component?H.children:C,Ae=Li(R);for(const Ze of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[Ze],ae);if(H&&H.outlet){const Ze=H.outlet.detach(),nn=H.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ze,route:R,contexts:nn})}}deactivateRouteAndOutlet(R,C){const H=C.getContext(R.value.outlet),ae=H&&R.value.component?H.children:C,Ae=Li(R);for(const Ze of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[Ze],ae);H&&(H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated()),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(R,C,H){const ae=Li(C);R.children.forEach(Ae=>{this.activateRoutes(Ae,ae[Ae.value.outlet],H),this.forwardEvent(new on(Ae.value.snapshot))}),R.children.length&&this.forwardEvent(new ye(R.value.snapshot))}activateRoutes(R,C,H){const ae=R.value,Ae=C?C.value:null;if(Qo(ae),ae===Ae)if(ae.component){const Ze=H.getOrCreateContext(ae.outlet);this.activateChildRoutes(R,C,Ze.children)}else this.activateChildRoutes(R,C,H);else if(ae.component){const Ze=H.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const nn=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),Ze.children.onOutletReAttached(nn.contexts),Ze.attachRef=nn.componentRef,Ze.route=nn.route.value,Ze.outlet&&Ze.outlet.attach(nn.componentRef,nn.route.value),Qo(nn.route.value),this.activateChildRoutes(R,null,Ze.children)}else{const nn=_o(ae.snapshot),jn=nn?.get(y._Vd)??null;Ze.attachRef=null,Ze.route=ae,Ze.resolver=jn,Ze.injector=nn,Ze.outlet&&Ze.outlet.activateWith(ae,Ze.injector),this.activateChildRoutes(R,null,Ze.children)}}else this.activateChildRoutes(R,null,H)}}class $r{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Qr{constructor(R,C){this.component=R,this.route=C}}function ni(M,R,C){const H=M._root;return ss(H,R?R._root:null,C,[H.value])}function Xi(M,R){const C=Symbol(),H=R.get(M,C);return H===C?"function"!=typeof M||(0,y.Z0I)(M)?R.get(M):M:H}function ss(M,R,C,H,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=Li(R);return M.children.forEach(Ze=>{(function Io(M,R,C,H,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=M.value,Ze=R?R.value:null,nn=C?C.getContext(M.value.outlet):null;if(Ze&&Ae.routeConfig===Ze.routeConfig){const jn=function Nr(M,R,C){if("function"==typeof C)return C(M,R);switch(C){case"pathParamsChange":return!Hn(M.url,R.url);case"pathParamsOrQueryParamsChange":return!Hn(M.url,R.url)||!Xt(M.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(M,R)||!Xt(M.queryParams,R.queryParams);default:return!So(M,R)}}(Ze,Ae,Ae.routeConfig.runGuardsAndResolvers);jn?ae.canActivateChecks.push(new $r(H)):(Ae.data=Ze.data,Ae._resolvedData=Ze._resolvedData),ss(M,R,Ae.component?nn?nn.children:null:C,H,ae),jn&&nn&&nn.outlet&&nn.outlet.isActivated&&ae.canDeactivateChecks.push(new Qr(nn.outlet.component,Ze))}else Ze&&co(R,nn,ae),ae.canActivateChecks.push(new $r(H)),ss(M,null,Ae.component?nn?nn.children:null:C,H,ae)})(Ze,Ae[Ze.value.outlet],C,H.concat([Ze.value]),ae),delete Ae[Ze.value.outlet]}),zn(Ae,(Ze,nn)=>co(Ze,C.getContext(nn),ae)),ae}function co(M,R,C){const H=Li(M),ae=M.value;zn(H,(Ae,Ze)=>{co(Ae,ae.component?R?R.children.getContext(Ze):null:R,C)}),C.canDeactivateChecks.push(new Qr(ae.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,ae))}function Yo(M){return"function"==typeof M}function ds(M){return M instanceof Xe||"EmptyError"===M?.name}const Vo=Symbol("INITIAL_VALUE");function ci(){return(0,Rt.w)(M=>(0,ee.a)(M.map(R=>R.pipe((0,vt.q)(1),(0,en.O)(Vo)))).pipe((0,we.U)(R=>{for(const C of R)if(!0!==C){if(C===Vo)return Vo;if(!1===C||C instanceof Nt)return C}return!0}),(0,Ot.h)(R=>R!==Vo),(0,vt.q)(1)))}function Po(M){return(0,$.z)((0,ge.b)(R=>{if(Cn(R))throw wt(0,R)}),(0,we.U)(R=>!0===R))}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function so(M,R,C,H,ae){const Ae=No(M,R,C);return Ae.matched?function bo(M,R,C,H){const ae=R.canMatch;if(!ae||0===ae.length)return(0,Y.of)(!0);const Ae=ae.map(Ze=>{const nn=Xi(Ze,M);return On(function Vs(M){return M&&Yo(M.canMatch)}(nn)?nn.canMatch(R,C):M.runInContext(()=>nn(R,C)))});return(0,Y.of)(Ae).pipe(ci(),Po())}(H=Kr(R,H),R,C).pipe((0,we.U)(Ze=>!0===Ze?Ae:{...ho})):(0,Y.of)(Ae)}function No(M,R,C){if(""===R.path)return"full"===R.pathMatch&&(M.hasChildren()||C.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const ae=(R.matcher||ft)(C,M,R);if(!ae)return{...ho};const Ae={};zn(ae.posParams,(nn,jn)=>{Ae[jn]=nn.path});const Ze=ae.consumed.length>0?{...Ae,...ae.consumed[ae.consumed.length-1].parameters}:Ae;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:C.slice(ae.consumed.length),parameters:Ze,positionalParamSegments:ae.posParams??{}}}function Ho(M,R,C,H){if(C.length>0&&function li(M,R,C){return C.some(H=>Kn(M,R,H)&&pi(H)!==Et)}(M,C,H)){const Ae=new ct(R,function Ws(M,R,C,H){const ae={};ae[Et]=H,H._sourceSegment=M,H._segmentIndexShift=R.length;for(const Ae of C)if(""===Ae.path&&pi(Ae)!==Et){const Ze=new ct([],{});Ze._sourceSegment=M,Ze._segmentIndexShift=R.length,ae[pi(Ae)]=Ze}return ae}(M,R,H,new ct(C,M.children)));return Ae._sourceSegment=M,Ae._segmentIndexShift=R.length,{segmentGroup:Ae,slicedSegments:[]}}if(0===C.length&&function ps(M,R,C){return C.some(H=>Kn(M,R,H))}(M,C,H)){const Ae=new ct(M.segments,function as(M,R,C,H,ae){const Ae={};for(const Ze of H)if(Kn(M,C,Ze)&&!ae[pi(Ze)]){const nn=new ct([],{});nn._sourceSegment=M,nn._segmentIndexShift=R.length,Ae[pi(Ze)]=nn}return{...ae,...Ae}}(M,R,C,H,M.children));return Ae._sourceSegment=M,Ae._segmentIndexShift=R.length,{segmentGroup:Ae,slicedSegments:C}}const ae=new ct(M.segments,M.children);return ae._sourceSegment=M,ae._segmentIndexShift=R.length,{segmentGroup:ae,slicedSegments:C}}function Kn(M,R,C){return(!(M.hasChildren()||R.length>0)||"full"!==C.pathMatch)&&""===C.path}function ri(M,R,C,H){return!!(pi(M)===H||H!==Et&&Kn(R,C,M))&&("**"===M.path||No(R,M,C).matched)}function ms(M,R,C){return 0===R.length&&!M.children[C]}const gs=!1;class fo{constructor(R){this.segmentGroup=R||null}}class xo{constructor(R){this.urlTree=R}}function zo(M){return(0,Me._)(new fo(M))}function ls(M){return(0,Me._)(new xo(M))}class fe{constructor(R,C,H,ae,Ae){this.injector=R,this.configLoader=C,this.urlSerializer=H,this.urlTree=ae,this.config=Ae,this.allowRedirects=!0}apply(){const R=Ho(this.urlTree.root,[],[],this.config).segmentGroup,C=new ct(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,C,Et).pipe((0,we.U)(Ae=>this.createUrlTree(pn(Ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(Ae=>{if(Ae instanceof xo)return this.allowRedirects=!1,this.match(Ae.urlTree);throw Ae instanceof fo?this.noMatchError(Ae):Ae}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,Et).pipe((0,we.U)(ae=>this.createUrlTree(pn(ae),R.queryParams,R.fragment))).pipe((0,Ke.K)(ae=>{throw ae instanceof fo?this.noMatchError(ae):ae}))}noMatchError(R){return new y.vHH(4002,gs)}createUrlTree(R,C,H){const ae=Ft(R);return new Nt(ae,C,H)}expandSegmentGroup(R,C,H,ae){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(R,C,H).pipe((0,we.U)(Ae=>new ct([],Ae))):this.expandSegment(R,H,C,H.segments,ae,!0)}expandChildren(R,C,H){const ae=[];for(const Ae of Object.keys(H.children))"primary"===Ae?ae.unshift(Ae):ae.push(Ae);return(0,T.D)(ae).pipe((0,N.b)(Ae=>{const Ze=H.children[Ae],nn=Ui(C,Ae);return this.expandSegmentGroup(R,nn,Ze,Ae).pipe((0,we.U)(jn=>({segment:jn,outlet:Ae})))}),He((Ae,Ze)=>(Ae[Ze.outlet]=Ze.segment,Ae),{}),at())}expandSegment(R,C,H,ae,Ae,Ze){return(0,T.D)(H).pipe((0,N.b)(nn=>this.expandSegmentAgainstRoute(R,C,H,nn,ae,Ae,Ze).pipe((0,Ke.K)(dr=>{if(dr instanceof fo)return(0,Y.of)(null);throw dr}))),J(nn=>!!nn),(0,Ke.K)((nn,jn)=>{if(ds(nn))return ms(C,ae,Ae)?(0,Y.of)(new ct([],{})):zo(C);throw nn}))}expandSegmentAgainstRoute(R,C,H,ae,Ae,Ze,nn){return ri(ae,C,Ae,Ze)?void 0===ae.redirectTo?this.matchSegmentAgainstRoute(R,C,ae,Ae,Ze):nn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,C,H,ae,Ae,Ze):zo(C):zo(C)}expandSegmentAgainstRouteUsingRedirect(R,C,H,ae,Ae,Ze){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,H,ae,Ze):this.expandRegularSegmentAgainstRouteUsingRedirect(R,C,H,ae,Ae,Ze)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,C,H,ae){const Ae=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?ls(Ae):this.lineralizeSegments(H,Ae).pipe((0,je.z)(Ze=>{const nn=new ct(Ze,{});return this.expandSegment(R,nn,C,Ze,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,C,H,ae,Ae,Ze){const{matched:nn,consumedSegments:jn,remainingSegments:dr,positionalParamSegments:fr}=No(C,ae,Ae);if(!nn)return zo(C);const bi=this.applyRedirectCommands(jn,ae.redirectTo,fr);return ae.redirectTo.startsWith("/")?ls(bi):this.lineralizeSegments(ae,bi).pipe((0,je.z)(Bo=>this.expandSegment(R,C,H,Bo.concat(dr),Ze,!1)))}matchSegmentAgainstRoute(R,C,H,ae,Ae){return"**"===H.path?(R=Kr(H,R),H.loadChildren?(H._loadedRoutes?(0,Y.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):this.configLoader.loadChildren(R,H)).pipe((0,we.U)(nn=>(H._loadedRoutes=nn.routes,H._loadedInjector=nn.injector,new ct(ae,{})))):(0,Y.of)(new ct(ae,{}))):so(C,H,ae,R).pipe((0,Rt.w)(({matched:Ze,consumedSegments:nn,remainingSegments:jn})=>Ze?this.getChildConfig(R=H._injector??R,H,ae).pipe((0,je.z)(fr=>{const bi=fr.injector??R,Bo=fr.routes,{segmentGroup:aa,slicedSegments:qs}=Ho(C,nn,jn,Bo),ko=new ct(aa.segments,aa.children);if(0===qs.length&&ko.hasChildren())return this.expandChildren(bi,Bo,ko).pipe((0,we.U)(Pa=>new ct(nn,Pa)));if(0===Bo.length&&0===qs.length)return(0,Y.of)(new ct(nn,{}));const _s=pi(H)===Ae;return this.expandSegment(bi,ko,Bo,qs,_s?Et:Ae,!0).pipe((0,we.U)(Ia=>new ct(nn.concat(Ia.segments),Ia.children)))})):zo(C)))}getChildConfig(R,C,H){return C.children?(0,Y.of)({routes:C.children,injector:R}):C.loadChildren?void 0!==C._loadedRoutes?(0,Y.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function oo(M,R,C,H){const ae=R.canLoad;if(void 0===ae||0===ae.length)return(0,Y.of)(!0);const Ae=ae.map(Ze=>{const nn=Xi(Ze,M);return On(function Zo(M){return M&&Yo(M.canLoad)}(nn)?nn.canLoad(R,C):M.runInContext(()=>nn(R,C)))});return(0,Y.of)(Ae).pipe(ci(),Po())}(R,C,H).pipe((0,je.z)(ae=>ae?this.configLoader.loadChildren(R,C).pipe((0,ge.b)(Ae=>{C._loadedRoutes=Ae.routes,C._loadedInjector=Ae.injector})):function _(M){return(0,Me._)(jt(gs,3))}())):(0,Y.of)({routes:[],injector:R})}lineralizeSegments(R,C){let H=[],ae=C.root;for(;;){if(H=H.concat(ae.segments),0===ae.numberOfChildren)return(0,Y.of)(H);if(ae.numberOfChildren>1||!ae.children[Et])return R.redirectTo,(0,Me._)(new y.vHH(4e3,gs));ae=ae.children[Et]}}applyRedirectCommands(R,C,H){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),R,H)}applyRedirectCreateUrlTree(R,C,H,ae){const Ae=this.createSegmentGroup(R,C.root,H,ae);return new Nt(Ae,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(R,C){const H={};return zn(R,(ae,Ae)=>{if("string"==typeof ae&&ae.startsWith(":")){const nn=ae.substring(1);H[Ae]=C[nn]}else H[Ae]=ae}),H}createSegmentGroup(R,C,H,ae){const Ae=this.createSegments(R,C.segments,H,ae);let Ze={};return zn(C.children,(nn,jn)=>{Ze[jn]=this.createSegmentGroup(R,nn,H,ae)}),new ct(Ae,Ze)}createSegments(R,C,H,ae){return C.map(Ae=>Ae.path.startsWith(":")?this.findPosParam(R,Ae,ae):this.findOrReturn(Ae,H))}findPosParam(R,C,H){const ae=H[C.path.substring(1)];if(!ae)throw new y.vHH(4001,gs);return ae}findOrReturn(R,C){let H=0;for(const ae of C){if(ae.path===R.path)return C.splice(H),ae;H++}return R}}class rn{}class Xr{constructor(R,C,H,ae,Ae,Ze,nn){this.injector=R,this.rootComponentType=C,this.config=H,this.urlTree=ae,this.url=Ae,this.paramsInheritanceStrategy=Ze,this.urlSerializer=nn}recognize(){const R=Ho(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Et).pipe((0,we.U)(C=>{if(null===C)return null;const H=new qo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),ae=new Ei(H,C),Ae=new os(this.url,ae);return this.inheritParamsAndData(Ae._root),Ae}))}inheritParamsAndData(R){const C=R.value,H=yo(C,this.paramsInheritanceStrategy);C.params=Object.freeze(H.params),C.data=Object.freeze(H.data),R.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup(R,C,H,ae){return 0===H.segments.length&&H.hasChildren()?this.processChildren(R,C,H):this.processSegment(R,C,H,H.segments,ae)}processChildren(R,C,H){return(0,T.D)(Object.keys(H.children)).pipe((0,N.b)(ae=>{const Ae=H.children[ae],Ze=Ui(C,ae);return this.processSegmentGroup(R,Ze,Ae,ae)}),He((ae,Ae)=>ae&&Ae?(ae.push(...Ae),ae):null),(0,te.o)(ae=>null!==ae),f(null),at(),(0,we.U)(ae=>{if(null===ae)return null;const Ae=Jo(ae);return function ao(M){M.sort((R,C)=>R.value.outlet===Et?-1:C.value.outlet===Et?1:R.value.outlet.localeCompare(C.value.outlet))}(Ae),Ae}))}processSegment(R,C,H,ae,Ae){return(0,T.D)(C).pipe((0,N.b)(Ze=>this.processSegmentAgainstRoute(Ze._injector??R,Ze,H,ae,Ae)),J(Ze=>!!Ze),(0,Ke.K)(Ze=>{if(ds(Ze))return ms(H,ae,Ae)?(0,Y.of)([]):(0,Y.of)(null);throw Ze}))}processSegmentAgainstRoute(R,C,H,ae,Ae){if(C.redirectTo||!ri(C,H,ae,Ae))return(0,Y.of)(null);let Ze;if("**"===C.path){const nn=ae.length>0?xn(ae).parameters:{},jn=U(H)+ae.length,dr=new qo(ae,nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(C),pi(C),C.component??C._loadedComponent??null,C,xi(H),jn,Ne(C));Ze=(0,Y.of)({snapshot:dr,consumedSegments:[],remainingSegments:[]})}else Ze=so(H,C,ae,R).pipe((0,we.U)(({matched:nn,consumedSegments:jn,remainingSegments:dr,parameters:fr})=>{if(!nn)return null;const bi=U(H)+jn.length;return{snapshot:new qo(jn,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(C),pi(C),C.component??C._loadedComponent??null,C,xi(H),bi,Ne(C)),consumedSegments:jn,remainingSegments:dr}}));return Ze.pipe((0,Rt.w)(nn=>{if(null===nn)return(0,Y.of)(null);const{snapshot:jn,consumedSegments:dr,remainingSegments:fr}=nn;R=C._injector??R;const bi=C._loadedInjector??R,Bo=function Mo(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(C),{segmentGroup:aa,slicedSegments:qs}=Ho(H,dr,fr,Bo.filter(_s=>void 0===_s.redirectTo));if(0===qs.length&&aa.hasChildren())return this.processChildren(bi,Bo,aa).pipe((0,we.U)(_s=>null===_s?null:[new Ei(jn,_s)]));if(0===Bo.length&&0===qs.length)return(0,Y.of)([new Ei(jn,[])]);const ko=pi(C)===Ae;return this.processSegment(bi,Bo,aa,qs,ko?Et:Ae).pipe((0,we.U)(_s=>null===_s?null:[new Ei(jn,_s)]))}))}}function Ao(M){const R=M.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function Jo(M){const R=[],C=new Set;for(const H of M){if(!Ao(H)){R.push(H);continue}const ae=R.find(Ae=>H.value.routeConfig===Ae.value.routeConfig);void 0!==ae?(ae.children.push(...H.children),C.add(ae)):R.push(H)}for(const H of C){const ae=Jo(H.children);R.push(new Ei(H.value,ae))}return R.filter(H=>!C.has(H))}function xi(M){let R=M;for(;R._sourceSegment;)R=R._sourceSegment;return R}function U(M){let R=M,C=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,C+=R._segmentIndexShift??0;return C-1}function Z(M){return M.data||{}}function Ne(M){return M.resolve||{}}function oi(M){return"string"==typeof M.title||null===M.title}function jr(M){return(0,Rt.w)(R=>{const C=M(R);return C?(0,T.D)(C).pipe((0,we.U)(()=>R)):(0,Y.of)(R)})}const l=new y.OlP("ROUTES");let d=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,Y.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const H=On(C.loadComponent()).pipe((0,we.U)(A),(0,ge.b)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=Ae}),(0,ie.x)(()=>{this.componentLoaders.delete(C)})),ae=new _t.c(H,()=>new Zt.x).pipe((0,Le.x)());return this.componentLoaders.set(C,ae),ae}loadChildren(C,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,Y.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const Ae=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,we.U)(nn=>{this.onLoadEndListener&&this.onLoadEndListener(H);let jn,dr,fr=!1;Array.isArray(nn)?dr=nn:(jn=nn.create(C).injector,dr=Bn(jn.get(l,[],y.XFs.Self|y.XFs.Optional)));return{routes:dr.map(Ti),injector:jn}}),(0,ie.x)(()=>{this.childrenLoaders.delete(H)})),Ze=new _t.c(Ae,()=>new Zt.x).pipe((0,Le.x)());return this.childrenLoaders.set(H,Ze),Ze}loadModuleFactoryOrRoutes(C){return On(C()).pipe((0,we.U)(A),(0,je.z)(H=>H instanceof y.YKP||Array.isArray(H)?(0,Y.of)(H):(0,T.D)(this.compiler.compileModuleAsync(H))))}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function A(M){return function b(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let he=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Zt.x,this.configLoader=(0,y.f3M)(d),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(kn),this.rootContexts=(0,y.f3M)(Pn),this.navigationId=0,this.afterPreactivation=()=>(0,Y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new pe(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new ze(ae))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const H=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:H})}setupNavigations(C){return this.transitions=new Pe.X({id:0,targetPageId:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ai,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.h)(H=>0!==H.id),(0,we.U)(H=>({...H,extractedUrl:C.urlHandlingStrategy.extract(H.rawUrl)})),(0,Rt.w)(H=>{let ae=!1,Ae=!1;return(0,Y.of)(H).pipe((0,ge.b)(Ze=>{this.currentNavigation={id:Ze.id,initialUrl:Ze.rawUrl,extractedUrl:Ze.extractedUrl,trigger:Ze.source,extras:Ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Rt.w)(Ze=>{const nn=C.browserUrlTree.toString(),jn=!C.navigated||Ze.extractedUrl.toString()!==nn||nn!==C.currentUrlTree.toString();if(!jn&&"reload"!==(Ze.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const fr="";return this.events.next(new Wi(Ze.id,C.serializeUrl(H.rawUrl),fr,0)),C.rawUrlTree=Ze.rawUrl,Ze.resolve(null),De.E}if(C.urlHandlingStrategy.shouldProcessUrl(Ze.rawUrl))return xe(Ze.source)&&(C.browserUrlTree=Ze.extractedUrl),(0,Y.of)(Ze).pipe((0,Rt.w)(fr=>{const bi=this.transitions?.getValue();return this.events.next(new Ri(fr.id,this.urlSerializer.serialize(fr.extractedUrl),fr.source,fr.restoredState)),bi!==this.transitions?.getValue()?De.E:Promise.resolve(fr)}),function $e(M,R,C,H){return(0,Rt.w)(ae=>function W(M,R,C,H,ae){return new fe(M,R,C,H,ae).apply()}(M,R,C,ae.extractedUrl,H).pipe((0,we.U)(Ae=>({...ae,urlAfterRedirects:Ae}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,C.config),(0,ge.b)(fr=>{this.currentNavigation={...this.currentNavigation,finalUrl:fr.urlAfterRedirects},H.urlAfterRedirects=fr.urlAfterRedirects}),function At(M,R,C,H,ae){return(0,je.z)(Ae=>function ii(M,R,C,H,ae,Ae,Ze="emptyOnly"){return new Xr(M,R,C,H,ae,Ze,Ae).recognize().pipe((0,Rt.w)(nn=>null===nn?function ur(M){return new Te.y(R=>R.error(M))}(new rn):(0,Y.of)(nn)))}(M,R,C,Ae.urlAfterRedirects,H.serialize(Ae.urlAfterRedirects),H,ae).pipe((0,we.U)(Ze=>({...Ae,targetSnapshot:Ze}))))}(this.environmentInjector,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,ge.b)(fr=>{if(H.targetSnapshot=fr.targetSnapshot,"eager"===C.urlUpdateStrategy){if(!fr.extras.skipLocationChange){const Bo=C.urlHandlingStrategy.merge(fr.urlAfterRedirects,fr.rawUrl);C.setBrowserUrl(Bo,fr)}C.browserUrlTree=fr.urlAfterRedirects}const bi=new mo(fr.id,this.urlSerializer.serialize(fr.extractedUrl),this.urlSerializer.serialize(fr.urlAfterRedirects),fr.targetSnapshot);this.events.next(bi)}));if(jn&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:fr,extractedUrl:bi,source:Bo,restoredState:aa,extras:qs}=Ze,ko=new Ri(fr,this.urlSerializer.serialize(bi),Bo,aa);this.events.next(ko);const _s=Hr(bi,this.rootComponentType).snapshot;return H={...Ze,targetSnapshot:_s,urlAfterRedirects:bi,extras:{...qs,skipLocationChange:!1,replaceUrl:!1}},(0,Y.of)(H)}{const fr="";return this.events.next(new Wi(Ze.id,C.serializeUrl(H.extractedUrl),fr,1)),C.rawUrlTree=Ze.rawUrl,Ze.resolve(null),De.E}}),(0,ge.b)(Ze=>{const nn=new eo(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(nn)}),(0,we.U)(Ze=>H={...Ze,guards:ni(Ze.targetSnapshot,Ze.currentSnapshot,this.rootContexts)}),function Bi(M,R){return(0,je.z)(C=>{const{targetSnapshot:H,currentSnapshot:ae,guards:{canActivateChecks:Ae,canDeactivateChecks:Ze}}=C;return 0===Ze.length&&0===Ae.length?(0,Y.of)({...C,guardsResult:!0}):function _i(M,R,C,H){return(0,T.D)(M).pipe((0,je.z)(ae=>function zs(M,R,C,H,ae){const Ae=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,Y.of)(!0);const Ze=Ae.map(nn=>{const jn=_o(R)??ae,dr=Xi(nn,jn);return On(function Uo(M){return M&&Yo(M.canDeactivate)}(dr)?dr.canDeactivate(M,R,C,H):jn.runInContext(()=>dr(M,R,C,H))).pipe(J())});return(0,Y.of)(Ze).pipe(ci())}(ae.component,ae.route,C,R,H)),J(ae=>!0!==ae,!0))}(Ze,H,ae,M).pipe((0,je.z)(nn=>nn&&function Ls(M){return"boolean"==typeof M}(nn)?function $i(M,R,C,H){return(0,T.D)(R).pipe((0,N.b)(ae=>(0,Ge.z)(function hs(M,R){return null!==M&&R&&R(new j(M)),(0,Y.of)(!0)}(ae.route.parent,H),function ks(M,R){return null!==M&&R&&R(new Qe(M)),(0,Y.of)(!0)}(ae.route,H),function Hs(M,R,C){const H=R[R.length-1],Ae=R.slice(0,R.length-1).reverse().map(Ze=>function Ki(M){const R=M.routeConfig?M.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:M,guards:R}:null}(Ze)).filter(Ze=>null!==Ze).map(Ze=>(0,oe.P)(()=>{const nn=Ze.guards.map(jn=>{const dr=_o(Ze.node)??C,fr=Xi(jn,dr);return On(function Zi(M){return M&&Yo(M.canActivateChild)}(fr)?fr.canActivateChild(H,M):dr.runInContext(()=>fr(H,M))).pipe(J())});return(0,Y.of)(nn).pipe(ci())}));return(0,Y.of)(Ae).pipe(ci())}(M,ae.path,C),function fs(M,R,C){const H=R.routeConfig?R.routeConfig.canActivate:null;if(!H||0===H.length)return(0,Y.of)(!0);const ae=H.map(Ae=>(0,oe.P)(()=>{const Ze=_o(R)??C,nn=Xi(Ae,Ze);return On(function go(M){return M&&Yo(M.canActivate)}(nn)?nn.canActivate(R,M):Ze.runInContext(()=>nn(R,M))).pipe(J())}));return(0,Y.of)(ae).pipe(ci())}(M,ae.route,C))),J(ae=>!0!==ae,!0))}(H,Ae,M,R):(0,Y.of)(nn)),(0,we.U)(nn=>({...C,guardsResult:nn})))})}(this.environmentInjector,Ze=>this.events.next(Ze)),(0,ge.b)(Ze=>{if(H.guardsResult=Ze.guardsResult,Cn(Ze.guardsResult))throw wt(0,Ze.guardsResult);const nn=new Mi(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot,!!Ze.guardsResult);this.events.next(nn)}),(0,Ot.h)(Ze=>!!Ze.guardsResult||(C.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",3),!1)),jr(Ze=>{if(Ze.guards.canActivateChecks.length)return(0,Y.of)(Ze).pipe((0,ge.b)(nn=>{const jn=new Ro(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(jn)}),(0,Rt.w)(nn=>{let jn=!1;return(0,Y.of)(nn).pipe(function _n(M,R){return(0,je.z)(C=>{const{targetSnapshot:H,guards:{canActivateChecks:ae}}=C;if(!ae.length)return(0,Y.of)(C);let Ae=0;return(0,T.D)(ae).pipe((0,N.b)(Ze=>function Fn(M,R,C,H){const ae=M.routeConfig,Ae=M._resolve;return void 0!==ae?.title&&!oi(ae)&&(Ae[mn]=ae.title),function yr(M,R,C,H){const ae=function Wr(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===ae.length)return(0,Y.of)({});const Ae={};return(0,T.D)(ae).pipe((0,je.z)(Ze=>function Fr(M,R,C,H){const ae=_o(R)??H,Ae=Xi(M,ae);return On(Ae.resolve?Ae.resolve(R,C):ae.runInContext(()=>Ae(R,C)))}(M[Ze],R,C,H).pipe(J(),(0,ge.b)(nn=>{Ae[Ze]=nn}))),ut(1),(0,ce.h)(Ae),(0,Ke.K)(Ze=>ds(Ze)?De.E:(0,Me._)(Ze)))}(Ae,M,R,H).pipe((0,we.U)(Ze=>(M._resolvedData=Ze,M.data=yo(M,C).resolve,ae&&oi(ae)&&(M.data[mn]=ae.title),null)))}(Ze.route,H,M,R)),(0,ge.b)(()=>Ae++),ut(1),(0,je.z)(Ze=>Ae===ae.length?(0,Y.of)(C):De.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,ge.b)({next:()=>jn=!0,complete:()=>{jn||(C.restoreHistory(nn),this.cancelNavigationTransition(nn,"",2))}}))}),(0,ge.b)(nn=>{const jn=new Gi(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(jn)}))}),jr(Ze=>{const nn=jn=>{const dr=[];jn.routeConfig?.loadComponent&&!jn.routeConfig._loadedComponent&&dr.push(this.configLoader.loadComponent(jn.routeConfig).pipe((0,ge.b)(fr=>{jn.component=fr}),(0,we.U)(()=>{})));for(const fr of jn.children)dr.push(...nn(fr));return dr};return(0,ee.a)(nn(Ze.targetSnapshot.root)).pipe(f(),(0,vt.q)(1))}),jr(()=>this.afterPreactivation()),(0,we.U)(Ze=>{const nn=function cs(M,R,C){const H=lo(M,R._root,C?C._root:void 0);return new Pi(H,R)}(C.routeReuseStrategy,Ze.targetSnapshot,Ze.currentRouterState);return H={...Ze,targetRouterState:nn}}),(0,ge.b)(Ze=>{C.currentUrlTree=Ze.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(Ze.urlAfterRedirects,Ze.rawUrl),C.routerState=Ze.targetRouterState,"deferred"===C.urlUpdateStrategy&&(Ze.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,Ze),C.browserUrlTree=Ze.urlAfterRedirects)}),((M,R,C)=>(0,we.U)(H=>(new Ss(R,H.targetRouterState,H.currentRouterState,C).activate(M),H)))(this.rootContexts,C.routeReuseStrategy,Ze=>this.events.next(Ze)),(0,vt.q)(1),(0,ge.b)({next:Ze=>{ae=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new Ni(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(Ze.targetRouterState.snapshot),Ze.resolve(!0)},complete:()=>{ae=!0}}),(0,ie.x)(()=>{ae||Ae||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),(0,Ke.K)(Ze=>{if(Ae=!0,En(Ze)){Jt(Ze)||(C.navigated=!0,C.restoreHistory(H,!0));const nn=new Mr(H.id,this.urlSerializer.serialize(H.extractedUrl),Ze.message,Ze.cancellationCode);if(this.events.next(nn),Jt(Ze)){const jn=C.urlHandlingStrategy.merge(Ze.url,C.rawUrlTree),dr={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||xe(H.source)};C.scheduleNavigation(jn,ai,null,dr,{resolve:H.resolve,reject:H.reject,promise:H.promise})}else H.resolve(!1)}else{C.restoreHistory(H,!0);const nn=new Fi(H.id,this.urlSerializer.serialize(H.extractedUrl),Ze,H.targetSnapshot??void 0);this.events.next(nn);try{H.resolve(C.errorHandler(Ze))}catch(jn){H.reject(jn)}}return De.E}))}))}cancelNavigationTransition(C,H,ae){const Ae=new Mr(C.id,this.urlSerializer.serialize(C.extractedUrl),H,ae);this.events.next(Ae),C.resolve(!1)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function xe(M){return M!==ai}let lt=(()=>{class M{buildTitle(C){let H,ae=C.root;for(;void 0!==ae;)H=this.getResolvedTitleForRoute(ae)??H,ae=ae.children.find(Ae=>Ae.outlet===Et);return H}getResolvedTitleForRoute(C){return C.data[mn]}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(Je)},providedIn:"root"}),M})(),Je=(()=>{class M extends lt{constructor(C){super(),this.title=C}updateTitle(C){const H=this.buildTitle(C);void 0!==H&&this.title.setTitle(H)}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(ht.Dx))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),L=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(E)},providedIn:"root"}),M})();class S{shouldDetach(R){return!1}store(R,C){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,C){return R.routeConfig===C.routeConfig}}let E=(()=>{class M extends S{}return M.\u0275fac=function(){let R;return function(H){return(R||(R=y.n5z(M)))(H||M)}}(),M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const re=new y.OlP("",{providedIn:"root",factory:()=>({})});let be=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(yt)},providedIn:"root"}),M})(),yt=(()=>{class M{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,H){return C}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function an(M){throw M}function Sn(M,R,C){return R.parse("/")}const bn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},er={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(re,{optional:!0})||{},this.errorHandler=this.options.errorHandler||an,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(be),this.routeReuseStrategy=(0,y.f3M)(L),this.urlCreationStrategy=(0,y.f3M)(ir),this.titleStrategy=(0,y.f3M)(lt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Bn((0,y.f3M)(l,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(he),this.urlSerializer=(0,y.f3M)(kn),this.location=(0,y.f3M)(zt.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ai,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const H="popstate"===C.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,H,C.state)},0)}))}navigateToSyncWithBrowser(C,H,ae){const Ae={replaceUrl:!0},Ze=ae?.navigationId?ae:null;if(ae){const jn={...ae};delete jn.navigationId,delete jn.\u0275routerPageId,0!==Object.keys(jn).length&&(Ae.state=jn)}const nn=this.parseUrl(C);this.scheduleNavigation(nn,H,Ze,Ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(C){this.config=C.map(Ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,H={}){const{relativeTo:ae,queryParams:Ae,fragment:Ze,queryParamsHandling:nn,preserveFragment:jn}=H,dr=jn?this.currentUrlTree.fragment:Ze;let fr=null;switch(nn){case"merge":fr={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":fr=this.currentUrlTree.queryParams;break;default:fr=Ae||null}return null!==fr&&(fr=this.removeEmptyProps(fr)),this.urlCreationStrategy.createUrlTree(ae,this.routerState,this.currentUrlTree,C,fr,dr??null)}navigateByUrl(C,H={skipLocationChange:!1}){const ae=Cn(C)?C:this.parseUrl(C),Ae=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Ae,ai,null,H)}navigate(C,H={skipLocationChange:!1}){return function Gr(M){for(let R=0;R<M.length;R++){const C=M[R];if(null==C)throw new y.vHH(4008,false)}}(C),this.navigateByUrl(this.createUrlTree(C,H),H)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let H;try{H=this.urlSerializer.parse(C)}catch(ae){H=this.malformedUriErrorHandler(ae,this.urlSerializer,C)}return H}isActive(C,H){let ae;if(ae=!0===H?{...bn}:!1===H?{...er}:H,Cn(C))return dt(this.currentUrlTree,C,ae);const Ae=this.parseUrl(C);return dt(this.currentUrlTree,Ae,ae)}removeEmptyProps(C){return Object.keys(C).reduce((H,ae)=>{const Ae=C[ae];return null!=Ae&&(H[ae]=Ae),H},{})}scheduleNavigation(C,H,ae,Ae,Ze){if(this.disposed)return Promise.resolve(!1);let nn,jn,dr,fr;return Ze?(nn=Ze.resolve,jn=Ze.reject,dr=Ze.promise):dr=new Promise((bi,Bo)=>{nn=bi,jn=Bo}),fr="computed"===this.canceledNavigationResolution?ae&&ae.\u0275routerPageId?ae.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:fr,source:H,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:Ae,resolve:nn,reject:jn,promise:dr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dr.catch(bi=>Promise.reject(bi))}setBrowserUrl(C,H){const ae=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(ae)||H.extras.replaceUrl){const Ze={...H.extras.state,...this.generateNgRouterState(H.id,this.browserPageId)};this.location.replaceState(ae,"",Ze)}else{const Ae={...H.extras.state,...this.generateNgRouterState(H.id,H.targetPageId)};this.location.go(ae,"",Ae)}}restoreHistory(C,H=!1){if("computed"===this.canceledNavigationResolution){const Ae=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ae?this.location.historyGo(Ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ae&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,H){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:H}:{navigationId:C}}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),kr=(()=>{class M{constructor(C,H,ae,Ae,Ze,nn){this.router=C,this.route=H,this.tabIndexAttribute=ae,this.renderer=Ae,this.el=Ze,this.locationStrategy=nn,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Zt.x;const jn=Ze.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===jn||"area"===jn,this.isAnchorElement?this.subscription=C.events.subscribe(dr=>{dr instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(C){this._preserveFragment=(0,y.D6c)(C)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(C){this._skipLocationChange=(0,y.D6c)(C)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(C){this._replaceUrl=(0,y.D6c)(C)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,H,ae,Ae,Ze){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||H||ae||Ae||Ze||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const C=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",C)}applyAttributeValue(C,H){const ae=this.renderer,Ae=this.el.nativeElement;null!==H?ae.setAttribute(Ae,C,H):ae.removeAttribute(Ae,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(C){return new(C||M)(y.Y36(Sr),y.Y36(Qi),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(zt.S$))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,H){1&C&&y.NdJ("click",function(Ae){return H.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&C&&y.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),M})(),Vr=(()=>{class M{get isActive(){return this._isActive}constructor(C,H,ae,Ae,Ze){this.router=C,this.element=H,this.renderer=ae,this.cdr=Ae,this.link=Ze,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=C.events.subscribe(nn=>{nn instanceof Ni&&this.update()})}ngAfterContentInit(){(0,Y.of)(this.links.changes,(0,Y.of)(null)).pipe((0,Ue.J)()).subscribe(C=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const C=[...this.links.toArray(),this.link].filter(H=>!!H).map(H=>H.onChanges);this.linkInputChangesSubscription=(0,T.D)(C).pipe((0,Ue.J)()).subscribe(H=>{this._isActive!==this.isLinkActive(this.router)(H)&&this.update()})}set routerLinkActive(C){const H=Array.isArray(C)?C:C.split(" ");this.classes=H.filter(ae=>!!ae)}ngOnChanges(C){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const C=this.hasActiveLinks();this._isActive!==C&&(this._isActive=C,this.cdr.markForCheck(),this.classes.forEach(H=>{C?this.renderer.addClass(this.element.nativeElement,H):this.renderer.removeClass(this.element.nativeElement,H)}),C&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(C))})}isLinkActive(C){const H=function Oi(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ae=>!!ae.urlTree&&C.isActive(ae.urlTree,H)}hasActiveLinks(){const C=this.isLinkActive(this.router);return this.link&&C(this.link)||this.links.some(C)}}return M.\u0275fac=function(C){return new(C||M)(y.Y36(Sr),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(kr,8))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(C,H,ae){if(1&C&&y.Suo(ae,kr,5),2&C){let Ae;y.iGM(Ae=y.CRH())&&(H.links=Ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),M})();class ji{}let Hi=(()=>{class M{constructor(C,H,ae,Ae,Ze){this.router=C,this.injector=ae,this.preloadingStrategy=Ae,this.loader=Ze}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(C=>C instanceof Ni),(0,N.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,H){const ae=[];for(const Ae of H){Ae.providers&&!Ae._injector&&(Ae._injector=(0,y.MMx)(Ae.providers,C,`Route: ${Ae.path}`));const Ze=Ae._injector??C,nn=Ae._loadedInjector??Ze;(Ae.loadChildren&&!Ae._loadedRoutes&&void 0===Ae.canLoad||Ae.loadComponent&&!Ae._loadedComponent)&&ae.push(this.preloadConfig(Ze,Ae)),(Ae.children||Ae._loadedRoutes)&&ae.push(this.processRoutes(nn,Ae.children??Ae._loadedRoutes))}return(0,T.D)(ae).pipe((0,Ue.J)())}preloadConfig(C,H){return this.preloadingStrategy.preload(H,()=>{let ae;ae=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(C,H):(0,Y.of)(null);const Ae=ae.pipe((0,je.z)(Ze=>null===Ze?(0,Y.of)(void 0):(H._loadedRoutes=Ze.routes,H._loadedInjector=Ze.injector,this.processRoutes(Ze.injector??C,Ze.routes))));if(H.loadComponent&&!H._loadedComponent){const Ze=this.loader.loadComponent(H);return(0,T.D)([Ae,Ze]).pipe((0,Ue.J)())}return Ae})}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(Sr),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(ji),y.LFG(d))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Bs=new y.OlP("");let ts=(()=>{class M{constructor(C,H,ae,Ae,Ze={}){this.urlSerializer=C,this.transitions=H,this.viewportScroller=ae,this.zone=Ae,this.options=Ze,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ze.scrollPositionRestoration=Ze.scrollPositionRestoration||"disabled",Ze.anchorScrolling=Ze.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Ni&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Gn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,H){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return M.\u0275fac=function(C){y.$Z()},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();var qi=(()=>((qi=qi||{})[qi.COMPLETE=0]="COMPLETE",qi[qi.FAILED=1]="FAILED",qi[qi.REDIRECTING=2]="REDIRECTING",qi))();const po=!1;function Os(M,R){return{\u0275kind:M,\u0275providers:R}}const Rs=new y.OlP("",{providedIn:"root",factory:()=>!1});function Tr(){const M=(0,y.f3M)(y.zs3);return R=>{const C=M.get(y.z2F);if(R!==C.components[0])return;const H=M.get(Sr),ae=M.get(pr);1===M.get(Yr)&&H.initialNavigation(),M.get(Zr,null,y.XFs.Optional)?.setUpPreloading(),M.get(Bs,null,y.XFs.Optional)?.init(),H.resetRootComponentType(C.componentTypes[0]),ae.closed||(ae.next(),ae.complete(),ae.unsubscribe())}}const pr=new y.OlP(po?"bootstrap done indicator":"",{factory:()=>new Zt.x}),Yr=new y.OlP(po?"initial navigation":"",{providedIn:"root",factory:()=>1});function Di(){let M=[];return M=po?[{provide:y.Xts,multi:!0,useFactory:()=>{const R=(0,y.f3M)(Sr);return()=>R.events.subscribe(C=>{console.group?.(`Router Event: ${C.constructor.name}`),console.log(function rr(M){if(!("type"in M))return`Unknown Router Event: ${M.constructor.name}`;switch(M.type){case 14:return`ActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state}, shouldActivate: ${M.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 2:return`NavigationCancel(id: ${M.id}, url: '${M.url}')`;case 16:return`NavigationSkipped(id: ${M.id}, url: '${M.url}')`;case 1:return`NavigationEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${M.id}, url: '${M.url}', error: ${M.error})`;case 0:return`NavigationStart(id: ${M.id}, url: '${M.url}')`;case 6:return`ResolveEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 5:return`ResolveStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 10:return`RouteConfigLoadEnd(path: ${M.route.path})`;case 9:return`RouteConfigLoadStart(path: ${M.route.path})`;case 4:return`RoutesRecognized(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case 15:return`Scroll(anchor: '${M.anchor}', position: '${M.position?`${M.position[0]}, ${M.position[1]}`:null}')`}}(C)),console.log(C),console.groupEnd?.()})}}]:[],Os(1,M)}const Zr=new y.OlP(po?"router preloader":"");function Ci(M){return Os(0,[{provide:Zr,useExisting:Hi},{provide:ji,useExisting:M}])}const js=!1,oa=new y.OlP(js?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Zs=[zt.Ye,{provide:kn,useClass:Jn},Sr,Pn,{provide:Qi,useFactory:function Xs(M){return M.routerState.root},deps:[Sr]},d,js?{provide:Rs,useValue:!0}:[]];function Ru(){return new y.PXZ("Router",Sr)}let cl=(()=>{class M{constructor(C){}static forRoot(C,H){return{ngModule:M,providers:[Zs,js&&H?.enableTracing?Di().\u0275providers:[],{provide:l,multi:!0,useValue:C},{provide:oa,useFactory:sa,deps:[[Sr,new y.FiY,new y.tp0]]},{provide:re,useValue:H||{}},H?.useHash?{provide:zt.S$,useClass:zt.Do}:{provide:zt.S$,useClass:zt.b0},{provide:Bs,useFactory:()=>{const M=(0,y.f3M)(zt.EM),R=(0,y.f3M)(y.R0b),C=(0,y.f3M)(re),H=(0,y.f3M)(he),ae=(0,y.f3M)(kn);return C.scrollOffset&&M.setOffset(C.scrollOffset),new ts(ae,H,M,R,C)}},H?.preloadingStrategy?Ci(H.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ru},H?.initialNavigation?Ds(H):[],[{provide:$s,useFactory:Tr},{provide:y.tb,multi:!0,useExisting:$s}]]}}static forChild(C){return{ngModule:M,providers:[{provide:l,multi:!0,useValue:C}]}}}return M.\u0275fac=function(C){return new(C||M)(y.LFG(oa,8))},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({imports:[hi]}),M})();function sa(M){if(js&&M)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ds(M){return["disabled"===M.initialNavigation?Os(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const R=(0,y.f3M)(Sr);return()=>{R.setUpLocationChangeListener()}}},{provide:Yr,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?Os(2,[{provide:Yr,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:R=>{const C=R.get(zt.V_,Promise.resolve());return()=>C.then(()=>new Promise(H=>{const ae=R.get(Sr),Ae=R.get(pr);(function Ko(M,R){M.events.pipe((0,Ot.h)(C=>C instanceof Ni||C instanceof Mr||C instanceof Fi||C instanceof Wi),(0,we.U)(C=>C instanceof Ni||C instanceof Wi?qi.COMPLETE:C instanceof Mr&&(0===C.code||1===C.code)?qi.REDIRECTING:qi.FAILED),(0,Ot.h)(C=>C!==qi.REDIRECTING),(0,vt.q)(1)).subscribe(()=>{R()})})(ae,()=>{H(!0)}),R.get(he).afterPreactivation=()=>(H(!0),Ae.closed?(0,Y.of)(void 0):Ae),ae.initialNavigation()}))}}]).\u0275providers:[]]}const $s=new y.OlP(js?"Router Initializer":"")},76188:(Nn,nt,F)=>{"use strict";F.d(nt,{Zw:()=>_t,aw:()=>He,X$:()=>Tn,sK:()=>ge});var y=F(94650),T=F(39646),Y=F(69751),Pe=F(30576);function z(ut){return!!ut&&(ut instanceof Y.y||(0,Pe.m)(ut.lift)&&(0,Pe.m)(ut.subscribe))}var Xe=F(4128),ee=F(97272),Ge=F(49770),oe=F(95698),$=F(34782),Me=F(54004),Te=F(24351),De=F(63900);class _t{}let Zt=(()=>{class ut extends _t{getTranslation(te){return(0,T.of)({})}}return ut.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ut)))(ce||ut)}}(),ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class zt{}let we=(()=>{class ut{handle(te){return te.key}}return ut.\u0275fac=function(te){return new(te||ut)},ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})();function Rt(ut,at){if(ut===at)return!0;if(null===ut||null===at)return!1;if(ut!=ut&&at!=at)return!0;let ie,Le,Ue,te=typeof ut;if(te==typeof at&&"object"==te){if(!Array.isArray(ut)){if(Array.isArray(at))return!1;for(Le in Ue=Object.create(null),ut){if(!Rt(ut[Le],at[Le]))return!1;Ue[Le]=!0}for(Le in at)if(!(Le in Ue)&&typeof at[Le]<"u")return!1;return!0}if(!Array.isArray(at))return!1;if((ie=ut.length)==at.length){for(Le=0;Le<ie;Le++)if(!Rt(ut[Le],at[Le]))return!1;return!0}}return!1}function vt(ut){return typeof ut<"u"&&null!==ut}function en(ut){return ut&&"object"==typeof ut&&!Array.isArray(ut)}function Ot(ut,at){let te=Object.assign({},ut);return en(ut)&&en(at)&&Object.keys(at).forEach(ce=>{en(at[ce])?ce in ut?te[ce]=Ot(ut[ce],at[ce]):Object.assign(te,{[ce]:at[ce]}):Object.assign(te,{[ce]:at[ce]})}),te}class je{}let ke=(()=>{class ut extends je{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(te,ce){let ie;return ie="string"==typeof te?this.interpolateString(te,ce):"function"==typeof te?this.interpolateFunction(te,ce):te,ie}getValue(te,ce){let ie="string"==typeof ce?ce.split("."):[ce];ce="";do{ce+=ie.shift(),!vt(te)||!vt(te[ce])||"object"!=typeof te[ce]&&ie.length?ie.length?ce+=".":te=void 0:(te=te[ce],ce="")}while(ie.length);return te}interpolateFunction(te,ce){return te(ce)}interpolateString(te,ce){return ce?te.replace(this.templateMatcher,(ie,Le)=>{let Ue=this.getValue(ce,Le);return vt(Ue)?Ue:ie}):te}}return ut.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ut)))(ce||ut)}}(),ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class et{}let f=(()=>{class ut extends et{compile(te,ce){return te}compileTranslations(te,ce){return te}}return ut.\u0275fac=function(){let at;return function(ce){return(at||(at=y.n5z(ut)))(ce||ut)}}(),ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class k{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new y.vpe,this.onLangChange=new y.vpe,this.onDefaultLangChange=new y.vpe}}const D=new y.OlP("USE_STORE"),G=new y.OlP("USE_DEFAULT_LANG"),J=new y.OlP("DEFAULT_LANGUAGE"),N=new y.OlP("USE_EXTEND");let ge=(()=>{class ut{constructor(te,ce,ie,Le,Ue,ht=!0,Et=!1,mn=!1,bt){this.store=te,this.currentLoader=ce,this.compiler=ie,this.parser=Le,this.missingTranslationHandler=Ue,this.useDefaultLang=ht,this.isolate=Et,this.extend=mn,this.pending=!1,this._onTranslationChange=new y.vpe,this._onLangChange=new y.vpe,this._onDefaultLangChange=new y.vpe,this._langs=[],this._translations={},this._translationRequests={},bt&&this.setDefaultLang(bt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(te){this.isolate?this._defaultLang=te:this.store.defaultLang=te}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(te){this.isolate?this._currentLang=te:this.store.currentLang=te}get langs(){return this.isolate?this._langs:this.store.langs}set langs(te){this.isolate?this._langs=te:this.store.langs=te}get translations(){return this.isolate?this._translations:this.store.translations}set translations(te){this.isolate?this._translations=te:this.store.translations=te}setDefaultLang(te){if(te===this.defaultLang)return;let ce=this.retrieveTranslations(te);typeof ce<"u"?(null==this.defaultLang&&(this.defaultLang=te),ce.pipe((0,oe.q)(1)).subscribe(ie=>{this.changeDefaultLang(te)})):this.changeDefaultLang(te)}getDefaultLang(){return this.defaultLang}use(te){if(te===this.currentLang)return(0,T.of)(this.translations[te]);let ce=this.retrieveTranslations(te);return typeof ce<"u"?(this.currentLang||(this.currentLang=te),ce.pipe((0,oe.q)(1)).subscribe(ie=>{this.changeLang(te)}),ce):(this.changeLang(te),(0,T.of)(this.translations[te]))}retrieveTranslations(te){let ce;return(typeof this.translations[te]>"u"||this.extend)&&(this._translationRequests[te]=this._translationRequests[te]||this.getTranslation(te),ce=this._translationRequests[te]),ce}getTranslation(te){this.pending=!0;const ce=this.currentLoader.getTranslation(te).pipe((0,$.d)(1),(0,oe.q)(1));return this.loadingTranslations=ce.pipe((0,Me.U)(ie=>this.compiler.compileTranslations(ie,te)),(0,$.d)(1),(0,oe.q)(1)),this.loadingTranslations.subscribe({next:ie=>{this.translations[te]=this.extend&&this.translations[te]?{...ie,...this.translations[te]}:ie,this.updateLangs(),this.pending=!1},error:ie=>{this.pending=!1}}),ce}setTranslation(te,ce,ie=!1){ce=this.compiler.compileTranslations(ce,te),this.translations[te]=(ie||this.extend)&&this.translations[te]?Ot(this.translations[te],ce):ce,this.updateLangs(),this.onTranslationChange.emit({lang:te,translations:this.translations[te]})}getLangs(){return this.langs}addLangs(te){te.forEach(ce=>{-1===this.langs.indexOf(ce)&&this.langs.push(ce)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(te,ce,ie){let Le;if(ce instanceof Array){let Ue={},ht=!1;for(let Et of ce)Ue[Et]=this.getParsedResult(te,Et,ie),z(Ue[Et])&&(ht=!0);if(ht){const Et=ce.map(mn=>z(Ue[mn])?Ue[mn]:(0,T.of)(Ue[mn]));return(0,Xe.D)(Et).pipe((0,Me.U)(mn=>{let bt={};return mn.forEach((sn,ft)=>{bt[ce[ft]]=sn}),bt}))}return Ue}if(te&&(Le=this.parser.interpolate(this.parser.getValue(te,ce),ie)),typeof Le>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Le=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ce),ie)),typeof Le>"u"){let Ue={key:ce,translateService:this};typeof ie<"u"&&(Ue.interpolateParams=ie),Le=this.missingTranslationHandler.handle(Ue)}return typeof Le<"u"?Le:ce}get(te,ce){if(!vt(te)||!te.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Te.b)(ie=>z(ie=this.getParsedResult(ie,te,ce))?ie:(0,T.of)(ie)));{let ie=this.getParsedResult(this.translations[this.currentLang],te,ce);return z(ie)?ie:(0,T.of)(ie)}}getStreamOnTranslationChange(te,ce){if(!vt(te)||!te.length)throw new Error('Parameter "key" required');return(0,ee.z)((0,Ge.P)(()=>this.get(te,ce)),this.onTranslationChange.pipe((0,De.w)(ie=>{const Le=this.getParsedResult(ie.translations,te,ce);return"function"==typeof Le.subscribe?Le:(0,T.of)(Le)})))}stream(te,ce){if(!vt(te)||!te.length)throw new Error('Parameter "key" required');return(0,ee.z)((0,Ge.P)(()=>this.get(te,ce)),this.onLangChange.pipe((0,De.w)(ie=>{const Le=this.getParsedResult(ie.translations,te,ce);return z(Le)?Le:(0,T.of)(Le)})))}instant(te,ce){if(!vt(te)||!te.length)throw new Error('Parameter "key" required');let ie=this.getParsedResult(this.translations[this.currentLang],te,ce);if(z(ie)){if(te instanceof Array){let Le={};return te.forEach((Ue,ht)=>{Le[te[ht]]=te[ht]}),Le}return te}return ie}set(te,ce,ie=this.currentLang){this.translations[ie][te]=this.compiler.compile(ce,ie),this.updateLangs(),this.onTranslationChange.emit({lang:ie,translations:this.translations[ie]})}changeLang(te){this.currentLang=te,this.onLangChange.emit({lang:te,translations:this.translations[te]}),null==this.defaultLang&&this.changeDefaultLang(te)}changeDefaultLang(te){this.defaultLang=te,this.onDefaultLangChange.emit({lang:te,translations:this.translations[te]})}reloadLang(te){return this.resetLang(te),this.getTranslation(te)}resetLang(te){this._translationRequests[te]=void 0,this.translations[te]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let te=window.navigator.languages?window.navigator.languages[0]:null;return te=te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof te>"u"?void 0:(-1!==te.indexOf("-")&&(te=te.split("-")[0]),-1!==te.indexOf("_")&&(te=te.split("_")[0]),te)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let te=window.navigator.languages?window.navigator.languages[0]:null;return te=te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,te}}return ut.\u0275fac=function(te){return new(te||ut)(y.LFG(k),y.LFG(_t),y.LFG(et),y.LFG(je),y.LFG(zt),y.LFG(G),y.LFG(D),y.LFG(N),y.LFG(J))},ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),Tn=(()=>{class ut{constructor(te,ce){this.translate=te,this._ref=ce,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(te,ce,ie){let Le=Ue=>{this.value=void 0!==Ue?Ue:te,this.lastKey=te,this._ref.markForCheck()};if(ie){let Ue=this.translate.getParsedResult(ie,te,ce);z(Ue.subscribe)?Ue.subscribe(Le):Le(Ue)}this.translate.get(te,ce).subscribe(Le)}transform(te,...ce){if(!te||!te.length)return te;if(Rt(te,this.lastKey)&&Rt(ce,this.lastParams))return this.value;let ie;if(vt(ce[0])&&ce.length)if("string"==typeof ce[0]&&ce[0].length){let Le=ce[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ie=JSON.parse(Le)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ce[0]}`)}}else"object"==typeof ce[0]&&!Array.isArray(ce[0])&&(ie=ce[0]);return this.lastKey=te,this.lastParams=ce,this.updateValue(te,ie),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Le=>{this.lastKey&&Le.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(te,ie,Le.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Le=>{this.lastKey&&(this.lastKey=null,this.updateValue(te,ie,Le.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(te,ie))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ut.\u0275fac=function(te){return new(te||ut)(y.Y36(ge,16),y.Y36(y.sBO,16))},ut.\u0275pipe=y.Yjl({name:"translate",type:ut,pure:!1}),ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),He=(()=>{class ut{static forRoot(te={}){return{ngModule:ut,providers:[te.loader||{provide:_t,useClass:Zt},te.compiler||{provide:et,useClass:f},te.parser||{provide:je,useClass:ke},te.missingTranslationHandler||{provide:zt,useClass:we},k,{provide:D,useValue:te.isolate},{provide:G,useValue:te.useDefaultLang},{provide:N,useValue:te.extend},{provide:J,useValue:te.defaultLanguage},ge]}}static forChild(te={}){return{ngModule:ut,providers:[te.loader||{provide:_t,useClass:Zt},te.compiler||{provide:et,useClass:f},te.parser||{provide:je,useClass:ke},te.missingTranslationHandler||{provide:zt,useClass:we},{provide:D,useValue:te.isolate},{provide:G,useValue:te.useDefaultLang},{provide:N,useValue:te.extend},{provide:J,useValue:te.defaultLanguage},ge]}}}return ut.\u0275fac=function(te){return new(te||ut)},ut.\u0275mod=y.oAB({type:ut}),ut.\u0275inj=y.cJS({}),ut})()},91811:(Nn,nt,F)=>{"use strict";F.d(nt,{YI:()=>Ge,iF:()=>T,u7:()=>Pe});var y=F(94650),T={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const Pe=new y.OlP("nz-i18n");new y.OlP("nz-date-locale");let Ge=(()=>{class ue{}return ue.\u0275fac=function(tt){return new(tt||ue)},ue.\u0275mod=y.oAB({type:ue}),ue.\u0275inj=y.cJS({}),ue})();new y.OlP("date-config")},85657:(Nn,nt,F)=>{"use strict";F.d(nt,{N:()=>Y});var y=F(94650),T=F(36895);let Y=(()=>{class Pe{constructor(Xe,ee){this.document=Xe,this.platformId=ee,this.documentIsAccessible=(0,T.NF)(this.platformId)}static getCookieRegExp(Xe){const ee=Xe.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+ee+"|;\\s*"+ee+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(Xe){try{return decodeURIComponent(Xe)}catch{return Xe}}check(Xe){return!!this.documentIsAccessible&&(Xe=encodeURIComponent(Xe),Pe.getCookieRegExp(Xe).test(this.document.cookie))}get(Xe){if(this.documentIsAccessible&&this.check(Xe)){Xe=encodeURIComponent(Xe);const Ge=Pe.getCookieRegExp(Xe).exec(this.document.cookie);return Ge[1]?Pe.safeDecodeURIComponent(Ge[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const Xe={},ee=this.document;return ee.cookie&&""!==ee.cookie&&ee.cookie.split(";").forEach(Ge=>{const[oe,$]=Ge.split("=");Xe[Pe.safeDecodeURIComponent(oe.replace(/^ /,""))]=Pe.safeDecodeURIComponent($)}),Xe}set(Xe,ee,Ge,oe,$,Me,Te){if(!this.documentIsAccessible)return;if("number"==typeof Ge||Ge instanceof Date||oe||$||Me||Te)return void this.set(Xe,ee,{expires:Ge,path:oe,domain:$,secure:Me,sameSite:Te||"Lax"});let De=encodeURIComponent(Xe)+"="+encodeURIComponent(ee)+";";const _t=Ge||{};_t.expires&&(De+="number"==typeof _t.expires?"expires="+new Date((new Date).getTime()+1e3*_t.expires*60*60*24).toUTCString()+";":"expires="+_t.expires.toUTCString()+";"),_t.path&&(De+="path="+_t.path+";"),_t.domain&&(De+="domain="+_t.domain+";"),!1===_t.secure&&"None"===_t.sameSite&&(_t.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${Xe} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),_t.secure&&(De+="secure;"),_t.sameSite||(_t.sameSite="Lax"),De+="sameSite="+_t.sameSite+";",this.document.cookie=De}delete(Xe,ee,Ge,oe,$="Lax"){this.documentIsAccessible&&this.set(Xe,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:ee,domain:Ge,secure:oe,sameSite:$})}deleteAll(Xe,ee,Ge,oe="Lax"){if(!this.documentIsAccessible)return;const $=this.getAll();for(const Me in $)$.hasOwnProperty(Me)&&this.delete(Me,Xe,ee,Ge,oe)}}return Pe.\u0275fac=function(Xe){return new(Xe||Pe)(y.LFG(T.K0),y.LFG(y.Lbi))},Pe.\u0275prov=y.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},43648:(Nn,nt,F)=>{"use strict";F.d(nt,{Rh:()=>He,_W:()=>N});var y=F(94650),T=F(37340),Y=F(36895),Pe=F(77579),z=F(11481);const Xe=["toast-component",""];function ee(ie,Le){if(1&ie){const Ue=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(Ue);const Et=y.oxw();return y.KtG(Et.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Ge(ie,Le){if(1&ie&&(y.ynx(0),y._uU(1),y.BQk()),2&ie){const Ue=y.oxw(2);y.xp6(1),y.hij("[",Ue.duplicatesCount+1,"]")}}function oe(ie,Le){if(1&ie&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Ge,2,1,"ng-container",4),y.qZA()),2&ie){const Ue=y.oxw();y.Tol(Ue.options.titleClass),y.uIk("aria-label",Ue.title),y.xp6(1),y.hij(" ",Ue.title," "),y.xp6(1),y.Q6J("ngIf",Ue.duplicatesCount)}}function $(ie,Le){if(1&ie&&y._UZ(0,"div",7),2&ie){const Ue=y.oxw();y.Tol(Ue.options.messageClass),y.Q6J("innerHTML",Ue.message,y.oJD)}}function Me(ie,Le){if(1&ie&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&ie){const Ue=y.oxw();y.Tol(Ue.options.messageClass),y.uIk("aria-label",Ue.message),y.xp6(1),y.hij(" ",Ue.message," ")}}function Te(ie,Le){if(1&ie&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&ie){const Ue=y.oxw();y.xp6(1),y.Udp("width",Ue.width+"%")}}class en{_attachedHost;component;viewContainerRef;injector;constructor(Le,Ue){this.component=Le,this.injector=Ue}attach(Le,Ue){return this._attachedHost=Le,Le.attach(this,Ue)}detach(){const Le=this._attachedHost;if(Le)return this._attachedHost=void 0,Le.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class Ot{_attachedPortal;_disposeFn;attach(Le,Ue){return this._attachedPortal=Le,this.attachComponentPortal(Le,Ue)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Le){this._disposeFn=Le}}class je{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pe.x;_activate=new Pe.x;_manualClose=new Pe.x;_resetTimeout=new Pe.x;_countDuplicate=new Pe.x;constructor(Le){this._overlayRef=Le}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Le,Ue){Le&&this._resetTimeout.next(),Ue&&this._countDuplicate.next(++this.duplicatesCount)}}class ke{toastId;config;message;title;toastType;toastRef;_onTap=new Pe.x;_onAction=new Pe.x;constructor(Le,Ue,ht,Et,mn,bt){this.toastId=Le,this.config=Ue,this.message=ht,this.title=Et,this.toastType=mn,this.toastRef=bt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Le){this._onAction.next(Le)}onAction(){return this._onAction.asObservable()}}const f=new y.OlP("ToastConfig");class k extends Ot{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Le,Ue,ht){super(),this._hostDomElement=Le,this._componentFactoryResolver=Ue,this._appRef=ht}attachComponentPortal(Le,Ue){const ht=this._componentFactoryResolver.resolveComponentFactory(Le.component);let Et;return Et=ht.create(Le.injector),this._appRef.attachView(Et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Et.hostView),Et.destroy()}),Ue?this._hostDomElement.insertBefore(this._getComponentRootNode(Et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Et)),Et}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let D=(()=>{class ie{_document=(0,y.f3M)(Y.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ue=this._document.createElement("div");Ue.classList.add("overlay-container"),Ue.setAttribute("aria-live","polite"),this._document.body.appendChild(Ue),this._containerElement=Ue}static \u0275fac=function(ht){return new(ht||ie)};static \u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();class G{_portalHost;constructor(Le){this._portalHost=Le}attach(Le,Ue=!0){return this._portalHost.attach(Le,Ue)}detach(){return this._portalHost.detach()}}let J=(()=>{class ie{_overlayContainer=(0,y.f3M)(D);_componentFactoryResolver=(0,y.f3M)(y._Vd);_appRef=(0,y.f3M)(y.z2F);_document=(0,y.f3M)(Y.K0);_paneElements=new Map;create(Ue,ht){return this._createOverlayRef(this.getPaneElement(Ue,ht))}getPaneElement(Ue="",ht){return this._paneElements.get(ht)||this._paneElements.set(ht,{}),this._paneElements.get(ht)[Ue]||(this._paneElements.get(ht)[Ue]=this._createPaneElement(Ue,ht)),this._paneElements.get(ht)[Ue]}_createPaneElement(Ue,ht){const Et=this._document.createElement("div");return Et.id="toast-container",Et.classList.add(Ue),Et.classList.add("toast-container"),ht?ht.getContainerElement().appendChild(Et):this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalHost(Ue){return new k(Ue,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ue){return new G(this._createPortalHost(Ue))}static \u0275fac=function(ht){return new(ht||ie)};static \u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),N=(()=>{class ie{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Ue,ht,Et,mn,bt){this.overlay=ht,this._injector=Et,this.sanitizer=mn,this.ngZone=bt,this.toastrConfig={...Ue.default,...Ue.config},Ue.config.iconClasses&&(this.toastrConfig.iconClasses={...Ue.default.iconClasses,...Ue.config.iconClasses})}show(Ue,ht,Et={},mn=""){return this._preBuildNotification(mn,Ue,ht,this.applyConfig(Et))}success(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ue,ht,this.applyConfig(Et))}error(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ue,ht,this.applyConfig(Et))}info(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ue,ht,this.applyConfig(Et))}warning(Ue,ht,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ue,ht,this.applyConfig(Et))}clear(Ue){for(const ht of this.toasts)if(void 0!==Ue){if(ht.toastId===Ue)return void ht.toastRef.manualClose()}else ht.toastRef.manualClose()}remove(Ue){const ht=this._findToast(Ue);if(!ht||(ht.activeToast.toastRef.close(),this.toasts.splice(ht.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Et=this.toasts[this.currentlyActive].toastRef;Et.isInactive()||(this.currentlyActive=this.currentlyActive+1,Et.activate())}return!0}findDuplicate(Ue="",ht="",Et,mn){const{includeTitleDuplicates:bt}=this.toastrConfig;for(const sn of this.toasts)if((!bt||bt&&sn.title===Ue)&&sn.message===ht)return sn.toastRef.onDuplicate(Et,mn),sn;return null}applyConfig(Ue={}){return{...this.toastrConfig,...Ue}}_findToast(Ue){for(let ht=0;ht<this.toasts.length;ht++)if(this.toasts[ht].toastId===Ue)return{index:ht,activeToast:this.toasts[ht]};return null}_preBuildNotification(Ue,ht,Et,mn){return mn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ue,ht,Et,mn)):this._buildNotification(Ue,ht,Et,mn)}_buildNotification(Ue,ht,Et,mn){if(!mn.toastComponent)throw new Error("toastComponent required");const bt=this.findDuplicate(Et,ht,this.toastrConfig.resetTimeoutOnDuplicate&&mn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Et||ht)&&this.toastrConfig.preventDuplicates&&null!==bt)return bt;this.previousToastMessage=ht;let sn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(sn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ft=this.overlay.create(mn.positionClass,this.overlayContainer);this.index=this.index+1;let Ut=ht;ht&&mn.enableHtml&&(Ut=this.sanitizer.sanitize(y.q3G.HTML,ht));const Xt=new je(ft),dn=new ke(this.index,mn,Ut,Et,Ue,Xt),xn=y.zs3.create({providers:[{provide:ke,useValue:dn}],parent:this._injector}),$n=new en(mn.toastComponent,xn),zn=ft.attach($n,mn.newestOnTop);Xt.componentInstance=zn.instance;const On={toastId:this.index,title:Et||"",message:ht||"",toastRef:Xt,onShown:Xt.afterActivate(),onHidden:Xt.afterClosed(),onTap:dn.onTap(),onAction:dn.onAction(),portal:zn};return sn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{On.toastRef.activate()})),this.toasts.push(On),On}static \u0275fac=function(ht){return new(ht||ie)(y.LFG(f),y.LFG(J),y.LFG(y.zs3),y.LFG(z.H7),y.LFG(y.R0b))};static \u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();const Ke={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ie{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Ue,ht,Et){this.toastrService=Ue,this.toastPackage=ht,this.ngZone=Et,this.message=ht.message,this.title=ht.title,this.options=ht.config,this.originalTimeout=ht.config.timeOut,this.toastClasses=`${ht.toastType} ${ht.config.toastClass}`,this.sub=ht.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ht.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ht.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ht.toastRef.countDuplicate().subscribe(mn=>{this.duplicatesCount=mn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ue=(new Date).getTime();this.width=(this.hideTime-Ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ue,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ue),ht)):this.timeout=setTimeout(()=>Ue(),ht)}outsideInterval(Ue,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ue),ht)):this.intervalId=setInterval(()=>Ue(),ht)}runInsideAngular(Ue){this.ngZone?this.ngZone.run(()=>Ue()):Ue()}static \u0275fac=function(ht){return new(ht||ie)(y.Y36(N),y.Y36(ke),y.Y36(y.R0b))};static \u0275cmp=y.Xpm({type:ie,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ht,Et){1&ht&&y.NdJ("click",function(){return Et.tapToast()})("mouseenter",function(){return Et.stickAround()})("mouseleave",function(){return Et.delayedHideToast()}),2&ht&&(y.d8E("@flyInOut",Et.state),y.Tol(Et.toastClasses),y.Udp("display",Et.displayStyle))},standalone:!0,features:[y.jDz],attrs:Xe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ht,Et){1&ht&&(y.YNc(0,ee,3,0,"button",0),y.YNc(1,oe,3,5,"div",1),y.YNc(2,$,1,3,"div",2),y.YNc(3,Me,2,4,"div",3),y.YNc(4,Te,2,2,"div",4)),2&ht&&(y.Q6J("ngIf",Et.options.closeButton),y.xp6(1),y.Q6J("ngIf",Et.title),y.xp6(1),y.Q6J("ngIf",Et.message&&Et.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Et.message&&!Et.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Et.options.progressBar))},dependencies:[Y.O5],encapsulation:2,data:{animation:[(0,T.X$)("flyInOut",[(0,T.SB)("inactive",(0,T.oB)({opacity:0})),(0,T.SB)("active",(0,T.oB)({opacity:1})),(0,T.SB)("removed",(0,T.oB)({opacity:0})),(0,T.eR)("inactive => active",(0,T.jt)("{{ easeTime }}ms {{ easing }}")),(0,T.eR)("active => removed",(0,T.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return ie})()},Tn=(ie={})=>(0,y.MR2)([{provide:f,useValue:{default:Ke,config:ie}}]);let He=(()=>{class ie{static forRoot(Ue={}){return{ngModule:ie,providers:[Tn(Ue)]}}static \u0275fac=function(ht){return new(ht||ie)};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({})}return ie})()},15861:(Nn,nt,F)=>{"use strict";function y(Y,Pe,z,Xe,ee,Ge,oe){try{var $=Y[Ge](oe),Me=$.value}catch(Te){return void z(Te)}$.done?Pe(Me):Promise.resolve(Me).then(Xe,ee)}function T(Y){return function(){var Pe=this,z=arguments;return new Promise(function(Xe,ee){var Ge=Y.apply(Pe,z);function oe(Me){y(Ge,Xe,ee,oe,$,"next",Me)}function $(Me){y(Ge,Xe,ee,oe,$,"throw",Me)}oe(void 0)})}}F.d(nt,{Z:()=>T})},97582:(Nn,nt,F)=>{"use strict";function z(at,te,ce,ie){var ht,Le=arguments.length,Ue=Le<3?te:null===ie?ie=Object.getOwnPropertyDescriptor(te,ce):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(at,te,ce,ie);else for(var Et=at.length-1;Et>=0;Et--)(ht=at[Et])&&(Ue=(Le<3?ht(Ue):Le>3?ht(te,ce,Ue):ht(te,ce))||Ue);return Le>3&&Ue&&Object.defineProperty(te,ce,Ue),Ue}function Te(at,te,ce,ie){return new(ce||(ce=Promise))(function(Ue,ht){function Et(sn){try{bt(ie.next(sn))}catch(ft){ht(ft)}}function mn(sn){try{bt(ie.throw(sn))}catch(ft){ht(ft)}}function bt(sn){sn.done?Ue(sn.value):function Le(Ue){return Ue instanceof ce?Ue:new ce(function(ht){ht(Ue)})}(sn.value).then(Et,mn)}bt((ie=ie.apply(at,te||[])).next())})}function Ot(at){return this instanceof Ot?(this.v=at,this):new Ot(at)}function je(at,te,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ie=ce.apply(at,te||[]),Ue=[];return Le={},ht("next"),ht("throw"),ht("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function ht(Ut){ie[Ut]&&(Le[Ut]=function(Xt){return new Promise(function(dn,Bn){Ue.push([Ut,Xt,dn,Bn])>1||Et(Ut,Xt)})})}function Et(Ut,Xt){try{!function mn(Ut){Ut.value instanceof Ot?Promise.resolve(Ut.value.v).then(bt,sn):ft(Ue[0][2],Ut)}(ie[Ut](Xt))}catch(dn){ft(Ue[0][3],dn)}}function bt(Ut){Et("next",Ut)}function sn(Ut){Et("throw",Ut)}function ft(Ut,Xt){Ut(Xt),Ue.shift(),Ue.length&&Et(Ue[0][0],Ue[0][1])}}function et(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,te=at[Symbol.asyncIterator];return te?te.call(at):(at=function zt(at){var te="function"==typeof Symbol&&Symbol.iterator,ce=te&&at[te],ie=0;if(ce)return ce.call(at);if(at&&"number"==typeof at.length)return{next:function(){return at&&ie>=at.length&&(at=void 0),{value:at&&at[ie++],done:!at}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(at),ce={},ie("next"),ie("throw"),ie("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function ie(Ue){ce[Ue]=at[Ue]&&function(ht){return new Promise(function(Et,mn){!function Le(Ue,ht,Et,mn){Promise.resolve(mn).then(function(bt){Ue({value:bt,done:Et})},ht)}(Et,mn,(ht=at[Ue](ht)).done,ht.value)})}}}F.d(nt,{FC:()=>je,KL:()=>et,gn:()=>z,mG:()=>Te,qq:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError}},Nn=>{Nn(Nn.s=50336)}]);